(self.webpackChunksap_calculator=self.webpackChunksap_calculator||[]).push([[179],{255:mi=>{function Zn(pr){return Promise.resolve().then(()=>{var Yn=new Error("Cannot find module '"+pr+"'");throw Yn.code="MODULE_NOT_FOUND",Yn})}Zn.keys=()=>[],Zn.resolve=Zn,Zn.id=255,mi.exports=Zn},815:function(mi,Zn,pr){var Yn;mi=pr.nmd(mi),function(){var T,cn="Expected a function",Df="__lodash_hash_undefined__",je="__lodash_placeholder__",mr=1/0,as=9007199254740991,Nn=4294967295,tv=[["ary",128],["bind",1],["bindKey",2],["curry",8],["curryRight",16],["flip",512],["partial",32],["partialRight",64],["rearg",256]],yr="[object Arguments]",Jo="[object Array]",Xo="[object Boolean]",ea="[object Date]",Sl="[object Error]",El="[object Function]",xf="[object GeneratorFunction]",bi="[object Map]",Hs="[object Number]",qs="[object Object]",ta="[object Promise]",Us="[object RegExp]",Xn="[object Set]",na="[object String]",Cl="[object Symbol]",no="[object WeakMap]",vr="[object ArrayBuffer]",_r="[object DataView]",Cu="[object Float32Array]",Du="[object Float64Array]",Pu="[object Int8Array]",ku="[object Int16Array]",Au="[object Int32Array]",If="[object Uint8Array]",Tu="[object Uint8ClampedArray]",xu="[object Uint16Array]",Mu="[object Uint32Array]",nv=/\b__p \+= '';/g,iv=/\b(__p \+=) '' \+/g,Ke=/(__e\(.*?\)|\b__t\)) \+\n'';/g,Dl=/&(?:amp|lt|gt|quot|#39);/g,Pe=/[&<>"']/g,Iu=RegExp(Dl.source),sv=RegExp(Pe.source),st=/<%-([\s\S]+?)%>/g,ie=/<%([\s\S]+?)%>/g,Ou=/<%=([\s\S]+?)%>/g,Tk=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Gs=/^\w*$/,xk=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,ia=/[\\^$.*+?()[\]{}|]/g,ye=RegExp(ia.source),en=/^\s+/,rv=/\s/,Mk=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,Ik=/\{\n\/\* \[wrapped with (.+)\] \*/,Pl=/,? & /,Ln=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,Ok=/[()=,{}\[\]\/\s]/,ov=/\\(\\)?/g,Rk=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,Ni=/\w*$/,Nk=/^[-+]0x[0-9a-f]+$/i,Lk=/^0b[01]+$/i,Fk=/^\[object .+?Constructor\]$/,Vk=/^0o[0-7]+$/i,av=/^(?:0|[1-9]\d*)$/,Bk=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,kl=/($^)/,$k=/['\n\r\u2028\u2029\\]/g,un="\\ud800-\\udfff",lv="\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff",ne="\\u2700-\\u27bf",cv="a-z\\xdf-\\xf6\\xf8-\\xff",Rf="A-Z\\xc0-\\xd6\\xd8-\\xde",Ru="\\ufe0e\\ufe0f",sa="\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",Nf="["+un+"]",Lf="["+sa+"]",re="["+lv+"]",Al="\\d+",hv="["+ne+"]",cs="["+cv+"]",Nu="[^"+un+sa+Al+ne+cv+Rf+"]",Ff="\\ud83c[\\udffb-\\udfff]",Fn="[^"+un+"]",Vf="(?:\\ud83c[\\udde6-\\uddff]){2}",Bf="[\\ud800-\\udbff][\\udc00-\\udfff]",pt="["+Rf+"]",Hf="(?:"+cs+"|"+Nu+")",dv="(?:"+pt+"|"+Nu+")",fv="(?:['\u2019](?:d|ll|m|re|s|t|ve))?",Qe="(?:['\u2019](?:D|LL|M|RE|S|T|VE))?",pv="(?:"+re+"|"+Ff+")?",gv="["+Ru+"]?",xl=gv+pv+"(?:\\u200d(?:"+[Fn,Vf,Bf].join("|")+")"+gv+pv+")*",Lu="(?:"+[hv,Vf,Bf].join("|")+")"+xl,qf="(?:"+[Fn+re+"?",re,Vf,Bf,Nf].join("|")+")",mv=RegExp("['\u2019]","g"),us=RegExp(re,"g"),br=RegExp(Ff+"(?="+Ff+")|"+qf+xl,"g"),yv=RegExp([pt+"?"+cs+"+"+fv+"(?="+[Lf,pt,"$"].join("|")+")",dv+"+"+Qe+"(?="+[Lf,pt+Hf,"$"].join("|")+")",pt+"?"+Hf+"+"+fv,pt+"+"+Qe,"\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])","\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",Al,Lu].join("|"),"g"),Sr=RegExp("[\\u200d"+un+lv+Ru+"]"),vv=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,Uf=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],Gf=-1,lt={};lt[Cu]=lt[Du]=lt[Pu]=lt[ku]=lt[Au]=lt[If]=lt[Tu]=lt[xu]=lt[Mu]=!0,lt[yr]=lt[Jo]=lt[vr]=lt[Xo]=lt[_r]=lt[ea]=lt[Sl]=lt[El]=lt[bi]=lt[Hs]=lt[qs]=lt[Us]=lt[Xn]=lt[na]=lt[no]=!1;var Se={};Se[yr]=Se[Jo]=Se[vr]=Se[_r]=Se[Xo]=Se[ea]=Se[Cu]=Se[Du]=Se[Pu]=Se[ku]=Se[Au]=Se[bi]=Se[Hs]=Se[qs]=Se[Us]=Se[Xn]=Se[na]=Se[Cl]=Se[If]=Se[Tu]=Se[xu]=Se[Mu]=!0,Se[Sl]=Se[El]=Se[no]=!1;var Pn={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},hn=parseFloat,Ws=parseInt,zs="object"==typeof global&&global&&global.Object===Object&&global,ei="object"==typeof self&&self&&self.Object===Object&&self,tn=zs||ei||Function("return this")(),Vn=Zn&&!Zn.nodeType&&Zn,W=Vn&&mi&&!mi.nodeType&&mi,Ae=W&&W.exports===Vn,ct=Ae&&zs.process,mt=function(){try{return W&&W.require&&W.require("util").types||ct&&ct.binding&&ct.binding("util")}catch($){}}(),Ks=mt&&mt.isArrayBuffer,qt=mt&&mt.isDate,Qs=mt&&mt.isMap,St=mt&&mt.isRegExp,so=mt&&mt.isSet,Er=mt&&mt.isTypedArray;function se(I,$,N){switch(N.length){case 0:return I.call($);case 1:return I.call($,N[0]);case 2:return I.call($,N[0],N[1]);case 3:return I.call($,N[0],N[1],N[2])}return I.apply($,N)}function Ml(I,$,N,Y){for(var ve=-1,Ge=null==I?0:I.length;++ve<Ge;){var Kt=I[ve];$(Y,Kt,N(Kt),I)}return Y}function nn(I,$){for(var N=-1,Y=null==I?0:I.length;++N<Y&&!1!==$(I[N],N,I););return I}function Fu(I,$){for(var N=null==I?0:I.length;N--&&!1!==$(I[N],N,I););return I}function wr(I,$){for(var N=-1,Y=null==I?0:I.length;++N<Y;)if(!$(I[N],N,I))return!1;return!0}function At(I,$){for(var N=-1,Y=null==I?0:I.length,ve=0,Ge=[];++N<Y;){var Kt=I[N];$(Kt,N,I)&&(Ge[ve++]=Kt)}return Ge}function Zs(I,$){return!(null==I||!I.length)&&oo(I,$,0)>-1}function Ys(I,$,N){for(var Y=-1,ve=null==I?0:I.length;++Y<ve;)if(N($,I[Y]))return!0;return!1}function He(I,$){for(var N=-1,Y=null==I?0:I.length,ve=Array(Y);++N<Y;)ve[N]=$(I[N],N,I);return ve}function Ue(I,$){for(var N=-1,Y=$.length,ve=I.length;++N<Y;)I[ve+N]=$[N];return I}function Vu(I,$,N,Y){var ve=-1,Ge=null==I?0:I.length;for(Y&&Ge&&(N=I[++ve]);++ve<Ge;)N=$(N,I[ve],ve,I);return N}function bv(I,$,N,Y){var ve=null==I?0:I.length;for(Y&&ve&&(N=I[--ve]);ve--;)N=$(N,I[ve],ve,I);return N}function ro(I,$){for(var N=-1,Y=null==I?0:I.length;++N<Y;)if($(I[N],N,I))return!0;return!1}var Bu=ao("length");function Js(I,$,N){var Y;return N(I,function(ve,Ge,Kt){if($(ve,Ge,Kt))return Y=Ge,!1}),Y}function Ut(I,$,N,Y){for(var ve=I.length,Ge=N+(Y?1:-1);Y?Ge--:++Ge<ve;)if($(I[Ge],Ge,I))return Ge;return-1}function oo(I,$,N){return $==$?function(I,$,N){for(var Y=N-1,ve=I.length;++Y<ve;)if(I[Y]===$)return Y;return-1}(I,$,N):Ut(I,ti,N)}function Li(I,$,N,Y){for(var ve=N-1,Ge=I.length;++ve<Ge;)if(Y(I[ve],$))return ve;return-1}function ti(I){return I!=I}function Ol(I,$){var N=null==I?0:I.length;return N?Wf(I,$)/N:NaN}function ao(I){return function($){return null==$?T:$[I]}}function lo(I){return function($){return null==I?T:I[$]}}function ni(I,$,N,Y,ve){return ve(I,function(Ge,Kt,de){N=Y?(Y=!1,Ge):$(N,Ge,Kt,de)}),N}function Wf(I,$){for(var N,Y=-1,ve=I.length;++Y<ve;){var Ge=$(I[Y]);Ge!==T&&(N=N===T?Ge:N+Ge)}return N}function $u(I,$){for(var N=-1,Y=Array(I);++N<I;)Y[N]=$(N);return Y}function wv(I){return I&&I.slice(0,Qf(I)+1).replace(en,"")}function ii(I){return function($){return I($)}}function zf(I,$){return He($,function(N){return I[N]})}function Rl(I,$){return I.has($)}function Cv(I,$){for(var N=-1,Y=I.length;++N<Y&&oo($,I[N],0)>-1;);return N}function Dv(I,$){for(var N=I.length;N--&&oo($,I[N],0)>-1;);return N}function Uk(I,$){for(var N=I.length,Y=0;N--;)I[N]===$&&++Y;return Y}var Gk=lo({\u00c0:"A",\u00c1:"A",\u00c2:"A",\u00c3:"A",\u00c4:"A",\u00c5:"A",\u00e0:"a",\u00e1:"a",\u00e2:"a",\u00e3:"a",\u00e4:"a",\u00e5:"a",\u00c7:"C",\u00e7:"c",\u00d0:"D",\u00f0:"d",\u00c8:"E",\u00c9:"E",\u00ca:"E",\u00cb:"E",\u00e8:"e",\u00e9:"e",\u00ea:"e",\u00eb:"e",\u00cc:"I",\u00cd:"I",\u00ce:"I",\u00cf:"I",\u00ec:"i",\u00ed:"i",\u00ee:"i",\u00ef:"i",\u00d1:"N",\u00f1:"n",\u00d2:"O",\u00d3:"O",\u00d4:"O",\u00d5:"O",\u00d6:"O",\u00d8:"O",\u00f2:"o",\u00f3:"o",\u00f4:"o",\u00f5:"o",\u00f6:"o",\u00f8:"o",\u00d9:"U",\u00da:"U",\u00db:"U",\u00dc:"U",\u00f9:"u",\u00fa:"u",\u00fb:"u",\u00fc:"u",\u00dd:"Y",\u00fd:"y",\u00ff:"y",\u00c6:"Ae",\u00e6:"ae",\u00de:"Th",\u00fe:"th",\u00df:"ss",\u0100:"A",\u0102:"A",\u0104:"A",\u0101:"a",\u0103:"a",\u0105:"a",\u0106:"C",\u0108:"C",\u010a:"C",\u010c:"C",\u0107:"c",\u0109:"c",\u010b:"c",\u010d:"c",\u010e:"D",\u0110:"D",\u010f:"d",\u0111:"d",\u0112:"E",\u0114:"E",\u0116:"E",\u0118:"E",\u011a:"E",\u0113:"e",\u0115:"e",\u0117:"e",\u0119:"e",\u011b:"e",\u011c:"G",\u011e:"G",\u0120:"G",\u0122:"G",\u011d:"g",\u011f:"g",\u0121:"g",\u0123:"g",\u0124:"H",\u0126:"H",\u0125:"h",\u0127:"h",\u0128:"I",\u012a:"I",\u012c:"I",\u012e:"I",\u0130:"I",\u0129:"i",\u012b:"i",\u012d:"i",\u012f:"i",\u0131:"i",\u0134:"J",\u0135:"j",\u0136:"K",\u0137:"k",\u0138:"k",\u0139:"L",\u013b:"L",\u013d:"L",\u013f:"L",\u0141:"L",\u013a:"l",\u013c:"l",\u013e:"l",\u0140:"l",\u0142:"l",\u0143:"N",\u0145:"N",\u0147:"N",\u014a:"N",\u0144:"n",\u0146:"n",\u0148:"n",\u014b:"n",\u014c:"O",\u014e:"O",\u0150:"O",\u014d:"o",\u014f:"o",\u0151:"o",\u0154:"R",\u0156:"R",\u0158:"R",\u0155:"r",\u0157:"r",\u0159:"r",\u015a:"S",\u015c:"S",\u015e:"S",\u0160:"S",\u015b:"s",\u015d:"s",\u015f:"s",\u0161:"s",\u0162:"T",\u0164:"T",\u0166:"T",\u0163:"t",\u0165:"t",\u0167:"t",\u0168:"U",\u016a:"U",\u016c:"U",\u016e:"U",\u0170:"U",\u0172:"U",\u0169:"u",\u016b:"u",\u016d:"u",\u016f:"u",\u0171:"u",\u0173:"u",\u0174:"W",\u0175:"w",\u0176:"Y",\u0177:"y",\u0178:"Y",\u0179:"Z",\u017b:"Z",\u017d:"Z",\u017a:"z",\u017c:"z",\u017e:"z",\u0132:"IJ",\u0133:"ij",\u0152:"Oe",\u0153:"oe",\u0149:"'n",\u017f:"s"}),jk=lo({"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"});function Wk(I){return"\\"+Pn[I]}function aa(I){return Sr.test(I)}function Nl(I){var $=-1,N=Array(I.size);return I.forEach(function(Y,ve){N[++$]=[ve,Y]}),N}function Ll(I,$){return function(N){return I($(N))}}function Cr(I,$){for(var N=-1,Y=I.length,ve=0,Ge=[];++N<Y;){var Kt=I[N];(Kt===$||Kt===je)&&(I[N]=je,Ge[ve++]=N)}return Ge}function Hu(I){var $=-1,N=Array(I.size);return I.forEach(function(Y){N[++$]=Y}),N}function xt(I){return aa(I)?function(I){for(var $=br.lastIndex=0;br.test(I);)++$;return $}(I):Bu(I)}function si(I){return aa(I)?function(I){return I.match(br)||[]}(I):function(I){return I.split("")}(I)}function Qf(I){for(var $=I.length;$--&&rv.test(I.charAt($)););return $}var Pv=lo({"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"}),Fl=function I($){var l,N=($=null==$?tn:Fl.defaults(tn.Object(),$,Fl.pick(tn,Uf))).Array,Y=$.Date,ve=$.Error,Ge=$.Function,Kt=$.Math,de=$.Object,Jf=$.RegExp,Xf=$.String,ri=$.TypeError,Et=N.prototype,la=de.prototype,Pr=$["__core-js_shared__"],dn=Ge.prototype.toString,Je=la.hasOwnProperty,Uu=0,kr=(l=/[^.]+$/.exec(Pr&&Pr.keys&&Pr.keys.IE_PROTO||""))?"Symbol(src)_1."+l:"",fn=la.toString,ep=dn.call(de),Gu=tn._,Tv=Jf("^"+dn.call(Je).replace(ia,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Si=Ae?$.Buffer:T,hs=$.Symbol,co=$.Uint8Array,fe=Si?Si.allocUnsafe:T,ju=Ll(de.getPrototypeOf,de),tp=de.create,np=la.propertyIsEnumerable,Vl=Et.splice,Wu=hs?hs.isConcatSpreadable:T,ca=hs?hs.iterator:T,Ar=hs?hs.toStringTag:T,U=function(){try{var l=vs(de,"defineProperty");return l({},"",{}),l}catch(c){}}(),qe=$.clearTimeout!==tn.clearTimeout&&$.clearTimeout,ua=Y&&Y.now!==tn.Date.now&&Y.now,Gt=$.setTimeout!==tn.setTimeout&&$.setTimeout,ha=Kt.ceil,Xs=Kt.floor,oi=de.getOwnPropertySymbols,zu=Si?Si.isBuffer:T,Bl=$.isFinite,Yk=Et.join,xv=Ll(de.keys,de),Tt=Kt.max,jt=Kt.min,En=Y.now,Fi=$.parseInt,Ku=Kt.random,uo=Et.reverse,Ei=vs($,"DataView"),da=vs($,"Map"),$l=vs($,"Promise"),ho=vs($,"Set"),fa=vs($,"WeakMap"),Tr=vs(de,"create"),fo=fa&&new fa,xr={},Qu=bs(Ei),Mv=bs(da),ip=bs($l),Hl=bs(ho),sp=bs(fa),pa=hs?hs.prototype:T,po=pa?pa.valueOf:T,Zu=pa?pa.toString:T;function _(l){if(It(l)&&!_e(l)&&!(l instanceof Ee)){if(l instanceof ut)return l;if(Je.call(l,"__wrapped__"))return La(l)}return new ut(l)}var go=function(){function l(){}return function(c){if(!yt(c))return{};if(tp)return tp(c);l.prototype=c;var h=new l;return l.prototype=T,h}}();function ql(){}function ut(l,c){this.__wrapped__=l,this.__actions__=[],this.__chain__=!!c,this.__index__=0,this.__values__=T}function Ee(l){this.__wrapped__=l,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=Nn,this.__views__=[]}function ds(l){var c=-1,h=null==l?0:l.length;for(this.clear();++c<h;){var p=l[c];this.set(p[0],p[1])}}function ai(l){var c=-1,h=null==l?0:l.length;for(this.clear();++c<h;){var p=l[c];this.set(p[0],p[1])}}function fs(l){var c=-1,h=null==l?0:l.length;for(this.clear();++c<h;){var p=l[c];this.set(p[0],p[1])}}function mo(l){var c=-1,h=null==l?0:l.length;for(this.__data__=new fs;++c<h;)this.add(l[c])}function li(l){var c=this.__data__=new ai(l);this.size=c.size}function lp(l,c){var h=_e(l),p=!h&&rn(l),y=!h&&!p&&Ss(l),b=!h&&!p&&!y&&Ga(l),P=h||p||y||b,M=P?$u(l.length,Xf):[],O=M.length;for(var H in l)(c||Je.call(l,H))&&(!P||!("length"==H||y&&("offset"==H||"parent"==H)||b&&("buffer"==H||"byteLength"==H||"byteOffset"==H)||Hi(H,O)))&&M.push(H);return M}function Mr(l){var c=l.length;return c?l[oh(0,c-1)]:T}function th(l,c){return Na(Ct(l),Vi(c,0,l.length))}function zl(l){return Na(Ct(l))}function cp(l,c,h){(h!==T&&!X(l[c],h)||h===T&&!(c in l))&&wi(l,c,h)}function vo(l,c,h){var p=l[c];(!Je.call(l,c)||!X(p,h)||h===T&&!(c in l))&&wi(l,c,h)}function ya(l,c){for(var h=l.length;h--;)if(X(l[h][0],c))return h;return-1}function $v(l,c,h,p){return ps(l,function(y,b,P){c(p,y,h(y),P)}),p}function up(l,c){return l&&qn(c,Wt(c),l)}function wi(l,c,h){"__proto__"==c&&U?U(l,c,{configurable:!0,enumerable:!0,value:h,writable:!0}):l[c]=h}function _a(l,c){for(var h=-1,p=c.length,y=N(p),b=null==l;++h<p;)y[h]=b?T:za(l,c[h]);return y}function Vi(l,c,h){return l==l&&(h!==T&&(l=l<=h?l:h),c!==T&&(l=l>=c?l:c)),l}function wn(l,c,h,p,y,b){var P,M=1&c,O=2&c,H=4&c;if(h&&(P=y?h(l,p,y,b):h(l)),P!==T)return P;if(!yt(l))return l;var q=_e(l);if(q){if(P=function(l){var c=l.length,h=new l.constructor(c);return c&&"string"==typeof l[0]&&Je.call(l,"index")&&(h.index=l.index,h.input=l.input),h}(l),!M)return Ct(l,P)}else{var G=Vt(l),z=G==El||G==xf;if(Ss(l))return V(l,M);if(G==qs||G==yr||z&&!y){if(P=O||z?{}:Ch(l),!M)return O?function(l,c){return qn(l,Eh(l),c)}(l,function(l,c){return l&&qn(c,Dn(c),l)}(P,l)):function(l,c){return qn(l,Sh(l),c)}(l,up(P,l))}else{if(!Se[G])return y?l:{};P=function(l,c,h){var p=l.constructor;switch(c){case vr:return nc(l);case Xo:case ea:return new p(+l);case _r:return function(l,c){var h=c?nc(l.buffer):l.buffer;return new l.constructor(h,l.byteOffset,l.byteLength)}(l,h);case Cu:case Du:case Pu:case ku:case Au:case If:case Tu:case xu:case Mu:return Dp(l,h);case bi:return new p;case Hs:case na:return new p(l);case Us:return function(l){var c=new l.constructor(l.source,Ni.exec(l));return c.lastIndex=l.lastIndex,c}(l);case Xn:return new p;case Cl:return function(l){return po?de(po.call(l)):{}}(l)}}(l,G,M)}}b||(b=new li);var te=b.get(l);if(te)return te;b.set(l,P),cb(l)?l.forEach(function(ae){P.add(wn(ae,c,h,ae,l,b))}):_g(l)&&l.forEach(function(ae,Ne){P.set(Ne,wn(ae,c,h,Ne,l,b))});var Te=q?T:(H?O?ac:yh:O?Dn:Wt)(l);return nn(Te||l,function(ae,Ne){Te&&(ae=l[Ne=ae]),vo(P,Ne,wn(ae,c,h,Ne,l,b))}),P}function nh(l,c,h){var p=h.length;if(null==l)return!p;for(l=de(l);p--;){var y=h[p],P=l[y];if(P===T&&!(y in l)||!(0,c[y])(P))return!1}return!0}function ih(l,c,h){if("function"!=typeof l)throw new ri(cn);return Po(function(){l.apply(T,h)},c)}function _o(l,c,h,p){var y=-1,b=Zs,P=!0,M=l.length,O=[],H=c.length;if(!M)return O;h&&(c=He(c,ii(h))),p?(b=Ys,P=!1):c.length>=200&&(b=Rl,P=!1,c=new mo(c));e:for(;++y<M;){var q=l[y],G=null==h?q:h(q);if(q=p||0!==q?q:0,P&&G==G){for(var z=H;z--;)if(c[z]===G)continue e;O.push(q)}else b(c,G,p)||O.push(q)}return O}_.templateSettings={escape:st,evaluate:ie,interpolate:Ou,variable:"",imports:{_}},(_.prototype=ql.prototype).constructor=_,(ut.prototype=go(ql.prototype)).constructor=ut,(Ee.prototype=go(ql.prototype)).constructor=Ee,ds.prototype.clear=function(){this.__data__=Tr?Tr(null):{},this.size=0},ds.prototype.delete=function(l){var c=this.has(l)&&delete this.__data__[l];return this.size-=c?1:0,c},ds.prototype.get=function(l){var c=this.__data__;if(Tr){var h=c[l];return h===Df?T:h}return Je.call(c,l)?c[l]:T},ds.prototype.has=function(l){var c=this.__data__;return Tr?c[l]!==T:Je.call(c,l)},ds.prototype.set=function(l,c){var h=this.__data__;return this.size+=this.has(l)?0:1,h[l]=Tr&&c===T?Df:c,this},ai.prototype.clear=function(){this.__data__=[],this.size=0},ai.prototype.delete=function(l){var c=this.__data__,h=ya(c,l);return!(h<0||(h==c.length-1?c.pop():Vl.call(c,h,1),--this.size,0))},ai.prototype.get=function(l){var c=this.__data__,h=ya(c,l);return h<0?T:c[h][1]},ai.prototype.has=function(l){return ya(this.__data__,l)>-1},ai.prototype.set=function(l,c){var h=this.__data__,p=ya(h,l);return p<0?(++this.size,h.push([l,c])):h[p][1]=c,this},fs.prototype.clear=function(){this.size=0,this.__data__={hash:new ds,map:new(da||ai),string:new ds}},fs.prototype.delete=function(l){var c=lc(this,l).delete(l);return this.size-=c?1:0,c},fs.prototype.get=function(l){return lc(this,l).get(l)},fs.prototype.has=function(l){return lc(this,l).has(l)},fs.prototype.set=function(l,c){var h=lc(this,l),p=h.size;return h.set(l,c),this.size+=h.size==p?0:1,this},mo.prototype.add=mo.prototype.push=function(l){return this.__data__.set(l,Df),this},mo.prototype.has=function(l){return this.__data__.has(l)},li.prototype.clear=function(){this.__data__=new ai,this.size=0},li.prototype.delete=function(l){var c=this.__data__,h=c.delete(l);return this.size=c.size,h},li.prototype.get=function(l){return this.__data__.get(l)},li.prototype.has=function(l){return this.__data__.has(l)},li.prototype.set=function(l,c){var h=this.__data__;if(h instanceof ai){var p=h.__data__;if(!da||p.length<199)return p.push([l,c]),this.size=++h.size,this;h=this.__data__=new fs(p)}return h.set(l,c),this.size=h.size,this};var ps=Aa(Mt),hp=Aa(Sa,!0);function qv(l,c){var h=!0;return ps(l,function(p,y,b){return h=!!c(p,y,b)}),h}function Ir(l,c,h){for(var p=-1,y=l.length;++p<y;){var b=l[p],P=c(b);if(null!=P&&(M===T?P==P&&!di(P):h(P,M)))var M=P,O=b}return O}function dp(l,c){var h=[];return ps(l,function(p,y,b){c(p,y,b)&&h.push(p)}),h}function Qt(l,c,h,p,y){var b=-1,P=l.length;for(h||(h=Dh),y||(y=[]);++b<P;){var M=l[b];c>0&&h(M)?c>1?Qt(M,c-1,h,p,y):Ue(y,M):p||(y[y.length]=M)}return y}var Kl=hh(),Or=hh(!0);function Mt(l,c){return l&&Kl(l,c,Wt)}function Sa(l,c){return l&&Or(l,c,Wt)}function bo(l,c){return At(c,function(h){return Ti(l[h])})}function ci(l,c){for(var h=0,p=(c=$i(c,l)).length;null!=l&&h<p;)l=l[Pi(c[h++])];return h&&h==p?l:T}function Rr(l,c,h){var p=c(l);return _e(l)?p:Ue(p,h(l))}function Lt(l){return null==l?l===T?"[object Undefined]":"[object Null]":Ar&&Ar in de(l)?function(l){var c=Je.call(l,Ar),h=l[Ar];try{l[Ar]=T;var p=!0}catch(b){}var y=fn.call(l);return p&&(c?l[Ar]=h:delete l[Ar]),y}(l):function(l){return fn.call(l)}(l)}function Nr(l,c){return l>c}function sh(l,c){return null!=l&&Je.call(l,c)}function Lr(l,c){return null!=l&&c in de(l)}function fp(l,c,h){for(var p=h?Ys:Zs,y=l[0].length,b=l.length,P=b,M=N(b),O=1/0,H=[];P--;){var q=l[P];P&&c&&(q=He(q,ii(c))),O=jt(q.length,O),M[P]=!h&&(c||y>=120&&q.length>=120)?new mo(P&&q):T}q=l[0];var G=-1,z=M[0];e:for(;++G<y&&H.length<O;){var te=q[G],ue=c?c(te):te;if(te=h||0!==te?te:0,!(z?Rl(z,ue):p(H,ue,h))){for(P=b;--P;){var Te=M[P];if(!(Te?Rl(Te,ue):p(l[P],ue,h)))continue e}z&&z.push(ue),H.push(te)}}return H}function Ql(l,c,h){var p=null==(l=xh(l,c=$i(c,l)))?l:l[Pi(Zt(c))];return null==p?T:se(p,l,h)}function pp(l){return It(l)&&Lt(l)==yr}function So(l,c,h,p,y){return l===c||(null==l||null==c||!It(l)&&!It(c)?l!=l&&c!=c:function(l,c,h,p,y,b){var P=_e(l),M=_e(c),O=P?Jo:Vt(l),H=M?Jo:Vt(c),q=(O=O==yr?qs:O)==qs,G=(H=H==yr?qs:H)==qs,z=O==H;if(z&&Ss(l)){if(!Ss(c))return!1;P=!0,q=!1}if(z&&!q)return b||(b=new li),P||Ga(l)?sn(l,c,h,p,y,b):function(l,c,h,p,y,b,P){switch(h){case _r:if(l.byteLength!=c.byteLength||l.byteOffset!=c.byteOffset)return!1;l=l.buffer,c=c.buffer;case vr:return!(l.byteLength!=c.byteLength||!b(new co(l),new co(c)));case Xo:case ea:case Hs:return X(+l,+c);case Sl:return l.name==c.name&&l.message==c.message;case Us:case na:return l==c+"";case bi:var M=Nl;case Xn:if(M||(M=Hu),l.size!=c.size&&!(1&p))return!1;var H=P.get(l);if(H)return H==c;p|=2,P.set(l,c);var q=sn(M(l),M(c),p,y,b,P);return P.delete(l),q;case Cl:if(po)return po.call(l)==po.call(c)}return!1}(l,c,O,h,p,y,b);if(!(1&h)){var te=q&&Je.call(l,"__wrapped__"),ue=G&&Je.call(c,"__wrapped__");if(te||ue){var Te=te?l.value():l,ae=ue?c.value():c;return b||(b=new li),y(Te,ae,h,p,b)}}return!!z&&(b||(b=new li),function(l,c,h,p,y,b){var P=1&h,M=yh(l),O=M.length;if(O!=yh(c).length&&!P)return!1;for(var G=O;G--;){var z=M[G];if(!(P?z in c:Je.call(c,z)))return!1}var te=b.get(l),ue=b.get(c);if(te&&ue)return te==c&&ue==l;var Te=!0;b.set(l,c),b.set(c,l);for(var ae=P;++G<O;){var Ne=l[z=M[G]],Le=c[z];if(p)var kn=P?p(Le,Ne,z,c,l,b):p(Ne,Le,z,l,c,b);if(!(kn===T?Ne===Le||y(Ne,Le,h,p,b):kn)){Te=!1;break}ae||(ae="constructor"==z)}if(Te&&!ae){var An=l.constructor,Pt=c.constructor;An!=Pt&&"constructor"in l&&"constructor"in c&&!("function"==typeof An&&An instanceof An&&"function"==typeof Pt&&Pt instanceof Pt)&&(Te=!1)}return b.delete(l),b.delete(c),Te}(l,c,h,p,y,b))}(l,c,h,p,So,y))}function gp(l,c,h,p){var y=h.length,b=y,P=!p;if(null==l)return!b;for(l=de(l);y--;){var M=h[y];if(P&&M[2]?M[1]!==l[M[0]]:!(M[0]in l))return!1}for(;++y<b;){var O=(M=h[y])[0],H=l[O],q=M[1];if(P&&M[2]){if(H===T&&!(O in l))return!1}else{var G=new li;if(p)var z=p(H,q,O,l,c,G);if(!(z===T?So(q,H,3,p,G):z))return!1}}return!0}function Gv(l){return!(!yt(l)||function(l){return!!kr&&kr in l}(l))&&(Ti(l)?Tv:Fk).test(bs(l))}function jv(l){return"function"==typeof l?l:null==l?Yt:"object"==typeof l?_e(l)?wa(l[0],l[1]):Zl(l):fd(l)}function mp(l){if(!Oa(l))return xv(l);var c=[];for(var h in de(l))Je.call(l,h)&&"constructor"!=h&&c.push(h);return c}function yp(l,c){return l<c}function Ft(l,c){var h=-1,p=mn(l)?N(l.length):[];return ps(l,function(y,b,P){p[++h]=c(y,b,P)}),p}function Zl(l){var c=_h(l);return 1==c.length&&c[0][2]?kh(c[0][0],c[0][1]):function(h){return h===l||gp(h,l,c)}}function wa(l,c){return Ia(l)&&Ip(c)?kh(Pi(l),c):function(h){var p=za(h,l);return p===T&&p===c?Mo(h,l):So(c,p,3)}}function rh(l,c,h,p,y){l!==c&&Kl(c,function(b,P){if(y||(y=new li),yt(b))!function(l,c,h,p,y,b,P){var M=_s(l,h),O=_s(c,h),H=P.get(O);if(H)cp(l,h,H);else{var q=b?b(M,O,h+"",l,c,P):T,G=q===T;if(G){var z=_e(O),te=!z&&Ss(O),ue=!z&&!te&&Ga(O);q=O,z||te||ue?_e(M)?q=M:Xe(M)?q=Ct(M):te?(G=!1,q=V(O,!0)):ue?(G=!1,q=Dp(O,!0)):q=[]:_c(O)||rn(O)?(q=M,rn(M)?q=ws(M):(!yt(M)||Ti(M))&&(q=Ch(O))):G=!1}G&&(P.set(O,q),y(q,O,p,b,P),P.delete(O)),cp(l,h,q)}}(l,c,P,h,rh,p,y);else{var M=p?p(_s(l,P),b,P+"",l,c,y):T;M===T&&(M=b),cp(l,P,M)}},Dn)}function Bn(l,c){var h=l.length;if(h)return Hi(c+=c<0?h:0,h)?l[c]:T}function Ci(l,c,h){c=c.length?He(c,function(b){return _e(b)?function(P){return ci(P,1===b.length?b[0]:b)}:b}):[Yt];var p=-1;return c=He(c,ii(oe())),function(I,$){var N=I.length;for(I.sort(function(b,P){return function(l,c,h){for(var p=-1,y=l.criteria,b=c.criteria,P=y.length,M=h.length;++p<P;){var O=uh(y[p],b[p]);if(O)return p>=M?O:O*("desc"==h[p]?-1:1)}return l.index-c.index}(b,P,h)});N--;)I[N]=I[N].value;return I}(Ft(l,function(b,P,M){return{criteria:He(c,function(H){return H(b)}),index:++p,value:b}}))}function tr(l,c,h){for(var p=-1,y=c.length,b={};++p<y;){var P=c[p],M=ci(l,P);h(M,P)&&Bi(b,$i(P,l),M)}return b}function Jl(l,c,h,p){var y=p?Li:oo,b=-1,P=c.length,M=l;for(l===c&&(c=Ct(c)),h&&(M=He(l,ii(h)));++b<P;)for(var O=0,H=c[b],q=h?h(H):H;(O=y(M,q,O,p))>-1;)M!==l&&Vl.call(M,O,1),Vl.call(l,O,1);return l}function vp(l,c){for(var h=l?c.length:0,p=h-1;h--;){var y=c[h];if(h==p||y!==b){var b=y;Hi(y)?Vl.call(l,y,1):Vr(l,y)}}return l}function oh(l,c){return l+Xs(Ku()*(c-l+1))}function _p(l,c){var h="";if(!l||c<1||c>as)return h;do{c%2&&(h+=l),(c=Xs(c/2))&&(l+=l)}while(c);return h}function ke(l,c){return Ih(Rp(l,c,Yt),l+"")}function $n(l){return Mr(jr(l))}function ah(l,c){var h=jr(l);return Na(h,Vi(c,0,h.length))}function Bi(l,c,h,p){if(!yt(l))return l;for(var y=-1,b=(c=$i(c,l)).length,P=b-1,M=l;null!=M&&++y<b;){var O=Pi(c[y]),H=h;if("__proto__"===O||"constructor"===O||"prototype"===O)return l;if(y!=P){var q=M[O];(H=p?p(q,O,M):T)===T&&(H=yt(q)?q:Hi(c[y+1])?[]:{})}vo(M,O,H),M=M[O]}return l}var zv=fo?function(l,c){return fo.set(l,c),l}:Yt,bp=U?function(l,c){return U(l,"toString",{configurable:!0,enumerable:!1,value:hd(c),writable:!0})}:Yt;function Kv(l){return Na(jr(l))}function ui(l,c,h){var p=-1,y=l.length;c<0&&(c=-c>y?0:y+c),(h=h>y?y:h)<0&&(h+=y),y=c>h?0:h-c>>>0,c>>>=0;for(var b=N(y);++p<y;)b[p]=l[p+c];return b}function Qv(l,c){var h;return ps(l,function(p,y,b){return!(h=c(p,y,b))}),!!h}function Xl(l,c,h){var p=0,y=null==l?p:l.length;if("number"==typeof c&&c==c&&y<=2147483647){for(;p<y;){var b=p+y>>>1,P=l[b];null!==P&&!di(P)&&(h?P<=c:P<c)?p=b+1:y=b}return y}return lh(l,c,Yt,h)}function lh(l,c,h,p){var y=0,b=null==l?0:l.length;if(0===b)return 0;for(var P=(c=h(c))!=c,M=null===c,O=di(c),H=c===T;y<b;){var q=Xs((y+b)/2),G=h(l[q]),z=G!==T,te=null===G,ue=G==G,Te=di(G);if(P)var ae=p||ue;else ae=H?ue&&(p||z):M?ue&&z&&(p||!te):O?ue&&z&&!te&&(p||!Te):!te&&!Te&&(p?G<=c:G<c);ae?y=q+1:b=q}return jt(b,4294967294)}function Eo(l,c){for(var h=-1,p=l.length,y=0,b=[];++h<p;){var P=l[h],M=c?c(P):P;if(!h||!X(M,O)){var O=M;b[y++]=0===P?0:P}}return b}function ec(l){return"number"==typeof l?l:di(l)?NaN:+l}function pn(l){if("string"==typeof l)return l;if(_e(l))return He(l,pn)+"";if(di(l))return Zu?Zu.call(l):"";var c=l+"";return"0"==c&&1/l==-mr?"-0":c}function Fr(l,c,h){var p=-1,y=Zs,b=l.length,P=!0,M=[],O=M;if(h)P=!1,y=Ys;else if(b>=200){var H=c?null:r_(l);if(H)return Hu(H);P=!1,y=Rl,O=new mo}else O=c?[]:M;e:for(;++p<b;){var q=l[p],G=c?c(q):q;if(q=h||0!==q?q:0,P&&G==G){for(var z=O.length;z--;)if(O[z]===G)continue e;c&&O.push(G),M.push(q)}else y(O,G,h)||(O!==M&&O.push(G),M.push(q))}return M}function Vr(l,c){return null==(l=xh(l,c=$i(c,l)))||delete l[Pi(Zt(c))]}function tc(l,c,h,p){return Bi(l,c,h(ci(l,c)),p)}function gs(l,c,h,p){for(var y=l.length,b=p?y:-1;(p?b--:++b<y)&&c(l[b],b,l););return h?ui(l,p?0:b,p?b+1:y):ui(l,p?b+1:0,p?y:b)}function Sp(l,c){var h=l;return h instanceof Ee&&(h=h.value()),Vu(c,function(p,y){return y.func.apply(y.thisArg,Ue([p],y.args))},h)}function ch(l,c,h){var p=l.length;if(p<2)return p?Fr(l[0]):[];for(var y=-1,b=N(p);++y<p;)for(var P=l[y],M=-1;++M<p;)M!=y&&(b[y]=_o(b[y]||P,l[M],c,h));return Fr(Qt(b,1),c,h)}function Ep(l,c,h){for(var p=-1,y=l.length,b=c.length,P={};++p<y;)h(P,l[p],p<b?c[p]:T);return P}function Ca(l){return Xe(l)?l:[]}function wp(l){return"function"==typeof l?l:Yt}function $i(l,c){return _e(l)?l:Ia(l,c)?[l]:Oh(Ye(l))}var Da=ke;function Hn(l,c,h){var p=l.length;return h=h===T?p:h,!c&&h>=p?l:ui(l,c,h)}var Cp=qe||function(l){return tn.clearTimeout(l)};function V(l,c){if(c)return l.slice();var h=l.length,p=fe?fe(h):new l.constructor(h);return l.copy(p),p}function nc(l){var c=new l.constructor(l.byteLength);return new co(c).set(new co(l)),c}function Dp(l,c){var h=c?nc(l.buffer):l.buffer;return new l.constructor(h,l.byteOffset,l.length)}function uh(l,c){if(l!==c){var h=l!==T,p=null===l,y=l==l,b=di(l),P=c!==T,M=null===c,O=c==c,H=di(c);if(!M&&!H&&!b&&l>c||b&&P&&O&&!M&&!H||p&&P&&O||!h&&O||!y)return 1;if(!p&&!b&&!H&&l<c||H&&h&&y&&!p&&!b||M&&h&&y||!P&&y||!O)return-1}return 0}function Yv(l,c,h,p){for(var y=-1,b=l.length,P=h.length,M=-1,O=c.length,H=Tt(b-P,0),q=N(O+H),G=!p;++M<O;)q[M]=c[M];for(;++y<P;)(G||y<b)&&(q[h[y]]=l[y]);for(;H--;)q[M++]=l[y++];return q}function wo(l,c,h,p){for(var y=-1,b=l.length,P=-1,M=h.length,O=-1,H=c.length,q=Tt(b-M,0),G=N(q+H),z=!p;++y<q;)G[y]=l[y];for(var te=y;++O<H;)G[te+O]=c[O];for(;++P<M;)(z||y<b)&&(G[te+h[P]]=l[y++]);return G}function Ct(l,c){var h=-1,p=l.length;for(c||(c=N(p));++h<p;)c[h]=l[h];return c}function qn(l,c,h,p){var y=!h;h||(h={});for(var b=-1,P=c.length;++b<P;){var M=c[b],O=p?p(h[M],l[M],M,h,l):T;O===T&&(O=l[M]),y?wi(h,M,O):vo(h,M,O)}return h}function ka(l,c){return function(h,p){var y=_e(h)?Ml:$v,b=c?c():{};return y(h,l,oe(p,2),b)}}function ir(l){return ke(function(c,h){var p=-1,y=h.length,b=y>1?h[y-1]:T,P=y>2?h[2]:T;for(b=l.length>3&&"function"==typeof b?(y--,b):T,P&&Cn(h[0],h[1],P)&&(b=y<3?T:b,y=1),c=de(c);++p<y;){var M=h[p];M&&l(c,M,p,b)}return c})}function Aa(l,c){return function(h,p){if(null==h)return h;if(!mn(h))return l(h,p);for(var y=h.length,b=c?y:-1,P=de(h);(c?b--:++b<y)&&!1!==p(P[b],b,P););return h}}function hh(l){return function(c,h,p){for(var y=-1,b=de(c),P=p(c),M=P.length;M--;){var O=P[l?M:++y];if(!1===h(b[O],O,b))break}return c}}function kp(l){return function(c){var h=aa(c=Ye(c))?si(c):T,p=h?h[0]:c.charAt(0),y=h?Hn(h,1).join(""):c.slice(1);return p[l]()+y}}function Di(l){return function(c){return Vu(cd(Lg(c).replace(mv,"")),l,"")}}function ms(l){return function(){var c=arguments;switch(c.length){case 0:return new l;case 1:return new l(c[0]);case 2:return new l(c[0],c[1]);case 3:return new l(c[0],c[1],c[2]);case 4:return new l(c[0],c[1],c[2],c[3]);case 5:return new l(c[0],c[1],c[2],c[3],c[4]);case 6:return new l(c[0],c[1],c[2],c[3],c[4],c[5]);case 7:return new l(c[0],c[1],c[2],c[3],c[4],c[5],c[6])}var h=go(l.prototype),p=l.apply(h,c);return yt(p)?p:h}}function t_(l){return function(c,h,p){var y=de(c);if(!mn(c)){var b=oe(h,3);c=Wt(c),h=function(M){return b(y[M],M,y)}}var P=l(c,h,p);return P>-1?y[b?c[P]:P]:T}}function dh(l){return ys(function(c){var h=c.length,p=h,y=ut.prototype.thru;for(l&&c.reverse();p--;){var b=c[p];if("function"!=typeof b)throw new ri(cn);if(y&&!P&&"wrapper"==Ma(b))var P=new ut([],!0)}for(p=P?p:h;++p<h;){var M=Ma(b=c[p]),O="wrapper"==M?vh(b):T;P=O&&Ph(O[0])&&424==O[1]&&!O[4].length&&1==O[9]?P[Ma(O[0])].apply(P,O[3]):1==b.length&&Ph(b)?P[M]():P.thru(b)}return function(){var H=arguments,q=H[0];if(P&&1==H.length&&_e(q))return P.plant(q).value();for(var G=0,z=h?c[G].apply(this,H):q;++G<h;)z=c[G].call(this,z);return z}})}function ic(l,c,h,p,y,b,P,M,O,H){var q=128&c,G=1&c,z=2&c,te=24&c,ue=512&c,Te=z?T:ms(l);return function ae(){for(var Ne=arguments.length,Le=N(Ne),kn=Ne;kn--;)Le[kn]=arguments[kn];if(te)var An=Co(ae),Pt=Uk(Le,An);if(p&&(Le=Yv(Le,p,y,te)),b&&(Le=wo(Le,b,P,te)),Ne-=Pt,te&&Ne<H){var Bt=Cr(Le,An);return Ap(l,c,ic,ae.placeholder,h,Le,Bt,M,O,H-Ne)}var ji=G?h:this,rr=z?ji[l]:l;return Ne=Le.length,M?Le=Np(Le,M):ue&&Ne>1&&Le.reverse(),q&&O<Ne&&(Le.length=O),this&&this!==tn&&this instanceof ae&&(rr=Te||ms(rr)),rr.apply(ji,Le)}}function n_(l,c){return function(h,p){return function(l,c,h,p){return Mt(l,function(y,b,P){c(p,h(y),b,P)}),p}(h,l,c(p),{})}}function sc(l,c){return function(h,p){var y;if(h===T&&p===T)return c;if(h!==T&&(y=h),p!==T){if(y===T)return p;"string"==typeof h||"string"==typeof p?(h=pn(h),p=pn(p)):(h=ec(h),p=ec(p)),y=l(h,p)}return y}}function fh(l){return ys(function(c){return c=He(c,ii(oe())),ke(function(h){var p=this;return l(c,function(y){return se(y,p,h)})})})}function rc(l,c){var h=(c=c===T?" ":pn(c)).length;if(h<2)return h?_p(c,l):c;var p=_p(c,ha(l/xt(c)));return aa(c)?Hn(si(p),0,l).join(""):p.slice(0,l)}function s_(l){return function(c,h,p){return p&&"number"!=typeof p&&Cn(c,h,p)&&(h=p=T),c=xi(c),h===T?(h=c,c=0):h=xi(h),function(l,c,h,p){for(var y=-1,b=Tt(ha((c-l)/(h||1)),0),P=N(b);b--;)P[p?b:++y]=l,l+=h;return P}(c,h,p=p===T?c<h?1:-1:xi(p),l)}}function gn(l){return function(c,h){return"string"==typeof c&&"string"==typeof h||(c=fi(c),h=fi(h)),l(c,h)}}function Ap(l,c,h,p,y,b,P,M,O,H){var q=8&c;c|=q?32:64,4&(c&=~(q?64:32))||(c&=-4);var Te=[l,c,y,q?b:T,q?P:T,q?T:b,q?T:P,M,O,H],ae=h.apply(T,Te);return Ph(l)&&Mh(ae,Te),ae.placeholder=p,Ra(ae,l,c)}function ph(l){var c=Kt[l];return function(h,p){if(h=fi(h),(p=null==p?0:jt(De(p),292))&&Bl(h)){var y=(Ye(h)+"e").split("e");return+((y=(Ye(c(y[0]+"e"+(+y[1]+p)))+"e").split("e"))[0]+"e"+(+y[1]-p))}return c(h)}}var r_=ho&&1/Hu(new ho([,-0]))[1]==mr?function(l){return new ho(l)}:Ka;function Ta(l){return function(c){var h=Vt(c);return h==bi?Nl(c):h==Xn?function(I){var $=-1,N=Array(I.size);return I.forEach(function(Y){N[++$]=[Y,Y]}),N}(c):function(I,$){return He($,function(N){return[N,I[N]]})}(c,l(c))}}function Dt(l,c,h,p,y,b,P,M){var O=2&c;if(!O&&"function"!=typeof l)throw new ri(cn);var H=p?p.length:0;if(H||(c&=-97,p=y=T),P=P===T?P:Tt(De(P),0),M=M===T?M:De(M),H-=y?y.length:0,64&c){var q=p,G=y;p=y=T}var z=O?T:vh(l),te=[l,c,h,p,y,q,G,b,P,M];if(z&&function(l,c){var h=l[1],p=c[1],y=h|p;if(!(y<131||(128==p&&8==h||128==p&&256==h&&l[7].length<=c[8]||384==p&&c[7].length<=c[8]&&8==h)))return l;1&p&&(l[2]=c[2],y|=1&h?0:4);var M=c[3];if(M){var O=l[3];l[3]=O?Yv(O,M,c[4]):M,l[4]=O?Cr(l[3],je):c[4]}(M=c[5])&&(l[5]=(O=l[5])?wo(O,M,c[6]):M,l[6]=O?Cr(l[5],je):c[6]),(M=c[7])&&(l[7]=M),128&p&&(l[8]=null==l[8]?c[8]:jt(l[8],c[8])),null==l[9]&&(l[9]=c[9]),l[0]=c[0],l[1]=y}(te,z),l=te[0],c=te[1],h=te[2],p=te[3],y=te[4],!(M=te[9]=te[9]===T?O?0:l.length:Tt(te[9]-H,0))&&24&c&&(c&=-25),c&&1!=c)ue=8==c||16==c?function(l,c,h){var p=ms(l);return function y(){for(var b=arguments.length,P=N(b),M=b,O=Co(y);M--;)P[M]=arguments[M];var H=b<3&&P[0]!==O&&P[b-1]!==O?[]:Cr(P,O);return(b-=H.length)<h?Ap(l,c,ic,y.placeholder,T,P,H,T,T,h-b):se(this&&this!==tn&&this instanceof y?p:l,this,P)}}(l,c,M):32!=c&&33!=c||y.length?ic.apply(T,te):function(l,c,h,p){var y=1&c,b=ms(l);return function P(){for(var M=-1,O=arguments.length,H=-1,q=p.length,G=N(q+O),z=this&&this!==tn&&this instanceof P?b:l;++H<q;)G[H]=p[H];for(;O--;)G[H++]=arguments[++M];return se(z,y?h:this,G)}}(l,c,h,p);else var ue=function(l,c,h){var p=1&c,y=ms(l);return function b(){return(this&&this!==tn&&this instanceof b?y:l).apply(p?h:this,arguments)}}(l,c,h);return Ra((z?zv:Mh)(ue,te),l,c)}function oc(l,c,h,p){return l===T||X(l,la[h])&&!Je.call(p,h)?c:l}function gh(l,c,h,p,y,b){return yt(l)&&yt(c)&&(b.set(c,l),rh(l,c,T,gh,b),b.delete(c)),l}function Tp(l){return _c(l)?T:l}function sn(l,c,h,p,y,b){var P=1&h,M=l.length,O=c.length;if(M!=O&&!(P&&O>M))return!1;var H=b.get(l),q=b.get(c);if(H&&q)return H==c&&q==l;var G=-1,z=!0,te=2&h?new mo:T;for(b.set(l,c),b.set(c,l);++G<M;){var ue=l[G],Te=c[G];if(p)var ae=P?p(Te,ue,G,c,l,b):p(ue,Te,G,l,c,b);if(ae!==T){if(ae)continue;z=!1;break}if(te){if(!ro(c,function(Ne,Le){if(!Rl(te,Le)&&(ue===Ne||y(ue,Ne,h,p,b)))return te.push(Le)})){z=!1;break}}else if(ue!==Te&&!y(ue,Te,h,p,b)){z=!1;break}}return b.delete(l),b.delete(c),z}function ys(l){return Ih(Rp(l,T,dc),l+"")}function yh(l){return Rr(l,Wt,Sh)}function ac(l){return Rr(l,Dn,Eh)}var vh=fo?function(l){return fo.get(l)}:Ka;function Ma(l){for(var c=l.name+"",h=xr[c],p=Je.call(xr,c)?h.length:0;p--;){var y=h[p],b=y.func;if(null==b||b==l)return y.name}return c}function Co(l){return(Je.call(_,"placeholder")?_:l).placeholder}function oe(){var l=_.iteratee||Wr;return l=l===Wr?jv:l,arguments.length?l(arguments[0],arguments[1]):l}function lc(l,c){var h=l.__data__;return function(l){var c=typeof l;return"string"==c||"number"==c||"symbol"==c||"boolean"==c?"__proto__"!==l:null===l}(c)?h["string"==typeof c?"string":"hash"]:h.map}function _h(l){for(var c=Wt(l),h=c.length;h--;){var p=c[h],y=l[p];c[h]=[p,y,Ip(y)]}return c}function vs(l,c){var h=function(I,$){return null==I?T:I[$]}(l,c);return Gv(h)?h:T}var Sh=oi?function(l){return null==l?[]:(l=de(l),At(oi(l),function(c){return np.call(l,c)}))}:pd,Eh=oi?function(l){for(var c=[];l;)Ue(c,Sh(l)),l=ju(l);return c}:pd,Vt=Lt;function cc(l,c,h){for(var p=-1,y=(c=$i(c,l)).length,b=!1;++p<y;){var P=Pi(c[p]);if(!(b=null!=l&&h(l,P)))break;l=l[P]}return b||++p!=y?b:!!(y=null==l?0:l.length)&&vc(y)&&Hi(P,y)&&(_e(l)||rn(l))}function Ch(l){return"function"!=typeof l.constructor||Oa(l)?{}:go(ju(l))}function Dh(l){return _e(l)||rn(l)||!!(Wu&&l&&l[Wu])}function Hi(l,c){var h=typeof l;return!!(c=null==c?as:c)&&("number"==h||"symbol"!=h&&av.test(l))&&l>-1&&l%1==0&&l<c}function Cn(l,c,h){if(!yt(h))return!1;var p=typeof c;return!!("number"==p?mn(h)&&Hi(c,h.length):"string"==p&&c in h)&&X(h[c],l)}function Ia(l,c){if(_e(l))return!1;var h=typeof l;return!("number"!=h&&"symbol"!=h&&"boolean"!=h&&null!=l&&!di(l))||Gs.test(l)||!Tk.test(l)||null!=c&&l in de(c)}function Ph(l){var c=Ma(l),h=_[c];if("function"!=typeof h||!(c in Ee.prototype))return!1;if(l===h)return!0;var p=vh(h);return!!p&&l===p[0]}(Ei&&Vt(new Ei(new ArrayBuffer(1)))!=_r||da&&Vt(new da)!=bi||$l&&Vt($l.resolve())!=ta||ho&&Vt(new ho)!=Xn||fa&&Vt(new fa)!=no)&&(Vt=function(l){var c=Lt(l),h=c==qs?l.constructor:T,p=h?bs(h):"";if(p)switch(p){case Qu:return _r;case Mv:return bi;case ip:return ta;case Hl:return Xn;case sp:return no}return c});var l_=Pr?Ti:gd;function Oa(l){var c=l&&l.constructor;return l===("function"==typeof c&&c.prototype||la)}function Ip(l){return l==l&&!yt(l)}function kh(l,c){return function(h){return null!=h&&h[l]===c&&(c!==T||l in de(h))}}function Rp(l,c,h){return c=Tt(c===T?l.length-1:c,0),function(){for(var p=arguments,y=-1,b=Tt(p.length-c,0),P=N(b);++y<b;)P[y]=p[c+y];y=-1;for(var M=N(c+1);++y<c;)M[y]=p[y];return M[c]=h(P),se(l,this,M)}}function xh(l,c){return c.length<2?l:ci(l,ui(c,0,-1))}function Np(l,c){for(var h=l.length,p=jt(c.length,h),y=Ct(l);p--;){var b=c[p];l[p]=Hi(b,h)?y[b]:T}return l}function _s(l,c){if(("constructor"!==c||"function"!=typeof l[c])&&"__proto__"!=c)return l[c]}var Mh=Lp(zv),Po=Gt||function(l,c){return tn.setTimeout(l,c)},Ih=Lp(bp);function Ra(l,c,h){var p=c+"";return Ih(l,function(l,c){var h=c.length;if(!h)return l;var p=h-1;return c[p]=(h>1?"& ":"")+c[p],c=c.join(h>2?", ":" "),l.replace(Mk,"{\n/* [wrapped with "+c+"] */\n")}(p,function(l,c){return nn(tv,function(h){var p="_."+h[0];c&h[1]&&!Zs(l,p)&&l.push(p)}),l.sort()}(function(l){var c=l.match(Ik);return c?c[1].split(Pl):[]}(p),h)))}function Lp(l){var c=0,h=0;return function(){var p=En(),y=16-(p-h);if(h=p,y>0){if(++c>=800)return arguments[0]}else c=0;return l.apply(T,arguments)}}function Na(l,c){var h=-1,p=l.length,y=p-1;for(c=c===T?p:c;++h<c;){var b=oh(h,y),P=l[b];l[b]=l[h],l[h]=P}return l.length=c,l}var c,h,Oh=(c=Wh(function(l){var c=[];return 46===l.charCodeAt(0)&&c.push(""),l.replace(xk,function(h,p,y,b){c.push(y?b.replace(ov,"$1"):p||h)}),c},function(p){return 500===h.size&&h.clear(),p}),h=c.cache,c);function Pi(l){if("string"==typeof l||di(l))return l;var c=l+"";return"0"==c&&1/l==-mr?"-0":c}function bs(l){if(null!=l){try{return dn.call(l)}catch(c){}try{return l+""}catch(c){}}return""}function La(l){if(l instanceof Ee)return l.clone();var c=new ut(l.__wrapped__,l.__chain__);return c.__actions__=Ct(l.__actions__),c.__index__=l.__index__,c.__values__=l.__values__,c}var Nh=ke(function(l,c){return Xe(l)?_o(l,Qt(c,1,Xe,!0)):[]}),Lh=ke(function(l,c){var h=Zt(c);return Xe(h)&&(h=T),Xe(l)?_o(l,Qt(c,1,Xe,!0),oe(h,2)):[]}),Fa=ke(function(l,c){var h=Zt(c);return Xe(h)&&(h=T),Xe(l)?_o(l,Qt(c,1,Xe,!0),T,h):[]});function hc(l,c,h){var p=null==l?0:l.length;if(!p)return-1;var y=null==h?0:De(h);return y<0&&(y=Tt(p+y,0)),Ut(l,oe(c,3),y)}function Va(l,c,h){var p=null==l?0:l.length;if(!p)return-1;var y=p-1;return h!==T&&(y=De(h),y=h<0?Tt(p+y,0):jt(y,p-1)),Ut(l,oe(c,3),y,!0)}function dc(l){return null!=l&&l.length?Qt(l,1):[]}function g_(l){return l&&l.length?l[0]:T}var Fh=ke(function(l){var c=He(l,Ca);return c.length&&c[0]===l[0]?fp(c):[]}),Hp=ke(function(l){var c=Zt(l),h=He(l,Ca);return c===Zt(h)?c=T:h.pop(),h.length&&h[0]===l[0]?fp(h,oe(c,2)):[]}),qp=ke(function(l){var c=Zt(l),h=He(l,Ca);return(c="function"==typeof c?c:T)&&h.pop(),h.length&&h[0]===l[0]?fp(h,T,c):[]});function Zt(l){var c=null==l?0:l.length;return c?l[c-1]:T}var __=ke(Gp);function Gp(l,c){return l&&l.length&&c&&c.length?Jl(l,c):l}var qi=ys(function(l,c){var h=null==l?0:l.length,p=_a(l,c);return vp(l,He(c,function(y){return Hi(y,h)?+y:y}).sort(uh)),p});function Vh(l){return null==l?l:uo.call(l)}var $a=ke(function(l){return Fr(Qt(l,1,Xe,!0))}),Kp=ke(function(l){var c=Zt(l);return Xe(c)&&(c=T),Fr(Qt(l,1,Xe,!0),oe(c,2))}),Qp=ke(function(l){var c=Zt(l);return c="function"==typeof c?c:T,Fr(Qt(l,1,Xe,!0),T,c)});function Yp(l){if(!l||!l.length)return[];var c=0;return l=At(l,function(h){if(Xe(h))return c=Tt(h.length,c),!0}),$u(c,function(h){return He(l,ao(h))})}function pc(l,c){if(!l||!l.length)return[];var h=Yp(l);return null==c?h:He(h,function(p){return se(c,T,p)})}var Bh=ke(function(l,c){return Xe(l)?_o(l,c):[]}),$h=ke(function(l){return ch(At(l,Xe))}),hA=ke(function(l){var c=Zt(l);return Xe(c)&&(c=T),ch(At(l,Xe),oe(c,2))}),dA=ke(function(l){var c=Zt(l);return c="function"==typeof c?c:T,ch(At(l,Xe),T,c)}),Jp=ke(Yp),I_=ke(function(l){var c=l.length,h=c>1?l[c-1]:T;return h="function"==typeof h?(l.pop(),h):T,pc(l,h)});function Xp(l){var c=_(l);return c.__chain__=!0,c}function qr(l,c){return c(l)}var tg=ys(function(l){var c=l.length,h=c?l[0]:0,p=this.__wrapped__,y=function(b){return _a(b,l)};return!(c>1||this.__actions__.length)&&p instanceof Ee&&Hi(h)?((p=p.slice(h,+h+(c?1:0))).__actions__.push({func:qr,args:[y],thisArg:T}),new ut(p,this.__chain__).thru(function(b){return c&&!b.length&&b.push(T),b})):this.thru(y)}),L_=ka(function(l,c,h){Je.call(l,h)?++l[h]:wi(l,h,1)}),B_=t_(hc),$_=t_(Va);function sg(l,c){return(_e(l)?nn:ps)(l,oe(c,3))}function qh(l,c){return(_e(l)?Fu:hp)(l,oe(c,3))}var Uh=ka(function(l,c,h){Je.call(l,h)?l[h].push(c):wi(l,h,[c])}),H_=ke(function(l,c,h){var p=-1,y="function"==typeof c,b=mn(l)?N(l.length):[];return ps(l,function(P){b[++p]=y?se(c,P,h):Ql(P,c,h)}),b}),gA=ka(function(l,c,h){wi(l,h,c)});function qa(l,c){return(_e(l)?He:Ft)(l,oe(c,3))}var q_=ka(function(l,c,h){l[h?0:1].push(c)},function(){return[[],[]]}),ag=ke(function(l,c){if(null==l)return[];var h=c.length;return h>1&&Cn(l,c[0],c[1])?c=[]:h>2&&Cn(c[0],c[1],c[2])&&(c=[c[0]]),Ci(l,Qt(c,1),[])}),Gh=ua||function(){return tn.Date.now()};function cg(l,c,h){return c=h?T:c,Dt(l,128,T,T,T,T,c=l&&null==c?l.length:c)}function ug(l,c){var h;if("function"!=typeof c)throw new ri(cn);return l=De(l),function(){return--l>0&&(h=c.apply(this,arguments)),l<=1&&(c=T),h}}var jh=ke(function(l,c,h){var p=1;if(h.length){var y=Cr(h,Co(jh));p|=32}return Dt(l,p,c,h,y)}),Gr=ke(function(l,c,h){var p=3;if(h.length){var y=Cr(h,Co(Gr));p|=32}return Dt(c,p,l,h,y)});function Q_(l,c,h){var p,y,b,P,M,O,H=0,q=!1,G=!1,z=!0;if("function"!=typeof l)throw new ri(cn);function te(Bt){var ji=p,rr=y;return p=y=T,H=Bt,P=l.apply(rr,ji)}function ue(Bt){return H=Bt,M=Po(Ne,c),q?te(Bt):P}function ae(Bt){var ji=Bt-O;return O===T||ji>=c||ji<0||G&&Bt-H>=b}function Ne(){var Bt=Gh();if(ae(Bt))return Le(Bt);M=Po(Ne,function(Bt){var _d=c-(Bt-O);return G?jt(_d,b-(Bt-H)):_d}(Bt))}function Le(Bt){return M=T,z&&p?te(Bt):(p=y=T,P)}function Pt(){var Bt=Gh(),ji=ae(Bt);if(p=arguments,y=this,O=Bt,ji){if(M===T)return ue(O);if(G)return Cp(M),M=Po(Ne,c),te(O)}return M===T&&(M=Po(Ne,c)),P}return c=fi(c)||0,yt(h)&&(q=!!h.leading,b=(G="maxWait"in h)?Tt(fi(h.maxWait)||0,c):b,z="trailing"in h?!!h.trailing:z),Pt.cancel=function(){M!==T&&Cp(M),H=0,p=O=y=M=T},Pt.flush=function(){return M===T?P:Le(Gh())},Pt}var hg=ke(function(l,c){return ih(l,1,c)}),mA=ke(function(l,c,h){return ih(l,fi(c)||0,h)});function Wh(l,c){if("function"!=typeof l||null!=c&&"function"!=typeof c)throw new ri(cn);var h=function(){var p=arguments,y=c?c.apply(this,p):p[0],b=h.cache;if(b.has(y))return b.get(y);var P=l.apply(this,p);return h.cache=b.set(y,P)||b,P};return h.cache=new(Wh.Cache||fs),h}function Ua(l){if("function"!=typeof l)throw new ri(cn);return function(){var c=arguments;switch(c.length){case 0:return!l.call(this);case 1:return!l.call(this,c[0]);case 2:return!l.call(this,c[0],c[1]);case 3:return!l.call(this,c[0],c[1],c[2])}return!l.apply(this,c)}}Wh.Cache=fs;var fg=Da(function(l,c){var h=(c=1==c.length&&_e(c[0])?He(c[0],ii(oe())):He(Qt(c,1),ii(oe()))).length;return ke(function(p){for(var y=-1,b=jt(p.length,h);++y<b;)p[y]=c[y].call(this,p[y]);return se(l,this,p)})}),zh=ke(function(l,c){var h=Cr(c,Co(zh));return Dt(l,32,T,c,h)}),pg=ke(function(l,c){var h=Cr(c,Co(pg));return Dt(l,64,T,c,h)}),Ai=ys(function(l,c){return Dt(l,256,T,T,T,c)});function X(l,c){return l===c||l!=l&&c!=c}var yg=gn(Nr),mc=gn(function(l,c){return l>=c}),rn=pp(function(){return arguments}())?pp:function(l){return It(l)&&Je.call(l,"callee")&&!np.call(l,"callee")},_e=N.isArray,rb=Ks?ii(Ks):function(l){return It(l)&&Lt(l)==vr};function mn(l){return null!=l&&vc(l.length)&&!Ti(l)}function Xe(l){return It(l)&&mn(l)}var Ss=zu||gd,Qh=qt?ii(qt):function(l){return It(l)&&Lt(l)==ea};function ko(l){if(!It(l))return!1;var c=Lt(l);return c==Sl||"[object DOMException]"==c||"string"==typeof l.message&&"string"==typeof l.name&&!_c(l)}function Ti(l){if(!yt(l))return!1;var c=Lt(l);return c==El||c==xf||"[object AsyncFunction]"==c||"[object Proxy]"==c}function ob(l){return"number"==typeof l&&l==De(l)}function vc(l){return"number"==typeof l&&l>-1&&l%1==0&&l<=as}function yt(l){var c=typeof l;return null!=l&&("object"==c||"function"==c)}function It(l){return null!=l&&"object"==typeof l}var _g=Qs?ii(Qs):function(l){return It(l)&&Vt(l)==bi};function lb(l){return"number"==typeof l||It(l)&&Lt(l)==Hs}function _c(l){if(!It(l)||Lt(l)!=qs)return!1;var c=ju(l);if(null===c)return!0;var h=Je.call(c,"constructor")&&c.constructor;return"function"==typeof h&&h instanceof h&&dn.call(h)==ep}var Eg=St?ii(St):function(l){return It(l)&&Lt(l)==Us},cb=so?ii(so):function(l){return It(l)&&Vt(l)==Xn};function Yh(l){return"string"==typeof l||!_e(l)&&It(l)&&Lt(l)==na}function di(l){return"symbol"==typeof l||It(l)&&Lt(l)==Cl}var Ga=Er?ii(Er):function(l){return It(l)&&vc(l.length)&&!!lt[Lt(l)]},Jh=gn(yp),ub=gn(function(l,c){return l<=c});function Xh(l){if(!l)return[];if(mn(l))return Yh(l)?si(l):Ct(l);if(ca&&l[ca])return function(I){for(var $,N=[];!($=I.next()).done;)N.push($.value);return N}(l[ca]());var c=Vt(l);return(c==bi?Nl:c==Xn?Hu:jr)(l)}function xi(l){return l?(l=fi(l))===mr||l===-mr?17976931348623157e292*(l<0?-1:1):l==l?l:0:0===l?l:0}function De(l){var c=xi(l),h=c%1;return c==c?h?c-h:c:0}function bc(l){return l?Vi(De(l),0,Nn):0}function fi(l){if("number"==typeof l)return l;if(di(l))return NaN;if(yt(l)){var c="function"==typeof l.valueOf?l.valueOf():l;l=yt(c)?c+"":c}if("string"!=typeof l)return 0===l?l:+l;l=wv(l);var h=Lk.test(l);return h||Vk.test(l)?Ws(l.slice(2),h?2:8):Nk.test(l)?NaN:+l}function ws(l){return qn(l,Dn(l))}function Ye(l){return null==l?"":pn(l)}var CA=ir(function(l,c){if(Oa(c)||mn(c))qn(c,Wt(c),l);else for(var h in c)Je.call(c,h)&&vo(l,h,c[h])}),Sc=ir(function(l,c){qn(c,Dn(c),l)}),Ec=ir(function(l,c,h,p){qn(c,Dn(c),l,p)}),Cg=ir(function(l,c,h,p){qn(c,Wt(c),l,p)}),hb=ys(_a),ja=ke(function(l,c){l=de(l);var h=-1,p=c.length,y=p>2?c[2]:T;for(y&&Cn(c[0],c[1],y)&&(p=1);++h<p;)for(var b=c[h],P=Dn(b),M=-1,O=P.length;++M<O;){var H=P[M],q=l[H];(q===T||X(q,la[H])&&!Je.call(l,H))&&(l[H]=b[H])}return l}),Ao=ke(function(l){return l.push(T,gh),se(xg,T,l)});function za(l,c,h){var p=null==l?T:ci(l,c);return p===T?h:p}function Mo(l,c){return null!=l&&cc(l,c,Lr)}var pb=n_(function(l,c,h){null!=c&&"function"!=typeof c.toString&&(c=fn.call(c)),l[c]=h},hd(Yt)),Ag=n_(function(l,c,h){null!=c&&"function"!=typeof c.toString&&(c=fn.call(c)),Je.call(l,c)?l[c].push(h):l[c]=[h]},oe),DA=ke(Ql);function Wt(l){return mn(l)?lp(l):mp(l)}function Dn(l){return mn(l)?lp(l,!0):function(l){if(!yt(l))return function(l){var c=[];if(null!=l)for(var h in de(l))c.push(h);return c}(l);var c=Oa(l),h=[];for(var p in l)"constructor"==p&&(c||!Je.call(l,p))||h.push(p);return h}(l)}var mb=ir(function(l,c,h){rh(l,c,h)}),xg=ir(function(l,c,h,p){rh(l,c,h,p)}),Gn=ys(function(l,c){var h={};if(null==l)return h;var p=!1;c=He(c,function(b){return b=$i(b,l),p||(p=b.length>1),b}),qn(l,ac(l),h),p&&(h=wn(h,7,Tp));for(var y=c.length;y--;)Vr(h,c[y]);return h}),vb=ys(function(l,c){return null==l?{}:function(l,c){return tr(l,c,function(h,p){return Mo(l,p)})}(l,c)});function _b(l,c){if(null==l)return{};var h=He(ac(l),function(p){return[p]});return c=oe(c),tr(l,h,function(p,y){return c(p,y[0])})}var Ig=Ta(Wt),wc=Ta(Dn);function jr(l){return null==l?[]:zf(l,Wt(l))}var Ng=Di(function(l,c,h){return c=c.toLowerCase(),l+(h?nd(c):c)});function nd(l){return Dc(Ye(l).toLowerCase())}function Lg(l){return(l=Ye(l))&&l.replace(Bk,Gk).replace(us,"")}var kb=Di(function(l,c,h){return l+(h?"-":"")+c.toLowerCase()}),AA=Di(function(l,c,h){return l+(h?" ":"")+c.toLowerCase()}),Fg=kp("toLowerCase"),Cc=Di(function(l,c,h){return l+(h?"_":"")+c.toLowerCase()}),Ob=Di(function(l,c,h){return l+(h?" ":"")+Dc(c)}),$g=Di(function(l,c,h){return l+(h?" ":"")+c.toUpperCase()}),Dc=kp("toUpperCase");function cd(l,c,h){return l=Ye(l),(c=h?T:c)===T?function(I){return vv.test(I)}(l)?function(I){return I.match(yv)||[]}(l):function(I){return I.match(Ln)||[]}(l):l.match(c)||[]}var ud=ke(function(l,c){try{return se(l,T,c)}catch(h){return ko(h)?h:new ve(h)}}),Cs=ys(function(l,c){return nn(c,function(h){h=Pi(h),wi(l,h,jh(l[h],l))}),l});function hd(l){return function(){return l}}var Io=dh(),Hg=dh(!0);function Yt(l){return l}function Wr(l){return jv("function"==typeof l?l:wn(l,1))}var qg=ke(function(l,c){return function(h){return Ql(h,l,c)}}),Bb=ke(function(l,c){return function(h){return Ql(l,h,c)}});function kc(l,c,h){var p=Wt(c),y=bo(c,p);null==h&&(!yt(c)||!y.length&&p.length)&&(h=c,c=l,l=this,y=bo(c,Wt(c)));var b=!(yt(h)&&"chain"in h&&!h.chain),P=Ti(l);return nn(y,function(M){var O=c[M];l[M]=O,P&&(l.prototype[M]=function(){var H=this.__chain__;if(b||H){var q=l(this.__wrapped__),G=q.__actions__=Ct(this.__actions__);return G.push({func:O,args:arguments,thisArg:l}),q.__chain__=H,q}return O.apply(l,Ue([this.value()],arguments))})}),l}function Ka(){}var qb=fh(He),Ug=fh(wr),Oo=fh(ro);function fd(l){return Ia(l)?ao(Pi(l)):function(l){return function(c){return ci(c,l)}}(l)}var Gb=s_(),Ro=s_(!0);function pd(){return[]}function gd(){return!1}var md=sc(function(l,c){return l+c},0),IA=ph("ceil"),Ds=sc(function(l,c){return l/c},1),yd=ph("floor"),zg=sc(function(l,c){return l*c},1),Kg=ph("round"),Zb=sc(function(l,c){return l-c},0);return _.after=function(l,c){if("function"!=typeof c)throw new ri(cn);return l=De(l),function(){if(--l<1)return c.apply(this,arguments)}},_.ary=cg,_.assign=CA,_.assignIn=Sc,_.assignInWith=Ec,_.assignWith=Cg,_.at=hb,_.before=ug,_.bind=jh,_.bindAll=Cs,_.bindKey=Gr,_.castArray=function(){if(!arguments.length)return[];var l=arguments[0];return _e(l)?l:[l]},_.chain=Xp,_.chunk=function(l,c,h){c=(h?Cn(l,c,h):c===T)?1:Tt(De(c),0);var p=null==l?0:l.length;if(!p||c<1)return[];for(var y=0,b=0,P=N(ha(p/c));y<p;)P[b++]=ui(l,y,y+=c);return P},_.compact=function(l){for(var c=-1,h=null==l?0:l.length,p=0,y=[];++c<h;){var b=l[c];b&&(y[p++]=b)}return y},_.concat=function(){var l=arguments.length;if(!l)return[];for(var c=N(l-1),h=arguments[0],p=l;p--;)c[p-1]=arguments[p];return Ue(_e(h)?Ct(h):[h],Qt(c,1))},_.cond=function(l){var c=null==l?0:l.length,h=oe();return l=c?He(l,function(p){if("function"!=typeof p[1])throw new ri(cn);return[h(p[0]),p[1]]}):[],ke(function(p){for(var y=-1;++y<c;){var b=l[y];if(se(b[0],this,p))return se(b[1],this,p)}})},_.conforms=function(l){return function(l){var c=Wt(l);return function(h){return nh(h,l,c)}}(wn(l,1))},_.constant=hd,_.countBy=L_,_.create=function(l,c){var h=go(l);return null==c?h:up(h,c)},_.curry=function ki(l,c,h){var p=Dt(l,8,T,T,T,T,T,c=h?T:c);return p.placeholder=ki.placeholder,p},_.curryRight=function K_(l,c,h){var p=Dt(l,16,T,T,T,T,T,c=h?T:c);return p.placeholder=K_.placeholder,p},_.debounce=Q_,_.defaults=ja,_.defaultsDeep=Ao,_.defer=hg,_.delay=mA,_.difference=Nh,_.differenceBy=Lh,_.differenceWith=Fa,_.drop=function(l,c,h){var p=null==l?0:l.length;return p?ui(l,(c=h||c===T?1:De(c))<0?0:c,p):[]},_.dropRight=function(l,c,h){var p=null==l?0:l.length;return p?ui(l,0,(c=p-(c=h||c===T?1:De(c)))<0?0:c):[]},_.dropRightWhile=function(l,c){return l&&l.length?gs(l,oe(c,3),!0,!0):[]},_.dropWhile=function(l,c){return l&&l.length?gs(l,oe(c,3),!0):[]},_.fill=function(l,c,h,p){var y=null==l?0:l.length;return y?(h&&"number"!=typeof h&&Cn(l,c,h)&&(h=0,p=y),function(l,c,h,p){var y=l.length;for((h=De(h))<0&&(h=-h>y?0:y+h),(p=p===T||p>y?y:De(p))<0&&(p+=y),p=h>p?0:bc(p);h<p;)l[h++]=c;return l}(l,c,h,p)):[]},_.filter=function(l,c){return(_e(l)?At:dp)(l,oe(c,3))},_.flatMap=function(l,c){return Qt(qa(l,c),1)},_.flatMapDeep=function(l,c){return Qt(qa(l,c),mr)},_.flatMapDepth=function(l,c,h){return h=h===T?1:De(h),Qt(qa(l,c),h)},_.flatten=dc,_.flattenDeep=function(l){return null!=l&&l.length?Qt(l,mr):[]},_.flattenDepth=function(l,c){return null!=l&&l.length?Qt(l,c=c===T?1:De(c)):[]},_.flip=function(l){return Dt(l,512)},_.flow=Io,_.flowRight=Hg,_.fromPairs=function(l){for(var c=-1,h=null==l?0:l.length,p={};++c<h;){var y=l[c];p[y[0]]=y[1]}return p},_.functions=function(l){return null==l?[]:bo(l,Wt(l))},_.functionsIn=function(l){return null==l?[]:bo(l,Dn(l))},_.groupBy=Uh,_.initial=function(l){return null!=l&&l.length?ui(l,0,-1):[]},_.intersection=Fh,_.intersectionBy=Hp,_.intersectionWith=qp,_.invert=pb,_.invertBy=Ag,_.invokeMap=H_,_.iteratee=Wr,_.keyBy=gA,_.keys=Wt,_.keysIn=Dn,_.map=qa,_.mapKeys=function(l,c){var h={};return c=oe(c,3),Mt(l,function(p,y,b){wi(h,c(p,y,b),p)}),h},_.mapValues=function(l,c){var h={};return c=oe(c,3),Mt(l,function(p,y,b){wi(h,y,c(p,y,b))}),h},_.matches=function(l){return Zl(wn(l,1))},_.matchesProperty=function(l,c){return wa(l,wn(c,1))},_.memoize=Wh,_.merge=mb,_.mergeWith=xg,_.method=qg,_.methodOf=Bb,_.mixin=kc,_.negate=Ua,_.nthArg=function(l){return l=De(l),ke(function(c){return Bn(c,l)})},_.omit=Gn,_.omitBy=function(l,c){return _b(l,Ua(oe(c)))},_.once=function(l){return ug(2,l)},_.orderBy=function(l,c,h,p){return null==l?[]:(_e(c)||(c=null==c?[]:[c]),_e(h=p?T:h)||(h=null==h?[]:[h]),Ci(l,c,h))},_.over=qb,_.overArgs=fg,_.overEvery=Ug,_.overSome=Oo,_.partial=zh,_.partialRight=pg,_.partition=q_,_.pick=vb,_.pickBy=_b,_.property=fd,_.propertyOf=function(l){return function(c){return null==l?T:ci(l,c)}},_.pull=__,_.pullAll=Gp,_.pullAllBy=function(l,c,h){return l&&l.length&&c&&c.length?Jl(l,c,oe(h,2)):l},_.pullAllWith=function(l,c,h){return l&&l.length&&c&&c.length?Jl(l,c,T,h):l},_.pullAt=qi,_.range=Gb,_.rangeRight=Ro,_.rearg=Ai,_.reject=function(l,c){return(_e(l)?At:dp)(l,Ua(oe(c,3)))},_.remove=function(l,c){var h=[];if(!l||!l.length)return h;var p=-1,y=[],b=l.length;for(c=oe(c,3);++p<b;){var P=l[p];c(P,p,l)&&(h.push(P),y.push(p))}return vp(l,y),h},_.rest=function(l,c){if("function"!=typeof l)throw new ri(cn);return ke(l,c=c===T?c:De(c))},_.reverse=Vh,_.sampleSize=function(l,c,h){return c=(h?Cn(l,c,h):c===T)?1:De(c),(_e(l)?th:ah)(l,c)},_.set=function(l,c,h){return null==l?l:Bi(l,c,h)},_.setWith=function(l,c,h,p){return p="function"==typeof p?p:T,null==l?l:Bi(l,c,h,p)},_.shuffle=function(l){return(_e(l)?zl:Kv)(l)},_.slice=function(l,c,h){var p=null==l?0:l.length;return p?(h&&"number"!=typeof h&&Cn(l,c,h)?(c=0,h=p):(c=null==c?0:De(c),h=h===T?p:De(h)),ui(l,c,h)):[]},_.sortBy=ag,_.sortedUniq=function(l){return l&&l.length?Eo(l):[]},_.sortedUniqBy=function(l,c){return l&&l.length?Eo(l,oe(c,2)):[]},_.split=function(l,c,h){return h&&"number"!=typeof h&&Cn(l,c,h)&&(c=h=T),(h=h===T?Nn:h>>>0)?(l=Ye(l))&&("string"==typeof c||null!=c&&!Eg(c))&&!(c=pn(c))&&aa(l)?Hn(si(l),0,h):l.split(c,h):[]},_.spread=function(l,c){if("function"!=typeof l)throw new ri(cn);return c=null==c?0:Tt(De(c),0),ke(function(h){var p=h[c],y=Hn(h,0,c);return p&&Ue(y,p),se(l,this,y)})},_.tail=function(l){var c=null==l?0:l.length;return c?ui(l,1,c):[]},_.take=function(l,c,h){return l&&l.length?ui(l,0,(c=h||c===T?1:De(c))<0?0:c):[]},_.takeRight=function(l,c,h){var p=null==l?0:l.length;return p?ui(l,(c=p-(c=h||c===T?1:De(c)))<0?0:c,p):[]},_.takeRightWhile=function(l,c){return l&&l.length?gs(l,oe(c,3),!1,!0):[]},_.takeWhile=function(l,c){return l&&l.length?gs(l,oe(c,3)):[]},_.tap=function(l,c){return c(l),l},_.throttle=function(l,c,h){var p=!0,y=!0;if("function"!=typeof l)throw new ri(cn);return yt(h)&&(p="leading"in h?!!h.leading:p,y="trailing"in h?!!h.trailing:y),Q_(l,c,{leading:p,maxWait:c,trailing:y})},_.thru=qr,_.toArray=Xh,_.toPairs=Ig,_.toPairsIn=wc,_.toPath=function(l){return _e(l)?He(l,Pi):di(l)?[l]:Ct(Oh(Ye(l)))},_.toPlainObject=ws,_.transform=function(l,c,h){var p=_e(l),y=p||Ss(l)||Ga(l);if(c=oe(c,4),null==h){var b=l&&l.constructor;h=y?p?new b:[]:yt(l)&&Ti(b)?go(ju(l)):{}}return(y?nn:Mt)(l,function(P,M,O){return c(h,P,M,O)}),h},_.unary=function(l){return cg(l,1)},_.union=$a,_.unionBy=Kp,_.unionWith=Qp,_.uniq=function(l){return l&&l.length?Fr(l):[]},_.uniqBy=function(l,c){return l&&l.length?Fr(l,oe(c,2)):[]},_.uniqWith=function(l,c){return c="function"==typeof c?c:T,l&&l.length?Fr(l,T,c):[]},_.unset=function(l,c){return null==l||Vr(l,c)},_.unzip=Yp,_.unzipWith=pc,_.update=function(l,c,h){return null==l?l:tc(l,c,wp(h))},_.updateWith=function(l,c,h,p){return p="function"==typeof p?p:T,null==l?l:tc(l,c,wp(h),p)},_.values=jr,_.valuesIn=function(l){return null==l?[]:zf(l,Dn(l))},_.without=Bh,_.words=cd,_.wrap=function(l,c){return zh(wp(c),l)},_.xor=$h,_.xorBy=hA,_.xorWith=dA,_.zip=Jp,_.zipObject=function(l,c){return Ep(l||[],c||[],vo)},_.zipObjectDeep=function(l,c){return Ep(l||[],c||[],Bi)},_.zipWith=I_,_.entries=Ig,_.entriesIn=wc,_.extend=Sc,_.extendWith=Ec,kc(_,_),_.add=md,_.attempt=ud,_.camelCase=Ng,_.capitalize=nd,_.ceil=IA,_.clamp=function(l,c,h){return h===T&&(h=c,c=T),h!==T&&(h=(h=fi(h))==h?h:0),c!==T&&(c=(c=fi(c))==c?c:0),Vi(fi(l),c,h)},_.clone=function(l){return wn(l,4)},_.cloneDeep=function(l){return wn(l,5)},_.cloneDeepWith=function(l,c){return wn(l,5,c="function"==typeof c?c:T)},_.cloneWith=function(l,c){return wn(l,4,c="function"==typeof c?c:T)},_.conformsTo=function(l,c){return null==c||nh(l,c,Wt(c))},_.deburr=Lg,_.defaultTo=function(l,c){return null==l||l!=l?c:l},_.divide=Ds,_.endsWith=function(l,c,h){l=Ye(l),c=pn(c);var p=l.length,y=h=h===T?p:Vi(De(h),0,p);return(h-=c.length)>=0&&l.slice(h,y)==c},_.eq=X,_.escape=function(l){return(l=Ye(l))&&sv.test(l)?l.replace(Pe,jk):l},_.escapeRegExp=function(l){return(l=Ye(l))&&ye.test(l)?l.replace(ia,"\\$&"):l},_.every=function(l,c,h){var p=_e(l)?wr:qv;return h&&Cn(l,c,h)&&(c=T),p(l,oe(c,3))},_.find=B_,_.findIndex=hc,_.findKey=function(l,c){return Js(l,oe(c,3),Mt)},_.findLast=$_,_.findLastIndex=Va,_.findLastKey=function(l,c){return Js(l,oe(c,3),Sa)},_.floor=yd,_.forEach=sg,_.forEachRight=qh,_.forIn=function(l,c){return null==l?l:Kl(l,oe(c,3),Dn)},_.forInRight=function(l,c){return null==l?l:Or(l,oe(c,3),Dn)},_.forOwn=function(l,c){return l&&Mt(l,oe(c,3))},_.forOwnRight=function(l,c){return l&&Sa(l,oe(c,3))},_.get=za,_.gt=yg,_.gte=mc,_.has=function(l,c){return null!=l&&cc(l,c,sh)},_.hasIn=Mo,_.head=g_,_.identity=Yt,_.includes=function(l,c,h,p){l=mn(l)?l:jr(l),h=h&&!p?De(h):0;var y=l.length;return h<0&&(h=Tt(y+h,0)),Yh(l)?h<=y&&l.indexOf(c,h)>-1:!!y&&oo(l,c,h)>-1},_.indexOf=function(l,c,h){var p=null==l?0:l.length;if(!p)return-1;var y=null==h?0:De(h);return y<0&&(y=Tt(p+y,0)),oo(l,c,y)},_.inRange=function(l,c,h){return c=xi(c),h===T?(h=c,c=0):h=xi(h),function(l,c,h){return l>=jt(c,h)&&l<Tt(c,h)}(l=fi(l),c,h)},_.invoke=DA,_.isArguments=rn,_.isArray=_e,_.isArrayBuffer=rb,_.isArrayLike=mn,_.isArrayLikeObject=Xe,_.isBoolean=function(l){return!0===l||!1===l||It(l)&&Lt(l)==Xo},_.isBuffer=Ss,_.isDate=Qh,_.isElement=function(l){return It(l)&&1===l.nodeType&&!_c(l)},_.isEmpty=function(l){if(null==l)return!0;if(mn(l)&&(_e(l)||"string"==typeof l||"function"==typeof l.splice||Ss(l)||Ga(l)||rn(l)))return!l.length;var c=Vt(l);if(c==bi||c==Xn)return!l.size;if(Oa(l))return!mp(l).length;for(var h in l)if(Je.call(l,h))return!1;return!0},_.isEqual=function(l,c){return So(l,c)},_.isEqualWith=function(l,c,h){var p=(h="function"==typeof h?h:T)?h(l,c):T;return p===T?So(l,c,T,h):!!p},_.isError=ko,_.isFinite=function(l){return"number"==typeof l&&Bl(l)},_.isFunction=Ti,_.isInteger=ob,_.isLength=vc,_.isMap=_g,_.isMatch=function(l,c){return l===c||gp(l,c,_h(c))},_.isMatchWith=function(l,c,h){return h="function"==typeof h?h:T,gp(l,c,_h(c),h)},_.isNaN=function(l){return lb(l)&&l!=+l},_.isNative=function(l){if(l_(l))throw new ve("Unsupported core-js use. Try https://npms.io/search?q=ponyfill.");return Gv(l)},_.isNil=function(l){return null==l},_.isNull=function(l){return null===l},_.isNumber=lb,_.isObject=yt,_.isObjectLike=It,_.isPlainObject=_c,_.isRegExp=Eg,_.isSafeInteger=function(l){return ob(l)&&l>=-as&&l<=as},_.isSet=cb,_.isString=Yh,_.isSymbol=di,_.isTypedArray=Ga,_.isUndefined=function(l){return l===T},_.isWeakMap=function(l){return It(l)&&Vt(l)==no},_.isWeakSet=function(l){return It(l)&&"[object WeakSet]"==Lt(l)},_.join=function(l,c){return null==l?"":Yk.call(l,c)},_.kebabCase=kb,_.last=Zt,_.lastIndexOf=function(l,c,h){var p=null==l?0:l.length;if(!p)return-1;var y=p;return h!==T&&(y=(y=De(h))<0?Tt(p+y,0):jt(y,p-1)),c==c?function(I,$,N){for(var Y=N+1;Y--;)if(I[Y]===$)return Y;return Y}(l,c,y):Ut(l,ti,y,!0)},_.lowerCase=AA,_.lowerFirst=Fg,_.lt=Jh,_.lte=ub,_.max=function(l){return l&&l.length?Ir(l,Yt,Nr):T},_.maxBy=function(l,c){return l&&l.length?Ir(l,oe(c,2),Nr):T},_.mean=function(l){return Ol(l,Yt)},_.meanBy=function(l,c){return Ol(l,oe(c,2))},_.min=function(l){return l&&l.length?Ir(l,Yt,yp):T},_.minBy=function(l,c){return l&&l.length?Ir(l,oe(c,2),yp):T},_.stubArray=pd,_.stubFalse=gd,_.stubObject=function(){return{}},_.stubString=function(){return""},_.stubTrue=function(){return!0},_.multiply=zg,_.nth=function(l,c){return l&&l.length?Bn(l,De(c)):T},_.noConflict=function(){return tn._===this&&(tn._=Gu),this},_.noop=Ka,_.now=Gh,_.pad=function(l,c,h){l=Ye(l);var p=(c=De(c))?xt(l):0;if(!c||p>=c)return l;var y=(c-p)/2;return rc(Xs(y),h)+l+rc(ha(y),h)},_.padEnd=function(l,c,h){l=Ye(l);var p=(c=De(c))?xt(l):0;return c&&p<c?l+rc(c-p,h):l},_.padStart=function(l,c,h){l=Ye(l);var p=(c=De(c))?xt(l):0;return c&&p<c?rc(c-p,h)+l:l},_.parseInt=function(l,c,h){return h||null==c?c=0:c&&(c=+c),Fi(Ye(l).replace(en,""),c||0)},_.random=function(l,c,h){if(h&&"boolean"!=typeof h&&Cn(l,c,h)&&(c=h=T),h===T&&("boolean"==typeof c?(h=c,c=T):"boolean"==typeof l&&(h=l,l=T)),l===T&&c===T?(l=0,c=1):(l=xi(l),c===T?(c=l,l=0):c=xi(c)),l>c){var p=l;l=c,c=p}if(h||l%1||c%1){var y=Ku();return jt(l+y*(c-l+hn("1e-"+((y+"").length-1))),c)}return oh(l,c)},_.reduce=function(l,c,h){var p=_e(l)?Vu:ni,y=arguments.length<3;return p(l,oe(c,4),h,y,ps)},_.reduceRight=function(l,c,h){var p=_e(l)?bv:ni,y=arguments.length<3;return p(l,oe(c,4),h,y,hp)},_.repeat=function(l,c,h){return c=(h?Cn(l,c,h):c===T)?1:De(c),_p(Ye(l),c)},_.replace=function(){var l=arguments,c=Ye(l[0]);return l.length<3?c:c.replace(l[1],l[2])},_.result=function(l,c,h){var p=-1,y=(c=$i(c,l)).length;for(y||(y=1,l=T);++p<y;){var b=null==l?T:l[Pi(c[p])];b===T&&(p=y,b=h),l=Ti(b)?b.call(l):b}return l},_.round=Kg,_.runInContext=I,_.sample=function(l){return(_e(l)?Mr:$n)(l)},_.size=function(l){if(null==l)return 0;if(mn(l))return Yh(l)?xt(l):l.length;var c=Vt(l);return c==bi||c==Xn?l.size:mp(l).length},_.snakeCase=Cc,_.some=function(l,c,h){var p=_e(l)?ro:Qv;return h&&Cn(l,c,h)&&(c=T),p(l,oe(c,3))},_.sortedIndex=function(l,c){return Xl(l,c)},_.sortedIndexBy=function(l,c,h){return lh(l,c,oe(h,2))},_.sortedIndexOf=function(l,c){var h=null==l?0:l.length;if(h){var p=Xl(l,c);if(p<h&&X(l[p],c))return p}return-1},_.sortedLastIndex=function(l,c){return Xl(l,c,!0)},_.sortedLastIndexBy=function(l,c,h){return lh(l,c,oe(h,2),!0)},_.sortedLastIndexOf=function(l,c){if(null!=l&&l.length){var p=Xl(l,c,!0)-1;if(X(l[p],c))return p}return-1},_.startCase=Ob,_.startsWith=function(l,c,h){return l=Ye(l),h=null==h?0:Vi(De(h),0,l.length),c=pn(c),l.slice(h,h+c.length)==c},_.subtract=Zb,_.sum=function(l){return l&&l.length?Wf(l,Yt):0},_.sumBy=function(l,c){return l&&l.length?Wf(l,oe(c,2)):0},_.template=function(l,c,h){var p=_.templateSettings;h&&Cn(l,c,h)&&(c=T),l=Ye(l),c=Ec({},c,p,oc);var M,O,y=Ec({},c.imports,p.imports,oc),b=Wt(y),P=zf(y,b),H=0,q=c.interpolate||kl,G="__p += '",z=Jf((c.escape||kl).source+"|"+q.source+"|"+(q===Ou?Rk:kl).source+"|"+(c.evaluate||kl).source+"|$","g"),te="//# sourceURL="+(Je.call(c,"sourceURL")?(c.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++Gf+"]")+"\n";l.replace(z,function(ae,Ne,Le,kn,An,Pt){return Le||(Le=kn),G+=l.slice(H,Pt).replace($k,Wk),Ne&&(M=!0,G+="' +\n__e("+Ne+") +\n'"),An&&(O=!0,G+="';\n"+An+";\n__p += '"),Le&&(G+="' +\n((__t = ("+Le+")) == null ? '' : __t) +\n'"),H=Pt+ae.length,ae}),G+="';\n";var ue=Je.call(c,"variable")&&c.variable;if(ue){if(Ok.test(ue))throw new ve("Invalid `variable` option passed into `_.template`")}else G="with (obj) {\n"+G+"\n}\n";G=(O?G.replace(nv,""):G).replace(iv,"$1").replace(Ke,"$1;"),G="function("+(ue||"obj")+") {\n"+(ue?"":"obj || (obj = {});\n")+"var __t, __p = ''"+(M?", __e = _.escape":"")+(O?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+G+"return __p\n}";var Te=ud(function(){return Ge(b,te+"return "+G).apply(T,P)});if(Te.source=G,ko(Te))throw Te;return Te},_.times=function(l,c){if((l=De(l))<1||l>as)return[];var h=Nn,p=jt(l,Nn);c=oe(c),l-=Nn;for(var y=$u(p,c);++h<l;)c(h);return y},_.toFinite=xi,_.toInteger=De,_.toLength=bc,_.toLower=function(l){return Ye(l).toLowerCase()},_.toNumber=fi,_.toSafeInteger=function(l){return l?Vi(De(l),-as,as):0===l?l:0},_.toString=Ye,_.toUpper=function(l){return Ye(l).toUpperCase()},_.trim=function(l,c,h){if((l=Ye(l))&&(h||c===T))return wv(l);if(!l||!(c=pn(c)))return l;var p=si(l),y=si(c);return Hn(p,Cv(p,y),Dv(p,y)+1).join("")},_.trimEnd=function(l,c,h){if((l=Ye(l))&&(h||c===T))return l.slice(0,Qf(l)+1);if(!l||!(c=pn(c)))return l;var p=si(l);return Hn(p,0,Dv(p,si(c))+1).join("")},_.trimStart=function(l,c,h){if((l=Ye(l))&&(h||c===T))return l.replace(en,"");if(!l||!(c=pn(c)))return l;var p=si(l);return Hn(p,Cv(p,si(c))).join("")},_.truncate=function(l,c){var h=30,p="...";if(yt(c)){var y="separator"in c?c.separator:y;h="length"in c?De(c.length):h,p="omission"in c?pn(c.omission):p}var b=(l=Ye(l)).length;if(aa(l)){var P=si(l);b=P.length}if(h>=b)return l;var M=h-xt(p);if(M<1)return p;var O=P?Hn(P,0,M).join(""):l.slice(0,M);if(y===T)return O+p;if(P&&(M+=O.length-M),Eg(y)){if(l.slice(M).search(y)){var H,q=O;for(y.global||(y=Jf(y.source,Ye(Ni.exec(y))+"g")),y.lastIndex=0;H=y.exec(q);)var G=H.index;O=O.slice(0,G===T?M:G)}}else if(l.indexOf(pn(y),M)!=M){var z=O.lastIndexOf(y);z>-1&&(O=O.slice(0,z))}return O+p},_.unescape=function(l){return(l=Ye(l))&&Iu.test(l)?l.replace(Dl,Pv):l},_.uniqueId=function(l){var c=++Uu;return Ye(l)+c},_.upperCase=$g,_.upperFirst=Dc,_.each=sg,_.eachRight=qh,_.first=g_,kc(_,function(){var l={};return Mt(_,function(c,h){Je.call(_.prototype,h)||(l[h]=c)}),l}(),{chain:!1}),_.VERSION="4.17.21",nn(["bind","bindKey","curry","curryRight","partial","partialRight"],function(l){_[l].placeholder=_}),nn(["drop","take"],function(l,c){Ee.prototype[l]=function(h){h=h===T?1:Tt(De(h),0);var p=this.__filtered__&&!c?new Ee(this):this.clone();return p.__filtered__?p.__takeCount__=jt(h,p.__takeCount__):p.__views__.push({size:jt(h,Nn),type:l+(p.__dir__<0?"Right":"")}),p},Ee.prototype[l+"Right"]=function(h){return this.reverse()[l](h).reverse()}}),nn(["filter","map","takeWhile"],function(l,c){var h=c+1,p=1==h||3==h;Ee.prototype[l]=function(y){var b=this.clone();return b.__iteratees__.push({iteratee:oe(y,3),type:h}),b.__filtered__=b.__filtered__||p,b}}),nn(["head","last"],function(l,c){var h="take"+(c?"Right":"");Ee.prototype[l]=function(){return this[h](1).value()[0]}}),nn(["initial","tail"],function(l,c){var h="drop"+(c?"":"Right");Ee.prototype[l]=function(){return this.__filtered__?new Ee(this):this[h](1)}}),Ee.prototype.compact=function(){return this.filter(Yt)},Ee.prototype.find=function(l){return this.filter(l).head()},Ee.prototype.findLast=function(l){return this.reverse().find(l)},Ee.prototype.invokeMap=ke(function(l,c){return"function"==typeof l?new Ee(this):this.map(function(h){return Ql(h,l,c)})}),Ee.prototype.reject=function(l){return this.filter(Ua(oe(l)))},Ee.prototype.slice=function(l,c){l=De(l);var h=this;return h.__filtered__&&(l>0||c<0)?new Ee(h):(l<0?h=h.takeRight(-l):l&&(h=h.drop(l)),c!==T&&(h=(c=De(c))<0?h.dropRight(-c):h.take(c-l)),h)},Ee.prototype.takeRightWhile=function(l){return this.reverse().takeWhile(l).reverse()},Ee.prototype.toArray=function(){return this.take(Nn)},Mt(Ee.prototype,function(l,c){var h=/^(?:filter|find|map|reject)|While$/.test(c),p=/^(?:head|last)$/.test(c),y=_[p?"take"+("last"==c?"Right":""):c],b=p||/^find/.test(c);!y||(_.prototype[c]=function(){var P=this.__wrapped__,M=p?[1]:arguments,O=P instanceof Ee,H=M[0],q=O||_e(P),G=function(Ne){var Le=y.apply(_,Ue([Ne],M));return p&&z?Le[0]:Le};q&&h&&"function"==typeof H&&1!=H.length&&(O=q=!1);var z=this.__chain__,te=!!this.__actions__.length,ue=b&&!z,Te=O&&!te;if(!b&&q){P=Te?P:new Ee(this);var ae=l.apply(P,M);return ae.__actions__.push({func:qr,args:[G],thisArg:T}),new ut(ae,z)}return ue&&Te?l.apply(this,M):(ae=this.thru(G),ue?p?ae.value()[0]:ae.value():ae)})}),nn(["pop","push","shift","sort","splice","unshift"],function(l){var c=Et[l],h=/^(?:push|sort|unshift)$/.test(l)?"tap":"thru",p=/^(?:pop|shift)$/.test(l);_.prototype[l]=function(){var y=arguments;if(p&&!this.__chain__){var b=this.value();return c.apply(_e(b)?b:[],y)}return this[h](function(P){return c.apply(_e(P)?P:[],y)})}}),Mt(Ee.prototype,function(l,c){var h=_[c];if(h){var p=h.name+"";Je.call(xr,p)||(xr[p]=[]),xr[p].push({name:c,func:h})}}),xr[ic(T,2).name]=[{name:"wrapper",func:T}],Ee.prototype.clone=function(){var l=new Ee(this.__wrapped__);return l.__actions__=Ct(this.__actions__),l.__dir__=this.__dir__,l.__filtered__=this.__filtered__,l.__iteratees__=Ct(this.__iteratees__),l.__takeCount__=this.__takeCount__,l.__views__=Ct(this.__views__),l},Ee.prototype.reverse=function(){if(this.__filtered__){var l=new Ee(this);l.__dir__=-1,l.__filtered__=!0}else(l=this.clone()).__dir__*=-1;return l},Ee.prototype.value=function(){var l=this.__wrapped__.value(),c=this.__dir__,h=_e(l),p=c<0,y=h?l.length:0,b=function(l,c,h){for(var p=-1,y=h.length;++p<y;){var b=h[p],P=b.size;switch(b.type){case"drop":l+=P;break;case"dropRight":c-=P;break;case"take":c=jt(c,l+P);break;case"takeRight":l=Tt(l,c-P)}}return{start:l,end:c}}(0,y,this.__views__),P=b.start,M=b.end,O=M-P,H=p?M:P-1,q=this.__iteratees__,G=q.length,z=0,te=jt(O,this.__takeCount__);if(!h||!p&&y==O&&te==O)return Sp(l,this.__actions__);var ue=[];e:for(;O--&&z<te;){for(var Te=-1,ae=l[H+=c];++Te<G;){var Ne=q[Te],kn=Ne.type,An=(0,Ne.iteratee)(ae);if(2==kn)ae=An;else if(!An){if(1==kn)continue e;break e}}ue[z++]=ae}return ue},_.prototype.at=tg,_.prototype.chain=function(){return Xp(this)},_.prototype.commit=function(){return new ut(this.value(),this.__chain__)},_.prototype.next=function(){this.__values__===T&&(this.__values__=Xh(this.value()));var l=this.__index__>=this.__values__.length;return{done:l,value:l?T:this.__values__[this.__index__++]}},_.prototype.plant=function(l){for(var c,h=this;h instanceof ql;){var p=La(h);p.__index__=0,p.__values__=T,c?y.__wrapped__=p:c=p;var y=p;h=h.__wrapped__}return y.__wrapped__=l,c},_.prototype.reverse=function(){var l=this.__wrapped__;if(l instanceof Ee){var c=l;return this.__actions__.length&&(c=new Ee(this)),(c=c.reverse()).__actions__.push({func:qr,args:[Vh],thisArg:T}),new ut(c,this.__chain__)}return this.thru(Vh)},_.prototype.toJSON=_.prototype.valueOf=_.prototype.value=function(){return Sp(this.__wrapped__,this.__actions__)},_.prototype.first=_.prototype.head,ca&&(_.prototype[ca]=function(){return this}),_}();tn._=Fl,(Yn=function(){return Fl}.call(Zn,pr,Zn,mi))!==T&&(mi.exports=Yn)}.call(this)},965:(mi,Zn,pr)=>{"use strict";function Yn(n){return"function"==typeof n}let T=!1;const yi={Promise:void 0,set useDeprecatedSynchronousErrorHandling(n){if(n){const t=new Error;console.warn("DEPRECATED! RxJS was set to use deprecated synchronous error handling behavior by code at: \n"+t.stack)}else T&&console.log("RxJS: Back to a better error behavior. Thank you. <3");T=n},get useDeprecatedSynchronousErrorHandling(){return T}};function $s(n){setTimeout(()=>{throw n},0)}const yl={closed:!0,next(n){},error(n){if(yi.useDeprecatedSynchronousErrorHandling)throw n;$s(n)},complete(){}},cn=Array.isArray||(n=>n&&"number"==typeof n.length);function Eu(n){return null!==n&&"object"==typeof n}const vl=(()=>{function n(t){return Error.call(this),this.message=t?`${t.length} errors occurred during unsubscription:\n${t.map((e,i)=>`${i+1}) ${e.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=t,this}return n.prototype=Object.create(Error.prototype),n})();class je{constructor(t){this.closed=!1,this._parentOrParents=null,this._subscriptions=null,t&&(this._ctorUnsubscribe=!0,this._unsubscribe=t)}unsubscribe(){let t;if(this.closed)return;let{_parentOrParents:e,_ctorUnsubscribe:i,_unsubscribe:s,_subscriptions:r}=this;if(this.closed=!0,this._parentOrParents=null,this._subscriptions=null,e instanceof je)e.remove(this);else if(null!==e)for(let o=0;o<e.length;++o)e[o].remove(this);if(Yn(s)){i&&(this._unsubscribe=void 0);try{s.call(this)}catch(o){t=o instanceof vl?rs(o.errors):[o]}}if(cn(r)){let o=-1,a=r.length;for(;++o<a;){const u=r[o];if(Eu(u))try{u.unsubscribe()}catch(d){t=t||[],d instanceof vl?t=t.concat(rs(d.errors)):t.push(d)}}}if(t)throw new vl(t)}add(t){let e=t;if(!t)return je.EMPTY;switch(typeof t){case"function":e=new je(t);case"object":if(e===this||e.closed||"function"!=typeof e.unsubscribe)return e;if(this.closed)return e.unsubscribe(),e;if(!(e instanceof je)){const r=e;e=new je,e._subscriptions=[r]}break;default:throw new Error("unrecognized teardown "+t+" added to Subscription.")}let{_parentOrParents:i}=e;if(null===i)e._parentOrParents=this;else if(i instanceof je){if(i===this)return e;e._parentOrParents=[i,this]}else{if(-1!==i.indexOf(this))return e;i.push(this)}const s=this._subscriptions;return null===s?this._subscriptions=[e]:s.push(e),e}remove(t){const e=this._subscriptions;if(e){const i=e.indexOf(t);-1!==i&&e.splice(i,1)}}}var n;function rs(n){return n.reduce((t,e)=>t.concat(e instanceof vl?e.errors:e),[])}je.EMPTY=((n=new je).closed=!0,n);const Ko="function"==typeof Symbol?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random();class at extends je{constructor(t,e,i){switch(super(),this.syncErrorValue=null,this.syncErrorThrown=!1,this.syncErrorThrowable=!1,this.isStopped=!1,arguments.length){case 0:this.destination=yl;break;case 1:if(!t){this.destination=yl;break}if("object"==typeof t){t instanceof at?(this.syncErrorThrowable=t.syncErrorThrowable,this.destination=t,t.add(this)):(this.syncErrorThrowable=!0,this.destination=new Zo(this,t));break}default:this.syncErrorThrowable=!0,this.destination=new Zo(this,t,e,i)}}[Ko](){return this}static create(t,e,i){const s=new at(t,e,i);return s.syncErrorThrowable=!1,s}next(t){this.isStopped||this._next(t)}error(t){this.isStopped||(this.isStopped=!0,this._error(t))}complete(){this.isStopped||(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe())}_next(t){this.destination.next(t)}_error(t){this.destination.error(t),this.unsubscribe()}_complete(){this.destination.complete(),this.unsubscribe()}_unsubscribeAndRecycle(){const{_parentOrParents:t}=this;return this._parentOrParents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parentOrParents=t,this}}class Zo extends at{constructor(t,e,i,s){super(),this._parentSubscriber=t;let r,o=this;Yn(e)?r=e:e&&(r=e.next,i=e.error,s=e.complete,e!==yl&&(o=Object.create(e),Yn(o.unsubscribe)&&this.add(o.unsubscribe.bind(o)),o.unsubscribe=this.unsubscribe.bind(this))),this._context=o,this._next=r,this._error=i,this._complete=s}next(t){if(!this.isStopped&&this._next){const{_parentSubscriber:e}=this;yi.useDeprecatedSynchronousErrorHandling&&e.syncErrorThrowable?this.__tryOrSetError(e,this._next,t)&&this.unsubscribe():this.__tryOrUnsub(this._next,t)}}error(t){if(!this.isStopped){const{_parentSubscriber:e}=this,{useDeprecatedSynchronousErrorHandling:i}=yi;if(this._error)i&&e.syncErrorThrowable?(this.__tryOrSetError(e,this._error,t),this.unsubscribe()):(this.__tryOrUnsub(this._error,t),this.unsubscribe());else if(e.syncErrorThrowable)i?(e.syncErrorValue=t,e.syncErrorThrown=!0):$s(t),this.unsubscribe();else{if(this.unsubscribe(),i)throw t;$s(t)}}}complete(){if(!this.isStopped){const{_parentSubscriber:t}=this;if(this._complete){const e=()=>this._complete.call(this._context);yi.useDeprecatedSynchronousErrorHandling&&t.syncErrorThrowable?(this.__tryOrSetError(t,e),this.unsubscribe()):(this.__tryOrUnsub(e),this.unsubscribe())}else this.unsubscribe()}}__tryOrUnsub(t,e){try{t.call(this._context,e)}catch(i){if(this.unsubscribe(),yi.useDeprecatedSynchronousErrorHandling)throw i;$s(i)}}__tryOrSetError(t,e,i){if(!yi.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{e.call(this._context,i)}catch(s){return yi.useDeprecatedSynchronousErrorHandling?(t.syncErrorValue=s,t.syncErrorThrown=!0,!0):($s(s),!0)}return!1}_unsubscribe(){const{_parentSubscriber:t}=this;this._context=null,this._parentSubscriber=null,t.unsubscribe()}}const Xr="function"==typeof Symbol&&Symbol.observable||"@@observable";function vi(n){return n}let $e=(()=>{class n{constructor(e){this._isScalar=!1,e&&(this._subscribe=e)}lift(e){const i=new n;return i.source=this,i.operator=e,i}subscribe(e,i,s){const{operator:r}=this,o=function(n,t,e){if(n){if(n instanceof at)return n;if(n[Ko])return n[Ko]()}return n||t||e?new at(n,t,e):new at(yl)}(e,i,s);if(o.add(r?r.call(o,this.source):this.source||yi.useDeprecatedSynchronousErrorHandling&&!o.syncErrorThrowable?this._subscribe(o):this._trySubscribe(o)),yi.useDeprecatedSynchronousErrorHandling&&o.syncErrorThrowable&&(o.syncErrorThrowable=!1,o.syncErrorThrown))throw o.syncErrorValue;return o}_trySubscribe(e){try{return this._subscribe(e)}catch(i){yi.useDeprecatedSynchronousErrorHandling&&(e.syncErrorThrown=!0,e.syncErrorValue=i),function(n){for(;n;){const{closed:t,destination:e,isStopped:i}=n;if(t||i)return!1;n=e&&e instanceof at?e:null}return!0}(e)?e.error(i):console.warn(i)}}forEach(e,i){return new(i=Ri(i))((s,r)=>{let o;o=this.subscribe(a=>{try{e(a)}catch(u){r(u),o&&o.unsubscribe()}},r,s)})}_subscribe(e){const{source:i}=this;return i&&i.subscribe(e)}[Xr](){return this}pipe(...e){return 0===e.length?this:function(n){return 0===n.length?vi:1===n.length?n[0]:function(e){return n.reduce((i,s)=>s(i),e)}}(e)(this)}toPromise(e){return new(e=Ri(e))((i,s)=>{let r;this.subscribe(o=>r=o,o=>s(o),()=>i(r))})}}return n.create=t=>new n(t),n})();function Ri(n){if(n||(n=yi.Promise||Promise),!n)throw new Error("no Promise impl found");return n}const os=(()=>{function n(){return Error.call(this),this.message="object unsubscribed",this.name="ObjectUnsubscribedError",this}return n.prototype=Object.create(Error.prototype),n})();class Pf extends je{constructor(t,e){super(),this.subject=t,this.subscriber=e,this.closed=!1}unsubscribe(){if(this.closed)return;this.closed=!0;const t=this.subject,e=t.observers;if(this.subject=null,!e||0===e.length||t.isStopped||t.closed)return;const i=e.indexOf(this.subscriber);-1!==i&&e.splice(i,1)}}class kf extends at{constructor(t){super(t),this.destination=t}}let Re=(()=>{class n extends $e{constructor(){super(),this.observers=[],this.closed=!1,this.isStopped=!1,this.hasError=!1,this.thrownError=null}[Ko](){return new kf(this)}lift(e){const i=new Af(this,this);return i.operator=e,i}next(e){if(this.closed)throw new os;if(!this.isStopped){const{observers:i}=this,s=i.length,r=i.slice();for(let o=0;o<s;o++)r[o].next(e)}}error(e){if(this.closed)throw new os;this.hasError=!0,this.thrownError=e,this.isStopped=!0;const{observers:i}=this,s=i.length,r=i.slice();for(let o=0;o<s;o++)r[o].error(e);this.observers.length=0}complete(){if(this.closed)throw new os;this.isStopped=!0;const{observers:e}=this,i=e.length,s=e.slice();for(let r=0;r<i;r++)s[r].complete();this.observers.length=0}unsubscribe(){this.isStopped=!0,this.closed=!0,this.observers=null}_trySubscribe(e){if(this.closed)throw new os;return super._trySubscribe(e)}_subscribe(e){if(this.closed)throw new os;return this.hasError?(e.error(this.thrownError),je.EMPTY):this.isStopped?(e.complete(),je.EMPTY):(this.observers.push(e),new Pf(this,e))}asObservable(){const e=new $e;return e.source=this,e}}return n.create=(t,e)=>new Af(t,e),n})();class Af extends Re{constructor(t,e){super(),this.destination=t,this.source=e}next(t){const{destination:e}=this;e&&e.next&&e.next(t)}error(t){const{destination:e}=this;e&&e.error&&this.destination.error(t)}complete(){const{destination:t}=this;t&&t.complete&&this.destination.complete()}_subscribe(t){const{source:e}=this;return e?this.source.subscribe(t):je.EMPTY}}function eo(n){return n&&"function"==typeof n.schedule}function to(n,t){return function(i){if("function"!=typeof n)throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return i.lift(new Jy(n,t))}}class Jy{constructor(t,e){this.project=t,this.thisArg=e}call(t,e){return e.subscribe(new mr(t,this.project,this.thisArg))}}class mr extends at{constructor(t,e,i){super(t),this.project=e,this.count=0,this.thisArg=i||this}_next(t){let e;try{e=this.project.call(this.thisArg,t,this.count++)}catch(i){return void this.destination.error(i)}this.destination.next(e)}}const as=n=>t=>{for(let e=0,i=n.length;e<i&&!t.closed;e++)t.next(n[e]);t.complete()},Nn="function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator",yr=n=>n&&"number"==typeof n.length&&"function"!=typeof n;function Jo(n){return!!n&&"function"!=typeof n.subscribe&&"function"==typeof n.then}const Tf=n=>{if(n&&"function"==typeof n[Xr])return(n=>t=>{const e=n[Xr]();if("function"!=typeof e.subscribe)throw new TypeError("Provided object does not correctly implement Symbol.observable");return e.subscribe(t)})(n);if(yr(n))return as(n);if(Jo(n))return(n=>t=>(n.then(e=>{t.closed||(t.next(e),t.complete())},e=>t.error(e)).then(null,$s),t))(n);if(n&&"function"==typeof n[Nn])return(n=>t=>{const e=n[Nn]();for(;;){let i;try{i=e.next()}catch(s){return t.error(s),t}if(i.done){t.complete();break}if(t.next(i.value),t.closed)break}return"function"==typeof e.return&&t.add(()=>{e.return&&e.return()}),t})(n);{const e=`You provided ${Eu(n)?"an invalid object":`'${n}'`} where a stream was expected. You can provide an Observable, Promise, Array, or Iterable.`;throw new TypeError(e)}};function wu(n,t){return new $e(e=>{const i=new je;let s=0;return i.add(t.schedule(function(){s!==n.length?(e.next(n[s++]),e.closed||i.add(this.schedule())):e.complete()})),i})}function Hs(n,t){return t?function(n,t){if(null!=n){if(function(n){return n&&"function"==typeof n[Xr]}(n))return function(n,t){return new $e(e=>{const i=new je;return i.add(t.schedule(()=>{const s=n[Xr]();i.add(s.subscribe({next(r){i.add(t.schedule(()=>e.next(r)))},error(r){i.add(t.schedule(()=>e.error(r)))},complete(){i.add(t.schedule(()=>e.complete()))}}))})),i})}(n,t);if(Jo(n))return function(n,t){return new $e(e=>{const i=new je;return i.add(t.schedule(()=>n.then(s=>{i.add(t.schedule(()=>{e.next(s),i.add(t.schedule(()=>e.complete()))}))},s=>{i.add(t.schedule(()=>e.error(s)))}))),i})}(n,t);if(yr(n))return wu(n,t);if(function(n){return n&&"function"==typeof n[Nn]}(n)||"string"==typeof n)return function(n,t){if(!n)throw new Error("Iterable cannot be null");return new $e(e=>{const i=new je;let s;return i.add(()=>{s&&"function"==typeof s.return&&s.return()}),i.add(t.schedule(()=>{s=n[Nn](),i.add(t.schedule(function(){if(e.closed)return;let r,o;try{const a=s.next();r=a.value,o=a.done}catch(a){return void e.error(a)}o?e.complete():(e.next(r),this.schedule())}))})),i})}(n,t)}throw new TypeError((null!==n&&typeof n||n)+" is not observable")}(n,t):n instanceof $e?n:new $e(Tf(n))}class wl extends at{constructor(t){super(),this.parent=t}_next(t){this.parent.notifyNext(t)}_error(t){this.parent.notifyError(t),this.unsubscribe()}_complete(){this.parent.notifyComplete(),this.unsubscribe()}}class ta extends at{notifyNext(t){this.destination.next(t)}notifyError(t){this.destination.error(t)}notifyComplete(){this.destination.complete()}}function Us(n,t){if(t.closed)return;if(n instanceof $e)return n.subscribe(t);let e;try{e=Tf(n)(t)}catch(i){t.error(i)}return e}function Xn(n,t,e=Number.POSITIVE_INFINITY){return"function"==typeof t?i=>i.pipe(Xn((s,r)=>Hs(n(s,r)).pipe(to((o,a)=>t(s,o,r,a))),e)):("number"==typeof t&&(e=t),i=>i.lift(new na(n,e)))}class na{constructor(t,e=Number.POSITIVE_INFINITY){this.project=t,this.concurrent=e}call(t,e){return e.subscribe(new Cl(t,this.project,this.concurrent))}}class Cl extends ta{constructor(t,e,i=Number.POSITIVE_INFINITY){super(t),this.project=e,this.concurrent=i,this.hasCompleted=!1,this.buffer=[],this.active=0,this.index=0}_next(t){this.active<this.concurrent?this._tryNext(t):this.buffer.push(t)}_tryNext(t){let e;const i=this.index++;try{e=this.project(t,i)}catch(s){return void this.destination.error(s)}this.active++,this._innerSub(e)}_innerSub(t){const e=new wl(this),i=this.destination;i.add(e);const s=Us(t,e);s!==e&&i.add(s)}_complete(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&this.destination.complete(),this.unsubscribe()}notifyNext(t){this.destination.next(t)}notifyComplete(){const t=this.buffer;this.active--,t.length>0?this._next(t.shift()):0===this.active&&this.hasCompleted&&this.destination.complete()}}function no(n=Number.POSITIVE_INFINITY){return Xn(vi,n)}function Mf(n,t){return t?wu(n,t):new $e(as(n))}function vr(...n){let t=Number.POSITIVE_INFINITY,e=null,i=n[n.length-1];return eo(i)?(e=n.pop(),n.length>1&&"number"==typeof n[n.length-1]&&(t=n.pop())):"number"==typeof i&&(t=n.pop()),null===e&&1===n.length&&n[0]instanceof $e?n[0]:no(t)(Mf(n,e))}function _r(){return function(t){return t.lift(new Cu(t))}}class Cu{constructor(t){this.connectable=t}call(t,e){const{connectable:i}=this;i._refCount++;const s=new Du(t,i),r=e.subscribe(s);return s.closed||(s.connection=i.connect()),r}}class Du extends at{constructor(t,e){super(t),this.connectable=e}_unsubscribe(){const{connectable:t}=this;if(!t)return void(this.connection=null);this.connectable=null;const e=t._refCount;if(e<=0)return void(this.connection=null);if(t._refCount=e-1,e>1)return void(this.connection=null);const{connection:i}=this,s=t._connection;this.connection=null,s&&(!i||s===i)&&s.unsubscribe()}}class Pu extends $e{constructor(t,e){super(),this.source=t,this.subjectFactory=e,this._refCount=0,this._isComplete=!1}_subscribe(t){return this.getSubject().subscribe(t)}getSubject(){const t=this._subject;return(!t||t.isStopped)&&(this._subject=this.subjectFactory()),this._subject}connect(){let t=this._connection;return t||(this._isComplete=!1,t=this._connection=new je,t.add(this.source.subscribe(new Au(this.getSubject(),this))),t.closed&&(this._connection=null,t=je.EMPTY)),t}refCount(){return _r()(this)}}const ku=(()=>{const n=Pu.prototype;return{operator:{value:null},_refCount:{value:0,writable:!0},_subject:{value:null,writable:!0},_connection:{value:null,writable:!0},_subscribe:{value:n._subscribe},_isComplete:{value:n._isComplete,writable:!0},getSubject:{value:n.getSubject},connect:{value:n.connect},refCount:{value:n.refCount}}})();class Au extends kf{constructor(t,e){super(t),this.connectable=e}_error(t){this._unsubscribe(),super._error(t)}_complete(){this.connectable._isComplete=!0,this._unsubscribe(),super._complete()}_unsubscribe(){const t=this.connectable;if(t){this.connectable=null;const e=t._connection;t._refCount=0,t._subject=null,t._connection=null,e&&e.unsubscribe()}}}function nv(){return new Re}function Ke(n){for(let t in n)if(n[t]===Ke)return t;throw Error("Could not find renamed property on target object.")}function Dl(n,t){for(const e in t)t.hasOwnProperty(e)&&!n.hasOwnProperty(e)&&(n[e]=t[e])}function Pe(n){if("string"==typeof n)return n;if(Array.isArray(n))return"["+n.map(Pe).join(", ")+"]";if(null==n)return""+n;if(n.overriddenName)return`${n.overriddenName}`;if(n.name)return`${n.name}`;const t=n.toString();if(null==t)return""+t;const e=t.indexOf("\n");return-1===e?t:t.substring(0,e)}function Iu(n,t){return null==n||""===n?null===t?"":t:null==t||""===t?n:n+" "+t}const sv=Ke({__forward_ref__:Ke});function st(n){return n.__forward_ref__=st,n.toString=function(){return Pe(this())},n}function ie(n){return Ou(n)?n():n}function Ou(n){return"function"==typeof n&&n.hasOwnProperty(sv)&&n.__forward_ref__===st}class Gs extends Error{constructor(t,e){super(function(n,t){return`${n?`NG0${n}: `:""}${t}`}(t,e)),this.code=t}}function ye(n){return"string"==typeof n?n:null==n?"":String(n)}function en(n){return"function"==typeof n?n.name||n.toString():"object"==typeof n&&null!=n&&"function"==typeof n.type?n.type.name||n.type.toString():ye(n)}function Pl(n,t){const e=t?` in ${t}`:"";throw new Gs("201",`No provider for ${en(n)} found${e}`)}function un(n,t){null==n&&function(n,t,e,i){throw new Error(`ASSERTION ERROR: ${n}`+(null==i?"":` [Expected=> ${e} ${i} ${t} <=Actual]`))}(t,n,null,"!=")}function ne(n){return{token:n.token,providedIn:n.providedIn||null,factory:n.factory,value:void 0}}function Nt(n){return{providers:n.providers||[],imports:n.imports||[]}}function ls(n){return Of(n,sa)||Of(n,Nf)}function Of(n,t){return n.hasOwnProperty(t)?n[t]:null}function Ru(n){return n&&(n.hasOwnProperty(ra)||n.hasOwnProperty(Lf))?n[ra]:null}const sa=Ke({\u0275prov:Ke}),ra=Ke({\u0275inj:Ke}),Nf=Ke({ngInjectableDef:Ke}),Lf=Ke({ngInjectorDef:Ke});var re=(()=>((re=re||{})[re.Default=0]="Default",re[re.Host=1]="Host",re[re.Self=2]="Self",re[re.SkipSelf=4]="SkipSelf",re[re.Optional=8]="Optional",re))();let Al;function cs(n){const t=Al;return Al=n,t}function Nu(n,t,e){const i=ls(n);return i&&"root"==i.providedIn?void 0===i.value?i.value=i.factory():i.value:e&re.Optional?null:void 0!==t?t:void Pl(Pe(n),"Injector")}function js(n){return{toString:n}.toString()}var Fn=(()=>((Fn=Fn||{})[Fn.OnPush=0]="OnPush",Fn[Fn.Default=1]="Default",Fn))(),pt=(()=>((pt=pt||{})[pt.Emulated=0]="Emulated",pt[pt.None=2]="None",pt[pt.ShadowDom=3]="ShadowDom",pt))();const $f="undefined"!=typeof globalThis&&globalThis,Hf="undefined"!=typeof window&&window,dv="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,Qe=$f||"undefined"!=typeof global&&global||Hf||dv,io={},et=[],Tl=Ke({\u0275cmp:Ke}),xl=Ke({\u0275dir:Ke}),Lu=Ke({\u0275pipe:Ke}),qf=Ke({\u0275mod:Ke}),mv=Ke({\u0275loc:Ke}),us=Ke({\u0275fac:Ke}),br=Ke({__NG_ELEMENT_ID__:Ke});let yv=0;function Sr(n){return js(()=>{const e={},i={type:n.type,providersResolver:null,decls:n.decls,vars:n.vars,factory:null,template:n.template||null,consts:n.consts||null,ngContentSelectors:n.ngContentSelectors,hostBindings:n.hostBindings||null,hostVars:n.hostVars||0,hostAttrs:n.hostAttrs||null,contentQueries:n.contentQueries||null,declaredInputs:e,inputs:null,outputs:null,exportAs:n.exportAs||null,onPush:n.changeDetection===Fn.OnPush,directiveDefs:null,pipeDefs:null,selectors:n.selectors||et,viewQuery:n.viewQuery||null,features:n.features||null,data:n.data||{},encapsulation:n.encapsulation||pt.Emulated,id:"c",styles:n.styles||et,_:null,setInput:null,schemas:n.schemas||null,tView:null},s=n.directives,r=n.features,o=n.pipes;return i.id+=yv++,i.inputs=jf(n.inputs,e),i.outputs=jf(n.outputs),r&&r.forEach(a=>a(i)),i.directiveDefs=s?()=>("function"==typeof s?s():s).map(Uf):null,i.pipeDefs=o?()=>("function"==typeof o?o():o).map(Gf):null,i})}function Uf(n){return hn(n)||function(n){return n[xl]||null}(n)}function Gf(n){return function(n){return n[Lu]||null}(n)}const lt={};function Se(n){return js(()=>{const t={type:n.type,bootstrap:n.bootstrap||et,declarations:n.declarations||et,imports:n.imports||et,exports:n.exports||et,transitiveCompileScopes:null,schemas:n.schemas||null,id:n.id||null};return null!=n.id&&(lt[n.id]=n.type),t})}function jf(n,t){if(null==n)return io;const e={};for(const i in n)if(n.hasOwnProperty(i)){let s=n[i],r=s;Array.isArray(s)&&(r=s[1],s=s[0]),e[s]=i,t&&(t[s]=r)}return e}const ee=Sr;function Pn(n){return{type:n.type,name:n.name,factory:null,pure:!1!==n.pure,onDestroy:n.type.prototype.ngOnDestroy||null}}function hn(n){return n[Tl]||null}function ei(n,t){const e=n[qf]||null;if(!e&&!0===t)throw new Error(`Type ${Pe(n)} does not have '\u0275mod' property.`);return e}function Li(n){return Array.isArray(n)&&"object"==typeof n[1]}function ti(n){return Array.isArray(n)&&!0===n[1]}function Ol(n){return 0!=(8&n.flags)}function ao(n){return 2==(2&n.flags)}function lo(n){return 1==(1&n.flags)}function ni(n){return null!==n.template}function Sv(n){return 0!=(512&n[2])}function Dr(n,t){return n.hasOwnProperty(us)?n[us]:null}class Kf{constructor(t,e,i){this.previousValue=t,this.currentValue=e,this.firstChange=i}isFirstChange(){return this.firstChange}}function xt(){return si}function si(n){return n.type.prototype.ngOnChanges&&(n.setInput=Pv),Qf}function Qf(){const n=Yf(this),t=null==n?void 0:n.current;if(t){const e=n.previous;if(e===io)n.previous=t;else for(let i in t)e[i]=t[i];n.current=null,this.ngOnChanges(t)}}function Pv(n,t,e,i){const s=Yf(n)||function(n,t){return n[Zf]=t}(n,{previous:io,current:null}),r=s.current||(s.current={}),o=s.previous,a=this.declaredInputs[e],u=o[a];r[a]=new Kf(u&&u.currentValue,t,o===io),n[i]=t}xt.ngInherit=!0;const Zf="__ngSimpleChanges__";function Yf(n){return n[Zf]||null}const $="http://www.w3.org/2000/svg";let Y;function de(n){return!!n.listen}const Xf={createRenderer:(n,t)=>void 0!==Y?Y:"undefined"!=typeof document?document:void 0};function Et(n){for(;Array.isArray(n);)n=n[0];return n}function Pr(n,t){return Et(t[n])}function dn(n,t){return Et(t[n.index])}function Uu(n,t){return n.data[t]}function fn(n,t){const e=t[n];return Li(e)?e:e[0]}function ep(n){return 4==(4&n[2])}function Gu(n){return 128==(128&n[2])}function Si(n,t){return null==t?null:n[t]}function hs(n){n[18]=0}function co(n,t){n[5]+=t;let e=n,i=n[3];for(;null!==i&&(1===t&&1===e[5]||-1===t&&0===e[5]);)i[5]+=t,e=i,i=i[3]}const fe={lFrame:pa(null),bindingsEnabled:!0,isInCheckNoChangesMode:!1};function Wu(){return fe.bindingsEnabled}function U(){return fe.lFrame.lView}function qe(){return fe.lFrame.tView}function ua(n){return fe.lFrame.contextLView=n,n[8]}function Gt(){let n=ha();for(;null!==n&&64===n.type;)n=n.parent;return n}function ha(){return fe.lFrame.currentTNode}function oi(n,t){const e=fe.lFrame;e.currentTNode=n,e.isParent=t}function zu(){return fe.lFrame.isParent}function Tt(){return fe.isInCheckNoChangesMode}function jt(n){fe.isInCheckNoChangesMode=n}function En(){const n=fe.lFrame;let t=n.bindingRootIndex;return-1===t&&(t=n.bindingRootIndex=n.tView.bindingStartIndex),t}function Fi(){return fe.lFrame.bindingIndex}function uo(){return fe.lFrame.bindingIndex++}function Ei(n){const t=fe.lFrame,e=t.bindingIndex;return t.bindingIndex=t.bindingIndex+n,e}function ho(n,t){const e=fe.lFrame;e.bindingIndex=e.bindingRootIndex=n,Tr(t)}function Tr(n){fe.lFrame.currentDirectiveIndex=n}function xr(){return fe.lFrame.currentQueryIndex}function Qu(n){fe.lFrame.currentQueryIndex=n}function Mv(n){const t=n[1];return 2===t.type?t.declTNode:1===t.type?n[6]:null}function ip(n,t,e){if(e&re.SkipSelf){let s=t,r=n;for(;!(s=s.parent,null!==s||e&re.Host||(s=Mv(r),null===s||(r=r[15],10&s.type))););if(null===s)return!1;t=s,n=r}const i=fe.lFrame=sp();return i.currentTNode=t,i.lView=n,!0}function Hl(n){const t=sp(),e=n[1];fe.lFrame=t,t.currentTNode=e.firstChild,t.lView=n,t.tView=e,t.contextLView=n,t.bindingIndex=e.bindingStartIndex,t.inI18n=!1}function sp(){const n=fe.lFrame,t=null===n?null:n.child;return null===t?pa(n):t}function pa(n){const t={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:n,child:null,inI18n:!1};return null!==n&&(n.child=t),t}function po(){const n=fe.lFrame;return fe.lFrame=n.parent,n.currentTNode=null,n.lView=null,n}const Zu=po;function _(){const n=po();n.isParent=!0,n.tView=null,n.selectedIndex=-1,n.contextLView=null,n.elementDepthCount=0,n.currentDirectiveIndex=-1,n.currentNamespace=null,n.bindingRootIndex=-1,n.bindingIndex=-1,n.currentQueryIndex=0}function ut(){return fe.lFrame.selectedIndex}function Ee(n){fe.lFrame.selectedIndex=n}function wt(){const n=fe.lFrame;return Uu(n.tView,n.selectedIndex)}function Yu(){fe.lFrame.currentNamespace=$}function ds(){fe.lFrame.currentNamespace=null}function Ul(n,t){for(let e=t.directiveStart,i=t.directiveEnd;e<i;e++){const r=n.data[e].type.prototype,{ngAfterContentInit:o,ngAfterContentChecked:a,ngAfterViewInit:u,ngAfterViewChecked:d,ngOnDestroy:f}=r;o&&(n.contentHooks||(n.contentHooks=[])).push(-e,o),a&&((n.contentHooks||(n.contentHooks=[])).push(e,a),(n.contentCheckHooks||(n.contentCheckHooks=[])).push(e,a)),u&&(n.viewHooks||(n.viewHooks=[])).push(-e,u),d&&((n.viewHooks||(n.viewHooks=[])).push(e,d),(n.viewCheckHooks||(n.viewCheckHooks=[])).push(e,d)),null!=f&&(n.destroyHooks||(n.destroyHooks=[])).push(e,f)}}function Gl(n,t,e){rp(n,t,3,e)}function ai(n,t,e,i){(3&n[2])===e&&rp(n,t,e,i)}function Ju(n,t){let e=n[2];(3&e)===t&&(e&=2047,e+=1,n[2]=e)}function rp(n,t,e,i){const r=null!=i?i:-1,o=t.length-1;let a=0;for(let u=void 0!==i?65535&n[18]:0;u<o;u++)if("number"==typeof t[u+1]){if(a=t[u],null!=i&&a>=i)break}else t[u]<0&&(n[18]+=65536),(a<r||-1==r)&&(Lv(n,e,t,u),n[18]=(4294901760&n[18])+u+2),u++}function Lv(n,t,e,i){const s=e[i]<0,r=e[i+1],a=n[s?-e[i]:e[i]];if(s){if(n[2]>>11<n[18]>>16&&(3&n[2])===t){n[2]+=2048;try{r.call(a)}finally{}}}else try{r.call(a)}finally{}}class ga{constructor(t,e,i){this.factory=t,this.resolving=!1,this.canSeeViewProviders=e,this.injectImpl=i}}function jl(n,t,e){const i=de(n);let s=0;for(;s<e.length;){const r=e[s];if("number"==typeof r){if(0!==r)break;s++;const o=e[s++],a=e[s++],u=e[s++];i?n.setAttribute(t,a,u,o):t.setAttributeNS(o,a,u)}else{const o=r,a=e[++s];eh(o)?i&&n.setProperty(t,o,a):i?n.setAttribute(t,o,a):t.setAttribute(o,a),s++}}return s}function li(n){return 3===n||4===n||6===n}function eh(n){return 64===n.charCodeAt(0)}function Wl(n,t){if(null!==t&&0!==t.length)if(null===n||0===n.length)n=t.slice();else{let e=-1;for(let i=0;i<t.length;i++){const s=t[i];"number"==typeof s?e=s:0===e||op(n,e,s,null,-1===e||2===e?t[++i]:null)}}return n}function op(n,t,e,i,s){let r=0,o=n.length;if(-1===t)o=-1;else for(;r<n.length;){const a=n[r++];if("number"==typeof a){if(a===t){o=-1;break}if(a>t){o=r-1;break}}}for(;r<n.length;){const a=n[r];if("number"==typeof a)break;if(a===e){if(null===i)return void(null!==s&&(n[r+1]=s));if(i===n[r+1])return void(n[r+2]=s)}r++,null!==i&&r++,null!==s&&r++}-1!==o&&(n.splice(o,0,t),r=o+1),n.splice(r++,0,e),null!==i&&n.splice(r++,0,i),null!==s&&n.splice(r++,0,s)}function ap(n){return-1!==n}function yo(n){return 32767&n}function Mr(n,t){let e=function(n){return n>>16}(n),i=t;for(;e>0;)i=i[15],e--;return i}let th=!0;function zl(n){const t=th;return th=n,t}let $v=0;function va(n,t){const e=_a(n,t);if(-1!==e)return e;const i=t[1];i.firstCreatePass&&(n.injectorIndex=t.length,wi(i.data,n),wi(t,null),wi(i.blueprint,null));const s=Vi(n,t),r=n.injectorIndex;if(ap(s)){const o=yo(s),a=Mr(s,t),u=a[1].data;for(let d=0;d<8;d++)t[r+d]=a[o+d]|u[o+d]}return t[r+8]=s,r}function wi(n,t){n.push(0,0,0,0,0,0,0,0,t)}function _a(n,t){return-1===n.injectorIndex||n.parent&&n.parent.injectorIndex===n.injectorIndex||null===t[n.injectorIndex+8]?-1:n.injectorIndex}function Vi(n,t){if(n.parent&&-1!==n.parent.injectorIndex)return n.parent.injectorIndex;let e=0,i=null,s=t;for(;null!==s;){const r=s[1],o=r.type;if(i=2===o?r.declTNode:1===o?s[6]:null,null===i)return-1;if(e++,s=s[15],-1!==i.injectorIndex)return i.injectorIndex|e<<16}return-1}function wn(n,t,e){!function(n,t,e){let i;"string"==typeof e?i=e.charCodeAt(0)||0:e.hasOwnProperty(br)&&(i=e[br]),null==i&&(i=e[br]=$v++);const s=255&i;t.data[n+(s>>5)]|=1<<s}(n,t,e)}function nh(n,t,e){if(e&re.Optional)return n;Pl(t,"NodeInjector")}function ih(n,t,e,i){if(e&re.Optional&&void 0===i&&(i=null),0==(e&(re.Self|re.Host))){const s=n[9],r=cs(void 0);try{return s?s.get(t,i,e&re.Optional):Nu(t,i,e&re.Optional)}finally{cs(r)}}return nh(i,t,e)}function _o(n,t,e,i=re.Default,s){if(null!==n){const r=function(n){if("string"==typeof n)return n.charCodeAt(0)||0;const t=n.hasOwnProperty(br)?n[br]:void 0;return"number"==typeof t?t>=0?255&t:hp:t}(e);if("function"==typeof r){if(!ip(t,n,i))return i&re.Host?nh(s,e,i):ih(t,e,i,s);try{const o=r(i);if(null!=o||i&re.Optional)return o;Pl(e)}finally{Zu()}}else if("number"==typeof r){let o=null,a=_a(n,t),u=-1,d=i&re.Host?t[16][6]:null;for((-1===a||i&re.SkipSelf)&&(u=-1===a?Vi(n,t):t[a+8],-1!==u&&Kl(i,!1)?(o=t[1],a=yo(u),t=Mr(u,t)):a=-1);-1!==a;){const f=t[1];if(Qt(r,a,f.data)){const g=qv(a,t,e,o,i,d);if(g!==ps)return g}u=t[a+8],-1!==u&&Kl(i,t[1].data[a+8]===d)&&Qt(r,a,t)?(o=f,a=yo(u),t=Mr(u,t)):a=-1}}}return ih(t,e,i,s)}const ps={};function hp(){return new Or(Gt(),U())}function qv(n,t,e,i,s,r){const o=t[1],a=o.data[n+8],f=Ir(a,o,e,null==i?ao(a)&&th:i!=o&&0!=(3&a.type),s&re.Host&&r===a);return null!==f?ba(t,o,f,a):ps}function Ir(n,t,e,i,s){const r=n.providerIndexes,o=t.data,a=1048575&r,u=n.directiveStart,f=r>>20,m=s?a+f:n.directiveEnd;for(let v=i?a:a+f;v<m;v++){const S=o[v];if(v<u&&e===S||v>=u&&S.type===e)return v}if(s){const v=o[u];if(v&&ni(v)&&v.type===e)return u}return null}function ba(n,t,e,i){let s=n[e];const r=t.data;if(function(n){return n instanceof ga}(s)){const o=s;o.resolving&&function(n,t){throw new Gs("200",`Circular dependency in DI detected for ${n}`)}(en(r[e]));const a=zl(o.canSeeViewProviders);o.resolving=!0;const u=o.injectImpl?cs(o.injectImpl):null;ip(n,i,re.Default);try{s=n[e]=o.factory(void 0,r,n,i),t.firstCreatePass&&e>=i.directiveStart&&function(n,t,e){const{ngOnChanges:i,ngOnInit:s,ngDoCheck:r}=t.type.prototype;if(i){const o=si(t);(e.preOrderHooks||(e.preOrderHooks=[])).push(n,o),(e.preOrderCheckHooks||(e.preOrderCheckHooks=[])).push(n,o)}s&&(e.preOrderHooks||(e.preOrderHooks=[])).push(0-n,s),r&&((e.preOrderHooks||(e.preOrderHooks=[])).push(n,r),(e.preOrderCheckHooks||(e.preOrderCheckHooks=[])).push(n,r))}(e,r[e],t)}finally{null!==u&&cs(u),zl(a),o.resolving=!1,Zu()}}return s}function Qt(n,t,e){return!!(e[t+(n>>5)]&1<<n)}function Kl(n,t){return!(n&re.Self||n&re.Host&&t)}class Or{constructor(t,e){this._tNode=t,this._lView=e}get(t,e,i){return _o(this._tNode,this._lView,t,i,e)}}function Mt(n){return js(()=>{const t=n.prototype.constructor,e=t[us]||Sa(t),i=Object.prototype;let s=Object.getPrototypeOf(n.prototype).constructor;for(;s&&s!==i;){const r=s[us]||Sa(s);if(r&&r!==e)return r;s=Object.getPrototypeOf(s)}return r=>new r})}function Sa(n){return Ou(n)?()=>{const t=Sa(ie(n));return t&&t()}:Dr(n)}const Rr="__parameters__";function Lr(n,t,e){return js(()=>{const i=function(n){return function(...e){if(n){const i=n(...e);for(const s in i)this[s]=i[s]}}}(t);function s(...r){if(this instanceof s)return i.apply(this,r),this;const o=new s(...r);return a.annotation=o,a;function a(u,d,f){const g=u.hasOwnProperty(Rr)?u[Rr]:Object.defineProperty(u,Rr,{value:[]})[Rr];for(;g.length<=f;)g.push(null);return(g[f]=g[f]||[]).push(o),u}}return e&&(s.prototype=Object.create(e.prototype)),s.prototype.ngMetadataName=n,s.annotationCls=s,s})}class ce{constructor(t,e){this._desc=t,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof e?this.__NG_ELEMENT_ID__=e:void 0!==e&&(this.\u0275prov=ne({token:this,providedIn:e.providedIn||"root",factory:e.factory}))}toString(){return`InjectionToken ${this._desc}`}}function Bn(n,t){void 0===t&&(t=n);for(let e=0;e<n.length;e++){let i=n[e];Array.isArray(i)?(t===n&&(t=n.slice(0,e)),Bn(i,t)):t!==n&&t.push(i)}return t}function Ci(n,t){n.forEach(e=>Array.isArray(e)?Ci(e,t):t(e))}function Yl(n,t,e){t>=n.length?n.push(e):n.splice(t,0,e)}function tr(n,t){return t>=n.length-1?n.pop():n.splice(t,1)[0]}function $n(n,t,e){let i=Bi(n,t);return i>=0?n[1|i]=e:(i=~i,function(n,t,e,i){let s=n.length;if(s==t)n.push(e,i);else if(1===s)n.push(i,n[0]),n[0]=e;else{for(s--,n.push(n[s-1],n[s]);s>t;)n[s]=n[s-2],s--;n[t]=e,n[t+1]=i}}(n,i,t,e)),i}function ah(n,t){const e=Bi(n,t);if(e>=0)return n[1|e]}function Bi(n,t){return function(n,t,e){let i=0,s=n.length>>e;for(;s!==i;){const r=i+(s-i>>1),o=n[r<<e];if(t===o)return r<<e;o>t?s=r:i=r+1}return~(s<<e)}(n,t,1)}const Vr={},tc="__NG_DI_FLAG__",gs="ngTempTokenPath",ch=/\n/gm,Ca="__source",$i=Ke({provide:String,useValue:Ke});let Da;function Hn(n){const t=Da;return Da=n,t}function Cp(n,t=re.Default){if(void 0===Da)throw new Error("inject() must be called from an injection context");return null===Da?Nu(n,void 0,t):Da.get(n,t&re.Optional?null:void 0,t)}function V(n,t=re.Default){return(Al||Cp)(ie(n),t)}const Zv=V;function Br(n){const t=[];for(let e=0;e<n.length;e++){const i=ie(n[e]);if(Array.isArray(i)){if(0===i.length)throw new Error("Arguments array must have arguments.");let s,r=re.Default;for(let o=0;o<i.length;o++){const a=i[o],u=Dp(a);"number"==typeof u?-1===u?s=a.token:r|=u:s=a}t.push(V(s,r))}else t.push(V(i))}return t}function Pa(n,t){return n[tc]=t,n.prototype[tc]=t,n}function Dp(n){return n[tc]}function uh(n,t,e,i){const s=n[gs];throw t[Ca]&&s.unshift(t[Ca]),n.message=function(n,t,e,i=null){n=n&&"\n"===n.charAt(0)&&"\u0275"==n.charAt(1)?n.substr(2):n;let s=Pe(t);if(Array.isArray(t))s=t.map(Pe).join(" -> ");else if("object"==typeof t){let r=[];for(let o in t)if(t.hasOwnProperty(o)){let a=t[o];r.push(o+":"+("string"==typeof a?JSON.stringify(a):Pe(a)))}s=`{${r.join(", ")}}`}return`${e}${i?"("+i+")":""}[${s}]: ${n.replace(ch,"\n  ")}`}("\n"+n.message,s,e,i),n.ngTokenPath=s,n[gs]=null,n}const wo=Pa(Lr("Inject",n=>({token:n})),-1),Ct=Pa(Lr("Optional"),8),$r=Pa(Lr("SkipSelf"),4);var gn=(()=>((gn=gn||{})[gn.Important=1]="Important",gn[gn.DashCase=2]="DashCase",gn))();const Tp="__ngContext__";function sn(n,t){n[Tp]=t}function mh(n){const t=function(n){return n[Tp]||null}(n);return t?Array.isArray(t)?t:t.lView:null}function bh(n,t){return undefined(n,t)}function Vt(n){const t=n[3];return ti(t)?t[3]:t}function cc(n){return Ch(n[13])}function wh(n){return Ch(n[4])}function Ch(n){for(;null!==n&&!ti(n);)n=n[4];return n}function Do(n,t,e,i,s){if(null!=i){let r,o=!1;ti(i)?r=i:Li(i)&&(o=!0,i=i[0]);const a=Et(i);0===n&&null!==e?null==s?Mh(t,e,a):_s(t,e,a,s||null,!0):1===n&&null!==e?_s(t,e,a,s||null,!0):2===n?function(n,t,e){const i=Ra(n,t);i&&function(n,t,e,i){de(n)?n.removeChild(t,e,i):t.removeChild(e)}(n,i,t,e)}(t,a,o):3===n&&t.destroyNode(a),null!=r&&function(n,t,e,i,s){const r=e[7];r!==Et(e)&&Do(t,n,i,r,s);for(let a=10;a<e.length;a++){const u=e[a];Fa(u[1],u,n,t,i,r)}}(t,n,r,e,s)}}function Ia(n,t,e){return de(n)?n.createElement(t,e):null===e?n.createElement(t):n.createElementNS(e,t)}function kh(n,t){const e=n[9],i=e.indexOf(t),s=t[3];1024&t[2]&&(t[2]&=-1025,co(s,-1)),e.splice(i,1)}function Ah(n,t){if(n.length<=10)return;const e=10+t,i=n[e];if(i){const s=i[17];null!==s&&s!==n&&kh(s,i),t>0&&(n[e-1][4]=i[4]);const r=tr(n,10+t);!function(n,t){Fa(n,t,t[11],2,null,null),t[0]=null,t[6]=null}(i[1],i);const o=r[19];null!==o&&o.detachView(r[1]),i[3]=null,i[4]=null,i[2]&=-129}return i}function Op(n,t){if(!(256&t[2])){const e=t[11];de(e)&&e.destroyNode&&Fa(n,t,e,3,null,null),function(n){let t=n[13];if(!t)return Th(n[1],n);for(;t;){let e=null;if(Li(t))e=t[13];else{const i=t[10];i&&(e=i)}if(!e){for(;t&&!t[4]&&t!==n;)Li(t)&&Th(t[1],t),t=t[3];null===t&&(t=n),Li(t)&&Th(t[1],t),e=t&&t[4]}t=e}}(t)}}function Th(n,t){if(!(256&t[2])){t[2]&=-129,t[2]|=256,function(n,t){let e;if(null!=n&&null!=(e=n.destroyHooks))for(let i=0;i<e.length;i+=2){const s=t[e[i]];if(!(s instanceof ga)){const r=e[i+1];if(Array.isArray(r))for(let o=0;o<r.length;o+=2){const a=s[r[o]],u=r[o+1];try{u.call(a)}finally{}}else try{r.call(s)}finally{}}}}(n,t),function(n,t){const e=n.cleanup,i=t[7];let s=-1;if(null!==e)for(let r=0;r<e.length-1;r+=2)if("string"==typeof e[r]){const o=e[r+1],a="function"==typeof o?o(t):Et(t[o]),u=i[s=e[r+2]],d=e[r+3];"boolean"==typeof d?a.removeEventListener(e[r],u,d):d>=0?i[s=d]():i[s=-d].unsubscribe(),r+=2}else{const o=i[s=e[r+1]];e[r].call(o)}if(null!==i){for(let r=s+1;r<i.length;r++)i[r]();t[7]=null}}(n,t),1===t[1].type&&de(t[11])&&t[11].destroy();const e=t[17];if(null!==e&&ti(t[3])){e!==t[3]&&kh(e,t);const i=t[19];null!==i&&i.detachView(n)}}}function xh(n,t,e){return function(n,t,e){let i=t;for(;null!==i&&40&i.type;)i=(t=i).parent;if(null===i)return e[0];if(2&i.flags){const s=n.data[i.directiveStart].encapsulation;if(s===pt.None||s===pt.Emulated)return null}return dn(i,e)}(n,t.parent,e)}function _s(n,t,e,i,s){de(n)?n.insertBefore(t,e,i,s):t.insertBefore(e,i,s)}function Mh(n,t,e){de(n)?n.appendChild(t,e):t.appendChild(e)}function Po(n,t,e,i,s){null!==i?_s(n,t,e,i,s):Mh(n,t,e)}function Ra(n,t){return de(n)?n.parentNode(t):t.parentNode}let Pi=function(n,t,e){return 40&n.type?dn(n,e):null};function La(n,t,e,i){const s=xh(n,i,t),r=t[11],a=function(n,t,e){return Pi(n,t,e)}(i.parent||t[6],i,t);if(null!=s)if(Array.isArray(e))for(let u=0;u<e.length;u++)Po(r,s,e[u],a,!1);else Po(r,s,e,a,!1)}function uc(n,t){if(null!==t){const e=t.type;if(3&e)return dn(t,n);if(4&e)return Rh(-1,n[t.index]);if(8&e){const i=t.child;if(null!==i)return uc(n,i);{const s=n[t.index];return ti(s)?Rh(-1,s):Et(s)}}if(32&e)return bh(t,n)()||Et(n[t.index]);{const i=Vp(n,t);return null!==i?Array.isArray(i)?i[0]:uc(Vt(n[16]),i):uc(n,t.next)}}return null}function Vp(n,t){return null!==t?n[16][6].projection[t.projection]:null}function Rh(n,t){const e=10+n+1;if(e<t.length){const i=t[e],s=i[1].firstChild;if(null!==s)return uc(i,s)}return t[7]}function Lh(n,t,e,i,s,r,o){for(;null!=e;){const a=i[e.index],u=e.type;if(o&&0===t&&(a&&sn(Et(a),i),e.flags|=4),64!=(64&e.flags))if(8&u)Lh(n,t,e.child,i,s,r,!1),Do(t,n,s,a,r);else if(32&u){const d=bh(e,i);let f;for(;f=d();)Do(t,n,s,f,r);Do(t,n,s,a,r)}else 16&u?Bp(n,t,i,e,s,r):Do(t,n,s,a,r);e=o?e.projectionNext:e.next}}function Fa(n,t,e,i,s,r){Lh(e,i,n.firstChild,t,s,r,!1)}function Bp(n,t,e,i,s,r){const o=e[16],u=o[6].projection[i.projection];if(Array.isArray(u))for(let d=0;d<u.length;d++)Do(t,n,s,u[d],r);else Lh(n,t,u,o[3],s,r,!0)}function $p(n,t,e){de(n)?n.setAttribute(t,"style",e):t.style.cssText=e}function hc(n,t,e){de(n)?""===e?n.removeAttribute(t,"class"):n.setAttribute(t,"class",e):t.className=e}function Un(n){return n instanceof class{constructor(t){this.changingThisBreaksApplicationSecurity=t}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}?n.changingThisBreaksApplicationSecurity:n}function gc(n){return n.ngOriginalError}function U_(n,...t){n.error(...t)}class Ur{constructor(){this._console=console}handleError(t){const e=this._findOriginalError(t),i=this._findContext(t),s=function(n){return n&&n.ngErrorLogger||U_}(t);s(this._console,"ERROR",t),e&&s(this._console,"ORIGINAL ERROR",e),i&&s(this._console,"ERROR CONTEXT",i)}_findContext(t){return t?function(n){return n.ngDebugContext}(t)||this._findContext(gc(t)):null}_findOriginalError(t){let e=t&&gc(t);for(;e&&gc(e);)e=gc(e);return e||null}}const lg=(()=>("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(Qe))();function ki(n){return n instanceof Function?n():n}function dg(n,t,e){let i=n.length;for(;;){const s=n.indexOf(t,e);if(-1===s)return s;if(0===s||n.charCodeAt(s-1)<=32){const r=t.length;if(s+r===i||n.charCodeAt(s+r)<=32)return s}e=s+1}}const Ua="ng-template";function Z_(n,t,e){let i=0;for(;i<n.length;){let s=n[i++];if(e&&"class"===s){if(s=n[i],-1!==dg(s.toLowerCase(),t,0))return!0}else if(1===s){for(;i<n.length&&"string"==typeof(s=n[i++]);)if(s.toLowerCase()===t)return!0;return!1}}return!1}function fg(n){return 4===n.type&&n.value!==Ua}function zh(n,t,e){return t===(4!==n.type||e?n.value:Ua)}function pg(n,t,e){let i=4;const s=n.attrs||[],r=function(n){for(let t=0;t<n.length;t++)if(li(n[t]))return t;return n.length}(s);let o=!1;for(let a=0;a<t.length;a++){const u=t[a];if("number"!=typeof u){if(!o)if(4&i){if(i=2|1&i,""!==u&&!zh(n,u,e)||""===u&&1===t.length){if(Ai(i))return!1;o=!0}}else{const d=8&i?u:t[++a];if(8&i&&null!==n.attrs){if(!Z_(n.attrs,d,e)){if(Ai(i))return!1;o=!0}continue}const g=Y_(8&i?"class":u,s,fg(n),e);if(-1===g){if(Ai(i))return!1;o=!0;continue}if(""!==d){let m;m=g>r?"":s[g+1].toLowerCase();const v=8&i?m:null;if(v&&-1!==dg(v,d,0)||2&i&&d!==m){if(Ai(i))return!1;o=!0}}}}else{if(!o&&!Ai(i)&&!Ai(u))return!1;if(o&&Ai(u))continue;o=!1,i=u|1&i}}return Ai(i)||o}function Ai(n){return 0==(1&n)}function Y_(n,t,e,i){if(null===t)return-1;let s=0;if(i||!e){let r=!1;for(;s<t.length;){const o=t[s];if(o===n)return s;if(3===o||6===o)r=!0;else{if(1===o||2===o){let a=t[++s];for(;"string"==typeof a;)a=t[++s];continue}if(4===o)break;if(0===o){s+=4;continue}}s+=r?1:2}return-1}return function(n,t){let e=n.indexOf(4);if(e>-1)for(e++;e<n.length;){const i=n[e];if("number"==typeof i)return-1;if(i===t)return e;e++}return-1}(t,n)}function gg(n,t,e=!1){for(let i=0;i<t.length;i++)if(pg(n,t[i],e))return!0;return!1}function mg(n,t){return n?":not("+t.trim()+")":t}function nb(n){let t=n[0],e=1,i=2,s="",r=!1;for(;e<n.length;){let o=n[e];if("string"==typeof o)if(2&i){const a=n[++e];s+="["+o+(a.length>0?'="'+a+'"':"")+"]"}else 8&i?s+="."+o:4&i&&(s+=" "+o);else""!==s&&!Ai(o)&&(t+=mg(r,s),s=""),i=o,r=r||!Ai(i);e++}return""!==s&&(t+=mg(r,s)),t}const ge={};function X(n){yg(qe(),U(),ut()+n,Tt())}function yg(n,t,e,i){if(!i)if(3==(3&t[2])){const r=n.preOrderCheckHooks;null!==r&&Gl(t,r,e)}else{const r=n.preOrderHooks;null!==r&&ai(t,r,0,e)}Ee(e)}function mc(n,t){return n<<17|t<<2}function rn(n){return n>>17&32767}function mn(n){return 2|n}function Xe(n){return(131068&n)>>2}function Kh(n,t){return-131069&n|t<<2}function Qh(n){return 1|n}function Cg(n,t){const e=n.contentQueries;if(null!==e)for(let i=0;i<e.length;i+=2){const s=e[i],r=e[i+1];if(-1!==r){const o=n.data[r];Qu(s),o.contentQueries(2,t[r],r)}}}function ja(n,t,e,i,s,r,o,a,u,d){const f=t.blueprint.slice();return f[0]=s,f[2]=140|i,hs(f),f[3]=f[15]=n,f[8]=e,f[10]=o||n&&n[10],f[11]=a||n&&n[11],f[12]=u||n&&n[12]||null,f[9]=d||n&&n[9]||null,f[6]=r,f[16]=2==t.type?n[16]:f,f}function Ao(n,t,e,i,s){let r=n.data[t];if(null===r)r=function(n,t,e,i,s){const r=ha(),o=zu(),u=n.data[t]=function(n,t,e,i,s,r){return{type:e,index:i,insertBeforeIndex:null,injectorIndex:t?t.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:s,attrs:r,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:t,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,o?r:r&&r.parent,e,t,i,s);return null===n.firstChild&&(n.firstChild=u),null!==r&&(o?null==r.child&&null!==u.parent&&(r.child=u):null===r.next&&(r.next=u)),u}(n,t,e,i,s),fe.lFrame.inI18n&&(r.flags|=64);else if(64&r.type){r.type=e,r.value=i,r.attrs=s;const o=function(){const n=fe.lFrame,t=n.currentTNode;return n.isParent?t:t.parent}();r.injectorIndex=null===o?-1:o.injectorIndex}return oi(r,!0),r}function To(n,t,e,i){if(0===e)return-1;const s=t.length;for(let r=0;r<e;r++)t.push(i),n.blueprint.push(i),n.data.push(null);return s}function Wa(n,t,e){Hl(t);try{const i=n.viewQuery;null!==i&&ld(1,i,e);const s=n.template;null!==s&&Dg(n,t,s,1,e),n.firstCreatePass&&(n.firstCreatePass=!1),n.staticContentQueries&&Cg(n,t),n.staticViewQueries&&ld(2,n.viewQuery,e);const r=n.components;null!==r&&function(n,t){for(let e=0;e<t.length;e++)Mb(n,t[e])}(t,r)}catch(i){throw n.firstCreatePass&&(n.incompleteFirstPass=!0,n.firstCreatePass=!1),i}finally{t[2]&=-5,_()}}function xo(n,t,e,i){const s=t[2];if(256==(256&s))return;Hl(t);const r=Tt();try{hs(t),function(n){fe.lFrame.bindingIndex=n}(n.bindingStartIndex),null!==e&&Dg(n,t,e,2,i);const o=3==(3&s);if(!r)if(o){const d=n.preOrderCheckHooks;null!==d&&Gl(t,d,null)}else{const d=n.preOrderHooks;null!==d&&ai(t,d,0,null),Ju(t,0)}if(function(n){for(let t=cc(n);null!==t;t=wh(t)){if(!t[2])continue;const e=t[9];for(let i=0;i<e.length;i++){const s=e[i],r=s[3];0==(1024&s[2])&&co(r,1),s[2]|=1024}}}(t),function(n){for(let t=cc(n);null!==t;t=wh(t))for(let e=10;e<t.length;e++){const i=t[e],s=i[1];Gu(i)&&xo(s,i,s.template,i[8])}}(t),null!==n.contentQueries&&Cg(n,t),!r)if(o){const d=n.contentCheckHooks;null!==d&&Gl(t,d)}else{const d=n.contentHooks;null!==d&&ai(t,d,1),Ju(t,1)}!function(n,t){const e=n.hostBindingOpCodes;if(null!==e)try{for(let i=0;i<e.length;i++){const s=e[i];if(s<0)Ee(~s);else{const r=s,o=e[++i],a=e[++i];ho(o,r),a(2,t[r])}}}finally{Ee(-1)}}(n,t);const a=n.components;null!==a&&function(n,t){for(let e=0;e<t.length;e++)xb(n,t[e])}(t,a);const u=n.viewQuery;if(null!==u&&ld(2,u,i),!r)if(o){const d=n.viewCheckHooks;null!==d&&Gl(t,d)}else{const d=n.viewHooks;null!==d&&ai(t,d,2),Ju(t,2)}!0===n.firstUpdatePass&&(n.firstUpdatePass=!1),r||(t[2]&=-73),1024&t[2]&&(t[2]&=-1025,co(t[3],-1))}finally{_()}}function fb(n,t,e,i){const s=t[10],r=!Tt(),o=ep(t);try{r&&!o&&s.begin&&s.begin(),o&&Wa(n,t,i),xo(n,t,e,i)}finally{r&&!o&&s.end&&s.end()}}function Dg(n,t,e,i,s){const r=ut(),o=2&i;try{Ee(-1),o&&t.length>20&&yg(n,t,20,Tt()),e(i,s)}finally{Ee(r)}}function td(n,t,e){!Wu()||(function(n,t,e,i){const s=e.directiveStart,r=e.directiveEnd;n.firstCreatePass||va(e,t),sn(i,t);const o=e.initialInputs;for(let a=s;a<r;a++){const u=n.data[a],d=ni(u);d&&Lg(t,e,u);const f=ba(t,n,a,e);sn(f,t),null!==o&&Pb(0,a-s,f,u,0,o),d&&(fn(e.index,t)[8]=f)}}(n,t,e,dn(e,t)),128==(128&e.flags)&&function(n,t,e){const i=e.directiveStart,s=e.directiveEnd,o=e.index,a=fe.lFrame.currentDirectiveIndex;try{Ee(o);for(let u=i;u<s;u++){const d=n.data[u],f=t[u];Tr(u),(null!==d.hostBindings||0!==d.hostVars||null!==d.hostAttrs)&&jr(d,f)}}finally{Ee(-1),Tr(a)}}(n,t,e))}function za(n,t,e=dn){const i=t.localNames;if(null!==i){let s=t.index+1;for(let r=0;r<i.length;r+=2){const o=i[r+1],a=-1===o?e(t,n):n[o];n[s++]=a}}}function kg(n){const t=n.tView;return null===t||t.incompleteFirstPass?n.tView=Mo(1,null,n.template,n.decls,n.vars,n.directiveDefs,n.pipeDefs,n.viewQuery,n.schemas,n.consts):t}function Mo(n,t,e,i,s,r,o,a,u,d){const f=20+i,g=f+s,m=function(n,t){const e=[];for(let i=0;i<t;i++)e.push(i<n?null:ge);return e}(f,g),v="function"==typeof d?d():d;return m[1]={type:n,blueprint:m,template:e,queries:null,viewQuery:a,declTNode:t,data:m.slice().fill(null,f),bindingStartIndex:f,expandoStartIndex:g,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof r?r():r,pipeRegistry:"function"==typeof o?o():o,firstChild:null,schemas:u,consts:v,incompleteFirstPass:!1}}function Dn(n,t,e,i){const s=Bg(t);null===e?s.push(i):(s.push(e),n.firstCreatePass&&$g(n).push(i,s.length-1))}function Tg(n,t,e){for(let i in n)if(n.hasOwnProperty(i)){const s=n[i];(e=null===e?{}:e).hasOwnProperty(i)?e[i].push(t,s):e[i]=[t,s]}return e}function wc(n,t,e,i){let s=!1;if(Wu()){const r=function(n,t,e){const i=n.directiveRegistry;let s=null;if(i)for(let r=0;r<i.length;r++){const o=i[r];gg(e,o.selectors,!1)&&(s||(s=[]),wn(va(e,t),n,o.type),ni(o)?(Rg(n,e),s.unshift(o)):s.push(o))}return s}(n,t,e),o=null===i?null:{"":-1};if(null!==r){s=!0,Ng(e,n.data.length,r.length);for(let f=0;f<r.length;f++){const g=r[f];g.providersResolver&&g.providersResolver(g)}let a=!1,u=!1,d=To(n,t,r.length,null);for(let f=0;f<r.length;f++){const g=r[f];e.mergedAttrs=Wl(e.mergedAttrs,g.hostAttrs),nd(n,e,t,d,g),Db(d,g,o),null!==g.contentQueries&&(e.flags|=8),(null!==g.hostBindings||null!==g.hostAttrs||0!==g.hostVars)&&(e.flags|=128);const m=g.type.prototype;!a&&(m.ngOnChanges||m.ngOnInit||m.ngDoCheck)&&((n.preOrderHooks||(n.preOrderHooks=[])).push(e.index),a=!0),!u&&(m.ngOnChanges||m.ngDoCheck)&&((n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(e.index),u=!0),d++}!function(n,t){const i=t.directiveEnd,s=n.data,r=t.attrs,o=[];let a=null,u=null;for(let d=t.directiveStart;d<i;d++){const f=s[d],g=f.inputs,m=null===r||fg(t)?null:kb(g,r);o.push(m),a=Tg(g,d,a),u=Tg(f.outputs,d,u)}null!==a&&(a.hasOwnProperty("class")&&(t.flags|=16),a.hasOwnProperty("style")&&(t.flags|=32)),t.initialInputs=o,t.inputs=a,t.outputs=u}(n,e)}o&&function(n,t,e){if(t){const i=n.localNames=[];for(let s=0;s<t.length;s+=2){const r=e[t[s+1]];if(null==r)throw new Gs("301",`Export of name '${t[s+1]}' not found!`);i.push(t[s],r)}}}(e,i,o)}return e.mergedAttrs=Wl(e.mergedAttrs,e.attrs),s}function Og(n,t,e,i,s,r){const o=r.hostBindings;if(o){let a=n.hostBindingOpCodes;null===a&&(a=n.hostBindingOpCodes=[]);const u=~t.index;(function(n){let t=n.length;for(;t>0;){const e=n[--t];if("number"==typeof e&&e<0)return e}return 0})(a)!=u&&a.push(u),a.push(i,s,o)}}function jr(n,t){null!==n.hostBindings&&n.hostBindings(1,t)}function Rg(n,t){t.flags|=2,(n.components||(n.components=[])).push(t.index)}function Db(n,t,e){if(e){if(t.exportAs)for(let i=0;i<t.exportAs.length;i++)e[t.exportAs[i]]=n;ni(t)&&(e[""]=n)}}function Ng(n,t,e){n.flags|=1,n.directiveStart=t,n.directiveEnd=t+e,n.providerIndexes=t}function nd(n,t,e,i,s){n.data[i]=s;const r=s.factory||(s.factory=Dr(s.type)),o=new ga(r,ni(s),null);n.blueprint[i]=o,e[i]=o,Og(n,t,0,i,To(n,e,s.hostVars,ge),s)}function Lg(n,t,e){const i=dn(t,n),s=kg(e),r=n[10],o=Cc(n,ja(n,s,null,e.onPush?64:16,i,t,r,r.createRenderer(i,e),null,null));n[t.index]=o}function Gi(n,t,e,i,s,r){const o=dn(n,t);!function(n,t,e,i,s,r,o){if(null==r)de(n)?n.removeAttribute(t,s,e):t.removeAttribute(s);else{const a=null==o?ye(r):o(r,i||"",s);de(n)?n.setAttribute(t,s,a,e):e?t.setAttributeNS(e,s,a):t.setAttribute(s,a)}}(t[11],o,r,n.value,e,i,s)}function Pb(n,t,e,i,s,r){const o=r[t];if(null!==o){const a=i.setInput;for(let u=0;u<o.length;){const d=o[u++],f=o[u++],g=o[u++];null!==a?i.setInput(e,g,d,f):e[f]=g}}}function kb(n,t){let e=null,i=0;for(;i<t.length;){const s=t[i];if(0!==s)if(5!==s){if("number"==typeof s)break;n.hasOwnProperty(s)&&(null===e&&(e=[]),e.push(s,n[s],t[i+1])),i+=2}else i+=2;else i+=4}return e}function Fg(n,t,e,i){return new Array(n,!0,!1,t,null,0,i,e,null,null)}function xb(n,t){const e=fn(t,n);if(Gu(e)){const i=e[1];80&e[2]?xo(i,e,i.template,e[8]):e[5]>0&&sd(e)}}function sd(n){for(let i=cc(n);null!==i;i=wh(i))for(let s=10;s<i.length;s++){const r=i[s];if(1024&r[2]){const o=r[1];xo(o,r,o.template,r[8])}else r[5]>0&&sd(r)}const e=n[1].components;if(null!==e)for(let i=0;i<e.length;i++){const s=fn(e[i],n);Gu(s)&&s[5]>0&&sd(s)}}function Mb(n,t){const e=fn(t,n),i=e[1];(function(n,t){for(let e=t.length;e<n.blueprint.length;e++)t.push(n.blueprint[e])})(i,e),Wa(i,e,e[8])}function Cc(n,t){return n[13]?n[14][4]=t:n[13]=t,n[14]=t,t}function rd(n){for(;n;){n[2]|=64;const t=Vt(n);if(Sv(n)&&!t)return n;n=t}return null}function ad(n,t,e){const i=t[10];i.begin&&i.begin();try{xo(n,t,n.template,e)}catch(s){throw cd(t,s),s}finally{i.end&&i.end()}}function Vg(n){!function(n){for(let t=0;t<n.components.length;t++){const e=n.components[t],i=mh(e),s=i[1];fb(s,i,s.template,e)}}(n[8])}function ld(n,t,e){Qu(0),t(n,e)}const Lb=(()=>Promise.resolve(null))();function Bg(n){return n[7]||(n[7]=[])}function $g(n){return n.cleanup||(n.cleanup=[])}function cd(n,t){const e=n[9],i=e?e.get(Ur,null):null;i&&i.handleError(t)}function ud(n,t,e,i,s){for(let r=0;r<e.length;){const o=e[r++],a=e[r++],u=t[o],d=n.data[o];null!==d.setInput?d.setInput(u,s,i,a):u[a]=s}}function Cs(n,t,e){const i=Pr(t,n);!function(n,t,e){de(n)?n.setValue(t,e):t.textContent=e}(n[11],i,e)}function Pc(n,t,e){let i=e?n.styles:null,s=e?n.classes:null,r=0;if(null!==t)for(let o=0;o<t.length;o++){const a=t[o];"number"==typeof a?r=a:1==r?s=Iu(s,a):2==r&&(i=Iu(i,a+": "+t[++o]+";"))}e?n.styles=i:n.stylesWithoutHost=i,e?n.classes=s:n.classesWithoutHost=s}const Io=new ce("INJECTOR",-1);class Hg{get(t,e=Vr){if(e===Vr){const i=new Error(`NullInjectorError: No provider for ${Pe(t)}!`);throw i.name="NullInjectorError",i}return e}}const Yt=new ce("Set Injector scope."),Wr={},Vb={};let dd;function qg(){return void 0===dd&&(dd=new Hg),dd}function kc(n,t=null,e=null,i){return new $b(n,e,t||qg(),i)}class $b{constructor(t,e,i,s=null){this.parent=i,this.records=new Map,this.injectorDefTypes=new Set,this.onDestroy=new Set,this._destroyed=!1;const r=[];e&&Ci(e,a=>this.processProvider(a,t,e)),Ci([t],a=>this.processInjectorType(a,[],r)),this.records.set(Io,Oo(void 0,this));const o=this.records.get(Yt);this.scope=null!=o?o.value:null,this.source=s||("object"==typeof t?null:Pe(t))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{this.onDestroy.forEach(t=>t.ngOnDestroy())}finally{this.records.clear(),this.onDestroy.clear(),this.injectorDefTypes.clear()}}get(t,e=Vr,i=re.Default){this.assertNotDestroyed();const s=Hn(this),r=cs(void 0);try{if(!(i&re.SkipSelf)){let a=this.records.get(t);if(void 0===a){const u=function(n){return"function"==typeof n||"object"==typeof n&&n instanceof ce}(t)&&ls(t);a=u&&this.injectableDefInScope(u)?Oo(Ka(t),Wr):null,this.records.set(t,a)}if(null!=a)return this.hydrate(t,a)}return(i&re.Self?qg():this.parent).get(t,e=i&re.Optional&&e===Vr?null:e)}catch(o){if("NullInjectorError"===o.name){if((o[gs]=o[gs]||[]).unshift(Pe(t)),s)throw o;return uh(o,t,"R3InjectorError",this.source)}throw o}finally{cs(r),Hn(s)}}_resolveInjectorDefTypes(){this.injectorDefTypes.forEach(t=>this.get(t))}toString(){const t=[];return this.records.forEach((i,s)=>t.push(Pe(s))),`R3Injector[${t.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Error("Injector has already been destroyed.")}processInjectorType(t,e,i){if(!(t=ie(t)))return!1;let s=Ru(t);const r=null==s&&t.ngModule||void 0,o=void 0===r?t:r,a=-1!==i.indexOf(o);if(void 0!==r&&(s=Ru(r)),null==s)return!1;if(null!=s.imports&&!a){let f;i.push(o);try{Ci(s.imports,g=>{this.processInjectorType(g,e,i)&&(void 0===f&&(f=[]),f.push(g))})}finally{}if(void 0!==f)for(let g=0;g<f.length;g++){const{ngModule:m,providers:v}=f[g];Ci(v,S=>this.processProvider(S,m,v||et))}}this.injectorDefTypes.add(o);const u=Dr(o)||(()=>new o);this.records.set(o,Oo(u,Wr));const d=s.providers;if(null!=d&&!a){const f=t;Ci(d,g=>this.processProvider(g,f,d))}return void 0!==r&&void 0!==t.providers}processProvider(t,e,i){let s=Ro(t=ie(t))?t:ie(t&&t.provide);const r=function(n,t,e){return fd(n)?Oo(void 0,n.useValue):Oo(Ug(n),Wr)}(t);if(Ro(t)||!0!==t.multi)this.records.get(s);else{let o=this.records.get(s);o||(o=Oo(void 0,Wr,!0),o.factory=()=>Br(o.multi),this.records.set(s,o)),s=t,o.multi.push(t)}this.records.set(s,r)}hydrate(t,e){return e.value===Wr&&(e.value=Vb,e.value=e.factory()),"object"==typeof e.value&&e.value&&function(n){return null!==n&&"object"==typeof n&&"function"==typeof n.ngOnDestroy}(e.value)&&this.onDestroy.add(e.value),e.value}injectableDefInScope(t){if(!t.providedIn)return!1;const e=ie(t.providedIn);return"string"==typeof e?"any"===e||e===this.scope:this.injectorDefTypes.has(e)}}function Ka(n){const t=ls(n),e=null!==t?t.factory:Dr(n);if(null!==e)return e;if(n instanceof ce)throw new Error(`Token ${Pe(n)} is missing a \u0275prov definition.`);if(n instanceof Function)return function(n){const t=n.length;if(t>0){const i=function(n,t){const e=[];for(let i=0;i<n;i++)e.push(t);return e}(t,"?");throw new Error(`Can't resolve all parameters for ${Pe(n)}: (${i.join(", ")}).`)}const e=function(n){const t=n&&(n[sa]||n[Nf]);if(t){const e=function(n){if(n.hasOwnProperty("name"))return n.name;const t=(""+n).match(/^function\s*([^\s(]+)/);return null===t?"":t[1]}(n);return console.warn(`DEPRECATED: DI is instantiating a token "${e}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${e}" class.`),t}return null}(n);return null!==e?()=>e.factory(n):()=>new n}(n);throw new Error("unreachable")}function Ug(n,t,e){let i;if(Ro(n)){const s=ie(n);return Dr(s)||Ka(s)}if(fd(n))i=()=>ie(n.useValue);else if(function(n){return!(!n||!n.useFactory)}(n))i=()=>n.useFactory(...Br(n.deps||[]));else if(function(n){return!(!n||!n.useExisting)}(n))i=()=>V(ie(n.useExisting));else{const s=ie(n&&(n.useClass||n.provide));if(!function(n){return!!n.deps}(n))return Dr(s)||Ka(s);i=()=>new s(...Br(n.deps))}return i}function Oo(n,t,e=!1){return{factory:n,value:t,multi:e?[]:void 0}}function fd(n){return null!==n&&"object"==typeof n&&$i in n}function Ro(n){return"function"==typeof n}const Gg=function(n,t,e){return function(n,t=null,e=null,i){const s=kc(n,t,e,i);return s._resolveInjectorDefTypes(),s}({name:e},t,n,e)};let gt=(()=>{class n{static create(e,i){return Array.isArray(e)?Gg(e,i,""):Gg(e.providers,e.parent,e.name||"")}}return n.THROW_IF_NOT_FOUND=Vr,n.NULL=new Hg,n.\u0275prov=ne({token:n,providedIn:"any",factory:()=>V(Io)}),n.__NG_ELEMENT_ID__=-1,n})();function dN(n,t){Ul(mh(n)[1],Gt())}function vt(n){let t=function(n){return Object.getPrototypeOf(n.prototype).constructor}(n.type),e=!0;const i=[n];for(;t;){let s;if(ni(n))s=t.\u0275cmp||t.\u0275dir;else{if(t.\u0275cmp)throw new Error("Directives cannot inherit Components");s=t.\u0275dir}if(s){if(e){i.push(s);const o=n;o.inputs=Jb(n.inputs),o.declaredInputs=Jb(n.declaredInputs),o.outputs=Jb(n.outputs);const a=s.hostBindings;a&&mN(n,a);const u=s.viewQuery,d=s.contentQueries;if(u&&pN(n,u),d&&gN(n,d),Dl(n.inputs,s.inputs),Dl(n.declaredInputs,s.declaredInputs),Dl(n.outputs,s.outputs),ni(s)&&s.data.animation){const f=n.data;f.animation=(f.animation||[]).concat(s.data.animation)}}const r=s.features;if(r)for(let o=0;o<r.length;o++){const a=r[o];a&&a.ngInherit&&a(n),a===vt&&(e=!1)}}t=Object.getPrototypeOf(t)}!function(n){let t=0,e=null;for(let i=n.length-1;i>=0;i--){const s=n[i];s.hostVars=t+=s.hostVars,s.hostAttrs=Wl(s.hostAttrs,e=Wl(e,s.hostAttrs))}}(i)}function Jb(n){return n===io?{}:n===et?[]:n}function pN(n,t){const e=n.viewQuery;n.viewQuery=e?(i,s)=>{t(i,s),e(i,s)}:t}function gN(n,t){const e=n.contentQueries;n.contentQueries=e?(i,s,r)=>{t(i,s,r),e(i,s,r)}:t}function mN(n,t){const e=n.hostBindings;n.hostBindings=e?(i,s)=>{t(i,s),e(i,s)}:t}let Qg=null;function Ac(){if(!Qg){const n=Qe.Symbol;if(n&&n.iterator)Qg=n.iterator;else{const t=Object.getOwnPropertyNames(Map.prototype);for(let e=0;e<t.length;++e){const i=t[e];"entries"!==i&&"size"!==i&&Map.prototype[i]===Map.prototype.entries&&(Qg=i)}}}return Qg}class Ps{constructor(t){this.wrapped=t}static wrap(t){return new Ps(t)}static unwrap(t){return Ps.isWrapped(t)?t.wrapped:t}static isWrapped(t){return t instanceof Ps}}function bd(n){return!!Xb(n)&&(Array.isArray(n)||!(n instanceof Map)&&Ac()in n)}function Xb(n){return null!==n&&("function"==typeof n||"object"==typeof n)}function or(n,t,e){return n[t]=e}function Tn(n,t,e){return!Object.is(n[t],e)&&(n[t]=e,!0)}function Za(n,t,e,i){const s=Tn(n,t,e);return Tn(n,t+1,i)||s}function ks(n,t,e,i){const s=U();return Tn(s,uo(),t)&&(qe(),Gi(wt(),s,n,t,e,i)),ks}function on(n,t,e,i,s,r,o,a){const u=U(),d=qe(),f=n+20,g=d.firstCreatePass?function(n,t,e,i,s,r,o,a,u){const d=t.consts,f=Ao(t,n,4,o||null,Si(d,a));wc(t,e,f,Si(d,u)),Ul(t,f);const g=f.tViews=Mo(2,f,i,s,r,t.directiveRegistry,t.pipeRegistry,null,t.schemas,d);return null!==t.queries&&(t.queries.template(t,f),g.queries=t.queries.embeddedTView(f)),f}(f,d,u,t,e,i,s,r,o):d.data[f];oi(g,!1);const m=u[11].createComment("");La(d,u,m,g),sn(m,u),Cc(u,u[f]=Fg(m,u,m,g)),lo(g)&&td(d,u,g),null!=o&&za(u,g,a)}function L(n,t=re.Default){const e=U();return null===e?V(n,t):_o(Gt(),e,ie(n),t)}function Ie(n,t,e){const i=U();return Tn(i,uo(),t)&&function(n,t,e,i,s,r,o,a){const u=dn(t,e);let f,d=t.inputs;!a&&null!=d&&(f=d[i])?(ud(n,e,f,i,s),ao(t)&&function(n,t){const e=fn(t,n);16&e[2]||(e[2]|=64)}(e,t.index)):3&t.type&&(i=function(n){return"class"===n?"className":"for"===n?"htmlFor":"formaction"===n?"formAction":"innerHtml"===n?"innerHTML":"readonly"===n?"readOnly":"tabindex"===n?"tabIndex":n}(i),s=null!=o?o(s,t.value||"",i):s,de(r)?r.setProperty(u,i,s):eh(i)||(u.setProperty?u.setProperty(i,s):u[i]=s))}(qe(),wt(),i,n,t,i[11],e,!1),Ie}function sS(n,t,e,i,s){const o=s?"class":"style";ud(n,e,t.inputs[o],o,i)}function C(n,t,e,i){const s=U(),r=qe(),o=20+n,a=s[11],u=s[o]=Ia(a,t,fe.lFrame.currentNamespace),d=r.firstCreatePass?function(n,t,e,i,s,r,o){const a=t.consts,d=Ao(t,n,2,s,Si(a,r));return wc(t,e,d,Si(a,o)),null!==d.attrs&&Pc(d,d.attrs,!1),null!==d.mergedAttrs&&Pc(d,d.mergedAttrs,!0),null!==t.queries&&t.queries.elementStart(t,d),d}(o,r,s,0,t,e,i):r.data[o];oi(d,!0);const f=d.mergedAttrs;null!==f&&jl(a,u,f);const g=d.classes;null!==g&&hc(a,u,g);const m=d.styles;null!==m&&$p(a,u,m),64!=(64&d.flags)&&La(r,s,u,d),0===fe.lFrame.elementDepthCount&&sn(u,s),fe.lFrame.elementDepthCount++,lo(d)&&(td(r,s,d),function(n,t,e){if(Ol(t)){const s=t.directiveEnd;for(let r=t.directiveStart;r<s;r++){const o=n.data[r];o.contentQueries&&o.contentQueries(1,e[r],r)}}}(r,d,s)),null!==i&&za(s,d)}function D(){let n=Gt();zu()?fe.lFrame.isParent=!1:(n=n.parent,oi(n,!1));const t=n;fe.lFrame.elementDepthCount--;const e=qe();e.firstCreatePass&&(Ul(e,n),Ol(n)&&e.queries.elementEnd(n)),null!=t.classesWithoutHost&&function(n){return 0!=(16&n.flags)}(t)&&sS(e,t,U(),t.classesWithoutHost,!0),null!=t.stylesWithoutHost&&function(n){return 0!=(32&n.flags)}(t)&&sS(e,t,U(),t.stylesWithoutHost,!1)}function Ve(n,t,e,i){C(n,t,e,i),D()}function Ed(){return U()}function Jg(n){return!!n&&"function"==typeof n.then}const rS=function(n){return!!n&&"function"==typeof n.subscribe};function ht(n,t,e,i){const s=U(),r=qe(),o=Gt();return function(n,t,e,i,s,r,o,a){const u=lo(i),f=n.firstCreatePass&&$g(n),g=t[8],m=Bg(t);let v=!0;if(3&i.type||a){const k=dn(i,t),F=a?a(k):k,R=m.length,j=a?K=>a(Et(K[i.index])):i.index;if(de(e)){let K=null;if(!a&&u&&(K=function(n,t,e,i){const s=n.cleanup;if(null!=s)for(let r=0;r<s.length-1;r+=2){const o=s[r];if(o===e&&s[r+1]===i){const a=t[7],u=s[r+2];return a.length>u?a[u]:null}"string"==typeof o&&(r+=2)}return null}(n,t,s,i.index)),null!==K)(K.__ngLastListenerFn__||K).__ngNextListenerFn__=r,K.__ngLastListenerFn__=r,v=!1;else{r=oS(i,t,g,r,!1);const me=e.listen(F,s,r);m.push(r,me),f&&f.push(s,j,R,R+1)}}else r=oS(i,t,g,r,!0),F.addEventListener(s,r,o),m.push(r),f&&f.push(s,j,R,o)}else r=oS(i,t,g,r,!1);const S=i.outputs;let x;if(v&&null!==S&&(x=S[s])){const k=x.length;if(k)for(let F=0;F<k;F+=2){const it=t[x[F]][x[F+1]].subscribe(r),ft=m.length;m.push(r,it),f&&f.push(s,i.index,ft,-(ft+1))}}}(r,s,s[11],o,n,t,!!e,i),ht}function cT(n,t,e,i){try{return!1!==e(i)}catch(s){return cd(n,s),!1}}function oS(n,t,e,i,s){return function r(o){if(o===Function)return i;const a=2&n.flags?fn(n.index,t):t;0==(32&t[2])&&rd(a);let u=cT(t,0,i,o),d=r.__ngNextListenerFn__;for(;d;)u=cT(t,0,d,o)&&u,d=d.__ngNextListenerFn__;return s&&!1===u&&(o.preventDefault(),o.returnValue=!1),u}}function zi(n=1){return function(n){return(fe.lFrame.contextLView=function(n,t){for(;n>0;)t=t[15],n--;return t}(n,fe.lFrame.contextLView))[8]}(n)}function ST(n,t,e,i,s){const r=n[e+1],o=null===t;let a=i?rn(r):Xe(r),u=!1;for(;0!==a&&(!1===u||o);){const f=n[a+1];tL(n[a],t)&&(u=!0,n[a+1]=i?Qh(f):mn(f)),a=i?rn(f):Xe(f)}u&&(n[e+1]=i?mn(r):Qh(r))}function tL(n,t){return null===n||null==t||(Array.isArray(n)?n[1]:n)===t||!(!Array.isArray(n)||"string"!=typeof t)&&Bi(n,t)>=0}const an={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function ET(n){return n.substring(an.key,an.keyEnd)}function wT(n,t){const e=an.textEnd;return e===t?-1:(t=an.keyEnd=function(n,t,e){for(;t<e&&n.charCodeAt(t)>32;)t++;return t}(n,an.key=t,e),Bc(n,t,e))}function Bc(n,t,e){for(;t<e&&n.charCodeAt(t)<=32;)t++;return t}function wd(n,t,e){return As(n,t,e,!1),wd}function Ya(n,t){return As(n,t,null,!0),Ya}function $c(n){!function(n,t,e,i){const s=qe(),r=Ei(2);s.firstUpdatePass&&TT(s,null,r,i);const o=U();if(e!==ge&&Tn(o,r,e)){const a=s.data[ut()];if(OT(a,i)&&!AT(s,r)){let u=i?a.classesWithoutHost:a.stylesWithoutHost;null!==u&&(e=Iu(u,e||"")),sS(s,a,o,e,i)}else!function(n,t,e,i,s,r,o,a){s===ge&&(s=et);let u=0,d=0,f=0<s.length?s[0]:null,g=0<r.length?r[0]:null;for(;null!==f||null!==g;){const m=u<s.length?s[u+1]:void 0,v=d<r.length?r[d+1]:void 0;let x,S=null;f===g?(u+=2,d+=2,m!==v&&(S=g,x=v)):null===g||null!==f&&f<g?(u+=2,S=f):(d+=2,S=g,x=v),null!==S&&MT(n,t,e,i,S,x,o,a),f=u<s.length?s[u]:null,g=d<r.length?r[d]:null}}(s,a,o,o[11],o[r+1],o[r+1]=function(n,t,e){if(null==e||""===e)return et;const i=[],s=Un(e);if(Array.isArray(s))for(let r=0;r<s.length;r++)n(i,s[r],!0);else if("object"==typeof s)for(const r in s)s.hasOwnProperty(r)&&n(i,r,s[r]);else"string"==typeof s&&t(i,s);return i}(n,t,e),i,r)}}($n,lr,n,!0)}function lr(n,t){for(let e=function(n){return function(n){an.key=0,an.keyEnd=0,an.value=0,an.valueEnd=0,an.textEnd=n.length}(n),wT(n,Bc(n,0,an.textEnd))}(t);e>=0;e=wT(t,e))$n(n,ET(t),!0)}function As(n,t,e,i){const s=U(),r=qe(),o=Ei(2);r.firstUpdatePass&&TT(r,n,o,i),t!==ge&&Tn(s,o,t)&&MT(r,r.data[ut()],s,s[11],n,s[o+1]=function(n,t){return null==n||("string"==typeof t?n+=t:"object"==typeof n&&(n=Pe(Un(n)))),n}(t,e),i,o)}function AT(n,t){return t>=n.expandoStartIndex}function TT(n,t,e,i){const s=n.data;if(null===s[e+1]){const r=s[ut()],o=AT(n,e);OT(r,i)&&null===t&&!o&&(t=!1),t=function(n,t,e,i){const s=function(n){const t=fe.lFrame.currentDirectiveIndex;return-1===t?null:n[t]}(n);let r=i?t.residualClasses:t.residualStyles;if(null===s)0===(i?t.classBindings:t.styleBindings)&&(e=Cd(e=lS(null,n,t,e,i),t.attrs,i),r=null);else{const o=t.directiveStylingLast;if(-1===o||n[o]!==s)if(e=lS(s,n,t,e,i),null===r){let u=function(n,t,e){const i=e?t.classBindings:t.styleBindings;if(0!==Xe(i))return n[rn(i)]}(n,t,i);void 0!==u&&Array.isArray(u)&&(u=lS(null,n,t,u[1],i),u=Cd(u,t.attrs,i),function(n,t,e,i){n[rn(e?t.classBindings:t.styleBindings)]=i}(n,t,i,u))}else r=function(n,t,e){let i;const s=t.directiveEnd;for(let r=1+t.directiveStylingLast;r<s;r++)i=Cd(i,n[r].hostAttrs,e);return Cd(i,t.attrs,e)}(n,t,i)}return void 0!==r&&(i?t.residualClasses=r:t.residualStyles=r),e}(s,r,t,i),function(n,t,e,i,s,r){let o=r?t.classBindings:t.styleBindings,a=rn(o),u=Xe(o);n[i]=e;let f,d=!1;if(Array.isArray(e)){const g=e;f=g[1],(null===f||Bi(g,f)>0)&&(d=!0)}else f=e;if(s)if(0!==u){const m=rn(n[a+1]);n[i+1]=mc(m,a),0!==m&&(n[m+1]=Kh(n[m+1],i)),n[a+1]=function(n,t){return 131071&n|t<<17}(n[a+1],i)}else n[i+1]=mc(a,0),0!==a&&(n[a+1]=Kh(n[a+1],i)),a=i;else n[i+1]=mc(u,0),0===a?a=i:n[u+1]=Kh(n[u+1],i),u=i;d&&(n[i+1]=mn(n[i+1])),ST(n,f,i,!0),ST(n,f,i,!1),function(n,t,e,i,s){const r=s?n.residualClasses:n.residualStyles;null!=r&&"string"==typeof t&&Bi(r,t)>=0&&(e[i+1]=Qh(e[i+1]))}(t,f,n,i,r),o=mc(a,u),r?t.classBindings=o:t.styleBindings=o}(s,r,t,e,o,i)}}function lS(n,t,e,i,s){let r=null;const o=e.directiveEnd;let a=e.directiveStylingLast;for(-1===a?a=e.directiveStart:a++;a<o&&(r=t[a],i=Cd(i,r.hostAttrs,s),r!==n);)a++;return null!==n&&(e.directiveStylingLast=a),i}function Cd(n,t,e){const i=e?1:2;let s=-1;if(null!==t)for(let r=0;r<t.length;r++){const o=t[r];"number"==typeof o?s=o:s===i&&(Array.isArray(n)||(n=void 0===n?[]:["",n]),$n(n,o,!!e||t[++r]))}return void 0===n?null:n}function MT(n,t,e,i,s,r,o,a){if(!(3&t.type))return;const u=n.data,d=u[a+1];Xg(function(n){return 1==(1&n)}(d)?IT(u,t,e,s,Xe(d),o):void 0)||(Xg(r)||function(n){return 2==(2&n)}(d)&&(r=IT(u,null,e,s,a,o)),function(n,t,e,i,s){const r=de(n);if(t)s?r?n.addClass(e,i):e.classList.add(i):r?n.removeClass(e,i):e.classList.remove(i);else{let o=-1===i.indexOf("-")?void 0:gn.DashCase;if(null==s)r?n.removeStyle(e,i,o):e.style.removeProperty(i);else{const a="string"==typeof s&&s.endsWith("!important");a&&(s=s.slice(0,-10),o|=gn.Important),r?n.setStyle(e,i,s,o):e.style.setProperty(i,s,a?"important":"")}}}(i,o,Pr(ut(),e),s,r))}function IT(n,t,e,i,s,r){const o=null===t;let a;for(;s>0;){const u=n[s],d=Array.isArray(u),f=d?u[1]:u,g=null===f;let m=e[s+1];m===ge&&(m=g?et:void 0);let v=g?ah(m,i):f===i?m:void 0;if(d&&!Xg(v)&&(v=ah(u,i)),Xg(v)&&(a=v,o))return a;const S=n[s+1];s=o?rn(S):Xe(S)}if(null!==t){let u=r?t.residualClasses:t.residualStyles;null!=u&&(a=ah(u,i))}return a}function Xg(n){return void 0!==n}function OT(n,t){return 0!=(n.flags&(t?16:32))}function B(n,t=""){const e=U(),i=qe(),s=n+20,r=i.firstCreatePass?Ao(i,s,1,t,null):i.data[s],o=e[s]=function(n,t){return de(n)?n.createText(t):n.createTextNode(t)}(e[11],t);La(i,e,o,r),oi(r,!1)}function xs(n){return Dd("",n,""),xs}function Dd(n,t,e){const i=U(),s=function(n,t,e,i){return Tn(n,uo(),e)?t+ye(e)+i:ge}(i,n,t,e);return s!==ge&&Cs(i,ut(),s),Dd}function Pd(n,t,e,i,s){const r=U(),o=function(n,t,e,i,s,r){const a=Za(n,Fi(),e,s);return Ei(2),a?t+ye(e)+i+ye(s)+r:ge}(r,n,t,e,i,s);return o!==ge&&Cs(r,ut(),o),Pd}const Ja=void 0;var NL=["en",[["a","p"],["AM","PM"],Ja],[["AM","PM"],Ja,Ja],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Ja,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Ja,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Ja,"{1} 'at' {0}",Ja],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function(n){const t=Math.floor(Math.abs(n)),e=n.toString().replace(/^[^.]*\.?/,"").length;return 1===t&&0===e?1:5}];let Hc={};function XT(n){return n in Hc||(Hc[n]=Qe.ng&&Qe.ng.common&&Qe.ng.common.locales&&Qe.ng.common.locales[n]),Hc[n]}var Q=(()=>((Q=Q||{})[Q.LocaleId=0]="LocaleId",Q[Q.DayPeriodsFormat=1]="DayPeriodsFormat",Q[Q.DayPeriodsStandalone=2]="DayPeriodsStandalone",Q[Q.DaysFormat=3]="DaysFormat",Q[Q.DaysStandalone=4]="DaysStandalone",Q[Q.MonthsFormat=5]="MonthsFormat",Q[Q.MonthsStandalone=6]="MonthsStandalone",Q[Q.Eras=7]="Eras",Q[Q.FirstDayOfWeek=8]="FirstDayOfWeek",Q[Q.WeekendRange=9]="WeekendRange",Q[Q.DateFormat=10]="DateFormat",Q[Q.TimeFormat=11]="TimeFormat",Q[Q.DateTimeFormat=12]="DateTimeFormat",Q[Q.NumberSymbols=13]="NumberSymbols",Q[Q.NumberFormats=14]="NumberFormats",Q[Q.CurrencyCode=15]="CurrencyCode",Q[Q.CurrencySymbol=16]="CurrencySymbol",Q[Q.CurrencyName=17]="CurrencyName",Q[Q.Currencies=18]="Currencies",Q[Q.Directionality=19]="Directionality",Q[Q.PluralCase=20]="PluralCase",Q[Q.ExtraData=21]="ExtraData",Q))();const em="en-US";let ex=em;function cS(n){un(n,"Expected localeId to be defined"),"string"==typeof n&&(ex=n.toLowerCase().replace(/_/g,"-"))}function dS(n,t,e,i,s){if(n=ie(n),Array.isArray(n))for(let r=0;r<n.length;r++)dS(n[r],t,e,i,s);else{const r=qe(),o=U();let a=Ro(n)?n:ie(n.provide),u=Ug(n);const d=Gt(),f=1048575&d.providerIndexes,g=d.directiveStart,m=d.providerIndexes>>20;if(Ro(n)||!n.multi){const v=new ga(u,s,L),S=pS(a,t,s?f:f+m,g);-1===S?(wn(va(d,o),r,a),fS(r,n,t.length),t.push(a),d.directiveStart++,d.directiveEnd++,s&&(d.providerIndexes+=1048576),e.push(v),o.push(v)):(e[S]=v,o[S]=v)}else{const v=pS(a,t,f+m,g),S=pS(a,t,f,f+m),x=v>=0&&e[v],k=S>=0&&e[S];if(s&&!k||!s&&!x){wn(va(d,o),r,a);const F=function(n,t,e,i,s){const r=new ga(n,e,L);return r.multi=[],r.index=t,r.componentProviders=0,Cx(r,s,i&&!e),r}(s?IF:MF,e.length,s,i,u);!s&&k&&(e[S].providerFactory=F),fS(r,n,t.length,0),t.push(a),d.directiveStart++,d.directiveEnd++,s&&(d.providerIndexes+=1048576),e.push(F),o.push(F)}else fS(r,n,v>-1?v:S,Cx(e[s?S:v],u,!s&&i));!s&&i&&k&&e[S].componentProviders++}}}function fS(n,t,e,i){const s=Ro(t);if(s||function(n){return!!n.useClass}(t)){const o=(t.useClass||t).prototype.ngOnDestroy;if(o){const a=n.destroyHooks||(n.destroyHooks=[]);if(!s&&t.multi){const u=a.indexOf(e);-1===u?a.push(e,[i,o]):a[u+1].push(i,o)}else a.push(e,o)}}}function Cx(n,t,e){return e&&n.componentProviders++,n.multi.push(t)-1}function pS(n,t,e,i){for(let s=e;s<i;s++)if(t[s]===n)return s;return-1}function MF(n,t,e,i){return gS(this.multi,[])}function IF(n,t,e,i){const s=this.multi;let r;if(this.providerFactory){const o=this.providerFactory.componentProviders,a=ba(e,e[1],this.providerFactory.index,i);r=a.slice(0,o),gS(s,r);for(let u=o;u<a.length;u++)r.push(a[u])}else r=[],gS(s,r);return r}function gS(n,t){for(let e=0;e<n.length;e++)t.push((0,n[e])());return t}function We(n,t=[]){return e=>{e.providersResolver=(i,s)=>function(n,t,e){const i=qe();if(i.firstCreatePass){const s=ni(n);dS(e,i.data,i.blueprint,s,!0),dS(t,i.data,i.blueprint,s,!1)}}(i,s?s(n):n,t)}}class Dx{}const kx="ngComponent";class NF{resolveComponentFactory(t){throw function(n){const t=Error(`No component factory found for ${Pe(n)}. Did you add it to @NgModule.entryComponents?`);return t[kx]=n,t}(t)}}let Uc=(()=>{class n{}return n.NULL=new NF,n})();function rm(...n){}function Gc(n,t){return new _t(dn(n,t))}const VF=function(){return Gc(Gt(),U())};let _t=(()=>{class n{constructor(e){this.nativeElement=e}}return n.__NG_ELEMENT_ID__=VF,n})();function Ax(n){return n instanceof _t?n.nativeElement:n}class Xa{}let el=(()=>{class n{}return n.__NG_ELEMENT_ID__=()=>$F(),n})();const $F=function(){const n=U(),e=fn(Gt().index,n);return function(n){return n[11]}(Li(e)?e:n)};let yS=(()=>{class n{}return n.\u0275prov=ne({token:n,providedIn:"root",factory:()=>null}),n})();class om{constructor(t){this.full=t,this.major=t.split(".")[0],this.minor=t.split(".")[1],this.patch=t.split(".").slice(2).join(".")}}const Tx=new om("12.2.17");class xx{constructor(){}supports(t){return bd(t)}create(t){return new GF(t)}}const UF=(n,t)=>t;class GF{constructor(t){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=t||UF}forEachItem(t){let e;for(e=this._itHead;null!==e;e=e._next)t(e)}forEachOperation(t){let e=this._itHead,i=this._removalsHead,s=0,r=null;for(;e||i;){const o=!i||e&&e.currentIndex<Ix(i,s,r)?e:i,a=Ix(o,s,r),u=o.currentIndex;if(o===i)s--,i=i._nextRemoved;else if(e=e._next,null==o.previousIndex)s++;else{r||(r=[]);const d=a-s,f=u-s;if(d!=f){for(let m=0;m<d;m++){const v=m<r.length?r[m]:r[m]=0,S=v+m;f<=S&&S<d&&(r[m]=v+1)}r[o.previousIndex]=f-d}}a!==u&&t(o,a,u)}}forEachPreviousItem(t){let e;for(e=this._previousItHead;null!==e;e=e._nextPrevious)t(e)}forEachAddedItem(t){let e;for(e=this._additionsHead;null!==e;e=e._nextAdded)t(e)}forEachMovedItem(t){let e;for(e=this._movesHead;null!==e;e=e._nextMoved)t(e)}forEachRemovedItem(t){let e;for(e=this._removalsHead;null!==e;e=e._nextRemoved)t(e)}forEachIdentityChange(t){let e;for(e=this._identityChangesHead;null!==e;e=e._nextIdentityChange)t(e)}diff(t){if(null==t&&(t=[]),!bd(t))throw new Error(`Error trying to diff '${Pe(t)}'. Only arrays and iterables are allowed`);return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let s,r,o,e=this._itHead,i=!1;if(Array.isArray(t)){this.length=t.length;for(let a=0;a<this.length;a++)r=t[a],o=this._trackByFn(a,r),null!==e&&Object.is(e.trackById,o)?(i&&(e=this._verifyReinsertion(e,r,o,a)),Object.is(e.item,r)||this._addIdentityChange(e,r)):(e=this._mismatch(e,r,o,a),i=!0),e=e._next}else s=0,function(n,t){if(Array.isArray(n))for(let e=0;e<n.length;e++)t(n[e]);else{const e=n[Ac()]();let i;for(;!(i=e.next()).done;)t(i.value)}}(t,a=>{o=this._trackByFn(s,a),null!==e&&Object.is(e.trackById,o)?(i&&(e=this._verifyReinsertion(e,a,o,s)),Object.is(e.item,a)||this._addIdentityChange(e,a)):(e=this._mismatch(e,a,o,s),i=!0),e=e._next,s++}),this.length=s;return this._truncate(e),this.collection=t,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let t;for(t=this._previousItHead=this._itHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._additionsHead;null!==t;t=t._nextAdded)t.previousIndex=t.currentIndex;for(this._additionsHead=this._additionsTail=null,t=this._movesHead;null!==t;t=t._nextMoved)t.previousIndex=t.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(t,e,i,s){let r;return null===t?r=this._itTail:(r=t._prev,this._remove(t)),null!==(t=null===this._unlinkedRecords?null:this._unlinkedRecords.get(i,null))?(Object.is(t.item,e)||this._addIdentityChange(t,e),this._reinsertAfter(t,r,s)):null!==(t=null===this._linkedRecords?null:this._linkedRecords.get(i,s))?(Object.is(t.item,e)||this._addIdentityChange(t,e),this._moveAfter(t,r,s)):t=this._addAfter(new jF(e,i),r,s),t}_verifyReinsertion(t,e,i,s){let r=null===this._unlinkedRecords?null:this._unlinkedRecords.get(i,null);return null!==r?t=this._reinsertAfter(r,t._prev,s):t.currentIndex!=s&&(t.currentIndex=s,this._addToMoves(t,s)),t}_truncate(t){for(;null!==t;){const e=t._next;this._addToRemovals(this._unlink(t)),t=e}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(t,e,i){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(t);const s=t._prevRemoved,r=t._nextRemoved;return null===s?this._removalsHead=r:s._nextRemoved=r,null===r?this._removalsTail=s:r._prevRemoved=s,this._insertAfter(t,e,i),this._addToMoves(t,i),t}_moveAfter(t,e,i){return this._unlink(t),this._insertAfter(t,e,i),this._addToMoves(t,i),t}_addAfter(t,e,i){return this._insertAfter(t,e,i),this._additionsTail=null===this._additionsTail?this._additionsHead=t:this._additionsTail._nextAdded=t,t}_insertAfter(t,e,i){const s=null===e?this._itHead:e._next;return t._next=s,t._prev=e,null===s?this._itTail=t:s._prev=t,null===e?this._itHead=t:e._next=t,null===this._linkedRecords&&(this._linkedRecords=new Mx),this._linkedRecords.put(t),t.currentIndex=i,t}_remove(t){return this._addToRemovals(this._unlink(t))}_unlink(t){null!==this._linkedRecords&&this._linkedRecords.remove(t);const e=t._prev,i=t._next;return null===e?this._itHead=i:e._next=i,null===i?this._itTail=e:i._prev=e,t}_addToMoves(t,e){return t.previousIndex===e||(this._movesTail=null===this._movesTail?this._movesHead=t:this._movesTail._nextMoved=t),t}_addToRemovals(t){return null===this._unlinkedRecords&&(this._unlinkedRecords=new Mx),this._unlinkedRecords.put(t),t.currentIndex=null,t._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=t,t._prevRemoved=null):(t._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=t),t}_addIdentityChange(t,e){return t.item=e,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=t:this._identityChangesTail._nextIdentityChange=t,t}}class jF{constructor(t,e){this.item=t,this.trackById=e,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class WF{constructor(){this._head=null,this._tail=null}add(t){null===this._head?(this._head=this._tail=t,t._nextDup=null,t._prevDup=null):(this._tail._nextDup=t,t._prevDup=this._tail,t._nextDup=null,this._tail=t)}get(t,e){let i;for(i=this._head;null!==i;i=i._nextDup)if((null===e||e<=i.currentIndex)&&Object.is(i.trackById,t))return i;return null}remove(t){const e=t._prevDup,i=t._nextDup;return null===e?this._head=i:e._nextDup=i,null===i?this._tail=e:i._prevDup=e,null===this._head}}class Mx{constructor(){this.map=new Map}put(t){const e=t.trackById;let i=this.map.get(e);i||(i=new WF,this.map.set(e,i)),i.add(t)}get(t,e){const s=this.map.get(t);return s?s.get(t,e):null}remove(t){const e=t.trackById;return this.map.get(e).remove(t)&&this.map.delete(e),t}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function Ix(n,t,e){const i=n.previousIndex;if(null===i)return i;let s=0;return e&&i<e.length&&(s=e[i]),i+t+s}class Ox{constructor(){}supports(t){return t instanceof Map||Xb(t)}create(){return new zF}}class zF{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(t){let e;for(e=this._mapHead;null!==e;e=e._next)t(e)}forEachPreviousItem(t){let e;for(e=this._previousMapHead;null!==e;e=e._nextPrevious)t(e)}forEachChangedItem(t){let e;for(e=this._changesHead;null!==e;e=e._nextChanged)t(e)}forEachAddedItem(t){let e;for(e=this._additionsHead;null!==e;e=e._nextAdded)t(e)}forEachRemovedItem(t){let e;for(e=this._removalsHead;null!==e;e=e._nextRemoved)t(e)}diff(t){if(t){if(!(t instanceof Map||Xb(t)))throw new Error(`Error trying to diff '${Pe(t)}'. Only maps and objects are allowed`)}else t=new Map;return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let e=this._mapHead;if(this._appendAfter=null,this._forEach(t,(i,s)=>{if(e&&e.key===s)this._maybeAddToChanges(e,i),this._appendAfter=e,e=e._next;else{const r=this._getOrCreateRecordForKey(s,i);e=this._insertBeforeOrAppend(e,r)}}),e){e._prev&&(e._prev._next=null),this._removalsHead=e;for(let i=e;null!==i;i=i._nextRemoved)i===this._mapHead&&(this._mapHead=null),this._records.delete(i.key),i._nextRemoved=i._next,i.previousValue=i.currentValue,i.currentValue=null,i._prev=null,i._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(t,e){if(t){const i=t._prev;return e._next=t,e._prev=i,t._prev=e,i&&(i._next=e),t===this._mapHead&&(this._mapHead=e),this._appendAfter=t,t}return this._appendAfter?(this._appendAfter._next=e,e._prev=this._appendAfter):this._mapHead=e,this._appendAfter=e,null}_getOrCreateRecordForKey(t,e){if(this._records.has(t)){const s=this._records.get(t);this._maybeAddToChanges(s,e);const r=s._prev,o=s._next;return r&&(r._next=o),o&&(o._prev=r),s._next=null,s._prev=null,s}const i=new KF(t);return this._records.set(t,i),i.currentValue=e,this._addToAdditions(i),i}_reset(){if(this.isDirty){let t;for(this._previousMapHead=this._mapHead,t=this._previousMapHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._changesHead;null!==t;t=t._nextChanged)t.previousValue=t.currentValue;for(t=this._additionsHead;null!=t;t=t._nextAdded)t.previousValue=t.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(t,e){Object.is(e,t.currentValue)||(t.previousValue=t.currentValue,t.currentValue=e,this._addToChanges(t))}_addToAdditions(t){null===this._additionsHead?this._additionsHead=this._additionsTail=t:(this._additionsTail._nextAdded=t,this._additionsTail=t)}_addToChanges(t){null===this._changesHead?this._changesHead=this._changesTail=t:(this._changesTail._nextChanged=t,this._changesTail=t)}_forEach(t,e){t instanceof Map?t.forEach(e):Object.keys(t).forEach(i=>e(t[i],i))}}class KF{constructor(t){this.key=t,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function Rx(){return new jc([new xx])}let jc=(()=>{class n{constructor(e){this.factories=e}static create(e,i){if(null!=i){const s=i.factories.slice();e=e.concat(s)}return new n(e)}static extend(e){return{provide:n,useFactory:i=>n.create(e,i||Rx()),deps:[[n,new $r,new Ct]]}}find(e){const i=this.factories.find(s=>s.supports(e));if(null!=i)return i;throw new Error(`Cannot find a differ supporting object '${e}' of type '${function(n){return n.name||typeof n}(e)}'`)}}return n.\u0275prov=ne({token:n,providedIn:"root",factory:Rx}),n})();function Nx(){return new Wc([new Ox])}let Wc=(()=>{class n{constructor(e){this.factories=e}static create(e,i){if(i){const s=i.factories.slice();e=e.concat(s)}return new n(e)}static extend(e){return{provide:n,useFactory:i=>n.create(e,i||Nx()),deps:[[n,new $r,new Ct]]}}find(e){const i=this.factories.find(s=>s.supports(e));if(i)return i;throw new Error(`Cannot find a differ supporting object '${e}'`)}}return n.\u0275prov=ne({token:n,providedIn:"root",factory:Nx}),n})();function am(n,t,e,i,s=!1){for(;null!==e;){const r=t[e.index];if(null!==r&&i.push(Et(r)),ti(r))for(let a=10;a<r.length;a++){const u=r[a],d=u[1].firstChild;null!==d&&am(u[1],u,d,i)}const o=e.type;if(8&o)am(n,t,e.child,i);else if(32&o){const a=bh(e,t);let u;for(;u=a();)i.push(u)}else if(16&o){const a=Vp(t,e);if(Array.isArray(a))i.push(...a);else{const u=Vt(t[16]);am(u[1],u,a,i,!0)}}e=s?e.projectionNext:e.next}return i}class Md{constructor(t,e){this._lView=t,this._cdRefInjectingView=e,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const t=this._lView,e=t[1];return am(e,t,e.firstChild,[])}get context(){return this._lView[8]}set context(t){this._lView[8]=t}get destroyed(){return 256==(256&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const t=this._lView[3];if(ti(t)){const e=t[8],i=e?e.indexOf(this):-1;i>-1&&(Ah(t,i),tr(e,i))}this._attachedToViewContainer=!1}Op(this._lView[1],this._lView)}onDestroy(t){Dn(this._lView[1],this._lView,null,t)}markForCheck(){rd(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-129}reattach(){this._lView[2]|=128}detectChanges(){ad(this._lView[1],this._lView,this.context)}checkNoChanges(){!function(n,t,e){jt(!0);try{ad(n,t,e)}finally{jt(!1)}}(this._lView[1],this._lView,this.context)}attachToViewContainerRef(){if(this._appRef)throw new Error("This view is already attached directly to the ApplicationRef!");this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function(n,t){Fa(n,t,t[11],2,null,null)}(this._lView[1],this._lView)}attachToAppRef(t){if(this._attachedToViewContainer)throw new Error("This view is already attached to a ViewContainer!");this._appRef=t}}class ZF extends Md{constructor(t){super(t),this._view=t}detectChanges(){Vg(this._view)}checkNoChanges(){!function(n){jt(!0);try{Vg(n)}finally{jt(!1)}}(this._view)}get context(){return null}}const JF=function(n){return function(n,t,e){if(ao(n)&&!e){const i=fn(n.index,t);return new Md(i,i)}return 47&n.type?new Md(t[16],t):null}(Gt(),U(),16==(16&n))};let lm=(()=>{class n{}return n.__NG_ELEMENT_ID__=JF,n})();const tV=[new Ox],iV=new jc([new xx]),sV=new Wc(tV),oV=function(){return cm(Gt(),U())};let Ki=(()=>{class n{}return n.__NG_ELEMENT_ID__=oV,n})();const aV=Ki,lV=class extends aV{constructor(t,e,i){super(),this._declarationLView=t,this._declarationTContainer=e,this.elementRef=i}createEmbeddedView(t){const e=this._declarationTContainer.tViews,i=ja(this._declarationLView,e,t,16,null,e.declTNode,null,null,null,null);i[17]=this._declarationLView[this._declarationTContainer.index];const r=this._declarationLView[19];return null!==r&&(i[19]=r.createEmbeddedView(e)),Wa(e,i,t),new Md(i)}};function cm(n,t){return 4&n.type?new lV(t,n,Gc(n,t)):null}class tl{}const dV=function(){return Vx(Gt(),U())};let Qi=(()=>{class n{}return n.__NG_ELEMENT_ID__=dV,n})();const pV=Qi,Lx=class extends pV{constructor(t,e,i){super(),this._lContainer=t,this._hostTNode=e,this._hostLView=i}get element(){return Gc(this._hostTNode,this._hostLView)}get injector(){return new Or(this._hostTNode,this._hostLView)}get parentInjector(){const t=Vi(this._hostTNode,this._hostLView);if(ap(t)){const e=Mr(t,this._hostLView),i=yo(t);return new Or(e[1].data[i+8],e)}return new Or(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(t){const e=Fx(this._lContainer);return null!==e&&e[t]||null}get length(){return this._lContainer.length-10}createEmbeddedView(t,e,i){const s=t.createEmbeddedView(e||{});return this.insert(s,i),s}createComponent(t,e,i,s,r){const o=i||this.parentInjector;if(!r&&null==t.ngModule&&o){const u=o.get(tl,null);u&&(r=u)}const a=t.create(o,s,void 0,r);return this.insert(a.hostView,e),a}insert(t,e){const i=t._lView,s=i[1];if(function(n){return ti(n[3])}(i)){const f=this.indexOf(t);if(-1!==f)this.detach(f);else{const g=i[3],m=new Lx(g,g[6],g[3]);m.detach(m.indexOf(t))}}const r=this._adjustIndex(e),o=this._lContainer;!function(n,t,e,i){const s=10+i,r=e.length;i>0&&(e[s-1][4]=t),i<r-10?(t[4]=e[s],Yl(e,10+i,t)):(e.push(t),t[4]=null),t[3]=e;const o=t[17];null!==o&&e!==o&&function(n,t){const e=n[9];t[16]!==t[3][3][16]&&(n[2]=!0),null===e?n[9]=[t]:e.push(t)}(o,t);const a=t[19];null!==a&&a.insertView(n),t[2]|=128}(s,i,o,r);const a=Rh(r,o),u=i[11],d=Ra(u,o[7]);return null!==d&&function(n,t,e,i,s,r){i[0]=s,i[6]=t,Fa(n,i,e,1,s,r)}(s,o[6],u,i,d,a),t.attachToViewContainerRef(),Yl(vS(o),r,t),t}move(t,e){return this.insert(t,e)}indexOf(t){const e=Fx(this._lContainer);return null!==e?e.indexOf(t):-1}remove(t){const e=this._adjustIndex(t,-1),i=Ah(this._lContainer,e);i&&(tr(vS(this._lContainer),e),Op(i[1],i))}detach(t){const e=this._adjustIndex(t,-1),i=Ah(this._lContainer,e);return i&&null!=tr(vS(this._lContainer),e)?new Md(i):null}_adjustIndex(t,e=0){return null==t?this.length+e:t}};function Fx(n){return n[8]}function vS(n){return n[8]||(n[8]=[])}function Vx(n,t){let e;const i=t[n.index];if(ti(i))e=i;else{let s;if(8&n.type)s=Et(i);else{const r=t[11];s=r.createComment("");const o=dn(n,t);_s(r,Ra(r,o),s,function(n,t){return de(n)?n.nextSibling(t):t.nextSibling}(r,o),!1)}t[n.index]=e=Fg(i,t,s,n),Cc(t,e)}return new Lx(e,n,t)}const Zc={};class s1 extends Uc{constructor(t){super(),this.ngModule=t}resolveComponentFactory(t){const e=hn(t);return new o1(e,this.ngModule)}}function r1(n){const t=[];for(let e in n)n.hasOwnProperty(e)&&t.push({propName:n[e],templateName:e});return t}const h2=new ce("SCHEDULER_TOKEN",{providedIn:"root",factory:()=>lg});class o1 extends Dx{constructor(t,e){super(),this.componentDef=t,this.ngModule=e,this.componentType=t.type,this.selector=function(n){return n.map(nb).join(",")}(t.selectors),this.ngContentSelectors=t.ngContentSelectors?t.ngContentSelectors:[],this.isBoundToModule=!!e}get inputs(){return r1(this.componentDef.inputs)}get outputs(){return r1(this.componentDef.outputs)}create(t,e,i,s){const r=(s=s||this.ngModule)?function(n,t){return{get:(e,i,s)=>{const r=n.get(e,Zc,s);return r!==Zc||i===Zc?r:t.get(e,i,s)}}}(t,s.injector):t,o=r.get(Xa,Xf),a=r.get(yS,null),u=o.createRenderer(null,this.componentDef),d=this.componentDef.selectors[0][0]||"div",f=i?function(n,t,e){if(de(n))return n.selectRootElement(t,e===pt.ShadowDom);let i="string"==typeof t?n.querySelector(t):t;return i.textContent="",i}(u,i,this.componentDef.encapsulation):Ia(o.createRenderer(null,this.componentDef),d,function(n){const t=n.toLowerCase();return"svg"===t?$:"math"===t?"http://www.w3.org/1998/MathML/":null}(d)),g=this.componentDef.onPush?576:528,m=function(n,t){return{components:[],scheduler:n||lg,clean:Lb,playerHandler:t||null,flags:0}}(),v=Mo(0,null,null,1,0,null,null,null,null,null),S=ja(null,v,m,g,null,null,o,u,a,r);let x,k;Hl(S);try{const F=function(n,t,e,i,s,r){const o=e[1];e[20]=n;const u=Ao(o,20,2,"#host",null),d=u.mergedAttrs=t.hostAttrs;null!==d&&(Pc(u,d,!0),null!==n&&(jl(s,n,d),null!==u.classes&&hc(s,n,u.classes),null!==u.styles&&$p(s,n,u.styles)));const f=i.createRenderer(n,t),g=ja(e,kg(t),null,t.onPush?64:16,e[20],u,i,f,r||null,null);return o.firstCreatePass&&(wn(va(u,e),o,t.type),Rg(o,u),Ng(u,e.length,1)),Cc(e,g),e[20]=g}(f,this.componentDef,S,o,u);if(f)if(i)jl(u,f,["ng-version",Tx.full]);else{const{attrs:R,classes:j}=function(n){const t=[],e=[];let i=1,s=2;for(;i<n.length;){let r=n[i];if("string"==typeof r)2===s?""!==r&&t.push(r,n[++i]):8===s&&e.push(r);else{if(!Ai(s))break;s=r}i++}return{attrs:t,classes:e}}(this.componentDef.selectors[0]);R&&jl(u,f,R),j&&j.length>0&&hc(u,f,j.join(" "))}if(k=Uu(v,20),void 0!==e){const R=k.projection=[];for(let j=0;j<this.ngContentSelectors.length;j++){const K=e[j];R.push(null!=K?Array.from(K):null)}}x=function(n,t,e,i,s){const r=e[1],o=function(n,t,e){const i=Gt();n.firstCreatePass&&(e.providersResolver&&e.providersResolver(e),nd(n,i,t,To(n,t,1,null),e));const s=ba(t,n,i.directiveStart,i);sn(s,t);const r=dn(i,t);return r&&sn(r,t),s}(r,e,t);if(i.components.push(o),n[8]=o,s&&s.forEach(u=>u(o,t)),t.contentQueries){const u=Gt();t.contentQueries(1,o,u.directiveStart)}const a=Gt();return!r.firstCreatePass||null===t.hostBindings&&null===t.hostAttrs||(Ee(a.index),Og(e[1],a,0,a.directiveStart,a.directiveEnd,t),jr(t,o)),o}(F,this.componentDef,S,m,[dN]),Wa(v,S,null)}finally{_()}return new p2(this.componentType,x,Gc(k,S),S,k)}}class p2 extends class{}{constructor(t,e,i,s,r){super(),this.location=i,this._rootLView=s,this._tNode=r,this.instance=e,this.hostView=this.changeDetectorRef=new ZF(s),this.componentType=t}get injector(){return new Or(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(t){this.hostView.onDestroy(t)}}const Yc=new Map;class y2 extends tl{constructor(t,e){super(),this._parent=e,this._bootstrapComponents=[],this.injector=this,this.destroyCbs=[],this.componentFactoryResolver=new s1(this);const i=ei(t),s=function(n){return n[mv]||null}(t);s&&cS(s),this._bootstrapComponents=ki(i.bootstrap),this._r3Injector=kc(t,e,[{provide:tl,useValue:this},{provide:Uc,useValue:this.componentFactoryResolver}],Pe(t)),this._r3Injector._resolveInjectorDefTypes(),this.instance=this.get(t)}get(t,e=gt.THROW_IF_NOT_FOUND,i=re.Default){return t===gt||t===tl||t===Io?this:this._r3Injector.get(t,e,i)}destroy(){const t=this._r3Injector;!t.destroyed&&t.destroy(),this.destroyCbs.forEach(e=>e()),this.destroyCbs=null}onDestroy(t){this.destroyCbs.push(t)}}class MS extends class{}{constructor(t){super(),this.moduleType=t,null!==ei(t)&&function(n){const t=new Set;!function e(i){const s=ei(i,!0),r=s.id;null!==r&&(function(n,t,e){if(t&&t!==e)throw new Error(`Duplicate module registered for ${n} - ${Pe(t)} vs ${Pe(t.name)}`)}(r,Yc.get(r),i),Yc.set(r,i));const o=ki(s.imports);for(const a of o)t.has(a)||(t.add(a),e(a))}(n)}(t)}create(t){return new y2(this.moduleType,t)}}function c1(n,t,e,i,s){return function(n,t,e,i,s,r,o){const a=t+e;return Za(n,a,s,r)?or(n,a+2,o?i.call(o,s,r):i(s,r)):Bd(n,a+2)}(U(),En(),n,t,e,i,s)}function Bd(n,t){const e=n[t];return e===ge?void 0:e}function Jc(n,t){const e=qe();let i;const s=n+20;e.firstCreatePass?(i=function(n,t){if(t)for(let e=t.length-1;e>=0;e--){const i=t[e];if(n===i.name)return i}throw new Gs("302",`The pipe '${n}' could not be found!`)}(t,e.pipeRegistry),e.data[s]=i,i.onDestroy&&(e.destroyHooks||(e.destroyHooks=[])).push(s,i.onDestroy)):i=e.data[s];const r=i.factory||(i.factory=Dr(i.type)),o=cs(L);try{const a=zl(!1),u=r();return zl(a),function(n,t,e,i){e>=n.data.length&&(n.data[e]=null,n.blueprint[e]=null),t[e]=i}(e,U(),s,u),u}finally{cs(o)}}function Xc(n,t,e){const i=n+20,s=U(),r=function(n,t){return n[t]}(s,i);return function(n,t){Ps.isWrapped(t)&&(t=Ps.unwrap(t),n[Fi()]=ge);return t}(s,function(n,t){return n[1].data[t].pure}(s,i)?function(n,t,e,i,s,r){const o=t+e;return Tn(n,o,s)?or(n,o+1,r?i.call(r,s):i(s)):Bd(n,o+1)}(s,En(),t,r.transform,e,r):r.transform(e))}function IS(n){return t=>{setTimeout(n,void 0,t)}}const nt=class extends Re{constructor(t=!1){super(),this.__isAsync=t}emit(t){super.next(t)}subscribe(t,e,i){var s,r,o;let a=t,u=e||(()=>null),d=i;if(t&&"object"==typeof t){const g=t;a=null===(s=g.next)||void 0===s?void 0:s.bind(g),u=null===(r=g.error)||void 0===r?void 0:r.bind(g),d=null===(o=g.complete)||void 0===o?void 0:o.bind(g)}this.__isAsync&&(u=IS(u),a&&(a=IS(a)),d&&(d=IS(d)));const f=super.subscribe({next:a,error:u,complete:d});return t instanceof je&&t.add(f),f}};function O2(){return this._results[Ac()]()}class pm{constructor(t=!1){this._emitDistinctChangesOnly=t,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const e=Ac(),i=pm.prototype;i[e]||(i[e]=O2)}get changes(){return this._changes||(this._changes=new nt)}get(t){return this._results[t]}map(t){return this._results.map(t)}filter(t){return this._results.filter(t)}find(t){return this._results.find(t)}reduce(t,e){return this._results.reduce(t,e)}forEach(t){this._results.forEach(t)}some(t){return this._results.some(t)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(t,e){const i=this;i.dirty=!1;const s=Bn(t);(this._changesDetected=!function(n,t,e){if(n.length!==t.length)return!1;for(let i=0;i<n.length;i++){let s=n[i],r=t[i];if(e&&(s=e(s),r=e(r)),r!==s)return!1}return!0}(i._results,s,e))&&(i._results=s,i.length=s.length,i.last=s[this.length-1],i.first=s[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}Symbol;class OS{constructor(t){this.queryList=t,this.matches=null}clone(){return new OS(this.queryList)}setDirty(){this.queryList.setDirty()}}class RS{constructor(t=[]){this.queries=t}createEmbeddedView(t){const e=t.queries;if(null!==e){const i=null!==t.contentQueries?t.contentQueries[0]:e.length,s=[];for(let r=0;r<i;r++){const o=e.getByIndex(r);s.push(this.queries[o.indexInDeclarationView].clone())}return new RS(s)}return null}insertView(t){this.dirtyQueriesWithMatches(t)}detachView(t){this.dirtyQueriesWithMatches(t)}dirtyQueriesWithMatches(t){for(let e=0;e<this.queries.length;e++)null!==_1(t,e).matches&&this.queries[e].setDirty()}}class g1{constructor(t,e,i=null){this.predicate=t,this.flags=e,this.read=i}}class NS{constructor(t=[]){this.queries=t}elementStart(t,e){for(let i=0;i<this.queries.length;i++)this.queries[i].elementStart(t,e)}elementEnd(t){for(let e=0;e<this.queries.length;e++)this.queries[e].elementEnd(t)}embeddedTView(t){let e=null;for(let i=0;i<this.length;i++){const s=null!==e?e.length:0,r=this.getByIndex(i).embeddedTView(t,s);r&&(r.indexInDeclarationView=i,null!==e?e.push(r):e=[r])}return null!==e?new NS(e):null}template(t,e){for(let i=0;i<this.queries.length;i++)this.queries[i].template(t,e)}getByIndex(t){return this.queries[t]}get length(){return this.queries.length}track(t){this.queries.push(t)}}class LS{constructor(t,e=-1){this.metadata=t,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=e}elementStart(t,e){this.isApplyingToNode(e)&&this.matchTNode(t,e)}elementEnd(t){this._declarationNodeIndex===t.index&&(this._appliesToNextNode=!1)}template(t,e){this.elementStart(t,e)}embeddedTView(t,e){return this.isApplyingToNode(t)?(this.crossesNgTemplate=!0,this.addMatch(-t.index,e),new LS(this.metadata)):null}isApplyingToNode(t){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const e=this._declarationNodeIndex;let i=t.parent;for(;null!==i&&8&i.type&&i.index!==e;)i=i.parent;return e===(null!==i?i.index:-1)}return this._appliesToNextNode}matchTNode(t,e){const i=this.metadata.predicate;if(Array.isArray(i))for(let s=0;s<i.length;s++){const r=i[s];this.matchTNodeWithReadOption(t,e,L2(e,r)),this.matchTNodeWithReadOption(t,e,Ir(e,t,r,!1,!1))}else i===Ki?4&e.type&&this.matchTNodeWithReadOption(t,e,-1):this.matchTNodeWithReadOption(t,e,Ir(e,t,i,!1,!1))}matchTNodeWithReadOption(t,e,i){if(null!==i){const s=this.metadata.read;if(null!==s)if(s===_t||s===Qi||s===Ki&&4&e.type)this.addMatch(e.index,-2);else{const r=Ir(e,t,s,!1,!1);null!==r&&this.addMatch(e.index,r)}else this.addMatch(e.index,i)}}addMatch(t,e){null===this.matches?this.matches=[t,e]:this.matches.push(t,e)}}function L2(n,t){const e=n.localNames;if(null!==e)for(let i=0;i<e.length;i+=2)if(e[i]===t)return e[i+1];return null}function V2(n,t,e,i){return-1===e?function(n,t){return 11&n.type?Gc(n,t):4&n.type?cm(n,t):null}(t,n):-2===e?function(n,t,e){return e===_t?Gc(t,n):e===Ki?cm(t,n):e===Qi?Vx(t,n):void 0}(n,t,i):ba(n,n[1],e,t)}function m1(n,t,e,i){const s=t[19].queries[i];if(null===s.matches){const r=n.data,o=e.matches,a=[];for(let u=0;u<o.length;u+=2){const d=o[u];a.push(d<0?null:V2(t,r[d],o[u+1],e.metadata.read))}s.matches=a}return s.matches}function FS(n,t,e,i){const s=n.queries.getByIndex(e),r=s.matches;if(null!==r){const o=m1(n,t,s,e);for(let a=0;a<r.length;a+=2){const u=r[a];if(u>0)i.push(o[a/2]);else{const d=r[a+1],f=t[-u];for(let g=10;g<f.length;g++){const m=f[g];m[17]===m[3]&&FS(m[1],m,d,i)}if(null!==f[9]){const g=f[9];for(let m=0;m<g.length;m++){const v=g[m];FS(v[1],v,d,i)}}}}}return i}function eu(n){const t=U(),e=qe(),i=xr();Qu(i+1);const s=_1(e,i);if(n.dirty&&ep(t)===(2==(2&s.metadata.flags))){if(null===s.matches)n.reset([]);else{const r=s.crossesNgTemplate?FS(e,t,i,[]):m1(e,t,s,i);n.reset(r,Ax),n.notifyOnChanges()}return!0}return!1}function gm(n,t,e,i){const s=qe();if(s.firstCreatePass){const r=Gt();v1(s,new g1(t,e,i),r.index),function(n,t){const e=n.contentQueries||(n.contentQueries=[]);t!==(e.length?e[e.length-1]:-1)&&e.push(n.queries.length-1,t)}(s,n),2==(2&e)&&(s.staticContentQueries=!0)}y1(s,U(),e)}function tu(){return function(n,t){return n[19].queries[t].queryList}(U(),xr())}function y1(n,t,e){const i=new pm(4==(4&e));Dn(n,t,i,i.destroy),null===t[19]&&(t[19]=new RS),t[19].queries.push(new OS(i))}function v1(n,t,e){null===n.queries&&(n.queries=new NS),n.queries.track(new LS(t,e))}function _1(n,t){return n.queries.getByIndex(t)}const vm=new ce("Application Initializer");let iu=(()=>{class n{constructor(e){this.appInits=e,this.resolve=rm,this.reject=rm,this.initialized=!1,this.done=!1,this.donePromise=new Promise((i,s)=>{this.resolve=i,this.reject=s})}runInitializers(){if(this.initialized)return;const e=[],i=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let s=0;s<this.appInits.length;s++){const r=this.appInits[s]();if(Jg(r))e.push(r);else if(rS(r)){const o=new Promise((a,u)=>{r.subscribe({complete:a,error:u})});e.push(o)}}Promise.all(e).then(()=>{i()}).catch(s=>{this.reject(s)}),0===e.length&&i(),this.initialized=!0}}return n.\u0275fac=function(e){return new(e||n)(V(vm,8))},n.\u0275prov=ne({token:n,factory:n.\u0275fac}),n})();const Ud=new ce("AppId"),gB={provide:Ud,useFactory:function(){return`${GS()}${GS()}${GS()}`},deps:[]};function GS(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const F1=new ce("Platform Initializer"),Gd=new ce("Platform ID"),mB=new ce("appBootstrapListener");let jS=(()=>{class n{log(e){console.log(e)}warn(e){console.warn(e)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=ne({token:n,factory:n.\u0275fac}),n})();const Lo=new ce("LocaleId"),V1=new ce("DefaultCurrencyCode");class vB{constructor(t,e){this.ngModuleFactory=t,this.componentFactories=e}}const WS=function(n){return new MS(n)},_B=WS,bB=function(n){return Promise.resolve(WS(n))},B1=function(n){const t=WS(n),i=ki(ei(n).declarations).reduce((s,r)=>{const o=hn(r);return o&&s.push(new o1(o)),s},[]);return new vB(t,i)},SB=B1,EB=function(n){return Promise.resolve(B1(n))};let bm=(()=>{class n{constructor(){this.compileModuleSync=_B,this.compileModuleAsync=bB,this.compileModuleAndAllComponentsSync=SB,this.compileModuleAndAllComponentsAsync=EB}clearCache(){}clearCacheFor(e){}getModuleId(e){}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=ne({token:n,factory:n.\u0275fac}),n})();const DB=(()=>Promise.resolve(0))();function zS(n){"undefined"==typeof Zone?DB.then(()=>{n&&n.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",n)}class xe{constructor({enableLongStackTrace:t=!1,shouldCoalesceEventChangeDetection:e=!1,shouldCoalesceRunChangeDetection:i=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new nt(!1),this.onMicrotaskEmpty=new nt(!1),this.onStable=new nt(!1),this.onError=new nt(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched();const s=this;s._nesting=0,s._outer=s._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(s._inner=s._inner.fork(new Zone.TaskTrackingZoneSpec)),t&&Zone.longStackTraceZoneSpec&&(s._inner=s._inner.fork(Zone.longStackTraceZoneSpec)),s.shouldCoalesceEventChangeDetection=!i&&e,s.shouldCoalesceRunChangeDetection=i,s.lastRequestAnimationFrameId=-1,s.nativeRequestAnimationFrame=function(){let n=Qe.requestAnimationFrame,t=Qe.cancelAnimationFrame;if("undefined"!=typeof Zone&&n&&t){const e=n[Zone.__symbol__("OriginalDelegate")];e&&(n=e);const i=t[Zone.__symbol__("OriginalDelegate")];i&&(t=i)}return{nativeRequestAnimationFrame:n,nativeCancelAnimationFrame:t}}().nativeRequestAnimationFrame,function(n){const t=()=>{!function(n){n.isCheckStableRunning||-1!==n.lastRequestAnimationFrameId||(n.lastRequestAnimationFrameId=n.nativeRequestAnimationFrame.call(Qe,()=>{n.fakeTopEventTask||(n.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{n.lastRequestAnimationFrameId=-1,QS(n),n.isCheckStableRunning=!0,KS(n),n.isCheckStableRunning=!1},void 0,()=>{},()=>{})),n.fakeTopEventTask.invoke()}),QS(n))}(n)};n._inner=n._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(e,i,s,r,o,a)=>{try{return $1(n),e.invokeTask(s,r,o,a)}finally{(n.shouldCoalesceEventChangeDetection&&"eventTask"===r.type||n.shouldCoalesceRunChangeDetection)&&t(),H1(n)}},onInvoke:(e,i,s,r,o,a,u)=>{try{return $1(n),e.invoke(s,r,o,a,u)}finally{n.shouldCoalesceRunChangeDetection&&t(),H1(n)}},onHasTask:(e,i,s,r)=>{e.hasTask(s,r),i===s&&("microTask"==r.change?(n._hasPendingMicrotasks=r.microTask,QS(n),KS(n)):"macroTask"==r.change&&(n.hasPendingMacrotasks=r.macroTask))},onHandleError:(e,i,s,r)=>(e.handleError(s,r),n.runOutsideAngular(()=>n.onError.emit(r)),!1)})}(s)}static isInAngularZone(){return!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!xe.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}static assertNotInAngularZone(){if(xe.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}run(t,e,i){return this._inner.run(t,e,i)}runTask(t,e,i,s){const r=this._inner,o=r.scheduleEventTask("NgZoneEvent: "+s,t,kB,rm,rm);try{return r.runTask(o,e,i)}finally{r.cancelTask(o)}}runGuarded(t,e,i){return this._inner.runGuarded(t,e,i)}runOutsideAngular(t){return this._outer.run(t)}}const kB={};function KS(n){if(0==n._nesting&&!n.hasPendingMicrotasks&&!n.isStable)try{n._nesting++,n.onMicrotaskEmpty.emit(null)}finally{if(n._nesting--,!n.hasPendingMicrotasks)try{n.runOutsideAngular(()=>n.onStable.emit(null))}finally{n.isStable=!0}}}function QS(n){n.hasPendingMicrotasks=!!(n._hasPendingMicrotasks||(n.shouldCoalesceEventChangeDetection||n.shouldCoalesceRunChangeDetection)&&-1!==n.lastRequestAnimationFrameId)}function $1(n){n._nesting++,n.isStable&&(n.isStable=!1,n.onUnstable.emit(null))}function H1(n){n._nesting--,KS(n)}class xB{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new nt,this.onMicrotaskEmpty=new nt,this.onStable=new nt,this.onError=new nt}run(t,e,i){return t.apply(e,i)}runGuarded(t,e,i){return t.apply(e,i)}runOutsideAngular(t){return t()}runTask(t,e,i,s){return t.apply(e,i)}}let ZS=(()=>{class n{constructor(e){this._ngZone=e,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),e.run(()=>{this.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{xe.assertNotInAngularZone(),zS(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())zS(()=>{for(;0!==this._callbacks.length;){let e=this._callbacks.pop();clearTimeout(e.timeoutId),e.doneCb(this._didWork)}this._didWork=!1});else{let e=this.getPendingTasks();this._callbacks=this._callbacks.filter(i=>!i.updateCb||!i.updateCb(e)||(clearTimeout(i.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(e=>({source:e.source,creationLocation:e.creationLocation,data:e.data})):[]}addCallback(e,i,s){let r=-1;i&&i>0&&(r=setTimeout(()=>{this._callbacks=this._callbacks.filter(o=>o.timeoutId!==r),e(this._didWork,this.getPendingTasks())},i)),this._callbacks.push({doneCb:e,timeoutId:r,updateCb:s})}whenStable(e,i,s){if(s&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(e,i,s),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}findProviders(e,i,s){return[]}}return n.\u0275fac=function(e){return new(e||n)(V(xe))},n.\u0275prov=ne({token:n,factory:n.\u0275fac}),n})(),q1=(()=>{class n{constructor(){this._applications=new Map,YS.addToWindow(this)}registerApplication(e,i){this._applications.set(e,i)}unregisterApplication(e){this._applications.delete(e)}unregisterAllApplications(){this._applications.clear()}getTestability(e){return this._applications.get(e)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(e,i=!0){return YS.findTestabilityInTree(this,e,i)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=ne({token:n,factory:n.\u0275fac}),n})();class MB{addToWindow(t){}findTestabilityInTree(t,e,i){return null}}let YS=new MB,U1=!0,G1=!1;let Os;const W1=new ce("AllowMultipleToken");function z1(n,t,e=[]){const i=`Platform: ${t}`,s=new ce(i);return(r=[])=>{let o=K1();if(!o||o.injector.get(W1,!1))if(n)n(e.concat(r).concat({provide:s,useValue:!0}));else{const a=e.concat(r).concat({provide:s,useValue:!0},{provide:Yt,useValue:"platform"});!function(n){if(Os&&!Os.destroyed&&!Os.injector.get(W1,!1))throw new Error("There can be only one platform. Destroy the previous one to create a new one.");Os=n.get(Q1);const t=n.get(F1,null);t&&t.forEach(e=>e())}(gt.create({providers:a,name:i}))}return function(n){const t=K1();if(!t)throw new Error("No platform exists!");if(!t.injector.get(n,null))throw new Error("A platform with a different configuration has been created. Please destroy it first.");return t}(s)}}function K1(){return Os&&!Os.destroyed?Os:null}let Q1=(()=>{class n{constructor(e){this._injector=e,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(e,i){const a=function(n,t){let e;return e="noop"===n?new xB:("zone.js"===n?void 0:n)||new xe({enableLongStackTrace:(G1=!0,U1),shouldCoalesceEventChangeDetection:!!(null==t?void 0:t.ngZoneEventCoalescing),shouldCoalesceRunChangeDetection:!!(null==t?void 0:t.ngZoneRunCoalescing)}),e}(i?i.ngZone:void 0,{ngZoneEventCoalescing:i&&i.ngZoneEventCoalescing||!1,ngZoneRunCoalescing:i&&i.ngZoneRunCoalescing||!1}),u=[{provide:xe,useValue:a}];return a.run(()=>{const d=gt.create({providers:u,parent:this.injector,name:e.moduleType.name}),f=e.create(d),g=f.injector.get(Ur,null);if(!g)throw new Error("No ErrorHandler. Is platform module (BrowserModule) included?");return a.runOutsideAngular(()=>{const m=a.onError.subscribe({next:v=>{g.handleError(v)}});f.onDestroy(()=>{JS(this._modules,f),m.unsubscribe()})}),function(n,t,e){try{const i=e();return Jg(i)?i.catch(s=>{throw t.runOutsideAngular(()=>n.handleError(s)),s}):i}catch(i){throw t.runOutsideAngular(()=>n.handleError(i)),i}}(g,a,()=>{const m=f.injector.get(iu);return m.runInitializers(),m.donePromise.then(()=>(cS(f.injector.get(Lo,em)||em),this._moduleDoBootstrap(f),f))})})}bootstrapModule(e,i=[]){const s=Z1({},i);return function(n,t,e){const i=new MS(e);return Promise.resolve(i)}(0,0,e).then(r=>this.bootstrapModuleFactory(r,s))}_moduleDoBootstrap(e){const i=e.injector.get(jd);if(e._bootstrapComponents.length>0)e._bootstrapComponents.forEach(s=>i.bootstrap(s));else{if(!e.instance.ngDoBootstrap)throw new Error(`The module ${Pe(e.instance.constructor)} was bootstrapped, but it does not declare "@NgModule.bootstrap" components nor a "ngDoBootstrap" method. Please define one of these.`);e.instance.ngDoBootstrap(i)}this._modules.push(e)}onDestroy(e){this._destroyListeners.push(e)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Error("The platform has already been destroyed!");this._modules.slice().forEach(e=>e.destroy()),this._destroyListeners.forEach(e=>e()),this._destroyed=!0}get destroyed(){return this._destroyed}}return n.\u0275fac=function(e){return new(e||n)(V(gt))},n.\u0275prov=ne({token:n,factory:n.\u0275fac}),n})();function Z1(n,t){return Array.isArray(t)?t.reduce(Z1,n):Object.assign(Object.assign({},n),t)}let jd=(()=>{class n{constructor(e,i,s,r,o){this._zone=e,this._injector=i,this._exceptionHandler=s,this._componentFactoryResolver=r,this._initStatus=o,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const a=new $e(d=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{d.next(this._stable),d.complete()})}),u=new $e(d=>{let f;this._zone.runOutsideAngular(()=>{f=this._zone.onStable.subscribe(()=>{xe.assertNotInAngularZone(),zS(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,d.next(!0))})})});const g=this._zone.onUnstable.subscribe(()=>{xe.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{d.next(!1)}))});return()=>{f.unsubscribe(),g.unsubscribe()}});this.isStable=vr(a,u.pipe(n=>_r()(function(n,t){return function(i){let s;s="function"==typeof n?n:function(){return n};const r=Object.create(i,ku);return r.source=i,r.subjectFactory=s,r}}(nv)(n))))}bootstrap(e,i){if(!this._initStatus.done)throw new Error("Cannot bootstrap as there are still asynchronous initializers running. Bootstrap components in the `ngDoBootstrap` method of the root module.");let s;s=e instanceof Dx?e:this._componentFactoryResolver.resolveComponentFactory(e),this.componentTypes.push(s.componentType);const r=function(n){return n.isBoundToModule}(s)?void 0:this._injector.get(tl),a=s.create(gt.NULL,[],i||s.selector,r),u=a.location.nativeElement,d=a.injector.get(ZS,null),f=d&&a.injector.get(q1);return d&&f&&f.registerApplication(u,d),a.onDestroy(()=>{this.detachView(a.hostView),JS(this.components,a),f&&f.unregisterApplication(u)}),this._loadComponent(a),a}tick(){if(this._runningTick)throw new Error("ApplicationRef.tick is called recursively");try{this._runningTick=!0;for(let e of this._views)e.detectChanges()}catch(e){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(e))}finally{this._runningTick=!1}}attachView(e){const i=e;this._views.push(i),i.attachToAppRef(this)}detachView(e){const i=e;JS(this._views,i),i.detachFromAppRef()}_loadComponent(e){this.attachView(e.hostView),this.tick(),this.components.push(e),this._injector.get(mB,[]).concat(this._bootstrapListeners).forEach(s=>s(e))}ngOnDestroy(){this._views.slice().forEach(e=>e.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}get viewCount(){return this._views.length}}return n.\u0275fac=function(e){return new(e||n)(V(xe),V(gt),V(Ur),V(Uc),V(iu))},n.\u0275prov=ne({token:n,factory:n.\u0275fac}),n})();function JS(n,t){const e=n.indexOf(t);e>-1&&n.splice(e,1)}const s$=z1(null,"core",[{provide:Gd,useValue:"unknown"},{provide:Q1,deps:[gt]},{provide:q1,deps:[]},{provide:jS,deps:[]}]),c$=[{provide:jd,useClass:jd,deps:[xe,gt,Ur,Uc,iu]},{provide:h2,deps:[xe],useFactory:function(n){let t=[];return n.onStable.subscribe(()=>{for(;t.length;)t.pop()()}),function(e){t.push(e)}}},{provide:iu,useClass:iu,deps:[[new Ct,vm]]},{provide:bm,useClass:bm,deps:[]},gB,{provide:jc,useFactory:function(){return iV},deps:[]},{provide:Wc,useFactory:function(){return sV},deps:[]},{provide:Lo,useFactory:function(n){return cS(n=n||"undefined"!=typeof $localize&&$localize.locale||em),n},deps:[[new wo(Lo),new Ct,new $r]]},{provide:V1,useValue:"USD"}];let h$=(()=>{class n{constructor(e){}}return n.\u0275fac=function(e){return new(e||n)(V(jd))},n.\u0275mod=Se({type:n}),n.\u0275inj=Nt({providers:c$}),n})(),xm=null;function ol(){return xm}const Fe=new ce("DocumentToken");var Jt=(()=>((Jt=Jt||{})[Jt.Zero=0]="Zero",Jt[Jt.One=1]="One",Jt[Jt.Two=2]="Two",Jt[Jt.Few=3]="Few",Jt[Jt.Many=4]="Many",Jt[Jt.Other=5]="Other",Jt))();const _3=function(n){return function(n){const t=function(n){return n.toLowerCase().replace(/_/g,"-")}(n);let e=XT(t);if(e)return e;const i=t.split("-")[0];if(e=XT(i),e)return e;if("en"===i)return NL;throw new Error(`Missing locale data for the locale "${n}".`)}(n)[Q.PluralCase]};class $m{}let K3=(()=>{class n extends $m{constructor(e){super(),this.locale=e}getPluralCategory(e,i){switch(_3(i||this.locale)(e)){case Jt.Zero:return"zero";case Jt.One:return"one";case Jt.Two:return"two";case Jt.Few:return"few";case Jt.Many:return"many";default:return"other"}}}return n.\u0275fac=function(e){return new(e||n)(V(Lo))},n.\u0275prov=ne({token:n,factory:n.\u0275fac}),n})(),RM=(()=>{class n{constructor(e,i,s,r){this._iterableDiffers=e,this._keyValueDiffers=i,this._ngEl=s,this._renderer=r,this._iterableDiffer=null,this._keyValueDiffer=null,this._initialClasses=[],this._rawClass=null}set klass(e){this._removeClasses(this._initialClasses),this._initialClasses="string"==typeof e?e.split(/\s+/):[],this._applyClasses(this._initialClasses),this._applyClasses(this._rawClass)}set ngClass(e){this._removeClasses(this._rawClass),this._applyClasses(this._initialClasses),this._iterableDiffer=null,this._keyValueDiffer=null,this._rawClass="string"==typeof e?e.split(/\s+/):e,this._rawClass&&(bd(this._rawClass)?this._iterableDiffer=this._iterableDiffers.find(this._rawClass).create():this._keyValueDiffer=this._keyValueDiffers.find(this._rawClass).create())}ngDoCheck(){if(this._iterableDiffer){const e=this._iterableDiffer.diff(this._rawClass);e&&this._applyIterableChanges(e)}else if(this._keyValueDiffer){const e=this._keyValueDiffer.diff(this._rawClass);e&&this._applyKeyValueChanges(e)}}_applyKeyValueChanges(e){e.forEachAddedItem(i=>this._toggleClass(i.key,i.currentValue)),e.forEachChangedItem(i=>this._toggleClass(i.key,i.currentValue)),e.forEachRemovedItem(i=>{i.previousValue&&this._toggleClass(i.key,!1)})}_applyIterableChanges(e){e.forEachAddedItem(i=>{if("string"!=typeof i.item)throw new Error(`NgClass can only toggle CSS classes expressed as strings, got ${Pe(i.item)}`);this._toggleClass(i.item,!0)}),e.forEachRemovedItem(i=>this._toggleClass(i.item,!1))}_applyClasses(e){e&&(Array.isArray(e)||e instanceof Set?e.forEach(i=>this._toggleClass(i,!0)):Object.keys(e).forEach(i=>this._toggleClass(i,!!e[i])))}_removeClasses(e){e&&(Array.isArray(e)||e instanceof Set?e.forEach(i=>this._toggleClass(i,!1)):Object.keys(e).forEach(i=>this._toggleClass(i,!1)))}_toggleClass(e,i){(e=e.trim())&&e.split(/\s+/g).forEach(s=>{i?this._renderer.addClass(this._ngEl.nativeElement,s):this._renderer.removeClass(this._ngEl.nativeElement,s)})}}return n.\u0275fac=function(e){return new(e||n)(L(jc),L(Wc),L(_t),L(el))},n.\u0275dir=ee({type:n,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"}}),n})();class Y3{constructor(t,e,i,s){this.$implicit=t,this.ngForOf=e,this.index=i,this.count=s}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let SE=(()=>{class n{constructor(e,i,s){this._viewContainer=e,this._template=i,this._differs=s,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(e){this._ngForOf=e,this._ngForOfDirty=!0}set ngForTrackBy(e){this._trackByFn=e}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(e){e&&(this._template=e)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const e=this._ngForOf;if(!this._differ&&e)try{this._differ=this._differs.find(e).create(this.ngForTrackBy)}catch(i){throw new Error(`Cannot find a differ supporting object '${e}' of type '${function(n){return n.name||typeof n}(e)}'. NgFor only supports binding to Iterables such as Arrays.`)}}if(this._differ){const e=this._differ.diff(this._ngForOf);e&&this._applyChanges(e)}}_applyChanges(e){const i=[];e.forEachOperation((s,r,o)=>{if(null==s.previousIndex){const a=this._viewContainer.createEmbeddedView(this._template,new Y3(null,this._ngForOf,-1,-1),null===o?void 0:o),u=new NM(s,a);i.push(u)}else if(null==o)this._viewContainer.remove(null===r?void 0:r);else if(null!==r){const a=this._viewContainer.get(r);this._viewContainer.move(a,o);const u=new NM(s,a);i.push(u)}});for(let s=0;s<i.length;s++)this._perViewChange(i[s].view,i[s].record);for(let s=0,r=this._viewContainer.length;s<r;s++){const o=this._viewContainer.get(s);o.context.index=s,o.context.count=r,o.context.ngForOf=this._ngForOf}e.forEachIdentityChange(s=>{this._viewContainer.get(s.currentIndex).context.$implicit=s.item})}_perViewChange(e,i){e.context.$implicit=i.item}static ngTemplateContextGuard(e,i){return!0}}return n.\u0275fac=function(e){return new(e||n)(L(Qi),L(Ki),L(jc))},n.\u0275dir=ee({type:n,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}}),n})();class NM{constructor(t,e){this.record=t,this.view=e}}let EE=(()=>{class n{constructor(e,i){this._viewContainer=e,this._context=new X3,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=i}set ngIf(e){this._context.$implicit=this._context.ngIf=e,this._updateView()}set ngIfThen(e){LM("ngIfThen",e),this._thenTemplateRef=e,this._thenViewRef=null,this._updateView()}set ngIfElse(e){LM("ngIfElse",e),this._elseTemplateRef=e,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(e,i){return!0}}return n.\u0275fac=function(e){return new(e||n)(L(Qi),L(Ki))},n.\u0275dir=ee({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}}),n})();class X3{constructor(){this.$implicit=null,this.ngIf=null}}function LM(n,t){if(t&&!t.createEmbeddedView)throw new Error(`${n} must be a TemplateRef, but received '${Pe(t)}'.`)}let DE=(()=>{class n{constructor(e){this.differs=e,this.keyValues=[],this.compareFn=VM}transform(e,i=VM){if(!e||!(e instanceof Map)&&"object"!=typeof e)return null;this.differ||(this.differ=this.differs.find(e).create());const s=this.differ.diff(e),r=i!==this.compareFn;return s&&(this.keyValues=[],s.forEachItem(o=>{this.keyValues.push(function(n,t){return{key:n,value:t}}(o.key,o.currentValue))})),(s||r)&&(this.keyValues.sort(i),this.compareFn=i),this.keyValues}}return n.\u0275fac=function(e){return new(e||n)(L(Wc,16))},n.\u0275pipe=Pn({name:"keyvalue",type:n,pure:!1}),n})();function VM(n,t){const e=n.key,i=t.key;if(e===i)return 0;if(void 0===e)return 1;if(void 0===i)return-1;if(null===e)return 1;if(null===i)return-1;if("string"==typeof e&&"string"==typeof i)return e<i?-1:1;if("number"==typeof e&&"number"==typeof i)return e-i;if("boolean"==typeof e&&"boolean"==typeof i)return e<i?-1:1;const s=String(e),r=String(i);return s==r?0:s<r?-1:1}let BM=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=Se({type:n}),n.\u0275inj=Nt({providers:[{provide:$m,useClass:K3}]}),n})();const $M="browser";class AE extends class extends class{}{constructor(){super(...arguments),this.supportsDOMEvents=!0}}{static makeCurrent(){!function(n){xm||(xm=n)}(new AE)}onAndCancel(t,e,i){return t.addEventListener(e,i,!1),()=>{t.removeEventListener(e,i,!1)}}dispatchEvent(t,e){t.dispatchEvent(e)}remove(t){t.parentNode&&t.parentNode.removeChild(t)}createElement(t,e){return(e=e||this.getDefaultDocument()).createElement(t)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(t){return t.nodeType===Node.ELEMENT_NODE}isShadowRoot(t){return t instanceof DocumentFragment}getGlobalEventTarget(t,e){return"window"===e?window:"document"===e?t:"body"===e?t.body:null}getBaseHref(t){const e=(Jd=Jd||document.querySelector("base"),Jd?Jd.getAttribute("href"):null);return null==e?null:function(n){Hm=Hm||document.createElement("a"),Hm.setAttribute("href",n);const t=Hm.pathname;return"/"===t.charAt(0)?t:`/${t}`}(e)}resetBaseElement(){Jd=null}getUserAgent(){return window.navigator.userAgent}getCookie(t){return function(n,t){t=encodeURIComponent(t);for(const e of n.split(";")){const i=e.indexOf("="),[s,r]=-1==i?[e,""]:[e.slice(0,i),e.slice(i+1)];if(s.trim()===t)return decodeURIComponent(r)}return null}(document.cookie,t)}}let Hm,Jd=null;const qM=new ce("TRANSITION_ID"),RH=[{provide:vm,useFactory:function(n,t,e){return()=>{e.get(iu).donePromise.then(()=>{const i=ol(),s=t.querySelectorAll(`style[ng-transition="${n}"]`);for(let r=0;r<s.length;r++)i.remove(s[r])})}},deps:[qM,Fe,gt],multi:!0}];class TE{static init(){!function(n){YS=n}(new TE)}addToWindow(t){Qe.getAngularTestability=(i,s=!0)=>{const r=t.findTestabilityInTree(i,s);if(null==r)throw new Error("Could not find testability for element.");return r},Qe.getAllAngularTestabilities=()=>t.getAllTestabilities(),Qe.getAllAngularRootElements=()=>t.getAllRootElements(),Qe.frameworkStabilizers||(Qe.frameworkStabilizers=[]),Qe.frameworkStabilizers.push(i=>{const s=Qe.getAllAngularTestabilities();let r=s.length,o=!1;const a=function(u){o=o||u,r--,0==r&&i(o)};s.forEach(function(u){u.whenStable(a)})})}findTestabilityInTree(t,e,i){if(null==e)return null;const s=t.getTestability(e);return null!=s?s:i?ol().isShadowRoot(e)?this.findTestabilityInTree(t,e.host,!0):this.findTestabilityInTree(t,e.parentElement,!0):null}}let NH=(()=>{class n{build(){return new XMLHttpRequest}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=ne({token:n,factory:n.\u0275fac}),n})();const Xd=new ce("EventManagerPlugins");let Um=(()=>{class n{constructor(e,i){this._zone=i,this._eventNameToPlugin=new Map,e.forEach(s=>s.manager=this),this._plugins=e.slice().reverse()}addEventListener(e,i,s){return this._findPluginFor(i).addEventListener(e,i,s)}addGlobalEventListener(e,i,s){return this._findPluginFor(i).addGlobalEventListener(e,i,s)}getZone(){return this._zone}_findPluginFor(e){const i=this._eventNameToPlugin.get(e);if(i)return i;const s=this._plugins;for(let r=0;r<s.length;r++){const o=s[r];if(o.supports(e))return this._eventNameToPlugin.set(e,o),o}throw new Error(`No event manager plugin found for event ${e}`)}}return n.\u0275fac=function(e){return new(e||n)(V(Xd),V(xe))},n.\u0275prov=ne({token:n,factory:n.\u0275fac}),n})();class xE{constructor(t){this._doc=t}addGlobalEventListener(t,e,i){const s=ol().getGlobalEventTarget(this._doc,t);if(!s)throw new Error(`Unsupported event target ${s} for event ${e}`);return this.addEventListener(s,e,i)}}let GM=(()=>{class n{constructor(){this._stylesSet=new Set}addStyles(e){const i=new Set;e.forEach(s=>{this._stylesSet.has(s)||(this._stylesSet.add(s),i.add(s))}),this.onStylesAdded(i)}onStylesAdded(e){}getAllStyles(){return Array.from(this._stylesSet)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=ne({token:n,factory:n.\u0275fac}),n})(),ef=(()=>{class n extends GM{constructor(e){super(),this._doc=e,this._hostNodes=new Map,this._hostNodes.set(e.head,[])}_addStylesToHost(e,i,s){e.forEach(r=>{const o=this._doc.createElement("style");o.textContent=r,s.push(i.appendChild(o))})}addHost(e){const i=[];this._addStylesToHost(this._stylesSet,e,i),this._hostNodes.set(e,i)}removeHost(e){const i=this._hostNodes.get(e);i&&i.forEach(jM),this._hostNodes.delete(e)}onStylesAdded(e){this._hostNodes.forEach((i,s)=>{this._addStylesToHost(e,s,i)})}ngOnDestroy(){this._hostNodes.forEach(e=>e.forEach(jM))}}return n.\u0275fac=function(e){return new(e||n)(V(Fe))},n.\u0275prov=ne({token:n,factory:n.\u0275fac}),n})();function jM(n){ol().remove(n)}const ME={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},IE=/%COMP%/g;function Gm(n,t,e){for(let i=0;i<t.length;i++){let s=t[i];Array.isArray(s)?Gm(n,s,e):(s=s.replace(IE,n),e.push(s))}return e}function KM(n){return t=>{if("__ngUnwrap__"===t)return n;!1===n(t)&&(t.preventDefault(),t.returnValue=!1)}}let jm=(()=>{class n{constructor(e,i,s){this.eventManager=e,this.sharedStylesHost=i,this.appId=s,this.rendererByCompId=new Map,this.defaultRenderer=new OE(e)}createRenderer(e,i){if(!e||!i)return this.defaultRenderer;switch(i.encapsulation){case pt.Emulated:{let s=this.rendererByCompId.get(i.id);return s||(s=new ZH(this.eventManager,this.sharedStylesHost,i,this.appId),this.rendererByCompId.set(i.id,s)),s.applyToHost(e),s}case 1:case pt.ShadowDom:return new YH(this.eventManager,this.sharedStylesHost,e,i);default:if(!this.rendererByCompId.has(i.id)){const s=Gm(i.id,i.styles,[]);this.sharedStylesHost.addStyles(s),this.rendererByCompId.set(i.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return n.\u0275fac=function(e){return new(e||n)(V(Um),V(ef),V(Ud))},n.\u0275prov=ne({token:n,factory:n.\u0275fac}),n})();class OE{constructor(t){this.eventManager=t,this.data=Object.create(null)}destroy(){}createElement(t,e){return e?document.createElementNS(ME[e]||e,t):document.createElement(t)}createComment(t){return document.createComment(t)}createText(t){return document.createTextNode(t)}appendChild(t,e){t.appendChild(e)}insertBefore(t,e,i){t&&t.insertBefore(e,i)}removeChild(t,e){t&&t.removeChild(e)}selectRootElement(t,e){let i="string"==typeof t?document.querySelector(t):t;if(!i)throw new Error(`The selector "${t}" did not match any elements`);return e||(i.textContent=""),i}parentNode(t){return t.parentNode}nextSibling(t){return t.nextSibling}setAttribute(t,e,i,s){if(s){e=s+":"+e;const r=ME[s];r?t.setAttributeNS(r,e,i):t.setAttribute(e,i)}else t.setAttribute(e,i)}removeAttribute(t,e,i){if(i){const s=ME[i];s?t.removeAttributeNS(s,e):t.removeAttribute(`${i}:${e}`)}else t.removeAttribute(e)}addClass(t,e){t.classList.add(e)}removeClass(t,e){t.classList.remove(e)}setStyle(t,e,i,s){s&(gn.DashCase|gn.Important)?t.style.setProperty(e,i,s&gn.Important?"important":""):t.style[e]=i}removeStyle(t,e,i){i&gn.DashCase?t.style.removeProperty(e):t.style[e]=""}setProperty(t,e,i){t[e]=i}setValue(t,e){t.nodeValue=e}listen(t,e,i){return"string"==typeof t?this.eventManager.addGlobalEventListener(t,e,KM(i)):this.eventManager.addEventListener(t,e,KM(i))}}class ZH extends OE{constructor(t,e,i,s){super(t),this.component=i;const r=Gm(s+"-"+i.id,i.styles,[]);e.addStyles(r),this.contentAttr=function(n){return"_ngcontent-%COMP%".replace(IE,n)}(s+"-"+i.id),this.hostAttr=function(n){return"_nghost-%COMP%".replace(IE,n)}(s+"-"+i.id)}applyToHost(t){super.setAttribute(t,this.hostAttr,"")}createElement(t,e){const i=super.createElement(t,e);return super.setAttribute(i,this.contentAttr,""),i}}class YH extends OE{constructor(t,e,i,s){super(t),this.sharedStylesHost=e,this.hostEl=i,this.shadowRoot=i.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const r=Gm(s.id,s.styles,[]);for(let o=0;o<r.length;o++){const a=document.createElement("style");a.textContent=r[o],this.shadowRoot.appendChild(a)}}nodeOrShadowRoot(t){return t===this.hostEl?this.shadowRoot:t}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(t,e){return super.appendChild(this.nodeOrShadowRoot(t),e)}insertBefore(t,e,i){return super.insertBefore(this.nodeOrShadowRoot(t),e,i)}removeChild(t,e){return super.removeChild(this.nodeOrShadowRoot(t),e)}parentNode(t){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(t)))}}let JH=(()=>{class n extends xE{constructor(e){super(e)}supports(e){return!0}addEventListener(e,i,s){return e.addEventListener(i,s,!1),()=>this.removeEventListener(e,i,s)}removeEventListener(e,i,s){return e.removeEventListener(i,s)}}return n.\u0275fac=function(e){return new(e||n)(V(Fe))},n.\u0275prov=ne({token:n,factory:n.\u0275fac}),n})();const YM=["alt","control","meta","shift"],rq={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},JM={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},oq={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey};let aq=(()=>{class n extends xE{constructor(e){super(e)}supports(e){return null!=n.parseEventName(e)}addEventListener(e,i,s){const r=n.parseEventName(i),o=n.eventCallback(r.fullKey,s,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>ol().onAndCancel(e,r.domEventName,o))}static parseEventName(e){const i=e.toLowerCase().split("."),s=i.shift();if(0===i.length||"keydown"!==s&&"keyup"!==s)return null;const r=n._normalizeKey(i.pop());let o="";if(YM.forEach(u=>{const d=i.indexOf(u);d>-1&&(i.splice(d,1),o+=u+".")}),o+=r,0!=i.length||0===r.length)return null;const a={};return a.domEventName=s,a.fullKey=o,a}static getEventFullKey(e){let i="",s=function(n){let t=n.key;if(null==t){if(t=n.keyIdentifier,null==t)return"Unidentified";t.startsWith("U+")&&(t=String.fromCharCode(parseInt(t.substring(2),16)),3===n.location&&JM.hasOwnProperty(t)&&(t=JM[t]))}return rq[t]||t}(e);return s=s.toLowerCase()," "===s?s="space":"."===s&&(s="dot"),YM.forEach(r=>{r!=s&&oq[r](e)&&(i+=r+".")}),i+=s,i}static eventCallback(e,i,s){return r=>{n.getEventFullKey(r)===e&&s.runGuarded(()=>i(r))}}static _normalizeKey(e){return"esc"===e?"escape":e}}return n.\u0275fac=function(e){return new(e||n)(V(Fe))},n.\u0275prov=ne({token:n,factory:n.\u0275fac}),n})();const fq=[{provide:Gd,useValue:$M},{provide:F1,useValue:function(){AE.makeCurrent(),TE.init()},multi:!0},{provide:Fe,useFactory:function(){return function(n){Y=n}(document),document},deps:[]}],gq=z1(s$,"browser",fq),mq=[[],{provide:Yt,useValue:"root"},{provide:Ur,useFactory:function(){return new Ur},deps:[]},{provide:Xd,useClass:JH,multi:!0,deps:[Fe,xe,Gd]},{provide:Xd,useClass:aq,multi:!0,deps:[Fe]},[],{provide:jm,useClass:jm,deps:[Um,ef,Ud]},{provide:Xa,useExisting:jm},{provide:GM,useExisting:ef},{provide:ef,useClass:ef,deps:[Fe]},{provide:ZS,useClass:ZS,deps:[xe]},{provide:Um,useClass:Um,deps:[Xd,xe]},{provide:class{},useClass:NH,deps:[]},[]];let FE=(()=>{class n{constructor(e){if(e)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}static withServerTransition(e){return{ngModule:n,providers:[{provide:Ud,useValue:e.appId},{provide:qM,useExisting:Ud},RH]}}}return n.\u0275fac=function(e){return new(e||n)(V(n,12))},n.\u0275mod=Se({type:n}),n.\u0275inj=Nt({providers:mq,imports:[BM,h$]}),n})();function Wm(n,t){return new $e(e=>{const i=n.length;if(0===i)return void e.complete();const s=new Array(i);let r=0,o=0;for(let a=0;a<i;a++){const u=Hs(n[a]);let d=!1;e.add(u.subscribe({next:f=>{d||(d=!0,o++),s[a]=f},error:f=>e.error(f),complete:()=>{r++,(r===i||!d)&&(o===i&&e.next(t?t.reduce((f,g,m)=>(f[g]=s[m],f),{}):s),e.complete())}}))}})}"undefined"!=typeof window&&window;let eI=(()=>{class n{constructor(e,i){this._renderer=e,this._elementRef=i,this.onChange=s=>{},this.onTouched=()=>{}}setProperty(e,i){this._renderer.setProperty(this._elementRef.nativeElement,e,i)}registerOnTouched(e){this.onTouched=e}registerOnChange(e){this.onChange=e}setDisabledState(e){this.setProperty("disabled",e)}}return n.\u0275fac=function(e){return new(e||n)(L(el),L(_t))},n.\u0275dir=ee({type:n}),n})(),al=(()=>{class n extends eI{}return n.\u0275fac=function(){let t;return function(i){return(t||(t=Mt(n)))(i||n)}}(),n.\u0275dir=ee({type:n,features:[vt]}),n})();const cr=new ce("NgValueAccessor"),Dq={provide:cr,useExisting:st(()=>BE),multi:!0};let BE=(()=>{class n extends al{writeValue(e){this.setProperty("checked",e)}}return n.\u0275fac=function(){let t;return function(i){return(t||(t=Mt(n)))(i||n)}}(),n.\u0275dir=ee({type:n,selectors:[["input","type","checkbox","formControlName",""],["input","type","checkbox","formControl",""],["input","type","checkbox","ngModel",""]],hostBindings:function(e,i){1&e&&ht("change",function(r){return i.onChange(r.target.checked)})("blur",function(){return i.onTouched()})},features:[We([Dq]),vt]}),n})();const Pq={provide:cr,useExisting:st(()=>tf),multi:!0},Aq=new ce("CompositionEventMode");let tf=(()=>{class n extends eI{constructor(e,i,s){super(e,i),this._compositionMode=s,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function(){const n=ol()?ol().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}())}writeValue(e){this.setProperty("value",null==e?"":e)}_handleInput(e){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(e)}_compositionStart(){this._composing=!0}_compositionEnd(e){this._composing=!1,this._compositionMode&&this.onChange(e)}}return n.\u0275fac=function(e){return new(e||n)(L(el),L(_t),L(Aq,8))},n.\u0275dir=ee({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(e,i){1&e&&ht("input",function(r){return i._handleInput(r.target.value)})("blur",function(){return i.onTouched()})("compositionstart",function(){return i._compositionStart()})("compositionend",function(r){return i._compositionEnd(r.target.value)})},features:[We([Pq]),vt]}),n})();function Bo(n){return null==n||0===n.length}const In=new ce("NgValidators"),$o=new ce("NgAsyncValidators");function Ho(n){return null}function uI(n){return null!=n}function hI(n){const t=Jg(n)?Hs(n):n;return rS(t),t}function dI(n){let t={};return n.forEach(e=>{t=null!=e?Object.assign(Object.assign({},t),e):t}),0===Object.keys(t).length?null:t}function fI(n,t){return t.map(e=>e(n))}function pI(n){return n.map(t=>function(n){return!n.validate}(t)?t:e=>t.validate(e))}function $E(n){return null!=n?function(n){if(!n)return null;const t=n.filter(uI);return 0==t.length?null:function(e){return dI(fI(e,t))}}(pI(n)):null}function HE(n){return null!=n?function(n){if(!n)return null;const t=n.filter(uI);return 0==t.length?null:function(e){return function(...n){if(1===n.length){const t=n[0];if(cn(t))return Wm(t,null);if(Eu(t)&&Object.getPrototypeOf(t)===Object.prototype){const e=Object.keys(t);return Wm(e.map(i=>t[i]),e)}}if("function"==typeof n[n.length-1]){const t=n.pop();return Wm(n=1===n.length&&cn(n[0])?n[0]:n,null).pipe(to(e=>t(...e)))}return Wm(n,null)}(fI(e,t).map(hI)).pipe(to(dI))}}(pI(n)):null}function yI(n,t){return null===n?[t]:Array.isArray(n)?[...n,t]:[n,t]}function vI(n){return n._rawValidators}function _I(n){return n._rawAsyncValidators}function qE(n){return n?Array.isArray(n)?n:[n]:[]}function zm(n,t){return Array.isArray(n)?n.includes(t):n===t}function bI(n,t){const e=qE(t);return qE(n).forEach(s=>{zm(e,s)||e.push(s)}),e}function SI(n,t){return qE(t).filter(e=>!zm(n,e))}let EI=(()=>{class n{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=$E(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=HE(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e){this.control&&this.control.reset(e)}hasError(e,i){return!!this.control&&this.control.hasError(e,i)}getError(e,i){return this.control?this.control.getError(e,i):null}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=ee({type:n}),n})(),Kn=(()=>{class n extends EI{get formDirective(){return null}get path(){return null}}return n.\u0275fac=function(){let t;return function(i){return(t||(t=Mt(n)))(i||n)}}(),n.\u0275dir=ee({type:n,features:[vt]}),n})();class qo extends EI{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class wI{constructor(t){this._cd=t}is(t){var e,i,s;return"submitted"===t?!!(null===(e=this._cd)||void 0===e?void 0:e.submitted):!!(null===(s=null===(i=this._cd)||void 0===i?void 0:i.control)||void 0===s?void 0:s[t])}}let UE=(()=>{class n extends wI{constructor(e){super(e)}}return n.\u0275fac=function(e){return new(e||n)(L(qo,2))},n.\u0275dir=ee({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(e,i){2&e&&Ya("ng-untouched",i.is("untouched"))("ng-touched",i.is("touched"))("ng-pristine",i.is("pristine"))("ng-dirty",i.is("dirty"))("ng-valid",i.is("valid"))("ng-invalid",i.is("invalid"))("ng-pending",i.is("pending"))},features:[vt]}),n})(),GE=(()=>{class n extends wI{constructor(e){super(e)}}return n.\u0275fac=function(e){return new(e||n)(L(Kn,10))},n.\u0275dir=ee({type:n,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(e,i){2&e&&Ya("ng-untouched",i.is("untouched"))("ng-touched",i.is("touched"))("ng-pristine",i.is("pristine"))("ng-dirty",i.is("dirty"))("ng-valid",i.is("valid"))("ng-invalid",i.is("invalid"))("ng-pending",i.is("pending"))("ng-submitted",i.is("submitted"))},features:[vt]}),n})();function nf(n,t){zE(n,t),t.valueAccessor.writeValue(n.value),function(n,t){t.valueAccessor.registerOnChange(e=>{n._pendingValue=e,n._pendingChange=!0,n._pendingDirty=!0,"change"===n.updateOn&&CI(n,t)})}(n,t),function(n,t){const e=(i,s)=>{t.valueAccessor.writeValue(i),s&&t.viewToModelUpdate(i)};n.registerOnChange(e),t._registerOnDestroy(()=>{n._unregisterOnChange(e)})}(n,t),function(n,t){t.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,"blur"===n.updateOn&&n._pendingChange&&CI(n,t),"submit"!==n.updateOn&&n.markAsTouched()})}(n,t),function(n,t){if(t.valueAccessor.setDisabledState){const e=i=>{t.valueAccessor.setDisabledState(i)};n.registerOnDisabledChange(e),t._registerOnDestroy(()=>{n._unregisterOnDisabledChange(e)})}}(n,t)}function Zm(n,t,e=!0){const i=()=>{};t.valueAccessor&&(t.valueAccessor.registerOnChange(i),t.valueAccessor.registerOnTouched(i)),Jm(n,t),n&&(t._invokeOnDestroyCallbacks(),n._registerOnCollectionChange(()=>{}))}function Ym(n,t){n.forEach(e=>{e.registerOnValidatorChange&&e.registerOnValidatorChange(t)})}function zE(n,t){const e=vI(n);null!==t.validator?n.setValidators(yI(e,t.validator)):"function"==typeof e&&n.setValidators([e]);const i=_I(n);null!==t.asyncValidator?n.setAsyncValidators(yI(i,t.asyncValidator)):"function"==typeof i&&n.setAsyncValidators([i]);const s=()=>n.updateValueAndValidity();Ym(t._rawValidators,s),Ym(t._rawAsyncValidators,s)}function Jm(n,t){let e=!1;if(null!==n){if(null!==t.validator){const s=vI(n);if(Array.isArray(s)&&s.length>0){const r=s.filter(o=>o!==t.validator);r.length!==s.length&&(e=!0,n.setValidators(r))}}if(null!==t.asyncValidator){const s=_I(n);if(Array.isArray(s)&&s.length>0){const r=s.filter(o=>o!==t.asyncValidator);r.length!==s.length&&(e=!0,n.setAsyncValidators(r))}}}const i=()=>{};return Ym(t._rawValidators,i),Ym(t._rawAsyncValidators,i),e}function CI(n,t){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),t.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}function Xm(n,t){const e=n.indexOf(t);e>-1&&n.splice(e,1)}const sf="VALID",ey="INVALID",ou="PENDING",rf="DISABLED";function ZE(n){return(JE(n)?n.validators:n)||null}function kI(n){return Array.isArray(n)?$E(n):n||null}function YE(n,t){return(JE(t)?t.asyncValidators:n)||null}function AI(n){return Array.isArray(n)?HE(n):n||null}function JE(n){return null!=n&&!Array.isArray(n)&&"object"==typeof n}class XE{constructor(t,e){this._hasOwnPendingAsyncValidator=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=t,this._rawAsyncValidators=e,this._composedValidatorFn=kI(this._rawValidators),this._composedAsyncValidatorFn=AI(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn}set validator(t){this._rawValidators=this._composedValidatorFn=t}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(t){this._rawAsyncValidators=this._composedAsyncValidatorFn=t}get parent(){return this._parent}get valid(){return this.status===sf}get invalid(){return this.status===ey}get pending(){return this.status==ou}get disabled(){return this.status===rf}get enabled(){return this.status!==rf}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(t){this._rawValidators=t,this._composedValidatorFn=kI(t)}setAsyncValidators(t){this._rawAsyncValidators=t,this._composedAsyncValidatorFn=AI(t)}addValidators(t){this.setValidators(bI(t,this._rawValidators))}addAsyncValidators(t){this.setAsyncValidators(bI(t,this._rawAsyncValidators))}removeValidators(t){this.setValidators(SI(t,this._rawValidators))}removeAsyncValidators(t){this.setAsyncValidators(SI(t,this._rawAsyncValidators))}hasValidator(t){return zm(this._rawValidators,t)}hasAsyncValidator(t){return zm(this._rawAsyncValidators,t)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(t={}){this.touched=!0,this._parent&&!t.onlySelf&&this._parent.markAsTouched(t)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(t=>t.markAllAsTouched())}markAsUntouched(t={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(e=>{e.markAsUntouched({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}markAsDirty(t={}){this.pristine=!1,this._parent&&!t.onlySelf&&this._parent.markAsDirty(t)}markAsPristine(t={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(e=>{e.markAsPristine({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}markAsPending(t={}){this.status=ou,!1!==t.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!t.onlySelf&&this._parent.markAsPending(t)}disable(t={}){const e=this._parentMarkedDirty(t.onlySelf);this.status=rf,this.errors=null,this._forEachChild(i=>{i.disable(Object.assign(Object.assign({},t),{onlySelf:!0}))}),this._updateValue(),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Object.assign(Object.assign({},t),{skipPristineCheck:e})),this._onDisabledChange.forEach(i=>i(!0))}enable(t={}){const e=this._parentMarkedDirty(t.onlySelf);this.status=sf,this._forEachChild(i=>{i.enable(Object.assign(Object.assign({},t),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent}),this._updateAncestors(Object.assign(Object.assign({},t),{skipPristineCheck:e})),this._onDisabledChange.forEach(i=>i(!1))}_updateAncestors(t){this._parent&&!t.onlySelf&&(this._parent.updateValueAndValidity(t),t.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(t){this._parent=t}updateValueAndValidity(t={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===sf||this.status===ou)&&this._runAsyncValidator(t.emitEvent)),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!t.onlySelf&&this._parent.updateValueAndValidity(t)}_updateTreeValidity(t={emitEvent:!0}){this._forEachChild(e=>e._updateTreeValidity(t)),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?rf:sf}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(t){if(this.asyncValidator){this.status=ou,this._hasOwnPendingAsyncValidator=!0;const e=hI(this.asyncValidator(this));this._asyncValidationSubscription=e.subscribe(i=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(i,{emitEvent:t})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(t,e={}){this.errors=t,this._updateControlsErrors(!1!==e.emitEvent)}get(t){return function(n,t,e){if(null==t||(Array.isArray(t)||(t=t.split(".")),Array.isArray(t)&&0===t.length))return null;let i=n;return t.forEach(s=>{i=i instanceof au?i.controls.hasOwnProperty(s)?i.controls[s]:null:i instanceof ew&&i.at(s)||null}),i}(this,t)}getError(t,e){const i=e?this.get(e):this;return i&&i.errors?i.errors[t]:null}hasError(t,e){return!!this.getError(t,e)}get root(){let t=this;for(;t._parent;)t=t._parent;return t}_updateControlsErrors(t){this.status=this._calculateStatus(),t&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(t)}_initObservables(){this.valueChanges=new nt,this.statusChanges=new nt}_calculateStatus(){return this._allControlsDisabled()?rf:this.errors?ey:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(ou)?ou:this._anyControlsHaveStatus(ey)?ey:sf}_anyControlsHaveStatus(t){return this._anyControls(e=>e.status===t)}_anyControlsDirty(){return this._anyControls(t=>t.dirty)}_anyControlsTouched(){return this._anyControls(t=>t.touched)}_updatePristine(t={}){this.pristine=!this._anyControlsDirty(),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}_updateTouched(t={}){this.touched=this._anyControlsTouched(),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}_isBoxedValue(t){return"object"==typeof t&&null!==t&&2===Object.keys(t).length&&"value"in t&&"disabled"in t}_registerOnCollectionChange(t){this._onCollectionChange=t}_setUpdateStrategy(t){JE(t)&&null!=t.updateOn&&(this._updateOn=t.updateOn)}_parentMarkedDirty(t){return!t&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}}class dt extends XE{constructor(t=null,e,i){super(ZE(e),YE(i,e)),this._onChange=[],this._applyFormState(t),this._setUpdateStrategy(e),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}setValue(t,e={}){this.value=this._pendingValue=t,this._onChange.length&&!1!==e.emitModelToViewChange&&this._onChange.forEach(i=>i(this.value,!1!==e.emitViewToModelChange)),this.updateValueAndValidity(e)}patchValue(t,e={}){this.setValue(t,e)}reset(t=null,e={}){this._applyFormState(t),this.markAsPristine(e),this.markAsUntouched(e),this.setValue(this.value,e),this._pendingChange=!1}_updateValue(){}_anyControls(t){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(t){this._onChange.push(t)}_unregisterOnChange(t){Xm(this._onChange,t)}registerOnDisabledChange(t){this._onDisabledChange.push(t)}_unregisterOnDisabledChange(t){Xm(this._onDisabledChange,t)}_forEachChild(t){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(t){this._isBoxedValue(t)?(this.value=this._pendingValue=t.value,t.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=t}}class au extends XE{constructor(t,e,i){super(ZE(e),YE(i,e)),this.controls=t,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(t,e){return this.controls[t]?this.controls[t]:(this.controls[t]=e,e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange),e)}addControl(t,e,i={}){this.registerControl(t,e),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}removeControl(t,e={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],this.updateValueAndValidity({emitEvent:e.emitEvent}),this._onCollectionChange()}setControl(t,e,i={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],e&&this.registerControl(t,e),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}contains(t){return this.controls.hasOwnProperty(t)&&this.controls[t].enabled}setValue(t,e={}){this._checkAllValuesPresent(t),Object.keys(t).forEach(i=>{this._throwIfControlMissing(i),this.controls[i].setValue(t[i],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(t,e={}){null!=t&&(Object.keys(t).forEach(i=>{this.controls[i]&&this.controls[i].patchValue(t[i],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e))}reset(t={},e={}){this._forEachChild((i,s)=>{i.reset(t[s],{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}getRawValue(){return this._reduceChildren({},(t,e,i)=>(t[i]=e instanceof dt?e.value:e.getRawValue(),t))}_syncPendingControls(){let t=this._reduceChildren(!1,(e,i)=>!!i._syncPendingControls()||e);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_throwIfControlMissing(t){if(!Object.keys(this.controls).length)throw new Error("\n        There are no form controls registered with this group yet. If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.controls[t])throw new Error(`Cannot find form control with name: ${t}.`)}_forEachChild(t){Object.keys(this.controls).forEach(e=>{const i=this.controls[e];i&&t(i,e)})}_setUpControls(){this._forEachChild(t=>{t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(t){for(const e of Object.keys(this.controls)){const i=this.controls[e];if(this.contains(e)&&t(i))return!0}return!1}_reduceValue(){return this._reduceChildren({},(t,e,i)=>((e.enabled||this.disabled)&&(t[i]=e.value),t))}_reduceChildren(t,e){let i=t;return this._forEachChild((s,r)=>{i=e(i,s,r)}),i}_allControlsDisabled(){for(const t of Object.keys(this.controls))if(this.controls[t].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_checkAllValuesPresent(t){this._forEachChild((e,i)=>{if(void 0===t[i])throw new Error(`Must supply a value for form control with name: '${i}'.`)})}}class ew extends XE{constructor(t,e,i){super(ZE(e),YE(i,e)),this.controls=t,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(t){return this.controls[t]}push(t,e={}){this.controls.push(t),this._registerControl(t),this.updateValueAndValidity({emitEvent:e.emitEvent}),this._onCollectionChange()}insert(t,e,i={}){this.controls.splice(t,0,e),this._registerControl(e),this.updateValueAndValidity({emitEvent:i.emitEvent})}removeAt(t,e={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),this.controls.splice(t,1),this.updateValueAndValidity({emitEvent:e.emitEvent})}setControl(t,e,i={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),this.controls.splice(t,1),e&&(this.controls.splice(t,0,e),this._registerControl(e)),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(t,e={}){this._checkAllValuesPresent(t),t.forEach((i,s)=>{this._throwIfControlMissing(s),this.at(s).setValue(i,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(t,e={}){null!=t&&(t.forEach((i,s)=>{this.at(s)&&this.at(s).patchValue(i,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e))}reset(t=[],e={}){this._forEachChild((i,s)=>{i.reset(t[s],{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}getRawValue(){return this.controls.map(t=>t instanceof dt?t.value:t.getRawValue())}clear(t={}){this.controls.length<1||(this._forEachChild(e=>e._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:t.emitEvent}))}_syncPendingControls(){let t=this.controls.reduce((e,i)=>!!i._syncPendingControls()||e,!1);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_throwIfControlMissing(t){if(!this.controls.length)throw new Error("\n        There are no form controls registered with this array yet. If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.at(t))throw new Error(`Cannot find form control at index ${t}`)}_forEachChild(t){this.controls.forEach((e,i)=>{t(e,i)})}_updateValue(){this.value=this.controls.filter(t=>t.enabled||this.disabled).map(t=>t.value)}_anyControls(t){return this.controls.some(e=>e.enabled&&t(e))}_setUpControls(){this._forEachChild(t=>this._registerControl(t))}_checkAllValuesPresent(t){this._forEachChild((e,i)=>{if(void 0===t[i])throw new Error(`Must supply a value for form control at index: ${i}.`)})}_allControlsDisabled(){for(const t of this.controls)if(t.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(t){t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)}}const Wq={provide:cr,useExisting:st(()=>ty),multi:!0};let ty=(()=>{class n extends al{writeValue(e){this.setProperty("value",null==e?"":e)}registerOnChange(e){this.onChange=i=>{e(""==i?null:parseFloat(i))}}}return n.\u0275fac=function(){let t;return function(i){return(t||(t=Mt(n)))(i||n)}}(),n.\u0275dir=ee({type:n,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(e,i){1&e&&ht("input",function(r){return i.onChange(r.target.value)})("blur",function(){return i.onTouched()})},features:[We([Wq]),vt]}),n})();const zq={provide:cr,useExisting:st(()=>nw),multi:!0};let OI=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=Se({type:n}),n.\u0275inj=Nt({}),n})(),Kq=(()=>{class n{constructor(){this._accessors=[]}add(e,i){this._accessors.push([e,i])}remove(e){for(let i=this._accessors.length-1;i>=0;--i)if(this._accessors[i][1]===e)return void this._accessors.splice(i,1)}select(e){this._accessors.forEach(i=>{this._isSameGroup(i,e)&&i[1]!==e&&i[1].fireUncheck(e.value)})}_isSameGroup(e,i){return!!e[0].control&&e[0]._parent===i._control._parent&&e[1].name===i.name}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=ne({factory:function(){return new n},token:n,providedIn:OI}),n})(),nw=(()=>{class n extends al{constructor(e,i,s,r){super(e,i),this._registry=s,this._injector=r,this.onChange=()=>{}}ngOnInit(){this._control=this._injector.get(qo),this._checkName(),this._registry.add(this._control,this)}ngOnDestroy(){this._registry.remove(this)}writeValue(e){this._state=e===this.value,this.setProperty("checked",this._state)}registerOnChange(e){this._fn=e,this.onChange=()=>{e(this.value),this._registry.select(this)}}fireUncheck(e){this.writeValue(e)}_checkName(){!this.name&&this.formControlName&&(this.name=this.formControlName)}}return n.\u0275fac=function(e){return new(e||n)(L(el),L(_t),L(Kq),L(gt))},n.\u0275dir=ee({type:n,selectors:[["input","type","radio","formControlName",""],["input","type","radio","formControl",""],["input","type","radio","ngModel",""]],hostBindings:function(e,i){1&e&&ht("change",function(){return i.onChange()})("blur",function(){return i.onTouched()})},inputs:{name:"name",formControlName:"formControlName",value:"value"},features:[We([zq]),vt]}),n})();const iw=new ce("NgModelWithFormControlWarning"),Yq={provide:Kn,useExisting:st(()=>af)};let af=(()=>{class n extends Kn{constructor(e,i){super(),this.validators=e,this.asyncValidators=i,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new nt,this._setValidators(e),this._setAsyncValidators(i)}ngOnChanges(e){this._checkFormPresent(),e.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(Jm(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(e){const i=this.form.get(e.path);return nf(i,e),i.updateValueAndValidity({emitEvent:!1}),this.directives.push(e),i}getControl(e){return this.form.get(e.path)}removeControl(e){Zm(e.control||null,e,!1),Xm(this.directives,e)}addFormGroup(e){this._setUpFormContainer(e)}removeFormGroup(e){this._cleanUpFormContainer(e)}getFormGroup(e){return this.form.get(e.path)}addFormArray(e){this._setUpFormContainer(e)}removeFormArray(e){this._cleanUpFormContainer(e)}getFormArray(e){return this.form.get(e.path)}updateModel(e,i){this.form.get(e.path).setValue(i)}onSubmit(e){return this.submitted=!0,function(n,t){n._syncPendingControls(),t.forEach(e=>{const i=e.control;"submit"===i.updateOn&&i._pendingChange&&(e.viewToModelUpdate(i._pendingValue),i._pendingChange=!1)})}(this.form,this.directives),this.ngSubmit.emit(e),!1}onReset(){this.resetForm()}resetForm(e){this.form.reset(e),this.submitted=!1}_updateDomValue(){this.directives.forEach(e=>{const i=e.control,s=this.form.get(e.path);i!==s&&(Zm(i||null,e),s instanceof dt&&(nf(s,e),e.control=s))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(e){const i=this.form.get(e.path);(function(n,t){zE(n,t)})(i,e),i.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(e){if(this.form){const i=this.form.get(e.path);i&&function(n,t){return Jm(n,t)}(i,e)&&i.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){zE(this.form,this),this._oldForm&&Jm(this._oldForm,this)}_checkFormPresent(){}}return n.\u0275fac=function(e){return new(e||n)(L(In,10),L($o,10))},n.\u0275dir=ee({type:n,selectors:[["","formGroup",""]],hostBindings:function(e,i){1&e&&ht("submit",function(r){return i.onSubmit(r)})("reset",function(){return i.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[We([Yq]),vt,xt]}),n})();const eU={provide:qo,useExisting:st(()=>ny)};let ny=(()=>{class n extends qo{constructor(e,i,s,r,o){super(),this._ngModelWarningConfig=o,this._added=!1,this.update=new nt,this._ngModelWarningSent=!1,this._parent=e,this._setValidators(i),this._setAsyncValidators(s),this.valueAccessor=function(n,t){if(!t)return null;let e,i,s;return Array.isArray(t),t.forEach(r=>{r.constructor===tf?e=r:function(n){return Object.getPrototypeOf(n.constructor)===al}(r)?i=r:s=r}),s||i||e||null}(0,r)}set isDisabled(e){}ngOnChanges(e){this._added||this._setUpControl(),function(n,t){if(!n.hasOwnProperty("model"))return!1;const e=n.model;return!!e.isFirstChange()||!Object.is(t,e.currentValue)}(e,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(e){this.viewModel=e,this.update.emit(e)}get path(){return function(n,t){return[...t.path,n]}(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this.control.disabled&&this.valueAccessor.setDisabledState&&this.valueAccessor.setDisabledState(!0),this._added=!0}}return n.\u0275fac=function(e){return new(e||n)(L(Kn,13),L(In,10),L($o,10),L(cr,10),L(iw,8))},n.\u0275dir=ee({type:n,selectors:[["","formControlName",""]],inputs:{isDisabled:["disabled","isDisabled"],name:["formControlName","name"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[We([eU]),vt,xt]}),n._ngModelWarningSentOnce=!1,n})();const tU={provide:cr,useExisting:st(()=>lf),multi:!0};function FI(n,t){return null==n?`${t}`:(t&&"object"==typeof t&&(t="Object"),`${n}: ${t}`.slice(0,50))}let lf=(()=>{class n extends al{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(e){this._compareWith=e}writeValue(e){this.value=e;const i=this._getOptionId(e);null==i&&this.setProperty("selectedIndex",-1);const s=FI(i,e);this.setProperty("value",s)}registerOnChange(e){this.onChange=i=>{this.value=this._getOptionValue(i),e(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(e){for(const i of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(i),e))return i;return null}_getOptionValue(e){const i=function(n){return n.split(":")[0]}(e);return this._optionMap.has(i)?this._optionMap.get(i):e}}return n.\u0275fac=function(){let t;return function(i){return(t||(t=Mt(n)))(i||n)}}(),n.\u0275dir=ee({type:n,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(e,i){1&e&&ht("change",function(r){return i.onChange(r.target.value)})("blur",function(){return i.onTouched()})},inputs:{compareWith:"compareWith"},features:[We([tU]),vt]}),n})(),ow=(()=>{class n{constructor(e,i,s){this._element=e,this._renderer=i,this._select=s,this._select&&(this.id=this._select._registerOption())}set ngValue(e){null!=this._select&&(this._select._optionMap.set(this.id,e),this._setElementValue(FI(this.id,e)),this._select.writeValue(this._select.value))}set value(e){this._setElementValue(e),this._select&&this._select.writeValue(this._select.value)}_setElementValue(e){this._renderer.setProperty(this._element.nativeElement,"value",e)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}}return n.\u0275fac=function(e){return new(e||n)(L(_t),L(el),L(lf,9))},n.\u0275dir=ee({type:n,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}}),n})();const iU={provide:cr,useExisting:st(()=>aw),multi:!0};function VI(n,t){return null==n?`${t}`:("string"==typeof t&&(t=`'${t}'`),t&&"object"==typeof t&&(t="Object"),`${n}: ${t}`.slice(0,50))}let aw=(()=>{class n extends al{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(e){this._compareWith=e}writeValue(e){let i;if(this.value=e,Array.isArray(e)){const s=e.map(r=>this._getOptionId(r));i=(r,o)=>{r._setSelected(s.indexOf(o.toString())>-1)}}else i=(s,r)=>{s._setSelected(!1)};this._optionMap.forEach(i)}registerOnChange(e){this.onChange=i=>{const s=[];if(void 0!==i.selectedOptions){const r=i.selectedOptions;for(let o=0;o<r.length;o++){const a=r.item(o),u=this._getOptionValue(a.value);s.push(u)}}else{const r=i.options;for(let o=0;o<r.length;o++){const a=r.item(o);if(a.selected){const u=this._getOptionValue(a.value);s.push(u)}}}this.value=s,e(s)}}_registerOption(e){const i=(this._idCounter++).toString();return this._optionMap.set(i,e),i}_getOptionId(e){for(const i of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(i)._value,e))return i;return null}_getOptionValue(e){const i=function(n){return n.split(":")[0]}(e);return this._optionMap.has(i)?this._optionMap.get(i)._value:e}}return n.\u0275fac=function(){let t;return function(i){return(t||(t=Mt(n)))(i||n)}}(),n.\u0275dir=ee({type:n,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(e,i){1&e&&ht("change",function(r){return i.onChange(r.target)})("blur",function(){return i.onTouched()})},inputs:{compareWith:"compareWith"},features:[We([iU]),vt]}),n})(),lw=(()=>{class n{constructor(e,i,s){this._element=e,this._renderer=i,this._select=s,this._select&&(this.id=this._select._registerOption(this))}set ngValue(e){null!=this._select&&(this._value=e,this._setElementValue(VI(this.id,e)),this._select.writeValue(this._select.value))}set value(e){this._select?(this._value=e,this._setElementValue(VI(this.id,e)),this._select.writeValue(this._select.value)):this._setElementValue(e)}_setElementValue(e){this._renderer.setProperty(this._element.nativeElement,"value",e)}_setSelected(e){this._renderer.setProperty(this._element.nativeElement,"selected",e)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}}return n.\u0275fac=function(e){return new(e||n)(L(_t),L(el),L(aw,9))},n.\u0275dir=ee({type:n,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}}),n})(),$I=(()=>{class n{constructor(){this._validator=Ho}handleChanges(e){if(this.inputName in e){const i=this.normalizeInput(e[this.inputName].currentValue);this._validator=this.createValidator(i),this._onChange&&this._onChange()}}validate(e){return this._validator(e)}registerOnValidatorChange(e){this._onChange=e}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=ee({type:n}),n})();const rU={provide:In,useExisting:st(()=>iy),multi:!0};let iy=(()=>{class n extends $I{constructor(){super(...arguments),this.inputName="max",this.normalizeInput=e=>parseFloat(e),this.createValidator=e=>function(n){return t=>{if(Bo(t.value)||Bo(n))return null;const e=parseFloat(t.value);return!isNaN(e)&&e>n?{max:{max:n,actual:t.value}}:null}}(e)}ngOnChanges(e){this.handleChanges(e)}}return n.\u0275fac=function(){let t;return function(i){return(t||(t=Mt(n)))(i||n)}}(),n.\u0275dir=ee({type:n,selectors:[["input","type","number","max","","formControlName",""],["input","type","number","max","","formControl",""],["input","type","number","max","","ngModel",""]],hostVars:1,hostBindings:function(e,i){if(2&e){let s;ks("max",null!==(s=i.max)&&void 0!==s?s:null)}},inputs:{max:"max"},features:[We([rU]),vt,xt]}),n})();const oU={provide:In,useExisting:st(()=>cw),multi:!0};let cw=(()=>{class n extends $I{constructor(){super(...arguments),this.inputName="min",this.normalizeInput=e=>parseFloat(e),this.createValidator=e=>function(n){return t=>{if(Bo(t.value)||Bo(n))return null;const e=parseFloat(t.value);return!isNaN(e)&&e<n?{min:{min:n,actual:t.value}}:null}}(e)}ngOnChanges(e){this.handleChanges(e)}}return n.\u0275fac=function(){let t;return function(i){return(t||(t=Mt(n)))(i||n)}}(),n.\u0275dir=ee({type:n,selectors:[["input","type","number","min","","formControlName",""],["input","type","number","min","","formControl",""],["input","type","number","min","","ngModel",""]],hostVars:1,hostBindings:function(e,i){if(2&e){let s;ks("min",null!==(s=i.min)&&void 0!==s?s:null)}},inputs:{min:"min"},features:[We([oU]),vt,xt]}),n})(),WI=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=Se({type:n}),n.\u0275inj=Nt({imports:[[OI]]}),n})(),fU=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=Se({type:n}),n.\u0275inj=Nt({imports:[WI]}),n})(),pU=(()=>{class n{static withConfig(e){return{ngModule:n,providers:[{provide:iw,useValue:e.warnOnNgModelWithFormControl}]}}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=Se({type:n}),n.\u0275inj=Nt({imports:[WI]}),n})();var Oe=pr(815);function Qr(n,t){return n=Math.ceil(n),t=Math.floor(t),Math.floor(Math.random()*(t-n+1))+n}function hw(n){return Math.ceil(100*n)/100}function kt(n,t){let e;return e=n.player==t?n.opponet:n.player,e}class ze{constructor(){}reset(){this.uses=this.originalUses}}class cf extends ze{constructor(){super(...arguments),this.name="Peanut",this.equipmentClass="attack",this.power=0}}class dw extends ze{constructor(){super(),this.name="Salt",this.equipmentClass="attack"}}class fw extends ze{constructor(){super(...arguments),this.name="Cheese",this.equipmentClass="attack",this.uses=1,this.originalUses=1}}class pw extends ze{constructor(){super(...arguments),this.name="Pepper",this.equipmentClass="shield",this.uses=1,this.originalUses=1,this.power=0}}class w{constructor(t,e,i){this.logService=t,this.abilityService=e,this.hidden=!1,this.maxAbilityUses=null,this.abilityUses=0,this.exp=0,this.originalExp=0,this.done=!1,this.seenDead=!1,this.swallowedPets=[],this.toyPet=!1,this.parent=i}initPet(t,e,i,s){this.exp=null!=t?t:this.exp,this.health=null!=e?e:this.health*this.level,this.attack=null!=i?i:this.attack*this.level,this.originalHealth=this.health,this.originalAttack=this.attack,this.equipment=s,this.originalEquipment=s,this.originalExp=this.exp,this.setAbilityUses()}setAbilityUses(){this.abilityUses=0}tigerCheck(t){return null!=this.petBehind()&&("Tiger"==this.petBehind().name&&(null==t||0==t)||void 0)}superStartOfBattle(t,e=!1){if(!this.tigerCheck(e))return;let i=this.exp;this.exp=this.petBehind().minExpForLevel,this.startOfBattle(t,!0),this.exp=i}superHurt(t,e=!1){if(!this.tigerCheck(e))return;let i=this.exp;this.exp=this.petBehind().minExpForLevel,this.hurt(t,!0),this.exp=i}superFaint(t,e=!1){if(!this.tigerCheck(e))return;let i=this.exp;this.exp=this.petBehind().minExpForLevel,this.faint(t,!0),this.exp=i}superFriendSummoned(t,e=!1){if(!this.tigerCheck(e))return;let i=this.exp;this.exp=this.petBehind().minExpForLevel,this.friendSummoned(t,!0),this.exp=i}superFriendAheadAttacks(t,e=!1){if(!this.tigerCheck(e))return;let i=this.exp;this.exp=this.petBehind().minExpForLevel,this.friendAheadAttacks(t,!0),this.exp=i}superFriendAheadFaints(t,e=!1){if(!this.tigerCheck(e))return;let i=this.exp;this.exp=this.petBehind().minExpForLevel,this.friendAheadFaints(t,!0),this.exp=i}superAfterAttack(t,e=!1){if(!this.tigerCheck(e))return;let i=this.exp;this.exp=this.petBehind().minExpForLevel,this.afterAttack(t,!0),this.exp=i}superSummoned(t,e=!1){if(!this.tigerCheck(e))return;let i=this.exp;this.exp=this.petBehind().minExpForLevel,this.summoned(t,!0),this.exp=i}superKnockOut(t,e,i=!1){if(!this.tigerCheck(i))return;let s=this.exp;this.exp=this.petBehind().minExpForLevel,this.knockOut(t,e,!0),this.exp=s}superFriendFaints(t,e,i=!1){if(!this.tigerCheck(i))return;let s=this.exp;this.exp=this.petBehind().minExpForLevel,this.friendFaints(t,e,!0),this.exp=s}superBeforeAttack(t,e=!1){if(!this.tigerCheck(e))return;let i=this.exp;this.exp=this.petBehind().minExpForLevel,this.beforeAttack(t,!0),this.exp=i}superFriendGainedPerk(t,e,i=!1){if(!this.tigerCheck(i))return;let s=this.exp;this.exp=this.petBehind().minExpForLevel,this.friendGainedPerk(t,e,!0),this.exp=s}superFriendlyToyBroke(t,e=!1){if(!this.tigerCheck(e))return;let i=this.exp;this.exp=this.petBehind().minExpForLevel,this.friendlyToyBroke(t,!0),this.exp=i}superTransform(t,e=!1){if(!this.tigerCheck(e))return;let i=this.exp;this.exp=this.petBehind().minExpForLevel,this.transform(t,!0),this.exp=i}superEnemySummoned(t,e,i=!1){if(!this.tigerCheck(i))return;let s=this.exp;this.exp=this.petBehind().minExpForLevel,this.enemySummoned(t,e,!0),this.exp=s}superFriendHurt(t,e,i=!1){if(!this.tigerCheck(i))return;let s=this.exp;this.exp=this.petBehind().minExpForLevel,this.friendHurt(t,e,!0),this.exp=s}superAnyoneLevelUp(t,e,i=!1){if(!this.tigerCheck(i))return;let s=this.exp;this.exp=this.petBehind().minExpForLevel,this.anyoneLevelUp(t,e,!0),this.exp=s}superEnemyHurt(t,e,i=!1){if(!this.tigerCheck(i))return;let s=this.exp;this.exp=this.petBehind().minExpForLevel,this.enemyHurt(t,e,!0),this.exp=s}superFriendAttacks(t,e=!1){if(!this.tigerCheck(e))return;let i=this.exp;this.exp=this.petBehind().minExpForLevel,this.friendAttacks(t,!0),this.exp=i}attackPet(t){var e,i;let s=this.calculateDamgae(t),r=s.attackEquipment,o=s.defenseEquipment,a=s.damage,u=1,d=1;if("Panther"==this.name&&(u=this.level+1),"Panther"==t.name&&(d=t.level+1),r instanceof fw&&(a*=2),r instanceof cf&&a>0)this.logService.createLog({message:`${this.name} attacks ${t.name} for ${t.health} (Peanut)`,type:"attack",player:this.parent}),t.health=0;else{t.health-=a;let f=`${this.name} attacks ${t.name} for ${a}.`;if(null!=r){let m=Math.abs(r.power),v="-";r.power>0&&(v="+");let S=`${v}${m}`;r instanceof dw&&(S=t.tier<this.tier?"x2":"x1"),r instanceof fw&&(S="x2"),f+=` (${r.name} ${S})`,u>1&&(f+=` x${u} (Panther)`)}if(null!=o){let m=Math.abs(o.power),v="-";o.power<0&&(v="+"),o instanceof pw&&(v=1==t.health?"!":"-",m=""),f+=` (${o.name} ${v}${m})`,d>1&&(f+=` x${d} (Panther)`)}this.logService.createLog({message:f,type:"attack",player:this.parent});let g="skewer"==(null===(e=this.equipment)||void 0===e?void 0:e.equipmentClass)?this.equipment:null;null!=g&&g.attackCallback(this,t)}this.abilityService.triggerFriendAttacksEvents(this.parent,this),null!=t.hurt&&a>0&&this.abilityService.setHurtEvent({callback:t.hurt.bind(t),priority:t.attack,player:t.parent}),null!=this.afterAttack&&this.abilityService.setAfterAttackEvent({callback:this.afterAttack.bind(this),priority:this.attack}),t.health<1&&null!=this.knockOut&&this.abilityService.setKnockOutEvent({callback:this.knockOut.bind(this),priority:this.attack,callbackPet:t}),null!=(null===(i=this.petBehind(!0))||void 0===i?void 0:i.friendAheadAttacks)&&this.abilityService.setFriendAheadAttacksEvents({callback:this.petBehind(!0).friendAheadAttacks.bind(this.petBehind(!0)),priority:this.petBehind(!0).attack}),t.alive&&a>0&&this.abilityService.triggerFriendHurtEvents(t.parent,t),t.alive&&a>0&&this.abilityService.triggerEnemyHurtEvents(this.parent,t)}snipePet(t,e,i,s,r){var o,a;let u=!1;"Wolverine"==(null===(o=this.petAhead)||void 0===o?void 0:o.name)&&(e+=3*this.petAhead.level,u=!0),"Wolverine"==(null===(a=this.petBehind())||void 0===a?void 0:a.name)&&(e+=3*this.petBehind().level,u=!0);let d=this.calculateDamgae(t,e,!0),f=d.attackEquipment,g=d.defenseEquipment,m=d.damage;t.health-=m;let v=`${this.name} sniped ${t.name} for ${m}.`;if(null!=g){t.useDefenseEquipment(!0);let S=Math.abs(g.power),x="-";g.power<0&&(x="+"),v+=` (${g.name} ${x}${S})`}if(null!=f&&"snipe"==f.equipmentClass){let S=Math.abs(f.power),x="-";f.power>0&&(x="+"),v+=` (${f.name} ${x}${S})`}s&&(v+=" (Tiger)"),u&&(v+=" (Wolverine)"),this.logService.createLog({message:v,type:"attack",randomEvent:i,player:this.parent,pteranodon:r}),null!=t.hurt&&m>0&&this.abilityService.setHurtEvent({callback:t.hurt.bind(t),priority:t.attack,player:t.parent}),t.health<1&&null!=this.knockOut&&this.abilityService.setKnockOutEvent({callback:this.knockOut.bind(this),priority:this.attack,callbackPet:t}),t.alive&&m>0&&this.abilityService.triggerFriendHurtEvents(t.parent,t),t.alive&&m>0&&this.abilityService.triggerEnemyHurtEvents(this.parent,t)}calculateDamgae(t,e,i=!1){var s,r,o,a,u,d;let f=1,g=1;"Panther"==this.name&&(f=this.level+1),"Panther"==t.name&&(g=t.level+1);let m="defense"==(null===(s=t.equipment)||void 0===s?void 0:s.equipmentClass)||"shield"==(null===(r=t.equipment)||void 0===r?void 0:r.equipmentClass)||"ailment-defense"==(null===(o=t.equipment)||void 0===o?void 0:o.equipmentClass)||i&&"shield-snipe"==(null===(a=t.equipment)||void 0===a?void 0:a.equipmentClass)?t.equipment:null,v="attack"==(null===(u=this.equipment)||void 0===u?void 0:u.equipmentClass)||"ailment-attack"==(null===(d=this.equipment)||void 0===d?void 0:d.equipmentClass)?this.equipment:null,S=null!=e?e+(i?0:(null==v?void 0:v.power)?v.power*f:0):this.attack+(i?0:(null==v?void 0:v.power)?v.power*f:0);v instanceof dw&&t.tier<this.tier&&(S*=2);let F=Math.max("shield"==(null==m?void 0:m.equipmentClass)||"shield-snipe"==(null==m?void 0:m.equipmentClass)?0:1,S-((null==m?void 0:m.power)?m.power*g:0));return m instanceof pw&&(F=Math.min(F,t.health-1)),{defenseEquipment:m,attackEquipment:v,damage:F}}resetPet(){var t;this.health=this.originalHealth,this.attack=this.originalAttack,this.equipment=this.originalEquipment,this.exp=this.originalExp,this.done=!1,this.seenDead=!1,null===(t=this.equipment)||void 0===t||t.reset(),this.swallowedPets=[],this.setAbilityUses()}get alive(){return this.health>0}setFaintEventIfPresent(){var t;null!=this.faint&&this.abilityService.setFaintEvent({priority:this.attack,callback:this.faint.bind(this)}),"faint"==(null===(t=this.equipment)||void 0===t?void 0:t.equipmentClass)&&this.abilityService.setFaintEvent({priority:-1,callback:()=>{this.equipment.callback(this)}})}useDefenseEquipment(t=!1){null!=this.equipment&&("defense"!=this.equipment.equipmentClass&&"shield"!=this.equipment.equipmentClass&&t&&"shield-snipe"!=this.equipment.equipmentClass||null!=this.equipment.uses&&(this.equipment.uses-=1,0==this.equipment.uses&&(this.equipment=null)))}useAttackDefenseEquipment(){null!=this.equipment&&null!=this.equipment.uses&&("attack"!=this.equipment.equipmentClass&&"defense"!=this.equipment.equipmentClass&&"shield"!=this.equipment.equipmentClass&&"snipe"!=this.equipment.equipmentClass||(isNaN(this.equipment.uses)&&console.warn("uses is NaN",this.equipment),this.equipment.uses-=1,0==this.equipment.uses&&(this.equipment=null)))}increaseAttack(t){this.attack=Math.min(Math.max(this.attack+t,1),50)}increaseHealth(t){this.health=Math.min(Math.max(this.health+t,1),50)}increaseExp(t){let e=this.level;this.increaseAttack(t),this.increaseHealth(t),this.exp=Math.min(this.exp+t,5),this.level>e&&(this.logService.createLog({message:`${this.name} leveled up to level ${this.level}.`,type:"ability",player:this.parent}),this.abilityService.triggerLevelUpEvents(this.parent,this),this.abilityService.triggerLevelUpEvents(this.parent.opponent,this),this.abilityService.executeLevelUpEvents(),this.setAbilityUses())}givePetEquipment(t){this.equipment=t,null!=t&&("ailment-attack"==t.equipmentClass||"ailment-defense"==t.equipmentClass?(this.abilityService.triggerFriendGainedAilmentEvents(this),this.abilityService.executeFriendGainedAilmentEvents()):(this.abilityService.triggerFriendGainedPerkEvents(this),this.abilityService.executeFriendGainedPerkEvents()))}get level(){return this.exp<2?1:this.exp<5?2:3}get position(){return this==this.parent.pet0?0:this==this.parent.pet1?1:this==this.parent.pet2?2:this==this.parent.pet3?3:this==this.parent.pet4?4:void 0}petBehind(t=!1){for(let e=this.position+1;e<5;e++){let i=this.parent.getPetAtPosition(e);if(t&&null!=i&&!i.alive&&!i.seenDead)return null;if(null!=i&&i.alive)return i}return null}get petAhead(){for(let t=this.position-1;t>-1;t--){let e=this.parent.getPetAtPosition(t);if(null!=e&&e.alive)return e}return null}get minExpForLevel(){return 1==this.level?0:2==this.level?2:5}}class lu extends w{constructor(t,e,i,s,r,o,a){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Puma",this.tier=6,this.pack="Puppy",this.attack=6,this.health=5,this.initPet(o,s,r,a)}}class sy extends w{constructor(t,e,i,s,r,o,a){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Golden Retriever",this.tier=1,this.pack="Golden",this.hidden=!0,this.health=1,this.attack=1,this.initPet(o,s,r,a)}}class zI extends ze{constructor(t){super(),this.logService=t,this.name="Onion",this.equipmentClass="shop",this.callback=e=>{this.logService.createLog({message:`${e.name} pushed itself to the back. (Onion)`,type:"equipment",player:e.parent}),e.givePetEquipment(null),e.parent.pushPetToBack(e)}}}class KI{constructor(t,e,i){this.logService=t,this.abilityService=e,this.gameService=i,this.pack="Turtle",this.trumpets=0,this.spawnedGoldenRetiever=!1}alive(){return this.petArray.length>0}resetPets(){var t,e,i,s,r;this.pet0=this.orignalPet0,null===(t=this.pet0)||void 0===t||t.resetPet(),this.pet1=this.orignalPet1,null===(e=this.pet1)||void 0===e||e.resetPet(),this.pet2=this.orignalPet2,null===(i=this.pet2)||void 0===i||i.resetPet(),this.pet3=this.orignalPet3,null===(s=this.pet3)||void 0===s||s.resetPet(),this.pet4=this.orignalPet4,null===(r=this.pet4)||void 0===r||r.resetPet(),this.orignalPet0=this.pet0,this.orignalPet1=this.pet1,this.orignalPet2=this.pet2,this.orignalPet3=this.pet3,this.orignalPet4=this.pet4,this.toy=this.originalToy,this.trumpets=0,this.spawnedGoldenRetiever=!1}setPet(t,e,i=!1){0==t&&(this.pet0=e,null!=e&&(this.pet0.savedPosition=0),i&&(this.orignalPet0=e)),1==t&&(this.pet1=e,null!=e&&(this.pet1.savedPosition=1),i&&(this.orignalPet1=e)),2==t&&(this.pet2=e,null!=e&&(this.pet2.savedPosition=2),i&&(this.orignalPet2=e)),3==t&&(this.pet3=e,null!=e&&(this.pet3.savedPosition=3),i&&(this.orignalPet3=e)),4==t&&(this.pet4=e,null!=e&&(this.pet4.savedPosition=4),i&&(this.orignalPet4=e))}getPet(t){return this[`pet${t}`]}pushPetsForward(){let t=(0,Oe.clone)(this.petArray);try{this.setPet(0,t[0])}catch(e){this.pet0=null}try{this.setPet(1,t[1])}catch(e){this.pet1=null}try{this.setPet(2,t[2])}catch(e){this.pet2=null}try{this.setPet(3,t[3])}catch(e){this.pet3=null}try{this.setPet(4,t[4])}catch(e){this.pet4=null}this.onionCheck()}onionCheck(){var t;null!=(null===(t=this.pet0)||void 0===t?void 0:t.equipment)&&this.pet0.equipment instanceof zI&&(this.pet0.equipment.callback(this.pet0),this.pushPetsForward())}summonPet(t,e,i=!1){if(5==this.petArray.length)return i||this.logService.createLog({message:`No room to spawn ${t.name}!`,type:"ability",player:this}),!1;0==e&&(null!=this.pet0&&this.makeRoomForSlot(0),this.pet0=t),1==e&&(null!=this.pet1&&this.makeRoomForSlot(1),this.pet1=t),2==e&&(null!=this.pet2&&this.makeRoomForSlot(2),this.pet2=t),3==e&&(null!=this.pet3&&this.makeRoomForSlot(3),this.pet3=t),4==e&&(null!=this.pet4&&this.makeRoomForSlot(4),this.pet4=t),t.summoned&&t.summoned(null);let s=kt(this.gameService.gameApi,this);return this.abilityService.triggerEnemySummonedEvents(s,t),!0}makeRoomForSlot(t){if(5==this.petArray.length)return void console.warn("No room to Make Room");let e=!1,i=null;if(t<4&&null==this.pet4&&(e=!0,i=4),t<3&&null==this.pet3&&(e=!0,i=3),t<2&&null==this.pet2&&(e=!0,i=2),t<1&&null==this.pet1&&(e=!0,i=1),e)for(let r=i;r>t;r--)this[`pet${r}`]=this["pet"+(r-1)];let s=!1;if(t>0&&null==this.pet0&&(s=!0,i=0),t>1&&null==this.pet1&&(s=!0,i=1),t>2&&null==this.pet2&&(s=!0,i=2),t>3&&null==this.pet3&&(s=!0,i=3),s)for(let r=i;r<t;r++)this[`pet${r}`]=this[`pet${r+1}`]}get petArray(){let t=[];return null!=this.pet0&&t.push(this.pet0),null!=this.pet1&&t.push(this.pet1),null!=this.pet2&&t.push(this.pet2),null!=this.pet3&&t.push(this.pet3),null!=this.pet4&&t.push(this.pet4),t}handleDeath(t){var e;t.seenDead=!0,t.setFaintEventIfPresent(),null!=(null===(e=t.petBehind(!0))||void 0===e?void 0:e.friendAheadFaints)&&this.abilityService.setFriendAheadFaintsEvent({callback:t.petBehind().friendAheadFaints.bind(t.petBehind()),priority:t.petBehind().attack,player:this}),this.abilityService.triggerFriendFaintsEvents(t),this.createDeathLog(t)}checkPetsAlive(){this.pet0&&!this.pet0.alive&&!this.pet0.seenDead&&this.handleDeath(this.pet0),this.pet1&&!this.pet1.alive&&!this.pet1.seenDead&&this.handleDeath(this.pet1),this.pet2&&!this.pet2.alive&&!this.pet2.seenDead&&this.handleDeath(this.pet2),this.pet3&&!this.pet3.alive&&!this.pet3.seenDead&&this.handleDeath(this.pet3),this.pet4&&!this.pet4.alive&&!this.pet4.seenDead&&this.handleDeath(this.pet4)}removeDeadPets(){var t,e,i,s,r;(null===(t=this.pet0)||void 0===t?void 0:t.alive)||(this.pet0=null),(null===(e=this.pet1)||void 0===e?void 0:e.alive)||(this.pet1=null),(null===(i=this.pet2)||void 0===i?void 0:i.alive)||(this.pet2=null),(null===(s=this.pet3)||void 0===s?void 0:s.alive)||(this.pet3=null),(null===(r=this.pet4)||void 0===r?void 0:r.alive)||(this.pet4=null)}createDeathLog(t){this.logService.createLog({message:`${t.name} fainted.`,type:"death",player:t.parent})}getRandomPet(t){let e=this.petArray;return e=e.filter(s=>{let r=!0;return t&&(r=!t.includes(s)),r&&s.health>0}),0==e.length?null:e[Qr(0,e.length-1)]}getPetsWithEquipment(t){var e;let i=[];for(let s of this.petArray)(null===(e=s.equipment)||void 0===e?void 0:e.name)==t&&i.push(s);return i}getPetAtPosition(t){for(let e of this.petArray)if(e.position==t)return e;return null}getLastPet(){for(let t of this.petArray.reverse())if(t.alive)return t}getHighestHealthPet(t){let e;for(let i in this.petArray){let r=this.petArray[+i];if(r!=t){if(null==e){e=[r];continue}if(r.health==e[0].health){e.push(r);continue}r.health>e[0].health&&(e=[r])}}return{pet:e[Qr(0,e.length-1)],random:e.length>1}}getLowestHealthPet(t){let e;for(let i in this.petArray){let r=this.petArray[+i];if(r!=t&&r.alive){if(null==e){e=[r];continue}if(r.health==e[0].health){e.push(r);continue}r.health<e[0].health&&(e=[r])}}return{pet:e[Qr(0,e.length-1)],random:e.length>1}}get furthestUpPet(){for(let t of this.petArray)if(t.alive)return t;return null}breakToy(t=!1){if(null==this.toy||null==this.toy.onBreak)return;this.logService.createLog({message:`${this.toy.name} broke!`,type:"ability",player:this,randomEvent:!1});let e=[{callback:this.toy.onBreak.bind(this.toy),priority:99}],i=this.toy.level;for(let r of this.petArray)r instanceof lu&&e.push({callback:()=>{this.toy.level=r.level,this.toy.onBreak(this.gameService.gameApi,!0),this.toy.level=i},priority:r.attack});e.sort((r,o)=>r.priority>o.priority?-1:r.priority<o.priority?1:0),console.log(e);for(let r of e)r.callback(this.gameService.gameApi);let s=(0,Oe.cloneDeep)(this.toy);this.toy=null,t&&this.setToy(s)}setToy(t){this.toy=t}getStrongestPet(){let t,e=(0,Oe.shuffle)(this.petArray);for(let i of e)null!=t?i.attack+i.health>t.attack+t.health&&(t=i):t=i;return t}pushPetToFront(t){this.pushPet(t,4)}pushPetToBack(t){this.pushPet(t,-4)}pushPet(t,e=1){let r,i=t.parent,s=t.position;i[`pet${s}`]=null,e>0&&(r=Math.max(s-e,0)),e<0&&(r=Math.max(s-e,4)),i.summonPet(t,r),this.onionCheck()}getRandomStrawberryPet(t){let e=this.getPetsWithEquipment("Strawberry"),i=e.filter(s=>s!=t);return 0==i.length?null:e[Qr(0,i.length-1)]}get opponent(){return kt(this.gameService.gameApi,this)}gainTrumpets(t,e,i,s){this.trumpets=Math.min(50,this.trumpets+=t),this.logService.createLog({message:`${e.name} gained ${t} trumpets. (${this.trumpets})`,type:"trumpets",player:this,pteranodon:i,pantherMultiplier:s})}spendTrumpets(t,e,i){this.trumpets=Math.max(0,this.trumpets-=t),this.logService.createLog({message:`${e.name} spent ${t} trumpets. (${this.trumpets})`,type:"trumpets",player:this,pteranodon:i})}checkGoldenSpawn(){if(this.spawnedGoldenRetiever||this.petArray.length>1||0==this.trumpets)return;let t=new sy(this.logService,this.abilityService,this,this.trumpets,this.trumpets);this.logService.createLog({message:`${this==this.gameService.gameApi.player?"Player":"Opponent"} spawned Golden Retriever (${t.attack}/${t.health})`,type:"ability",player:this}),this.summonPet(t,0)&&this.abilityService.triggerSummonedEvents(t),this.trumpets=0,this.spawnedGoldenRetiever=!0}}class ry extends w{constructor(t,e,i,s,r,o,a){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Ant",this.tier=1,this.pack="Turtle",this.health=2,this.attack=2,this.initPet(o,s,r,a)}faint(t,e,i){let s=1==this.level?{health:1,attack:1}:2==this.level?{health:2,attack:2}:{health:3,attack:3},r=this.parent.getRandomPet([this]);null!=r&&(r.health+=s.health,r.attack+=s.attack,this.logService.createLog({message:`${this.name} gave ${r.name} ${s.attack} attack and ${s.health} health.`,type:"ability",randomEvent:!0,player:this.parent,tiger:e,pteranodon:i}),this.superFaint(t,e),this.done=!0)}}class cu extends w{constructor(t,e,i,s,r,o,a){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Zombie Cricket",this.tier=1,this.pack="Turtle",this.hidden=!0,this.health=1,this.attack=1,this.initPet(o,s,r,a)}}class gw extends w{constructor(t,e,i,s,r,o,a){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Cricket",this.tier=1,this.pack="Turtle",this.health=2,this.attack=1,this.initPet(o,s,r,a)}faint(t,e,i){let s=1,r=0;2==this.level?(r=2,s=2):3==this.level&&(r=5,s=3),this.abilityService.setSpawnEvent({callback:()=>{let o=new cu(this.logService,this.abilityService,this.parent,null,null,r);this.logService.createLog({message:`${this.name} spawned Zombie Cricket Level ${s}`,type:"ability",player:this.parent,tiger:e,pteranodon:i}),this.parent.summonPet(o,this.savedPosition)&&this.abilityService.triggerSummonedEvents(o)},priority:this.attack}),super.superFaint(t,e)}}class mw extends w{constructor(t,e,i,s,r,o,a){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Fish",this.tier=1,this.pack="Turtle",this.health=3,this.attack=2,this.initPet(o,s,r,a)}}class yw extends w{constructor(t,e,i,s,r,o,a){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Horse",this.tier=1,this.pack="Turtle",this.health=1,this.attack=2,this.initPet(o,s,r,a)}friendSummoned(t,e){t.increaseAttack(this.level),this.logService.createLog({message:`${this.name} gave ${t.name} ${this.level} attack`,type:"ability",player:this.parent,tiger:e}),super.superFriendSummoned(t,e)}}class vw extends w{constructor(t,e,i,s,r,o,a){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Mosquito",this.tier=1,this.pack="Turtle",this.health=2,this.attack=2,this.initPet(o,s,r,a)}startOfBattle(t,e){let i;i=t.player==this.parent?t.opponet:t.player;for(let s=0;s<this.level;s++){let r=i.getRandomPet();if(!r)break;this.snipePet(r,1,!0,e)}super.superStartOfBattle(t,e)}}class _w extends w{constructor(t,e,i,s,r,o,a){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Duck",this.tier=1,this.pack="Turtle",this.health=3,this.attack=2,this.initPet(o,s,r,a)}}class bw extends w{constructor(t,e,i,s,r,o,a){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Beaver",this.tier=1,this.pack="Turtle",this.health=2,this.attack=3,this.initPet(o,s,r,a)}}class Sw extends w{constructor(t,e,i,s,r,o,a){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Otter",this.tier=1,this.pack="Turtle",this.health=3,this.attack=1,this.initPet(o,s,r,a)}}class Ew extends w{constructor(t,e,i,s,r,o,a){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Pig",this.tier=1,this.pack="Turtle",this.health=1,this.attack=4,this.initPet(o,s,r,a)}}class ww extends w{constructor(t,e,i,s,r,o,a){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Mouse",this.tier=1,this.pack="Turtle",this.health=2,this.attack=1,this.initPet(o,s,r,a)}}class gU extends w{constructor(t,e,i,s,r,o,a){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Snail",this.tier=2,this.pack="Turtle",this.health=2,this.attack=2,this.initPet(o,s,r,a)}}class Cw extends w{constructor(t,e,i,s,r,o,a){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Crab",this.tier=2,this.pack="Turtle",this.health=1,this.attack=4,this.initPet(o,s,r,a)}startOfBattle(t,e){let i=this.parent.getHighestHealthPet(this).pet,s=.5*this.level,r=Math.floor(i.health*s);this.health=r,this.logService.createLog({message:`${this.name} copied ${100*s}% of ${i.name}'s health (${r})`,type:"ability",player:this.parent,tiger:e}),super.superStartOfBattle(t,e)}}class Dw extends w{constructor(t,e,i,s,r,o,a){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Swan",this.tier=2,this.pack="Turtle",this.health=2,this.attack=1,this.initPet(o,s,r,a)}}class oy extends w{constructor(t,e,i,s,r,o,a){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Dirty Rat",this.tier=1,this.pack="Turtle",this.hidden=!0,this.health=1,this.attack=1,this.initPet(o,s,r,a)}}class Pw extends w{constructor(t,e,i,s,r,o,a){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Rat",this.tier=2,this.pack="Turtle",this.health=6,this.attack=3,this.initPet(o,s,r,a)}faint(t,e,i){let s;s=t.player==this.parent?t.opponet:t.player;for(let r=0;r<this.level;r++)this.abilityService.setSpawnEvent({callback:()=>{this.logService.createLog({message:`${this.name} Summoned Dirty Rat on Opponent`,type:"ability",player:this.parent,tiger:e,pteranodon:i});let o=new oy(this.logService,this.abilityService,s,null,null,0);s.summonPet(o,0)&&this.abilityService.triggerSummonedEvents(o)},priority:this.attack});super.superFaint(t,e)}}class kw extends w{constructor(t,e,i,s,r,o,a){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Hedgehog",this.tier=2,this.pack="Turtle",this.health=2,this.attack=3,this.initPet(o,s,r,a)}faint(t,e,i){let s=t.player.petArray.filter(o=>o!=this&&o.alive);s.reverse(),s=[...s,...t.opponet.petArray.filter(o=>o.alive)];let r=2*this.level;for(let o of s)this.snipePet(o,r,!1,e,i);super.superFaint(t,e),this.done=!0}}class Aw extends w{constructor(t,e,i,s,r,o,a){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Peacock",this.tier=2,this.pack="Turtle",this.health=5,this.attack=2,this.initPet(o,s,r,a)}hurt(t,e){if(this.health<1)return;let i=4*this.level;this.increaseAttack(i),this.logService.createLog({message:`${this.name} increased attack by ${i} (${this.attack})`,type:"ability",player:this.parent,tiger:e}),super.superHurt(t,e)}}class Tw extends w{constructor(t,e,i,s,r,o,a){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Flamingo",this.tier=2,this.pack="Turtle",this.health=2,this.attack=3,this.initPet(o,s,r,a)}faint(t,e,i){let o,a,u,r=this.parent.petArray;for(let d in r)r[+d]==this&&(o=+d);for(let d=o;d<5;d++){let f=r[d];if(null!=f&&f.health>0){if(null==a){a=f;continue}u=f;break}}if(a){let d=a;d.increaseAttack(this.level),d.increaseHealth(this.level),this.logService.createLog({message:`${this.name} gave ${d.name} ${this.level} attack and ${this.level} health.`,type:"ability",player:this.parent,tiger:e,pteranodon:i})}if(u){let d=u;d.increaseAttack(this.level),d.increaseHealth(this.level),this.logService.createLog({message:`Flamingo gave ${d.name} ${this.level} attack and ${this.level} health.`,type:"ability",player:this.parent,tiger:e,pteranodon:i})}super.superFaint(t,e)}}class xw extends w{constructor(t,e,i,s,r,o,a){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Worm",this.tier=2,this.pack="Turtle",this.health=1,this.attack=3,this.initPet(o,s,r,a)}}class Mw extends w{constructor(t,e,i,s,r,o,a){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Kangaroo",this.tier=2,this.pack="Turtle",this.health=3,this.attack=2,this.initPet(o,s,r,a)}friendAheadAttacks(t,e){this.increaseAttack(this.level),this.increaseHealth(this.level),this.logService.createLog({message:`${this.name} gained ${this.level} attack and ${this.level} health.`,type:"ability",player:this.parent,tiger:e}),super.superFriendAheadAttacks(t,e)}}class Iw extends w{constructor(t,e,i,s,r,o,a,u){super(t,e,s),this.logService=t,this.abilityService=e,this.petService=i,this.name="Spider",this.tier=2,this.pack="Turtle",this.health=2,this.attack=2,this.initPet(a,r,o,u)}faint(t,e,i){let s;s=(this.parent=t.player)?t.playerPetPool.get(3):t.opponentPetPool.get(3);let r=s.filter(f=>"Spider"!=f),o=r[Qr(0,r.length-1)],a=this.level,u=2*this.level,d=this.petService.createPet({attack:u,exp:this.minExpForLevel,equipment:null,health:u,name:o},this.parent);this.abilityService.setSpawnEvent({callback:()=>{this.logService.createLog({message:`${this.name} spawned ${d.name} level ${a} (${u}/${u})`,type:"ability",player:this.parent,randomEvent:!0,tiger:e,pteranodon:i}),this.parent.summonPet(d,this.savedPosition)&&this.abilityService.triggerSummonedEvents(d)},priority:this.attack}),super.superFaint(t,e)}}class Ow extends w{constructor(t,e,i,s,r,o,a){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Dodo",this.tier=3,this.pack="Turtle",this.health=2,this.attack=4,this.initPet(o,s,r,a)}startOfBattle(t,e){let i=this.petAhead;if(null==i)return;let s=Math.floor(this.attack*(.5*this.level));i.increaseAttack(s),this.logService.createLog({message:`${this.name} gave ${i.name} ${s} attack.`,player:this.parent,type:"ability",tiger:e}),super.superStartOfBattle(t,e)}}class Rw extends w{constructor(t,e,i,s,r,o,a){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Badger",this.tier=3,this.pack="Turtle",this.health=3,this.attack=6,this.initPet(o,s,r,a)}faint(t,e,i){let s;s=t.player==this.parent?t.opponet:t.player;let o,r=this.attack*(.5*this.level);this.petBehind()&&this.snipePet(this.petBehind(),r,!1,e,i),o=this.petAhead?this.petAhead:s.furthestUpPet,null!=o&&this.snipePet(o,r,!1,e,i),super.superFaint(t,e),this.done=!0}}class ay extends w{constructor(t,e,i,s,r,o,a){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Dolphin",this.tier=3,this.pack="Turtle",this.health=3,this.attack=4,this.initPet(o,s,r,a)}startOfBattle(t,e){let i;i=t.player==this.parent?t.opponet:t.player;for(let s=0;s<this.level;s++){let r=i.getLowestHealthPet();if(!r.pet)break;this.snipePet(r.pet,3,r.random,e)}super.superStartOfBattle(t,e)}}class Nw extends w{constructor(t,e,i,s,r,o,a){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Giraffe",this.tier=3,this.pack="Turtle",this.attack=1,this.health=3,this.initPet(o,s,r,a)}}class Lw extends w{constructor(t,e,i,s,r,o,a){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Elephant",this.tier=3,this.pack="Turtle",this.health=7,this.attack=3,this.initPet(o,s,r,a)}afterAttack(t,e){for(let i=0;i<this.level;i++)this.petBehind()&&this.snipePet(this.petBehind(),1,!1,e);super.superAfterAttack(t,e)}}class Fw extends w{constructor(t,e,i,s,r,o,a){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Camel",this.tier=3,this.pack="Turtle",this.health=4,this.attack=2,this.initPet(o,s,r,a)}hurt(t,e){let i=this.petBehind();if(null==i)return;let s=2*this.level;i&&(i.increaseAttack(s),i.increaseHealth(s)),this.logService.createLog({message:`${this.name} gave ${i.name} ${s} attack and ${s} health.`,type:"ability",player:this.parent,tiger:e}),super.superHurt(t,e)}}class Vw extends w{constructor(t,e,i,s,r,o,a){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Rabbit",this.tier=3,this.pack="Turtle",this.health=2,this.attack=1,this.initPet(o,s,r,a)}}class ll extends ze{constructor(){super(...arguments),this.name="Melon",this.equipmentClass="shield",this.power=20,this.uses=1,this.originalUses=1}}class Bw extends w{constructor(t,e,i,s,r,o,a){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Ox",this.tier=3,this.pack="Turtle",this.health=3,this.attack=1,this.initPet(o,s,r,a)}friendAheadFaints(t,e){this.increaseAttack(this.level),this.equipment=new ll,this.logService.createLog({message:`${this.name} gained Melon and ${this.level} attack`,type:"ability",player:this.parent,tiger:e}),super.superFriendAheadFaints(t,e)}}class $w extends w{constructor(t,e,i,s,r,o,a){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Dog",this.tier=3,this.pack="Turtle",this.attack=2,this.health=3,this.initPet(o,s,r,a)}friendSummoned(t,e){if(t==this)return;let i=2*this.level,s=this.level;this.increaseAttack(i),this.increaseHealth(s),this.logService.createLog({message:`${this.name} gained ${i} attack and ${s} health.`,type:"ability",player:this.parent,tiger:e}),super.superFriendSummoned(t,e)}}class ly extends w{constructor(t,e,i,s,r,o,a){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Ram",this.tier=1,this.pack="Turtle",this.hidden=!0,this.health=2,this.attack=2,this.initPet(o,s,r,a)}}class Hw extends w{constructor(t,e,i,s,r,o,a){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Sheep",this.tier=3,this.pack="Turtle",this.attack=2,this.health=2,this.initPet(o,s,r,a)}faint(t,e,i){for(let s=0;s<2;s++)this.abilityService.setSpawnEvent({callback:()=>{let r=new ly(this.logService,this.abilityService,this.parent,null,null,this.minExpForLevel);this.logService.createLog({message:`${this.name} spawned Ram (${r.attack}/${r.health}).`,type:"ability",player:this.parent,tiger:e,pteranodon:i}),this.parent.summonPet(r,this.savedPosition)&&this.abilityService.triggerSummonedEvents(r)},priority:this.attack});super.superFaint(t,e)}}class qw extends w{constructor(t,e,i,s,r,o,a){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Tiger",this.tier=6,this.pack="Turtle",this.attack=6,this.health=4,this.initPet(o,s,r,a)}}class Uw extends w{constructor(t,e,i,s,r,o,a,u){super(t,e,s),this.logService=t,this.abilityService=e,this.petService=i,this.name="Parrot",this.tier=4,this.pack="Turtle",this.attack=4,this.health=2,this.initPet(a,r,o,u)}endTurn(t){var e,i,s,r,o,a,u,d,f,g,m;let v=this.petAhead;null!=this.petAhead&&(this.startOfBattle=null===(e=v.startOfBattle)||void 0===e?void 0:e.bind(this),this.hurt=null===(i=v.hurt)||void 0===i?void 0:i.bind(this),this.faint=null===(s=v.faint)||void 0===s?void 0:s.bind(this),this.friendSummoned=null===(r=v.friendSummoned)||void 0===r?void 0:r.bind(this),this.friendAheadAttacks=null===(o=v.friendAheadAttacks)||void 0===o?void 0:o.bind(this),this.friendAheadFaints=null===(a=v.friendAheadFaints)||void 0===a?void 0:a.bind(this),this.friendFaints=null===(u=v.friendFaints)||void 0===u?void 0:u.bind(this),this.afterAttack=null===(d=v.afterAttack)||void 0===d?void 0:d.bind(this),this.beforeAttack=null===(f=v.beforeAttack)||void 0===f?void 0:f.bind(this),this.knockOut=null===(g=v.knockOut)||void 0===g?void 0:g.bind(this),this.summoned=null===(m=v.summoned)||void 0===m?void 0:m.bind(this),this.logService.createLog({message:`Parrot copied ${v.name}`,type:"ability",player:this.parent}))}}class Gw extends w{constructor(t,e,i,s,r,o,a){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Skunk",this.tier=4,this.pack="Turtle",this.attack=3,this.health=5,this.initPet(o,s,r,a)}startOfBattle(t,e){let s=kt(t,this.parent).getHighestHealthPet(),r=s.pet,o=.33*this.level,a=Math.ceil(r.health*(1-o));r.health=a,this.logService.createLog({message:`${this.name} reduced ${r.name} health by ${100*o}% (${a})`,type:"ability",player:this.parent,randomEvent:s.random,tiger:e}),this.superStartOfBattle(t,e)}}class jw extends w{constructor(t,e,i,s,r,o,a){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Hippo",this.tier=4,this.pack="Turtle",this.attack=4,this.health=5,this.initPet(o,s,r,a)}knockOut(t,e,i){if(this.health<1)return;let s=3*this.level;this.increaseAttack(s),this.increaseHealth(s),this.logService.createLog({message:`${this.name} gained ${s} attack and ${s} health.`,type:"ability",player:this.parent,tiger:i}),this.superKnockOut(t,e,i)}}class Ww extends w{constructor(t,e,i,s,r,o,a){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Bison",this.tier=4,this.pack="Turtle",this.attack=4,this.health=4,this.initPet(o,s,r,a)}}class zw extends w{constructor(t,e,i,s,r,o,a){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Blowfish",this.tier=4,this.pack="Turtle",this.attack=3,this.health=6,this.initPet(o,s,r,a)}hurt(t,e){let i=3*this.level,s=kt(t,this.parent).getRandomPet();s&&this.snipePet(s,i,!0,e),this.superHurt(t,e)}}class Kw extends w{constructor(t,e,i,s,r,o,a){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Turtle",this.tier=4,this.pack="Turtle",this.attack=2,this.health=5,this.initPet(o,s,r,a)}faint(t,e,i){let s=this.petBehind();for(;s&&s.equipment instanceof ll;)s=s.petBehind();null!=s&&(s.givePetEquipment(new ll),this.logService.createLog({message:`${this.name} gave ${s.name} Melon.`,type:"ability",tiger:e,player:this.parent,pteranodon:i}),this.superFaint(t,e))}}class Qw extends w{constructor(t,e,i,s,r,o,a){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Squirrel",this.tier=4,this.pack="Turtle",this.attack=2,this.health=5,this.initPet(o,s,r,a)}}class Zw extends w{constructor(t,e,i,s,r,o,a){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Penguin",this.tier=4,this.pack="Turtle",this.attack=2,this.health=4,this.initPet(o,s,r,a)}}class _n extends w{constructor(t,e,i,s,r,o,a){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Panther",this.tier=5,this.pack="Puppy",this.attack=3,this.health=5,this.initPet(o,s,r,a)}}class cy extends ze{constructor(t,e){super(),this.logService=t,this.abilityService=e,this.name="Chili",this.equipmentClass="skewer",this.power=0,this.attackCallback=(i,s)=>{let r=s.parent.getPetAtPosition(1);if(null==r)return;let o=1;i instanceof _n&&(o=1+i.level);let a=i.calculateDamgae(r,5),u=a.defenseEquipment,d=a.damage*o;r.health-=d;let f=`${i.name} attacks ${r.name} for ${d}`;if(i instanceof _n&&(f+=` x${o} (Panther)`),null!=u){r.useDefenseEquipment();let g=Math.abs(u.power),m="-";u.power<0&&(m="+"),f+=` (${u.name} ${m}${g})`,s instanceof _n&&(f+=` x${1+i.level} (Panther)`)}this.logService.createLog({message:f+=" (Chili).",type:"attack",player:i.parent}),null!=r.hurt&&d>0&&this.abilityService.setHurtEvent({callback:r.hurt.bind(r),priority:r.attack,player:r.parent}),r.health<1&&null!=i.knockOut&&this.abilityService.setKnockOutEvent({callback:i.knockOut.bind(i),priority:i.attack,callbackPet:r}),r.alive&&d>0&&this.abilityService.triggerFriendHurtEvents(s.parent,s),i.alive&&d>0&&this.abilityService.triggerEnemyHurtEvents(i.parent,r)}}}class uy extends w{constructor(t,e,i,s,r,o,a){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Bus",this.tier=1,this.pack="Turtle",this.hidden=!0,this.health=5,this.attack=5,this.initPet(o,s,r,a)}}class Yw extends w{constructor(t,e,i,s,r,o,a){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Deer",this.tier=4,this.pack="Turtle",this.attack=1,this.health=1,this.initPet(o,s,r,a)}faint(t,e,i){let s=new uy(this.logService,this.abilityService,this.parent,null,null,this.minExpForLevel,new cy(this.logService,this.abilityService));this.abilityService.setSpawnEvent({callback:()=>{this.logService.createLog({message:`${this.name} spawned Bus level ${this.level}`,type:"ability",player:this.parent,tiger:e,pteranodon:i}),this.parent.summonPet(s,this.savedPosition)&&this.abilityService.triggerSummonedEvents(s)},priority:this.attack}),super.superFaint(t,e)}}class Jw extends w{constructor(t,e,i,s,r,o,a,u){super(t,e,s),this.logService=t,this.abilityService=e,this.petService=i,this.name="Whale",this.tier=4,this.pack="Turtle",this.attack=3,this.health=8,this.initPet(a,r,o,u)}startOfBattle(t,e){let i=this.petAhead;!i||(i.exp=this.exp,this.swallowedPets.push(this.petService.createDefaultVersionOfPet(i)),i.health=0,this.logService.createLog({message:`${this.name} swallowed ${i.name}`,type:"ability",player:this.parent,tiger:e}),this.superStartOfBattle(t,e))}faint(t,e,i){for(let s of this.swallowedPets)this.abilityService.setSpawnEvent({callback:()=>{this.logService.createLog({message:`${this.name} summoned ${s.name} (level ${this.level}).`,type:"ability",player:this.parent,tiger:e,pteranodon:i}),this.parent.summonPet(s,this.savedPosition)},priority:this.attack,player:this.parent})}}class uu extends w{constructor(t,e,i,s,r,o,a){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Bee",this.tier=1,this.pack="Turtle",this.hidden=!0,this.health=1,this.attack=1,this.initPet(o,s,r,a)}}class Xw extends w{constructor(t,e,i,s,r,o,a){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Scorpion",this.tier=5,this.pack="Turtle",this.attack=1,this.health=1,this.initPet(o,s,r,a)}summoned(t,e){this.equipment=new cf,this.logService.createLog({message:`${this.name} gained the Peanut perk.`,type:"ability",player:this.parent,tiger:e}),this.superSummoned(t,e)}}class eC extends w{constructor(t,e,i,s,r,o,a){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Crocodile",this.tier=5,this.pack="Turtle",this.attack=8,this.health=4,this.initPet(o,s,r,a)}startOfBattle(t,e){for(let i=0;i<this.level;i++){let s=kt(t,this.parent).getLastPet();s&&this.snipePet(s,8,!1,e)}super.superStartOfBattle(t,e)}}class tC extends w{constructor(t,e,i,s,r,o,a){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Rhino",this.tier=5,this.pack="Turtle",this.attack=3,this.health=6,this.initPet(o,s,r,a)}knockOut(t,e,i){let s=kt(t,this.parent).furthestUpPet;if(null==s)return;let r=4*this.level;1==s.tier&&(r*=2),this.snipePet(s,r,!1,i),this.superKnockOut(t,e,i)}}class hy extends w{constructor(t,e,i,s,r,o,a){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Monkey",this.tier=5,this.pack="Turtle",this.attack=1,this.health=2,this.initPet(o,s,r,a)}}class nC extends w{constructor(t,e,i,s,r,o,a){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Armadillo",this.tier=5,this.pack="Turtle",this.attack=2,this.health=6,this.initPet(o,s,r,a)}startOfBattle(t,e){let i=[...this.parent.petArray.filter(s=>s!=this),...kt(t,this.parent).petArray];for(let s of i){if(!s.alive)continue;let r=8*this.level;s.increaseHealth(r),this.logService.createLog({message:`${this.name} increased health of ${s.name} by ${r}.`,type:"ability",player:this.parent,tiger:e})}this.superStartOfBattle(t,e)}}class iC extends w{constructor(t,e,i,s,r,o,a){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Cow",this.tier=5,this.pack="Turtle",this.attack=4,this.health=6,this.initPet(o,s,r,a)}}class sC extends w{constructor(t,e,i,s,r,o,a){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Seal",this.tier=5,this.pack="Turtle",this.attack=3,this.health=8,this.initPet(o,s,r,a)}}class dy extends w{constructor(t,e,i,s,r,o,a){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Chick",this.tier=1,this.pack="Turtle",this.hidden=!0,this.health=1,this.attack=1,this.initPet(o,s,r,a)}}class rC extends w{constructor(t,e,i,s,r,o,a){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Rooster",this.tier=5,this.pack="Turtle",this.attack=6,this.health=4,this.initPet(o,s,r,a)}faint(t,e,i){let s=Math.floor(.5*this.attack);for(let r=0;r<this.level;r++)this.abilityService.setSpawnEvent({callback:()=>{this.logService.createLog({message:`${this.name} summoned Chick (${s}).`,type:"ability",player:this.parent,tiger:e,pteranodon:i}),this.parent.summonPet(new dy(this.logService,this.abilityService,this.parent,1,s,this.minExpForLevel),this.savedPosition)},priority:this.attack,player:this.parent});this.superFaint(t,e)}}class oC extends w{constructor(t,e,i,s,r,o,a){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Shark",this.tier=5,this.pack="Turtle",this.attack=4,this.health=2,this.initPet(o,s,r,a)}friendFaints(t,e,i){if(e==this)return;let s={attack:this.level,health:2*this.level};this.increaseAttack(s.attack),this.increaseHealth(s.health),this.logService.createLog({message:`${this.name} gained ${s.attack} attack and ${s.health} health.`,type:"ability",player:this.parent,tiger:i}),super.superFriendFaints(t,e,i)}}class aC extends w{constructor(t,e,i,s,r,o,a){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Turkey",this.tier=5,this.pack="Turtle",this.attack=3,this.health=4,this.initPet(o,s,r,a)}friendSummoned(t,e){let i={attack:2*this.level,health:3*this.level};t.increaseAttack(i.attack),t.increaseHealth(i.health),this.logService.createLog({message:`${this.name} gave ${t.name} ${i.attack} attack and ${i.health} health.`,type:"ability",player:this.parent,tiger:e}),super.superFriendSummoned(t,e)}}class lC extends w{constructor(t,e,i,s,r,o,a){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Leopard",this.tier=6,this.pack="Turtle",this.attack=10,this.health=4,this.initPet(o,s,r,a)}startOfBattle(t,e){let i=Math.floor(.5*this.attack),s=[];for(let r=0;r<this.level;r++){let o=kt(t,this.parent).getRandomPet(s);if(null==o)return;s.push(o),this.snipePet(o,i,!0,e)}this.superStartOfBattle(t,e)}}class cC extends w{constructor(t,e,i,s,r,o,a){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Boar",this.tier=6,this.pack="Turtle",this.attack=10,this.health=6,this.initPet(o,s,r,a)}beforeAttack(t,e){let i={attack:4*this.level,health:2*this.level};this.increaseAttack(i.attack),this.increaseHealth(i.health),this.logService.createLog({message:`${this.name} gained ${i.attack} attack and ${i.health} health.`,type:"ability",player:this.parent,tiger:e}),this.superBeforeAttack(t,e)}}class uC extends w{constructor(t,e,i,s,r,o,a){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Wolverine",this.tier=6,this.pack="Turtle",this.attack=5,this.health=4,this.initPet(o,s,r,a)}}class cl extends ze{constructor(){super(...arguments),this.name="Coconut",this.equipmentClass="shield",this.power=999,this.uses=1,this.originalUses=1}}class hC extends w{constructor(t,e,i,s,r,o,a){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Gorilla",this.tier=6,this.pack="Turtle",this.attack=7,this.health=10,this.initPet(o,s,r,a)}hurt(t,e){!this.alive||(this.abilityUses<this.maxAbilityUses&&(this.abilityUses++,this.equipment=new cl,this.logService.createLog({message:`${this.name} gained a Coconut.`,type:"ability",player:this.parent,tiger:e})),super.superHurt(t,e))}setAbilityUses(){super.setAbilityUses(),this.maxAbilityUses=this.level}}class dC extends w{constructor(t,e,i,s,r,o,a){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Dragon",this.tier=6,this.pack="Turtle",this.attack=6,this.health=8,this.initPet(o,s,r,a)}}class fC extends w{constructor(t,e,i,s,r,o,a){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Mammoth",this.tier=6,this.pack="Turtle",this.attack=4,this.health=12,this.initPet(o,s,r,a)}faint(t,e,i){let s=2*this.level;for(let r of this.parent.petArray.filter(o=>o!=this&&o.alive))r.increaseAttack(s),r.increaseHealth(s),this.logService.createLog({message:`${this.name} gave ${r.name} ${s} attack and ${s} health.`,type:"ability",player:this.parent,tiger:e,pteranodon:i});super.superFaint(t,e)}}class pC extends w{constructor(t,e,i,s,r,o,a){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Cat",this.tier=6,this.pack="Turtle",this.attack=4,this.health=5,this.initPet(o,s,r,a)}}class gC extends w{constructor(t,e,i,s,r,o,a){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Snake",this.tier=6,this.pack="Turtle",this.attack=6,this.health=6,this.initPet(o,s,r,a)}friendAheadAttacks(t,e){let i=5*this.level,s=kt(t,this.parent).getRandomPet();!s||(this.snipePet(s,i,!0,e),this.superFriendAheadAttacks(t,e))}}class uf extends w{constructor(t,e,i,s,r,o,a){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Zombie Fly",this.tier=1,this.pack="Turtle",this.hidden=!0,this.health=4,this.attack=4,this.initPet(o,s,r,a)}}class mC extends w{constructor(t,e,i,s,r,o,a){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Fly",this.tier=6,this.pack="Turtle",this.attack=5,this.health=5,this.maxAbilityUses=3,this.initPet(o,s,r,a)}friendFaints(t,e,i){e instanceof uf||this.abilityUses>=this.maxAbilityUses||!this.alive||this.abilityService.setSpawnEvent({callback:()=>{let s=new uf(this.logService,this.abilityService,this.parent,null,null,this.minExpForLevel);this.parent.summonPet(s,e.savedPosition,!0)&&(this.abilityService.triggerSummonedEvents(s),this.abilityUses++,this.logService.createLog({message:`${this.name} spawned Zombie Fly Level ${this.level}`,type:"ability",player:this.parent,tiger:i}))},priority:-1})}}class yC extends w{constructor(t,e,i,s,r,o,a){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Moth",this.tier=1,this.pack="Puppy",this.health=1,this.attack=3,this.initPet(o,s,r,a)}startOfBattle(t,e){let i=this.parent.furthestUpPet,s=2*this.level;i.increaseAttack(s),this.logService.createLog({message:`${this.name} gave ${i.name} ${s} attack.`,type:"ability",player:this.parent,tiger:e}),this.superStartOfBattle(t,e)}}class vC extends w{constructor(t,e,i,s,r,o,a){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Bluebird",this.tier=1,this.pack="Puppy",this.attack=2,this.health=1,this.initPet(o,s,r,a)}}class _C extends w{constructor(t,e,i,s,r,o,a){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Chinchilla",this.tier=1,this.pack="Puppy",this.attack=2,this.health=2,this.initPet(o,s,r,a)}}class fy extends ze{constructor(){super(...arguments),this.equipmentClass="defense",this.name="Garlic",this.power=2}}class QI extends ze{constructor(t,e){super(),this.logService=t,this.abilityService=e,this.name="Honey",this.equipmentClass="faint",this.callback=i=>{let s=1;i instanceof _n&&(s=1+i.level);for(let r=0;r<s;r++)this.abilityService.setSpawnEvent({callback:()=>{let o=new uu(this.logService,this.abilityService,i.parent,null,null,0);i.parent.summonPet(o,i.savedPosition);let a="";r>0&&(a=" (Panther)"),this.logService.createLog({message:`${i.name} Spawned Bee (Honey)${a}`,type:"ability",player:i.parent}),this.abilityService.triggerSummonedEvents(o)},priority:i.attack})}}}class ZI extends ze{constructor(){super(...arguments),this.name="Meat Bone",this.equipmentClass="attack",this.power=3}}class bC extends w{constructor(t,e,i,s,r,o,a){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Beetle",this.tier=1,this.pack="Puppy",this.attack=1,this.health=2,this.initPet(o,s,r,a)}startOfBattle(t,e){let i;switch(this.level){case 1:i=new QI(this.logService,this.abilityService);break;case 2:i=new ZI;break;case 3:i=new fy}this.logService.createLog({message:`${this.name} gained ${i.name} perk.`,type:"ability",player:this.parent,tiger:e}),this.givePetEquipment(i),super.superStartOfBattle(t,e)}}class SC extends w{constructor(t,e,i,s,r,o,a){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Ladybug",this.tier=1,this.pack="Puppy",this.attack=1,this.health=2,this.initPet(o,s,r,a)}friendGainedPerk(t,e,i){let s=2*this.level;this.increaseAttack(s),this.logService.createLog({message:`${this.name} gained ${s} attack.`,type:"ability",player:this.parent,tiger:i}),this.superFriendGainedPerk(t,e,i)}}class EC extends w{constructor(t,e,i,s,r,o,a){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Chipmunk",this.tier=1,this.pack="Puppy",this.attack=3,this.health=2,this.initPet(o,s,r,a)}}class wC extends w{constructor(t,e,i,s,r,o,a){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Gecko",this.tier=1,this.pack="Puppy",this.attack=3,this.health=1,this.toyPet=!0,this.initPet(o,s,r,a)}startOfBattle(t,e){if(null==this.parent.toy)return;let i=2*this.level;this.increaseHealth(i),this.logService.createLog({message:`${this.name} gained ${i} health.`,type:"ability",player:this.parent,tiger:e}),this.superStartOfBattle(t,e)}}class CC extends w{constructor(t,e,i,s,r,o,a){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Ferret",this.tier=1,this.pack="Puppy",this.attack=2,this.health=1,this.initPet(o,s,r,a)}}class hu extends ze{constructor(){super(...arguments),this.name="Weak",this.equipmentClass="ailment-defense",this.power=-3}}class DC extends w{constructor(t,e,i,s,r,o,a){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Bat",this.tier=2,this.pack="Puppy",this.attack=1,this.health=2,this.initPet(o,s,r,a)}startOfBattle(t,e){let i=kt(t,this.parent);for(let s=0;s<this.level;s++){let r=i.getPetsWithEquipment("Weak"),o=i.getRandomPet(r);if(null==o)return;o.givePetEquipment(new hu),this.logService.createLog({message:`${this.name} made ${o.name} weak.`,type:"ability",player:this.parent,randomEvent:!0,tiger:e})}this.superStartOfBattle(t,e)}}class PC extends w{constructor(t,e,i,s,r,o,a){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Frigatebird",this.tier=2,this.pack="Puppy",this.attack=2,this.health=1,this.initPet(o,s,r,a)}friendGainedAilment(t,e){if(this.abilityUses>=this.level||e==this)return;let i=e.equipment;e.equipment=null,this.abilityUses++,this.logService.createLog({message:`${this.name} removed ${i.name} from ${e.name}.`,type:"ability",player:this.parent})}resetPet(){super.resetPet()}setAbilityUses(){super.setAbilityUses(),this.maxAbilityUses=this.level}}class YI extends ze{constructor(t,e){super(),this.logService=t,this.abilityService=e,this.name="Egg",this.equipmentClass="snipe",this.uses=1,this.originalUses=1,this.attackCallback=(i,s)=>{let r=s.parent.getPetAtPosition(0);if(null==r)return void console.warn("egg didn't find target");let o=i.calculateDamgae(r,2,!0),a=o.defenseEquipment,u=o.damage;r.health-=u;let d=`${i.name} sniped ${r.name} for ${u}`;if(i instanceof _n&&(d+=` x${1+i.level} (Panther)`),null!=a){r.useDefenseEquipment();let f=Math.abs(a.power),g="-";a.power<0&&(g="+"),d+=` (${a.name} ${g}${f})`}this.logService.createLog({message:d+=" (Egg).",type:"attack",player:i.parent}),null!=r.hurt&&this.abilityService.setHurtEvent({callback:r.hurt.bind(r),priority:r.attack,player:r.parent}),r.health<1&&null!=i.knockOut&&(console.log("knock out!"),this.abilityService.setKnockOutEvent({callback:i.knockOut.bind(i),priority:i.attack,callbackPet:r})),r.alive&&this.abilityService.triggerFriendHurtEvents(s.parent,s),r.alive&&u>0&&this.abilityService.triggerEnemyHurtEvents(i.parent,r)}}}class py extends w{constructor(t,e,i,s,r,o,a){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Nest",this.tier=1,this.pack="Puppy",this.hidden=!0,this.attack=2,this.health=3,this.initPet(o,s,r,a)}}class kC extends w{constructor(t,e,i,s,r,o,a){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Robin",this.tier=2,this.pack="Puppy",this.attack=2,this.health=3,this.initPet(o,s,r,a)}startOfBattle(t,e){let i=new py(this.logService,this.abilityService,this.parent,null,null,this.minExpForLevel,new YI(this.logService,this.abilityService));this.logService.createLog({message:`${this.name} summoned a Nest (level ${this.level}).`,type:"ability",player:this.parent,randomEvent:!1,tiger:e}),this.parent.summonPet(i,this.position)&&this.abilityService.triggerSummonedEvents(i),this.superStartOfBattle(t,e)}}class AC extends w{constructor(t,e,i,s,r,o,a){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Dromedary",this.tier=2,this.pack="Puppy",this.attack=2,this.health=4,this.initPet(o,s,r,a)}}class TC extends w{constructor(t,e,i,s,r,o,a){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Shrimp",this.tier=2,this.pack="Puppy",this.attack=2,this.health=3,this.initPet(o,s,r,a)}}class xC extends w{constructor(t,e,i,s,r,o,a){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Toucan",this.tier=2,this.pack="Puppy",this.attack=3,this.health=2,this.initPet(o,s,r,a)}faint(t,e,i){var s;if(null==this.equipment)return;let r=this.parent.petArray,o=[],a=!1;for(let u of r)u==this&&(a=!0),a&&(null===(s=u.equipment)||void 0===s?void 0:s.name)!=this.equipment.name&&o.push(u);for(let u=0;u<this.level;u++){let d=o[u];if(null==d)break;this.logService.createLog({message:`${this.name} gave ${d.name} ${this.equipment.name}`,type:"ability",player:this.parent,randomEvent:!1,tiger:e,pteranodon:i}),d.givePetEquipment((0,Oe.cloneDeep)(this.equipment))}this.superFaint(t,e)}}class JI extends ze{constructor(){super(...arguments),this.name="Rice",this.equipmentClass="shop"}}class MC extends w{constructor(t,e,i,s,r,o,a){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Beluga Sturgeon",this.tier=2,this.pack="Puppy",this.attack=2,this.health=3,this.initPet(o,s,r,a)}faint(t,e,i){for(let s=0;s<this.level;s++)this.abilityService.setSpawnEvent({callback:()=>{let r=new ay(this.logService,this.abilityService,this.parent,3,2,0,new JI);this.logService.createLog({message:`${this.name} summoned a 2/3 Dolphin with Rice in the back.`,type:"ability",player:this.parent,randomEvent:!1,tiger:e,pteranodon:i}),this.parent.summonPet(r,4)&&this.abilityService.triggerSummonedEvents(r)},priority:this.attack});this.superFaint(t,e)}}class IC extends w{constructor(t,e,i,s,r,o,a){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Tabby Cat",this.tier=2,this.pack="Puppy",this.attack=4,this.health=2,this.initPet(o,s,r,a)}}class gy extends w{constructor(t,e,i,s,r,o,a){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Flying Squirrel",this.tier=3,this.pack="Puppy",this.attack=3,this.health=3,this.initPet(o,s,r,a)}friendlyToyBroke(t,e){this.logService.createLog({message:`${this.parent.toy.name} respawned!`,type:"ability",player:this.parent,tiger:e});let i=this.level;this.increaseAttack(i),this.logService.createLog({message:`${this.name} gained ${i} attack.`,type:"ability",player:this.parent,tiger:e}),this.superFriendlyToyBroke(t,e)}}class OC extends w{constructor(t,e,i,s,r,o,a){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Mandrill",this.tier=2,this.pack="Puppy",this.attack=3,this.health=4,this.initPet(o,s,r,a)}faint(t,e,i){var s;if((null===(s=this.parent.toy)||void 0===s?void 0:s.tier)<=2*this.level){let o=!1;for(let a of this.parent.petArray)if(a instanceof gy){o=!0;break}this.parent.breakToy(o),this.abilityService.triggerFriendlyToyBrokeEvents(this.parent)}}}class RC extends w{constructor(t,e,i,s,r,o,a){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Lemur",this.tier=2,this.pack="Puppy",this.attack=3,this.health=3,this.initPet(o,s,r,a)}}class NC extends w{constructor(t,e,i,s,r,o,a){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Hoopoe Bird",this.tier=3,this.pack="Puppy",this.attack=3,this.health=2,this.initPet(o,s,r,a)}faint(t,e,i){let s=kt(t,this.parent),r=s.furthestUpPet,o=s.getLastPet(),a=2*this.level;!r||(this.snipePet(r,a,!1,e,i),this.snipePet(o,a,!1,e,i),this.superFaint(t,e))}}class LC extends w{constructor(t,e,i,s,r,o,a){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Tropical Fish",this.tier=3,this.pack="Puppy",this.attack=2,this.health=4,this.initPet(o,s,r,a)}}class FC extends w{constructor(t,e,i,s,r,o,a){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Hatching Chick",this.tier=3,this.pack="Puppy",this.attack=2,this.health=2,this.initPet(o,s,r,a)}endTurn(t){if(this.level>1)return;let e=this.petAhead;null!=e&&(e.increaseAttack(4),e.increaseHealth(4),this.logService.createLog({message:`${this.name} gave ${e.name} 4 attack and 4 health.`,type:"ability",player:this.parent}))}}class VC extends w{constructor(t,e,i,s,r,o,a){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Goldfish",this.tier=3,this.pack="Puppy",this.attack=1,this.health=5,this.initPet(o,s,r,a)}}class BC extends w{constructor(t,e,i,s,r,o,a){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Owl",this.tier=3,this.pack="Puppy",this.attack=1,this.health=2,this.initPet(o,s,r,a)}}class hf extends w{constructor(t,e,i,s,r,o,a){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Mole",this.tier=3,this.pack="Puppy",this.attack=2,this.health=3,this.initPet(o,s,r,a)}faint(t,e,i){let s=8*this.level,r=[];for(let o of this.parent.petArray)o!=this&&o.equipment&&r.push(o);if(r=r.slice(0,3),!(r.length<3)){for(let o of r)o.equipment=null,this.logService.createLog({message:`${this.name} removed ${o.name}'s equipment.`,type:"ability",player:this.parent,pteranodon:i});this.abilityService.setSpawnEvent({callback:()=>{this.logService.createLog({message:`${this.name} summoned a ${s}/${s} Mole.`,type:"ability",player:this.parent,pteranodon:i});let o=new hf(this.logService,this.abilityService,this.parent,s,s);this.parent.summonPet(o,this.savedPosition)&&this.abilityService.triggerSummonedEvents(o)},priority:this.attack})}}}class $C extends w{constructor(t,e,i,s,r,o,a){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Raccoon",this.tier=3,this.pack="Puppy",this.attack=3,this.health=2,this.initPet(o,s,r,a)}beforeAttack(t,e){let s=kt(t,this.parent).getPetAtPosition(0);null!=s&&null!=s.equipment&&(this.abilityUses>=this.maxAbilityUses||(this.logService.createLog({message:`${this.name} stole ${s.name}'s equipment. (${s.equipment.name})`,type:"ability",player:this.parent}),this.givePetEquipment(s.equipment),s.equipment=null,this.abilityUses++))}setAbilityUses(){super.setAbilityUses(),this.maxAbilityUses=this.level}}class HC extends w{constructor(t,e,i,s,r,o,a){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Pangolin",this.tier=3,this.pack="Puppy",this.attack=2,this.health=5,this.initPet(o,s,r,a)}faint(t,e,i){if(null==this.parent.toy||null==this.petBehind())return;let s=5*this.level;this.petBehind().increaseHealth(s),this.logService.createLog({message:`${this.name} gave ${this.petBehind().name} ${s} health.`,type:"ability",player:this.parent,tiger:e,pteranodon:i}),this.superFaint(t,e)}}class qC extends w{constructor(t,e,i,s,r,o,a){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Puppy",this.tier=3,this.pack="Puppy",this.attack=3,this.health=3,this.initPet(o,s,r,a)}}class UC extends w{constructor(t,e,i,s,r,o,a){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Microbe",this.tier=4,this.pack="Puppy",this.attack=1,this.health=1,this.initPet(o,s,r,a)}faint(t,e,i){let s=this.parent.petArray.filter(r=>r!=this);s=[...s,...kt(t,this.parent).petArray];for(let r of s)!r.alive||(this.logService.createLog({message:`${this.name} gave ${r.name} Weak.`,type:"ability",player:this.parent,tiger:e,pteranodon:i}),r.givePetEquipment(new hu));this.superFaint(t,e)}}class GC extends w{constructor(t,e,i,s,r,o,a){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Lobster",this.tier=4,this.pack="Puppy",this.attack=3,this.health=3,this.initPet(o,s,r,a)}}class jC extends w{constructor(t,e,i,s,r,o,a){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Buffalo",this.tier=4,this.pack="Puppy",this.attack=4,this.health=4,this.initPet(o,s,r,a)}}class WC extends w{constructor(t,e,i,s,r,o,a){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Llama",this.tier=4,this.pack="Puppy",this.attack=2,this.health=5,this.initPet(o,s,r,a)}}class my extends w{constructor(t,e,i,s,r,o,a){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Butterly",this.tier=1,this.pack="Puppy",this.hidden=!0,this.health=1,this.attack=1,this.initPet(o,s,r,a)}transform(t,e){let s=kt(t,this.parent).getStrongestPet();this.health=s.health,this.attack=s.attack,this.logService.createLog({message:`${this.name} copied stats from the strongest enemy (${this.attack}/${this.health}).`,type:"ability",player:this.parent,tiger:e}),this.superTransform(t,e)}}class zC extends w{constructor(t,e,i,s,r,o,a){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Caterpillar",this.tier=4,this.pack="Puppy",this.attack=1,this.health=1,this.initPet(o,s,r,a)}startOfBattle(t,e){if(this.level<3)return;let i=new my(this.logService,this.abilityService,this.parent,1,1,this.exp);this.parent.setPet(this.position,i),this.logService.createLog({message:`${this.name} transformed into a Butterfly.`,type:"ability",player:this.parent})}}class KC extends w{constructor(t,e,i,s,r,o,a){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Doberman",this.tier=4,this.pack="Puppy",this.attack=4,this.health=5,this.initPet(o,s,r,a)}startOfBattle(t,e){let i=!0;for(let r of this.parent.petArray)if(r!=this&&r.tier<=this.tier){i=!1;break}if(!i)return;let s=8*this.level;this.increaseAttack(s),this.givePetEquipment(new cl),this.logService.createLog({message:`${this.name} gained ${s} attack and gained a Coconut.`,type:"ability",player:this.parent,tiger:e}),this.superStartOfBattle(t,e)}}class QC extends w{constructor(t,e,i,s,r,o,a){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Tahr",this.tier=4,this.pack="Puppy",this.attack=5,this.health=3,this.initPet(o,s,r,a)}faint(t,e,i){if(null==this.petBehind())return;let s=this.petBehind(),r=[s];for(;null!=s.petBehind();)s=s.petBehind(),r.push(s);let o=1;for(let a of r){if(o>this.level)break;a.equipment instanceof cy||(this.logService.createLog({message:`${this.name} gave ${a.name} Chili.`,type:"ability",player:this.parent,tiger:e,pteranodon:i}),a.givePetEquipment(new cy(this.logService,this.abilityService)),o++)}this.superFaint(t,e)}}class ZC extends w{constructor(t,e,i,s,r,o,a){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Whale Shark",this.tier=4,this.pack="Puppy",this.attack=1,this.health=4,this.initPet(o,s,r,a)}givePetEquipment(t){super.givePetEquipment(t),this.equipment=null;let e=2*this.level;this.increaseAttack(e),this.increaseHealth(e),this.logService.createLog({message:`${this.name} removed ${t.name} and gained ${e} attack and ${e} health.`,type:"ability",player:this.parent})}}class YC extends w{constructor(t,e,i,s,r,o,a){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Chameleon",this.tier=4,this.pack="Puppy",this.attack=1,this.health=3,this.initPet(o,s,r,a)}faint(t,e,i){if(null==this.parent.toy)return;let s=this.parent.toy,r=s.level;s.level=this.level,this.logService.createLog({message:`${this.name} activated ${s.name}.`,type:"ability",player:this.parent,pteranodon:i}),s.onBreak&&this.parent.breakToy(!0),s.startOfBattle&&s.startOfBattle(t),s.level=r}}class JC extends w{constructor(t,e,i,s,r,o,a){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Gharial",this.tier=4,this.pack="Puppy",this.attack=5,this.health=3,this.initPet(o,s,r,a)}}class XC extends w{constructor(t,e,i,s,r,o,a){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Stonefish",this.tier=5,this.pack="Puppy",this.attack=7,this.health=4,this.initPet(o,s,r,a)}faint(t,e,i){let s=kt(t,this.parent);null==s.pet0||!s.pet0.alive||(this.snipePet(s.pet0,this.attack*this.level,!1,e,i),this.superFaint(t,e))}}class eD extends w{constructor(t,e,i,s,r,o,a){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Poodle",this.tier=5,this.pack="Puppy",this.attack=2,this.health=2,this.initPet(o,s,r,a)}}class tD extends w{constructor(t,e,i,s,r,o,a){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Chicken",this.tier=5,this.pack="Puppy",this.attack=3,this.health=4,this.initPet(o,s,r,a)}}class nD extends w{constructor(t,e,i,s,r,o,a,u){super(t,e,s),this.logService=t,this.abilityService=e,this.petService=i,this.name="Eagle",this.tier=5,this.pack="Puppy",this.attack=6,this.health=5,this.initPet(a,r,o,u)}faint(t,e,i){let r,s=Math.min(6,t.previousShopTier+1);r=this.parent==t.player?t.playerPetPool.get(s):t.opponentPetPool.get(s);let o=r[Math.floor(Math.random()*r.length)],a=5*this.level;this.abilityService.setSpawnEvent({callback:()=>{let u=this.petService.createPet({name:o,attack:a,health:a,exp:this.minExpForLevel,equipment:null},this.parent);this.logService.createLog({message:`${this.name} spawned ${u.name} Level ${u.level}`,type:"ability",player:this.parent,tiger:e,randomEvent:!0,pteranodon:i}),this.parent.summonPet(u,this.savedPosition)&&this.abilityService.triggerSummonedEvents(u)},priority:this.attack}),this.superFaint(t,e)}}class iD extends w{constructor(t,e,i,s,r,o,a){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Axolotl",this.tier=5,this.pack="Puppy",this.attack=2,this.health=3,this.initPet(o,s,r,a)}friendGainedPerk(t,e,i){if(e==this)return;let s=this.level;e.increaseAttack(s),e.increaseHealth(s),this.logService.createLog({message:`${this.name} gave ${e.name} ${s} attack and ${s} health.`,type:"ability",player:this.parent,tiger:i}),this.superFriendGainedPerk(t,e,i)}}class sD extends w{constructor(t,e,i,s,r,o,a){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Goat",this.tier=5,this.pack="Puppy",this.attack=4,this.health=6,this.initPet(o,s,r,a)}}class rD extends ze{constructor(t){super(),this.logService=t,this.name="Skewer",this.equipmentClass="skewer",this.power=0,this.attackCallback=(e,i)=>{this.skewer(e,i,1),this.skewer(e,i,2)}}skewer(t,e,i){let s=e.parent.getPetAtPosition(i);if(null==s)return;let r=1;t instanceof _n&&(r=1+t.level);let o=t.calculateDamgae(s,3),a=o.defenseEquipment,u=o.damage*r;s.health-=u;let d=`${t.name} attacks ${s.name} for ${u}`;if(t instanceof _n&&(d+=` x${r} (Panther)`),null!=a){s.useDefenseEquipment();let f=Math.abs(a.power),g="-";a.power<0&&(g="+"),d+=` (${a.name} ${g}${f})`,e instanceof _n&&(d+=` x${1+t.level} (Panther)`)}this.logService.createLog({message:d+=" (Skewer).",type:"attack",player:t.parent})}}class oD extends w{constructor(t,e,i,s,r,o,a){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Snapping Turtle",this.tier=5,this.pack="Puppy",this.attack=4,this.health=5,this.initPet(o,s,r,a)}faint(t,e,i){if(null==this.petBehind())return;let s=this.petBehind(),r=[s];for(;null!=s.petBehind();)s=s.petBehind(),r.push(s);let o=1;for(let a of r){if(o>this.level)break;a.equipment instanceof rD||(this.logService.createLog({message:`${this.name} gave ${a.name} Skewer.`,type:"ability",player:this.parent,tiger:e,pteranodon:i}),a.givePetEquipment(new rD(this.logService)),o++)}this.superFaint(t,e)}}class aD extends w{constructor(t,e,i,s,r,o,a){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Mosasaurus",this.tier=5,this.pack="Puppy",this.attack=5,this.health=6,this.initPet(o,s,r,a)}}class lD extends w{constructor(t,e,i,s,r,o,a){super(t,e,i),this.logService=t,this.abilityService=e,this.name="String Ray",this.tier=5,this.pack="Puppy",this.attack=4,this.health=6,this.initPet(o,s,r,a)}}class cD extends w{constructor(t,e,i,s,r,o,a){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Mantis Shrimp",this.tier=6,this.pack="Puppy",this.attack=9,this.health=3,this.initPet(o,s,r,a)}startOfBattle(t,e){let i=kt(t,this.parent);for(let s=0;s<this.level;s++){let r=i.furthestUpPet;if(null==r)return;this.snipePet(r,10,!1,e)}this.superStartOfBattle(t,e)}}class uD extends w{constructor(t,e,i,s,r,o,a){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Lionfish",this.tier=6,this.pack="Puppy",this.attack=8,this.health=4,this.initPet(o,s,r,a)}faint(t,e,i){let s=kt(t,this.parent),r=1+Math.floor(this.attack/10);for(let o=0;o<r;o++){let a=s.getRandomPet();if(null==a)return;this.snipePet(a,4*this.level,!0,e,i)}this.superFaint(t,e)}}class hD extends w{constructor(t,e,i,s,r,o,a){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Tyrannosaurus",this.tier=6,this.pack="Puppy",this.attack=6,this.health=4,this.initPet(o,s,r,a)}}class dD extends w{constructor(t,e,i,s,r,o,a){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Octopus",this.tier=6,this.pack="Puppy",this.attack=8,this.health=8,this.initPet(o,s,r,a)}afterAttack(t,e){let i=kt(t,this.parent);for(let s=0;s<this.level;s++){let r=i.getRandomPet();if(null==r)return;this.snipePet(r,6,!0,e)}this.superAfterAttack(t,e)}}class fD extends w{constructor(t,e,i,s,r,o,a){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Anglerfish",this.tier=6,this.pack="Puppy",this.attack=7,this.health=4,this.initPet(o,s,r,a)}}class pD extends w{constructor(t,e,i,s,r,o,a){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Sauropod",this.tier=6,this.pack="Puppy",this.attack=4,this.health=12,this.initPet(o,s,r,a)}}class gD extends w{constructor(t,e,i,s,r,o,a){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Elephant Seal",this.tier=6,this.pack="Puppy",this.attack=3,this.health=9,this.initPet(o,s,r,a)}givePetEquipment(t){super.givePetEquipment(t);let e=this.level;for(let i of this.parent.petArray)i!=this&&(!i.alive||(i.increaseAttack(e),i.increaseHealth(e),this.logService.createLog({message:`${this.name} gave ${i.name} ${e} attack and ${e} health.`,type:"ability",player:this.parent})))}}class mD extends w{constructor(t,e,i,s,r,o,a){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Mongoose",this.tier=6,this.pack="Puppy",this.attack=4,this.health=3,this.initPet(o,s,r,a)}}class yD extends w{constructor(t,e,i,s,r,o,a){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Pillbug",this.tier=1,this.pack="Star",this.attack=2,this.health=2,this.initPet(o,s,r,a)}}class vD extends w{constructor(t,e,i,s,r,o,a){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Duckling",this.tier=1,this.pack="Star",this.attack=1,this.health=2,this.initPet(o,s,r,a)}}class _D extends w{constructor(t,e,i,s,r,o,a){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Cockroach",this.tier=1,this.pack="Star",this.attack=1,this.health=4,this.initPet(o,s,r,a)}}class df extends w{constructor(t,e,i,s,r,o,a){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Frog",this.tier=1,this.pack="Star",this.attack=3,this.health=1,this.initPet(o,s,r,a)}startOfBattle(t,e){if(this.level>1)return;let i=this.petAhead,s=this.petBehind();if(null==i||null==s)return;let r=i.attack,o=i.health,u=s.health;i.attack=s.attack,i.health=u,s.attack=r,s.health=o,this.logService.createLog({message:`${this.name} swapped the attack and health of ${i.name} and ${s.name}.`,type:"ability",player:this.parent,tiger:e}),this.superStartOfBattle(t,e)}}class bD extends w{constructor(t,e,i,s,r,o,a){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Seahorse",this.tier=1,this.pack="Puppy",this.attack=2,this.health=3,this.initPet(o,s,r,a)}startOfBattle(t,e){let s=kt(t,this.parent).getLastPet();this.parent.pushPet(s,this.level),this.logService.createLog({message:`${this.name} pushes ${s.name} forward ${this.level} space${this.level>1?"s":""}.`,type:"ability",player:this.parent,tiger:e}),this.superStartOfBattle(t,e)}}class SD extends w{constructor(t,e,i,s,r,o,a){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Iguana",this.tier=1,this.pack="Star",this.attack=1,this.health=3,this.initPet(o,s,r,a)}enemySummoned(t,e,i){null!=e&&e.alive&&(this.snipePet(e,this.level,!1,i),this.superEnemySummoned(t,e,i))}}class ED extends w{constructor(t,e,i,s,r,o,a){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Hummingbird",this.tier=1,this.pack="Star",this.attack=2,this.health=2,this.initPet(o,s,r,a)}startOfBattle(t,e){let i=this.parent.getRandomStrawberryPet(this);if(null==i)return;let s={attack:2*this.level,health:this.level};i.increaseHealth(s.health),i.increaseAttack(s.attack),this.logService.createLog({message:`${this.name} increased ${i.name}'s attack by ${s.attack} and health by ${s.health}.`,type:"ability",player:this.parent,tiger:e,randomEvent:!0}),this.superStartOfBattle(t,e)}}class wD extends w{constructor(t,e,i,s,r,o,a){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Koala",this.tier=2,this.pack="Star",this.attack=1,this.health=2,this.maxAbilityUses=1,this.initPet(o,s,r,a)}friendHurt(t,e,i){this.abilityUses>=this.maxAbilityUses&&!i||(e.increaseAttack(this.level),e.increaseHealth(this.level),this.logService.createLog({message:`${this.name} gave ${e.name} ${this.level} attack and ${this.level} health.`,type:"ability",player:this.parent,tiger:i}),this.abilityUses+=1,this.superFriendHurt(t,e,i))}}class CD extends w{constructor(t,e,i,s,r,o,a){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Yak",this.tier=2,this.pack="Star",this.attack=3,this.health=5,this.initPet(o,s,r,a)}}class DD extends w{constructor(t,e,i,s,r,o,a){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Salamander",this.tier=2,this.pack="Star",this.attack=2,this.health=4,this.initPet(o,s,r,a)}}class PD extends w{constructor(t,e,i,s,r,o,a){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Panda",this.tier=2,this.pack="Star",this.attack=2,this.health=4,this.initPet(o,s,r,a)}startOfBattle(t,e){let i=.5*this.level,s={attack:Math.floor(this.attack*i),health:Math.floor(this.health*i)},r=this.petAhead;null!=r&&(r.increaseAttack(s.attack),r.increaseHealth(s.health),this.logService.createLog({message:`${this.name} gave ${r.name} ${s.attack} attack and ${s.health} health.`,type:"ability",player:this.parent,tiger:e}),this.health=0,this.superStartOfBattle(t,e))}}class kD extends w{constructor(t,e,i,s,r,o,a){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Guinea Pig",this.tier=2,this.pack="Star",this.attack=1,this.health=1,this.initPet(o,s,r,a)}}class AD extends w{constructor(t,e,i,s,r,o,a){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Pug",this.tier=2,this.pack="Star",this.attack=5,this.health=2,this.initPet(o,s,r,a)}startOfBattle(t,e){if(null==this.petAhead)return;let i=this.level;this.logService.createLog({message:`${this.name} gave ${this.petAhead.name} ${i} exp.`,type:"ability",player:this.parent,tiger:e}),this.petAhead.increaseExp(i),this.superStartOfBattle(t,e)}}class TD extends w{constructor(t,e,i,s,r,o,a){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Jellyfish",this.tier=2,this.pack="Star",this.attack=2,this.health=3,this.initPet(o,s,r,a)}anyoneLevelUp(t,e,i){let s=this.level;this.increaseAttack(s),this.increaseHealth(s),this.logService.createLog({message:`${this.name} increased attack by ${s} and health by ${s}`,type:"ability",player:this.parent,tiger:i}),this.superAnyoneLevelUp(t,e,i)}}class xD extends w{constructor(t,e,i,s,r,o,a){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Atlantic Puffin",this.tier=2,this.pack="Star",this.attack=1,this.health=1,this.initPet(o,s,r,a)}startOfBattle(t,e){let i=this.parent.getPetsWithEquipment("Strawberry").filter(r=>r!==this),s=kt(t,this.parent);for(let r=0;r<this.level;r++)for(let o=0;o<i.length;o++){let a=s.getRandomPet();if(null==a)break;this.snipePet(a,2,!0,e)}this.superStartOfBattle(t,e)}}class MD extends w{constructor(t,e,i,s,r,o,a){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Dove",this.tier=2,this.pack="Star",this.attack=2,this.health=1,this.initPet(o,s,r,a)}faint(t,e,i){let s=this.parent.getPetsWithEquipment("Strawberry").filter(a=>a!==this&&a.alive);s=(0,Oe.shuffle)(s);let r=2*this.level,o=!1;if(s.length>2&&(o=!0),s.length>0){let a=s[0];a.increaseAttack(r),a.increaseHealth(r),this.logService.createLog({message:`${this.name} gave ${a.name} ${r} attack ${r} health.`,type:"ability",player:this.parent,tiger:e,randomEvent:o,pteranodon:i})}if(s.length>1){let a=s[1];a.increaseAttack(r),a.increaseHealth(r),this.logService.createLog({message:`${this.name} gave ${a.name} ${r} attack ${r} health.`,type:"ability",player:this.parent,tiger:e,randomEvent:o})}this.superFaint(t,e)}}class ID extends w{constructor(t,e,i,s,r,o,a,u){super(t,e,s),this.logService=t,this.abilityService=e,this.petService=i,this.name="Stork",this.tier=2,this.pack="Star",this.attack=2,this.health=1,this.initPet(a,r,o,u)}faint(t,e,i){let s,r=Math.max(1,t.previousShopTier-1);s=this.parent==t.player?t.playerPetPool.get(r):t.opponentPetPool.get(r);let o=s[Math.floor(Math.random()*s.length)];this.abilityService.setSpawnEvent({callback:()=>{let a=this.petService.createPet({name:o,attack:null,equipment:null,exp:this.minExpForLevel,health:null},this.parent);this.logService.createLog({message:`${this.name} spawned ${a.name} Level ${this.level}`,type:"ability",player:this.parent,tiger:e,randomEvent:!0,pteranodon:i}),this.parent.summonPet(a,this.savedPosition)&&this.abilityService.triggerSummonedEvents(a)},priority:this.attack}),this.superFaint(t,e)}}class OD extends w{constructor(t,e,i,s,r,o,a){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Leech",this.tier=3,this.pack="Star",this.attack=4,this.health=2,this.initPet(o,s,r,a)}}class RD extends w{constructor(t,e,i,s,r,o,a){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Woodpecker",this.tier=3,this.pack="Star",this.attack=4,this.health=3,this.uses=0,this.initPet(o,s,r,a)}startOfBattle(t,e){let i=this.parent.opponent;for(let s=0;s<this.level;s++){let o,r=this.petAhead;null==r?(r=i.furthestUpPet,o=null==r?void 0:r.petBehind()):(o=r.petAhead,null==o&&(o=i.furthestUpPet)),null!=r&&this.snipePet(r,2,!1,e),null!=o&&this.snipePet(o,2,!1,e)}this.superStartOfBattle(t,e)}}class ND extends w{constructor(t,e,i,s,r,o,a){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Toad",this.tier=3,this.pack="Star",this.attack=3,this.health=3,this.initPet(o,s,r,a)}enemyHurt(t,e,i){!e.alive||this.abilityUses>=this.maxAbilityUses||e.equipment instanceof hu||(e.givePetEquipment(new hu),this.abilityUses++,this.logService.createLog({message:`${this.name} gave ${e.name} Weak.`,type:"ability",player:this.parent,tiger:i}),this.enemyHurt(t,e,i))}setAbilityUses(){super.setAbilityUses(),this.maxAbilityUses=2*this.level}}class LD extends w{constructor(t,e,i,s,r,o,a){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Starfish",this.tier=3,this.pack="Star",this.attack=3,this.health=2,this.initPet(o,s,r,a)}}class FD extends w{constructor(t,e,i,s,r,o,a){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Clownfish",this.tier=3,this.pack="Star",this.attack=2,this.health=3,this.initPet(o,s,r,a)}anyoneLevelUp(t,e,i){if(e.parent!==this.parent)return;let s=2*this.level;e.increaseAttack(s),e.increaseHealth(s),this.logService.createLog({message:`${this.name} gave ${e.name} ${s} attack and ${s} health.`,type:"ability",player:this.parent,tiger:i}),this.superAnyoneLevelUp(t,e,i)}}class VD extends w{constructor(t,e,i,s,r,o,a){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Blobfish",this.tier=3,this.pack="Star",this.attack=2,this.health=4,this.initPet(o,s,r,a)}faint(t,e,i){let s=this.petBehind();if(null==s)return;let r=this.level;this.logService.createLog({message:`${this.name} gave ${s.name} ${r} attack and ${r} health.`,type:"ability",player:this.parent,tiger:e,pteranodon:i}),s.increaseAttack(r),s.increaseHealth(r),this.logService.createLog({message:`${this.name} gave ${s.name} ${r} exp.`,type:"ability",player:this.parent,tiger:e}),s.increaseExp(r),this.superFaint(t,e)}}class BD extends w{constructor(t,e,i,s,r,o,a){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Cabybara",this.tier=3,this.pack="Star",this.attack=2,this.health=5,this.initPet(o,s,r,a)}}class $D extends w{constructor(t,e,i,s,r,o,a){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Okapi",this.tier=3,this.pack="Star",this.attack=2,this.health=3,this.initPet(o,s,r,a)}}class HD extends w{constructor(t,e,i,s,r,o,a){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Cassowary",this.tier=3,this.pack="Star",this.attack=2,this.health=4,this.initPet(o,s,r,a)}}class yy extends w{constructor(t,e,i,s,r,o,a){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Orangutang",this.tier=4,this.pack="Star",this.attack=3,this.health=6,this.initPet(o,s,r,a)}}class qD extends w{constructor(t,e,i,s,r,o,a){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Eel",this.tier=4,this.pack="Star",this.attack=5,this.health=4,this.initPet(o,s,r,a)}startOfBattle(t,e){let i=.5*this.level;this.health=Math.min(50,Math.floor(this.health*(1+i))),this.logService.createLog({message:`${this.name} has gained ${100*i}% health. (${this.health})`,type:"ability",player:this.parent,tiger:e}),this.superStartOfBattle(t,e)}}class UD extends w{constructor(t,e,i,s,r,o,a){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Hawk",this.tier=4,this.pack="Star",this.attack=4,this.health=3,this.initPet(o,s,r,a)}startOfBattle(t,e){let i=this.parent.opponent,s=this.position,r=i.getPetAtPosition(this.position),o=1;for(;null==r&&o<5;)r=i.getPetAtPosition(s+o),null==r&&(r=i.getPetAtPosition(s-o)),o++;null!=r&&this.snipePet(r,7*this.level,!1,e)}}class GD extends w{constructor(t,e,i,s,r,o,a){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Platypus",this.tier=4,this.pack="Star",this.attack=5,this.health=2,this.initPet(o,s,r,a)}}class jD extends w{constructor(t,e,i,s,r,o,a){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Praying Mantis",this.tier=4,this.pack="Star",this.attack=7,this.health=2,this.initPet(o,s,r,a)}}class WD extends w{constructor(t,e,i,s,r,o,a){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Crow",this.tier=4,this.pack="Star",this.attack=3,this.health=3,this.initPet(o,s,r,a)}}class zD extends w{constructor(t,e,i,s,r,o,a){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Donkey",this.tier=4,this.pack="Star",this.attack=4,this.health=6,this.initPet(o,s,r,a)}friendFaints(t,e,i){if(this.abilityUses>=this.maxAbilityUses)return;let r=this.parent.opponent.getLastPet();null!=r&&(this.parent.pushPet(r,r.position),this.logService.createLog({message:`${this.name} pushed ${r.name} to the front.`,type:"ability",player:this.parent,tiger:i}),this.superFriendFaints(t,e,i),this.abilityUses++)}setAbilityUses(){super.setAbilityUses(),this.maxAbilityUses=this.level}}class KD extends w{constructor(t,e,i,s,r,o,a){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Pelican",this.tier=4,this.pack="Star",this.attack=2,this.health=3,this.initPet(o,s,r,a)}startOfBattle(t,e){let i=this.parent.getRandomStrawberryPet(this),s={attack:2*this.level,health:this.level};if(null==i)return;let r=this.parent.getPetsWithEquipment("Strawberry").filter(o=>o!=this).length>1;i.increaseAttack(s.attack),i.increaseHealth(s.health),this.logService.createLog({message:`${this.name} gave ${i.name} ${s.attack} attack and ${s.health} health.`,type:"ability",player:this.parent,tiger:e,randomEvent:r}),this.superStartOfBattle(t,e)}}class QD extends w{constructor(t,e,i,s,r,o,a){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Anteater",this.tier=4,this.pack="Star",this.attack=3,this.health=2,this.initPet(o,s,r,a)}faint(t,e,i){for(let s=0;s<2;s++)this.abilityService.setSpawnEvent({callback:()=>{let r=new ry(this.logService,this.abilityService,this.parent,null,null,this.minExpForLevel);this.logService.createLog({message:`${this.name} spawned Ant Level ${this.level}`,type:"ability",player:this.parent,tiger:e,pteranodon:i}),this.parent.summonPet(r,this.savedPosition)&&this.abilityService.triggerSummonedEvents(r)},priority:this.attack});super.superFaint(t,e)}}class ZD extends w{constructor(t,e,i,s,r,o,a){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Sword Fish",this.tier=5,this.pack="Star",this.attack=5,this.health=5,this.initPet(o,s,r,a)}startOfBattle(t,e){let s=this.parent.opponent.getHighestHealthPet(),r=s.pet,o=this.attack*this.level;null!=r&&this.snipePet(r,o,s.random,e),this.snipePet(this,o,!1,e),this.superStartOfBattle(t,e)}}class YD extends w{constructor(t,e,i,s,r,o,a){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Polar Bear",this.tier=5,this.pack="Star",this.attack=4,this.health=8,this.initPet(o,s,r,a)}}class JD extends w{constructor(t,e,i,s,r,o,a){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Siberian Huskey",this.tier=5,this.pack="Star",this.attack=4,this.health=3,this.initPet(o,s,r,a)}}class XD extends w{constructor(t,e,i,s,r,o,a){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Lion",this.tier=5,this.pack="Star",this.attack=6,this.health=6,this.initPet(o,s,r,a)}startOfBattle(t,e){let i=this.parent.petArray.filter(o=>o!==this),s=0;for(let o of i)o.tier>s&&(s=o.tier);let r=.5*this.level;this.tier<=s||(this.increaseAttack(Math.floor(this.attack*r)),this.increaseHealth(Math.floor(this.health*r)),this.logService.createLog({message:`${this.name} increased its attack and health by ${100*r}% (${this.attack}/${this.health})`,type:"ability",player:this.parent,tiger:e}),this.superStartOfBattle(t,e))}}class e0 extends w{constructor(t,e,i,s,r,o,a){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Triceratops",this.tier=5,this.pack="Star",this.attack=5,this.health=6,this.initPet(o,s,r,a)}hurt(t,e){let i=this.parent.getRandomPet([this]),s=3*this.level;null!=i&&(i.increaseAttack(s),i.increaseHealth(s),this.logService.createLog({message:`${this.name} gave ${i.name} ${s} attack and ${s} health.`,type:"ability",player:this.parent,tiger:e,randomEvent:!0}),this.superHurt(t,e))}}class t0 extends w{constructor(t,e,i,s,r,o,a){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Zebra",this.tier=5,this.pack="Star",this.attack=3,this.health=5,this.initPet(o,s,r,a)}}class n0 extends w{constructor(t,e,i,s,r,o,a){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Fox",this.tier=5,this.pack="Star",this.attack=5,this.health=3,this.initPet(o,s,r,a)}}class s0 extends w{constructor(t,e,i,s,r,o,a){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Hamster",this.tier=5,this.pack="Star",this.attack=2,this.health=4,this.initPet(o,s,r,a)}}class r0 extends w{constructor(t,e,i,s,r,o,a){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Shoebill",this.tier=5,this.pack="Star",this.attack=2,this.health=4,this.initPet(o,s,r,a)}}class o0 extends w{constructor(t,e,i,s,r,o,a){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Vulture",this.tier=5,this.pack="Star",this.attack=4,this.health=3,this.initPet(o,s,r,a)}friendFaints(t,e,i){if(i||this.abilityUses++,this.abilityUses%2==1)return;let r=this.parent.opponent.getRandomPet();null!=r&&(this.snipePet(r,4*this.level,!0,i),this.superFriendFaints(t,e,i))}}class a0 extends w{constructor(t,e,i,s,r,o,a){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Komodo",this.tier=6,this.pack="Star",this.attack=6,this.health=6,this.initPet(o,s,r,a)}}class l0 extends w{constructor(t,e,i,s,r,o,a){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Ostrich",this.tier=6,this.pack="Star",this.attack=2,this.health=8,this.initPet(o,s,r,a)}}class c0 extends w{constructor(t,e,i,s,r,o,a){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Reindeer",this.tier=6,this.pack="Star",this.attack=6,this.health=4,this.initPet(o,s,r,a)}beforeAttack(t,e){this.abilityUses>=this.maxAbilityUses||(this.givePetEquipment(new ll),this.abilityUses++,this.logService.createLog({message:`${this.name} gained Melon.`,type:"ability",player:this.parent,tiger:e}),this.superAfterAttack(t,e))}setAbilityUses(){super.setAbilityUses(),this.maxAbilityUses=this.level}}class u0 extends w{constructor(t,e,i,s,r,o,a){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Stegosaurus",this.tier=6,this.pack="Star",this.attack=3,this.health=8,this.initPet(o,s,r,a)}startOfBattle(t,e){let i=this.parent.getPetsWithEquipment(null).filter(o=>o!==this),s=i[Math.floor(Math.random()*i.length)];if(null==s)return;let r=this.level*t.turnNumber;s.increaseAttack(r),s.increaseHealth(r),this.logService.createLog({message:`${this.name} gave ${s.name} ${r} attack and ${r} health.`,type:"ability",player:this.parent,tiger:e,randomEvent:i.length>1}),this.superStartOfBattle(t,e)}}class h0 extends w{constructor(t,e,i,s,r,o,a){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Piranha",this.tier=6,this.pack="Star",this.attack=10,this.health=2,this.initPet(o,s,r,a)}hurt(t,e){let i=this.parent.petArray.filter(r=>r!==this&&r.alive),s=3*this.level;for(let r of i)r.increaseAttack(s),this.logService.createLog({message:`${this.name} gave ${r.name} ${s} attack.`,type:"ability",player:this.parent,tiger:e});this.superHurt(t,e)}}class d0 extends w{constructor(t,e,i,s,r,o,a){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Hammerhead Shark",this.tier=6,this.pack="Star",this.attack=5,this.health=5,this.initPet(o,s,r,a)}}class f0 extends w{constructor(t,e,i,s,r,o,a){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Velociraptor",this.tier=6,this.pack="Star",this.attack=3,this.health=2,this.initPet(o,s,r,a)}startOfBattle(t,e){let i=this.parent.getPetsWithEquipment("Strawberry").filter(r=>r!==this&&r.alive);i=(0,Oe.shuffle)(i);let s=[];for(let r=0;r<this.level&&null!=i[r];r++)s.push(i[r]);for(let r of s)r.givePetEquipment(new cl),this.logService.createLog({message:`${this.name} gave ${r.name} Coconut.`,type:"ability",player:this.parent,tiger:e,randomEvent:this.level<i.length})}}class p0 extends w{constructor(t,e,i,s,r,o,a,u){super(t,e,s),this.logService=t,this.abilityService=e,this.petService=i,this.name="Sabertooth Tiger",this.tier=6,this.pack="Star",this.attack=8,this.health=6,this.initPet(a,r,o,u)}hurt(t,e){let s,i=6*this.level;s=this.parent==t.player?t.playerPetPool.get(1):t.opponentPetPool.get(1);let r=s[Math.floor(Math.random()*s.length)];this.abilityService.setSpawnEvent({callback:()=>{let o=this.petService.createPet({name:r,attack:i,health:i,equipment:null,exp:0},this.parent);this.logService.createLog({message:`${this.name} spawned ${o.name} (${i}/${i}).`,type:"ability",player:this.parent,tiger:e,randomEvent:!0}),this.parent.summonPet(o,this.savedPosition)&&this.abilityService.triggerSummonedEvents(o)},priority:this.attack}),super.superHurt(t,e)}}class g0 extends w{constructor(t,e,i,s,r,o,a,u){super(t,e,s),this.logService=t,this.abilityService=e,this.petService=i,this.name="Orca",this.tier=6,this.pack="Star",this.attack=4,this.health=8,this.initPet(a,r,o,u)}faint(t,e,i){for(let s=0;s<this.level;s++){let r=this.petService.getRandomFaintPet(this.parent);this.abilityService.setSpawnEvent({callback:()=>{this.logService.createLog({message:`${this.name} spawned ${r.name}.`,type:"ability",player:this.parent,tiger:e,randomEvent:!0,pteranodon:i}),this.parent.summonPet(r,this.savedPosition)&&this.abilityService.triggerSummonedEvents(r)},priority:this.attack}),super.superFaint(t,e)}}}class m0 extends w{constructor(t,e,i,s,r,o,a){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Spinosaurus",this.tier=6,this.pack="Star",this.attack=4,this.health=8,this.initPet(o,s,r,a)}friendFaints(t,e,i){let s={attack:3*this.level,health:2*this.level},r=this.parent.getRandomPet([this]);null!=r&&(r.increaseAttack(s.attack),r.increaseHealth(s.health),this.logService.createLog({message:`${this.name} gave ${r.name} ${s.attack} attack and ${s.health} health.`,type:"ability",player:this.parent,tiger:i,randomEvent:!0}))}}class y0 extends w{constructor(t,e,i,s,r,o,a){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Bulldog",this.tier=1,this.pack="Golden",this.attack=1,this.health=3,this.initPet(o,s,r,a)}afterAttack(t,e){!this.alive||(this.attack=Math.min(50,this.health+this.level),this.logService.createLog({message:`${this.name} attack is set to ${this.attack}.`,type:"ability",player:this.parent,tiger:e}),this.superAfterAttack(t,e))}}class vy extends w{constructor(t,e,i,s,r,o,a){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Groundhog",this.tier=1,this.pack="Golden",this.attack=2,this.health=1,this.initPet(o,s,r,a)}faint(t,e,i){this.parent.gainTrumpets(this.level,this,i),this.superFaint(t,e)}}class v0 extends w{constructor(t,e,i,s,r,o,a){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Cone Snail",this.tier=1,this.pack="Golden",this.attack=1,this.health=2,this.initPet(o,s,r,a)}startOfBattle(t,e){let i=this.petBehind();if(null==i)return;let s=2*this.level;i.increaseHealth(s),this.logService.createLog({message:`${this.name} gave ${i.name} ${s} health.`,type:"ability",player:this.parent,tiger:e}),this.superStartOfBattle(t,e)}}class _0 extends w{constructor(t,e,i,s,r,o,a){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Goose",this.tier=1,this.pack="Golden",this.attack=2,this.health=2,this.initPet(o,s,r,a)}startOfBattle(t,e){let i=this.parent.opponent.furthestUpPet;if(null==i)return;let s=this.level;i.increaseAttack(-this.level),this.logService.createLog({message:`${this.name} removed ${s} attack from ${i.name}.`,type:"ability",player:this.parent,tiger:e}),this.superStartOfBattle(t,e)}}class b0 extends w{constructor(t,e,i,s,r,o,a){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Pied Tamarin",this.tier=1,this.pack="Golden",this.attack=1,this.health=2,this.initPet(o,s,r,a)}faint(t,e,i){if(this.parent.trumpets<1)return;let s=!1;for(let r=0;r<this.level;r++){let o=this.parent.opponent.getRandomPet();if(null==o)break;s=!0,this.snipePet(o,3,!0,e,i)}s&&this.parent.spendTrumpets(1,this,i)}}class S0 extends w{constructor(t,e,i,s,r,o,a){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Opposum",this.tier=1,this.pack="Golden",this.attack=2,this.health=3,this.initPet(o,s,r,a)}}class E0 extends w{constructor(t,e,i,s,r,o,a){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Silkmoth",this.tier=1,this.pack="Golden",this.attack=3,this.health=1,this.maxAbilityUses=2,this.initPet(o,s,r,a)}friendHurt(t,e,i){if(this.abilityUses>=this.maxAbilityUses||e!=this.petAhead||!e.alive)return;let s=this.level;e.increaseHealth(s),this.logService.createLog({message:`${this.name} gave ${e.name} ${s} health.`,type:"ability",player:this.parent,tiger:i}),this.abilityUses++,this.superFriendHurt(t,e,i)}}class w0 extends w{constructor(t,e,i,s,r,o,a){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Magpie",this.tier=1,this.pack="Golden",this.attack=1,this.health=4,this.initPet(o,s,r,a)}}class C0 extends w{constructor(t,e,i,s,r,o,a){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Hercules Beetle",this.tier=2,this.pack="Golden",this.attack=3,this.health=4,this.initPet(o,s,r,a)}}class D0 extends w{constructor(t,e,i,s,r,o,a){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Stoat",this.tier=2,this.pack="Golden",this.attack=2,this.health=2,this.initPet(o,s,r,a)}}class P0 extends w{constructor(t,e,i,s,r,o,a){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Black Necked Stilt",this.tier=2,this.pack="Golden",this.attack=3,this.health=2,this.initPet(o,s,r,a)}faint(t,e,i){this.parent.gainTrumpets(2*this.level,this,i),this.superFaint(t,e)}}class XI extends ze{constructor(){super(...arguments),this.name="Ink",this.equipmentClass="ailment-attack",this.power=-3}}class k0 extends w{constructor(t,e,i,s,r,o,a){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Squid",this.tier=2,this.pack="Golden",this.attack=5,this.health=2,this.initPet(o,s,r,a)}faint(t,e,i){if(this.parent.trumpets<1)return;let s=!1,r=this.parent.opponent.petArray.filter(o=>{var a;return o.health>0&&"Ink"!=(null===(a=o.equipment)||void 0===a?void 0:a.name)});for(let o=0;o<this.level;o++){let a=r[o];if(null==a)break;s=!0,a.givePetEquipment(new XI),this.logService.createLog({message:`${this.name} gave ${a.name} Ink.`,type:"ability",player:this.parent,tiger:e,pteranodon:i})}s&&this.parent.spendTrumpets(1,this,i),this.superFaint(t,e)}}class A0 extends w{constructor(t,e,i,s,r,o,a){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Sea Urchin",this.tier=2,this.pack="Golden",this.attack=3,this.health=2,this.initPet(o,s,r,a)}faint(t,e,i){let s=[this.parent.opponent.furthestUpPet];if(null!=s[0]){for(let r=0;r<this.level-1;r++){let a=s[r].petBehind();if(null==a)break;s.push(a)}for(let r of s)r.increaseHealth(-5),this.logService.createLog({message:`${this.name} removed 5 health from ${r.name}.`,type:"ability",player:this.parent,tiger:e,pteranodon:i});this.superFaint(t,e)}}}class T0 extends w{constructor(t,e,i,s,r,o,a){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Door Head Ant",this.tier=2,this.pack="Golden",this.attack=2,this.health=2,this.initPet(o,s,r,a)}emptyFrontSpace(t,e){if(null!=this.parent.pet0)return;this.parent.pushPetToFront(this),this.logService.createLog({message:`${this.name} pushed itself to the front.`,type:"ability",player:this.parent,tiger:e});let i=4*this.level;this.increaseHealth(i),this.logService.createLog({message:`${this.name} gained ${i} health.`,type:"ability",player:this.parent,tiger:e})}}class _y extends w{constructor(t,e,i,s,r,o,a){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Lizard Tail",this.tier=1,this.pack="Golden",this.hidden=!0,this.attack=3,this.health=1,this.initPet(o,s,r,a)}}class x0 extends w{constructor(t,e,i,s,r,o,a){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Lizard",this.tier=2,this.pack="Golden",this.attack=1,this.health=3,this.maxAbilityUses=2,this.initPet(o,s,r,a)}hurt(t,e){this.abilityUses>=this.maxAbilityUses||(this.abilityService.setSpawnEvent({callback:()=>{let i=new _y(this.logService,this.abilityService,this.parent,null,null,this.minExpForLevel);this.logService.createLog({message:`${this.name} spawned Liazrd Tail Level ${this.level}`,type:"ability",player:this.parent,tiger:e}),this.parent.summonPet(i,this.savedPosition)&&this.abilityService.triggerSummonedEvents(i)},priority:this.attack}),this.abilityUses++,super.superFaint(t,e))}}class M0 extends w{constructor(t,e,i,s,r,o,a){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Sea Turtle",this.tier=2,this.pack="Golden",this.attack=2,this.health=5,this.initPet(o,s,r,a)}friendSummoned(t,e){let i=3*this.level;t.increaseHealth(i),this.logService.createLog({message:`${this.name} gave ${t.name} ${i} health.`,type:"ability",player:this.parent,tiger:e}),this.superFriendSummoned(t,e)}}class I0 extends w{constructor(t,e,i,s,r,o,a){super(t,e,i),this.logService=t,this.abilityService=e,this.name="African Penguin",this.tier=2,this.pack="Golden",this.attack=1,this.health=3,this.initPet(o,s,r,a)}}class O0 extends w{constructor(t,e,i,s,r,o,a){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Musk Ox",this.tier=3,this.pack="Golden",this.attack=2,this.health=4,this.initPet(o,s,r,a)}friendAheadFaints(t,e){let i={attack:this.level,health:2*this.level};this.increaseAttack(i.attack),this.increaseHealth(i.health),this.logService.createLog({message:`${this.name} gained ${i.attack} attack and ${i.health} health.`,type:"ability",player:this.parent,tiger:e}),this.superFriendAheadFaints(t,e)}}class R0 extends w{constructor(t,e,i,s,r,o,a){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Flea",this.tier=3,this.pack="Golden",this.attack=3,this.health=1,this.initPet(o,s,r,a)}faint(t,e,i){let s=(0,Oe.clone)(this.parent.opponent.petArray);(0,Oe.shuffle)(s),s=s.sort((r,o)=>r.health>o.health?-1:o.health>r.health?1:0).filter(r=>{var o;return"Weak"!=(null===(o=r.equipment)||void 0===o?void 0:o.name)});for(let r=0;r<this.level;r++){let o=s[r];if(null==o)break;o.givePetEquipment(new hu),this.logService.createLog({message:`${this.name} gave ${o.name} Weak.`,type:"ability",player:this.parent,tiger:e,pteranodon:i})}this.superFaint(t,e)}}class N0 extends w{constructor(t,e,i,s,r,o,a){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Surgeon Fish",this.tier=3,this.pack="Golden",this.attack=3,this.health=3,this.initPet(o,s,r,a)}beforeAttack(t,e){let i=this.petBehind();if(null==i||this.parent.trumpets<2)return;this.parent.spendTrumpets(2,this);let s=6*this.level;i.increaseHealth(s),this.logService.createLog({message:`${this.name} gave ${i.name} ${s} health.`,type:"ability",player:this.parent,tiger:e}),this.superBeforeAttack(t,e)}}class L0 extends w{constructor(t,e,i,s,r,o,a){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Weasel",this.tier=3,this.pack="Golden",this.attack=3,this.health=4,this.initPet(o,s,r,a)}faint(t,e,i){this.logService.createLog({message:`${this.name} gained ${this.level} Gold.`,type:"ability",player:this.parent,tiger:e,pteranodon:i}),this.superFaint(t,e)}}class F0 extends w{constructor(t,e,i,s,r,o,a){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Guineafowl",this.tier=3,this.pack="Golden",this.attack=2,this.health=4,this.initPet(o,s,r,a)}hurt(t,e){this.parent.gainTrumpets(2*this.level,this),this.superHurt(t,e)}}class V0 extends w{constructor(t,e,i,s,r,o,a){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Betta Fish",this.tier=3,this.pack="Golden",this.attack=2,this.health=3,this.initPet(o,s,r,a)}faint(t,e,i){let s=this.petBehind();if(null==s)return;let r={health:2*this.level,attack:4*this.level};s.increaseAttack(r.attack),s.increaseHealth(r.health),this.logService.createLog({message:`${this.name} gave ${s.name} ${r.attack} attack and ${r.health} health.`,type:"ability",player:this.parent,tiger:e,pteranodon:i}),this.superFaint(t,e)}}class B0 extends w{constructor(t,e,i,s,r,o,a){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Meerkat",this.tier=3,this.pack="Golden",this.attack=1,this.health=3,this.initPet(o,s,r,a)}startOfBattle(t,e){let i;i=this.parent==t.player?t.playerGoldSpent:t.opponentGoldSpent;let s=Math.floor(i/3)*this.level,r=this.petAhead,o=this.petBehind();null!=r&&(r.increaseAttack(s),this.logService.createLog({message:`${this.name} gave ${r.name} ${s} attack.`,type:"ability",player:this.parent,tiger:e})),null!=o&&(o.increaseAttack(s),this.logService.createLog({message:`${this.name} gave ${o.name} ${s} attack.`,type:"ability",player:this.parent,tiger:e})),this.superFaint(t,e)}}class $0 extends w{constructor(t,e,i,s,r,o,a){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Flying Fish",this.tier=3,this.pack="Golden",this.attack=1,this.health=2,this.maxAbilityUses=2,this.initPet(o,s,r,a)}friendSummoned(t,e){if(this.abilityUses>=this.maxAbilityUses)return;let i=2*this.level;this.logService.createLog({message:`${this.name} gave ${t.name} ${i} exp.`,type:"ability",player:this.parent,tiger:e}),t.increaseExp(i),this.abilityUses++,this.superFriendSummoned(t,e)}}class H0 extends w{constructor(t,e,i,s,r,o,a){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Baboon",this.tier=3,this.pack="Golden",this.attack=1,this.health=2,this.initPet(o,s,r,a)}}class q0 extends w{constructor(t,e,i,s,r,o,a){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Osprey",this.tier=3,this.pack="Golden",this.attack=3,this.health=3,this.initPet(o,s,r,a)}faint(t,e,i){for(let s=0;s<this.level;s++)this.abilityService.setSpawnEvent({callback:()=>{let r=new vy(this.logService,this.abilityService,this.parent,null,null,0);this.logService.createLog({message:`${this.name} summoned a 2/1 Groundhog`,type:"ability",player:this.parent,tiger:e,pteranodon:i}),this.parent.summonPet(r,this.savedPosition)&&this.abilityService.triggerSummonedEvents(r)},priority:this.attack});super.superFaint(t,e)}}class U0 extends w{constructor(t,e,i,s,r,o,a){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Manatee",this.tier=4,this.pack="Golden",this.attack=2,this.health=11,this.initPet(o,s,r,a)}}class G0 extends w{constructor(t,e,i,s,r,o,a){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Cuttlefish",this.tier=4,this.pack="Golden",this.attack=8,this.health=4,this.initPet(o,s,r,a)}faint(t,e,i){let s=this.parent.opponent.petArray,r=[];for(let o=0;o<this.level;o++){let a=s[s.length-(o+1)];if(null==a)break;r.push(a)}for(let o of r)o.givePetEquipment(new XI),this.logService.createLog({message:`${this.name} gave ${o.name} Ink.`,type:"ability",player:this.parent,tiger:e,pteranodon:i});this.superFaint(t,e)}}class j0 extends w{constructor(t,e,i,s,r,o,a){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Egyptian Vulture",this.tier=4,this.pack="Golden",this.attack=5,this.health=4,this.initPet(o,s,r,a)}knockOut(t,e,i){if(this.abilityUses>=this.maxAbilityUses)return;let s=this.petBehind();null!=s&&null!=s.faint&&(this.logService.createLog({message:`${this.name} activated ${s.name}'s ability.`,type:"ability",player:this.parent,tiger:i}),s.faint(t,!1))}setAbilityUses(){super.setAbilityUses(),this.maxAbilityUses=this.level}}class W0 extends w{constructor(t,e,i,s,r,o,a){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Saiga Antelope",this.tier=4,this.pack="Golden",this.attack=4,this.health=3,this.initPet(o,s,r,a)}friendFaints(t,e,i){!this.alive||this.parent.gainTrumpets(this.level,this)}}class z0 extends w{constructor(t,e,i,s,r,o,a){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Sealion",this.tier=4,this.pack="Golden",this.attack=3,this.health=6,this.initPet(o,s,r,a)}}class K0 extends w{constructor(t,e,i,s,r,o,a){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Vaquita",this.tier=4,this.pack="Golden",this.attack=3,this.health=4,this.initPet(o,s,r,a)}faint(t,e,i){let s=Math.floor(.5*this.level*this.parent.trumpets);this.parent.gainTrumpets(s,this,i)}}class by extends w{constructor(t,e,i,s,r,o,a){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Smallest Slug",this.tier=1,this.pack="Golden",this.hidden=!0,this.health=1,this.attack=1,this.initPet(o,s,r,a)}}class Sy extends w{constructor(t,e,i,s,r,o,a){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Smaller Slug",this.tier=1,this.pack="Golden",this.hidden=!0,this.health=2,this.attack=2,this.initPet(o,s,r,a)}faint(t,e,i){this.abilityService.setSpawnEvent({callback:()=>{let s=new by(this.logService,this.abilityService,this.parent,null,null,this.minExpForLevel);this.logService.createLog({message:`${this.name} spawned Smallest Slug Level ${this.level}`,type:"ability",player:this.parent,tiger:e,pteranodon:i}),this.parent.summonPet(s,this.savedPosition)&&this.abilityService.triggerSummonedEvents(s)},priority:this.attack}),super.superFaint(t,e)}}class Q0 extends w{constructor(t,e,i,s,r,o,a){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Slug",this.tier=4,this.pack="Golden",this.attack=4,this.health=4,this.initPet(o,s,r,a)}faint(t,e,i){this.abilityService.setSpawnEvent({callback:()=>{let s=new Sy(this.logService,this.abilityService,this.parent,null,null,this.minExpForLevel);this.logService.createLog({message:`${this.name} spawned Smaller Slug Level ${this.level}`,type:"ability",player:this.parent,tiger:e,pteranodon:i}),this.parent.summonPet(s,this.savedPosition)&&this.abilityService.triggerSummonedEvents(s)},priority:this.attack}),super.superFaint(t,e)}}class Z0 extends w{constructor(t,e,i,s,r,o,a){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Poison Dart Frog",this.tier=4,this.pack="Golden",this.attack=5,this.health=2,this.initPet(o,s,r,a)}friendAheadFaints(t,e){let i=this.parent.opponent.getHighestHealthPet(),s=i.pet;null!=s&&this.snipePet(s,3*this.level,i.random,e)}}class Y0 extends w{constructor(t,e,i,s,r,o,a){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Secretary Bird",this.tier=4,this.pack="Golden",this.attack=2,this.health=5,this.initPet(o,s,r,a)}friendFaints(t,e,i){if(i||this.abilityUses++,this.abilityUses%2==1)return;let s=this.petAhead;if(null==s)return;let r=3*this.level;s.increaseAttack(r),s.increaseHealth(r),this.logService.createLog({message:`${this.name} gave ${s.name} ${r} attack and ${r} health.`,type:"ability",player:this.parent,tiger:i}),this.superFriendFaints(t,e,i)}}class J0 extends w{constructor(t,e,i,s,r,o,a){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Royal Flycatcher",this.tier=3,this.pack="Golden",this.attack=2,this.health=4,this.initPet(o,s,r,a)}enemySummoned(t,e,i){let s=this.parent.opponent.getRandomPet();null!=s&&(this.snipePet(s,3*this.level,!0,i),this.superEnemySummoned(t,e,i))}}class X0 extends w{constructor(t,e,i,s,r,o,a,u){super(t,e,s),this.logService=t,this.abilityService=e,this.petService=i,this.name="Falcon",this.tier=4,this.pack="Golden",this.attack=5,this.health=5,this.maxAbilityUses=3,this.initPet(a,r,o,u)}knockOut(t,e,i){this.abilityUses>=this.maxAbilityUses||(this.abilityService.setSpawnEvent({callback:()=>{let s=3*this.level,r=this.petService.createPet({attack:s,health:s,name:e.name,exp:this.minExpForLevel,equipment:null},this.parent);this.logService.createLog({message:`${this.name} spawned ${r.name} ${s}/${s} Level ${this.level}`,type:"ability",player:this.parent,tiger:i}),this.parent.summonPet(r,this.savedPosition)&&this.abilityService.triggerSummonedEvents(r)},priority:this.attack}),this.abilityUses++,super.superKnockOut(t,e,i))}}class eP extends w{constructor(t,e,i,s,r,o,a){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Manta Ray",this.tier=4,this.pack="Golden",this.attack=5,this.health=4,this.initPet(o,s,r,a)}}class tP extends w{constructor(t,e,i,s,r,o,a){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Macaque",this.tier=5,this.pack="Golden",this.attack=2,this.health=2,this.initPet(o,s,r,a)}startOfBattle(t,e){let i=12*this.level,s=new yy(this.logService,this.abilityService,this.parent,i,i,this.minExpForLevel,(0,Oe.cloneDeep)(this.equipment)),r=`${this.name} spawned Orangutang ${s.attack}/${s.health}`;null!=this.equipment&&(r+=` with ${this.equipment.name}`),r+=".",this.logService.createLog({message:r,type:"ability",player:this.parent,tiger:e}),this.parent.summonPet(s,this.position)&&this.abilityService.triggerSummonedEvents(s),this.superStartOfBattle(t,e)}}class nP extends w{constructor(t,e,i,s,r,o,a){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Nyala",this.tier=5,this.pack="Golden",this.attack=3,this.health=4,this.initPet(o,s,r,a)}faint(t,e,i){this.parent.gainTrumpets(8*this.level,this,i),this.superFaint(t,e)}}class iP extends w{constructor(t,e,i,s,r,o,a){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Nurse Shark",this.tier=5,this.pack="Golden",this.attack=4,this.health=6,this.initPet(o,s,r,a)}faint(t,e,i){if(0==this.parent.trumpets)return;let s=3*Math.min(this.parent.trumpets,6),r=!1,o=(0,Oe.shuffle)((0,Oe.clone)(this.parent.opponent.petArray));for(let a=0;a<this.level;a++){let u=o[a];if(null==u)break;r=!0,this.snipePet(u,s,!0,e,i)}r&&this.parent.spendTrumpets(Math.min(this.parent.trumpets,6),this,i),this.superFaint(t,e)}}class sP extends w{constructor(t,e,i,s,r,o,a,u){super(t,e,s),this.logService=t,this.abilityService=e,this.petService=i,this.name="Beluga Whale",this.tier=5,this.pack="Golden",this.attack=3,this.health=8,this.initPet(a,r,o,u)}faint(t,e,i){null!=this.belugaSwallowedPet&&(this.abilityService.setSpawnEvent({callback:()=>{let s=this.petService.createPet({attack:null,equipment:null,exp:this.minExpForLevel,health:null,name:this.belugaSwallowedPet},this.parent);this.logService.createLog({message:`${this.name} spawned ${s.name} Level ${this.level}`,type:"ability",player:this.parent,tiger:e,pteranodon:i}),this.parent.summonPet(s,this.savedPosition)&&this.abilityService.triggerSummonedEvents(s)},priority:this.attack}),super.superFaint(t,e))}}class rP extends w{constructor(t,e,i,s,r,o,a,u){super(t,e,s),this.logService=t,this.abilityService=e,this.petService=i,this.name="Wolf",this.tier=5,this.pack="Golden",this.attack=4,this.health=4,this.initPet(a,r,o,u)}faint(t,e,i){let s={attack:3*this.level,health:2*this.level};for(let r=0;r<3;r++)this.abilityService.setSpawnEvent({callback:()=>{let o=this.petService.createPet({attack:s.attack,equipment:null,exp:this.minExpForLevel,health:s.health,name:"Pig"},this.parent);this.logService.createLog({message:`${this.name} spawned ${o.name} ${s.attack}/${s.health}`,type:"ability",player:this.parent,tiger:e,pteranodon:i}),this.parent.summonPet(o,this.savedPosition)&&this.abilityService.triggerSummonedEvents(o)},priority:this.attack});this.superFaint(t,e)}}class oP extends w{constructor(t,e,i,s,r,o,a){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Silver Fox",this.tier=5,this.pack="Golden",this.attack=3,this.health=6,this.initPet(o,s,r,a)}beforeAttack(t,e){this.logService.createLog({message:`${this.name} gained ${this.level} Gold.`,type:"ability",player:this.parent,tiger:e}),this.superBeforeAttack(t,e)}}class aP extends w{constructor(t,e,i,s,r,o,a){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Fire Ant",this.tier=5,this.pack="Golden",this.attack=6,this.health=3,this.initPet(o,s,r,a)}faint(t,e,i){let s=(0,Oe.shuffle)(this.parent.petArray.filter(r=>r!=this));for(let r=0;r<this.level;r++){let o=s[r];if(null==o)break;o.increaseAttack(this.attack),this.logService.createLog({message:`${this.name} gave ${o.name} ${this.attack} attack.`,type:"ability",player:this.parent,tiger:e,randomEvent:!0,pteranodon:i})}super.superFaint(t,e)}}class lP extends w{constructor(t,e,i,s,r,o,a){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Cockatoo",this.tier=5,this.pack="Golden",this.attack=4,this.health=2,this.initPet(o,s,r,a)}}class cP extends w{constructor(t,e,i,s,r,o,a){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Blue Ringed Octopus",this.tier=5,this.pack="Golden",this.attack=2,this.health=4,this.initPet(o,s,r,a)}}class uP extends w{constructor(t,e,i,s,r,o,a){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Crane",this.tier=5,this.pack="Golden",this.attack=9,this.health=2,this.initPet(o,s,r,a)}friendHurt(t,e,i){e==this.petAhead&&(this.abilityUses>=this.maxAbilityUses||(this.petAhead.increaseAttack(5),this.logService.createLog({message:`${this.name} gave ${this.petAhead.name} 5 attack.`,type:"ability",player:this.parent,tiger:i}),this.petAhead.givePetEquipment(new ll),this.logService.createLog({message:`${this.name} gave ${this.petAhead.name} a Melon.`,type:"ability",player:this.parent,tiger:i}),this.abilityUses++,this.superFriendHurt(t,e,i)))}setAbilityUses(){super.setAbilityUses(),this.maxAbilityUses=this.level}}class hP extends w{constructor(t,e,i,s,r,o,a){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Emu",this.tier=5,this.pack="Golden",this.attack=3,this.health=4,this.initPet(o,s,r,a)}emptyFrontSpace(t,e){let i=this.petAhead;if(!i||null!=this.parent.pet0)return;this.parent.pushPet(i,4),this.logService.createLog({message:`${this.name} pushed ${i.name} to the front.`,type:"ability",player:this.parent,tiger:e});let s=4*this.level;i.increaseHealth(s),this.logService.createLog({message:`${this.name} gave ${i.name} ${s} health.`,type:"ability",player:this.parent,tiger:e})}}class dP extends w{constructor(t,e,i,s,r,o,a){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Wildebeast",this.tier=6,this.pack="Golden",this.attack=8,this.health=6,this.initPet(o,s,r,a)}beforeAttack(t,e){this.parent.trumpets<4||this.abilityUses>=this.maxAbilityUses||(this.givePetEquipment(new cl),this.logService.createLog({message:`${this.name} gave itself a Coconut.`,type:"ability",player:this.parent,tiger:e}),this.parent.spendTrumpets(4,this),this.abilityUses++)}setAbilityUses(){super.setAbilityUses(),this.maxAbilityUses=this.level}}class fP extends w{constructor(t,e,i,s,r,o,a){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Highland Cow",this.tier=6,this.pack="Golden",this.attack=4,this.health=12,this.initPet(o,s,r,a)}startOfBattle(t,e){let i=Math.floor(this.health/3*this.level);this.parent.gainTrumpets(i,this)}}class pP extends w{constructor(t,e,i,s,r,o,a){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Catfish",this.tier=6,this.pack="Golden",this.attack=3,this.health=3,this.initPet(o,s,r,a)}}class gP extends w{constructor(t,e,i,s,r,o,a){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Pteranodon",this.tier=6,this.pack="Golden",this.attack=5,this.health=3,this.initPet(o,s,r,a)}friendFaints(t,e,i){null!=e.faint&&(this.abilityUses>=this.maxAbilityUses||(e.faint(t,!1,!0),this.abilityUses++))}setAbilityUses(){super.setAbilityUses(),this.maxAbilityUses=this.level}}class mP extends w{constructor(t,e,i,s,r,o,a){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Warthog",this.tier=6,this.pack="Golden",this.attack=9,this.health=6,this.initPet(o,s,r,a)}faint(t,e,i){let s=this.level,r=Math.floor(this.attack/3);for(let o=0;o<r;o++){let a=this.parent.getRandomPet();if(null==a)break;a.increaseAttack(s),a.increaseHealth(s),this.logService.createLog({message:`${this.name} gave ${a.name} ${s} attack and ${s} health.`,type:"ability",player:this.parent,tiger:e,pteranodon:i,randomEvent:!0})}}}class yP extends w{constructor(t,e,i,s,r,o,a){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Cobra",this.tier=6,this.pack="Golden",this.attack=12,this.health=6,this.initPet(o,s,r,a)}friendAheadAttacks(t,e){let i=this.parent.opponent.getRandomPet();if(null==i)return;let s=Math.floor(.2*this.attack*this.level);this.snipePet(i,s,!0,e)}}class vP extends w{constructor(t,e,i,s,r,o,a){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Grizzly Bear",this.tier=6,this.pack="Golden",this.attack=6,this.health=6,this.initPet(o,s,r,a)}friendAttacks(t,e){if(e||this.abilityUses++,this.abilityUses%5!=0)return;let i=(0,Oe.shuffle)(this.parent.opponent.petArray),s=6*this.level;for(let r=0;r<2;r++){let o=i[r];if(null==o)break;this.snipePet(o,s,!0,e)}this.superFriendAttacks(t,e)}}class _P extends w{constructor(t,e,i,s,r,o,a){super(t,e,i),this.logService=t,this.abilityService=e,this.name="German Shephard",this.tier=6,this.pack="Golden",this.attack=10,this.health=4,this.initPet(o,s,r,a)}friendSummoned(t,e){let i=Math.floor(this.attack*this.level*.25);t.increaseAttack(i),this.logService.createLog({message:`${this.name} gave ${t.name} ${i} attack.`,type:"ability",player:this.parent,tiger:e})}}class bP extends w{constructor(t,e,i,s,r,o,a){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Bird of Paradise",this.tier=6,this.pack="Golden",this.attack=3,this.health=3,this.initPet(o,s,r,a)}}class SP extends w{constructor(t,e,i,s,r,o,a){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Oyster",this.tier=6,this.pack="Golden",this.attack=2,this.health=10,this.initPet(o,s,r,a)}}let Ey=(()=>{class n{constructor(){this.logs=[]}createLog(e){e.tiger&&(e.message+=" (Tiger)"),e.puma&&(e.message+=" (Puma)"),e.pteranodon&&(e.message+=" (Pteranodon)"),null!=e.pantherMultiplier&&e.pantherMultiplier>1&&(e.message+=` x${e.pantherMultiplier} (Panther)`),this.logs.push(e)}getLogs(){return this.logs}reset(){this.logs=[]}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=ne({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),du=(()=>{class n{constructor(){}init(e,i){this.gameApi={player:e,opponet:i}}setTierGroupPets(e,i){null!=e&&(this.gameApi.playerPetPool=e),null!=i&&(this.gameApi.opponentPetPool=i)}setPreviousShopTier(e){this.gameApi.previousShopTier=e}setTurnNumber(e){this.gameApi.turnNumber=e}setGoldSpent(e,i){null!=e&&(this.gameApi.playerGoldSpent=e),null!=i&&(this.gameApi.opponentGoldSpent=i)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=ne({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),wy=(()=>{class n{constructor(e){this.gameService=e,this.startOfBattleEvents=[],this.hurtEvents=[],this.faintEvents=[],this.summonedEvents=[],this.friendFaintsEvents=[],this.spawnEvents=[],this.friendAheadAttacksEvents=[],this.afterAttackEvents=[],this.friendAheadFaintsEvents=[],this.knockOutEvents=[],this.beforeAttackEvents=[],this.equipmentBeforeAttackEvents=[],this.friendGainedPerkEvents=[],this.friendGainedAilmentEvents=[],this.friendlyToyBrokeEvents=[],this.transformEvents=[],this.enemySummonedEvents=[],this.friendHurtEvents=[],this.levelUpEvents=[],this.enemyHurtEvents=[],this.emptyFrontSpaceEvents=[],this.friendAttacksEvents=[]}get hasAbilityCycleEvents(){return this.hasFaintEvents||this.hasSummonedEvents||this.hasHurtEvents||this.hasEquipmentBeforeAttackEvents||this.hasFriendHurtEvents||this.hasEnemyHurtEvents||this.hasKnockOutEvents||this.hasEmptyFrontSpaceEvents}initEndTurnEvents(e){let i=[];for(let s of e.petArray)s.endTurn&&i.push({callback:s.endTurn.bind(s),priority:s.attack,player:e});i=(0,Oe.shuffle)(i),i.sort((s,r)=>s.priority>r.priority?-1:s.priority<r.priority?1:0);for(let s of i)s.callback(this.gameService.gameApi)}initStartOfBattleEvents(){this.gameApi=this.gameService.gameApi;for(let e of this.gameApi.player.petArray)null!=e.startOfBattle&&this.startOfBattleEvents.push({callback:()=>{e.startOfBattle(this.gameApi)},priority:e.attack,player:this.gameApi.player});for(let e of this.gameApi.opponet.petArray)null!=e.startOfBattle&&this.startOfBattleEvents.push({callback:()=>{e.startOfBattle(this.gameApi)},priority:e.attack,player:this.gameApi.opponet});this.executeStartOfBattleEvents()}setStartOfBattleEvent(e){this.startOfBattleEvents.push(e)}resetStartOfBattleEvents(){this.startOfBattleEvents=[]}executeStartOfBattleEvents(){this.startOfBattleEvents=(0,Oe.shuffle)(this.startOfBattleEvents),this.startOfBattleEvents.sort((e,i)=>e.priority>i.priority?-1:e.priority<i.priority?1:0);for(let e of this.startOfBattleEvents)e.callback(this.gameService.gameApi);this.resetStartOfBattleEvents()}setHurtEvent(e){this.hurtEvents.push(e)}resetHurtEvents(){this.hurtEvents=[]}executeHurtEvents(){this.hurtEvents=(0,Oe.shuffle)(this.hurtEvents),this.hurtEvents.sort((e,i)=>e.priority>i.priority?-1:e.priority<i.priority?1:0);for(let e of this.hurtEvents)e.callback(this.gameService.gameApi);this.resetHurtEvents()}get hasHurtEvents(){return this.hurtEvents.length>0}setFaintEvent(e){this.faintEvents.push(e)}resetFaintEvents(){this.faintEvents=[]}executeFaintEvents(){this.faintEvents=(0,Oe.shuffle)(this.faintEvents),this.faintEvents.sort((e,i)=>e.priority>i.priority?-1:e.priority<i.priority?1:0);for(let e of this.faintEvents)e.callback(this.gameService.gameApi);this.resetFaintEvents()}get hasFaintEvents(){return this.faintEvents.length>0}triggerSummonedEvents(e){for(let i of e.parent.petArray)null!=i.friendSummoned&&this.setSummonedEvent({callback:()=>{i.friendSummoned(e)},priority:i.attack})}setSummonedEvent(e){this.summonedEvents.push(e)}resetSummonedEvents(){this.summonedEvents=[]}executeSummonedEvents(){this.summonedEvents=(0,Oe.shuffle)(this.summonedEvents),this.summonedEvents.sort((e,i)=>e.priority>i.priority?-1:e.priority<i.priority?1:0);for(let e of this.summonedEvents)e.callback();this.resetSummonedEvents()}get hasSummonedEvents(){return this.summonedEvents.length>0}setSpawnEvent(e){this.spawnEvents.push(e)}resetSpawnEvents(){this.spawnEvents=[]}executeSpawnEvents(){this.summonedEvents=(0,Oe.shuffle)(this.summonedEvents),this.summonedEvents.sort((e,i)=>e.priority>i.priority?-1:e.priority<i.priority?1:0);for(let e of this.spawnEvents)e.callback();this.resetSpawnEvents()}setFriendAheadAttacksEvents(e){this.friendAheadAttacksEvents.push(e)}resetFriendAheadAttacksEvents(){this.friendAheadAttacksEvents=[]}executeFriendAheadAttacksEvents(){this.friendAheadAttacksEvents=(0,Oe.shuffle)(this.friendAheadAttacksEvents),this.friendAheadAttacksEvents.sort((e,i)=>e.priority>i.priority?-1:e.priority<i.priority?1:0);for(let e of this.friendAheadAttacksEvents)e.callback(this.gameService.gameApi);this.resetFriendAheadAttacksEvents()}setAfterAttackEvent(e){this.afterAttackEvents.push(e)}resetAfterAttackEvents(){this.afterAttackEvents=[]}executeAfterAttackEvents(){this.afterAttackEvents=(0,Oe.shuffle)(this.afterAttackEvents),this.afterAttackEvents.sort((e,i)=>e.priority>i.priority?-1:e.priority<i.priority?1:0);for(let e of this.afterAttackEvents)e.callback(this.gameService.gameApi);this.resetAfterAttackEvents()}setFriendAheadFaintsEvent(e){this.friendAheadFaintsEvents.push(e)}resetFriendAheadFaintsEvents(){this.friendAheadFaintsEvents=[]}executeFriendAheadFaintsEvents(){this.friendAheadFaintsEvents=(0,Oe.shuffle)(this.friendAheadFaintsEvents),this.friendAheadFaintsEvents.sort((e,i)=>e.priority>i.priority?-1:e.priority<i.priority?1:0);for(let e of this.friendAheadFaintsEvents)e.callback();this.resetFriendAheadFaintsEvents()}setKnockOutEvent(e){this.knockOutEvents.push(e)}resetKnockOutEvents(){this.knockOutEvents=[]}executeKnockOutEvents(){this.knockOutEvents=(0,Oe.shuffle)(this.knockOutEvents),this.knockOutEvents.sort((e,i)=>e.priority>i.priority?-1:e.priority<i.priority?1:0);for(let e of this.knockOutEvents)e.callback(this.gameService.gameApi,e.callbackPet);this.resetKnockOutEvents()}get hasKnockOutEvents(){return this.knockOutEvents.length>0}triggerFriendFaintsEvents(e){for(let i of e.parent.petArray)null!=i.friendFaints&&this.setFriendFaintsEvent({callback:i.friendFaints.bind(i),priority:i.attack,callbackPet:e})}setFriendFaintsEvent(e){this.friendFaintsEvents.push(e)}resetFriendFaintsEvents(){this.friendFaintsEvents=[]}executeFriendFaintsEvents(){this.friendFaintsEvents=(0,Oe.shuffle)(this.friendFaintsEvents),this.friendFaintsEvents.sort((e,i)=>e.priority>i.priority?-1:e.priority<i.priority?1:0);for(let e of this.friendFaintsEvents)e.callback(this.gameService.gameApi,e.callbackPet,null);this.resetFriendFaintsEvents()}setBeforeAttackEvent(e){this.beforeAttackEvents.push(e)}resetBeforeAttackEvents(){this.beforeAttackEvents=[]}executeBeforeAttackEvents(){this.beforeAttackEvents=(0,Oe.shuffle)(this.beforeAttackEvents),this.beforeAttackEvents.sort((e,i)=>e.priority>i.priority?-1:e.priority<i.priority?1:0);for(let e of this.beforeAttackEvents)e.callback(this.gameService.gameApi);this.resetBeforeAttackEvents()}setEqiupmentBeforeAttackEvent(e){this.equipmentBeforeAttackEvents.push(e)}resetEqiupmentBeforeAttackEvents(){this.equipmentBeforeAttackEvents=[]}executeEqiupmentBeforeAttackEvents(){this.equipmentBeforeAttackEvents=(0,Oe.shuffle)(this.equipmentBeforeAttackEvents),this.equipmentBeforeAttackEvents.sort((e,i)=>e.priority>i.priority?-1:e.priority<i.priority?1:0);for(let e of this.equipmentBeforeAttackEvents)e.callback(this.gameService.gameApi);this.resetEqiupmentBeforeAttackEvents()}get hasEquipmentBeforeAttackEvents(){return this.hurtEvents.length>0}triggerFriendGainedPerkEvents(e){for(let i of e.parent.petArray)null!=i.friendGainedPerk&&this.setFriendGainedPerkEvent({callback:i.friendGainedPerk.bind(i),priority:i.attack,callbackPet:e})}setFriendGainedPerkEvent(e){this.friendGainedPerkEvents.push(e)}resetFriendGainedPerkEvents(){this.friendGainedPerkEvents=[]}executeFriendGainedPerkEvents(){this.friendGainedPerkEvents=(0,Oe.shuffle)(this.friendGainedPerkEvents),this.friendGainedPerkEvents.sort((e,i)=>e.priority>i.priority?-1:e.priority<i.priority?1:0);for(let e of this.friendGainedPerkEvents)e.callback(this.gameService.gameApi,e.callbackPet);this.resetFriendGainedPerkEvents()}triggerFriendGainedAilmentEvents(e){for(let i of e.parent.petArray)null!=i.friendGainedAilment&&this.setFriendGainedAilmentEvent({callback:i.friendGainedAilment.bind(i),priority:i.attack,callbackPet:e})}setFriendGainedAilmentEvent(e){this.friendGainedAilmentEvents.push(e)}resetFriendGainedAilmentEvents(){this.friendGainedAilmentEvents=[]}executeFriendGainedAilmentEvents(){this.friendGainedAilmentEvents.sort((e,i)=>e.priority>i.priority?-1:e.priority<i.priority?1:0);for(let e of this.friendGainedAilmentEvents)e.callback(this.gameService.gameApi,e.callbackPet);this.resetFriendGainedAilmentEvents()}triggerFriendlyToyBrokeEvents(e){for(let i of e.petArray)null!=i.friendlyToyBroke&&this.setFriendlyToyBrokeEvent({callback:i.friendlyToyBroke.bind(i),priority:i.attack})}setFriendlyToyBrokeEvent(e){this.friendlyToyBrokeEvents.push(e)}resetFriendlyToyBrokeEvents(){this.friendlyToyBrokeEvents=[]}executeFriendlyToyBrokeEvents(){this.friendlyToyBrokeEvents=(0,Oe.shuffle)(this.friendlyToyBrokeEvents),this.friendlyToyBrokeEvents.sort((e,i)=>e.priority>i.priority?-1:e.priority<i.priority?1:0);for(let e of this.friendlyToyBrokeEvents)e.callback(this.gameService.gameApi,!1);this.resetFriendlyToyBrokeEvents()}triggerTransformEvents(e){for(let i of e.petArray)null!=i.transform&&this.setTransformEvent({callback:i.transform.bind(i),priority:i.attack})}setTransformEvent(e){this.transformEvents.push(e)}resetTransformEvents(){this.transformEvents=[]}executeTransformEvents(){this.transformEvents=(0,Oe.shuffle)(this.transformEvents),this.transformEvents.sort((e,i)=>e.priority>i.priority?-1:e.priority<i.priority?1:0);for(let e of this.transformEvents)e.callback(this.gameService.gameApi,!1);this.resetTransformEvents()}triggerEnemySummonedEvents(e,i){for(let s of e.petArray)null!=s.enemySummoned&&this.setEnemySummonedEvent({callback:s.enemySummoned.bind(s),priority:s.attack,callbackPet:i})}setEnemySummonedEvent(e){this.enemySummonedEvents.push(e)}resetEnemySummonedEvents(){this.enemySummonedEvents=[]}executeEnemySummonedEvents(){this.enemySummonedEvents=(0,Oe.shuffle)(this.enemySummonedEvents),this.enemySummonedEvents.sort((e,i)=>e.priority>i.priority?-1:e.priority<i.priority?1:0);for(let e of this.enemySummonedEvents)e.callback(this.gameService.gameApi,e.callbackPet,!1);this.resetEnemySummonedEvents()}triggerFriendHurtEvents(e,i){for(let s of e.petArray)null!=s.friendHurt&&this.setFriendHurtEvent({callback:s.friendHurt.bind(s),priority:s.attack,callbackPet:i})}setFriendHurtEvent(e){this.friendHurtEvents.push(e)}resetFriendHurtEvents(){this.friendHurtEvents=[]}executeFriendHurtEvents(){this.friendHurtEvents=(0,Oe.shuffle)(this.friendHurtEvents),this.friendHurtEvents.sort((e,i)=>e.priority>i.priority?-1:e.priority<i.priority?1:0);for(let e of this.friendHurtEvents)e.callback(this.gameService.gameApi,e.callbackPet,!1);this.resetFriendHurtEvents()}get hasFriendHurtEvents(){return this.friendHurtEvents.length>0}triggerLevelUpEvents(e,i){for(let s of e.petArray)null!=s.anyoneLevelUp&&this.setLevelUpEvent({callback:s.anyoneLevelUp.bind(s),priority:s.attack,callbackPet:i})}setLevelUpEvent(e){this.levelUpEvents.push(e)}resetLevelUpEvents(){this.levelUpEvents=[]}executeLevelUpEvents(){this.levelUpEvents=(0,Oe.shuffle)(this.levelUpEvents),this.levelUpEvents.sort((e,i)=>e.priority>i.priority?-1:e.priority<i.priority?1:0);for(let e of this.levelUpEvents)e.callback(this.gameService.gameApi,e.callbackPet,!1);this.resetLevelUpEvents()}triggerEmptyFrontSpaceEvents(e){for(let i of e.petArray)null!=i.emptyFrontSpace&&this.setEmptyFrontSpaceEvent({callback:i.emptyFrontSpace.bind(i),priority:i.attack})}setEmptyFrontSpaceEvent(e){this.emptyFrontSpaceEvents.push(e)}resetEmptyFrontSpaceEvents(){this.emptyFrontSpaceEvents=[]}executeEmptyFrontSpaceEvents(){this.emptyFrontSpaceEvents=(0,Oe.shuffle)(this.emptyFrontSpaceEvents),this.emptyFrontSpaceEvents.sort((e,i)=>e.priority>i.priority?-1:e.priority<i.priority?1:0);for(let e of this.emptyFrontSpaceEvents)e.callback(this.gameService.gameApi,!1);this.resetEmptyFrontSpaceEvents()}get hasEmptyFrontSpaceEvents(){return this.emptyFrontSpaceEvents.length>0}triggerEnemyHurtEvents(e,i){for(let s of e.petArray)null!=s.enemyHurt&&this.setEnemyHurtEvent({callback:s.enemyHurt.bind(s),priority:s.attack,callbackPet:i})}setEnemyHurtEvent(e){this.enemyHurtEvents.push(e)}resetEnemyHurtEvents(){this.enemyHurtEvents=[]}executeEnemyHurtEvents(){this.enemyHurtEvents=(0,Oe.shuffle)(this.enemyHurtEvents),this.enemyHurtEvents.sort((e,i)=>e.priority>i.priority?-1:e.priority<i.priority?1:0);for(let e of this.enemyHurtEvents)e.callback(this.gameService.gameApi,e.callbackPet,!1);this.resetEnemyHurtEvents()}get hasEnemyHurtEvents(){return this.enemyHurtEvents.length>0}triggerFriendAttacksEvents(e,i){for(let s of e.petArray)s!=i&&null!=s.friendAttacks&&this.setFriendAttacksEvent({callback:s.friendAttacks.bind(s),priority:s.attack})}setFriendAttacksEvent(e){this.friendAttacksEvents.push(e)}resetFriendAttacksEvents(){this.friendAttacksEvents=[]}executeFriendAttacksEvents(){this.friendAttacksEvents=(0,Oe.shuffle)(this.friendAttacksEvents),this.friendAttacksEvents.sort((e,i)=>e.priority>i.priority?-1:e.priority<i.priority?1:0);for(let e of this.friendAttacksEvents)e.callback(this.gameService.gameApi,!1);this.resetFriendAttacksEvents()}}return n.\u0275fac=function(e){return new(e||n)(V(du))},n.\u0275prov=ne({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),EP=(()=>{class n{constructor(e,i,s){this.logService=e,this.abilityService=i,this.gameService=s,this.turtlePackPets=new Map,this.puppyPackPets=new Map,this.starPackPets=new Map,this.goldenPackPets=new Map}init(){this.turtlePackPets.set(1,["Ant","Cricket","Duck","Fish","Horse","Mosquito","Beaver","Otter","Pig","Mouse"]),this.turtlePackPets.set(2,["Snail","Crab","Swan","Rat","Hedgehog","Peacock","Flamingo","Worm","Kangaroo","Spider"]),this.turtlePackPets.set(3,["Dodo","Badger","Dolphin","Giraffe","Elephant","Camel","Rabbit","Ox","Dog","Sheep"]),this.turtlePackPets.set(4,["Skunk","Hippo","Bison","Blowfish","Turtle","Squirrel","Penguin","Deer","Whale","Parrot"]),this.turtlePackPets.set(5,["Scorpion","Crocodile","Rhino","Monkey","Armadillo","Cow","Seal","Rooster","Shark","Turkey"]),this.turtlePackPets.set(6,["Leopard","Tiger","Boar","Wolverine","Gorilla","Dragon","Mammoth","Cat","Snake","Fly"]),this.puppyPackPets.set(1,["Duck","Beaver","Moth","Bluebird","Chinchilla","Beetle","Ladybug","Chipmunk","Gecko","Ferret"]),this.puppyPackPets.set(2,["Frigatebird","Robin","Bat","Dromedary","Shrimp","Toucan","Beluga Sturgeon","Tabby Cat","Mandrill","Lemur"]),this.puppyPackPets.set(3,["Hoopoe Bird","Tropical Fish","Hatching Chick","Goldfish","Owl","Mole","Raccoon","Flying Squirrel","Pangolin","Puppy"]),this.puppyPackPets.set(4,["Microbe","Lobster","Buffalo","Llama","Caterpillar","Doberman","Tahr","Whale Shark","Chameleon","Gharial"]),this.puppyPackPets.set(5,["Stonefish","Poodle","Goat","Chicken","Eagle","Panther","Axolotl","Snapping Turtle","Mosasaurus","String Ray"]),this.puppyPackPets.set(6,["Dragon","Mantis Shrimp","Lionfish","Tyrannosaurus","Octopus","Anglerfish","Sauropod","Elephant Seal","Puma","Mongoose"]),this.starPackPets.set(1,["Mouse","Pillbug","Duckling","Cockroach","Frog","Seahorse","Iguana","Hummingbird"]),this.starPackPets.set(2,["Koala","Yak","Salamander","Panda","Guinea Pig","Jellyfish","Pug","Atlantic Puffin","Dove","Stork"]),this.starPackPets.set(3,["Leech","Woodpecker","Toad","Starfish","Clownfish","Blobfish","Cabybara","Okapi","Cassowary"]),this.starPackPets.set(4,["Orangutang","Eel","Hawk","Platypus","Praying Mantis","Crow","Donkey","Pelican","Anteater"]),this.starPackPets.set(5,["Sword Fish","Polar Bear","Siberian Huskey","Lion","Triceratops","Zebra","Fox","Hamster","Shoebill","Vulture"]),this.starPackPets.set(6,["Komodo","Ostrich","Reindeer","Stegosaurus","Piranha","Hammerhead Shark","Velociraptor","Sabertooth Tiger","Orca","Spinosaurus"]),this.goldenPackPets.set(1,["Chipmunk","Bulldog","Groundhog","Cone Snail","Goose","Pied Tamarin","Opposum","Silkmoth","Magpie"]),this.goldenPackPets.set(2,["Hercules Beetle","Stoat","Black Necked Stilt","Squid","Sea Urchin","Door Head Ant","Lizard","Sea Turtle","African Penguin"]),this.goldenPackPets.set(3,["Musk Ox","Flea","Royal Flycatcher","Surgeon Fish","Weasel","Guineafowl","Betta Fish","Meerkat","Flying Fish","Baboon","Osprey"]),this.goldenPackPets.set(4,["Manatee","Cuttlefish","Egyptian Vulture","Saiga Antelope","Sealion","Vaquita","Slug","Poison Dart Frog","Secretary Bird","Falcon","Manta Ray"]),this.goldenPackPets.set(5,["Macaque","Nyala","Nurse Shark","Beluga Whale","Wolf","Silver Fox","Fire Ant","Cockatoo","Blue Ringed Octopus","Crane","Emu"]),this.goldenPackPets.set(6,["Wildebeast","Highland Cow","Catfish","Pteranodon","Warthog","Cobra","Grizzly Bear","German Shephard","Bird of Paradise","Oyster"])}createPet(e,i){switch(e.name){case"Ant":return new ry(this.logService,this.abilityService,i,e.health,e.attack,e.exp,e.equipment);case"Cricket":return new gw(this.logService,this.abilityService,i,e.health,e.attack,e.exp,e.equipment);case"Fish":return new mw(this.logService,this.abilityService,i,e.health,e.attack,e.exp,e.equipment);case"Horse":return new yw(this.logService,this.abilityService,i,e.health,e.attack,e.exp,e.equipment);case"Mosquito":return new vw(this.logService,this.abilityService,i,e.health,e.attack,e.exp,e.equipment);case"Duck":return new _w(this.logService,this.abilityService,i,e.health,e.attack,e.exp,e.equipment);case"Beaver":return new bw(this.logService,this.abilityService,i,e.health,e.attack,e.exp,e.equipment);case"Otter":return new Sw(this.logService,this.abilityService,i,e.health,e.attack,e.exp,e.equipment);case"Pig":return new Ew(this.logService,this.abilityService,i,e.health,e.attack,e.exp,e.equipment);case"Mouse":return new ww(this.logService,this.abilityService,i,e.health,e.attack,e.exp,e.equipment);case"Snail":return new gU(this.logService,this.abilityService,i,e.health,e.attack,e.exp,e.equipment);case"Crab":return new Cw(this.logService,this.abilityService,i,e.health,e.attack,e.exp,e.equipment);case"Swan":return new Dw(this.logService,this.abilityService,i,e.health,e.attack,e.exp,e.equipment);case"Rat":return new Pw(this.logService,this.abilityService,i,e.health,e.attack,e.exp,e.equipment);case"Hedgehog":return new kw(this.logService,this.abilityService,i,e.health,e.attack,e.exp,e.equipment);case"Peacock":return new Aw(this.logService,this.abilityService,i,e.health,e.attack,e.exp,e.equipment);case"Flamingo":return new Tw(this.logService,this.abilityService,i,e.health,e.attack,e.exp,e.equipment);case"Worm":return new xw(this.logService,this.abilityService,i,e.health,e.attack,e.exp,e.equipment);case"Kangaroo":return new Mw(this.logService,this.abilityService,i,e.health,e.attack,e.exp,e.equipment);case"Spider":return new Iw(this.logService,this.abilityService,this,i,e.health,e.attack,e.exp,e.equipment);case"Dodo":return new Ow(this.logService,this.abilityService,i,e.health,e.attack,e.exp,e.equipment);case"Badger":return new Rw(this.logService,this.abilityService,i,e.health,e.attack,e.exp,e.equipment);case"Dolphin":return new ay(this.logService,this.abilityService,i,e.health,e.attack,e.exp,e.equipment);case"Giraffe":return new Nw(this.logService,this.abilityService,i,e.health,e.attack,e.exp,e.equipment);case"Elephant":return new Lw(this.logService,this.abilityService,i,e.health,e.attack,e.exp,e.equipment);case"Camel":return new Fw(this.logService,this.abilityService,i,e.health,e.attack,e.exp,e.equipment);case"Rabbit":return new Vw(this.logService,this.abilityService,i,e.health,e.attack,e.exp,e.equipment);case"Ox":return new Bw(this.logService,this.abilityService,i,e.health,e.attack,e.exp,e.equipment);case"Dog":return new $w(this.logService,this.abilityService,i,e.health,e.attack,e.exp,e.equipment);case"Sheep":return new Hw(this.logService,this.abilityService,i,e.health,e.attack,e.exp,e.equipment);case"Skunk":return new Gw(this.logService,this.abilityService,i,e.health,e.attack,e.exp,e.equipment);case"Hippo":return new jw(this.logService,this.abilityService,i,e.health,e.attack,e.exp,e.equipment);case"Bison":return new Ww(this.logService,this.abilityService,i,e.health,e.attack,e.exp,e.equipment);case"Blowfish":return new zw(this.logService,this.abilityService,i,e.health,e.attack,e.exp,e.equipment);case"Turtle":return new Kw(this.logService,this.abilityService,i,e.health,e.attack,e.exp,e.equipment);case"Squirrel":return new Qw(this.logService,this.abilityService,i,e.health,e.attack,e.exp,e.equipment);case"Penguin":return new Zw(this.logService,this.abilityService,i,e.health,e.attack,e.exp,e.equipment);case"Deer":return new Yw(this.logService,this.abilityService,i,e.health,e.attack,e.exp,e.equipment);case"Whale":return new Jw(this.logService,this.abilityService,this,i,e.health,e.attack,e.exp,e.equipment);case"Parrot":return new Uw(this.logService,this.abilityService,this,i,e.health,e.attack,e.exp,e.equipment);case"Scorpion":return new Xw(this.logService,this.abilityService,i,e.health,e.attack,e.exp,e.equipment);case"Crocodile":return new eC(this.logService,this.abilityService,i,e.health,e.attack,e.exp,e.equipment);case"Rhino":return new tC(this.logService,this.abilityService,i,e.health,e.attack,e.exp,e.equipment);case"Monkey":return new hy(this.logService,this.abilityService,i,e.health,e.attack,e.exp,e.equipment);case"Armadillo":return new nC(this.logService,this.abilityService,i,e.health,e.attack,e.exp,e.equipment);case"Cow":return new iC(this.logService,this.abilityService,i,e.health,e.attack,e.exp,e.equipment);case"Seal":return new sC(this.logService,this.abilityService,i,e.health,e.attack,e.exp,e.equipment);case"Rooster":return new rC(this.logService,this.abilityService,i,e.health,e.attack,e.exp,e.equipment);case"Shark":return new oC(this.logService,this.abilityService,i,e.health,e.attack,e.exp,e.equipment);case"Turkey":return new aC(this.logService,this.abilityService,i,e.health,e.attack,e.exp,e.equipment);case"Leopard":return new lC(this.logService,this.abilityService,i,e.health,e.attack,e.exp,e.equipment);case"Boar":return new cC(this.logService,this.abilityService,i,e.health,e.attack,e.exp,e.equipment);case"Tiger":return new qw(this.logService,this.abilityService,i,e.health,e.attack,e.exp,e.equipment);case"Wolverine":return new uC(this.logService,this.abilityService,i,e.health,e.attack,e.exp,e.equipment);case"Gorilla":return new hC(this.logService,this.abilityService,i,e.health,e.attack,e.exp,e.equipment);case"Dragon":return new dC(this.logService,this.abilityService,i,e.health,e.attack,e.exp,e.equipment);case"Mammoth":return new fC(this.logService,this.abilityService,i,e.health,e.attack,e.exp,e.equipment);case"Cat":return new pC(this.logService,this.abilityService,i,e.health,e.attack,e.exp,e.equipment);case"Snake":return new gC(this.logService,this.abilityService,i,e.health,e.attack,e.exp,e.equipment);case"Fly":return new mC(this.logService,this.abilityService,i,e.health,e.attack,e.exp,e.equipment);case"Moth":return new yC(this.logService,this.abilityService,i,e.health,e.attack,e.exp,e.equipment);case"Bluebird":return new vC(this.logService,this.abilityService,i,e.health,e.attack,e.exp,e.equipment);case"Chinchilla":return new _C(this.logService,this.abilityService,i,e.health,e.attack,e.exp,e.equipment);case"Beetle":return new bC(this.logService,this.abilityService,i,e.health,e.attack,e.exp,e.equipment);case"Ladybug":return new SC(this.logService,this.abilityService,i,e.health,e.attack,e.exp,e.equipment);case"Chipmunk":return new EC(this.logService,this.abilityService,i,e.health,e.attack,e.exp,e.equipment);case"Gecko":return new wC(this.logService,this.abilityService,i,e.health,e.attack,e.exp,e.equipment);case"Ferret":return new CC(this.logService,this.abilityService,i,e.health,e.attack,e.exp,e.equipment);case"Frigatebird":return new PC(this.logService,this.abilityService,i,e.health,e.attack,e.exp,e.equipment);case"Robin":return new kC(this.logService,this.abilityService,i,e.health,e.attack,e.exp,e.equipment);case"Bat":return new DC(this.logService,this.abilityService,i,e.health,e.attack,e.exp,e.equipment);case"Dromedary":return new AC(this.logService,this.abilityService,i,e.health,e.attack,e.exp,e.equipment);case"Shrimp":return new TC(this.logService,this.abilityService,i,e.health,e.attack,e.exp,e.equipment);case"Toucan":return new xC(this.logService,this.abilityService,i,e.health,e.attack,e.exp,e.equipment);case"Beluga Sturgeon":return new MC(this.logService,this.abilityService,i,e.health,e.attack,e.exp,e.equipment);case"Tabby Cat":return new IC(this.logService,this.abilityService,i,e.health,e.attack,e.exp,e.equipment);case"Mandrill":return new OC(this.logService,this.abilityService,i,e.health,e.attack,e.exp,e.equipment);case"Lemur":return new RC(this.logService,this.abilityService,i,e.health,e.attack,e.exp,e.equipment);case"Hoopoe Bird":return new NC(this.logService,this.abilityService,i,e.health,e.attack,e.exp,e.equipment);case"Tropical Fish":return new LC(this.logService,this.abilityService,i,e.health,e.attack,e.exp,e.equipment);case"Hatching Chick":return new FC(this.logService,this.abilityService,i,e.health,e.attack,e.exp,e.equipment);case"Goldfish":return new VC(this.logService,this.abilityService,i,e.health,e.attack,e.exp,e.equipment);case"Owl":return new BC(this.logService,this.abilityService,i,e.health,e.attack,e.exp,e.equipment);case"Mole":return new hf(this.logService,this.abilityService,i,e.health,e.attack,e.exp,e.equipment);case"Raccoon":return new $C(this.logService,this.abilityService,i,e.health,e.attack,e.exp,e.equipment);case"Flying Squirrel":return new gy(this.logService,this.abilityService,i,e.health,e.attack,e.exp,e.equipment);case"Pangolin":return new HC(this.logService,this.abilityService,i,e.health,e.attack,e.exp,e.equipment);case"Puppy":return new qC(this.logService,this.abilityService,i,e.health,e.attack,e.exp,e.equipment);case"Microbe":return new UC(this.logService,this.abilityService,i,e.health,e.attack,e.exp,e.equipment);case"Lobster":return new GC(this.logService,this.abilityService,i,e.health,e.attack,e.exp,e.equipment);case"Buffalo":return new jC(this.logService,this.abilityService,i,e.health,e.attack,e.exp,e.equipment);case"Llama":return new WC(this.logService,this.abilityService,i,e.health,e.attack,e.exp,e.equipment);case"Caterpillar":return new zC(this.logService,this.abilityService,i,e.health,e.attack,e.exp,e.equipment);case"Doberman":return new KC(this.logService,this.abilityService,i,e.health,e.attack,e.exp,e.equipment);case"Tahr":return new QC(this.logService,this.abilityService,i,e.health,e.attack,e.exp,e.equipment);case"Whale Shark":return new ZC(this.logService,this.abilityService,i,e.health,e.attack,e.exp,e.equipment);case"Chameleon":return new YC(this.logService,this.abilityService,i,e.health,e.attack,e.exp,e.equipment);case"Gharial":return new JC(this.logService,this.abilityService,i,e.health,e.attack,e.exp,e.equipment);case"Stonefish":return new XC(this.logService,this.abilityService,i,e.health,e.attack,e.exp,e.equipment);case"Poodle":return new eD(this.logService,this.abilityService,i,e.health,e.attack,e.exp,e.equipment);case"Goat":return new sD(this.logService,this.abilityService,i,e.health,e.attack,e.exp,e.equipment);case"Chicken":return new tD(this.logService,this.abilityService,i,e.health,e.attack,e.exp,e.equipment);case"Eagle":return new nD(this.logService,this.abilityService,this,i,e.health,e.attack,e.exp,e.equipment);case"Panther":return new _n(this.logService,this.abilityService,i,e.health,e.attack,e.exp,e.equipment);case"Axolotl":return new iD(this.logService,this.abilityService,i,e.health,e.attack,e.exp,e.equipment);case"Snapping Turtle":return new oD(this.logService,this.abilityService,i,e.health,e.attack,e.exp,e.equipment);case"Mosasaurus":return new aD(this.logService,this.abilityService,i,e.health,e.attack,e.exp,e.equipment);case"String Ray":return new lD(this.logService,this.abilityService,i,e.health,e.attack,e.exp,e.equipment);case"Mantis Shrimp":return new cD(this.logService,this.abilityService,i,e.health,e.attack,e.exp,e.equipment);case"Lionfish":return new uD(this.logService,this.abilityService,i,e.health,e.attack,e.exp,e.equipment);case"Tyrannosaurus":return new hD(this.logService,this.abilityService,i,e.health,e.attack,e.exp,e.equipment);case"Octopus":return new dD(this.logService,this.abilityService,i,e.health,e.attack,e.exp,e.equipment);case"Anglerfish":return new fD(this.logService,this.abilityService,i,e.health,e.attack,e.exp,e.equipment);case"Sauropod":return new pD(this.logService,this.abilityService,i,e.health,e.attack,e.exp,e.equipment);case"Elephant Seal":return new gD(this.logService,this.abilityService,i,e.health,e.attack,e.exp,e.equipment);case"Puma":return new lu(this.logService,this.abilityService,i,e.health,e.attack,e.exp,e.equipment);case"Mongoose":return new mD(this.logService,this.abilityService,i,e.health,e.attack,e.exp,e.equipment);case"Pillbug":return new yD(this.logService,this.abilityService,i,e.health,e.attack,e.exp,e.equipment);case"Duckling":return new vD(this.logService,this.abilityService,i,e.health,e.attack,e.exp,e.equipment);case"Cockroach":return new _D(this.logService,this.abilityService,i,e.health,e.attack,e.exp,e.equipment);case"Frog":return new df(this.logService,this.abilityService,i,e.health,e.attack,e.exp,e.equipment);case"Seahorse":return new bD(this.logService,this.abilityService,i,e.health,e.attack,e.exp,e.equipment);case"Iguana":return new SD(this.logService,this.abilityService,i,e.health,e.attack,e.exp,e.equipment);case"Hummingbird":return new ED(this.logService,this.abilityService,i,e.health,e.attack,e.exp,e.equipment);case"Koala":return new wD(this.logService,this.abilityService,i,e.health,e.attack,e.exp,e.equipment);case"Yak":return new CD(this.logService,this.abilityService,i,e.health,e.attack,e.exp,e.equipment);case"Salamander":return new DD(this.logService,this.abilityService,i,e.health,e.attack,e.exp,e.equipment);case"Panda":return new PD(this.logService,this.abilityService,i,e.health,e.attack,e.exp,e.equipment);case"Guinea Pig":return new kD(this.logService,this.abilityService,i,e.health,e.attack,e.exp,e.equipment);case"Jellyfish":return new TD(this.logService,this.abilityService,i,e.health,e.attack,e.exp,e.equipment);case"Pug":return new AD(this.logService,this.abilityService,i,e.health,e.attack,e.exp,e.equipment);case"Atlantic Puffin":return new xD(this.logService,this.abilityService,i,e.health,e.attack,e.exp,e.equipment);case"Dove":return new MD(this.logService,this.abilityService,i,e.health,e.attack,e.exp,e.equipment);case"Stork":return new ID(this.logService,this.abilityService,this,i,e.health,e.attack,e.exp,e.equipment);case"Leech":return new OD(this.logService,this.abilityService,i,e.health,e.attack,e.exp,e.equipment);case"Woodpecker":return new RD(this.logService,this.abilityService,i,e.health,e.attack,e.exp,e.equipment);case"Toad":return new ND(this.logService,this.abilityService,i,e.health,e.attack,e.exp,e.equipment);case"Starfish":return new LD(this.logService,this.abilityService,i,e.health,e.attack,e.exp,e.equipment);case"Clownfish":return new FD(this.logService,this.abilityService,i,e.health,e.attack,e.exp,e.equipment);case"Blobfish":return new VD(this.logService,this.abilityService,i,e.health,e.attack,e.exp,e.equipment);case"Cabybara":return new BD(this.logService,this.abilityService,i,e.health,e.attack,e.exp,e.equipment);case"Okapi":return new $D(this.logService,this.abilityService,i,e.health,e.attack,e.exp,e.equipment);case"Cassowary":return new HD(this.logService,this.abilityService,i,e.health,e.attack,e.exp,e.equipment);case"Orangutang":return new yy(this.logService,this.abilityService,i,e.health,e.attack,e.exp,e.equipment);case"Eel":return new qD(this.logService,this.abilityService,i,e.health,e.attack,e.exp,e.equipment);case"Hawk":return new UD(this.logService,this.abilityService,i,e.health,e.attack,e.exp,e.equipment);case"Platypus":return new GD(this.logService,this.abilityService,i,e.health,e.attack,e.exp,e.equipment);case"Praying Mantis":return new jD(this.logService,this.abilityService,i,e.health,e.attack,e.exp,e.equipment);case"Crow":return new WD(this.logService,this.abilityService,i,e.health,e.attack,e.exp,e.equipment);case"Donkey":return new zD(this.logService,this.abilityService,i,e.health,e.attack,e.exp,e.equipment);case"Pelican":return new KD(this.logService,this.abilityService,i,e.health,e.attack,e.exp,e.equipment);case"Anteater":return new QD(this.logService,this.abilityService,i,e.health,e.attack,e.exp,e.equipment);case"Sword Fish":return new ZD(this.logService,this.abilityService,i,e.health,e.attack,e.exp,e.equipment);case"Polar Bear":return new YD(this.logService,this.abilityService,i,e.health,e.attack,e.exp,e.equipment);case"Siberian Huskey":return new JD(this.logService,this.abilityService,i,e.health,e.attack,e.exp,e.equipment);case"Lion":return new XD(this.logService,this.abilityService,i,e.health,e.attack,e.exp,e.equipment);case"Triceratops":return new e0(this.logService,this.abilityService,i,e.health,e.attack,e.exp,e.equipment);case"Zebra":return new t0(this.logService,this.abilityService,i,e.health,e.attack,e.exp,e.equipment);case"Fox":return new n0(this.logService,this.abilityService,i,e.health,e.attack,e.exp,e.equipment);case"Hamster":return new s0(this.logService,this.abilityService,i,e.health,e.attack,e.exp,e.equipment);case"Shoebill":return new r0(this.logService,this.abilityService,i,e.health,e.attack,e.exp,e.equipment);case"Vulture":return new o0(this.logService,this.abilityService,i,e.health,e.attack,e.exp,e.equipment);case"Komodo":return new a0(this.logService,this.abilityService,i,e.health,e.attack,e.exp,e.equipment);case"Ostrich":return new l0(this.logService,this.abilityService,i,e.health,e.attack,e.exp,e.equipment);case"Reindeer":return new c0(this.logService,this.abilityService,i,e.health,e.attack,e.exp,e.equipment);case"Stegosaurus":return new u0(this.logService,this.abilityService,i,e.health,e.attack,e.exp,e.equipment);case"Piranha":return new h0(this.logService,this.abilityService,i,e.health,e.attack,e.exp,e.equipment);case"Hammerhead Shark":return new d0(this.logService,this.abilityService,i,e.health,e.attack,e.exp,e.equipment);case"Velociraptor":return new f0(this.logService,this.abilityService,i,e.health,e.attack,e.exp,e.equipment);case"Sabertooth Tiger":return new p0(this.logService,this.abilityService,this,i,e.health,e.attack,e.exp,e.equipment);case"Orca":return new g0(this.logService,this.abilityService,this,i,e.health,e.attack,e.exp,e.equipment);case"Spinosaurus":return new m0(this.logService,this.abilityService,i,e.health,e.attack,e.exp,e.equipment);case"Bulldog":return new y0(this.logService,this.abilityService,i,e.health,e.attack,e.exp,e.equipment);case"Groundhog":return new vy(this.logService,this.abilityService,i,e.health,e.attack,e.exp,e.equipment);case"Cone Snail":return new v0(this.logService,this.abilityService,i,e.health,e.attack,e.exp,e.equipment);case"Goose":return new _0(this.logService,this.abilityService,i,e.health,e.attack,e.exp,e.equipment);case"Pied Tamarin":return new b0(this.logService,this.abilityService,i,e.health,e.attack,e.exp,e.equipment);case"Opposum":return new S0(this.logService,this.abilityService,i,e.health,e.attack,e.exp,e.equipment);case"Silkmoth":return new E0(this.logService,this.abilityService,i,e.health,e.attack,e.exp,e.equipment);case"Magpie":return new w0(this.logService,this.abilityService,i,e.health,e.attack,e.exp,e.equipment);case"Hercules Beetle":return new C0(this.logService,this.abilityService,i,e.health,e.attack,e.exp,e.equipment);case"Stoat":return new D0(this.logService,this.abilityService,i,e.health,e.attack,e.exp,e.equipment);case"Black Necked Stilt":return new P0(this.logService,this.abilityService,i,e.health,e.attack,e.exp,e.equipment);case"Squid":return new k0(this.logService,this.abilityService,i,e.health,e.attack,e.exp,e.equipment);case"Sea Urchin":return new A0(this.logService,this.abilityService,i,e.health,e.attack,e.exp,e.equipment);case"Door Head Ant":return new T0(this.logService,this.abilityService,i,e.health,e.attack,e.exp,e.equipment);case"Lizard":return new x0(this.logService,this.abilityService,i,e.health,e.attack,e.exp,e.equipment);case"Sea Turtle":return new M0(this.logService,this.abilityService,i,e.health,e.attack,e.exp,e.equipment);case"African Penguin":return new I0(this.logService,this.abilityService,i,e.health,e.attack,e.exp,e.equipment);case"Musk Ox":return new O0(this.logService,this.abilityService,i,e.health,e.attack,e.exp,e.equipment);case"Flea":return new R0(this.logService,this.abilityService,i,e.health,e.attack,e.exp,e.equipment);case"Royal Flycatcher":return new J0(this.logService,this.abilityService,i,e.health,e.attack,e.exp,e.equipment);case"Surgeon Fish":return new N0(this.logService,this.abilityService,i,e.health,e.attack,e.exp,e.equipment);case"Weasel":return new L0(this.logService,this.abilityService,i,e.health,e.attack,e.exp,e.equipment);case"Guineafowl":return new F0(this.logService,this.abilityService,i,e.health,e.attack,e.exp,e.equipment);case"Betta Fish":return new V0(this.logService,this.abilityService,i,e.health,e.attack,e.exp,e.equipment);case"Meerkat":return new B0(this.logService,this.abilityService,i,e.health,e.attack,e.exp,e.equipment);case"Flying Fish":return new $0(this.logService,this.abilityService,i,e.health,e.attack,e.exp,e.equipment);case"Baboon":return new H0(this.logService,this.abilityService,i,e.health,e.attack,e.exp,e.equipment);case"Osprey":return new q0(this.logService,this.abilityService,i,e.health,e.attack,e.exp,e.equipment);case"Manatee":return new U0(this.logService,this.abilityService,i,e.health,e.attack,e.exp,e.equipment);case"Cuttlefish":return new G0(this.logService,this.abilityService,i,e.health,e.attack,e.exp,e.equipment);case"Egyptian Vulture":return new j0(this.logService,this.abilityService,i,e.health,e.attack,e.exp,e.equipment);case"Saiga Antelope":return new W0(this.logService,this.abilityService,i,e.health,e.attack,e.exp,e.equipment);case"Sealion":return new z0(this.logService,this.abilityService,i,e.health,e.attack,e.exp,e.equipment);case"Vaquita":return new K0(this.logService,this.abilityService,i,e.health,e.attack,e.exp,e.equipment);case"Slug":return new Q0(this.logService,this.abilityService,i,e.health,e.attack,e.exp,e.equipment);case"Poison Dart Frog":return new Z0(this.logService,this.abilityService,i,e.health,e.attack,e.exp,e.equipment);case"Secretary Bird":return new Y0(this.logService,this.abilityService,i,e.health,e.attack,e.exp,e.equipment);case"Falcon":return new X0(this.logService,this.abilityService,this,i,e.health,e.attack,e.exp,e.equipment);case"Manta Ray":return new eP(this.logService,this.abilityService,i,e.health,e.attack,e.exp,e.equipment);case"Macaque":return new tP(this.logService,this.abilityService,i,e.health,e.attack,e.exp,e.equipment);case"Nyala":return new nP(this.logService,this.abilityService,i,e.health,e.attack,e.exp,e.equipment);case"Nurse Shark":return new iP(this.logService,this.abilityService,i,e.health,e.attack,e.exp,e.equipment);case"Beluga Whale":return new sP(this.logService,this.abilityService,this,i,e.health,e.attack,e.exp,e.equipment);case"Wolf":return new rP(this.logService,this.abilityService,this,i,e.health,e.attack,e.exp,e.equipment);case"Silver Fox":return new oP(this.logService,this.abilityService,i,e.health,e.attack,e.exp,e.equipment);case"Fire Ant":return new aP(this.logService,this.abilityService,i,e.health,e.attack,e.exp,e.equipment);case"Cockatoo":return new lP(this.logService,this.abilityService,i,e.health,e.attack,e.exp,e.equipment);case"Blue Ringed Octopus":return new cP(this.logService,this.abilityService,i,e.health,e.attack,e.exp,e.equipment);case"Crane":return new uP(this.logService,this.abilityService,i,e.health,e.attack,e.exp,e.equipment);case"Emu":return new hP(this.logService,this.abilityService,i,e.health,e.attack,e.exp,e.equipment);case"Wildebeast":return new dP(this.logService,this.abilityService,i,e.health,e.attack,e.exp,e.equipment);case"Highland Cow":return new fP(this.logService,this.abilityService,i,e.health,e.attack,e.exp,e.equipment);case"Catfish":return new pP(this.logService,this.abilityService,i,e.health,e.attack,e.exp,e.equipment);case"Pteranodon":return new gP(this.logService,this.abilityService,i,e.health,e.attack,e.exp,e.equipment);case"Warthog":return new mP(this.logService,this.abilityService,i,e.health,e.attack,e.exp,e.equipment);case"Cobra":return new yP(this.logService,this.abilityService,i,e.health,e.attack,e.exp,e.equipment);case"Grizzly Bear":return new vP(this.logService,this.abilityService,i,e.health,e.attack,e.exp,e.equipment);case"German Shephard":return new _P(this.logService,this.abilityService,i,e.health,e.attack,e.exp,e.equipment);case"Bird of Paradise":return new bP(this.logService,this.abilityService,i,e.health,e.attack,e.exp,e.equipment);case"Oyster":return new SP(this.logService,this.abilityService,i,e.health,e.attack,e.exp,e.equipment);case"Bee":return new uu(this.logService,this.abilityService,i,e.health,e.attack,e.exp,e.equipment);case"Bus":return new uy(this.logService,this.abilityService,i,e.health,e.attack,e.exp,e.equipment);case"Butterfly":return new my(this.logService,this.abilityService,i,e.health,e.attack,e.exp,e.equipment);case"Chick":return new dy(this.logService,this.abilityService,i,e.health,e.attack,e.exp,e.equipment);case"Dirty Ray":return new oy(this.logService,this.abilityService,i,e.health,e.attack,e.exp,e.equipment);case"Golden Retriever":return new sy(this.logService,this.abilityService,i,e.health,e.attack,e.exp,e.equipment);case"Lizard Tail":return new _y(this.logService,this.abilityService,i,e.health,e.attack,e.exp,e.equipment);case"Nest":return new py(this.logService,this.abilityService,i,e.health,e.attack,e.exp,e.equipment);case"Ram":return new ly(this.logService,this.abilityService,i,e.health,e.attack,e.exp,e.equipment);case"Smaller Slug":return new Sy(this.logService,this.abilityService,i,e.health,e.attack,e.exp,e.equipment);case"Smallest Slug":return new by(this.logService,this.abilityService,i,e.health,e.attack,e.exp,e.equipment);case"Zombie Cricket":return new cu(this.logService,this.abilityService,i,e.health,e.attack,e.exp,e.equipment);case"Zombie Fly":return new uf(this.logService,this.abilityService,i,e.health,e.attack,e.exp,e.equipment)}}createDefaultVersionOfPet(e,i=null,s=null){let r;return e instanceof ry&&(r=new ry(this.logService,this.abilityService,e.parent,i,s,E(e.level))),e instanceof uu&&(r=new uu(this.logService,this.abilityService,e.parent,i,s,E(e.level))),e instanceof gw&&(r=new gw(this.logService,this.abilityService,e.parent,i,s,E(e.level))),e instanceof mw&&(r=new mw(this.logService,this.abilityService,e.parent,i,s,E(e.level))),e instanceof yw&&(r=new yw(this.logService,this.abilityService,e.parent,i,s,E(e.level))),e instanceof vw&&(r=new vw(this.logService,this.abilityService,e.parent,i,s,E(e.level))),e instanceof cu&&(r=new cu(this.logService,this.abilityService,e.parent,i,s,E(e.level))),e instanceof _w&&(r=new _w(this.logService,this.abilityService,e.parent,i,s,E(e.level))),e instanceof bw&&(r=new bw(this.logService,this.abilityService,e.parent,i,s,E(e.level))),e instanceof Sw&&(r=new Sw(this.logService,this.abilityService,e.parent,i,s,E(e.level))),e instanceof Ew&&(r=new Ew(this.logService,this.abilityService,e.parent,i,s,E(e.level))),e instanceof ww&&(r=new ww(this.logService,this.abilityService,e.parent,i,s,E(e.level))),e instanceof Cw&&(r=new Cw(this.logService,this.abilityService,e.parent,i,s,E(e.level))),e instanceof Dw&&(r=new Dw(this.logService,this.abilityService,e.parent,i,s,E(e.level))),e instanceof Pw&&(r=new Pw(this.logService,this.abilityService,e.parent,i,s,E(e.level))),e instanceof kw&&(r=new kw(this.logService,this.abilityService,e.parent,i,s,E(e.level))),e instanceof Aw&&(r=new Aw(this.logService,this.abilityService,e.parent,i,s,E(e.level))),e instanceof Tw&&(r=new Tw(this.logService,this.abilityService,e.parent,i,s,E(e.level))),e instanceof xw&&(r=new xw(this.logService,this.abilityService,e.parent,i,s,E(e.level))),e instanceof Mw&&(r=new Mw(this.logService,this.abilityService,e.parent,i,s,E(e.level))),e instanceof Iw&&(r=new Iw(this.logService,this.abilityService,this,e.parent,i,s,E(e.level))),e instanceof Ow&&(r=new Ow(this.logService,this.abilityService,e.parent,i,s,E(e.level))),e instanceof Rw&&(r=new Rw(this.logService,this.abilityService,e.parent,i,s,E(e.level))),e instanceof ay&&(r=new ay(this.logService,this.abilityService,e.parent,i,s,E(e.level))),e instanceof Nw&&(r=new Nw(this.logService,this.abilityService,e.parent,i,s,E(e.level))),e instanceof Lw&&(r=new Lw(this.logService,this.abilityService,e.parent,i,s,E(e.level))),e instanceof Fw&&(r=new Fw(this.logService,this.abilityService,e.parent,i,s,E(e.level))),e instanceof Vw&&(r=new Vw(this.logService,this.abilityService,e.parent,i,s,E(e.level))),e instanceof Bw&&(r=new Bw(this.logService,this.abilityService,e.parent,i,s,E(e.level))),e instanceof $w&&(r=new $w(this.logService,this.abilityService,e.parent,i,s,E(e.level))),e instanceof Hw&&(r=new Hw(this.logService,this.abilityService,e.parent,i,s,E(e.level))),e instanceof Gw&&(r=new Gw(this.logService,this.abilityService,e.parent,i,s,E(e.level))),e instanceof jw&&(r=new jw(this.logService,this.abilityService,e.parent,i,s,E(e.level))),e instanceof Ww&&(r=new Ww(this.logService,this.abilityService,e.parent,i,s,E(e.level))),e instanceof zw&&(r=new zw(this.logService,this.abilityService,e.parent,i,s,E(e.level))),e instanceof Kw&&(r=new Kw(this.logService,this.abilityService,e.parent,i,s,E(e.level))),e instanceof Qw&&(r=new Qw(this.logService,this.abilityService,e.parent,i,s,E(e.level))),e instanceof Zw&&(r=new Zw(this.logService,this.abilityService,e.parent,i,s,E(e.level))),e instanceof Yw&&(r=new Yw(this.logService,this.abilityService,e.parent,i,s,E(e.level))),e instanceof Jw&&(r=new Jw(this.logService,this.abilityService,this,e.parent,i,s,E(e.level))),e instanceof Uw&&(r=new Uw(this.logService,this.abilityService,this,e.parent,i,s,E(e.level))),e instanceof Xw&&(r=new Xw(this.logService,this.abilityService,e.parent,i,s,E(e.level))),e instanceof eC&&(r=new eC(this.logService,this.abilityService,e.parent,i,s,E(e.level))),e instanceof tC&&(r=new tC(this.logService,this.abilityService,e.parent,i,s,E(e.level))),e instanceof hy&&(r=new hy(this.logService,this.abilityService,e.parent,i,s,E(e.level))),e instanceof nC&&(r=new nC(this.logService,this.abilityService,e.parent,i,s,E(e.level))),e instanceof iC&&(r=new iC(this.logService,this.abilityService,e.parent,i,s,E(e.level))),e instanceof sC&&(r=new sC(this.logService,this.abilityService,e.parent,i,s,E(e.level))),e instanceof rC&&(r=new rC(this.logService,this.abilityService,e.parent,i,s,E(e.level))),e instanceof oC&&(r=new oC(this.logService,this.abilityService,e.parent,i,s,E(e.level))),e instanceof aC&&(r=new aC(this.logService,this.abilityService,e.parent,i,s,E(e.level))),e instanceof lC&&(r=new lC(this.logService,this.abilityService,e.parent,i,s,E(e.level))),e instanceof cC&&(r=new cC(this.logService,this.abilityService,e.parent,i,s,E(e.level))),e instanceof qw&&(r=new qw(this.logService,this.abilityService,e.parent,i,s,E(e.level))),e instanceof uC&&(r=new uC(this.logService,this.abilityService,e.parent,i,s,E(e.level))),e instanceof hC&&(r=new hC(this.logService,this.abilityService,e.parent,i,s,E(e.level))),e instanceof dC&&(r=new dC(this.logService,this.abilityService,e.parent,i,s,E(e.level))),e instanceof fC&&(r=new fC(this.logService,this.abilityService,e.parent,i,s,E(e.level))),e instanceof pC&&(r=new pC(this.logService,this.abilityService,e.parent,i,s,E(e.level))),e instanceof gC&&(r=new gC(this.logService,this.abilityService,e.parent,i,s,E(e.level))),e instanceof mC&&(r=new mC(this.logService,this.abilityService,e.parent,i,s,E(e.level))),e instanceof yC&&(r=new yC(this.logService,this.abilityService,e.parent,i,s,E(e.level))),e instanceof vC&&(r=new vC(this.logService,this.abilityService,e.parent,i,s,E(e.level))),e instanceof _C&&(r=new _C(this.logService,this.abilityService,e.parent,i,s,E(e.level))),e instanceof bC&&(r=new bC(this.logService,this.abilityService,e.parent,i,s,E(e.level))),e instanceof SC&&(r=new SC(this.logService,this.abilityService,e.parent,i,s,E(e.level))),e instanceof EC&&(r=new EC(this.logService,this.abilityService,e.parent,i,s,E(e.level))),e instanceof wC&&(r=new wC(this.logService,this.abilityService,e.parent,i,s,E(e.level))),e instanceof CC&&(r=new CC(this.logService,this.abilityService,e.parent,i,s,E(e.level))),e instanceof PC&&(r=new PC(this.logService,this.abilityService,e.parent,i,s,E(e.level))),e instanceof kC&&(r=new kC(this.logService,this.abilityService,e.parent,i,s,E(e.level))),e instanceof DC&&(r=new DC(this.logService,this.abilityService,e.parent,i,s,E(e.level))),e instanceof AC&&(r=new AC(this.logService,this.abilityService,e.parent,i,s,E(e.level))),e instanceof TC&&(r=new TC(this.logService,this.abilityService,e.parent,i,s,E(e.level))),e instanceof xC&&(r=new xC(this.logService,this.abilityService,e.parent,i,s,E(e.level))),e instanceof MC&&(r=new MC(this.logService,this.abilityService,e.parent,i,s,E(e.level))),e instanceof IC&&(r=new IC(this.logService,this.abilityService,e.parent,i,s,E(e.level))),e instanceof OC&&(r=new OC(this.logService,this.abilityService,e.parent,i,s,E(e.level))),e instanceof RC&&(r=new RC(this.logService,this.abilityService,e.parent,i,s,E(e.level))),e instanceof NC&&(r=new NC(this.logService,this.abilityService,e.parent,i,s,E(e.level))),e instanceof LC&&(r=new LC(this.logService,this.abilityService,e.parent,i,s,E(e.level))),e instanceof FC&&(r=new FC(this.logService,this.abilityService,e.parent,i,s,E(e.level))),e instanceof VC&&(r=new VC(this.logService,this.abilityService,e.parent,i,s,E(e.level))),e instanceof BC&&(r=new BC(this.logService,this.abilityService,e.parent,i,s,E(e.level))),e instanceof hf&&(r=new hf(this.logService,this.abilityService,e.parent,i,s,E(e.level))),e instanceof $C&&(r=new $C(this.logService,this.abilityService,e.parent,i,s,E(e.level))),e instanceof gy&&(r=new gy(this.logService,this.abilityService,e.parent,i,s,E(e.level))),e instanceof HC&&(r=new HC(this.logService,this.abilityService,e.parent,i,s,E(e.level))),e instanceof qC&&(r=new qC(this.logService,this.abilityService,e.parent,i,s,E(e.level))),e instanceof UC&&(r=new UC(this.logService,this.abilityService,e.parent,i,s,E(e.level))),e instanceof GC&&(r=new GC(this.logService,this.abilityService,e.parent,i,s,E(e.level))),e instanceof jC&&(r=new jC(this.logService,this.abilityService,e.parent,i,s,E(e.level))),e instanceof WC&&(r=new WC(this.logService,this.abilityService,e.parent,i,s,E(e.level))),e instanceof zC&&(r=new zC(this.logService,this.abilityService,e.parent,i,s,E(e.level))),e instanceof KC&&(r=new KC(this.logService,this.abilityService,e.parent,i,s,E(e.level))),e instanceof QC&&(r=new QC(this.logService,this.abilityService,e.parent,i,s,E(e.level))),e instanceof ZC&&(r=new ZC(this.logService,this.abilityService,e.parent,i,s,E(e.level))),e instanceof YC&&(r=new YC(this.logService,this.abilityService,e.parent,i,s,E(e.level))),e instanceof JC&&(r=new JC(this.logService,this.abilityService,e.parent,i,s,E(e.level))),e instanceof XC&&(r=new XC(this.logService,this.abilityService,e.parent,i,s,E(e.level))),e instanceof eD&&(r=new eD(this.logService,this.abilityService,e.parent,i,s,E(e.level))),e instanceof sD&&(r=new sD(this.logService,this.abilityService,e.parent,i,s,E(e.level))),e instanceof tD&&(r=new tD(this.logService,this.abilityService,e.parent,i,s,E(e.level))),e instanceof nD&&(r=new nD(this.logService,this.abilityService,this,e.parent,i,s,E(e.level))),e instanceof _n&&(r=new _n(this.logService,this.abilityService,e.parent,i,s,E(e.level))),e instanceof iD&&(r=new iD(this.logService,this.abilityService,e.parent,i,s,E(e.level))),e instanceof oD&&(r=new oD(this.logService,this.abilityService,e.parent,i,s,E(e.level))),e instanceof aD&&(r=new aD(this.logService,this.abilityService,e.parent,i,s,E(e.level))),e instanceof lD&&(r=new lD(this.logService,this.abilityService,e.parent,i,s,E(e.level))),e instanceof cD&&(r=new cD(this.logService,this.abilityService,e.parent,i,s,E(e.level))),e instanceof uD&&(r=new uD(this.logService,this.abilityService,e.parent,i,s,E(e.level))),e instanceof hD&&(r=new hD(this.logService,this.abilityService,e.parent,i,s,E(e.level))),e instanceof dD&&(r=new dD(this.logService,this.abilityService,e.parent,i,s,E(e.level))),e instanceof fD&&(r=new fD(this.logService,this.abilityService,e.parent,i,s,E(e.level))),e instanceof pD&&(r=new pD(this.logService,this.abilityService,e.parent,i,s,E(e.level))),e instanceof gD&&(r=new gD(this.logService,this.abilityService,e.parent,i,s,E(e.level))),e instanceof lu&&(r=new lu(this.logService,this.abilityService,e.parent,i,s,E(e.level))),e instanceof mD&&(r=new mD(this.logService,this.abilityService,e.parent,i,s,E(e.level))),e instanceof yD&&(r=new yD(this.logService,this.abilityService,e.parent,i,s,E(e.level))),e instanceof vD&&(r=new vD(this.logService,this.abilityService,e.parent,i,s,E(e.level))),e instanceof _D&&(r=new _D(this.logService,this.abilityService,e.parent,i,s,E(e.level))),e instanceof df&&(r=new df(this.logService,this.abilityService,e.parent,i,s,E(e.level))),e instanceof df&&(r=new df(this.logService,this.abilityService,e.parent,i,s,E(e.level))),e instanceof bD&&(r=new bD(this.logService,this.abilityService,e.parent,i,s,E(e.level))),e instanceof SD&&(r=new SD(this.logService,this.abilityService,e.parent,i,s,E(e.level))),e instanceof ED&&(r=new ED(this.logService,this.abilityService,e.parent,i,s,E(e.level))),e instanceof wD&&(r=new wD(this.logService,this.abilityService,e.parent,i,s,E(e.level))),e instanceof CD&&(r=new CD(this.logService,this.abilityService,e.parent,i,s,E(e.level))),e instanceof DD&&(r=new DD(this.logService,this.abilityService,e.parent,i,s,E(e.level))),e instanceof PD&&(r=new PD(this.logService,this.abilityService,e.parent,i,s,E(e.level))),e instanceof kD&&(r=new kD(this.logService,this.abilityService,e.parent,i,s,E(e.level))),e instanceof TD&&(r=new TD(this.logService,this.abilityService,e.parent,i,s,E(e.level))),e instanceof AD&&(r=new AD(this.logService,this.abilityService,e.parent,i,s,E(e.level))),e instanceof xD&&(r=new xD(this.logService,this.abilityService,e.parent,i,s,E(e.level))),e instanceof MD&&(r=new MD(this.logService,this.abilityService,e.parent,i,s,E(e.level))),e instanceof ID&&(r=new ID(this.logService,this.abilityService,this,e.parent,i,s,E(e.level))),e instanceof OD&&(r=new OD(this.logService,this.abilityService,e.parent,i,s,E(e.level))),e instanceof RD&&(r=new RD(this.logService,this.abilityService,e.parent,i,s,E(e.level))),e instanceof ND&&(r=new ND(this.logService,this.abilityService,e.parent,i,s,E(e.level))),e instanceof LD&&(r=new LD(this.logService,this.abilityService,e.parent,i,s,E(e.level))),e instanceof FD&&(r=new FD(this.logService,this.abilityService,e.parent,i,s,E(e.level))),e instanceof VD&&(r=new VD(this.logService,this.abilityService,e.parent,i,s,E(e.level))),e instanceof BD&&(r=new BD(this.logService,this.abilityService,e.parent,i,s,E(e.level))),e instanceof $D&&(r=new $D(this.logService,this.abilityService,e.parent,i,s,E(e.level))),e instanceof HD&&(r=new HD(this.logService,this.abilityService,e.parent,i,s,E(e.level))),e instanceof yy&&(r=new yy(this.logService,this.abilityService,e.parent,i,s,E(e.level))),e instanceof qD&&(r=new qD(this.logService,this.abilityService,e.parent,i,s,E(e.level))),e instanceof UD&&(r=new UD(this.logService,this.abilityService,e.parent,i,s,E(e.level))),e instanceof GD&&(r=new GD(this.logService,this.abilityService,e.parent,i,s,E(e.level))),e instanceof jD&&(r=new jD(this.logService,this.abilityService,e.parent,i,s,E(e.level))),e instanceof WD&&(r=new WD(this.logService,this.abilityService,e.parent,i,s,E(e.level))),e instanceof zD&&(r=new zD(this.logService,this.abilityService,e.parent,i,s,E(e.level))),e instanceof KD&&(r=new KD(this.logService,this.abilityService,e.parent,i,s,E(e.level))),e instanceof QD&&(r=new QD(this.logService,this.abilityService,e.parent,i,s,E(e.level))),e instanceof ZD&&(r=new ZD(this.logService,this.abilityService,e.parent,i,s,E(e.level))),e instanceof YD&&(r=new YD(this.logService,this.abilityService,e.parent,i,s,E(e.level))),e instanceof JD&&(r=new JD(this.logService,this.abilityService,e.parent,i,s,E(e.level))),e instanceof XD&&(r=new XD(this.logService,this.abilityService,e.parent,i,s,E(e.level))),e instanceof e0&&(r=new e0(this.logService,this.abilityService,e.parent,i,s,E(e.level))),e instanceof t0&&(r=new t0(this.logService,this.abilityService,e.parent,i,s,E(e.level))),e instanceof n0&&(r=new n0(this.logService,this.abilityService,e.parent,i,s,E(e.level))),e instanceof s0&&(r=new s0(this.logService,this.abilityService,e.parent,i,s,E(e.level))),e instanceof r0&&(r=new r0(this.logService,this.abilityService,e.parent,i,s,E(e.level))),e instanceof o0&&(r=new o0(this.logService,this.abilityService,e.parent,i,s,E(e.level))),e instanceof a0&&(r=new a0(this.logService,this.abilityService,e.parent,i,s,E(e.level))),e instanceof l0&&(r=new l0(this.logService,this.abilityService,e.parent,i,s,E(e.level))),e instanceof c0&&(r=new c0(this.logService,this.abilityService,e.parent,i,s,E(e.level))),e instanceof u0&&(r=new u0(this.logService,this.abilityService,e.parent,i,s,E(e.level))),e instanceof h0&&(r=new h0(this.logService,this.abilityService,e.parent,i,s,E(e.level))),e instanceof d0&&(r=new d0(this.logService,this.abilityService,e.parent,i,s,E(e.level))),e instanceof f0&&(r=new f0(this.logService,this.abilityService,e.parent,i,s,E(e.level))),e instanceof p0&&(r=new p0(this.logService,this.abilityService,this,e.parent,i,s,E(e.level))),e instanceof g0&&(r=new g0(this.logService,this.abilityService,this,e.parent,i,s,E(e.level))),e instanceof m0&&(r=new m0(this.logService,this.abilityService,e.parent,i,s,E(e.level))),e instanceof y0&&(r=new y0(this.logService,this.abilityService,e.parent,i,s,E(e.level))),e instanceof vy&&(r=new vy(this.logService,this.abilityService,e.parent,i,s,E(e.level))),e instanceof v0&&(r=new v0(this.logService,this.abilityService,e.parent,i,s,E(e.level))),e instanceof _0&&(r=new _0(this.logService,this.abilityService,e.parent,i,s,E(e.level))),e instanceof b0&&(r=new b0(this.logService,this.abilityService,e.parent,i,s,E(e.level))),e instanceof S0&&(r=new S0(this.logService,this.abilityService,e.parent,i,s,E(e.level))),e instanceof E0&&(r=new E0(this.logService,this.abilityService,e.parent,i,s,E(e.level))),e instanceof w0&&(r=new w0(this.logService,this.abilityService,e.parent,i,s,E(e.level))),e instanceof C0&&(r=new C0(this.logService,this.abilityService,e.parent,i,s,E(e.level))),e instanceof D0&&(r=new D0(this.logService,this.abilityService,e.parent,i,s,E(e.level))),e instanceof P0&&(r=new P0(this.logService,this.abilityService,e.parent,i,s,E(e.level))),e instanceof k0&&(r=new k0(this.logService,this.abilityService,e.parent,i,s,E(e.level))),e instanceof A0&&(r=new A0(this.logService,this.abilityService,e.parent,i,s,E(e.level))),e instanceof T0&&(r=new T0(this.logService,this.abilityService,e.parent,i,s,E(e.level))),e instanceof x0&&(r=new x0(this.logService,this.abilityService,e.parent,i,s,E(e.level))),e instanceof M0&&(r=new M0(this.logService,this.abilityService,e.parent,i,s,E(e.level))),e instanceof I0&&(r=new I0(this.logService,this.abilityService,e.parent,i,s,E(e.level))),e instanceof O0&&(r=new O0(this.logService,this.abilityService,e.parent,i,s,E(e.level))),e instanceof R0&&(r=new R0(this.logService,this.abilityService,e.parent,i,s,E(e.level))),e instanceof J0&&(r=new J0(this.logService,this.abilityService,e.parent,i,s,E(e.level))),e instanceof N0&&(r=new N0(this.logService,this.abilityService,e.parent,i,s,E(e.level))),e instanceof L0&&(r=new L0(this.logService,this.abilityService,e.parent,i,s,E(e.level))),e instanceof F0&&(r=new F0(this.logService,this.abilityService,e.parent,i,s,E(e.level))),e instanceof V0&&(r=new V0(this.logService,this.abilityService,e.parent,i,s,E(e.level))),e instanceof B0&&(r=new B0(this.logService,this.abilityService,e.parent,i,s,E(e.level))),e instanceof $0&&(r=new $0(this.logService,this.abilityService,e.parent,i,s,E(e.level))),e instanceof H0&&(r=new H0(this.logService,this.abilityService,e.parent,i,s,E(e.level))),e instanceof q0&&(r=new q0(this.logService,this.abilityService,e.parent,i,s,E(e.level))),e instanceof U0&&(r=new U0(this.logService,this.abilityService,e.parent,i,s,E(e.level))),e instanceof G0&&(r=new G0(this.logService,this.abilityService,e.parent,i,s,E(e.level))),e instanceof j0&&(r=new j0(this.logService,this.abilityService,e.parent,i,s,E(e.level))),e instanceof W0&&(r=new W0(this.logService,this.abilityService,e.parent,i,s,E(e.level))),e instanceof z0&&(r=new z0(this.logService,this.abilityService,e.parent,i,s,E(e.level))),e instanceof K0&&(r=new K0(this.logService,this.abilityService,e.parent,i,s,E(e.level))),e instanceof Q0&&(r=new Q0(this.logService,this.abilityService,e.parent,i,s,E(e.level))),e instanceof Z0&&(r=new Z0(this.logService,this.abilityService,e.parent,i,s,E(e.level))),e instanceof Y0&&(r=new Y0(this.logService,this.abilityService,e.parent,i,s,E(e.level))),e instanceof X0&&(r=new X0(this.logService,this.abilityService,this,e.parent,i,s,E(e.level))),e instanceof eP&&(r=new eP(this.logService,this.abilityService,e.parent,i,s,E(e.level))),e instanceof tP&&(r=new tP(this.logService,this.abilityService,e.parent,i,s,E(e.level))),e instanceof nP&&(r=new nP(this.logService,this.abilityService,e.parent,i,s,E(e.level))),e instanceof iP&&(r=new iP(this.logService,this.abilityService,e.parent,i,s,E(e.level))),e instanceof sP&&(r=new sP(this.logService,this.abilityService,this,e.parent,i,s,E(e.level))),e instanceof rP&&(r=new rP(this.logService,this.abilityService,this,e.parent,i,s,E(e.level))),e instanceof oP&&(r=new oP(this.logService,this.abilityService,e.parent,i,s,E(e.level))),e instanceof aP&&(r=new aP(this.logService,this.abilityService,e.parent,i,s,E(e.level))),e instanceof lP&&(r=new lP(this.logService,this.abilityService,e.parent,i,s,E(e.level))),e instanceof cP&&(r=new cP(this.logService,this.abilityService,e.parent,i,s,E(e.level))),e instanceof uP&&(r=new uP(this.logService,this.abilityService,e.parent,i,s,E(e.level))),e instanceof hP&&(r=new hP(this.logService,this.abilityService,e.parent,i,s,E(e.level))),e instanceof dP&&(r=new dP(this.logService,this.abilityService,e.parent,i,s,E(e.level))),e instanceof fP&&(r=new fP(this.logService,this.abilityService,e.parent,i,s,E(e.level))),e instanceof pP&&(r=new pP(this.logService,this.abilityService,e.parent,i,s,E(e.level))),e instanceof gP&&(r=new gP(this.logService,this.abilityService,e.parent,i,s,E(e.level))),e instanceof mP&&(r=new mP(this.logService,this.abilityService,e.parent,i,s,E(e.level))),e instanceof yP&&(r=new yP(this.logService,this.abilityService,e.parent,i,s,E(e.level))),e instanceof vP&&(r=new vP(this.logService,this.abilityService,e.parent,i,s,E(e.level))),e instanceof _P&&(r=new _P(this.logService,this.abilityService,e.parent,i,s,E(e.level))),e instanceof bP&&(r=new bP(this.logService,this.abilityService,e.parent,i,s,E(e.level))),e instanceof SP&&(r=new SP(this.logService,this.abilityService,e.parent,i,s,E(e.level))),e instanceof uu&&(r=new uu(this.logService,this.abilityService,e.parent,i,s,E(e.level))),e instanceof uy&&(r=new uy(this.logService,this.abilityService,e.parent,i,s,E(e.level))),e instanceof my&&(r=new my(this.logService,this.abilityService,e.parent,i,s,E(e.level))),e instanceof dy&&(r=new dy(this.logService,this.abilityService,e.parent,i,s,E(e.level))),e instanceof oy&&(r=new oy(this.logService,this.abilityService,e.parent,i,s,E(e.level))),e instanceof sy&&(r=new sy(this.logService,this.abilityService,e.parent,i,s,E(e.level))),e instanceof _y&&(r=new _y(this.logService,this.abilityService,e.parent,i,s,E(e.level))),e instanceof py&&(r=new py(this.logService,this.abilityService,e.parent,i,s,E(e.level))),e instanceof ly&&(r=new ly(this.logService,this.abilityService,e.parent,i,s,E(e.level))),e instanceof Sy&&(r=new Sy(this.logService,this.abilityService,e.parent,i,s,E(e.level))),e instanceof by&&(r=new by(this.logService,this.abilityService,e.parent,i,s,E(e.level))),e instanceof cu&&(r=new cu(this.logService,this.abilityService,e.parent,i,s,E(e.level))),e instanceof uf&&(r=new uf(this.logService,this.abilityService,e.parent,i,s,E(e.level))),r}getRandomPet(e){let s,i=Qr(1,6);"Turtle"==e.pack?s=this.turtlePackPets.get(i):"Puppy"==e.pack?s=this.puppyPackPets.get(i):"Star"==e.pack?s=this.starPackPets.get(i):"Golden"==e.pack&&(s=this.goldenPackPets.get(i));let o=s[Qr(0,s.length-1)];return this.createPet({attack:null,equipment:null,exp:Qr(0,5),health:null,name:o},e)}getRandomFaintPet(e){let i=["Ant","Cricket","Rat","Hedgehog","Flamingo","Spider","Badger","Sheep","Turtle","Deer","Rooster","Mammoth","Beluga Sturgeon","Hoopoe Bird","Mole","Pangolin","Microbe","Tahr","Chameleon","Stonefish","Chicken","Eagle","Snapping Turtle","Lionfish","Stork","Blobfish","Anteater","Groundhog","Pied Tamarin","Black Necked Stilt","Squid","Flea","Weasel","Betta Fish","Osprey","Cuttlefish","Vaquita","Slug","Nyala","Nurse Shark","Beluga Whale","Wolf","Fire Ant","Warthog"],s=i[Qr(0,i.length-1)];return this.createPet({name:s,attack:null,equipment:null,exp:0,health:null},e)}}return n.\u0275fac=function(e){return new(e||n)(V(Ey),V(wy),V(du))},n.\u0275prov=ne({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function E(n){return 1==n?0:2==n?2:5}class mU extends ze{constructor(){super(...arguments),this.name="Steak",this.equipmentClass="attack",this.power=20,this.uses=1,this.originalUses=1}}class yU extends ze{constructor(t,e,i){super(),this.logService=t,this.abilityService=e,this.petService=i,this.name="Mushroom",this.equipmentClass="faint",this.callback=s=>{let r=1;s instanceof _n&&(r=1+s.level);for(let o=0;o<r;o++){let a=this.petService.createDefaultVersionOfPet(s,1,1);this.abilityService.setSpawnEvent({callback:()=>{let u="";o>0&&(u=" (Panther)"),this.logService.createLog({message:`${s.name} Spawned ${a.name} (level ${a.level}) (Mushroom)${u}`,type:"ability",player:s.parent}),s.parent.summonPet(a,s.savedPosition)&&this.abilityService.triggerSummonedEvents(a)},priority:-1})}}}}class vU extends ze{constructor(){super(),this.name="Croissant",this.equipmentClass="shop"}}class eO extends ze{constructor(){super(...arguments),this.name="Pie",this.equipmentClass="beforeStartOfBattle"}}class _U extends ze{constructor(){super(...arguments),this.equipmentClass="defense",this.name="Lemon",this.power=7,this.uses=2,this.originalUses=2}}class tO extends ze{constructor(){super(...arguments),this.name="Pancakes",this.equipmentClass="beforeStartOfBattle"}}class bU extends ze{constructor(){super(...arguments),this.name="Strawberry",this.equipmentClass="shop"}}class SU extends ze{constructor(){super(...arguments),this.name="Cucumber",this.equipmentClass="shop"}}class EU extends ze{constructor(){super(...arguments),this.name="Grapes",this.equipmentClass="shop"}}class wU extends ze{constructor(){super(...arguments),this.name="Carrot",this.equipmentClass="shop"}}class CU extends ze{constructor(t,e,i,s){super(),this.logService=t,this.abilityService=e,this.petSerivce=i,this.gameService=s,this.name="Popcorn",this.equipmentClass="faint",this.callback=r=>{let o=1;r instanceof _n&&(o=1+r.level);for(let a=0;a<o;a++)this.abilityService.setSpawnEvent({callback:()=>{let u;u=r.parent==this.gameService.gameApi.player?this.gameService.gameApi.playerPetPool:this.gameService.gameApi.opponentPetPool;let d=u.get(r.tier),f=d[Math.floor(Math.random()*d.length)],g=this.petSerivce.createPet({attack:null,equipment:null,exp:0,health:null,name:f},r.parent),m="";a>0&&(m=" (Panther)"),this.logService.createLog({message:`${r.name} Spawned ${g.name} (Popcorn)${m}`,type:"ability",player:r.parent,randomEvent:!0}),r.parent.summonPet(g,r.savedPosition),this.abilityService.triggerSummonedEvents(g)},priority:r.attack})}}}class DU extends ze{constructor(){super(...arguments),this.name="Cherry",this.equipmentClass="faint",this.callback=t=>{let e=1;t instanceof _n&&(e=1+t.level),t.parent.gainTrumpets(2*e,this,!1,e)}}}class wP extends ze{constructor(t){super(),this.logService=t,this.name="Chocolate Cake",this.equipmentClass="beforeAttack",this.callback=e=>{this.logService.createLog({message:`${e.name} gained 3 exp. (Chocolate Cake)`,type:"equipment",player:e.parent}),e.increaseExp(3),e.health=0,this.logService.createLog({message:`${e.name} fainted. (Chocolate Cake)`,type:"equipment",player:e.parent})}}}class nO extends ze{constructor(t){super(),this.logService=t,this.name="Eggplant",this.equipmentClass="beforeStartOfBattle",this.callback=e=>{var i;let s=null===(i=e.startOfBattle)||void 0===i?void 0:i.bind(e);e.startOfBattle=r=>{null!=s&&s(r);let o=e.parent.opponent,a=o.getPet(e.position);null!=a&&(this.logService.createLog({message:`${e.name} pushed ${a.name} 1 space forward. (Eggplant)`,type:"equipment",player:e.parent}),o.pushPet(a,1))}}}}class PU extends ze{constructor(){super(...arguments),this.name="Potato",this.equipmentClass="shield-snipe",this.power=10,this.uses=2,this.originalUses=2}}class kU extends ze{constructor(t,e){super(),this.logService=t,this.abilityService=e,this.name="Banana",this.equipmentClass="faint",this.callback=i=>{let s=1;i instanceof _n&&(s=1+i.level);for(let r=0;r<s;r++)this.abilityService.setSpawnEvent({callback:()=>{let o=new hy(this.logService,this.abilityService,i.parent,4,4,0);i.parent.summonPet(o,i.savedPosition);let a="";r>0&&(a=" (Panther)"),this.logService.createLog({message:`${i.name} Spawned Monkey (Banana)${a}`,type:"ability",player:i.parent}),this.abilityService.triggerSummonedEvents(o)},priority:i.attack})}}}class iO extends ze{constructor(t){super(),this.logService=t,this.name="Pita Bread",this.power=0,this.equipmentClass="hurt",this.callback=e=>{var i;let s=null===(i=e.hurt)||void 0===i?void 0:i.bind(e);e.hurt=r=>{var o;if(null!=s&&s(r),"Pita Bread"!=(null===(o=e.equipment)||void 0===o?void 0:o.name)||!e.alive)return;let a=1;e instanceof _n&&(a=1+e.level);let u=15*a;e.increaseHealth(u);let d=`${e.name} gained ${u} health. (Pita Bread)`;d+=".",this.logService.createLog({message:d,type:"equipment",player:e.parent,pantherMultiplier:a}),e.givePetEquipment(null)}}}}class AU extends ze{constructor(t,e){super(),this.logService=t,this.abilityService=e,this.name="Tomato",this.equipmentClass="snipe",this.uses=1,this.originalUses=1,this.attackCallback=(i,s)=>{let r=s.parent.getLastPet();if(null==r)return void console.warn("tomato didn't find target");let o=i.calculateDamgae(r,8,!0),a=o.defenseEquipment,u=o.damage;r.health-=u;let d=`${i.name} sniped ${r.name} for ${u}`;if(i instanceof _n&&(d+=` x${1+i.level} (Panther)`),null!=a){r.useDefenseEquipment();let f=Math.abs(a.power),g="-";a.power<0&&(g="+"),d+=` (${a.name} ${g}${f})`}this.logService.createLog({message:d+=" (Tomato).",type:"attack",player:i.parent}),null!=r.hurt&&this.abilityService.setHurtEvent({callback:r.hurt.bind(r),priority:r.attack,player:r.parent}),r.health<1&&null!=i.knockOut&&(console.log("knock out!"),this.abilityService.setKnockOutEvent({callback:i.knockOut.bind(i),priority:i.attack,callbackPet:r})),r.alive&&this.abilityService.triggerFriendHurtEvents(s.parent,s),r.alive&&u>0&&this.abilityService.triggerEnemyHurtEvents(i.parent,r)}}}let sO=(()=>{class n{constructor(e,i,s,r){this.logService=e,this.abilityService=i,this.petService=s,this.gameService=r}getInstanceOfAllEquipment(){let e=new Map;return e.set("Garlic",new fy),e.set("Meat Bone",new ZI),e.set("Steak",new mU),e.set("Melon",new ll),e.set("Honey",new QI(this.logService,this.abilityService)),e.set("Chili",new cy(this.logService,this.abilityService)),e.set("Mushroom",new yU(this.logService,this.abilityService,this.petService)),e.set("Coconut",new cl),e.set("Peanut",new cf),e.set("Croissant",new vU),e.set("Rice",new JI),e.set("Egg",new YI(this.logService,this.abilityService)),e.set("Salt",new dw),e.set("Pie",new eO),e.set("Skewer",new rD(this.logService)),e.set("Lemon",new _U),e.set("Pancakes",new tO),e.set("Strawberry",new bU),e.set("Cucumber",new SU),e.set("Cheese",new fw),e.set("Grapes",new EU),e.set("Carrot",new wU),e.set("Pepper",new pw),e.set("Popcorn",new CU(this.logService,this.abilityService,this.petService,this.gameService)),e.set("Cherry",new DU),e.set("Chocolate Cake",new wP(this.logService)),e.set("Eggplant",new nO(this.logService)),e.set("Potato",new PU),e.set("Banana",new kU(this.logService,this.abilityService)),e.set("Onion",new zI(this.logService)),e.set("Pita Bread",new iO(this.logService)),e.set("Tomato",new AU(this.logService,this.abilityService)),e}}return n.\u0275fac=function(e){return new(e||n)(V(Ey),V(wy),V(EP),V(du))},n.\u0275prov=ne({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function TU(n,t){if(1&n){const e=Ed();C(0,"span",19),ht("click",function(){return ua(e),zi().setExp(0)}),B(1,"x"),D()}}function xU(n,t){if(1&n&&(C(0,"option",22),B(1),D()),2&n){const e=t.$implicit,i=zi(2);Ie("ngValue",e)("hidden",i.optionHidden(e))("disabled",i.optionHidden(e)),X(1),xs(e)}}function MU(n,t){if(1&n&&(C(0,"optgroup",20),on(1,xU,2,4,"option",21),D()),2&n){const e=t.$implicit;Ie("label","Tier "+e.key),X(1),Ie("ngForOf",e.value)}}function IU(n,t){if(1&n){const e=Ed();C(0,"button",23),ht("click",function(){return ua(e),zi().toggleFlyOut()}),B(1,">"),D()}}function OU(n,t){if(1&n&&(C(0,"option",9),B(1),D()),2&n){const e=t.$implicit;Ie("ngValue",e),X(1),xs(e)}}function RU(n,t){if(1&n&&(C(0,"optgroup",20),on(1,OU,2,2,"option",15),D()),2&n){const e=t.$implicit;Ie("label","Tier "+e.key),X(1),Ie("ngForOf",e.value)}}function NU(n,t){if(1&n&&(C(0,"div",24),C(1,"label",25),B(2,"Swallowed Pet"),D(),C(3,"select",26),C(4,"option",9),B(5,"None"),D(),on(6,RU,2,2,"optgroup",10),Jc(7,"keyvalue"),D(),D()),2&n){const e=zi();X(4),Ie("ngValue",null),X(2),Ie("ngForOf",Xc(7,2,e.pets))}}function LU(n,t){if(1&n&&(C(0,"option",9),B(1),D()),2&n){const e=t.$implicit;Ie("ngValue",e.value),X(1),xs(e.key)}}let rO=(()=>{class n{constructor(e,i){this.petService=e,this.equipmentService=i,this.showFlyOut=!1}ngOnInit(){this.initSelector(),this.fixLoadEquipment()}initSelector(){this.initPets(),this.initEquipment(),this.initForm()}initPets(){this.pets=new Map;for(let e=1;e<=6;e++)this.pets.set(e,[]);for(let[e,i]of this.petService.turtlePackPets)this.pets.get(e).push(...i);for(let[e,i]of this.petService.puppyPackPets)this.pets.get(e).push(...i);for(let[e,i]of this.petService.starPackPets)this.pets.get(e).push(...i);for(let[e,i]of this.petService.goldenPackPets)this.pets.get(e).push(...i);for(let[e,i]of this.pets)this.pets.set(e,[...new Set(i)])}getPack(e){let i;return"Turtle"==e.pack?i=this.petService.turtlePackPets:"Puppy"==e.pack?i=this.petService.puppyPackPets:"Star"==e.pack?i=this.petService.starPackPets:"Golden"==e.pack&&(i=this.petService.goldenPackPets),(0,Oe.cloneDeep)(i)}initEquipment(){this.equipment=this.equipmentService.getInstanceOfAllEquipment()}initForm(){this.formGroup.get("name").valueChanges.subscribe(e=>{null!=e?this.substitutePet(!0):this.removePet()}),this.formGroup.get("attack").valueChanges.subscribe(()=>{this.substitutePet(!1)}),this.formGroup.get("health").valueChanges.subscribe(()=>{this.substitutePet(!1)}),this.formGroup.get("exp").valueChanges.subscribe(()=>{this.substitutePet(!1)}),this.formGroup.get("equipment").valueChanges.subscribe(()=>{this.substitutePet(!1)}),this.formGroup.get("belugaSwallowedPet").valueChanges.subscribe(e=>{this.setBelugaSwallow(e)})}setExp(e){this.formGroup.get("exp").setValue(e)}getIsSelected(e){return this.formGroup.get("exp").value>=e}showRemoveExp(){return this.formGroup.get("exp").value>0}substitutePet(e=!1){setTimeout(()=>{let i=this.formGroup.value;e&&(i.attack=null,i.health=null);let s=this.petService.createPet(i,this.player);this.player.setPet(this.index,s,!0),console.log("pet substituted",this.player),e&&(this.formGroup.get("attack").setValue(s.attack,{emitEvent:!1}),this.formGroup.get("health").setValue(s.health,{emitEvent:!1}))})}setBelugaSwallow(e){let i=this.player.getPet(this.index);i.belugaSwallowedPet=e,console.log(i)}showFlyOutButton(){return"Beluga Whale"==this.formGroup.get("name").value}toggleFlyOut(){this.showFlyOut=!this.showFlyOut}removePet(){this.player.setPet(this.index,null,!0),this.formGroup.get("attack").setValue(null,{emitEvent:!1}),this.formGroup.get("health").setValue(null,{emitEvent:!1}),this.formGroup.get("exp").setValue(0,{emitEvent:!1})}optionHidden(e){var i;let s=this.getPack(this.player);for(let[r,o]of s)if(o.includes(e))return!1;if(this.angler){let r=this.getPack(this.opponent);for(let[o,a]of r)if(a.includes(e))return!1}return(null===(i=this.player.getPet(this.index))||void 0===i?void 0:i.name)!=e}fixLoadEquipment(){let e=this.formGroup.get("equipment").value;null!=e&&this.formGroup.get("equipment").setValue(this.equipment.get(e.name))}}return n.\u0275fac=function(e){return new(e||n)(L(EP),L(sO))},n.\u0275cmp=Sr({type:n,selectors:[["app-pet-selector"]],inputs:{pet:"pet",player:"player",opponent:"opponent",index:"index",angler:"angler",formGroup:"formGroup"},decls:36,vars:22,consts:[[1,"card","p-3"],[1,"row","form-group",3,"formGroup"],[1,"col-12","d-flex","level-bar-numbers","mb-1"],[1,"level-3"],[1,"col-12","d-flex","level-bar","mb-2"],["class","remove-exp",3,"click",4,"ngIf"],[3,"click"],[1,"col-12","mb-2","d-flex"],["formControlName","name",1,"form-control"],[3,"ngValue"],[3,"label",4,"ngFor","ngForOf"],["class","btn btn-secondary",3,"click",4,"ngIf"],["class","fly-out border p-3",4,"ngIf"],[1,"col-12","mb-2"],["formControlName","equipment",1,"form-control"],[3,"ngValue",4,"ngFor","ngForOf"],[1,"col-6"],["formControlName","attack","type","number","min","1","max","50",1,"form-control","select-attack"],["formControlName","health","type","number","min","1","max","50",1,"form-control","select-health"],[1,"remove-exp",3,"click"],[3,"label"],[3,"ngValue","hidden","disabled",4,"ngFor","ngForOf"],[3,"ngValue","hidden","disabled"],[1,"btn","btn-secondary",3,"click"],[1,"fly-out","border","p-3"],["for","belugaSwallowedPet"],["formControlName","belugaSwallowedPet",1,"form-control"]],template:function(e,i){1&e&&(C(0,"div",0),C(1,"div",1),C(2,"div",2),C(3,"span"),B(4,"1"),D(),Ve(5,"span"),C(6,"span"),B(7,"2"),D(),Ve(8,"span"),C(9,"span",3),B(10,"3"),D(),D(),C(11,"div",4),on(12,TU,2,0,"span",5),C(13,"span",6),ht("click",function(){return i.setExp(1)}),D(),C(14,"span",6),ht("click",function(){return i.setExp(2)}),D(),C(15,"span",6),ht("click",function(){return i.setExp(3)}),D(),C(16,"span",6),ht("click",function(){return i.setExp(4)}),D(),C(17,"span",6),ht("click",function(){return i.setExp(5)}),D(),D(),C(18,"div",7),C(19,"select",8),C(20,"option",9),B(21,"None"),D(),on(22,MU,2,2,"optgroup",10),Jc(23,"keyvalue"),D(),on(24,IU,2,0,"button",11),on(25,NU,8,4,"div",12),D(),C(26,"div",13),C(27,"select",14),C(28,"option",9),B(29,"None"),D(),on(30,LU,2,2,"option",15),Jc(31,"keyvalue"),D(),D(),C(32,"div",16),Ve(33,"input",17),D(),C(34,"div",16),Ve(35,"input",18),D(),D(),D()),2&e&&(X(1),Ie("formGroup",i.formGroup),X(11),Ie("ngIf",i.showRemoveExp()),X(1),$c(i.getIsSelected(1)?"selected":""),X(1),$c(i.getIsSelected(2)?"selected":""),X(1),$c(i.getIsSelected(3)?"selected":""),X(1),$c(i.getIsSelected(4)?"selected":""),X(1),$c(i.getIsSelected(5)?"selected":""),X(3),Ie("ngValue",null),X(2),Ie("ngForOf",Xc(23,18,i.pets)),X(2),Ie("ngIf",i.showFlyOutButton()),X(1),Ie("ngIf",i.showFlyOut),X(3),Ie("ngValue",null),X(2),Ie("ngForOf",Xc(31,20,i.equipment)))},directives:[GE,af,EE,lf,UE,ny,ow,lw,SE,tf,ty,cw,iy],pipes:[DE],styles:[".select-attack[_ngcontent-%COMP%]{background-color:gray;color:#fff}.select-health[_ngcontent-%COMP%]{background-color:#ca0202;color:#fff}.select-attack[_ngcontent-%COMP%], .select-health[_ngcontent-%COMP%]{font-size:1.5em;padding-right:0}.level-bar[_ngcontent-%COMP%], .level-bar-numbers[_ngcontent-%COMP%]{height:1em}.level-bar[_ngcontent-%COMP%]   span[_ngcontent-%COMP%], .level-bar-numbers[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{width:calc(100% / 5);height:100%}.level-bar[_ngcontent-%COMP%]{position:relative}.level-bar[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{cursor:pointer;border:2px solid black;background-color:#9c5900;border-radius:20%}.level-bar[_ngcontent-%COMP%]   .remove-exp[_ngcontent-%COMP%]{border:initial;background-color:initial;border-radius:initial;width:initial;position:absolute;left:0;bottom:.33em}.level-bar[_ngcontent-%COMP%]   span.selected[_ngcontent-%COMP%]{background-color:#feb900}.level-3[_ngcontent-%COMP%]{text-align:right}.fly-out[_ngcontent-%COMP%]{position:absolute;left:100%;background-color:#fff;width:100%;z-index:1;box-shadow:12px 4px 9px 7px #0000001a}"]}),n})();function es(n){return null!=n&&"false"!=`${n}`}function ul(n,t=0){return function(n){return!isNaN(parseFloat(n))&&!isNaN(Number(n))}(n)?Number(n):t}function bn(n){return n instanceof _t?n.nativeElement:n}function fu(...n){let t=n[n.length-1];return eo(t)?(n.pop(),wu(n,t)):Mf(n)}function CP(n,t,e,i){return Yn(e)&&(i=e,e=void 0),i?CP(n,t,e).pipe(to(s=>cn(s)?i(...s):i(s))):new $e(s=>{oO(n,t,function(o){s.next(arguments.length>1?Array.prototype.slice.call(arguments):o)},s,e)})}function oO(n,t,e,i,s){let r;if(function(n){return n&&"function"==typeof n.addEventListener&&"function"==typeof n.removeEventListener}(n)){const o=n;n.addEventListener(t,e,s),r=()=>o.removeEventListener(t,e,s)}else if(function(n){return n&&"function"==typeof n.on&&"function"==typeof n.off}(n)){const o=n;n.on(t,e),r=()=>o.off(t,e)}else if(function(n){return n&&"function"==typeof n.addListener&&"function"==typeof n.removeListener}(n)){const o=n;n.addListener(t,e),r=()=>o.removeListener(t,e)}else{if(!n||!n.length)throw new TypeError("Invalid event target");for(let o=0,a=n.length;o<a;o++)oO(n[o],t,e,i,s)}i.add(r)}class qU extends je{constructor(t,e){super()}schedule(t,e=0){return this}}class Cy extends qU{constructor(t,e){super(t,e),this.scheduler=t,this.work=e,this.pending=!1}schedule(t,e=0){if(this.closed)return this;this.state=t;const i=this.id,s=this.scheduler;return null!=i&&(this.id=this.recycleAsyncId(s,i,e)),this.pending=!0,this.delay=e,this.id=this.id||this.requestAsyncId(s,this.id,e),this}requestAsyncId(t,e,i=0){return setInterval(t.flush.bind(t,this),i)}recycleAsyncId(t,e,i=0){if(null!==i&&this.delay===i&&!1===this.pending)return e;clearInterval(e)}execute(t,e){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const i=this._execute(t,e);if(i)return i;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(t,e){let s,i=!1;try{this.work(t)}catch(r){i=!0,s=!!r&&r||new Error(r)}if(i)return this.unsubscribe(),s}_unsubscribe(){const t=this.id,e=this.scheduler,i=e.actions,s=i.indexOf(this);this.work=null,this.state=null,this.pending=!1,this.scheduler=null,-1!==s&&i.splice(s,1),null!=t&&(this.id=this.recycleAsyncId(e,t,null)),this.delay=null}}let aO=(()=>{class n{constructor(e,i=n.now){this.SchedulerAction=e,this.now=i}schedule(e,i=0,s){return new this.SchedulerAction(this,e).schedule(s,i)}}return n.now=()=>Date.now(),n})();class Vs extends aO{constructor(t,e=aO.now){super(t,()=>Vs.delegate&&Vs.delegate!==this?Vs.delegate.now():e()),this.actions=[],this.active=!1,this.scheduled=void 0}schedule(t,e=0,i){return Vs.delegate&&Vs.delegate!==this?Vs.delegate.schedule(t,e,i):super.schedule(t,e,i)}flush(t){const{actions:e}=this;if(this.active)return void e.push(t);let i;this.active=!0;do{if(i=t.execute(t.state,t.delay))break}while(t=e.shift());if(this.active=!1,i){for(;t=e.shift();)t.unsubscribe();throw i}}}const lO=new class extends Vs{flush(t){this.active=!0,this.scheduled=void 0;const{actions:e}=this;let i,s=-1,r=e.length;t=t||e.shift();do{if(i=t.execute(t.state,t.delay))break}while(++s<r&&(t=e.shift()));if(this.active=!1,i){for(;++s<r&&(t=e.shift());)t.unsubscribe();throw i}}}(class extends Cy{constructor(t,e){super(t,e),this.scheduler=t,this.work=e}requestAsyncId(t,e,i=0){return null!==i&&i>0?super.requestAsyncId(t,e,i):(t.actions.push(this),t.scheduled||(t.scheduled=requestAnimationFrame(()=>t.flush(null))))}recycleAsyncId(t,e,i=0){if(null!==i&&i>0||null===i&&this.delay>0)return super.recycleAsyncId(t,e,i);0===t.actions.length&&(cancelAnimationFrame(e),t.scheduled=void 0)}});let jU=1;const WU=Promise.resolve(),Dy={};function cO(n){return n in Dy&&(delete Dy[n],!0)}const uO={setImmediate(n){const t=jU++;return Dy[t]=!0,WU.then(()=>cO(t)&&n()),t},clearImmediate(n){cO(n)}},ff=(new class extends Vs{flush(t){this.active=!0,this.scheduled=void 0;const{actions:e}=this;let i,s=-1,r=e.length;t=t||e.shift();do{if(i=t.execute(t.state,t.delay))break}while(++s<r&&(t=e.shift()));if(this.active=!1,i){for(;++s<r&&(t=e.shift());)t.unsubscribe();throw i}}}(class extends Cy{constructor(t,e){super(t,e),this.scheduler=t,this.work=e}requestAsyncId(t,e,i=0){return null!==i&&i>0?super.requestAsyncId(t,e,i):(t.actions.push(this),t.scheduled||(t.scheduled=uO.setImmediate(t.flush.bind(t,null))))}recycleAsyncId(t,e,i=0){if(null!==i&&i>0||null===i&&this.delay>0)return super.recycleAsyncId(t,e,i);0===t.actions.length&&(uO.clearImmediate(e),t.scheduled=void 0)}}),new Vs(Cy));class XU{constructor(t){this.durationSelector=t}call(t,e){return e.subscribe(new e4(t,this.durationSelector))}}class e4 extends ta{constructor(t,e){super(t),this.durationSelector=e,this.hasValue=!1}_next(t){if(this.value=t,this.hasValue=!0,!this.throttled){let e;try{const{durationSelector:s}=this;e=s(t)}catch(s){return this.destination.error(s)}const i=Us(e,new wl(this));!i||i.closed?this.clearThrottle():this.add(this.throttled=i)}}clearThrottle(){const{value:t,hasValue:e,throttled:i}=this;i&&(this.remove(i),this.throttled=void 0,i.unsubscribe()),e&&(this.value=void 0,this.hasValue=!1,this.destination.next(t))}notifyNext(){this.clearThrottle()}notifyComplete(){this.clearThrottle()}}function DP(n){return!cn(n)&&n-parseFloat(n)+1>=0}function n4(n){const{index:t,period:e,subscriber:i}=n;if(i.next(t),!i.closed){if(-1===e)return i.complete();n.index=t+1,this.schedule(n,e)}}function PP(n,t=ff){return function(n){return function(e){return e.lift(new XU(n))}}(()=>function(n=0,t,e){let i=-1;return DP(t)?i=Number(t)<1?1:Number(t):eo(t)&&(e=t),eo(e)||(e=ff),new $e(s=>{const r=DP(n)?n:+n-e.now();return e.schedule(n4,r,{index:0,period:i,subscriber:s})})}(n,t))}class s4{constructor(t,e){this.predicate=t,this.thisArg=e}call(t,e){return e.subscribe(new r4(t,this.predicate,this.thisArg))}}class r4 extends at{constructor(t,e,i){super(t),this.predicate=e,this.thisArg=i,this.count=0}_next(t){let e;try{e=this.predicate.call(this.thisArg,t,this.count++)}catch(i){return void this.destination.error(i)}e&&this.destination.next(t)}}function Uo(n){return t=>t.lift(new o4(n))}class o4{constructor(t){this.notifier=t}call(t,e){const i=new a4(t),s=Us(this.notifier,new wl(i));return s&&!i.seenValue?(i.add(s),e.subscribe(i)):i}}class a4 extends ta{constructor(t){super(t),this.seenValue=!1}notifyNext(){this.seenValue=!0,this.complete()}notifyComplete(){}}function fO(...n){return no(1)(fu(...n))}function pf(...n){const t=n[n.length-1];return eo(t)?(n.pop(),e=>fO(n,e,t)):e=>fO(n,e)}function kP(n,t){return"function"==typeof t?e=>e.pipe(kP((i,s)=>Hs(n(i,s)).pipe(to((r,o)=>t(i,r,s,o))))):e=>e.lift(new d4(n))}class d4{constructor(t){this.project=t}call(t,e){return e.subscribe(new f4(t,this.project))}}class f4 extends ta{constructor(t,e){super(t),this.project=e,this.index=0}_next(t){let e;const i=this.index++;try{e=this.project(t,i)}catch(s){return void this.destination.error(s)}this._innerSub(e)}_innerSub(t){const e=this.innerSubscription;e&&e.unsubscribe();const i=new wl(this),s=this.destination;s.add(i),this.innerSubscription=Us(t,i),this.innerSubscription!==i&&s.add(this.innerSubscription)}_complete(){const{innerSubscription:t}=this;(!t||t.closed)&&super._complete(),this.unsubscribe()}_unsubscribe(){this.innerSubscription=void 0}notifyComplete(){this.innerSubscription=void 0,this.isStopped&&super._complete()}notifyNext(t){this.destination.next(t)}}new class extends Vs{}(class extends Cy{constructor(t,e){super(t,e),this.scheduler=t,this.work=e}schedule(t,e=0){return e>0?super.schedule(t,e):(this.delay=e,this.state=t,this.scheduler.flush(this),this)}execute(t,e){return e>0||this.closed?super.execute(t,e):this._execute(t,e)}requestAsyncId(t,e,i=0){return null!==i&&i>0||null===i&&this.delay>0?super.requestAsyncId(t,e,i):t.flush(this)}});const y4=new $e(n=>n.complete());function pO(n){return n?function(n){return new $e(t=>n.schedule(()=>t.complete()))}(n):y4}class ts{constructor(t,e,i){this.kind=t,this.value=e,this.error=i,this.hasValue="N"===t}observe(t){switch(this.kind){case"N":return t.next&&t.next(this.value);case"E":return t.error&&t.error(this.error);case"C":return t.complete&&t.complete()}}do(t,e,i){switch(this.kind){case"N":return t&&t(this.value);case"E":return e&&e(this.error);case"C":return i&&i()}}accept(t,e,i){return t&&"function"==typeof t.next?this.observe(t):this.do(t,e,i)}toObservable(){switch(this.kind){case"N":return fu(this.value);case"E":return function(n,t){return new $e(e=>e.error(n))}(this.error);case"C":return pO()}throw new Error("unexpected notification kind value")}static createNext(t){return void 0!==t?new ts("N",t):ts.undefinedValueNotification}static createError(t){return new ts("E",void 0,t)}static createComplete(){return ts.completeNotification}}let AP;ts.completeNotification=new ts("C"),ts.undefinedValueNotification=new ts("N",void 0);try{AP="undefined"!=typeof Intl&&Intl.v8BreakIterator}catch(n){AP=!1}let gf,TP,ns=(()=>{class n{constructor(e){this._platformId=e,this.isBrowser=this._platformId?function(n){return n===$M}(this._platformId):"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!AP)&&"undefined"!=typeof CSS&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}}return n.\u0275fac=function(e){return new(e||n)(V(Gd))},n.\u0275prov=ne({factory:function(){return new n(V(Gd))},token:n,providedIn:"root"}),n})();function mf(n){return function(){if(null==gf&&"undefined"!=typeof window)try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>gf=!0}))}finally{gf=gf||!1}return gf}()?n:!!n.capture}function xP(n){if(function(){if(null==TP){const n="undefined"!=typeof document?document.head:null;TP=!(!n||!n.createShadowRoot&&!n.attachShadow)}return TP}()){const t=n.getRootNode?n.getRootNode():null;if("undefined"!=typeof ShadowRoot&&ShadowRoot&&t instanceof ShadowRoot)return t}return null}function ur(n){return n.composedPath?n.composedPath()[0]:n.target}const yO=new ce("cdk-dir-doc",{providedIn:"root",factory:function(){return Zv(Fe)}});let vf=(()=>{class n{constructor(e){if(this.value="ltr",this.change=new nt,e){const s=e.documentElement?e.documentElement.dir:null,r=(e.body?e.body.dir:null)||s;this.value="ltr"===r||"rtl"===r?r:"ltr"}}ngOnDestroy(){this.change.complete()}}return n.\u0275fac=function(e){return new(e||n)(V(yO,8))},n.\u0275prov=ne({factory:function(){return new n(V(yO,8))},token:n,providedIn:"root"}),n})(),MP=(()=>{class n{constructor(e,i,s){this._ngZone=e,this._platform=i,this._scrolled=new Re,this._globalSubscription=null,this._scrolledCount=0,this.scrollContainers=new Map,this._document=s}register(e){this.scrollContainers.has(e)||this.scrollContainers.set(e,e.elementScrolled().subscribe(()=>this._scrolled.next(e)))}deregister(e){const i=this.scrollContainers.get(e);i&&(i.unsubscribe(),this.scrollContainers.delete(e))}scrolled(e=20){return this._platform.isBrowser?new $e(i=>{this._globalSubscription||this._addGlobalListener();const s=e>0?this._scrolled.pipe(PP(e)).subscribe(i):this._scrolled.subscribe(i);return this._scrolledCount++,()=>{s.unsubscribe(),this._scrolledCount--,this._scrolledCount||this._removeGlobalListener()}}):fu()}ngOnDestroy(){this._removeGlobalListener(),this.scrollContainers.forEach((e,i)=>this.deregister(i)),this._scrolled.complete()}ancestorScrolled(e,i){const s=this.getAncestorScrollContainers(e);return this.scrolled(i).pipe(function(n,t){return function(i){return i.lift(new s4(n,undefined))}}(r=>!r||s.indexOf(r)>-1))}getAncestorScrollContainers(e){const i=[];return this.scrollContainers.forEach((s,r)=>{this._scrollableContainsElement(r,e)&&i.push(r)}),i}_getWindow(){return this._document.defaultView||window}_scrollableContainsElement(e,i){let s=bn(i),r=e.getElementRef().nativeElement;do{if(s==r)return!0}while(s=s.parentElement);return!1}_addGlobalListener(){this._globalSubscription=this._ngZone.runOutsideAngular(()=>CP(this._getWindow().document,"scroll").subscribe(()=>this._scrolled.next()))}_removeGlobalListener(){this._globalSubscription&&(this._globalSubscription.unsubscribe(),this._globalSubscription=null)}}return n.\u0275fac=function(e){return new(e||n)(V(xe),V(ns),V(Fe,8))},n.\u0275prov=ne({factory:function(){return new n(V(xe),V(ns),V(Fe,8))},token:n,providedIn:"root"}),n})(),IP=(()=>{class n{constructor(e,i,s){this._platform=e,this._change=new Re,this._changeListener=r=>{this._change.next(r)},this._document=s,i.runOutsideAngular(()=>{if(e.isBrowser){const r=this._getWindow();r.addEventListener("resize",this._changeListener),r.addEventListener("orientationchange",this._changeListener)}this.change().subscribe(()=>this._viewportSize=null)})}ngOnDestroy(){if(this._platform.isBrowser){const e=this._getWindow();e.removeEventListener("resize",this._changeListener),e.removeEventListener("orientationchange",this._changeListener)}this._change.complete()}getViewportSize(){this._viewportSize||this._updateViewportSize();const e={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),e}getViewportRect(){const e=this.getViewportScrollPosition(),{width:i,height:s}=this.getViewportSize();return{top:e.top,left:e.left,bottom:e.top+s,right:e.left+i,height:s,width:i}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};const e=this._document,i=this._getWindow(),s=e.documentElement,r=s.getBoundingClientRect();return{top:-r.top||e.body.scrollTop||i.scrollY||s.scrollTop||0,left:-r.left||e.body.scrollLeft||i.scrollX||s.scrollLeft||0}}change(e=20){return e>0?this._change.pipe(PP(e)):this._change}_getWindow(){return this._document.defaultView||window}_updateViewportSize(){const e=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:e.innerWidth,height:e.innerHeight}:{width:0,height:0}}}return n.\u0275fac=function(e){return new(e||n)(V(ns),V(xe),V(Fe,8))},n.\u0275prov=ne({factory:function(){return new n(V(ns),V(xe),V(Fe,8))},token:n,providedIn:"root"}),n})(),OP=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=Se({type:n}),n.\u0275inj=Nt({}),n})();const Y4=(()=>{function n(){return Error.call(this),this.message="argument out of range",this.name="ArgumentOutOfRangeError",this}return n.prototype=Object.create(Error.prototype),n})();function RP(n){return t=>0===n?pO():t.lift(new J4(n))}class J4{constructor(t){if(this.total=t,this.total<0)throw new Y4}call(t,e){return e.subscribe(new X4(t,this.total))}}class X4 extends at{constructor(t,e){super(t),this.total=e,this.count=0}_next(t){const e=this.total,i=++this.count;i<=e&&(this.destination.next(t),i===e&&(this.destination.complete(),this.unsubscribe()))}}function IG(n){const{subscriber:t,counter:e,period:i}=n;t.next(e),this.schedule({subscriber:t,counter:e+1,period:i},i)}function Go(){}"undefined"!=typeof Element&&Element;class RG{constructor(t,e,i){this.nextOrObserver=t,this.error=e,this.complete=i}call(t,e){return e.subscribe(new NG(t,this.nextOrObserver,this.error,this.complete))}}class NG extends at{constructor(t,e,i,s){super(t),this._tapNext=Go,this._tapError=Go,this._tapComplete=Go,this._tapError=i||Go,this._tapComplete=s||Go,Yn(e)?(this._context=this,this._tapNext=e):e&&(this._context=e,this._tapNext=e.next||Go,this._tapError=e.error||Go,this._tapComplete=e.complete||Go)}_next(t){try{this._tapNext.call(this._context,t)}catch(e){return void this.destination.error(e)}this.destination.next(t)}_error(t){try{this._tapError.call(this._context,t)}catch(e){return void this.destination.error(e)}this.destination.error(t)}_complete(){try{this._tapComplete.call(this._context)}catch(t){return void this.destination.error(t)}return this.destination.complete()}}function FP(n,t,e){for(let i in t)if(t.hasOwnProperty(i)){const s=t[i];s?n.setProperty(i,s,(null==e?void 0:e.has(i))?"important":""):n.removeProperty(i)}return n}function mu(n,t){const e=t?"":"none";FP(n.style,{"touch-action":t?"":"none","-webkit-user-drag":t?"":"none","-webkit-tap-highlight-color":t?"":"transparent","user-select":e,"-ms-user-select":e,"-webkit-user-select":e,"-moz-user-select":e})}function BO(n,t,e){FP(n.style,{position:t?"":"fixed",top:t?"":"0",opacity:t?"":"0",left:t?"":"-999em"},e)}function Ty(n,t){return t&&"none"!=t?n+" "+t:n}function $O(n){const t=n.toLowerCase().indexOf("ms")>-1?1:1e3;return parseFloat(n)*t}function VP(n,t){return n.getPropertyValue(t).split(",").map(i=>i.trim())}function BP(n){const t=n.getBoundingClientRect();return{top:t.top,right:t.right,bottom:t.bottom,left:t.left,width:t.width,height:t.height}}function $P(n,t,e){const{top:i,bottom:s,left:r,right:o}=n;return e>=i&&e<=s&&t>=r&&t<=o}function _f(n,t,e){n.top+=t,n.bottom=n.top+n.height,n.left+=e,n.right=n.left+n.width}function HO(n,t,e,i){const{top:s,right:r,bottom:o,left:a,width:u,height:d}=n,f=u*t,g=d*t;return i>s-g&&i<o+g&&e>a-f&&e<r+f}class qO{constructor(t,e){this._document=t,this._viewportRuler=e,this.positions=new Map}clear(){this.positions.clear()}cache(t){this.clear(),this.positions.set(this._document,{scrollPosition:this._viewportRuler.getViewportScrollPosition()}),t.forEach(e=>{this.positions.set(e,{scrollPosition:{top:e.scrollTop,left:e.scrollLeft},clientRect:BP(e)})})}handleScroll(t){const e=ur(t),i=this.positions.get(e);if(!i)return null;const s=e===this._document?e.documentElement:e,r=i.scrollPosition;let o,a;if(e===this._document){const f=this._viewportRuler.getViewportScrollPosition();o=f.top,a=f.left}else o=e.scrollTop,a=e.scrollLeft;const u=r.top-o,d=r.left-a;return this.positions.forEach((f,g)=>{f.clientRect&&e!==g&&s.contains(g)&&_f(f.clientRect,u,d)}),r.top=o,r.left=a,{top:u,left:d}}}function UO(n){const t=n.cloneNode(!0),e=t.querySelectorAll("[id]"),i=n.nodeName.toLowerCase();t.removeAttribute("id");for(let s=0;s<e.length;s++)e[s].removeAttribute("id");return"canvas"===i?WO(n,t):("input"===i||"select"===i||"textarea"===i)&&jO(n,t),GO("canvas",n,t,WO),GO("input, textarea, select",n,t,jO),t}function GO(n,t,e,i){const s=t.querySelectorAll(n);if(s.length){const r=e.querySelectorAll(n);for(let o=0;o<s.length;o++)i(s[o],r[o])}}let FG=0;function jO(n,t){"file"!==t.type&&(t.value=n.value),"radio"===t.type&&t.name&&(t.name=`mat-clone-${t.name}-${FG++}`)}function WO(n,t){const e=t.getContext("2d");if(e)try{e.drawImage(n,0,0)}catch(i){}}const zO=mf({passive:!0}),KO=mf({passive:!1}),HP=new Set(["position"]);class BG{constructor(t,e,i,s,r,o){this._config=e,this._document=i,this._ngZone=s,this._viewportRuler=r,this._dragDropRegistry=o,this._passiveTransform={x:0,y:0},this._activeTransform={x:0,y:0},this._hasStartedDragging=!1,this._moveEvents=new Re,this._pointerMoveSubscription=je.EMPTY,this._pointerUpSubscription=je.EMPTY,this._scrollSubscription=je.EMPTY,this._resizeSubscription=je.EMPTY,this._boundaryElement=null,this._nativeInteractionsEnabled=!0,this._handles=[],this._disabledHandles=new Set,this._direction="ltr",this.dragStartDelay=0,this._disabled=!1,this.beforeStarted=new Re,this.started=new Re,this.released=new Re,this.ended=new Re,this.entered=new Re,this.exited=new Re,this.dropped=new Re,this.moved=this._moveEvents,this._pointerDown=a=>{if(this.beforeStarted.next(),this._handles.length){const u=this._handles.find(d=>{const f=ur(a);return!!f&&(f===d||d.contains(f))});u&&!this._disabledHandles.has(u)&&!this.disabled&&this._initializeDragSequence(u,a)}else this.disabled||this._initializeDragSequence(this._rootElement,a)},this._pointerMove=a=>{const u=this._getPointerPositionOnPage(a);if(!this._hasStartedDragging){if(Math.abs(u.x-this._pickupPositionOnPage.x)+Math.abs(u.y-this._pickupPositionOnPage.y)>=this._config.dragStartThreshold){const v=Date.now()>=this._dragStartTime+this._getDragStartDelay(a),S=this._dropContainer;if(!v)return void this._endDragSequence(a);(!S||!S.isDragging()&&!S.isReceiving())&&(a.preventDefault(),this._hasStartedDragging=!0,this._ngZone.run(()=>this._startDragSequence(a)))}return}this._boundaryElement&&(!this._previewRect||!this._previewRect.width&&!this._previewRect.height)&&(this._previewRect=(this._preview||this._rootElement).getBoundingClientRect()),a.preventDefault();const d=this._getConstrainedPointerPosition(u);if(this._hasMoved=!0,this._lastKnownPointerPosition=u,this._updatePointerDirectionDelta(d),this._dropContainer)this._updateActiveDropContainer(d,u);else{const f=this._activeTransform;f.x=d.x-this._pickupPositionOnPage.x+this._passiveTransform.x,f.y=d.y-this._pickupPositionOnPage.y+this._passiveTransform.y,this._applyRootElementTransform(f.x,f.y),"undefined"!=typeof SVGElement&&this._rootElement instanceof SVGElement&&this._rootElement.setAttribute("transform",`translate(${f.x} ${f.y})`)}this._moveEvents.observers.length&&this._ngZone.run(()=>{this._moveEvents.next({source:this,pointerPosition:d,event:a,distance:this._getDragDistance(d),delta:this._pointerDirectionDelta})})},this._pointerUp=a=>{this._endDragSequence(a)},this.withRootElement(t).withParent(e.parentDragRef||null),this._parentPositions=new qO(i,r),o.registerDragItem(this)}get disabled(){return this._disabled||!(!this._dropContainer||!this._dropContainer.disabled)}set disabled(t){const e=es(t);e!==this._disabled&&(this._disabled=e,this._toggleNativeDragInteractions(),this._handles.forEach(i=>mu(i,e)))}getPlaceholderElement(){return this._placeholder}getRootElement(){return this._rootElement}getVisibleElement(){return this.isDragging()?this.getPlaceholderElement():this.getRootElement()}withHandles(t){this._handles=t.map(i=>bn(i)),this._handles.forEach(i=>mu(i,this.disabled)),this._toggleNativeDragInteractions();const e=new Set;return this._disabledHandles.forEach(i=>{this._handles.indexOf(i)>-1&&e.add(i)}),this._disabledHandles=e,this}withPreviewTemplate(t){return this._previewTemplate=t,this}withPlaceholderTemplate(t){return this._placeholderTemplate=t,this}withRootElement(t){const e=bn(t);return e!==this._rootElement&&(this._rootElement&&this._removeRootElementListeners(this._rootElement),this._ngZone.runOutsideAngular(()=>{e.addEventListener("mousedown",this._pointerDown,KO),e.addEventListener("touchstart",this._pointerDown,zO)}),this._initialTransform=void 0,this._rootElement=e),"undefined"!=typeof SVGElement&&this._rootElement instanceof SVGElement&&(this._ownerSVGElement=this._rootElement.ownerSVGElement),this}withBoundaryElement(t){return this._boundaryElement=t?bn(t):null,this._resizeSubscription.unsubscribe(),t&&(this._resizeSubscription=this._viewportRuler.change(10).subscribe(()=>this._containInsideBoundaryOnResize())),this}withParent(t){return this._parentDragRef=t,this}dispose(){this._removeRootElementListeners(this._rootElement),this.isDragging()&&My(this._rootElement),My(this._anchor),this._destroyPreview(),this._destroyPlaceholder(),this._dragDropRegistry.removeDragItem(this),this._removeSubscriptions(),this.beforeStarted.complete(),this.started.complete(),this.released.complete(),this.ended.complete(),this.entered.complete(),this.exited.complete(),this.dropped.complete(),this._moveEvents.complete(),this._handles=[],this._disabledHandles.clear(),this._dropContainer=void 0,this._resizeSubscription.unsubscribe(),this._parentPositions.clear(),this._boundaryElement=this._rootElement=this._ownerSVGElement=this._placeholderTemplate=this._previewTemplate=this._anchor=this._parentDragRef=null}isDragging(){return this._hasStartedDragging&&this._dragDropRegistry.isDragging(this)}reset(){this._rootElement.style.transform=this._initialTransform||"",this._activeTransform={x:0,y:0},this._passiveTransform={x:0,y:0}}disableHandle(t){!this._disabledHandles.has(t)&&this._handles.indexOf(t)>-1&&(this._disabledHandles.add(t),mu(t,!0))}enableHandle(t){this._disabledHandles.has(t)&&(this._disabledHandles.delete(t),mu(t,this.disabled))}withDirection(t){return this._direction=t,this}_withDropContainer(t){this._dropContainer=t}getFreeDragPosition(){const t=this.isDragging()?this._activeTransform:this._passiveTransform;return{x:t.x,y:t.y}}setFreeDragPosition(t){return this._activeTransform={x:0,y:0},this._passiveTransform.x=t.x,this._passiveTransform.y=t.y,this._dropContainer||this._applyRootElementTransform(t.x,t.y),this}withPreviewContainer(t){return this._previewContainer=t,this}_sortFromLastPointerPosition(){const t=this._lastKnownPointerPosition;t&&this._dropContainer&&this._updateActiveDropContainer(this._getConstrainedPointerPosition(t),t)}_removeSubscriptions(){this._pointerMoveSubscription.unsubscribe(),this._pointerUpSubscription.unsubscribe(),this._scrollSubscription.unsubscribe()}_destroyPreview(){this._preview&&My(this._preview),this._previewRef&&this._previewRef.destroy(),this._preview=this._previewRef=null}_destroyPlaceholder(){this._placeholder&&My(this._placeholder),this._placeholderRef&&this._placeholderRef.destroy(),this._placeholder=this._placeholderRef=null}_endDragSequence(t){if(this._dragDropRegistry.isDragging(this)&&(this._removeSubscriptions(),this._dragDropRegistry.stopDragging(this),this._toggleNativeDragInteractions(),this._handles&&(this._rootElement.style.webkitTapHighlightColor=this._rootElementTapHighlight),this._hasStartedDragging))if(this.released.next({source:this}),this._dropContainer)this._dropContainer._stopScrolling(),this._animatePreviewToPlaceholder().then(()=>{this._cleanupDragArtifacts(t),this._cleanupCachedDimensions(),this._dragDropRegistry.stopDragging(this)});else{this._passiveTransform.x=this._activeTransform.x;const e=this._getPointerPositionOnPage(t);this._passiveTransform.y=this._activeTransform.y,this._ngZone.run(()=>{this.ended.next({source:this,distance:this._getDragDistance(e),dropPoint:e})}),this._cleanupCachedDimensions(),this._dragDropRegistry.stopDragging(this)}}_startDragSequence(t){bf(t)&&(this._lastTouchEventTime=Date.now()),this._toggleNativeDragInteractions();const e=this._dropContainer;if(e){const i=this._rootElement,s=i.parentNode,r=this._placeholder=this._createPlaceholderElement(),o=this._anchor=this._anchor||this._document.createComment(""),a=this._getShadowRoot();s.insertBefore(o,i),this._initialTransform=i.style.transform||"",this._preview=this._createPreviewElement(),BO(i,!1,HP),this._document.body.appendChild(s.replaceChild(r,i)),this._getPreviewInsertionPoint(s,a).appendChild(this._preview),this.started.next({source:this}),e.start(),this._initialContainer=e,this._initialIndex=e.getItemIndex(this)}else this.started.next({source:this}),this._initialContainer=this._initialIndex=void 0;this._parentPositions.cache(e?e.getScrollableParents():[])}_initializeDragSequence(t,e){this._parentDragRef&&e.stopPropagation();const i=this.isDragging(),s=bf(e),r=!s&&0!==e.button,o=this._rootElement,a=ur(e),u=!s&&this._lastTouchEventTime&&this._lastTouchEventTime+800>Date.now(),d=s?function(n){const t=n.touches&&n.touches[0]||n.changedTouches&&n.changedTouches[0];return!(!t||-1!==t.identifier||null!=t.radiusX&&1!==t.radiusX||null!=t.radiusY&&1!==t.radiusY)}(e):function(n){return 0===n.offsetX&&0===n.offsetY}(e);if(a&&a.draggable&&"mousedown"===e.type&&e.preventDefault(),i||r||u||d)return;this._handles.length&&(this._rootElementTapHighlight=o.style.webkitTapHighlightColor||"",o.style.webkitTapHighlightColor="transparent"),this._hasStartedDragging=this._hasMoved=!1,this._removeSubscriptions(),this._pointerMoveSubscription=this._dragDropRegistry.pointerMove.subscribe(this._pointerMove),this._pointerUpSubscription=this._dragDropRegistry.pointerUp.subscribe(this._pointerUp),this._scrollSubscription=this._dragDropRegistry.scrolled(this._getShadowRoot()).subscribe(m=>this._updateOnScroll(m)),this._boundaryElement&&(this._boundaryRect=BP(this._boundaryElement));const f=this._previewTemplate;this._pickupPositionInElement=f&&f.template&&!f.matchSize?{x:0,y:0}:this._getPointerPositionInElement(t,e);const g=this._pickupPositionOnPage=this._lastKnownPointerPosition=this._getPointerPositionOnPage(e);this._pointerDirectionDelta={x:0,y:0},this._pointerPositionAtLastDirectionChange={x:g.x,y:g.y},this._dragStartTime=Date.now(),this._dragDropRegistry.startDragging(this,e)}_cleanupDragArtifacts(t){BO(this._rootElement,!0,HP),this._anchor.parentNode.replaceChild(this._rootElement,this._anchor),this._destroyPreview(),this._destroyPlaceholder(),this._boundaryRect=this._previewRect=this._initialTransform=void 0,this._ngZone.run(()=>{const e=this._dropContainer,i=e.getItemIndex(this),s=this._getPointerPositionOnPage(t),r=this._getDragDistance(s),o=e._isOverContainer(s.x,s.y);this.ended.next({source:this,distance:r,dropPoint:s}),this.dropped.next({item:this,currentIndex:i,previousIndex:this._initialIndex,container:e,previousContainer:this._initialContainer,isPointerOverContainer:o,distance:r,dropPoint:s}),e.drop(this,i,this._initialIndex,this._initialContainer,o,r,s),this._dropContainer=this._initialContainer})}_updateActiveDropContainer({x:t,y:e},{x:i,y:s}){let r=this._initialContainer._getSiblingContainerFromPosition(this,t,e);!r&&this._dropContainer!==this._initialContainer&&this._initialContainer._isOverContainer(t,e)&&(r=this._initialContainer),r&&r!==this._dropContainer&&this._ngZone.run(()=>{this.exited.next({item:this,container:this._dropContainer}),this._dropContainer.exit(this),this._dropContainer=r,this._dropContainer.enter(this,t,e,r===this._initialContainer&&r.sortingDisabled?this._initialIndex:void 0),this.entered.next({item:this,container:r,currentIndex:r.getItemIndex(this)})}),this.isDragging()&&(this._dropContainer._startScrollingIfNecessary(i,s),this._dropContainer._sortItem(this,t,e,this._pointerDirectionDelta),this._applyPreviewTransform(t-this._pickupPositionInElement.x,e-this._pickupPositionInElement.y))}_createPreviewElement(){const t=this._previewTemplate,e=this.previewClass,i=t?t.template:null;let s;if(i&&t){const r=t.matchSize?this._rootElement.getBoundingClientRect():null,o=t.viewContainer.createEmbeddedView(i,t.context);o.detectChanges(),s=ZO(o,this._document),this._previewRef=o,t.matchSize?YO(s,r):s.style.transform=xy(this._pickupPositionOnPage.x,this._pickupPositionOnPage.y)}else{const r=this._rootElement;s=UO(r),YO(s,r.getBoundingClientRect()),this._initialTransform&&(s.style.transform=this._initialTransform)}return FP(s.style,{"pointer-events":"none",margin:"0",position:"fixed",top:"0",left:"0","z-index":`${this._config.zIndex||1e3}`},HP),mu(s,!1),s.classList.add("cdk-drag-preview"),s.setAttribute("dir",this._direction),e&&(Array.isArray(e)?e.forEach(r=>s.classList.add(r)):s.classList.add(e)),s}_animatePreviewToPlaceholder(){if(!this._hasMoved)return Promise.resolve();const t=this._placeholder.getBoundingClientRect();this._preview.classList.add("cdk-drag-animating"),this._applyPreviewTransform(t.left,t.top);const e=function(n){const t=getComputedStyle(n),e=VP(t,"transition-property"),i=e.find(a=>"transform"===a||"all"===a);if(!i)return 0;const s=e.indexOf(i),r=VP(t,"transition-duration"),o=VP(t,"transition-delay");return $O(r[s])+$O(o[s])}(this._preview);return 0===e?Promise.resolve():this._ngZone.runOutsideAngular(()=>new Promise(i=>{const s=o=>{var a;(!o||ur(o)===this._preview&&"transform"===o.propertyName)&&(null===(a=this._preview)||void 0===a||a.removeEventListener("transitionend",s),i(),clearTimeout(r))},r=setTimeout(s,1.5*e);this._preview.addEventListener("transitionend",s)}))}_createPlaceholderElement(){const t=this._placeholderTemplate,e=t?t.template:null;let i;return e?(this._placeholderRef=t.viewContainer.createEmbeddedView(e,t.context),this._placeholderRef.detectChanges(),i=ZO(this._placeholderRef,this._document)):i=UO(this._rootElement),i.classList.add("cdk-drag-placeholder"),i}_getPointerPositionInElement(t,e){const i=this._rootElement.getBoundingClientRect(),s=t===this._rootElement?null:t,r=s?s.getBoundingClientRect():i,o=bf(e)?e.targetTouches[0]:e,a=this._getViewportScrollPosition();return{x:r.left-i.left+(o.pageX-r.left-a.left),y:r.top-i.top+(o.pageY-r.top-a.top)}}_getPointerPositionOnPage(t){const e=this._getViewportScrollPosition(),i=bf(t)?t.touches[0]||t.changedTouches[0]||{pageX:0,pageY:0}:t,s=i.pageX-e.left,r=i.pageY-e.top;if(this._ownerSVGElement){const o=this._ownerSVGElement.getScreenCTM();if(o){const a=this._ownerSVGElement.createSVGPoint();return a.x=s,a.y=r,a.matrixTransform(o.inverse())}}return{x:s,y:r}}_getConstrainedPointerPosition(t){const e=this._dropContainer?this._dropContainer.lockAxis:null;let{x:i,y:s}=this.constrainPosition?this.constrainPosition(t,this):t;if("x"===this.lockAxis||"x"===e?s=this._pickupPositionOnPage.y:("y"===this.lockAxis||"y"===e)&&(i=this._pickupPositionOnPage.x),this._boundaryRect){const{x:r,y:o}=this._pickupPositionInElement,a=this._boundaryRect,u=this._previewRect,d=a.top+o,f=a.bottom-(u.height-o);i=QO(i,a.left+r,a.right-(u.width-r)),s=QO(s,d,f)}return{x:i,y:s}}_updatePointerDirectionDelta(t){const{x:e,y:i}=t,s=this._pointerDirectionDelta,r=this._pointerPositionAtLastDirectionChange,o=Math.abs(e-r.x),a=Math.abs(i-r.y);return o>this._config.pointerDirectionChangeThreshold&&(s.x=e>r.x?1:-1,r.x=e),a>this._config.pointerDirectionChangeThreshold&&(s.y=i>r.y?1:-1,r.y=i),s}_toggleNativeDragInteractions(){if(!this._rootElement||!this._handles)return;const t=this._handles.length>0||!this.isDragging();t!==this._nativeInteractionsEnabled&&(this._nativeInteractionsEnabled=t,mu(this._rootElement,t))}_removeRootElementListeners(t){t.removeEventListener("mousedown",this._pointerDown,KO),t.removeEventListener("touchstart",this._pointerDown,zO)}_applyRootElementTransform(t,e){const i=xy(t,e);null==this._initialTransform&&(this._initialTransform=this._rootElement.style.transform&&"none"!=this._rootElement.style.transform?this._rootElement.style.transform:""),this._rootElement.style.transform=Ty(i,this._initialTransform)}_applyPreviewTransform(t,e){var i;const s=(null===(i=this._previewTemplate)||void 0===i?void 0:i.template)?void 0:this._initialTransform,r=xy(t,e);this._preview.style.transform=Ty(r,s)}_getDragDistance(t){const e=this._pickupPositionOnPage;return e?{x:t.x-e.x,y:t.y-e.y}:{x:0,y:0}}_cleanupCachedDimensions(){this._boundaryRect=this._previewRect=void 0,this._parentPositions.clear()}_containInsideBoundaryOnResize(){let{x:t,y:e}=this._passiveTransform;if(0===t&&0===e||this.isDragging()||!this._boundaryElement)return;const i=this._boundaryElement.getBoundingClientRect(),s=this._rootElement.getBoundingClientRect();if(0===i.width&&0===i.height||0===s.width&&0===s.height)return;const r=i.left-s.left,o=s.right-i.right,a=i.top-s.top,u=s.bottom-i.bottom;i.width>s.width?(r>0&&(t+=r),o>0&&(t-=o)):t=0,i.height>s.height?(a>0&&(e+=a),u>0&&(e-=u)):e=0,(t!==this._passiveTransform.x||e!==this._passiveTransform.y)&&this.setFreeDragPosition({y:e,x:t})}_getDragStartDelay(t){const e=this.dragStartDelay;return"number"==typeof e?e:bf(t)?e.touch:e?e.mouse:0}_updateOnScroll(t){const e=this._parentPositions.handleScroll(t);if(e){const i=ur(t);this._boundaryRect&&(i===this._document||i!==this._boundaryElement&&i.contains(this._boundaryElement))&&_f(this._boundaryRect,e.top,e.left),this._pickupPositionOnPage.x+=e.left,this._pickupPositionOnPage.y+=e.top,this._dropContainer||(this._activeTransform.x-=e.left,this._activeTransform.y-=e.top,this._applyRootElementTransform(this._activeTransform.x,this._activeTransform.y))}}_getViewportScrollPosition(){const t=this._parentPositions.positions.get(this._document);return t?t.scrollPosition:this._viewportRuler.getViewportScrollPosition()}_getShadowRoot(){return void 0===this._cachedShadowRoot&&(this._cachedShadowRoot=xP(this._rootElement)),this._cachedShadowRoot}_getPreviewInsertionPoint(t,e){const i=this._previewContainer||"global";if("parent"===i)return t;if("global"===i){const s=this._document;return e||s.fullscreenElement||s.webkitFullscreenElement||s.mozFullScreenElement||s.msFullscreenElement||s.body}return bn(i)}}function xy(n,t){return`translate3d(${Math.round(n)}px, ${Math.round(t)}px, 0)`}function QO(n,t,e){return Math.max(t,Math.min(e,n))}function My(n){n&&n.parentNode&&n.parentNode.removeChild(n)}function bf(n){return"t"===n.type[0]}function ZO(n,t){const e=n.rootNodes;if(1===e.length&&e[0].nodeType===t.ELEMENT_NODE)return e[0];const i=t.createElement("div");return e.forEach(s=>i.appendChild(s)),i}function YO(n,t){n.style.width=`${t.width}px`,n.style.height=`${t.height}px`,n.style.transform=xy(t.left,t.top)}function qP(n,t,e){const i=Sf(t,n.length-1),s=Sf(e,n.length-1);if(i===s)return;const r=n[i],o=s<i?-1:1;for(let a=i;a!==s;a+=o)n[a]=n[a+o];n[s]=r}function Sf(n,t){return Math.max(0,Math.min(t,n))}class $G{constructor(t,e,i,s,r){this._dragDropRegistry=e,this._ngZone=s,this._viewportRuler=r,this.disabled=!1,this.sortingDisabled=!1,this.autoScrollDisabled=!1,this.autoScrollStep=2,this.enterPredicate=()=>!0,this.sortPredicate=()=>!0,this.beforeStarted=new Re,this.entered=new Re,this.exited=new Re,this.dropped=new Re,this.sorted=new Re,this._isDragging=!1,this._itemPositions=[],this._previousSwap={drag:null,delta:0,overlaps:!1},this._draggables=[],this._siblings=[],this._orientation="vertical",this._activeSiblings=new Set,this._direction="ltr",this._viewportScrollSubscription=je.EMPTY,this._verticalScrollDirection=0,this._horizontalScrollDirection=0,this._stopScrollTimers=new Re,this._cachedShadowRoot=null,this._startScrollInterval=()=>{this._stopScrolling(),function(n=0,t=ff){return(!DP(n)||n<0)&&(n=0),(!t||"function"!=typeof t.schedule)&&(t=ff),new $e(e=>(e.add(t.schedule(IG,n,{subscriber:e,counter:0,period:n})),e))}(0,lO).pipe(Uo(this._stopScrollTimers)).subscribe(()=>{const o=this._scrollNode,a=this.autoScrollStep;1===this._verticalScrollDirection?eR(o,-a):2===this._verticalScrollDirection&&eR(o,a),1===this._horizontalScrollDirection?tR(o,-a):2===this._horizontalScrollDirection&&tR(o,a)})},this.element=bn(t),this._document=i,this.withScrollableParents([this.element]),e.registerDropContainer(this),this._parentPositions=new qO(i,r)}dispose(){this._stopScrolling(),this._stopScrollTimers.complete(),this._viewportScrollSubscription.unsubscribe(),this.beforeStarted.complete(),this.entered.complete(),this.exited.complete(),this.dropped.complete(),this.sorted.complete(),this._activeSiblings.clear(),this._scrollNode=null,this._parentPositions.clear(),this._dragDropRegistry.removeDropContainer(this)}isDragging(){return this._isDragging}start(){this._draggingStarted(),this._notifyReceivingSiblings()}enter(t,e,i,s){let r;this._draggingStarted(),null==s?(r=this.sortingDisabled?this._draggables.indexOf(t):-1,-1===r&&(r=this._getItemIndexFromPointerPosition(t,e,i))):r=s;const o=this._activeDraggables,a=o.indexOf(t),u=t.getPlaceholderElement();let d=o[r];if(d===t&&(d=o[r+1]),a>-1&&o.splice(a,1),d&&!this._dragDropRegistry.isDragging(d)){const f=d.getRootElement();f.parentElement.insertBefore(u,f),o.splice(r,0,t)}else if(this._shouldEnterAsFirstChild(e,i)){const f=o[0].getRootElement();f.parentNode.insertBefore(u,f),o.unshift(t)}else bn(this.element).appendChild(u),o.push(t);u.style.transform="",this._cacheItemPositions(),this._cacheParentPositions(),this._notifyReceivingSiblings(),this.entered.next({item:t,container:this,currentIndex:this.getItemIndex(t)})}exit(t){this._reset(),this.exited.next({item:t,container:this})}drop(t,e,i,s,r,o,a){this._reset(),this.dropped.next({item:t,currentIndex:e,previousIndex:i,container:this,previousContainer:s,isPointerOverContainer:r,distance:o,dropPoint:a})}withItems(t){const e=this._draggables;return this._draggables=t,t.forEach(i=>i._withDropContainer(this)),this.isDragging()&&(e.filter(s=>s.isDragging()).every(s=>-1===t.indexOf(s))?this._reset():this._cacheItems()),this}withDirection(t){return this._direction=t,this}connectedTo(t){return this._siblings=t.slice(),this}withOrientation(t){return this._orientation=t,this}withScrollableParents(t){const e=bn(this.element);return this._scrollableElements=-1===t.indexOf(e)?[e,...t]:t.slice(),this}getScrollableParents(){return this._scrollableElements}getItemIndex(t){return this._isDragging?UP("horizontal"===this._orientation&&"rtl"===this._direction?this._itemPositions.slice().reverse():this._itemPositions,i=>i.drag===t):this._draggables.indexOf(t)}isReceiving(){return this._activeSiblings.size>0}_sortItem(t,e,i,s){if(this.sortingDisabled||!this._clientRect||!HO(this._clientRect,.05,e,i))return;const r=this._itemPositions,o=this._getItemIndexFromPointerPosition(t,e,i,s);if(-1===o&&r.length>0)return;const a="horizontal"===this._orientation,u=UP(r,k=>k.drag===t),d=r[o],g=d.clientRect,m=u>o?1:-1,v=this._getItemOffsetPx(r[u].clientRect,g,m),S=this._getSiblingOffsetPx(u,r,m),x=r.slice();qP(r,u,o),this.sorted.next({previousIndex:u,currentIndex:o,container:this,item:t}),r.forEach((k,F)=>{if(x[F]===k)return;const R=k.drag===t,j=R?v:S,K=R?t.getPlaceholderElement():k.drag.getRootElement();k.offset+=j,a?(K.style.transform=Ty(`translate3d(${Math.round(k.offset)}px, 0, 0)`,k.initialTransform),_f(k.clientRect,0,j)):(K.style.transform=Ty(`translate3d(0, ${Math.round(k.offset)}px, 0)`,k.initialTransform),_f(k.clientRect,j,0))}),this._previousSwap.overlaps=$P(g,e,i),this._previousSwap.drag=d.drag,this._previousSwap.delta=a?s.x:s.y}_startScrollingIfNecessary(t,e){if(this.autoScrollDisabled)return;let i,s=0,r=0;if(this._parentPositions.positions.forEach((o,a)=>{a===this._document||!o.clientRect||i||HO(o.clientRect,.05,t,e)&&([s,r]=function(n,t,e,i){const s=nR(t,i),r=iR(t,e);let o=0,a=0;if(s){const u=n.scrollTop;1===s?u>0&&(o=1):n.scrollHeight-u>n.clientHeight&&(o=2)}if(r){const u=n.scrollLeft;1===r?u>0&&(a=1):n.scrollWidth-u>n.clientWidth&&(a=2)}return[o,a]}(a,o.clientRect,t,e),(s||r)&&(i=a))}),!s&&!r){const{width:o,height:a}=this._viewportRuler.getViewportSize(),u={width:o,height:a,top:0,right:o,bottom:a,left:0};s=nR(u,e),r=iR(u,t),i=window}i&&(s!==this._verticalScrollDirection||r!==this._horizontalScrollDirection||i!==this._scrollNode)&&(this._verticalScrollDirection=s,this._horizontalScrollDirection=r,this._scrollNode=i,(s||r)&&i?this._ngZone.runOutsideAngular(this._startScrollInterval):this._stopScrolling())}_stopScrolling(){this._stopScrollTimers.next()}_draggingStarted(){const t=bn(this.element).style;this.beforeStarted.next(),this._isDragging=!0,this._initialScrollSnap=t.msScrollSnapType||t.scrollSnapType||"",t.scrollSnapType=t.msScrollSnapType="none",this._cacheItems(),this._viewportScrollSubscription.unsubscribe(),this._listenToScrollEvents()}_cacheParentPositions(){const t=bn(this.element);this._parentPositions.cache(this._scrollableElements),this._clientRect=this._parentPositions.positions.get(t).clientRect}_cacheItemPositions(){const t="horizontal"===this._orientation;this._itemPositions=this._activeDraggables.map(e=>{const i=e.getVisibleElement();return{drag:e,offset:0,initialTransform:i.style.transform||"",clientRect:BP(i)}}).sort((e,i)=>t?e.clientRect.left-i.clientRect.left:e.clientRect.top-i.clientRect.top)}_reset(){this._isDragging=!1;const t=bn(this.element).style;t.scrollSnapType=t.msScrollSnapType=this._initialScrollSnap,this._activeDraggables.forEach(e=>{var i;const s=e.getRootElement();if(s){const r=null===(i=this._itemPositions.find(o=>o.drag===e))||void 0===i?void 0:i.initialTransform;s.style.transform=r||""}}),this._siblings.forEach(e=>e._stopReceiving(this)),this._activeDraggables=[],this._itemPositions=[],this._previousSwap.drag=null,this._previousSwap.delta=0,this._previousSwap.overlaps=!1,this._stopScrolling(),this._viewportScrollSubscription.unsubscribe(),this._parentPositions.clear()}_getSiblingOffsetPx(t,e,i){const s="horizontal"===this._orientation,r=e[t].clientRect,o=e[t+-1*i];let a=r[s?"width":"height"]*i;if(o){const u=s?"left":"top",d=s?"right":"bottom";-1===i?a-=o.clientRect[u]-r[d]:a+=r[u]-o.clientRect[d]}return a}_getItemOffsetPx(t,e,i){const s="horizontal"===this._orientation;let r=s?e.left-t.left:e.top-t.top;return-1===i&&(r+=s?e.width-t.width:e.height-t.height),r}_shouldEnterAsFirstChild(t,e){if(!this._activeDraggables.length)return!1;const i=this._itemPositions,s="horizontal"===this._orientation;if(i[0].drag!==this._activeDraggables[0]){const o=i[i.length-1].clientRect;return s?t>=o.right:e>=o.bottom}{const o=i[0].clientRect;return s?t<=o.left:e<=o.top}}_getItemIndexFromPointerPosition(t,e,i,s){const r="horizontal"===this._orientation,o=UP(this._itemPositions,({drag:a,clientRect:u},d,f)=>{if(a===t)return f.length<2;if(s){const g=r?s.x:s.y;if(a===this._previousSwap.drag&&this._previousSwap.overlaps&&g===this._previousSwap.delta)return!1}return r?e>=Math.floor(u.left)&&e<Math.floor(u.right):i>=Math.floor(u.top)&&i<Math.floor(u.bottom)});return-1!==o&&this.sortPredicate(o,t,this)?o:-1}_cacheItems(){this._activeDraggables=this._draggables.slice(),this._cacheItemPositions(),this._cacheParentPositions()}_isOverContainer(t,e){return null!=this._clientRect&&$P(this._clientRect,t,e)}_getSiblingContainerFromPosition(t,e,i){return this._siblings.find(s=>s._canReceive(t,e,i))}_canReceive(t,e,i){if(!this._clientRect||!$P(this._clientRect,e,i)||!this.enterPredicate(t,this))return!1;const s=this._getShadowRoot().elementFromPoint(e,i);if(!s)return!1;const r=bn(this.element);return s===r||r.contains(s)}_startReceiving(t,e){const i=this._activeSiblings;!i.has(t)&&e.every(s=>this.enterPredicate(s,this)||this._draggables.indexOf(s)>-1)&&(i.add(t),this._cacheParentPositions(),this._listenToScrollEvents())}_stopReceiving(t){this._activeSiblings.delete(t),this._viewportScrollSubscription.unsubscribe()}_listenToScrollEvents(){this._viewportScrollSubscription=this._dragDropRegistry.scrolled(this._getShadowRoot()).subscribe(t=>{if(this.isDragging()){const e=this._parentPositions.handleScroll(t);e&&(this._itemPositions.forEach(({clientRect:i})=>{_f(i,e.top,e.left)}),this._itemPositions.forEach(({drag:i})=>{this._dragDropRegistry.isDragging(i)&&i._sortFromLastPointerPosition()}))}else this.isReceiving()&&this._cacheParentPositions()})}_getShadowRoot(){if(!this._cachedShadowRoot){const t=xP(bn(this.element));this._cachedShadowRoot=t||this._document}return this._cachedShadowRoot}_notifyReceivingSiblings(){const t=this._activeDraggables.filter(e=>e.isDragging());this._siblings.forEach(e=>e._startReceiving(this,t))}}function UP(n,t){for(let e=0;e<n.length;e++)if(t(n[e],e,n))return e;return-1}function eR(n,t){n===window?n.scrollBy(0,t):n.scrollTop+=t}function tR(n,t){n===window?n.scrollBy(t,0):n.scrollLeft+=t}function nR(n,t){const{top:e,bottom:i,height:s}=n,r=.05*s;return t>=e-r&&t<=e+r?1:t>=i-r&&t<=i+r?2:0}function iR(n,t){const{left:e,right:i,width:s}=n,r=.05*s;return t>=e-r&&t<=e+r?1:t>=i-r&&t<=i+r?2:0}const Iy=mf({passive:!1,capture:!0});let sR=(()=>{class n{constructor(e,i){this._ngZone=e,this._dropInstances=new Set,this._dragInstances=new Set,this._activeDragInstances=[],this._globalListeners=new Map,this._draggingPredicate=s=>s.isDragging(),this.pointerMove=new Re,this.pointerUp=new Re,this.scroll=new Re,this._preventDefaultWhileDragging=s=>{this._activeDragInstances.length>0&&s.preventDefault()},this._persistentTouchmoveListener=s=>{this._activeDragInstances.length>0&&(this._activeDragInstances.some(this._draggingPredicate)&&s.preventDefault(),this.pointerMove.next(s))},this._document=i}registerDropContainer(e){this._dropInstances.has(e)||this._dropInstances.add(e)}registerDragItem(e){this._dragInstances.add(e),1===this._dragInstances.size&&this._ngZone.runOutsideAngular(()=>{this._document.addEventListener("touchmove",this._persistentTouchmoveListener,Iy)})}removeDropContainer(e){this._dropInstances.delete(e)}removeDragItem(e){this._dragInstances.delete(e),this.stopDragging(e),0===this._dragInstances.size&&this._document.removeEventListener("touchmove",this._persistentTouchmoveListener,Iy)}startDragging(e,i){if(!(this._activeDragInstances.indexOf(e)>-1)&&(this._activeDragInstances.push(e),1===this._activeDragInstances.length)){const s=i.type.startsWith("touch");this._globalListeners.set(s?"touchend":"mouseup",{handler:r=>this.pointerUp.next(r),options:!0}).set("scroll",{handler:r=>this.scroll.next(r),options:!0}).set("selectstart",{handler:this._preventDefaultWhileDragging,options:Iy}),s||this._globalListeners.set("mousemove",{handler:r=>this.pointerMove.next(r),options:Iy}),this._ngZone.runOutsideAngular(()=>{this._globalListeners.forEach((r,o)=>{this._document.addEventListener(o,r.handler,r.options)})})}}stopDragging(e){const i=this._activeDragInstances.indexOf(e);i>-1&&(this._activeDragInstances.splice(i,1),0===this._activeDragInstances.length&&this._clearGlobalListeners())}isDragging(e){return this._activeDragInstances.indexOf(e)>-1}scrolled(e){const i=[this.scroll];return e&&e!==this._document&&i.push(new $e(s=>this._ngZone.runOutsideAngular(()=>{const o=a=>{this._activeDragInstances.length&&s.next(a)};return e.addEventListener("scroll",o,!0),()=>{e.removeEventListener("scroll",o,!0)}}))),vr(...i)}ngOnDestroy(){this._dragInstances.forEach(e=>this.removeDragItem(e)),this._dropInstances.forEach(e=>this.removeDropContainer(e)),this._clearGlobalListeners(),this.pointerMove.complete(),this.pointerUp.complete()}_clearGlobalListeners(){this._globalListeners.forEach((e,i)=>{this._document.removeEventListener(i,e.handler,e.options)}),this._globalListeners.clear()}}return n.\u0275fac=function(e){return new(e||n)(V(xe),V(Fe))},n.\u0275prov=ne({factory:function(){return new n(V(xe),V(Fe))},token:n,providedIn:"root"}),n})();const qG={dragStartThreshold:5,pointerDirectionChangeThreshold:5};let GP=(()=>{class n{constructor(e,i,s,r){this._document=e,this._ngZone=i,this._viewportRuler=s,this._dragDropRegistry=r}createDrag(e,i=qG){return new BG(e,i,this._document,this._ngZone,this._viewportRuler,this._dragDropRegistry)}createDropList(e){return new $G(e,this._dragDropRegistry,this._document,this._ngZone,this._viewportRuler)}}return n.\u0275fac=function(e){return new(e||n)(V(Fe),V(xe),V(IP),V(sR))},n.\u0275prov=ne({factory:function(){return new n(V(Fe),V(xe),V(IP),V(sR))},token:n,providedIn:"root"}),n})();const jP=new ce("CDK_DRAG_PARENT"),WP=new ce("CdkDropListGroup"),rR=new ce("CDK_DRAG_CONFIG");let UG=0;const oR=new ce("CdkDropList");let jG=(()=>{class n{constructor(e,i,s,r,o,a,u){this.element=e,this._changeDetectorRef=s,this._scrollDispatcher=r,this._dir=o,this._group=a,this._destroyed=new Re,this.connectedTo=[],this.id="cdk-drop-list-"+UG++,this.enterPredicate=()=>!0,this.sortPredicate=()=>!0,this.dropped=new nt,this.entered=new nt,this.exited=new nt,this.sorted=new nt,this._unsortedItems=new Set,this._dropListRef=i.createDropList(e),this._dropListRef.data=this,u&&this._assignDefaults(u),this._dropListRef.enterPredicate=(d,f)=>this.enterPredicate(d.data,f.data),this._dropListRef.sortPredicate=(d,f,g)=>this.sortPredicate(d,f.data,g.data),this._setupInputSyncSubscription(this._dropListRef),this._handleEvents(this._dropListRef),n._dropLists.push(this),a&&a._items.add(this)}get disabled(){return this._disabled||!!this._group&&this._group.disabled}set disabled(e){this._dropListRef.disabled=this._disabled=es(e)}addItem(e){this._unsortedItems.add(e),this._dropListRef.isDragging()&&this._syncItemsWithRef()}removeItem(e){this._unsortedItems.delete(e),this._dropListRef.isDragging()&&this._syncItemsWithRef()}getSortedItems(){return Array.from(this._unsortedItems).sort((e,i)=>e._dragRef.getVisibleElement().compareDocumentPosition(i._dragRef.getVisibleElement())&Node.DOCUMENT_POSITION_FOLLOWING?-1:1)}ngOnDestroy(){const e=n._dropLists.indexOf(this);e>-1&&n._dropLists.splice(e,1),this._group&&this._group._items.delete(this),this._unsortedItems.clear(),this._dropListRef.dispose(),this._destroyed.next(),this._destroyed.complete()}_setupInputSyncSubscription(e){this._dir&&this._dir.change.pipe(pf(this._dir.value),Uo(this._destroyed)).subscribe(i=>e.withDirection(i)),e.beforeStarted.subscribe(()=>{const i=function(n){return Array.isArray(n)?n:[n]}(this.connectedTo).map(s=>"string"==typeof s?n._dropLists.find(o=>o.id===s):s);if(this._group&&this._group._items.forEach(s=>{-1===i.indexOf(s)&&i.push(s)}),!this._scrollableParentsResolved){const s=this._scrollDispatcher.getAncestorScrollContainers(this.element).map(r=>r.getElementRef().nativeElement);this._dropListRef.withScrollableParents(s),this._scrollableParentsResolved=!0}e.disabled=this.disabled,e.lockAxis=this.lockAxis,e.sortingDisabled=es(this.sortingDisabled),e.autoScrollDisabled=es(this.autoScrollDisabled),e.autoScrollStep=ul(this.autoScrollStep,2),e.connectedTo(i.filter(s=>s&&s!==this).map(s=>s._dropListRef)).withOrientation(this.orientation)})}_handleEvents(e){e.beforeStarted.subscribe(()=>{this._syncItemsWithRef(),this._changeDetectorRef.markForCheck()}),e.entered.subscribe(i=>{this.entered.emit({container:this,item:i.item.data,currentIndex:i.currentIndex})}),e.exited.subscribe(i=>{this.exited.emit({container:this,item:i.item.data}),this._changeDetectorRef.markForCheck()}),e.sorted.subscribe(i=>{this.sorted.emit({previousIndex:i.previousIndex,currentIndex:i.currentIndex,container:this,item:i.item.data})}),e.dropped.subscribe(i=>{this.dropped.emit({previousIndex:i.previousIndex,currentIndex:i.currentIndex,previousContainer:i.previousContainer.data,container:i.container.data,item:i.item.data,isPointerOverContainer:i.isPointerOverContainer,distance:i.distance,dropPoint:i.dropPoint}),this._changeDetectorRef.markForCheck()})}_assignDefaults(e){const{lockAxis:i,draggingDisabled:s,sortingDisabled:r,listAutoScrollDisabled:o,listOrientation:a}=e;this.disabled=null!=s&&s,this.sortingDisabled=null!=r&&r,this.autoScrollDisabled=null!=o&&o,this.orientation=a||"vertical",i&&(this.lockAxis=i)}_syncItemsWithRef(){this._dropListRef.withItems(this.getSortedItems().map(e=>e._dragRef))}}return n.\u0275fac=function(e){return new(e||n)(L(_t),L(GP),L(lm),L(MP),L(vf,8),L(WP,12),L(rR,8))},n.\u0275dir=ee({type:n,selectors:[["","cdkDropList",""],["cdk-drop-list"]],hostAttrs:[1,"cdk-drop-list"],hostVars:7,hostBindings:function(e,i){2&e&&(ks("id",i.id),Ya("cdk-drop-list-disabled",i.disabled)("cdk-drop-list-dragging",i._dropListRef.isDragging())("cdk-drop-list-receiving",i._dropListRef.isReceiving()))},inputs:{connectedTo:["cdkDropListConnectedTo","connectedTo"],id:"id",enterPredicate:["cdkDropListEnterPredicate","enterPredicate"],sortPredicate:["cdkDropListSortPredicate","sortPredicate"],disabled:["cdkDropListDisabled","disabled"],sortingDisabled:["cdkDropListSortingDisabled","sortingDisabled"],autoScrollDisabled:["cdkDropListAutoScrollDisabled","autoScrollDisabled"],orientation:["cdkDropListOrientation","orientation"],lockAxis:["cdkDropListLockAxis","lockAxis"],data:["cdkDropListData","data"],autoScrollStep:["cdkDropListAutoScrollStep","autoScrollStep"]},outputs:{dropped:"cdkDropListDropped",entered:"cdkDropListEntered",exited:"cdkDropListExited",sorted:"cdkDropListSorted"},exportAs:["cdkDropList"],features:[We([{provide:WP,useValue:void 0},{provide:oR,useExisting:n}])]}),n._dropLists=[],n})();const zP=new ce("CdkDragHandle");let WG=(()=>{class n{constructor(e,i){this.element=e,this._stateChanges=new Re,this._disabled=!1,this._parentDrag=i}get disabled(){return this._disabled}set disabled(e){this._disabled=es(e),this._stateChanges.next(this)}ngOnDestroy(){this._stateChanges.complete()}}return n.\u0275fac=function(e){return new(e||n)(L(_t),L(jP,12))},n.\u0275dir=ee({type:n,selectors:[["","cdkDragHandle",""]],hostAttrs:[1,"cdk-drag-handle"],inputs:{disabled:["cdkDragHandleDisabled","disabled"]},features:[We([{provide:zP,useExisting:n}])]}),n})();const aR=new ce("CdkDragPlaceholder"),lR=new ce("CdkDragPreview");let KG=(()=>{class n{constructor(e,i,s,r,o,a,u,d,f,g,m){this.element=e,this.dropContainer=i,this._ngZone=r,this._viewContainerRef=o,this._dir=u,this._changeDetectorRef=f,this._selfHandle=g,this._parentDrag=m,this._destroyed=new Re,this.started=new nt,this.released=new nt,this.ended=new nt,this.entered=new nt,this.exited=new nt,this.dropped=new nt,this.moved=new $e(v=>{const S=this._dragRef.moved.pipe(to(x=>({source:this,pointerPosition:x.pointerPosition,event:x.event,delta:x.delta,distance:x.distance}))).subscribe(v);return()=>{S.unsubscribe()}}),this._dragRef=d.createDrag(e,{dragStartThreshold:a&&null!=a.dragStartThreshold?a.dragStartThreshold:5,pointerDirectionChangeThreshold:a&&null!=a.pointerDirectionChangeThreshold?a.pointerDirectionChangeThreshold:5,zIndex:null==a?void 0:a.zIndex}),this._dragRef.data=this,n._dragInstances.push(this),a&&this._assignDefaults(a),i&&(this._dragRef._withDropContainer(i._dropListRef),i.addItem(this)),this._syncInputs(this._dragRef),this._handleEvents(this._dragRef)}get disabled(){return this._disabled||this.dropContainer&&this.dropContainer.disabled}set disabled(e){this._disabled=es(e),this._dragRef.disabled=this._disabled}getPlaceholderElement(){return this._dragRef.getPlaceholderElement()}getRootElement(){return this._dragRef.getRootElement()}reset(){this._dragRef.reset()}getFreeDragPosition(){return this._dragRef.getFreeDragPosition()}ngAfterViewInit(){this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.pipe(RP(1),Uo(this._destroyed)).subscribe(()=>{this._updateRootElement(),this._setupHandlesListener(),this.freeDragPosition&&this._dragRef.setFreeDragPosition(this.freeDragPosition)})})}ngOnChanges(e){const i=e.rootElementSelector,s=e.freeDragPosition;i&&!i.firstChange&&this._updateRootElement(),s&&!s.firstChange&&this.freeDragPosition&&this._dragRef.setFreeDragPosition(this.freeDragPosition)}ngOnDestroy(){this.dropContainer&&this.dropContainer.removeItem(this);const e=n._dragInstances.indexOf(this);e>-1&&n._dragInstances.splice(e,1),this._ngZone.runOutsideAngular(()=>{this._destroyed.next(),this._destroyed.complete(),this._dragRef.dispose()})}_updateRootElement(){const e=this.element.nativeElement,i=this.rootElementSelector?cR(e,this.rootElementSelector):e;this._dragRef.withRootElement(i||e)}_getBoundaryElement(){const e=this.boundaryElement;return e?"string"==typeof e?cR(this.element.nativeElement,e):bn(e):null}_syncInputs(e){e.beforeStarted.subscribe(()=>{if(!e.isDragging()){const i=this._dir,s=this.dragStartDelay,r=this._placeholderTemplate?{template:this._placeholderTemplate.templateRef,context:this._placeholderTemplate.data,viewContainer:this._viewContainerRef}:null,o=this._previewTemplate?{template:this._previewTemplate.templateRef,context:this._previewTemplate.data,matchSize:this._previewTemplate.matchSize,viewContainer:this._viewContainerRef}:null;e.disabled=this.disabled,e.lockAxis=this.lockAxis,e.dragStartDelay="object"==typeof s&&s?s:ul(s),e.constrainPosition=this.constrainPosition,e.previewClass=this.previewClass,e.withBoundaryElement(this._getBoundaryElement()).withPlaceholderTemplate(r).withPreviewTemplate(o).withPreviewContainer(this.previewContainer||"global"),i&&e.withDirection(i.value)}}),e.beforeStarted.pipe(RP(1)).subscribe(()=>{var i,s;if(this._parentDrag)return void e.withParent(this._parentDrag._dragRef);let r=this.element.nativeElement.parentElement;for(;r;){if(null===(i=r.classList)||void 0===i?void 0:i.contains("cdk-drag")){e.withParent((null===(s=n._dragInstances.find(o=>o.element.nativeElement===r))||void 0===s?void 0:s._dragRef)||null);break}r=r.parentElement}})}_handleEvents(e){e.started.subscribe(()=>{this.started.emit({source:this}),this._changeDetectorRef.markForCheck()}),e.released.subscribe(()=>{this.released.emit({source:this})}),e.ended.subscribe(i=>{this.ended.emit({source:this,distance:i.distance,dropPoint:i.dropPoint}),this._changeDetectorRef.markForCheck()}),e.entered.subscribe(i=>{this.entered.emit({container:i.container.data,item:this,currentIndex:i.currentIndex})}),e.exited.subscribe(i=>{this.exited.emit({container:i.container.data,item:this})}),e.dropped.subscribe(i=>{this.dropped.emit({previousIndex:i.previousIndex,currentIndex:i.currentIndex,previousContainer:i.previousContainer.data,container:i.container.data,isPointerOverContainer:i.isPointerOverContainer,item:this,distance:i.distance,dropPoint:i.dropPoint})})}_assignDefaults(e){const{lockAxis:i,dragStartDelay:s,constrainPosition:r,previewClass:o,boundaryElement:a,draggingDisabled:u,rootElementSelector:d,previewContainer:f}=e;this.disabled=null!=u&&u,this.dragStartDelay=s||0,i&&(this.lockAxis=i),r&&(this.constrainPosition=r),o&&(this.previewClass=o),a&&(this.boundaryElement=a),d&&(this.rootElementSelector=d),f&&(this.previewContainer=f)}_setupHandlesListener(){this._handles.changes.pipe(pf(this._handles),function(n,t,e){return function(s){return s.lift(new RG(n,undefined,undefined))}}(e=>{const i=e.filter(s=>s._parentDrag===this).map(s=>s.element);this._selfHandle&&this.rootElementSelector&&i.push(this.element),this._dragRef.withHandles(i)}),kP(e=>vr(...e.map(i=>i._stateChanges.pipe(pf(i))))),Uo(this._destroyed)).subscribe(e=>{const i=this._dragRef,s=e.element.nativeElement;e.disabled?i.disableHandle(s):i.enableHandle(s)})}}return n.\u0275fac=function(e){return new(e||n)(L(_t),L(oR,12),L(Fe),L(xe),L(Qi),L(rR,8),L(vf,8),L(GP),L(lm),L(zP,10),L(jP,12))},n.\u0275dir=ee({type:n,selectors:[["","cdkDrag",""]],contentQueries:function(e,i,s){if(1&e&&(gm(s,lR,5),gm(s,aR,5),gm(s,zP,5)),2&e){let r;eu(r=tu())&&(i._previewTemplate=r.first),eu(r=tu())&&(i._placeholderTemplate=r.first),eu(r=tu())&&(i._handles=r)}},hostAttrs:[1,"cdk-drag"],hostVars:4,hostBindings:function(e,i){2&e&&Ya("cdk-drag-disabled",i.disabled)("cdk-drag-dragging",i._dragRef.isDragging())},inputs:{disabled:["cdkDragDisabled","disabled"],dragStartDelay:["cdkDragStartDelay","dragStartDelay"],lockAxis:["cdkDragLockAxis","lockAxis"],constrainPosition:["cdkDragConstrainPosition","constrainPosition"],previewClass:["cdkDragPreviewClass","previewClass"],boundaryElement:["cdkDragBoundary","boundaryElement"],rootElementSelector:["cdkDragRootElement","rootElementSelector"],previewContainer:["cdkDragPreviewContainer","previewContainer"],data:["cdkDragData","data"],freeDragPosition:["cdkDragFreeDragPosition","freeDragPosition"]},outputs:{started:"cdkDragStarted",released:"cdkDragReleased",ended:"cdkDragEnded",entered:"cdkDragEntered",exited:"cdkDragExited",dropped:"cdkDragDropped",moved:"cdkDragMoved"},exportAs:["cdkDrag"],features:[We([{provide:jP,useExisting:n}]),xt]}),n._dragInstances=[],n})();function cR(n,t){let e=n.parentElement;for(;e;){if(e.matches?e.matches(t):e.msMatchesSelector(t))return e;e=e.parentElement}return null}let QG=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=Se({type:n}),n.\u0275inj=Nt({providers:[GP],imports:[OP]}),n})();class gi{constructor(t,e,i,s){this.logService=t,this.toyService=e,this.parent=i,this.level=s}}class ZG extends gi{constructor(){super(...arguments),this.name="Balloon",this.tier=1}onBreak(t,e){let i=this.parent.furthestUpPet,s=this.level;i.increaseAttack(s),i.increaseHealth(s),this.logService.createLog({message:`${this.name} gave ${i.name} ${s} attack and ${s} health.`,type:"ability",player:this.parent,puma:e})}}class YG extends gi{constructor(){super(...arguments),this.name="Tennis Ball",this.tier=1}startOfBattle(t,e){let i=kt(t,this.parent),s=i.getRandomPet();this.toyService.snipePet(s,this.level,this.parent,this.name,!0,e),s=i.getRandomPet(),this.toyService.snipePet(s,this.level,this.parent,this.name,!0,e)}}class JG extends gi{constructor(){super(...arguments),this.name="Radio",this.tier=2}onBreak(t,e){let i=this.parent.petArray;for(let s of i)!s.alive||(s.increaseHealth(this.level),this.logService.createLog({message:`${this.name} gave ${s.name} ${this.level} health.`,type:"ability",player:this.parent,puma:e}))}}class XG extends gi{constructor(){super(...arguments),this.name="Garlic Press",this.tier=2}startOfBattle(t,e){for(let i=0;i<this.level;i++)for(let s of this.parent.petArray)if(!((null==s?void 0:s.equipment)instanceof fy)){s.givePetEquipment(new fy),this.logService.createLog({message:`${this.name} gave ${s.name} Garlic.`,type:"ability",player:this.parent,puma:e});break}}}class e8 extends gi{constructor(){super(...arguments),this.name="Toilet Paper",this.tier=3}startOfBattle(t,e){let s=kt(t,this.parent).petArray.slice(0,this.level);for(let r of s)r.givePetEquipment(new hu),this.logService.createLog({message:`${this.name} gave ${r.name} Weak.`,type:"ability",player:this.parent,puma:e})}}class t8 extends gi{constructor(){super(...arguments),this.name="Oven Mitts",this.tier=3}onBreak(t){}}class n8 extends gi{constructor(){super(...arguments),this.name="Melon Helmet",this.tier=4}onBreak(t,e){let i=this.parent.petArray.filter(s=>s.alive).slice(0,this.level);for(let s of i)s.givePetEquipment(new ll),this.logService.createLog({message:`${this.name} gave ${s.name} Melon.`,type:"ability",player:this.parent,puma:e})}}class i8 extends gi{constructor(){super(...arguments),this.name="Foam Sword",this.tier=4}startOfBattle(t,e){let i=kt(t,this.parent);for(let s=0;s<this.level;s++){let r=i.getLowestHealthPet();this.toyService.snipePet(r.pet,6,this.parent,this.name,r.random,e)}}}class s8 extends gi{constructor(){super(...arguments),this.name="Toy Gun",this.tier=4}startOfBattle(t,e){let i=kt(t,this.parent);for(let s=0;s<this.level;s++){let r=i.getLastPet();this.toyService.snipePet(r,6,this.parent,this.name,!1,e)}}}class r8 extends gi{constructor(){super(...arguments),this.name="Flashlight",this.tier=5}onBreak(t,e){let i=6*this.level,s=this.parent.furthestUpPet;s.increaseAttack(i),s.increaseHealth(i),this.logService.createLog({message:`${this.name} gave ${s.name} ${i} attack and ${i} health.`,type:"ability",player:this.parent,puma:e})}}class o8 extends gi{constructor(){super(...arguments),this.name="Strinky Sock",this.tier=5}startOfBattle(t,e){let i=kt(t,this.parent);for(let s=0;s<this.level;s++){let r=i.getHighestHealthPet(),o=r.pet,a=.4,u=Math.ceil(o.health*(1-a));o.health=u,this.logService.createLog({message:`${this.name} reduced ${o.name} health by ${100*a}% (${u})`,type:"ability",player:this.parent,puma:e,randomEvent:r.random})}}}class a8 extends gi{constructor(){super(...arguments),this.name="Television",this.tier=6}onBreak(t,e){let i=2*this.level;for(let s of this.parent.petArray)!s.alive||(s.increaseAttack(i),s.increaseHealth(i),this.logService.createLog({message:`${this.name} gave ${s.name} ${i} attack and ${i} health.`,type:"ability",player:this.parent,puma:e}))}}class l8 extends gi{constructor(){super(...arguments),this.name="Peanut Jar",this.tier=6}startOfBattle(t,e){for(let i=0;i<this.level;i++)for(let s of this.parent.petArray)if(!((null==s?void 0:s.equipment)instanceof cf)){s.givePetEquipment(new cf),this.logService.createLog({message:`${this.name} gave ${s.name} Peanut.`,type:"ability",player:this.parent,puma:e});break}}}class c8 extends gi{constructor(){super(...arguments),this.name="Air Palm Tree",this.tier=6}startOfBattle(t,e){for(let i=0;i<this.level;i++)for(let s of this.parent.petArray)if(!((null==s?void 0:s.equipment)instanceof cl)){s.givePetEquipment(new cl),this.logService.createLog({message:`${this.name} gave ${s.name} Coconut.`,type:"ability",player:this.parent,puma:e});break}}}let u8=(()=>{class n{constructor(e,i,s){this.logService=e,this.abilityService=i,this.gameService=s,this.toys=new Map,this.startOfBattleEvents=[],this.setToys()}setToys(){this.toys.set(1,["Ballon","Tennis Ball"]),this.toys.set(2,["Radio","Garlic Press"]),this.toys.set(3,["Toilet Paper","Oven Mitts"]),this.toys.set(4,["Melon Helmet","Foam Sword","Toy Gun"]),this.toys.set(5,["Flashlight","Stinky Sock"]),this.toys.set(6,["Television","Peanut Jar","Air Palm Tree"])}createToy(e,i,s=1){switch(e){case"Ballon":return new ZG(this.logService,this,i,s);case"Tennis Ball":return new YG(this.logService,this,i,s);case"Radio":return new JG(this.logService,this,i,s);case"Garlic Press":return new XG(this.logService,this,i,s);case"Toilet Paper":return new e8(this.logService,this,i,s);case"Oven Mitts":return new t8(this.logService,this,i,s);case"Melon Helmet":return new n8(this.logService,this,i,s);case"Foam Sword":return new i8(this.logService,this,i,s);case"Toy Gun":return new s8(this.logService,this,i,s);case"Flashlight":return new r8(this.logService,this,i,s);case"Stinky Sock":return new o8(this.logService,this,i,s);case"Television":return new a8(this.logService,this,i,s);case"Peanut Jar":return new l8(this.logService,this,i,s);case"Air Palm Tree":return new c8(this.logService,this,i,s)}}snipePet(e,i,s,r,o=!1,a=!1){let u=this.calculateDamgae(e,i),d=u.defenseEquipment,f=u.damage;e.health-=f;let g=`${r} sniped ${e.name} for ${f}.`;null!=d&&(e.useDefenseEquipment(),g+=` (${d.name} -${d.power})`),a&&(g+=" (Puma)"),this.logService.createLog({message:g,type:"attack",randomEvent:o,player:s}),null!=e.hurt&&this.abilityService.setHurtEvent({callback:e.hurt.bind(e),priority:e.attack,player:e.parent})}calculateDamgae(e,i){var s,r,o;let a="defense"==(null===(s=e.equipment)||void 0===s?void 0:s.equipmentClass)||"shield"==(null===(r=e.equipment)||void 0===r?void 0:r.equipmentClass)?e.equipment:null,u=null!==(o=null==a?void 0:a.power)&&void 0!==o?o:0;return{defenseEquipment:a,damage:Math.max("shield"==(null==a?void 0:a.equipmentClass)?0:1,i-u)}}setStartOfBattleEvent(e){this.startOfBattleEvents.push(e)}resetStartOfBattleEvents(){this.startOfBattleEvents=[]}executeStartOfBattleEvents(){this.startOfBattleEvents=(0,Oe.shuffle)(this.startOfBattleEvents),this.startOfBattleEvents.sort((e,i)=>e.priority>i.priority?-1:e.priority<i.priority?1:0);for(let e of this.startOfBattleEvents)e.callback(this.gameService.gameApi);this.resetStartOfBattleEvents()}}return n.\u0275fac=function(e){return new(e||n)(V(Ey),V(wy),V(du))},n.\u0275prov=ne({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),h8=(()=>{class n{constructor(e){this.gameService=e,this.toyPetEvents=[],this.nonToyPetEvents=[]}initStartOfBattleEvents(){this.gameApi=this.gameService.gameApi;for(let e of this.gameApi.player.petArray)if(null!=e.startOfBattle){let i=this.toyPetEvents;e.toyPet||(i=this.nonToyPetEvents),i.push({callback:e.startOfBattle.bind(e),priority:e.attack,player:this.gameApi.player})}for(let e of this.gameApi.opponet.petArray)if(null!=e.startOfBattle){let i=this.toyPetEvents;e.toyPet||(i=this.nonToyPetEvents),i.push({callback:e.startOfBattle.bind(e),priority:e.attack,player:this.gameApi.opponet})}}resetToyPetEvents(){this.toyPetEvents=[]}resetNonToyPetEvents(){this.nonToyPetEvents=[]}executeToyPetEvents(){this.toyPetEvents=(0,Oe.shuffle)(this.toyPetEvents),this.toyPetEvents.sort((e,i)=>e.priority>i.priority?-1:e.priority<i.priority?1:0);for(let e of this.toyPetEvents)e.callback(this.gameApi);this.resetToyPetEvents()}executeNonToyPetEvents(){this.nonToyPetEvents=(0,Oe.shuffle)(this.nonToyPetEvents),this.nonToyPetEvents.sort((e,i)=>e.priority>i.priority?-1:e.priority<i.priority?1:0);for(let e of this.nonToyPetEvents)e.callback(this.gameApi);this.resetNonToyPetEvents()}}return n.\u0275fac=function(e){return new(e||n)(V(du))},n.\u0275prov=ne({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),d8=(()=>{class n{constructor(){this.key="sapData"}getStorage(){return window.localStorage.getItem(this.key)}setFormStorage(e){let i=e.value;for(let s of i.playerPets)null!=s.equipment&&(s.equipment={name:s.equipment.name});for(let s of i.opponentPets)null!=s.equipment&&(s.equipment={name:s.equipment.name});this.setStorage(i)}setStorage(e){"object"==typeof e&&(e=JSON.stringify(e)),window.localStorage.setItem(this.key,e)}clearStorage(){window.localStorage.removeItem(this.key)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=ne({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),f8=(()=>{class n{constructor(){}ngOnInit(){}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=Sr({type:n,selectors:[["app-patch-notes"]],decls:65,vars:0,template:function(e,i){1&e&&(C(0,"h2"),B(1,"v0.4.1"),D(),C(2,"ul"),C(3,"li"),B(4,"Fixed a bug where Shark would gain attack/health on its own death. (Thanks mumf)"),D(),C(5,"li"),B(6,"Fixed a bug where attack bonus food would affect snipes. (Thanks Tangl)"),D(),D(),C(7,"h2"),B(8,"v0.4.2"),D(),C(9,"ul"),C(10,"li"),B(11,"Calculator state saves on 'Simulate'."),D(),C(12,"ul"),C(13,"li"),B(14,"This is stored in the browser cache. You can clear the cache by clicking on the link on the bottom of this modal."),D(),D(),C(15,"li"),B(16,"Fixed bugs with Angler mode toggling."),D(),C(17,"li"),B(18,"Zoom In/Out feature."),D(),C(19,"li"),B(20,"Fixed bug with Fly triggering twice instead of three times. (Thanks nob)"),D(),C(21,"li"),B(22,"Fixed bug with some snipe pets having no targets breaking simulation."),D(),D(),C(23,"h2"),B(24,"v0.4.3"),D(),C(25,"ul"),C(26,"li"),B(27,"Duplicate pet option hotfix."),D(),D(),C(28,"h2"),B(29,"v0.4.4"),D(),C(30,"ul"),C(31,"li"),B(32,"Fixed a handful of Tiger bugs causing infinite loops."),D(),C(33,"li"),B(34,"Fixed a bug with typing select options."),D(),D(),C(35,"h2"),B(36,"v0.4.5"),D(),C(37,"ul"),C(38,"li"),B(39,"Drag and Drop!"),D(),D(),C(40,"h2"),B(41,"v0.4.6"),D(),C(42,"ul"),C(43,"li"),B(44,"Fixed a bug with mushroom breaking the simulation by breaking the cache process. (Thanks BeastiaVenator)"),D(),C(45,"li"),B(46,"Fixed a bug with loading equipment from the browser cache."),D(),D(),C(47,"h2"),B(48,"v0.4.7"),D(),C(49,"ul"),C(50,"li"),B(51,"Updated to SAP Version 0.28.20-130 BETA"),D(),C(52,"ul"),C(53,"li"),B(54,"Changed pets so they all move forward after start of battle abilities."),D(),D(),D(),C(55,"h2"),B(56,"v0.4.8"),D(),C(57,"ul"),C(58,"li"),B(59,"Fixed a bug with Fly attempting to spawn Zombie Fly when there is no room."),D(),D(),C(60,"h2"),B(61,"v0.4.9"),D(),C(62,"ul"),C(63,"li"),B(64,"Info/Guide modal."),D(),D())},styles:[""]}),n})(),p8=(()=>{class n{constructor(){}ngOnInit(){}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=Sr({type:n,selectors:[["app-info"]],decls:64,vars:0,consts:[["src","./assets/info/pack.PNG","alt","pack"],["src","./assets/info/turn.PNG","alt","turn"],["src","./assets/info/toy.PNG","alt","toy"],["src","./assets/info/angler.PNG","alt","angler"],["src","./assets/info/zoom.PNG","alt","zoom"],["src","./assets/info/board.PNG","alt","board"],["src","./assets/info/pet.png","alt","pet"],["src","/assets/info/simulate.PNG","alt","simulate"],["src","/assets/info/outcome.PNG","alt","outcome"],["src","/assets/info/battles.PNG","alt","battles"],["src","/assets/info/logs.PNG","alt","logs"]],template:function(e,i){1&e&&(C(0,"p"),B(1," The SAP Calculator is an analysis tool that allows you to easily calculate the approximate odds of your team beating another team. The SAP Calculator simulates the defined battle 1000 times and determines the percentage of wins, draws and loses.\n"),D(),C(2,"p"),C(3,"b"),B(4,"Disclaimer: The SAP Calculator is not an official tool of the game and is not affiliated with the game's developers. The SAP Calculator is a fan-made tool, and is not intended to replace the official game."),D(),D(),C(5,"p"),B(6," The SAP Calculator engine is based on the official game engine, but it may not be 100% accurate. It is pretty darn close though, and should be completely accurate for nearly every possible battle.\n"),D(),C(7,"h1"),B(8,"Guide"),D(),Ve(9,"img",0),C(10,"p"),B(11," Select the pack that the player and opponent are using. This determines the pets that are aviailable to each player.\n"),D(),Ve(12,"img",1),C(13,"ul"),C(14,"li"),B(15,"Turn: The turn the battle takes place. This will affect pets such as the Stork, Eagle, and Stegosaurus."),D(),C(16,"li"),B(17,"PGS - Player Gold Spent. Player gold spent the previous round. This will affect the Meerkat."),D(),C(18,"li"),B(19,"OGS - Opponent Gold Spent. Same as above but for the Opponent player."),D(),D(),Ve(20,"img",2),C(21,"p"),B(22," Toy configuration.\n"),D(),Ve(23,"img",3),C(24,"ul"),C(25,"li"),B(26,"Angler Mode: The opposite player's pets are aviailable to be selected for each player."),D(),D(),C(27,"p"),B(28,"(More modes coming soon)"),D(),Ve(29,"img",4),C(30,"p"),B(31,"Adjust the zoom level of the application."),D(),Ve(32,"img",5),C(33,"p"),B(34," This is the board. The left side is the Player pets and the right side is the Opponent Pets. Each white box contains a pet and its' stats/equipment. The layout of the pets are identical to as they would be in battle. The right most Player pet is clashing with the left most Opponent pet.\n"),D(),Ve(35,"img",6),C(36,"p"),B(37," This is a pet.\n"),D(),C(38,"ul"),C(39,"li"),B(40,"A: This select box is where you may choose the pet that will occupy this space."),D(),C(41,"li"),B(42,"B: This select box is where you may choose the pet's equipment."),D(),C(43,"li"),B(44,"C: These fields are where you may input the pet's stats. The gray field is attack and the red field is health."),D(),C(45,"li"),B(46,"D: This component determines the amount of exp the pet has. A pet may have 0-5 exp denoted by the number of boxes highlighted. The numbers (1, 2, 3) on top of the exp bar signify the level of the pet. 0-2 exp is level 1, 3-4 exp is level 2, and 5 exp is level 3. The x on the right will clear the exp bar leaving the pet at level 1 with 0 exp. "),D(),C(47,"li"),B(48,"E: This is a drag and drop tool. Use this to reorder your pets."),D(),D(),Ve(49,"img",7),C(50,"ul"),C(51,"li"),B(52,"Simulate: Run the simulation."),D(),C(53,"li"),B(54,"Randomize: Randomize the Player's and Opponents's pets and equipment."),D(),D(),Ve(55,"img",8),C(56,"p"),B(57," This is the outcome summary. It shows the number of wins, draws, and loses for the last simulation ran.\n"),D(),Ve(58,"img",9),C(59,"p"),B(60," This is the Battles table. It is a table of all the battles that were simulated. You may filter the table by the outcome of the battle.\n"),D(),Ve(61,"img",10),C(62,"p"),B(63," These are the logs of the last selected simulated battle. Logs that are highlighted green are logs from a pet on the Player's team and logs that are highlighted red are logs from a pet on the Opponent's team. Logs that are highlighted purple are random events. Note: Not everything is logged.\n"),D())},styles:["img[_ngcontent-%COMP%]{margin-bottom:.5em;max-width:100%;border:1px solid #bfbfbf}"]}),n})();function g8(n,t){if(1&n&&(C(0,"option",31),B(1),D()),2&n){const e=t.$implicit;Ie("ngValue",e),X(1),xs(e)}}function m8(n,t){if(1&n&&(C(0,"optgroup",89),on(1,g8,2,2,"option",90),D()),2&n){const e=t.$implicit;Ie("label","Tier "+e.key),X(1),Ie("ngForOf",e.value)}}function y8(n,t){if(1&n&&(C(0,"option",31),B(1),D()),2&n){const e=t.$implicit;Ie("ngValue",e),X(1),xs(e)}}function v8(n,t){if(1&n&&(C(0,"optgroup",89),on(1,y8,2,2,"option",90),D()),2&n){const e=t.$implicit;Ie("label","Tier "+e.key),X(1),Ie("ngForOf",e.value)}}function _8(n,t){if(1&n&&(C(0,"div",91),C(1,"div",92),Yu(),C(2,"svg",93),Ve(3,"path",94),Ve(4,"path",95),D(),D(),ds(),Ve(5,"app-pet-selector",96),D()),2&n){const e=t.$implicit,i=t.index,s=zi();X(5),Ie("pet",s.player["pet"+(4-i)])("player",s.player)("opponent",s.opponent)("index",4-i)("formGroup",s.makeFormGroup(e))("angler",s.formGroup.get("angler").value)}}function b8(n,t){if(1&n&&(C(0,"div",91),C(1,"div",92),Yu(),C(2,"svg",93),Ve(3,"path",94),Ve(4,"path",95),D(),D(),ds(),Ve(5,"app-pet-selector",96),D()),2&n){const e=t.$implicit,i=t.index,s=zi();X(5),Ie("pet",s.opponent["pet"+i])("player",s.opponent)("opponent",s.player)("index",i)("formGroup",s.makeFormGroup(e))("angler",s.formGroup.get("angler").value)}}function S8(n,t){if(1&n){const e=Ed();C(0,"button",97),ht("click",function(){return ua(e),zi().nextTurn()}),B(1,"Next Turn"),D()}}function E8(n,t){if(1&n&&(C(0,"div",49),C(1,"div",98),C(2,"label"),B(3,"Player Wins:"),D(),C(4,"span"),B(5),D(),C(6,"label"),B(7,"Opponent Wins:"),D(),C(8,"span"),B(9),D(),C(10,"label"),B(11,"Draws:"),D(),C(12,"span"),B(13),D(),D(),C(14,"div",99),C(15,"span",100),Ve(16,"span",101),Ve(17,"span",102),D(),D(),D()),2&n){const e=zi();X(5),Pd("",e.playerWinner," - ",e.winPercent,"%"),X(4),Pd("",e.opponentWinner," - ",e.losePercent,"%"),X(4),Pd("",e.draw," - ",e.drawPercent,"%"),X(3),wd("width",e.getDrawWidth()),X(1),wd("width",e.getLoseWidth())}}function w8(n,t){if(1&n){const e=Ed();C(0,"tr",103),ht("click",function(){const r=ua(e).$implicit;return zi().setViewBattle(r)}),C(1,"td"),B(2),D(),C(3,"td"),B(4),D(),C(5,"td",104),B(6),D(),D()}if(2&n){const e=t.$implicit,i=t.index,s=zi();X(2),xs(i),X(2),xs(e.winner),X(2),xs(s.getRandomEvents(e))}}const C8=function(n,t){return[n,t]};function D8(n,t){if(1&n&&(C(0,"div",56),C(1,"span",105),B(2),D(),D()),2&n){const e=t.$implicit,i=zi();X(1),Ie("ngClass",c1(2,C8,i.getPlayerClass(e),e.randomEvent?"random-event":"")),X(1),xs(e.message)}}let P8=(()=>{class n{constructor(e,i,s,r,o,a,u,d){this.logService=e,this.abilityService=i,this.gameService=s,this.equipmentService=r,this.petService=o,this.toyService=a,this.startOfBattleService=u,this.localStorageService=d,this.version="0.4.9",this.sapVersion="0.28.20-130 BETA",this.title="sap-calculator",this.maxTurns=50,this.turns=0,this.battleStarted=!1,this.simulationBattleAmt=1e3,this.playerWinner=0,this.opponentWinner=0,this.draw=0,this.battles=[],this.simulated=!1,this.player=new KI(e,i,s),this.opponent=new KI(e,i,s),this.gameService.init(this.player,this.opponent),this.petService.init(),this.initFormGroup(),this.loadLocalStorage(),this.setFontSize(),this.initPlayerPets(),this.updatePlayerPack(this.player,this.player.pack,!1),this.updatePlayerPack(this.opponent,this.opponent.pack,!1)}printFormGroup(){console.log(this.formGroup)}ngOnInit(){this.toys=this.toyService.toys}loadLocalStorage(){let e=this.localStorageService.getStorage();if(e)try{this.formGroup.setValue(JSON.parse(e),{emitEvent:!1})}catch(i){console.log("error loading local storage"),this.localStorageService.clearStorage()}}initPlayerPets(){for(let e=0;e<5;e++){let i=this.formGroup.get("playerPets").controls[e];if(null==i.get("name").value)continue;let s=this.petService.createPet(i.value,this.player);this.player.setPet(e,s,!0)}for(let e=0;e<5;e++){let i=this.formGroup.get("opponentPets").controls[e];if(null==i.get("name").value)continue;let s=this.petService.createPet(i.value,this.opponent);this.opponent.setPet(e,s,!0)}}randomizePlayerPets(e){for(let i=0;i<5;i++)e.setPet(i,this.petService.getRandomPet(e),!0)}makeFormGroup(e){return e}initFormGroup(){var e,i,s,r,o,a;this.updatePreviousShopTier(11),this.updateGoldSpent(10,10),this.formGroup=new au({playerPack:new dt(this.player.pack),opponentPack:new dt(this.opponent.pack),playerToy:new dt(null===(e=this.player.toy)||void 0===e?void 0:e.name),playerToyLevel:new dt(null!==(s=null===(i=this.player.toy)||void 0===i?void 0:i.level)&&void 0!==s?s:1),opponentToy:new dt(null===(r=this.opponent.toy)||void 0===r?void 0:r.name),opponentToyLevel:new dt(null!==(a=null===(o=this.opponent.toy)||void 0===o?void 0:o.level)&&void 0!==a?a:1),turn:new dt(11),playerGoldSpent:new dt(10),opponentGoldSpent:new dt(10),angler:new dt(!1),logFilter:new dt(null),playerPets:new ew([]),opponentPets:new ew([]),fontSize:new dt(13)}),this.initPetForms(),this.formGroup.get("playerPack").valueChanges.subscribe(g=>{this.updatePlayerPack(this.player,g)}),this.formGroup.get("opponentPack").valueChanges.subscribe(g=>{this.updatePlayerPack(this.opponent,g)}),this.formGroup.get("playerToy").valueChanges.subscribe(g=>{this.updatePlayerToy(this.player,g)}),this.formGroup.get("opponentToy").valueChanges.subscribe(g=>{this.updatePlayerToy(this.opponent,g)}),this.formGroup.get("playerToyLevel").valueChanges.subscribe(g=>{this.updateToyLevel(this.player,g)}),this.formGroup.get("opponentToyLevel").valueChanges.subscribe(g=>{this.updateToyLevel(this.opponent,g)}),this.formGroup.get("turn").valueChanges.subscribe(g=>{this.updatePreviousShopTier(g)}),this.formGroup.get("playerGoldSpent").valueChanges.subscribe(g=>{this.updateGoldSpent(g,null)}),this.formGroup.get("opponentGoldSpent").valueChanges.subscribe(g=>{this.updateGoldSpent(null,g)}),this.formGroup.get("angler").valueChanges.subscribe(g=>{setTimeout(()=>{this.updateSelectorPets()})})}initPetForms(){let e=[0,1,2,3,4],i=e.map(a=>{var u,d,f,g,m,v,S,x,k;return new au({name:new dt(null===(u=this.player[`pet${a}`])||void 0===u?void 0:u.name),attack:new dt(null!==(f=null===(d=this.player[`pet${a}`])||void 0===d?void 0:d.attack)&&void 0!==f?f:0),health:new dt(null!==(m=null===(g=this.player[`pet${a}`])||void 0===g?void 0:g.health)&&void 0!==m?m:0),exp:new dt(null!==(S=null===(v=this.player[`pet${a}`])||void 0===v?void 0:v.exp)&&void 0!==S?S:0),equipment:new dt(null===(x=this.player[`pet${a}`])||void 0===x?void 0:x.equipment),belugaSwallowedPet:new dt(null===(k=this.player[`pet${a}`])||void 0===k?void 0:k.belugaSwallowedPet)})}),s=this.formGroup.get("playerPets");s.clear();for(let a of i)s.push(a);let r=e.map(a=>{var u,d,f,g,m,v,S,x,k;return new au({name:new dt(null===(u=this.opponent[`pet${a}`])||void 0===u?void 0:u.name),attack:new dt(null!==(f=null===(d=this.opponent[`pet${a}`])||void 0===d?void 0:d.attack)&&void 0!==f?f:0),health:new dt(null!==(m=null===(g=this.opponent[`pet${a}`])||void 0===g?void 0:g.health)&&void 0!==m?m:0),exp:new dt(null!==(S=null===(v=this.opponent[`pet${a}`])||void 0===v?void 0:v.exp)&&void 0!==S?S:0),equipment:new dt(null===(x=this.opponent[`pet${a}`])||void 0===x?void 0:x.equipment),belugaSwallowedPet:new dt(null===(k=this.opponent[`pet${a}`])||void 0===k?void 0:k.belugaSwallowedPet)})}),o=this.formGroup.get("opponentPets");o.clear();for(let a of r)o.push(a)}getPlayerPetsFormArray(){return Array.from(this.formGroup.get("playerPets").controls).reverse()}getOpponentPetsFormArray(){return Array.from(this.formGroup.get("opponentPets").controls)}updatePlayerPack(e,i,s=!0){let r;switch(e.pack=i,i){case"Turtle":r=this.petService.turtlePackPets;break;case"Puppy":r=this.petService.puppyPackPets;break;case"Star":r=this.petService.starPackPets;break;case"Golden":r=this.petService.goldenPackPets}e==this.player?this.gameService.setTierGroupPets(r,null):this.gameService.setTierGroupPets(null,r),s&&this.randomize(e)}updateSelectorPets(){this.petSelectors.forEach(e=>{e.initPets()})}updatePlayerToy(e,i){let s;e==this.player&&(s="playerToyLevel"),e==this.opponent&&(s="opponentToyLevel");let r=this.formGroup.get(s).value;e.toy=this.toyService.createToy(i,e,r),e.originalToy=e.toy}updatePreviousShopTier(e){let i=1;e>2&&(i=2),e>4&&(i=3),e>6&&(i=4),e>8&&(i=5),e>10&&(i=6),this.gameService.setPreviousShopTier(i),this.gameService.setTurnNumber(e)}updateGoldSpent(e,i){this.gameService.setGoldSpent(e,i)}updateToyLevel(e,i){e.toy&&(e.toy.level=i)}abilityCycle(){this.abilityService.executeHurtEvents(),this.executeFrequentEvents(),this.checkPetsAlive(),this.abilityService.executeFriendHurtEvents(),this.executeFrequentEvents(),this.checkPetsAlive(),this.abilityService.executeEnemyHurtEvents(),this.executeFrequentEvents(),this.checkPetsAlive(),this.abilityService.executeFaintEvents(),this.executeFrequentEvents(),this.checkPetsAlive(),this.abilityService.executeKnockOutEvents(),this.executeFrequentEvents(),this.checkPetsAlive(),this.abilityService.executeFriendAheadFaintsEvents(),this.executeFrequentEvents(),this.checkPetsAlive(),this.abilityService.executeFriendFaintsEvents(),this.executeFrequentEvents(),this.checkPetsAlive(),this.removeDeadPets(),this.abilityService.executeSpawnEvents(),this.abilityService.executeSummonedEvents(),this.abilityService.executeEnemySummonedEvents(),this.executeFrequentEvents(),this.checkPetsAlive()}executeFrequentEvents(){this.abilityService.executeFriendGainedPerkEvents(),this.abilityService.executeFriendGainedAilmentEvents(),this.abilityService.executeFriendlyToyBrokeEvents()}checkPetsAlive(){this.player.checkPetsAlive(),this.opponent.checkPetsAlive()}initToys(){var e,i;(null===(e=this.player.toy)||void 0===e?void 0:e.startOfBattle)&&this.toyService.setStartOfBattleEvent({callback:()=>{this.player.toy.startOfBattle(this.gameService.gameApi);let s=this.player.toy.level;for(let r of this.player.petArray)r instanceof lu&&(this.player.toy.level=r.level,this.player.toy.startOfBattle(this.gameService.gameApi,!0),this.player.toy.level=s)},priority:this.player.toy.tier}),(null===(i=this.opponent.toy)||void 0===i?void 0:i.startOfBattle)&&this.toyService.setStartOfBattleEvent({callback:()=>{this.opponent.toy.startOfBattle(this.gameService.gameApi);let s=this.opponent.toy.level;for(let r of this.opponent.petArray)r instanceof lu&&(this.opponent.toy.level=r.level,this.opponent.toy.startOfBattle(this.gameService.gameApi,!0),this.opponent.toy.level=s)},priority:this.opponent.toy.tier})}simulate(){this.localStorageService.setFormStorage(this.formGroup),this.resetSimulation();for(let e=0;e<this.simulationBattleAmt;e++){for(this.initBattle(),this.startBattle(),this.initToys(),this.abilityService.initEndTurnEvents(this.player),this.abilityService.initEndTurnEvents(this.opponent),this.player.onionCheck(),this.opponent.onionCheck(),this.executeBeforeStartOfBattleEquipment(this.player),this.executeBeforeStartOfBattleEquipment(this.opponent),this.startOfBattleService.initStartOfBattleEvents(),this.startOfBattleService.executeToyPetEvents(),this.executeFrequentEvents(),this.toyService.executeStartOfBattleEvents(),this.executeFrequentEvents(),this.startOfBattleService.executeNonToyPetEvents(),this.executeFrequentEvents(),this.abilityService.executeSummonedEvents(),this.abilityService.executeEnemySummonedEvents(),this.abilityService.triggerTransformEvents(this.player),this.abilityService.triggerTransformEvents(this.opponent),this.abilityService.executeTransformEvents(),this.checkPetsAlive(),this.abilityService.hasAbilityCycleEvents||this.removeDeadPets();this.abilityService.hasAbilityCycleEvents;)this.abilityCycle();for(this.pushPetsForwards(),this.printState();this.battleStarted;)this.nextTurn();this.reset()}this.simulated=!0}removeDeadPets(){this.player.removeDeadPets(),this.opponent.removeDeadPets(),null==this.player.pet0&&this.abilityService.triggerEmptyFrontSpaceEvents(this.player),null==this.player.pet1&&this.abilityService.triggerEmptyFrontSpaceEvents(this.opponent),this.abilityService.executeEmptyFrontSpaceEvents()}startBattle(){this.reset(),this.battleStarted=!0,this.turns=0}resetSimulation(){this.playerWinner=0,this.opponentWinner=0,this.viewBattle=null,this.draw=0,this.battles=[],this.currBattle=null}initBattle(){this.logService.reset(),this.currBattle={winner:"draw",logs:this.logs},this.battles.push(this.currBattle)}reset(){this.player.resetPets(),this.opponent.resetPets()}nextTurn(){let e=!1,i=null;if(this.turns++,this.turns>=this.maxTurns&&(e=!0),!this.player.alive()&&this.opponent.alive()&&(i=this.opponent,this.currBattle.winner="opponent",this.opponentWinner++,e=!0),!this.opponent.alive()&&this.player.alive()&&(i=this.player,this.currBattle.winner="player",this.playerWinner++,e=!0),!this.opponent.alive()&&!this.player.alive()&&(this.draw++,e=!0),e)return this.endLog(i),void(this.battleStarted=!1);for(this.pushPetsForwards(),this.doBeforeAttackEquipment();this.abilityService.hasAbilityCycleEvents;)this.abilityCycle();if(this.checkPetsAlive(),this.removeDeadPets(),!this.player.alive()||!this.opponent.alive())return;this.pushPetsForwards();let s=this.chocolateCakePresent();for(s.cake?this.doChocolateCakeEvents(s):this.fight(),this.abilityCycle();this.abilityService.hasAbilityCycleEvents;)this.abilityCycle();this.player.checkGoldenSpawn(),this.opponent.checkGoldenSpawn(),this.printState()}chocolateCakePresent(){var e,i;let s={player:!1,opponent:!1,cake:!1};return s.player=(null===(e=this.player.pet0)||void 0===e?void 0:e.equipment)instanceof wP,s.opponent=(null===(i=this.opponent.pet0)||void 0===i?void 0:i.equipment)instanceof wP,s.cake=s.player||s.opponent,s}doChocolateCakeEvents(e){let i=[];e.player&&i.push(this.player.pet0),e.opponent&&i.push(this.opponent.pet0),i=(0,Oe.shuffle)(i),i.sort((s,r)=>s.attack<r.attack?1:r.attack<s.attack?-1:0);for(let s of i)s.equipment.callback(s)}executeBeforeStartOfBattleEquipment(e){for(let i of e.petArray){let s=1,r="";if(i instanceof _n&&(s=i.level+1,r=` x${s} (Panther)`),i.equipment instanceof eO&&(i.increaseAttack(4*s),i.increaseHealth(4*s),this.logService.createLog({message:`${i.name} gained ${4*s} attack and ${4*s} health (Pie)${r}`,type:"equipment",player:e})),i.equipment instanceof tO)for(let o of e.petArray)i!=o&&(i.increaseAttack(2*s),i.increaseHealth(2*s),this.logService.createLog({message:`${o.name} gained ${2*s} attack and ${2*s} health (Pancake)${r}`,type:"equipment",player:e}));i.equipment instanceof nO&&i.equipment.callback(i),i.equipment instanceof iO&&i.equipment.callback(i)}}pushPetsForwards(){1==this.turns&&this.player.pet0&&this.opponent.pet0||(this.player.pushPetsForward(),this.opponent.pushPetsForward(),this.player.onionCheck(),this.opponent.onionCheck())}doBeforeAttackEquipment(){let e=this.player.pet0,i=this.opponent.pet0,s=e.equipment,r=i.equipment;"snipe"==(null==s?void 0:s.equipmentClass)&&this.abilityService.setEqiupmentBeforeAttackEvent({callback:()=>{s.attackCallback(e,i)},priority:e.attack,player:this.player}),"snipe"==(null==r?void 0:r.equipmentClass)&&this.abilityService.setEqiupmentBeforeAttackEvent({callback:()=>{r.attackCallback(i,e)},priority:i.attack,player:this.opponent}),this.abilityService.executeEqiupmentBeforeAttackEvents(),this.player.checkPetsAlive(),this.opponent.checkPetsAlive()}fight(){let e=this.player.pet0,i=this.opponent.pet0;e.beforeAttack&&this.abilityService.setBeforeAttackEvent({callback:e.beforeAttack.bind(e),priority:e.attack,player:this.player}),i.beforeAttack&&this.abilityService.setBeforeAttackEvent({callback:i.beforeAttack.bind(i),priority:i.attack,player:this.opponent}),this.abilityService.executeBeforeAttackEvents(),e.attackPet(i),i.attackPet(e),e.useAttackDefenseEquipment(),i.useAttackDefenseEquipment(),this.player.checkPetsAlive(),this.opponent.checkPetsAlive(),this.abilityService.executeAfterAttackEvents(),this.abilityService.executeFriendAheadAttacksEvents(),this.abilityService.executeFriendAttacksEvents()}endLog(e){let i;i=null==e?"Draw":e==this.player?"Player is the winner":"Opponent is the winner",this.logService.createLog({message:i,type:"board"})}get logs(){return this.logService.getLogs()}printState(){let e="";e+=this.getPetText(this.player.pet4),e+=this.getPetText(this.player.pet3),e+=this.getPetText(this.player.pet2),e+=this.getPetText(this.player.pet1),e+=this.getPetText(this.player.pet0);let i="";i+=this.getPetText(this.opponent.pet0),i+=this.getPetText(this.opponent.pet1),i+=this.getPetText(this.opponent.pet2),i+=this.getPetText(this.opponent.pet3),i+=this.getPetText(this.opponent.pet4),this.logService.createLog({message:`${e}| ${i}`,type:"board"})}getPetText(e){return null==e?"___ (-/-) ":`${e.name.substring(0,3)} (${e.attack}/${e.health}) `}setViewBattle(e){this.viewBattle=e}getViewBattleLogs(){var e,i;return null!==(i=null===(e=this.viewBattle)||void 0===e?void 0:e.logs)&&void 0!==i?i:[]}getDrawWidth(){return`${this.losePercent+this.drawPercent}%`}getLoseWidth(){return`${this.losePercent}%`}getPlayerClass(e){return null==e.player?"log":e.player==this.player?"log-player":"log-opponent"}getRandomEvents(e){let i="",s=e.logs.filter(r=>1==r.randomEvent);for(let r of s)i+=r.message,r!=s[s.length-1]&&(i+="\n");return i}randomize(e){console.log("randomize",e),e?this.randomizePlayerPets(e):(this.randomizePlayerPets(this.player),this.randomizePlayerPets(this.opponent)),this.formGroup&&this.initPetForms(),setTimeout(()=>{this.petSelectors.forEach(i=>{i.initSelector()})})}zoomIn(){this.formGroup.get("fontSize").setValue(Math.min(this.formGroup.get("fontSize").value+1,20)),this.setFontSize()}zoomOut(){this.formGroup.get("fontSize").setValue(Math.max(this.formGroup.get("fontSize").value-1,8)),this.setFontSize()}setFontSize(){document.documentElement.style.fontSize=`${this.formGroup.get("fontSize").value}px`}clearCache(){this.localStorageService.clearStorage(),alert("Cache cleared. Refresh page to see changes.")}drop(e,i){let s=e.previousIndex,r=e.currentIndex,o=this.opponent;"player"==i&&(s=4-s,r=4-r,o=this.player),qP(this.formGroup.get(`${i}Pets`).controls,s,r);let a=o.petArray;qP(a,s,r),o.setPet(0,a[0],!0),o.setPet(1,a[1],!0),o.setPet(2,a[2],!0),o.setPet(3,a[3],!0),o.setPet(4,a[4],!0)}get filteredBattles(){return this.battles.filter(e=>{let i=this.formGroup.get("logFilter").value;return null==i||e.winner==i})}get winPercent(){return hw(this.playerWinner/this.simulationBattleAmt*100)}get drawPercent(){return hw(this.draw/this.simulationBattleAmt*100)}get losePercent(){return hw(this.opponentWinner/this.simulationBattleAmt*100)}}return n.\u0275fac=function(e){return new(e||n)(L(Ey),L(wy),L(du),L(sO),L(EP),L(u8),L(h8),L(d8))},n.\u0275cmp=Sr({type:n,selectors:[["app-root"]],viewQuery:function(e,i){if(1&e&&function(n,t,e){const i=qe();i.firstCreatePass&&(v1(i,new g1(n,t,e),-1),2==(2&t)&&(i.staticViewQueries=!0)),y1(i,U(),t)}(rO,5),2&e){let s;eu(s=tu())&&(i.petSelectors=s)}},decls:190,vars:18,consts:[[1,"container-fluid","app-wrapper","flex-col",3,"formGroup"],["container",""],[1,"row","mt-2"],[1,"col-12","header"],[1,"d-flex","align-items-end"],[3,"click"],["data-bs-toggle","modal","data-bs-target","#info",1,"btn-link","info-link"],[1,"d-flex","flex-column","align-items-end"],["data-bs-toggle","modal","data-bs-target","#patchNotes",1,"btn-link"],[1,"row","battle-controller","border"],[1,"col-12","d-flex","justify-content-between","py-2"],[1,"d-flex"],[1,"form-group","min-w-input","me-3"],["for","playerPack"],["id","playerPack","formControlName","playerPack",1,"form-control"],["value","Turtle"],["value","Puppy"],["value","Star"],["value","Golden"],[1,"form-group","min-w-input","pe-3","border-end"],["id","opponentPack","formControlName","opponentPack",1,"form-control"],[1,"border-end","d-flex","pe-3"],[1,"form-group","small-w-input","ms-3"],["for","turn"],["id","turn","type","number","formControlName","turn","max","99",1,"form-control"],["for","playerGoldSpent","title","Player Gold Spent"],["id","turn","type","number","formControlName","playerGoldSpent","max","99",1,"form-control"],["for","opponentGoldSpent","title","Opponent Gold Spent"],["id","turn","type","number","formControlName","opponentGoldSpent","max","99",1,"form-control"],[1,"form-group","min-w-input","mx-3"],["id","playerToy","formControlName","playerToy",1,"form-control"],[3,"ngValue"],[3,"label",4,"ngFor","ngForOf"],[1,"form-group","me-3"],["for","playerToyLevel"],["id","playerToyLevel","formControlName","playerToyLevel",1,"form-control"],["id","opponentToy","formControlName","opponentToy",1,"form-control"],[1,"form-group","pe-3","border-end"],["for","opponentToyLevel"],["id","opponentToyLevel","formControlName","opponentToyLevel",1,"form-control"],["title","Opponent's pack pets are included in the pet pool.",1,"form-check","ms-3"],["type","checkbox","value","","id","angler","formControlName","angler",1,"form-check-input"],["for","angler",1,"form-check-label"],[1,"flex-col","zoom-container"],["for","zoom"],[1,"btn","btn-secondary","me-2",3,"click"],[1,"btn","btn-secondary",3,"click"],[1,"row","battle-row","pb-5","pt-3"],[1,"col-6","px-4"],[1,"row"],[1,"col-12","d-flex","align-items-center"],[1,"me-4"],[1,"card","p-2","player-card"],["cdkDropList","","cdkDropListOrientation","horizontal",1,"row",3,"cdkDropListDropped"],["class","col drag-container","cdkDrag","",4,"ngFor","ngForOf"],[1,"row","button-bar","py-3","border"],[1,"col-12"],[1,"btn","btn-primary","me-2",3,"click"],["class","btn btn-primary",3,"click",4,"ngIf"],["class","row",4,"ngIf"],[1,"row","flex-1","bottom-container"],[1,"col-6","border","h-100","flex-col"],["for","logFilter",1,"form-label"],[1,"form-check","form-check-inline"],["formControlName","logFilter","type","radio","name","logFilter","id","inlineRadio1",1,"form-check-input",3,"value"],["for","inlineRadio1",1,"form-check-label"],["formControlName","logFilter","type","radio","name","logFilter","id","inlineRadio2","value","player",1,"form-check-input"],["for","inlineRadio2",1,"form-check-label"],["formControlName","logFilter","type","radio","name","logFilter","id","inlineRadio3","value","opponent",1,"form-check-input"],["for","inlineRadio3",1,"form-check-label"],["formControlName","logFilter","type","radio","name","logFilter","id","inlineRadio4","value","draw",1,"form-check-input"],["for","inlineRadio4",1,"form-check-label"],[1,"battle-container","flex-1","scroll"],[1,"table"],[1,"battle-no"],["class","table-battle-row",3,"click",4,"ngFor","ngForOf"],[1,"row","log-container","flex-1","scroll"],["class","col-12",4,"ngFor","ngForOf"],["id","patchNotes","tabindex","-1","aria-labelledby","exampleModalLabel","aria-hidden","true",1,"modal","fade"],[1,"modal-dialog"],[1,"modal-content"],[1,"modal-header"],["id","exampleModalLabel",1,"modal-title","fs-5"],["type","button","data-bs-dismiss","modal","aria-label","Close",1,"btn-close"],[1,"modal-body"],[1,"modal-footer"],[1,"btn-link",3,"click"],["id","info","tabindex","-1","aria-labelledby","exampleModalLabel","aria-hidden","true",1,"modal","fade"],[1,"modal-dialog","modal-lg"],[3,"label"],[3,"ngValue",4,"ngFor","ngForOf"],["cdkDrag","",1,"col","drag-container"],["cdkDragHandle","",1,"drag-handle"],["fill","currentColor","viewBox","0 0 24 24"],["d","M10 9h4V6h3l-5-5-5 5h3v3zm-1 1H6V7l-5 5 5 5v-3h3v-4zm14 2l-5-5v3h-3v4h3v3l5-5zm-9 3h-4v3H7l5 5 5-5h-3v-3z"],["d","M0 0h24v24H0z","fill","none"],[3,"pet","player","opponent","index","formGroup","angler"],[1,"btn","btn-primary",3,"click"],[1,"col-12","stats"],[1,"col-12","py-2"],[1,"results-bar"],[1,"draw-bar"],[1,"lose-bar"],[1,"table-battle-row",3,"click"],[1,"pre"],[3,"ngClass"]],template:function(e,i){1&e&&(C(0,"div",0,1),C(2,"div",2),C(3,"div",3),C(4,"div",4),C(5,"h1",5),ht("click",function(){return i.printFormGroup()}),B(6,"SAP Calculator"),D(),C(7,"span",6),B(8,"Info/Guide"),D(),D(),C(9,"div",7),C(10,"span"),B(11),C(12,"span",8),B(13,"Patch Notes"),D(),D(),C(14,"span"),B(15),D(),D(),D(),D(),C(16,"div",9),C(17,"div",10),C(18,"div",11),C(19,"div",12),C(20,"label",13),B(21,"Player Pack"),D(),C(22,"select",14),C(23,"option",15),B(24,"Turtle"),D(),C(25,"option",16),B(26,"Puppy"),D(),C(27,"option",17),B(28,"Star"),D(),C(29,"option",18),B(30,"Golden"),D(),D(),D(),C(31,"div",19),C(32,"label",13),B(33,"Opponent Pack"),D(),C(34,"select",20),C(35,"option",15),B(36,"Turtle"),D(),C(37,"option",16),B(38,"Puppy"),D(),C(39,"option",17),B(40,"Star"),D(),C(41,"option",18),B(42,"Golden"),D(),D(),D(),C(43,"div",21),C(44,"div",22),C(45,"label",23),B(46,"Turn"),D(),Ve(47,"input",24),D(),C(48,"div",22),C(49,"label",25),B(50,"PGS"),D(),Ve(51,"input",26),D(),C(52,"div",22),C(53,"label",27),B(54,"OGS"),D(),Ve(55,"input",28),D(),D(),C(56,"div",29),C(57,"label",13),B(58,"Player Toy"),D(),C(59,"select",30),C(60,"option",31),B(61,"None"),D(),on(62,m8,2,2,"optgroup",32),Jc(63,"keyvalue"),D(),D(),C(64,"div",33),C(65,"label",34),B(66,"Toy Level"),D(),C(67,"select",35),C(68,"option"),B(69,"1"),D(),C(70,"option"),B(71,"2"),D(),C(72,"option"),B(73,"3"),D(),D(),D(),C(74,"div",12),C(75,"label",13),B(76,"Opponent Toy"),D(),C(77,"select",36),C(78,"option",31),B(79,"None"),D(),on(80,v8,2,2,"optgroup",32),Jc(81,"keyvalue"),D(),D(),C(82,"div",37),C(83,"label",38),B(84,"Toy Level"),D(),C(85,"select",39),C(86,"option"),B(87,"1"),D(),C(88,"option"),B(89,"2"),D(),C(90,"option"),B(91,"3"),D(),D(),D(),C(92,"div",40),Ve(93,"input",41),C(94,"label",42),B(95," Angler "),D(),D(),D(),C(96,"div",43),C(97,"label",44),B(98,"Zoom"),D(),C(99,"div"),C(100,"button",45),ht("click",function(){return i.zoomIn()}),B(101,"+"),D(),C(102,"button",46),ht("click",function(){return i.zoomOut()}),B(103,"-"),D(),D(),D(),D(),D(),C(104,"div",47),C(105,"div",48),C(106,"div",49),C(107,"div",50),C(108,"h2",51),B(109,"Player"),D(),D(),D(),C(110,"div",52),C(111,"div",53),ht("cdkDropListDropped",function(r){return i.drop(r,"player")}),on(112,_8,6,6,"div",54),D(),D(),D(),C(113,"div",48),C(114,"h2",51),B(115,"Opponent"),D(),C(116,"div",52),C(117,"div",53),ht("cdkDropListDropped",function(r){return i.drop(r,"opponent")}),on(118,b8,6,6,"div",54),D(),D(),D(),D(),C(119,"div",55),C(120,"div",56),C(121,"button",57),ht("click",function(){return i.simulate()}),B(122,"Simulate"),D(),C(123,"button",57),ht("click",function(){return i.randomize()}),B(124,"Randomize"),D(),on(125,S8,2,0,"button",58),D(),D(),on(126,E8,18,10,"div",59),C(127,"div",60),C(128,"div",61),C(129,"h3"),B(130,"Battles"),D(),C(131,"div",49),C(132,"div",56),C(133,"label",62),B(134,"Filter Battles By Winner"),D(),D(),C(135,"div",56),C(136,"div",63),Ve(137,"input",64),C(138,"label",65),B(139,"None"),D(),D(),C(140,"div",63),Ve(141,"input",66),C(142,"label",67),B(143,"Player"),D(),D(),C(144,"div",63),Ve(145,"input",68),C(146,"label",69),B(147,"Opponent"),D(),D(),C(148,"div",63),Ve(149,"input",70),C(150,"label",71),B(151,"Draw"),D(),D(),D(),D(),C(152,"div",72),C(153,"table",73),C(154,"thead"),C(155,"tr"),C(156,"th",74),B(157,"Battle No."),D(),C(158,"th"),B(159,"Winner"),D(),C(160,"th"),B(161,"Random Events"),D(),D(),D(),C(162,"tbody"),on(163,w8,7,3,"tr",75),D(),D(),D(),D(),C(164,"div",61),C(165,"h3"),B(166,"Logs"),D(),C(167,"div",76),on(168,D8,3,5,"div",77),D(),D(),D(),D(),C(169,"div",78),C(170,"div",79),C(171,"div",80),C(172,"div",81),C(173,"h1",82),B(174,"Patch Notes"),D(),Ve(175,"button",83),D(),C(176,"div",84),Ve(177,"app-patch-notes"),D(),C(178,"div",85),C(179,"span",86),ht("click",function(){return i.clearCache()}),B(180,"Clear Cache"),D(),D(),D(),D(),D(),C(181,"div",87),C(182,"div",88),C(183,"div",80),C(184,"div",81),C(185,"h1",82),B(186,"Info"),D(),Ve(187,"button",83),D(),C(188,"div",84),Ve(189,"app-info"),D(),D(),D(),D()),2&e&&(Ie("formGroup",i.formGroup),X(11),Dd("Version: ",i.version," "),X(4),Dd("SAP Version: ",i.sapVersion,""),X(45),Ie("ngValue",null),X(2),Ie("ngForOf",Xc(63,14,i.toys)),X(16),Ie("ngValue",null),X(2),Ie("ngForOf",Xc(81,16,i.toys)),X(32),Ie("ngForOf",i.getPlayerPetsFormArray()),X(6),Ie("ngForOf",i.getOpponentPetsFormArray()),X(7),Ie("ngIf",i.battleStarted),X(1),Ie("ngIf",i.simulated),X(11),Ie("value",null),X(26),Ie("ngForOf",i.filteredBattles),X(5),Ie("ngForOf",i.getViewBattleLogs()))},directives:[GE,af,lf,UE,ny,ow,lw,ty,iy,tf,SE,BE,jG,EE,nw,f8,p8,KG,WG,rO,RM],pipes:[DE],styles:[".app-wrapper[_ngcontent-%COMP%]{height:100vh}.header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:end}.flex-col[_ngcontent-%COMP%]{display:flex;flex-direction:column}.player-card[_ngcontent-%COMP%]{background-color:#e9c137}.battle-row[_ngcontent-%COMP%]{background-color:#5ebe09}.button-bar[_ngcontent-%COMP%], .battle-controller[_ngcontent-%COMP%]{background-color:#f5f5f5}.battle-controller[_ngcontent-%COMP%]   .min-w-input[_ngcontent-%COMP%]{min-width:100px}.small-w-input[_ngcontent-%COMP%]{width:60px}.stats[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{margin-right:.25em}.stats[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{margin-right:1em}.battle-no[_ngcontent-%COMP%]{width:1%;white-space:nowrap}.table-battle-row[_ngcontent-%COMP%]{cursor:pointer}.results-bar[_ngcontent-%COMP%], .draw-bar[_ngcontent-%COMP%], .lose-bar[_ngcontent-%COMP%]{display:inline-block}.draw-bar[_ngcontent-%COMP%], .lose-bar[_ngcontent-%COMP%]{height:100%;position:absolute;right:0}.results-bar[_ngcontent-%COMP%]{border:.2em solid black;height:2em;width:30em;background-color:#0f0;position:relative}.draw-bar[_ngcontent-%COMP%]{background-color:#d3d3d3}.lose-bar[_ngcontent-%COMP%]{background-color:red}.log-player[_ngcontent-%COMP%]{background-color:#e4ffe0}.log-opponent[_ngcontent-%COMP%]{background-color:#ffe0e0}.log-container[_ngcontent-%COMP%]{display:flex;align-content:flex-start}.random-event[_ngcontent-%COMP%]{color:purple;font-weight:bold}.flex-1[_ngcontent-%COMP%]{flex:1}.bottom-container[_ngcontent-%COMP%]{overflow:auto}.scroll[_ngcontent-%COMP%]{overflow:scroll}.h-100[_ngcontent-%COMP%]{height:100%}.pre[_ngcontent-%COMP%]{white-space:pre}.btn-link[_ngcontent-%COMP%]{color:#0d6efd;cursor:pointer}.zoom-container[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{width:2.5em}.cdk-drag-placeholder[_ngcontent-%COMP%]{opacity:0}.drag-container[_ngcontent-%COMP%]{position:relative}.drag-handle[_ngcontent-%COMP%]{width:1.25em;position:absolute;right:1em;z-index:1;opacity:.5;cursor:pointer}.info-link[_ngcontent-%COMP%]{margin-left:1em;margin-bottom:.5em}"]}),n})();class uR{}const Zr="*";function hR(n,t=null){return{type:2,steps:n,options:t}}function dR(n){return{type:6,styles:n,offset:null}}function fR(n){Promise.resolve(null).then(n)}class yu{constructor(t=0,e=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=t+e}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}onStart(t){this._onStartFns.push(t)}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){fR(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(t=>t()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}reset(){this._started=!1}setPosition(t){this._position=this.totalTime?t*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(i=>i()),e.length=0}}class pR{constructor(t){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=t;let e=0,i=0,s=0;const r=this.players.length;0==r?fR(()=>this._onFinish()):this.players.forEach(o=>{o.onDone(()=>{++e==r&&this._onFinish()}),o.onDestroy(()=>{++i==r&&this._onDestroy()}),o.onStart(()=>{++s==r&&this._onStart()})}),this.totalTime=this.players.reduce((o,a)=>Math.max(o,a.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}init(){this.players.forEach(t=>t.init())}onStart(t){this._onStartFns.push(t)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(t=>t()),this._onStartFns=[])}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(t=>t.play())}pause(){this.players.forEach(t=>t.pause())}restart(){this.players.forEach(t=>t.restart())}finish(){this._onFinish(),this.players.forEach(t=>t.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(t=>t.destroy()),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}reset(){this.players.forEach(t=>t.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(t){const e=t*this.totalTime;this.players.forEach(i=>{const s=i.totalTime?Math.min(1,e/i.totalTime):1;i.setPosition(s)})}getPosition(){const t=this.players.reduce((e,i)=>null===e||i.totalTime>e.totalTime?i:e,null);return null!=t?t.getPosition():0}beforeDestroy(){this.players.forEach(t=>{t.beforeDestroy&&t.beforeDestroy()})}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(i=>i()),e.length=0}}function gR(){return"undefined"!=typeof window&&void 0!==window.document}function QP(){return"undefined"!=typeof process&&"[object process]"==={}.toString.call(process)}function jo(n){switch(n.length){case 0:return new yu;case 1:return n[0];default:return new pR(n)}}function mR(n,t,e,i,s={},r={}){const o=[],a=[];let u=-1,d=null;if(i.forEach(f=>{const g=f.offset,m=g==u,v=m&&d||{};Object.keys(f).forEach(S=>{let x=S,k=f[S];if("offset"!==S)switch(x=t.normalizePropertyName(x,o),k){case"!":k=s[S];break;case Zr:k=r[S];break;default:k=t.normalizeStyleValue(S,x,k,o)}v[x]=k}),m||a.push(v),d=v,u=g}),o.length){const f="\n - ";throw new Error(`Unable to animate due to the following errors:${f}${o.join(f)}`)}return a}function ZP(n,t,e,i){switch(t){case"start":n.onStart(()=>i(e&&YP(e,"start",n)));break;case"done":n.onDone(()=>i(e&&YP(e,"done",n)));break;case"destroy":n.onDestroy(()=>i(e&&YP(e,"destroy",n)))}}function YP(n,t,e){const i=e.totalTime,r=JP(n.element,n.triggerName,n.fromState,n.toState,t||n.phaseName,null==i?n.totalTime:i,!!e.disabled),o=n._data;return null!=o&&(r._data=o),r}function JP(n,t,e,i,s="",r=0,o){return{element:n,triggerName:t,fromState:e,toState:i,phaseName:s,totalTime:r,disabled:!!o}}function Mi(n,t,e){let i;return n instanceof Map?(i=n.get(t),i||n.set(t,i=e)):(i=n[t],i||(i=n[t]=e)),i}function yR(n){const t=n.indexOf(":");return[n.substring(1,t),n.substr(t+1)]}let XP=(n,t)=>!1,ek=(n,t)=>!1,vR=(n,t,e)=>[];const _R=QP();(_R||"undefined"!=typeof Element)&&(XP=gR()?(n,t)=>{for(;t&&t!==document.documentElement;){if(t===n)return!0;t=t.parentNode||t.host}return!1}:(n,t)=>n.contains(t),ek=(()=>{if(_R||Element.prototype.matches)return(n,t)=>n.matches(t);{const n=Element.prototype,t=n.matchesSelector||n.mozMatchesSelector||n.msMatchesSelector||n.oMatchesSelector||n.webkitMatchesSelector;return t?(e,i)=>t.apply(e,[i]):ek}})(),vR=(n,t,e)=>{let i=[];if(e){const s=n.querySelectorAll(t);for(let r=0;r<s.length;r++)i.push(s[r])}else{const s=n.querySelector(t);s&&i.push(s)}return i});let dl=null,bR=!1;function tk(n){dl||(dl=("undefined"!=typeof document?document.body:null)||{},bR=!!dl.style&&"WebkitAppearance"in dl.style);let t=!0;return dl.style&&!function(n){return"ebkit"==n.substring(1,6)}(n)&&(t=n in dl.style,!t&&bR&&(t="Webkit"+n.charAt(0).toUpperCase()+n.substr(1)in dl.style)),t}const nk=ek,ik=XP,sk=vR;function SR(n){const t={};return Object.keys(n).forEach(e=>{const i=e.replace(/([a-z])([A-Z])/g,"$1-$2");t[i]=n[e]}),t}let ER=(()=>{class n{validateStyleProperty(e){return tk(e)}matchesElement(e,i){return nk(e,i)}containsElement(e,i){return ik(e,i)}query(e,i,s){return sk(e,i,s)}computeStyle(e,i,s){return s||""}animate(e,i,s,r,o,a=[],u){return new yu(s,r)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=ne({token:n,factory:n.\u0275fac}),n})(),rk=(()=>{class n{}return n.NOOP=new ER,n})();const ok="ng-enter",Oy="ng-leave",Ry="ng-trigger",Ny=".ng-trigger",CR="ng-animating",ak=".ng-animating";function fl(n){if("number"==typeof n)return n;const t=n.match(/^(-?[\.\d]+)(m?s)/);return!t||t.length<2?0:lk(parseFloat(t[1]),t[2])}function lk(n,t){return"s"===t?1e3*n:n}function Ly(n,t,e){return n.hasOwnProperty("duration")?n:function(n,t,e){let s,r=0,o="";if("string"==typeof n){const a=n.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===a)return t.push(`The provided timing value "${n}" is invalid.`),{duration:0,delay:0,easing:""};s=lk(parseFloat(a[1]),a[2]);const u=a[3];null!=u&&(r=lk(parseFloat(u),a[4]));const d=a[5];d&&(o=d)}else s=n;if(!e){let a=!1,u=t.length;s<0&&(t.push("Duration values below 0 are not allowed for this animation step."),a=!0),r<0&&(t.push("Delay values below 0 are not allowed for this animation step."),a=!0),a&&t.splice(u,0,`The provided timing value "${n}" is invalid.`)}return{duration:s,delay:r,easing:o}}(n,t,e)}function vu(n,t={}){return Object.keys(n).forEach(e=>{t[e]=n[e]}),t}function Wo(n,t,e={}){if(t)for(let i in n)e[i]=n[i];else vu(n,e);return e}function PR(n,t,e){return e?t+":"+e+";":""}function kR(n){let t="";for(let e=0;e<n.style.length;e++){const i=n.style.item(e);t+=PR(0,i,n.style.getPropertyValue(i))}for(const e in n.style)n.style.hasOwnProperty(e)&&!e.startsWith("_")&&(t+=PR(0,N8(e),n.style[e]));n.setAttribute("style",t)}function hr(n,t,e){n.style&&(Object.keys(t).forEach(i=>{const s=uk(i);e&&!e.hasOwnProperty(i)&&(e[i]=n.style[s]),n.style[s]=t[i]}),QP()&&kR(n))}function pl(n,t){n.style&&(Object.keys(t).forEach(e=>{const i=uk(e);n.style[i]=""}),QP()&&kR(n))}function Ef(n){return Array.isArray(n)?1==n.length?n[0]:hR(n):n}const ck=new RegExp("{{\\s*(.+?)\\s*}}","g");function AR(n){let t=[];if("string"==typeof n){let e;for(;e=ck.exec(n);)t.push(e[1]);ck.lastIndex=0}return t}function Fy(n,t,e){const i=n.toString(),s=i.replace(ck,(r,o)=>{let a=t[o];return t.hasOwnProperty(o)||(e.push(`Please provide a value for the animation param ${o}`),a=""),a.toString()});return s==i?n:s}function Vy(n){const t=[];let e=n.next();for(;!e.done;)t.push(e.value),e=n.next();return t}const R8=/-+([a-z0-9])/g;function uk(n){return n.replace(R8,(...t)=>t[1].toUpperCase())}function N8(n){return n.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}function TR(n,t){return 0===n||0===t}function xR(n,t,e){const i=Object.keys(e);if(i.length&&t.length){let r=t[0],o=[];if(i.forEach(a=>{r.hasOwnProperty(a)||o.push(a),r[a]=e[a]}),o.length)for(var s=1;s<t.length;s++){let a=t[s];o.forEach(function(u){a[u]=hk(n,u)})}}return t}function Ii(n,t,e){switch(t.type){case 7:return n.visitTrigger(t,e);case 0:return n.visitState(t,e);case 1:return n.visitTransition(t,e);case 2:return n.visitSequence(t,e);case 3:return n.visitGroup(t,e);case 4:return n.visitAnimate(t,e);case 5:return n.visitKeyframes(t,e);case 6:return n.visitStyle(t,e);case 8:return n.visitReference(t,e);case 9:return n.visitAnimateChild(t,e);case 10:return n.visitAnimateRef(t,e);case 11:return n.visitQuery(t,e);case 12:return n.visitStagger(t,e);default:throw new Error(`Unable to resolve animation metadata node #${t.type}`)}}function hk(n,t){return window.getComputedStyle(n)[t]}function L8(n,t){const e=[];return"string"==typeof n?n.split(/\s*,\s*/).forEach(i=>function(n,t,e){if(":"==n[0]){const u=function(n,t){switch(n){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(e,i)=>parseFloat(i)>parseFloat(e);case":decrement":return(e,i)=>parseFloat(i)<parseFloat(e);default:return t.push(`The transition alias value "${n}" is not supported`),"* => *"}}(n,e);if("function"==typeof u)return void t.push(u);n=u}const i=n.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==i||i.length<4)return e.push(`The provided transition expression "${n}" is not supported`),t;const s=i[1],r=i[2],o=i[3];t.push(MR(s,o));"<"==r[0]&&!("*"==s&&"*"==o)&&t.push(MR(o,s))}(i,e,t)):e.push(n),e}const $y=new Set(["true","1"]),Hy=new Set(["false","0"]);function MR(n,t){const e=$y.has(n)||Hy.has(n),i=$y.has(t)||Hy.has(t);return(s,r)=>{let o="*"==n||n==s,a="*"==t||t==r;return!o&&e&&"boolean"==typeof s&&(o=s?$y.has(n):Hy.has(n)),!a&&i&&"boolean"==typeof r&&(a=r?$y.has(t):Hy.has(t)),o&&a}}const B8=new RegExp("s*:selfs*,?","g");function dk(n,t,e){return new $8(n).build(t,e)}class $8{constructor(t){this._driver=t}build(t,e){const i=new U8(e);return this._resetContextStyleTimingState(i),Ii(this,Ef(t),i)}_resetContextStyleTimingState(t){t.currentQuerySelector="",t.collectedStyles={},t.collectedStyles[""]={},t.currentTime=0}visitTrigger(t,e){let i=e.queryCount=0,s=e.depCount=0;const r=[],o=[];return"@"==t.name.charAt(0)&&e.errors.push("animation triggers cannot be prefixed with an `@` sign (e.g. trigger('@foo', [...]))"),t.definitions.forEach(a=>{if(this._resetContextStyleTimingState(e),0==a.type){const u=a,d=u.name;d.toString().split(/\s*,\s*/).forEach(f=>{u.name=f,r.push(this.visitState(u,e))}),u.name=d}else if(1==a.type){const u=this.visitTransition(a,e);i+=u.queryCount,s+=u.depCount,o.push(u)}else e.errors.push("only state() and transition() definitions can sit inside of a trigger()")}),{type:7,name:t.name,states:r,transitions:o,queryCount:i,depCount:s,options:null}}visitState(t,e){const i=this.visitStyle(t.styles,e),s=t.options&&t.options.params||null;if(i.containsDynamicStyles){const r=new Set,o=s||{};if(i.styles.forEach(a=>{if(qy(a)){const u=a;Object.keys(u).forEach(d=>{AR(u[d]).forEach(f=>{o.hasOwnProperty(f)||r.add(f)})})}}),r.size){const a=Vy(r.values());e.errors.push(`state("${t.name}", ...) must define default values for all the following style substitutions: ${a.join(", ")}`)}}return{type:0,name:t.name,style:i,options:s?{params:s}:null}}visitTransition(t,e){e.queryCount=0,e.depCount=0;const i=Ii(this,Ef(t.animation),e);return{type:1,matchers:L8(t.expr,e.errors),animation:i,queryCount:e.queryCount,depCount:e.depCount,options:gl(t.options)}}visitSequence(t,e){return{type:2,steps:t.steps.map(i=>Ii(this,i,e)),options:gl(t.options)}}visitGroup(t,e){const i=e.currentTime;let s=0;const r=t.steps.map(o=>{e.currentTime=i;const a=Ii(this,o,e);return s=Math.max(s,e.currentTime),a});return e.currentTime=s,{type:3,steps:r,options:gl(t.options)}}visitAnimate(t,e){const i=function(n,t){let e=null;if(n.hasOwnProperty("duration"))e=n;else if("number"==typeof n)return fk(Ly(n,t).duration,0,"");const i=n;if(i.split(/\s+/).some(r=>"{"==r.charAt(0)&&"{"==r.charAt(1))){const r=fk(0,0,"");return r.dynamic=!0,r.strValue=i,r}return e=e||Ly(i,t),fk(e.duration,e.delay,e.easing)}(t.timings,e.errors);e.currentAnimateTimings=i;let s,r=t.styles?t.styles:dR({});if(5==r.type)s=this.visitKeyframes(r,e);else{let o=t.styles,a=!1;if(!o){a=!0;const d={};i.easing&&(d.easing=i.easing),o=dR(d)}e.currentTime+=i.duration+i.delay;const u=this.visitStyle(o,e);u.isEmptyStep=a,s=u}return e.currentAnimateTimings=null,{type:4,timings:i,style:s,options:null}}visitStyle(t,e){const i=this._makeStyleAst(t,e);return this._validateStyleAst(i,e),i}_makeStyleAst(t,e){const i=[];Array.isArray(t.styles)?t.styles.forEach(o=>{"string"==typeof o?o==Zr?i.push(o):e.errors.push(`The provided style string value ${o} is not allowed.`):i.push(o)}):i.push(t.styles);let s=!1,r=null;return i.forEach(o=>{if(qy(o)){const a=o,u=a.easing;if(u&&(r=u,delete a.easing),!s)for(let d in a)if(a[d].toString().indexOf("{{")>=0){s=!0;break}}}),{type:6,styles:i,easing:r,offset:t.offset,containsDynamicStyles:s,options:null}}_validateStyleAst(t,e){const i=e.currentAnimateTimings;let s=e.currentTime,r=e.currentTime;i&&r>0&&(r-=i.duration+i.delay),t.styles.forEach(o=>{"string"!=typeof o&&Object.keys(o).forEach(a=>{if(!this._driver.validateStyleProperty(a))return void e.errors.push(`The provided animation property "${a}" is not a supported CSS property for animations`);const u=e.collectedStyles[e.currentQuerySelector],d=u[a];let f=!0;d&&(r!=s&&r>=d.startTime&&s<=d.endTime&&(e.errors.push(`The CSS property "${a}" that exists between the times of "${d.startTime}ms" and "${d.endTime}ms" is also being animated in a parallel animation between the times of "${r}ms" and "${s}ms"`),f=!1),r=d.startTime),f&&(u[a]={startTime:r,endTime:s}),e.options&&function(n,t,e){const i=t.params||{},s=AR(n);s.length&&s.forEach(r=>{i.hasOwnProperty(r)||e.push(`Unable to resolve the local animation param ${r} in the given list of values`)})}(o[a],e.options,e.errors)})})}visitKeyframes(t,e){const i={type:5,styles:[],options:null};if(!e.currentAnimateTimings)return e.errors.push("keyframes() must be placed inside of a call to animate()"),i;let r=0;const o=[];let a=!1,u=!1,d=0;const f=t.steps.map(F=>{const R=this._makeStyleAst(F,e);let j=null!=R.offset?R.offset:function(n){if("string"==typeof n)return null;let t=null;if(Array.isArray(n))n.forEach(e=>{if(qy(e)&&e.hasOwnProperty("offset")){const i=e;t=parseFloat(i.offset),delete i.offset}});else if(qy(n)&&n.hasOwnProperty("offset")){const e=n;t=parseFloat(e.offset),delete e.offset}return t}(R.styles),K=0;return null!=j&&(r++,K=R.offset=j),u=u||K<0||K>1,a=a||K<d,d=K,o.push(K),R});u&&e.errors.push("Please ensure that all keyframe offsets are between 0 and 1"),a&&e.errors.push("Please ensure that all keyframe offsets are in order");const g=t.steps.length;let m=0;r>0&&r<g?e.errors.push("Not all style() steps within the declared keyframes() contain offsets"):0==r&&(m=1/(g-1));const v=g-1,S=e.currentTime,x=e.currentAnimateTimings,k=x.duration;return f.forEach((F,R)=>{const j=m>0?R==v?1:m*R:o[R],K=j*k;e.currentTime=S+x.delay+K,x.duration=K,this._validateStyleAst(F,e),F.offset=j,i.styles.push(F)}),i}visitReference(t,e){return{type:8,animation:Ii(this,Ef(t.animation),e),options:gl(t.options)}}visitAnimateChild(t,e){return e.depCount++,{type:9,options:gl(t.options)}}visitAnimateRef(t,e){return{type:10,animation:this.visitReference(t.animation,e),options:gl(t.options)}}visitQuery(t,e){const i=e.currentQuerySelector,s=t.options||{};e.queryCount++,e.currentQuery=t;const[r,o]=function(n){const t=!!n.split(/\s*,\s*/).find(e=>":self"==e);return t&&(n=n.replace(B8,"")),n=n.replace(/@\*/g,Ny).replace(/@\w+/g,e=>Ny+"-"+e.substr(1)).replace(/:animating/g,ak),[n,t]}(t.selector);e.currentQuerySelector=i.length?i+" "+r:r,Mi(e.collectedStyles,e.currentQuerySelector,{});const a=Ii(this,Ef(t.animation),e);return e.currentQuery=null,e.currentQuerySelector=i,{type:11,selector:r,limit:s.limit||0,optional:!!s.optional,includeSelf:o,animation:a,originalSelector:t.selector,options:gl(t.options)}}visitStagger(t,e){e.currentQuery||e.errors.push("stagger() can only be used inside of query()");const i="full"===t.timings?{duration:0,delay:0,easing:"full"}:Ly(t.timings,e.errors,!0);return{type:12,animation:Ii(this,Ef(t.animation),e),timings:i,options:null}}}class U8{constructor(t){this.errors=t,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles={},this.options=null}}function qy(n){return!Array.isArray(n)&&"object"==typeof n}function gl(n){return n?(n=vu(n)).params&&(n.params=function(n){return n?vu(n):null}(n.params)):n={},n}function fk(n,t,e){return{duration:n,delay:t,easing:e}}function pk(n,t,e,i,s,r,o=null,a=!1){return{type:1,element:n,keyframes:t,preStyleProps:e,postStyleProps:i,duration:s,delay:r,totalTime:s+r,easing:o,subTimeline:a}}class Uy{constructor(){this._map=new Map}consume(t){let e=this._map.get(t);return e?this._map.delete(t):e=[],e}append(t,e){let i=this._map.get(t);i||this._map.set(t,i=[]),i.push(...e)}has(t){return this._map.has(t)}clear(){this._map.clear()}}const K8=new RegExp(":enter","g"),Z8=new RegExp(":leave","g");function gk(n,t,e,i,s,r={},o={},a,u,d=[]){return(new Y8).buildKeyframes(n,t,e,i,s,r,o,a,u,d)}class Y8{buildKeyframes(t,e,i,s,r,o,a,u,d,f=[]){d=d||new Uy;const g=new mk(t,e,d,s,r,f,[]);g.options=u,g.currentTimeline.setStyles([o],null,g.errors,u),Ii(this,i,g);const m=g.timelines.filter(v=>v.containsAnimation());if(m.length&&Object.keys(a).length){const v=m[m.length-1];v.allowOnlyTimelineStyles()||v.setStyles([a],null,g.errors,u)}return m.length?m.map(v=>v.buildKeyframes()):[pk(e,[],[],[],0,0,"",!1)]}visitTrigger(t,e){}visitState(t,e){}visitTransition(t,e){}visitAnimateChild(t,e){const i=e.subInstructions.consume(e.element);if(i){const s=e.createSubContext(t.options),r=e.currentTimeline.currentTime,o=this._visitSubInstructions(i,s,s.options);r!=o&&e.transformIntoNewTimeline(o)}e.previousNode=t}visitAnimateRef(t,e){const i=e.createSubContext(t.options);i.transformIntoNewTimeline(),this.visitReference(t.animation,i),e.transformIntoNewTimeline(i.currentTimeline.currentTime),e.previousNode=t}_visitSubInstructions(t,e,i){let r=e.currentTimeline.currentTime;const o=null!=i.duration?fl(i.duration):null,a=null!=i.delay?fl(i.delay):null;return 0!==o&&t.forEach(u=>{const d=e.appendInstructionToTimeline(u,o,a);r=Math.max(r,d.duration+d.delay)}),r}visitReference(t,e){e.updateOptions(t.options,!0),Ii(this,t.animation,e),e.previousNode=t}visitSequence(t,e){const i=e.subContextCount;let s=e;const r=t.options;if(r&&(r.params||r.delay)&&(s=e.createSubContext(r),s.transformIntoNewTimeline(),null!=r.delay)){6==s.previousNode.type&&(s.currentTimeline.snapshotCurrentStyles(),s.previousNode=Gy);const o=fl(r.delay);s.delayNextStep(o)}t.steps.length&&(t.steps.forEach(o=>Ii(this,o,s)),s.currentTimeline.applyStylesToKeyframe(),s.subContextCount>i&&s.transformIntoNewTimeline()),e.previousNode=t}visitGroup(t,e){const i=[];let s=e.currentTimeline.currentTime;const r=t.options&&t.options.delay?fl(t.options.delay):0;t.steps.forEach(o=>{const a=e.createSubContext(t.options);r&&a.delayNextStep(r),Ii(this,o,a),s=Math.max(s,a.currentTimeline.currentTime),i.push(a.currentTimeline)}),i.forEach(o=>e.currentTimeline.mergeTimelineCollectedStyles(o)),e.transformIntoNewTimeline(s),e.previousNode=t}_visitTiming(t,e){if(t.dynamic){const i=t.strValue;return Ly(e.params?Fy(i,e.params,e.errors):i,e.errors)}return{duration:t.duration,delay:t.delay,easing:t.easing}}visitAnimate(t,e){const i=e.currentAnimateTimings=this._visitTiming(t.timings,e),s=e.currentTimeline;i.delay&&(e.incrementTime(i.delay),s.snapshotCurrentStyles());const r=t.style;5==r.type?this.visitKeyframes(r,e):(e.incrementTime(i.duration),this.visitStyle(r,e),s.applyStylesToKeyframe()),e.currentAnimateTimings=null,e.previousNode=t}visitStyle(t,e){const i=e.currentTimeline,s=e.currentAnimateTimings;!s&&i.getCurrentStyleProperties().length&&i.forwardFrame();const r=s&&s.easing||t.easing;t.isEmptyStep?i.applyEmptyStep(r):i.setStyles(t.styles,r,e.errors,e.options),e.previousNode=t}visitKeyframes(t,e){const i=e.currentAnimateTimings,s=e.currentTimeline.duration,r=i.duration,a=e.createSubContext().currentTimeline;a.easing=i.easing,t.styles.forEach(u=>{a.forwardTime((u.offset||0)*r),a.setStyles(u.styles,u.easing,e.errors,e.options),a.applyStylesToKeyframe()}),e.currentTimeline.mergeTimelineCollectedStyles(a),e.transformIntoNewTimeline(s+r),e.previousNode=t}visitQuery(t,e){const i=e.currentTimeline.currentTime,s=t.options||{},r=s.delay?fl(s.delay):0;r&&(6===e.previousNode.type||0==i&&e.currentTimeline.getCurrentStyleProperties().length)&&(e.currentTimeline.snapshotCurrentStyles(),e.previousNode=Gy);let o=i;const a=e.invokeQuery(t.selector,t.originalSelector,t.limit,t.includeSelf,!!s.optional,e.errors);e.currentQueryTotal=a.length;let u=null;a.forEach((d,f)=>{e.currentQueryIndex=f;const g=e.createSubContext(t.options,d);r&&g.delayNextStep(r),d===e.element&&(u=g.currentTimeline),Ii(this,t.animation,g),g.currentTimeline.applyStylesToKeyframe(),o=Math.max(o,g.currentTimeline.currentTime)}),e.currentQueryIndex=0,e.currentQueryTotal=0,e.transformIntoNewTimeline(o),u&&(e.currentTimeline.mergeTimelineCollectedStyles(u),e.currentTimeline.snapshotCurrentStyles()),e.previousNode=t}visitStagger(t,e){const i=e.parentContext,s=e.currentTimeline,r=t.timings,o=Math.abs(r.duration),a=o*(e.currentQueryTotal-1);let u=o*e.currentQueryIndex;switch(r.duration<0?"reverse":r.easing){case"reverse":u=a-u;break;case"full":u=i.currentStaggerTime}const f=e.currentTimeline;u&&f.delayNextStep(u);const g=f.currentTime;Ii(this,t.animation,e),e.previousNode=t,i.currentStaggerTime=s.currentTime-g+(s.startTime-i.currentTimeline.startTime)}}const Gy={};class mk{constructor(t,e,i,s,r,o,a,u){this._driver=t,this.element=e,this.subInstructions=i,this._enterClassName=s,this._leaveClassName=r,this.errors=o,this.timelines=a,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=Gy,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=u||new jy(this._driver,e,0),a.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(t,e){if(!t)return;const i=t;let s=this.options;null!=i.duration&&(s.duration=fl(i.duration)),null!=i.delay&&(s.delay=fl(i.delay));const r=i.params;if(r){let o=s.params;o||(o=this.options.params={}),Object.keys(r).forEach(a=>{(!e||!o.hasOwnProperty(a))&&(o[a]=Fy(r[a],o,this.errors))})}}_copyOptions(){const t={};if(this.options){const e=this.options.params;if(e){const i=t.params={};Object.keys(e).forEach(s=>{i[s]=e[s]})}}return t}createSubContext(t=null,e,i){const s=e||this.element,r=new mk(this._driver,s,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(s,i||0));return r.previousNode=this.previousNode,r.currentAnimateTimings=this.currentAnimateTimings,r.options=this._copyOptions(),r.updateOptions(t),r.currentQueryIndex=this.currentQueryIndex,r.currentQueryTotal=this.currentQueryTotal,r.parentContext=this,this.subContextCount++,r}transformIntoNewTimeline(t){return this.previousNode=Gy,this.currentTimeline=this.currentTimeline.fork(this.element,t),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(t,e,i){const s={duration:null!=e?e:t.duration,delay:this.currentTimeline.currentTime+(null!=i?i:0)+t.delay,easing:""},r=new J8(this._driver,t.element,t.keyframes,t.preStyleProps,t.postStyleProps,s,t.stretchStartingKeyframe);return this.timelines.push(r),s}incrementTime(t){this.currentTimeline.forwardTime(this.currentTimeline.duration+t)}delayNextStep(t){t>0&&this.currentTimeline.delayNextStep(t)}invokeQuery(t,e,i,s,r,o){let a=[];if(s&&a.push(this.element),t.length>0){t=(t=t.replace(K8,"."+this._enterClassName)).replace(Z8,"."+this._leaveClassName);let d=this._driver.query(this.element,t,1!=i);0!==i&&(d=i<0?d.slice(d.length+i,d.length):d.slice(0,i)),a.push(...d)}return!r&&0==a.length&&o.push(`\`query("${e}")\` returned zero elements. (Use \`query("${e}", { optional: true })\` if you wish to allow this.)`),a}}class jy{constructor(t,e,i,s){this._driver=t,this.element=e,this.startTime=i,this._elementTimelineStylesLookup=s,this.duration=0,this._previousKeyframe={},this._currentKeyframe={},this._keyframes=new Map,this._styleSummary={},this._pendingStyles={},this._backFill={},this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._localTimelineStyles=Object.create(this._backFill,{}),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(e),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(e,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.getCurrentStyleProperties().length>0;default:return!0}}getCurrentStyleProperties(){return Object.keys(this._currentKeyframe)}get currentTime(){return this.startTime+this.duration}delayNextStep(t){const e=1==this._keyframes.size&&Object.keys(this._pendingStyles).length;this.duration||e?(this.forwardTime(this.currentTime+t),e&&this.snapshotCurrentStyles()):this.startTime+=t}fork(t,e){return this.applyStylesToKeyframe(),new jy(this._driver,t,e||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=Object.create(this._backFill,{}),this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(t){this.applyStylesToKeyframe(),this.duration=t,this._loadKeyframe()}_updateStyle(t,e){this._localTimelineStyles[t]=e,this._globalTimelineStyles[t]=e,this._styleSummary[t]={time:this.currentTime,value:e}}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(t){t&&(this._previousKeyframe.easing=t),Object.keys(this._globalTimelineStyles).forEach(e=>{this._backFill[e]=this._globalTimelineStyles[e]||Zr,this._currentKeyframe[e]=Zr}),this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(t,e,i,s){e&&(this._previousKeyframe.easing=e);const r=s&&s.params||{},o=function(n,t){const e={};let i;return n.forEach(s=>{"*"===s?(i=i||Object.keys(t),i.forEach(r=>{e[r]=Zr})):Wo(s,!1,e)}),e}(t,this._globalTimelineStyles);Object.keys(o).forEach(a=>{const u=Fy(o[a],r,i);this._pendingStyles[a]=u,this._localTimelineStyles.hasOwnProperty(a)||(this._backFill[a]=this._globalTimelineStyles.hasOwnProperty(a)?this._globalTimelineStyles[a]:Zr),this._updateStyle(a,u)})}applyStylesToKeyframe(){const t=this._pendingStyles,e=Object.keys(t);0!=e.length&&(this._pendingStyles={},e.forEach(i=>{this._currentKeyframe[i]=t[i]}),Object.keys(this._localTimelineStyles).forEach(i=>{this._currentKeyframe.hasOwnProperty(i)||(this._currentKeyframe[i]=this._localTimelineStyles[i])}))}snapshotCurrentStyles(){Object.keys(this._localTimelineStyles).forEach(t=>{const e=this._localTimelineStyles[t];this._pendingStyles[t]=e,this._updateStyle(t,e)})}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const t=[];for(let e in this._currentKeyframe)t.push(e);return t}mergeTimelineCollectedStyles(t){Object.keys(t._styleSummary).forEach(e=>{const i=this._styleSummary[e],s=t._styleSummary[e];(!i||s.time>i.time)&&this._updateStyle(e,s.value)})}buildKeyframes(){this.applyStylesToKeyframe();const t=new Set,e=new Set,i=1===this._keyframes.size&&0===this.duration;let s=[];this._keyframes.forEach((a,u)=>{const d=Wo(a,!0);Object.keys(d).forEach(f=>{const g=d[f];"!"==g?t.add(f):g==Zr&&e.add(f)}),i||(d.offset=u/this.duration),s.push(d)});const r=t.size?Vy(t.values()):[],o=e.size?Vy(e.values()):[];if(i){const a=s[0],u=vu(a);a.offset=0,u.offset=1,s=[a,u]}return pk(this.element,s,r,o,this.duration,this.startTime,this.easing,!1)}}class J8 extends jy{constructor(t,e,i,s,r,o,a=!1){super(t,e,o.delay),this.keyframes=i,this.preStyleProps=s,this.postStyleProps=r,this._stretchStartingKeyframe=a,this.timings={duration:o.duration,delay:o.delay,easing:o.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let t=this.keyframes,{delay:e,duration:i,easing:s}=this.timings;if(this._stretchStartingKeyframe&&e){const r=[],o=i+e,a=e/o,u=Wo(t[0],!1);u.offset=0,r.push(u);const d=Wo(t[0],!1);d.offset=RR(a),r.push(d);const f=t.length-1;for(let g=1;g<=f;g++){let m=Wo(t[g],!1);m.offset=RR((e+m.offset*i)/o),r.push(m)}i=o,e=0,s="",t=r}return pk(this.element,t,this.preStyleProps,this.postStyleProps,i,e,s,!0)}}function RR(n,t=3){const e=Math.pow(10,t-1);return Math.round(n*e)/e}class yk{}class ej extends yk{normalizePropertyName(t,e){return uk(t)}normalizeStyleValue(t,e,i,s){let r="";const o=i.toString().trim();if(tj[e]&&0!==i&&"0"!==i)if("number"==typeof i)r="px";else{const a=i.match(/^[+-]?[\d\.]+([a-z]*)$/);a&&0==a[1].length&&s.push(`Please provide a CSS unit value for ${t}:${i}`)}return o+r}}const tj=(()=>function(n){const t={};return n.forEach(e=>t[e]=!0),t}("width,height,minWidth,minHeight,maxWidth,maxHeight,left,top,bottom,right,fontSize,outlineWidth,outlineOffset,paddingTop,paddingLeft,paddingBottom,paddingRight,marginTop,marginLeft,marginBottom,marginRight,borderRadius,borderWidth,borderTopWidth,borderLeftWidth,borderRightWidth,borderBottomWidth,textIndent,perspective".split(",")))();function NR(n,t,e,i,s,r,o,a,u,d,f,g,m){return{type:0,element:n,triggerName:t,isRemovalTransition:s,fromState:e,fromStyles:r,toState:i,toStyles:o,timelines:a,queriedElements:u,preStyleProps:d,postStyleProps:f,totalTime:g,errors:m}}const vk={};class LR{constructor(t,e,i){this._triggerName=t,this.ast=e,this._stateStyles=i}match(t,e,i,s){return function(n,t,e,i,s){return n.some(r=>r(t,e,i,s))}(this.ast.matchers,t,e,i,s)}buildStyles(t,e,i){const s=this._stateStyles["*"],r=this._stateStyles[t],o=s?s.buildStyles(e,i):{};return r?r.buildStyles(e,i):o}build(t,e,i,s,r,o,a,u,d,f){const g=[],m=this.ast.options&&this.ast.options.params||vk,S=this.buildStyles(i,a&&a.params||vk,g),x=u&&u.params||vk,k=this.buildStyles(s,x,g),F=new Set,R=new Map,j=new Map,K="void"===s,me={params:Object.assign(Object.assign({},m),x)},it=f?[]:gk(t,e,this.ast.animation,r,o,S,k,me,d,g);let ft=0;if(it.forEach(On=>{ft=Math.max(On.duration+On.delay,ft)}),g.length)return NR(e,this._triggerName,i,s,K,S,k,[],[],R,j,ft,g);it.forEach(On=>{const Rn=On.element,Yr=Mi(R,Rn,{});On.preStyleProps.forEach(Bs=>Yr[Bs]=!0);const Jr=Mi(j,Rn,{});On.postStyleProps.forEach(Bs=>Jr[Bs]=!0),Rn!==e&&F.add(Rn)});const Qn=Vy(F.values());return NR(e,this._triggerName,i,s,K,S,k,it,Qn,R,j,ft)}}class sj{constructor(t,e,i){this.styles=t,this.defaultParams=e,this.normalizer=i}buildStyles(t,e){const i={},s=vu(this.defaultParams);return Object.keys(t).forEach(r=>{const o=t[r];null!=o&&(s[r]=o)}),this.styles.styles.forEach(r=>{if("string"!=typeof r){const o=r;Object.keys(o).forEach(a=>{let u=o[a];u.length>1&&(u=Fy(u,s,e));const d=this.normalizer.normalizePropertyName(a,e);u=this.normalizer.normalizeStyleValue(a,d,u,e),i[d]=u})}}),i}}class oj{constructor(t,e,i){this.name=t,this.ast=e,this._normalizer=i,this.transitionFactories=[],this.states={},e.states.forEach(s=>{this.states[s.name]=new sj(s.style,s.options&&s.options.params||{},i)}),FR(this.states,"true","1"),FR(this.states,"false","0"),e.transitions.forEach(s=>{this.transitionFactories.push(new LR(t,s,this.states))}),this.fallbackTransition=function(n,t,e){return new LR(n,{type:1,animation:{type:2,steps:[],options:null},matchers:[(o,a)=>!0],options:null,queryCount:0,depCount:0},t)}(t,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(t,e,i,s){return this.transitionFactories.find(o=>o.match(t,e,i,s))||null}matchStyles(t,e,i){return this.fallbackTransition.buildStyles(t,e,i)}}function FR(n,t,e){n.hasOwnProperty(t)?n.hasOwnProperty(e)||(n[e]=n[t]):n.hasOwnProperty(e)&&(n[t]=n[e])}const lj=new Uy;class cj{constructor(t,e,i){this.bodyNode=t,this._driver=e,this._normalizer=i,this._animations={},this._playersById={},this.players=[]}register(t,e){const i=[],s=dk(this._driver,e,i);if(i.length)throw new Error(`Unable to build the animation due to the following errors: ${i.join("\n")}`);this._animations[t]=s}_buildPlayer(t,e,i){const s=t.element,r=mR(0,this._normalizer,0,t.keyframes,e,i);return this._driver.animate(s,r,t.duration,t.delay,t.easing,[],!0)}create(t,e,i={}){const s=[],r=this._animations[t];let o;const a=new Map;if(r?(o=gk(this._driver,e,r,ok,Oy,{},{},i,lj,s),o.forEach(f=>{const g=Mi(a,f.element,{});f.postStyleProps.forEach(m=>g[m]=null)})):(s.push("The requested animation doesn't exist or has already been destroyed"),o=[]),s.length)throw new Error(`Unable to create the animation due to the following errors: ${s.join("\n")}`);a.forEach((f,g)=>{Object.keys(f).forEach(m=>{f[m]=this._driver.computeStyle(g,m,Zr)})});const d=jo(o.map(f=>{const g=a.get(f.element);return this._buildPlayer(f,{},g)}));return this._playersById[t]=d,d.onDestroy(()=>this.destroy(t)),this.players.push(d),d}destroy(t){const e=this._getPlayer(t);e.destroy(),delete this._playersById[t];const i=this.players.indexOf(e);i>=0&&this.players.splice(i,1)}_getPlayer(t){const e=this._playersById[t];if(!e)throw new Error(`Unable to find the timeline player referenced by ${t}`);return e}listen(t,e,i,s){const r=JP(e,"","","");return ZP(this._getPlayer(t),i,r,s),()=>{}}command(t,e,i,s){if("register"==i)return void this.register(t,s[0]);if("create"==i)return void this.create(t,e,s[0]||{});const r=this._getPlayer(t);switch(i){case"play":r.play();break;case"pause":r.pause();break;case"reset":r.reset();break;case"restart":r.restart();break;case"finish":r.finish();break;case"init":r.init();break;case"setPosition":r.setPosition(parseFloat(s[0]));break;case"destroy":this.destroy(t)}}}const VR="ng-animate-queued",BR="ng-animate-disabled",$R=".ng-animate-disabled",fj=[],HR={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},pj={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},is="__ng_removed";class _k{constructor(t,e=""){this.namespaceId=e;const i=t&&t.hasOwnProperty("value");if(this.value=function(n){return null!=n?n:null}(i?t.value:t),i){const r=vu(t);delete r.value,this.options=r}else this.options={};this.options.params||(this.options.params={})}get params(){return this.options.params}absorbOptions(t){const e=t.params;if(e){const i=this.options.params;Object.keys(e).forEach(s=>{null==i[s]&&(i[s]=e[s])})}}}const wf="void",bk=new _k(wf);class gj{constructor(t,e,i){this.id=t,this.hostElement=e,this._engine=i,this.players=[],this._triggers={},this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+t,ss(e,this._hostClassName)}listen(t,e,i,s){if(!this._triggers.hasOwnProperty(e))throw new Error(`Unable to listen on the animation trigger event "${i}" because the animation trigger "${e}" doesn't exist!`);if(null==i||0==i.length)throw new Error(`Unable to listen on the animation trigger "${e}" because the provided event is undefined!`);if(!function(n){return"start"==n||"done"==n}(i))throw new Error(`The provided animation trigger event "${i}" for the animation trigger "${e}" is not supported!`);const r=Mi(this._elementListeners,t,[]),o={name:e,phase:i,callback:s};r.push(o);const a=Mi(this._engine.statesByElement,t,{});return a.hasOwnProperty(e)||(ss(t,Ry),ss(t,Ry+"-"+e),a[e]=bk),()=>{this._engine.afterFlush(()=>{const u=r.indexOf(o);u>=0&&r.splice(u,1),this._triggers[e]||delete a[e]})}}register(t,e){return!this._triggers[t]&&(this._triggers[t]=e,!0)}_getTrigger(t){const e=this._triggers[t];if(!e)throw new Error(`The provided animation trigger "${t}" has not been registered!`);return e}trigger(t,e,i,s=!0){const r=this._getTrigger(e),o=new Sk(this.id,e,t);let a=this._engine.statesByElement.get(t);a||(ss(t,Ry),ss(t,Ry+"-"+e),this._engine.statesByElement.set(t,a={}));let u=a[e];const d=new _k(i,this.id);if(!(i&&i.hasOwnProperty("value"))&&u&&d.absorbOptions(u.options),a[e]=d,u||(u=bk),d.value!==wf&&u.value===d.value){if(!function(n,t){const e=Object.keys(n),i=Object.keys(t);if(e.length!=i.length)return!1;for(let s=0;s<e.length;s++){const r=e[s];if(!t.hasOwnProperty(r)||n[r]!==t[r])return!1}return!0}(u.params,d.params)){const x=[],k=r.matchStyles(u.value,u.params,x),F=r.matchStyles(d.value,d.params,x);x.length?this._engine.reportError(x):this._engine.afterFlush(()=>{pl(t,k),hr(t,F)})}return}const m=Mi(this._engine.playersByElement,t,[]);m.forEach(x=>{x.namespaceId==this.id&&x.triggerName==e&&x.queued&&x.destroy()});let v=r.matchTransition(u.value,d.value,t,d.params),S=!1;if(!v){if(!s)return;v=r.fallbackTransition,S=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:t,triggerName:e,transition:v,fromState:u,toState:d,player:o,isFallbackTransition:S}),S||(ss(t,VR),o.onStart(()=>{_u(t,VR)})),o.onDone(()=>{let x=this.players.indexOf(o);x>=0&&this.players.splice(x,1);const k=this._engine.playersByElement.get(t);if(k){let F=k.indexOf(o);F>=0&&k.splice(F,1)}}),this.players.push(o),m.push(o),o}deregister(t){delete this._triggers[t],this._engine.statesByElement.forEach((e,i)=>{delete e[t]}),this._elementListeners.forEach((e,i)=>{this._elementListeners.set(i,e.filter(s=>s.name!=t))})}clearElementCache(t){this._engine.statesByElement.delete(t),this._elementListeners.delete(t);const e=this._engine.playersByElement.get(t);e&&(e.forEach(i=>i.destroy()),this._engine.playersByElement.delete(t))}_signalRemovalForInnerTriggers(t,e){const i=this._engine.driver.query(t,Ny,!0);i.forEach(s=>{if(s[is])return;const r=this._engine.fetchNamespacesByElement(s);r.size?r.forEach(o=>o.triggerLeaveAnimation(s,e,!1,!0)):this.clearElementCache(s)}),this._engine.afterFlushAnimationsDone(()=>i.forEach(s=>this.clearElementCache(s)))}triggerLeaveAnimation(t,e,i,s){const r=this._engine.statesByElement.get(t);if(r){const o=[];if(Object.keys(r).forEach(a=>{if(this._triggers[a]){const u=this.trigger(t,a,wf,s);u&&o.push(u)}}),o.length)return this._engine.markElementAsRemoved(this.id,t,!0,e),i&&jo(o).onDone(()=>this._engine.processLeaveNode(t)),!0}return!1}prepareLeaveAnimationListeners(t){const e=this._elementListeners.get(t),i=this._engine.statesByElement.get(t);if(e&&i){const s=new Set;e.forEach(r=>{const o=r.name;if(s.has(o))return;s.add(o);const u=this._triggers[o].fallbackTransition,d=i[o]||bk,f=new _k(wf),g=new Sk(this.id,o,t);this._engine.totalQueuedPlayers++,this._queue.push({element:t,triggerName:o,transition:u,fromState:d,toState:f,player:g,isFallbackTransition:!0})})}}removeNode(t,e){const i=this._engine;if(t.childElementCount&&this._signalRemovalForInnerTriggers(t,e),this.triggerLeaveAnimation(t,e,!0))return;let s=!1;if(i.totalAnimations){const r=i.players.length?i.playersByQueriedElement.get(t):[];if(r&&r.length)s=!0;else{let o=t;for(;o=o.parentNode;)if(i.statesByElement.get(o)){s=!0;break}}}if(this.prepareLeaveAnimationListeners(t),s)i.markElementAsRemoved(this.id,t,!1,e);else{const r=t[is];(!r||r===HR)&&(i.afterFlush(()=>this.clearElementCache(t)),i.destroyInnerAnimations(t),i._onRemovalComplete(t,e))}}insertNode(t,e){ss(t,this._hostClassName)}drainQueuedTransitions(t){const e=[];return this._queue.forEach(i=>{const s=i.player;if(s.destroyed)return;const r=i.element,o=this._elementListeners.get(r);o&&o.forEach(a=>{if(a.name==i.triggerName){const u=JP(r,i.triggerName,i.fromState.value,i.toState.value);u._data=t,ZP(i.player,a.phase,u,a.callback)}}),s.markedForDestroy?this._engine.afterFlush(()=>{s.destroy()}):e.push(i)}),this._queue=[],e.sort((i,s)=>{const r=i.transition.ast.depCount,o=s.transition.ast.depCount;return 0==r||0==o?r-o:this._engine.driver.containsElement(i.element,s.element)?1:-1})}destroy(t){this.players.forEach(e=>e.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,t)}elementContainsData(t){let e=!1;return this._elementListeners.has(t)&&(e=!0),e=!!this._queue.find(i=>i.element===t)||e,e}}class mj{constructor(t,e,i){this.bodyNode=t,this.driver=e,this._normalizer=i,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(s,r)=>{}}_onRemovalComplete(t,e){this.onRemovalComplete(t,e)}get queuedPlayers(){const t=[];return this._namespaceList.forEach(e=>{e.players.forEach(i=>{i.queued&&t.push(i)})}),t}createNamespace(t,e){const i=new gj(t,e,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,e)?this._balanceNamespaceList(i,e):(this.newHostElements.set(e,i),this.collectEnterElement(e)),this._namespaceLookup[t]=i}_balanceNamespaceList(t,e){const i=this._namespaceList.length-1;if(i>=0){let s=!1;for(let r=i;r>=0;r--)if(this.driver.containsElement(this._namespaceList[r].hostElement,e)){this._namespaceList.splice(r+1,0,t),s=!0;break}s||this._namespaceList.splice(0,0,t)}else this._namespaceList.push(t);return this.namespacesByHostElement.set(e,t),t}register(t,e){let i=this._namespaceLookup[t];return i||(i=this.createNamespace(t,e)),i}registerTrigger(t,e,i){let s=this._namespaceLookup[t];s&&s.register(e,i)&&this.totalAnimations++}destroy(t,e){if(!t)return;const i=this._fetchNamespace(t);this.afterFlush(()=>{this.namespacesByHostElement.delete(i.hostElement),delete this._namespaceLookup[t];const s=this._namespaceList.indexOf(i);s>=0&&this._namespaceList.splice(s,1)}),this.afterFlushAnimationsDone(()=>i.destroy(e))}_fetchNamespace(t){return this._namespaceLookup[t]}fetchNamespacesByElement(t){const e=new Set,i=this.statesByElement.get(t);if(i){const s=Object.keys(i);for(let r=0;r<s.length;r++){const o=i[s[r]].namespaceId;if(o){const a=this._fetchNamespace(o);a&&e.add(a)}}}return e}trigger(t,e,i,s){if(Wy(e)){const r=this._fetchNamespace(t);if(r)return r.trigger(e,i,s),!0}return!1}insertNode(t,e,i,s){if(!Wy(e))return;const r=e[is];if(r&&r.setForRemoval){r.setForRemoval=!1,r.setForMove=!0;const o=this.collectedLeaveElements.indexOf(e);o>=0&&this.collectedLeaveElements.splice(o,1)}if(t){const o=this._fetchNamespace(t);o&&o.insertNode(e,i)}s&&this.collectEnterElement(e)}collectEnterElement(t){this.collectedEnterElements.push(t)}markElementAsDisabled(t,e){e?this.disabledNodes.has(t)||(this.disabledNodes.add(t),ss(t,BR)):this.disabledNodes.has(t)&&(this.disabledNodes.delete(t),_u(t,BR))}removeNode(t,e,i,s){if(Wy(e)){const r=t?this._fetchNamespace(t):null;if(r?r.removeNode(e,s):this.markElementAsRemoved(t,e,!1,s),i){const o=this.namespacesByHostElement.get(e);o&&o.id!==t&&o.removeNode(e,s)}}else this._onRemovalComplete(e,s)}markElementAsRemoved(t,e,i,s){this.collectedLeaveElements.push(e),e[is]={namespaceId:t,setForRemoval:s,hasAnimation:i,removedBeforeQueried:!1}}listen(t,e,i,s,r){return Wy(e)?this._fetchNamespace(t).listen(e,i,s,r):()=>{}}_buildInstruction(t,e,i,s,r){return t.transition.build(this.driver,t.element,t.fromState.value,t.toState.value,i,s,t.fromState.options,t.toState.options,e,r)}destroyInnerAnimations(t){let e=this.driver.query(t,Ny,!0);e.forEach(i=>this.destroyActiveAnimationsForElement(i)),0!=this.playersByQueriedElement.size&&(e=this.driver.query(t,ak,!0),e.forEach(i=>this.finishActiveQueriedAnimationOnElement(i)))}destroyActiveAnimationsForElement(t){const e=this.playersByElement.get(t);e&&e.forEach(i=>{i.queued?i.markedForDestroy=!0:i.destroy()})}finishActiveQueriedAnimationOnElement(t){const e=this.playersByQueriedElement.get(t);e&&e.forEach(i=>i.finish())}whenRenderingDone(){return new Promise(t=>{if(this.players.length)return jo(this.players).onDone(()=>t());t()})}processLeaveNode(t){const e=t[is];if(e&&e.setForRemoval){if(t[is]=HR,e.namespaceId){this.destroyInnerAnimations(t);const i=this._fetchNamespace(e.namespaceId);i&&i.clearElementCache(t)}this._onRemovalComplete(t,e.setForRemoval)}this.driver.matchesElement(t,$R)&&this.markElementAsDisabled(t,!1),this.driver.query(t,$R,!0).forEach(i=>{this.markElementAsDisabled(i,!1)})}flush(t=-1){let e=[];if(this.newHostElements.size&&(this.newHostElements.forEach((i,s)=>this._balanceNamespaceList(i,s)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let i=0;i<this.collectedEnterElements.length;i++)ss(this.collectedEnterElements[i],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const i=[];try{e=this._flushAnimations(i,t)}finally{for(let s=0;s<i.length;s++)i[s]()}}else for(let i=0;i<this.collectedLeaveElements.length;i++)this.processLeaveNode(this.collectedLeaveElements[i]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(i=>i()),this._flushFns=[],this._whenQuietFns.length){const i=this._whenQuietFns;this._whenQuietFns=[],e.length?jo(e).onDone(()=>{i.forEach(s=>s())}):i.forEach(s=>s())}}reportError(t){throw new Error(`Unable to process animations due to the following failed trigger transitions\n ${t.join("\n")}`)}_flushAnimations(t,e){const i=new Uy,s=[],r=new Map,o=[],a=new Map,u=new Map,d=new Map,f=new Set;this.disabledNodes.forEach(J=>{f.add(J);const le=this.driver.query(J,".ng-animate-queued",!0);for(let Ce=0;Ce<le.length;Ce++)f.add(le[Ce])});const g=this.bodyNode,m=Array.from(this.statesByElement.keys()),v=GR(m,this.collectedEnterElements),S=new Map;let x=0;v.forEach((J,le)=>{const Ce=ok+x++;S.set(le,Ce),J.forEach(Ze=>ss(Ze,Ce))});const k=[],F=new Set,R=new Set;for(let J=0;J<this.collectedLeaveElements.length;J++){const le=this.collectedLeaveElements[J],Ce=le[is];Ce&&Ce.setForRemoval&&(k.push(le),F.add(le),Ce.hasAnimation?this.driver.query(le,".ng-star-inserted",!0).forEach(Ze=>F.add(Ze)):R.add(le))}const j=new Map,K=GR(m,Array.from(F));K.forEach((J,le)=>{const Ce=Oy+x++;j.set(le,Ce),J.forEach(Ze=>ss(Ze,Ce))}),t.push(()=>{v.forEach((J,le)=>{const Ce=S.get(le);J.forEach(Ze=>_u(Ze,Ce))}),K.forEach((J,le)=>{const Ce=j.get(le);J.forEach(Ze=>_u(Ze,Ce))}),k.forEach(J=>{this.processLeaveNode(J)})});const me=[],it=[];for(let J=this._namespaceList.length-1;J>=0;J--)this._namespaceList[J].drainQueuedTransitions(e).forEach(Ce=>{const Ze=Ce.player,Sn=Ce.element;if(me.push(Ze),this.collectedEnterElements.length){const fr=Sn[is];if(fr&&fr.setForMove)return void Ze.destroy()}const dr=!g||!this.driver.containsElement(g,Sn),Oi=j.get(Sn),zo=S.get(Sn),Ht=this._buildInstruction(Ce,i,zo,Oi,dr);if(Ht.errors&&Ht.errors.length)it.push(Ht);else{if(dr)return Ze.onStart(()=>pl(Sn,Ht.fromStyles)),Ze.onDestroy(()=>hr(Sn,Ht.toStyles)),void s.push(Ze);if(Ce.isFallbackTransition)return Ze.onStart(()=>pl(Sn,Ht.fromStyles)),Ze.onDestroy(()=>hr(Sn,Ht.toStyles)),void s.push(Ze);Ht.timelines.forEach(fr=>fr.stretchStartingKeyframe=!0),i.append(Sn,Ht.timelines),o.push({instruction:Ht,player:Ze,element:Sn}),Ht.queriedElements.forEach(fr=>Mi(a,fr,[]).push(Ze)),Ht.preStyleProps.forEach((fr,Cf)=>{const Yy=Object.keys(fr);if(Yy.length){let ml=u.get(Cf);ml||u.set(Cf,ml=new Set),Yy.forEach(Dk=>ml.add(Dk))}}),Ht.postStyleProps.forEach((fr,Cf)=>{const Yy=Object.keys(fr);let ml=d.get(Cf);ml||d.set(Cf,ml=new Set),Yy.forEach(Dk=>ml.add(Dk))})}});if(it.length){const J=[];it.forEach(le=>{J.push(`@${le.triggerName} has failed due to:\n`),le.errors.forEach(Ce=>J.push(`- ${Ce}\n`))}),me.forEach(le=>le.destroy()),this.reportError(J)}const ft=new Map,Qn=new Map;o.forEach(J=>{const le=J.element;i.has(le)&&(Qn.set(le,le),this._beforeAnimationBuild(J.player.namespaceId,J.instruction,ft))}),s.forEach(J=>{const le=J.element;this._getPreviousPlayers(le,!1,J.namespaceId,J.triggerName,null).forEach(Ze=>{Mi(ft,le,[]).push(Ze),Ze.destroy()})});const On=k.filter(J=>WR(J,u,d)),Rn=new Map;UR(Rn,this.driver,R,d,Zr).forEach(J=>{WR(J,u,d)&&On.push(J)});const Jr=new Map;v.forEach((J,le)=>{UR(Jr,this.driver,new Set(J),u,"!")}),On.forEach(J=>{const le=Rn.get(J),Ce=Jr.get(J);Rn.set(J,Object.assign(Object.assign({},le),Ce))});const Bs=[],bu=[],Su={};o.forEach(J=>{const{element:le,player:Ce,instruction:Ze}=J;if(i.has(le)){if(f.has(le))return Ce.onDestroy(()=>hr(le,Ze.toStyles)),Ce.disabled=!0,Ce.overrideTotalTime(Ze.totalTime),void s.push(Ce);let Sn=Su;if(Qn.size>1){let Oi=le;const zo=[];for(;Oi=Oi.parentNode;){const Ht=Qn.get(Oi);if(Ht){Sn=Ht;break}zo.push(Oi)}zo.forEach(Ht=>Qn.set(Ht,Sn))}const dr=this._buildAnimation(Ce.namespaceId,Ze,ft,r,Jr,Rn);if(Ce.setRealPlayer(dr),Sn===Su)Bs.push(Ce);else{const Oi=this.playersByElement.get(Sn);Oi&&Oi.length&&(Ce.parentPlayer=jo(Oi)),s.push(Ce)}}else pl(le,Ze.fromStyles),Ce.onDestroy(()=>hr(le,Ze.toStyles)),bu.push(Ce),f.has(le)&&s.push(Ce)}),bu.forEach(J=>{const le=r.get(J.element);if(le&&le.length){const Ce=jo(le);J.setRealPlayer(Ce)}}),s.forEach(J=>{J.parentPlayer?J.syncPlayerEvents(J.parentPlayer):J.destroy()});for(let J=0;J<k.length;J++){const le=k[J],Ce=le[is];if(_u(le,Oy),Ce&&Ce.hasAnimation)continue;let Ze=[];if(a.size){let dr=a.get(le);dr&&dr.length&&Ze.push(...dr);let Oi=this.driver.query(le,ak,!0);for(let zo=0;zo<Oi.length;zo++){let Ht=a.get(Oi[zo]);Ht&&Ht.length&&Ze.push(...Ht)}}const Sn=Ze.filter(dr=>!dr.destroyed);Sn.length?bj(this,le,Sn):this.processLeaveNode(le)}return k.length=0,Bs.forEach(J=>{this.players.push(J),J.onDone(()=>{J.destroy();const le=this.players.indexOf(J);this.players.splice(le,1)}),J.play()}),Bs}elementContainsData(t,e){let i=!1;const s=e[is];return s&&s.setForRemoval&&(i=!0),this.playersByElement.has(e)&&(i=!0),this.playersByQueriedElement.has(e)&&(i=!0),this.statesByElement.has(e)&&(i=!0),this._fetchNamespace(t).elementContainsData(e)||i}afterFlush(t){this._flushFns.push(t)}afterFlushAnimationsDone(t){this._whenQuietFns.push(t)}_getPreviousPlayers(t,e,i,s,r){let o=[];if(e){const a=this.playersByQueriedElement.get(t);a&&(o=a)}else{const a=this.playersByElement.get(t);if(a){const u=!r||r==wf;a.forEach(d=>{d.queued||!u&&d.triggerName!=s||o.push(d)})}}return(i||s)&&(o=o.filter(a=>!(i&&i!=a.namespaceId||s&&s!=a.triggerName))),o}_beforeAnimationBuild(t,e,i){const r=e.element,o=e.isRemovalTransition?void 0:t,a=e.isRemovalTransition?void 0:e.triggerName;for(const u of e.timelines){const d=u.element,f=d!==r,g=Mi(i,d,[]);this._getPreviousPlayers(d,f,o,a,e.toState).forEach(v=>{const S=v.getRealPlayer();S.beforeDestroy&&S.beforeDestroy(),v.destroy(),g.push(v)})}pl(r,e.fromStyles)}_buildAnimation(t,e,i,s,r,o){const a=e.triggerName,u=e.element,d=[],f=new Set,g=new Set,m=e.timelines.map(S=>{const x=S.element;f.add(x);const k=x[is];if(k&&k.removedBeforeQueried)return new yu(S.duration,S.delay);const F=x!==u,R=function(n){const t=[];return jR(n,t),t}((i.get(x)||fj).map(ft=>ft.getRealPlayer())).filter(ft=>!!ft.element&&ft.element===x),j=r.get(x),K=o.get(x),me=mR(0,this._normalizer,0,S.keyframes,j,K),it=this._buildPlayer(S,me,R);if(S.subTimeline&&s&&g.add(x),F){const ft=new Sk(t,a,x);ft.setRealPlayer(it),d.push(ft)}return it});d.forEach(S=>{Mi(this.playersByQueriedElement,S.element,[]).push(S),S.onDone(()=>function(n,t,e){let i;if(n instanceof Map){if(i=n.get(t),i){if(i.length){const s=i.indexOf(e);i.splice(s,1)}0==i.length&&n.delete(t)}}else if(i=n[t],i){if(i.length){const s=i.indexOf(e);i.splice(s,1)}0==i.length&&delete n[t]}return i}(this.playersByQueriedElement,S.element,S))}),f.forEach(S=>ss(S,CR));const v=jo(m);return v.onDestroy(()=>{f.forEach(S=>_u(S,CR)),hr(u,e.toStyles)}),g.forEach(S=>{Mi(s,S,[]).push(v)}),v}_buildPlayer(t,e,i){return e.length>0?this.driver.animate(t.element,e,t.duration,t.delay,t.easing,i):new yu(t.duration,t.delay)}}class Sk{constructor(t,e,i){this.namespaceId=t,this.triggerName=e,this.element=i,this._player=new yu,this._containsRealPlayer=!1,this._queuedCallbacks={},this.destroyed=!1,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(t){this._containsRealPlayer||(this._player=t,Object.keys(this._queuedCallbacks).forEach(e=>{this._queuedCallbacks[e].forEach(i=>ZP(t,e,void 0,i))}),this._queuedCallbacks={},this._containsRealPlayer=!0,this.overrideTotalTime(t.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(t){this.totalTime=t}syncPlayerEvents(t){const e=this._player;e.triggerCallback&&t.onStart(()=>e.triggerCallback("start")),t.onDone(()=>this.finish()),t.onDestroy(()=>this.destroy())}_queueEvent(t,e){Mi(this._queuedCallbacks,t,[]).push(e)}onDone(t){this.queued&&this._queueEvent("done",t),this._player.onDone(t)}onStart(t){this.queued&&this._queueEvent("start",t),this._player.onStart(t)}onDestroy(t){this.queued&&this._queueEvent("destroy",t),this._player.onDestroy(t)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(t){this.queued||this._player.setPosition(t)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(t){const e=this._player;e.triggerCallback&&e.triggerCallback(t)}}function Wy(n){return n&&1===n.nodeType}function qR(n,t){const e=n.style.display;return n.style.display=null!=t?t:"none",e}function UR(n,t,e,i,s){const r=[];e.forEach(u=>r.push(qR(u)));const o=[];i.forEach((u,d)=>{const f={};u.forEach(g=>{const m=f[g]=t.computeStyle(d,g,s);(!m||0==m.length)&&(d[is]=pj,o.push(d))}),n.set(d,f)});let a=0;return e.forEach(u=>qR(u,r[a++])),o}function GR(n,t){const e=new Map;if(n.forEach(a=>e.set(a,[])),0==t.length)return e;const s=new Set(t),r=new Map;function o(a){if(!a)return 1;let u=r.get(a);if(u)return u;const d=a.parentNode;return u=e.has(d)?d:s.has(d)?1:o(d),r.set(a,u),u}return t.forEach(a=>{const u=o(a);1!==u&&e.get(u).push(a)}),e}const zy="$$classes";function ss(n,t){if(n.classList)n.classList.add(t);else{let e=n[zy];e||(e=n[zy]={}),e[t]=!0}}function _u(n,t){if(n.classList)n.classList.remove(t);else{let e=n[zy];e&&delete e[t]}}function bj(n,t,e){jo(e).onDone(()=>n.processLeaveNode(t))}function jR(n,t){for(let e=0;e<n.length;e++){const i=n[e];i instanceof pR?jR(i.players,t):t.push(i)}}function WR(n,t,e){const i=e.get(n);if(!i)return!1;let s=t.get(n);return s?i.forEach(r=>s.add(r)):t.set(n,i),e.delete(n),!0}class Ky{constructor(t,e,i){this.bodyNode=t,this._driver=e,this._normalizer=i,this._triggerCache={},this.onRemovalComplete=(s,r)=>{},this._transitionEngine=new mj(t,e,i),this._timelineEngine=new cj(t,e,i),this._transitionEngine.onRemovalComplete=(s,r)=>this.onRemovalComplete(s,r)}registerTrigger(t,e,i,s,r){const o=t+"-"+s;let a=this._triggerCache[o];if(!a){const u=[],d=dk(this._driver,r,u);if(u.length)throw new Error(`The animation trigger "${s}" has failed to build due to the following errors:\n - ${u.join("\n - ")}`);a=function(n,t,e){return new oj(n,t,e)}(s,d,this._normalizer),this._triggerCache[o]=a}this._transitionEngine.registerTrigger(e,s,a)}register(t,e){this._transitionEngine.register(t,e)}destroy(t,e){this._transitionEngine.destroy(t,e)}onInsert(t,e,i,s){this._transitionEngine.insertNode(t,e,i,s)}onRemove(t,e,i,s){this._transitionEngine.removeNode(t,e,s||!1,i)}disableAnimations(t,e){this._transitionEngine.markElementAsDisabled(t,e)}process(t,e,i,s){if("@"==i.charAt(0)){const[r,o]=yR(i);this._timelineEngine.command(r,e,o,s)}else this._transitionEngine.trigger(t,e,i,s)}listen(t,e,i,s,r){if("@"==i.charAt(0)){const[o,a]=yR(i);return this._timelineEngine.listen(o,e,a,r)}return this._transitionEngine.listen(t,e,i,s,r)}flush(t=-1){this._transitionEngine.flush(t)}get players(){return this._transitionEngine.players.concat(this._timelineEngine.players)}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}}function zR(n,t){let e=null,i=null;return Array.isArray(t)&&t.length?(e=Ek(t[0]),t.length>1&&(i=Ek(t[t.length-1]))):t&&(e=Ek(t)),e||i?new wj(n,e,i):null}let wj=(()=>{class n{constructor(e,i,s){this._element=e,this._startStyles=i,this._endStyles=s,this._state=0;let r=n.initialStylesByElement.get(e);r||n.initialStylesByElement.set(e,r={}),this._initialStyles=r}start(){this._state<1&&(this._startStyles&&hr(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(hr(this._element,this._initialStyles),this._endStyles&&(hr(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(n.initialStylesByElement.delete(this._element),this._startStyles&&(pl(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(pl(this._element,this._endStyles),this._endStyles=null),hr(this._element,this._initialStyles),this._state=3)}}return n.initialStylesByElement=new WeakMap,n})();function Ek(n){let t=null;const e=Object.keys(n);for(let i=0;i<e.length;i++){const s=e[i];Cj(s)&&(t=t||{},t[s]=n[s])}return t}function Cj(n){return"display"===n||"position"===n}const KR="animation",QR="animationend";class kj{constructor(t,e,i,s,r,o,a){this._element=t,this._name=e,this._duration=i,this._delay=s,this._easing=r,this._fillMode=o,this._onDoneFn=a,this._finished=!1,this._destroyed=!1,this._startTime=0,this._position=0,this._eventFn=u=>this._handleCallback(u)}apply(){(function(n,t){const e=Ck(n,"").trim();let i=0;e.length&&(function(n,t){let e=0;for(let i=0;i<n.length;i++)","===n.charAt(i)&&e++;return e}(e)+1,t=`${e}, ${t}`),Qy(n,"",t)})(this._element,`${this._duration}ms ${this._easing} ${this._delay}ms 1 normal ${this._fillMode} ${this._name}`),JR(this._element,this._eventFn,!1),this._startTime=Date.now()}pause(){ZR(this._element,this._name,"paused")}resume(){ZR(this._element,this._name,"running")}setPosition(t){const e=YR(this._element,this._name);this._position=t*this._duration,Qy(this._element,"Delay",`-${this._position}ms`,e)}getPosition(){return this._position}_handleCallback(t){const e=t._ngTestManualTimestamp||Date.now(),i=1e3*parseFloat(t.elapsedTime.toFixed(3));t.animationName==this._name&&Math.max(e-this._startTime,0)>=this._delay&&i>=this._duration&&this.finish()}finish(){this._finished||(this._finished=!0,this._onDoneFn(),JR(this._element,this._eventFn,!0))}destroy(){this._destroyed||(this._destroyed=!0,this.finish(),function(n,t){const i=Ck(n,"").split(","),s=wk(i,t);s>=0&&(i.splice(s,1),Qy(n,"",i.join(",")))}(this._element,this._name))}}function ZR(n,t,e){Qy(n,"PlayState",e,YR(n,t))}function YR(n,t){const e=Ck(n,"");return e.indexOf(",")>0?wk(e.split(","),t):wk([e],t)}function wk(n,t){for(let e=0;e<n.length;e++)if(n[e].indexOf(t)>=0)return e;return-1}function JR(n,t,e){e?n.removeEventListener(QR,t):n.addEventListener(QR,t)}function Qy(n,t,e,i){const s=KR+t;if(null!=i){const r=n.style[s];if(r.length){const o=r.split(",");o[i]=e,e=o.join(",")}}n.style[s]=e}function Ck(n,t){return n.style[KR+t]||""}class XR{constructor(t,e,i,s,r,o,a,u){this.element=t,this.keyframes=e,this.animationName=i,this._duration=s,this._delay=r,this._finalStyles=a,this._specialStyles=u,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this.currentSnapshot={},this._state=0,this.easing=o||"linear",this.totalTime=s+r,this._buildStyler()}onStart(t){this._onStartFns.push(t)}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}destroy(){this.init(),!(this._state>=4)&&(this._state=4,this._styler.destroy(),this._flushStartFns(),this._flushDoneFns(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}_flushDoneFns(){this._onDoneFns.forEach(t=>t()),this._onDoneFns=[]}_flushStartFns(){this._onStartFns.forEach(t=>t()),this._onStartFns=[]}finish(){this.init(),!(this._state>=3)&&(this._state=3,this._styler.finish(),this._flushStartFns(),this._specialStyles&&this._specialStyles.finish(),this._flushDoneFns())}setPosition(t){this._styler.setPosition(t)}getPosition(){return this._styler.getPosition()}hasStarted(){return this._state>=2}init(){this._state>=1||(this._state=1,this._styler.apply(),this._delay&&this._styler.pause())}play(){this.init(),this.hasStarted()||(this._flushStartFns(),this._state=2,this._specialStyles&&this._specialStyles.start()),this._styler.resume()}pause(){this.init(),this._styler.pause()}restart(){this.reset(),this.play()}reset(){this._state=0,this._styler.destroy(),this._buildStyler(),this._styler.apply()}_buildStyler(){this._styler=new kj(this.element,this.animationName,this._duration,this._delay,this.easing,"forwards",()=>this.finish())}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(i=>i()),e.length=0}beforeDestroy(){this.init();const t={};if(this.hasStarted()){const e=this._state>=3;Object.keys(this._finalStyles).forEach(i=>{"offset"!=i&&(t[i]=e?this._finalStyles[i]:hk(this.element,i))})}this.currentSnapshot=t}}class Oj extends yu{constructor(t,e){super(),this.element=t,this._startingStyles={},this.__initialized=!1,this._styles=SR(e)}init(){this.__initialized||!this._startingStyles||(this.__initialized=!0,Object.keys(this._styles).forEach(t=>{this._startingStyles[t]=this.element.style[t]}),super.init())}play(){!this._startingStyles||(this.init(),Object.keys(this._styles).forEach(t=>this.element.style.setProperty(t,this._styles[t])),super.play())}destroy(){!this._startingStyles||(Object.keys(this._startingStyles).forEach(t=>{const e=this._startingStyles[t];e?this.element.style.setProperty(t,e):this.element.style.removeProperty(t)}),this._startingStyles=null,super.destroy())}}class tN{constructor(){this._count=0}validateStyleProperty(t){return tk(t)}matchesElement(t,e){return nk(t,e)}containsElement(t,e){return ik(t,e)}query(t,e,i){return sk(t,e,i)}computeStyle(t,e,i){return window.getComputedStyle(t)[e]}buildKeyframeElement(t,e,i){i=i.map(a=>SR(a));let s=`@keyframes ${e} {\n`,r="";i.forEach(a=>{r=" ";const u=parseFloat(a.offset);s+=`${r}${100*u}% {\n`,r+=" ",Object.keys(a).forEach(d=>{const f=a[d];switch(d){case"offset":return;case"easing":return void(f&&(s+=`${r}animation-timing-function: ${f};\n`));default:return void(s+=`${r}${d}: ${f};\n`)}}),s+=`${r}}\n`}),s+="}\n";const o=document.createElement("style");return o.textContent=s,o}animate(t,e,i,s,r,o=[],a){const u=o.filter(k=>k instanceof XR),d={};TR(i,s)&&u.forEach(k=>{let F=k.currentSnapshot;Object.keys(F).forEach(R=>d[R]=F[R])});const f=function(n){let t={};return n&&(Array.isArray(n)?n:[n]).forEach(i=>{Object.keys(i).forEach(s=>{"offset"==s||"easing"==s||(t[s]=i[s])})}),t}(e=xR(t,e,d));if(0==i)return new Oj(t,f);const g="gen_css_kf_"+this._count++,m=this.buildKeyframeElement(t,g,e);(function(n){var t;const e=null===(t=n.getRootNode)||void 0===t?void 0:t.call(n);return"undefined"!=typeof ShadowRoot&&e instanceof ShadowRoot?e:document.head})(t).appendChild(m);const S=zR(t,e),x=new XR(t,e,g,i,s,r,f,S);return x.onDestroy(()=>function(n){n.parentNode.removeChild(n)}(m)),x}}class iN{constructor(t,e,i,s){this.element=t,this.keyframes=e,this.options=i,this._specialStyles=s,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this.time=0,this.parentPlayer=null,this.currentSnapshot={},this._duration=i.duration,this._delay=i.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const t=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,t,this.options),this._finalKeyframe=t.length?t[t.length-1]:{},this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_triggerWebAnimation(t,e,i){return t.animate(e,i)}onStart(t){this._onStartFns.push(t)}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(t=>t()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}setPosition(t){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=t*this.time}getPosition(){return this.domPlayer.currentTime/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const t={};this.hasStarted()&&Object.keys(this._finalKeyframe).forEach(e=>{"offset"!=e&&(t[e]=this._finished?this._finalKeyframe[e]:hk(this.element,e))}),this.currentSnapshot=t}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(i=>i()),e.length=0}}class Vj{constructor(){this._isNativeImpl=/\{\s*\[native\s+code\]\s*\}/.test(sN().toString()),this._cssKeyframesDriver=new tN}validateStyleProperty(t){return tk(t)}matchesElement(t,e){return nk(t,e)}containsElement(t,e){return ik(t,e)}query(t,e,i){return sk(t,e,i)}computeStyle(t,e,i){return window.getComputedStyle(t)[e]}overrideWebAnimationsSupport(t){this._isNativeImpl=t}animate(t,e,i,s,r,o=[],a){if(!a&&!this._isNativeImpl)return this._cssKeyframesDriver.animate(t,e,i,s,r,o);const f={duration:i,delay:s,fill:0==s?"both":"forwards"};r&&(f.easing=r);const g={},m=o.filter(S=>S instanceof iN);TR(i,s)&&m.forEach(S=>{let x=S.currentSnapshot;Object.keys(x).forEach(k=>g[k]=x[k])});const v=zR(t,e=xR(t,e=e.map(S=>Wo(S,!1)),g));return new iN(t,e,f,v)}}function sN(){return gR()&&Element.prototype.animate||{}}let $j=(()=>{class n extends uR{constructor(e,i){super(),this._nextAnimationId=0,this._renderer=e.createRenderer(i.body,{id:"0",encapsulation:pt.None,styles:[],data:{animation:[]}})}build(e){const i=this._nextAnimationId.toString();this._nextAnimationId++;const s=Array.isArray(e)?hR(e):e;return rN(this._renderer,null,i,"register",[s]),new Hj(i,this._renderer)}}return n.\u0275fac=function(e){return new(e||n)(V(Xa),V(Fe))},n.\u0275prov=ne({token:n,factory:n.\u0275fac}),n})();class Hj extends class{}{constructor(t,e){super(),this._id=t,this._renderer=e}create(t,e){return new qj(this._id,t,e||{},this._renderer)}}class qj{constructor(t,e,i,s){this.id=t,this.element=e,this._renderer=s,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",i)}_listen(t,e){return this._renderer.listen(this.element,`@@${this.id}:${t}`,e)}_command(t,...e){return rN(this._renderer,this.element,this.id,t,e)}onDone(t){this._listen("done",t)}onStart(t){this._listen("start",t)}onDestroy(t){this._listen("destroy",t)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(t){this._command("setPosition",t)}getPosition(){var t,e;return null!==(e=null===(t=this._renderer.engine.players[+this.id])||void 0===t?void 0:t.getPosition())&&void 0!==e?e:0}}function rN(n,t,e,i,s){return n.setProperty(t,`@@${e}:${i}`,s)}const oN="@.disabled";let Uj=(()=>{class n{constructor(e,i,s){this.delegate=e,this.engine=i,this._zone=s,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),i.onRemovalComplete=(r,o)=>{o&&o.parentNode(r)&&o.removeChild(r.parentNode,r)}}createRenderer(e,i){const r=this.delegate.createRenderer(e,i);if(!(e&&i&&i.data&&i.data.animation)){let f=this._rendererCache.get(r);return f||(f=new aN("",r,this.engine),this._rendererCache.set(r,f)),f}const o=i.id,a=i.id+"-"+this._currentId;this._currentId++,this.engine.register(a,e);const u=f=>{Array.isArray(f)?f.forEach(u):this.engine.registerTrigger(o,a,e,f.name,f)};return i.data.animation.forEach(u),new Gj(this,a,r,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){this.promise.then(()=>{this._microtaskId++})}scheduleListenerCallback(e,i,s){e>=0&&e<this._microtaskId?this._zone.run(()=>i(s)):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(r=>{const[o,a]=r;o(a)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([i,s]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}return n.\u0275fac=function(e){return new(e||n)(V(Xa),V(Ky),V(xe))},n.\u0275prov=ne({token:n,factory:n.\u0275fac}),n})();class aN{constructor(t,e,i){this.namespaceId=t,this.delegate=e,this.engine=i,this.destroyNode=this.delegate.destroyNode?s=>e.destroyNode(s):null}get data(){return this.delegate.data}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy()}createElement(t,e){return this.delegate.createElement(t,e)}createComment(t){return this.delegate.createComment(t)}createText(t){return this.delegate.createText(t)}appendChild(t,e){this.delegate.appendChild(t,e),this.engine.onInsert(this.namespaceId,e,t,!1)}insertBefore(t,e,i,s=!0){this.delegate.insertBefore(t,e,i),this.engine.onInsert(this.namespaceId,e,t,s)}removeChild(t,e,i){this.engine.onRemove(this.namespaceId,e,this.delegate,i)}selectRootElement(t,e){return this.delegate.selectRootElement(t,e)}parentNode(t){return this.delegate.parentNode(t)}nextSibling(t){return this.delegate.nextSibling(t)}setAttribute(t,e,i,s){this.delegate.setAttribute(t,e,i,s)}removeAttribute(t,e,i){this.delegate.removeAttribute(t,e,i)}addClass(t,e){this.delegate.addClass(t,e)}removeClass(t,e){this.delegate.removeClass(t,e)}setStyle(t,e,i,s){this.delegate.setStyle(t,e,i,s)}removeStyle(t,e,i){this.delegate.removeStyle(t,e,i)}setProperty(t,e,i){"@"==e.charAt(0)&&e==oN?this.disableAnimations(t,!!i):this.delegate.setProperty(t,e,i)}setValue(t,e){this.delegate.setValue(t,e)}listen(t,e,i){return this.delegate.listen(t,e,i)}disableAnimations(t,e){this.engine.disableAnimations(t,e)}}class Gj extends aN{constructor(t,e,i,s){super(e,i,s),this.factory=t,this.namespaceId=e}setProperty(t,e,i){"@"==e.charAt(0)?"."==e.charAt(1)&&e==oN?this.disableAnimations(t,i=void 0===i||!!i):this.engine.process(this.namespaceId,t,e.substr(1),i):this.delegate.setProperty(t,e,i)}listen(t,e,i){if("@"==e.charAt(0)){const s=function(n){switch(n){case"body":return document.body;case"document":return document;case"window":return window;default:return n}}(t);let r=e.substr(1),o="";return"@"!=r.charAt(0)&&([r,o]=function(n){const t=n.indexOf(".");return[n.substring(0,t),n.substr(t+1)]}(r)),this.engine.listen(this.namespaceId,s,r,o,a=>{this.factory.scheduleListenerCallback(a._data||-1,i,a)})}return this.delegate.listen(t,e,i)}}let zj=(()=>{class n extends Ky{constructor(e,i,s){super(e.body,i,s)}ngOnDestroy(){this.flush()}}return n.\u0275fac=function(e){return new(e||n)(V(Fe),V(rk),V(yk))},n.\u0275prov=ne({token:n,factory:n.\u0275fac}),n})();const lN=new ce("AnimationModuleType"),cN=[{provide:uR,useClass:$j},{provide:yk,useFactory:function(){return new ej}},{provide:Ky,useClass:zj},{provide:Xa,useFactory:function(n,t,e){return new Uj(n,t,e)},deps:[jm,Ky,xe]}],uN=[{provide:rk,useFactory:function(){return"function"==typeof sN()?new Vj:new tN}},{provide:lN,useValue:"BrowserAnimations"},...cN],hN=[{provide:rk,useClass:ER},{provide:lN,useValue:"NoopAnimations"},...cN];let Yj=(()=>{class n{static withConfig(e){return{ngModule:n,providers:e.disableAnimations?hN:uN}}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=Se({type:n}),n.\u0275inj=Nt({providers:uN,imports:[FE]}),n})(),Jj=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=Se({type:n,bootstrap:[P8]}),n.\u0275inj=Nt({providers:[],imports:[[FE,fU,BM,pU,Yj,QG]]}),n})();(function(){if(G1)throw new Error("Cannot enable prod mode after platform setup.");U1=!1})(),gq().bootstrapModule(Jj).catch(n=>console.error(n))}},mi=>{mi(mi.s=965)}]);