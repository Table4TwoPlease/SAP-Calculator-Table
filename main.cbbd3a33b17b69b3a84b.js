var WJ=Object.defineProperty,zJ=Object.defineProperties,KJ=Object.getOwnPropertyDescriptors,UB=Object.getOwnPropertySymbols,YJ=Object.prototype.hasOwnProperty,QJ=Object.prototype.propertyIsEnumerable,jB=(Vt,Et,Bt)=>Et in Vt?WJ(Vt,Et,{enumerable:!0,configurable:!0,writable:!0,value:Bt}):Vt[Et]=Bt,ni=(Vt,Et)=>{for(var Bt in Et||(Et={}))YJ.call(Et,Bt)&&jB(Vt,Bt,Et[Bt]);if(UB)for(var Bt of UB(Et))QJ.call(Et,Bt)&&jB(Vt,Bt,Et[Bt]);return Vt},pb=(Vt,Et)=>zJ(Vt,KJ(Et));(self.webpackChunksap_calculator=self.webpackChunksap_calculator||[]).push([[179],{255:Vt=>{function Et(Bt){return Promise.resolve().then(()=>{var Ui=new Error("Cannot find module '"+Bt+"'");throw Ui.code="MODULE_NOT_FOUND",Ui})}Et.keys=()=>[],Et.resolve=Et,Et.id=255,Vt.exports=Et},815:function(Vt,Et,Bt){var Ui;Vt=Bt.nmd(Vt),function(){var M,Tn="Expected a function",Ka="__lodash_hash_undefined__",Wr="__lodash_placeholder__",Zr=1/0,vr=9007199254740991,hs=4294967295,gb=[["ary",128],["bind",1],["bindKey",2],["curry",8],["curryRight",16],["flip",512],["partial",32],["partialRight",64],["rearg",256]],jo="[object Arguments]",Za="[object Array]",Wo="[object Boolean]",Ja="[object Date]",zo="[object Error]",Ec="[object Function]",ag="[object GeneratorFunction]",ji="[object Map]",Xa="[object Number]",Ci="[object Object]",yb="[object Promise]",Dc="[object RegExp]",Hn="[object Set]",Jr="[object String]",Ac="[object Symbol]",Pc="[object WeakMap]",Ko="[object ArrayBuffer]",_r="[object DataView]",kc="[object Float32Array]",$h="[object Float64Array]",Hh="[object Int8Array]",qh="[object Int16Array]",Gh="[object Int32Array]",Uh="[object Uint8Array]",cg="[object Uint8ClampedArray]",jh="[object Uint16Array]",Wh="[object Uint32Array]",_b=/\b__p \+= '';/g,bb=/\b(__p \+=) '' \+/g,Sb=/(__e\(.*?\)|\b__t\)) \+\n'';/g,et=/&(?:amp|lt|gt|quot|#39);/g,Tc=/[&<>"']/g,Oe=RegExp(et.source),zh=RegExp(Tc.source),Eb=/<%-([\s\S]+?)%>/g,ft=/<%([\s\S]+?)%>/g,le=/<%=([\s\S]+?)%>/g,ug=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,UT=/^\w*$/,br=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,hg=/[\\^$.*+?()[\]{}|]/g,Kh=RegExp(hg.source),De=/^\s+/,xn=/\s/,wb=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,jT=/\{\n\/\* \[wrapped with (.+)\] \*/,WT=/,? & /,xc=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,ri=/[()=,{}\[\]\/\s]/,zT=/\\(\\)?/g,Cb=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,Db=/\w*$/,js=/^[-+]0x[0-9a-f]+$/i,KT=/^0b[01]+$/i,YT=/^\[object .+?Constructor\]$/,QT=/^0o[0-7]+$/i,ZT=/^(?:0|[1-9]\d*)$/,Ab=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,Yh=/($^)/,Pb=/['\n\r\u2028\u2029\\]/g,Qh="\\ud800-\\udfff",kb="\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff",Tb="\\u2700-\\u27bf",se="a-z\\xdf-\\xf6\\xf8-\\xff",fg="A-Z\\xc0-\\xd6\\xd8-\\xde",pg="\\ufe0e\\ufe0f",Zh="\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",Jh="["+Qh+"]",Xh="["+Zh+"]",Mc="["+kb+"]",pe="\\d+",ed="["+Tb+"]",gg="["+se+"]",zs="[^"+Qh+Zh+pe+Tb+se+fg+"]",Ic="\\ud83c[\\udffb-\\udfff]",Ks="[^"+Qh+"]",qn="(?:\\ud83c[\\udde6-\\uddff]){2}",mg="[\\ud800-\\udbff][\\udc00-\\udfff]",el="["+fg+"]",yg="(?:"+gg+"|"+zs+")",xb="(?:"+el+"|"+zs+")",vg="(?:['\u2019](?:d|ll|m|re|s|t|ve))?",Mb="(?:['\u2019](?:D|LL|M|RE|S|T|VE))?",nt="(?:"+Mc+"|"+Ic+")?",Ib="["+pg+"]?",tl=Ib+nt+"(?:\\u200d(?:"+[Ks,qn,mg].join("|")+")"+Ib+nt+")*",td="(?:"+[ed,qn,mg].join("|")+")"+tl,nd="(?:"+[Ks+Mc+"?",Mc,qn,mg,Jh].join("|")+")",_g=RegExp("['\u2019]","g"),Ob=RegExp(Mc,"g"),Wi=RegExp(Ic+"(?="+Ic+")|"+nd+tl,"g"),nl=RegExp([el+"?"+gg+"+"+vg+"(?="+[Xh,el,"$"].join("|")+")",xb+"+"+Mb+"(?="+[Xh,el+yg,"$"].join("|")+")",el+"?"+yg+"+"+vg,el+"+"+Mb,"\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])","\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",pe,td].join("|"),"g"),Nb=RegExp("[\\u200d"+Qh+kb+pg+"]"),zi=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,Rb=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],bg=-1,vt={};vt[kc]=vt[$h]=vt[Hh]=vt[qh]=vt[Gh]=vt[Uh]=vt[cg]=vt[jh]=vt[Wh]=!0,vt[jo]=vt[Za]=vt[Ko]=vt[Wo]=vt[_r]=vt[Ja]=vt[zo]=vt[Ec]=vt[ji]=vt[Xa]=vt[Ci]=vt[Dc]=vt[Hn]=vt[Jr]=vt[Pc]=!1;var gt={};gt[jo]=gt[Za]=gt[Ko]=gt[_r]=gt[Wo]=gt[Ja]=gt[kc]=gt[$h]=gt[Hh]=gt[qh]=gt[Gh]=gt[ji]=gt[Xa]=gt[Ci]=gt[Dc]=gt[Hn]=gt[Jr]=gt[Ac]=gt[Uh]=gt[cg]=gt[jh]=gt[Wh]=!0,gt[zo]=gt[Ec]=gt[Pc]=!1;var re={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},Gn=parseFloat,_n=parseInt,Ys="object"==typeof global&&global&&global.Object===Object&&global,Xr="object"==typeof self&&self&&self.Object===Object&&self,ut=Ys||Xr||Function("return this")(),Eg=Et&&!Et.nodeType&&Et,bn=Eg&&Vt&&!Vt.nodeType&&Vt,X=bn&&bn.exports===Eg,Ne=X&&Ys.process,ze=function(){try{return bn&&bn.require&&bn.require("util").types||Ne&&Ne.binding&&Ne.binding("util")}catch($){}}(),Un=ze&&ze.isArrayBuffer,Sr=ze&&ze.isDate,Jt=ze&&ze.isMap,Er=ze&&ze.isRegExp,Mt=ze&&ze.isSet,Zo=ze&&ze.isTypedArray;function rn(O,$,F){switch(F.length){case 0:return O.call($);case 1:return O.call($,F[0]);case 2:return O.call($,F[0],F[1]);case 3:return O.call($,F[0],F[1],F[2])}return O.apply($,F)}function Me(O,$,F,ne){for(var Ae=-1,it=null==O?0:O.length;++Ae<it;){var qt=O[Ae];$(ne,qt,F(qt),O)}return ne}function Mn(O,$){for(var F=-1,ne=null==O?0:O.length;++F<ne&&!1!==$(O[F],F,O););return O}function Jo(O,$){for(var F=null==O?0:O.length;F--&&!1!==$(O[F],F,O););return O}function Oc(O,$){for(var F=-1,ne=null==O?0:O.length;++F<ne;)if(!$(O[F],F,O))return!1;return!0}function ai(O,$){for(var F=-1,ne=null==O?0:O.length,Ae=0,it=[];++F<ne;){var qt=O[F];$(qt,F,O)&&(it[Ae++]=qt)}return it}function on(O,$){return!(null==O||!O.length)&&Ht(O,$,0)>-1}function eo(O,$,F){for(var ne=-1,Ae=null==O?0:O.length;++ne<Ae;)if(F($,O[ne]))return!0;return!1}function lt(O,$){for(var F=-1,ne=null==O?0:O.length,Ae=Array(ne);++F<ne;)Ae[F]=$(O[F],F,O);return Ae}function an(O,$){for(var F=-1,ne=$.length,Ae=O.length;++F<ne;)O[Ae+F]=$[F];return O}function ht(O,$,F,ne){var Ae=-1,it=null==O?0:O.length;for(ne&&it&&(F=O[++Ae]);++Ae<it;)F=$(F,O[Ae],Ae,O);return F}function Fb(O,$,F,ne){var Ae=null==O?0:O.length;for(ne&&Ae&&(F=O[--Ae]);Ae--;)F=$(F,O[Ae],Ae,O);return F}function id(O,$){for(var F=-1,ne=null==O?0:O.length;++F<ne;)if($(O[F],F,O))return!0;return!1}var Nc=rl("length");function sl(O,$,F){var ne;return F(O,function(Ae,it,qt){if($(Ae,it,qt))return ne=it,!1}),ne}function ds(O,$,F,ne){for(var Ae=O.length,it=F+(ne?1:-1);ne?it--:++it<Ae;)if($(O[it],it,O))return it;return-1}function Ht(O,$,F){return $==$?function(O,$,F){for(var ne=F-1,Ae=O.length;++ne<Ae;)if(O[ne]===$)return ne;return-1}(O,$,F):ds(O,Ki,F)}function Vb(O,$,F,ne){for(var Ae=F-1,it=O.length;++Ae<it;)if(ne(O[Ae],$))return Ae;return-1}function Ki(O){return O!=O}function Di(O,$){var F=null==O?0:O.length;return F?rd(O,$)/F:NaN}function rl(O){return function($){return null==$?M:$[O]}}function Xo(O){return function($){return null==O?M:O[$]}}function ol(O,$,F,ne,Ae){return Ae(O,function(it,qt,bt){F=ne?(ne=!1,it):$(F,it,qt,bt)}),F}function rd(O,$){for(var F,ne=-1,Ae=O.length;++ne<Ae;){var it=$(O[ne]);it!==M&&(F=F===M?it:F+it)}return F}function wg(O,$){for(var F=-1,ne=Array(O);++F<O;)ne[F]=$(F);return ne}function Cg(O){return O&&O.slice(0,ld(O)+1).replace(De,"")}function Ai(O){return function($){return O($)}}function Dg(O,$){return lt($,function(F){return O[F]})}function Rc(O,$){return O.has($)}function $b(O,$){for(var F=-1,ne=O.length;++F<ne&&Ht($,O[F],0)>-1;);return F}function Hb(O,$){for(var F=O.length;F--&&Ht($,O[F],0)>-1;);return F}function nx(O,$){for(var F=O.length,ne=0;F--;)O[F]===$&&++ne;return ne}var ix=Xo({\u00c0:"A",\u00c1:"A",\u00c2:"A",\u00c3:"A",\u00c4:"A",\u00c5:"A",\u00e0:"a",\u00e1:"a",\u00e2:"a",\u00e3:"a",\u00e4:"a",\u00e5:"a",\u00c7:"C",\u00e7:"c",\u00d0:"D",\u00f0:"d",\u00c8:"E",\u00c9:"E",\u00ca:"E",\u00cb:"E",\u00e8:"e",\u00e9:"e",\u00ea:"e",\u00eb:"e",\u00cc:"I",\u00cd:"I",\u00ce:"I",\u00cf:"I",\u00ec:"i",\u00ed:"i",\u00ee:"i",\u00ef:"i",\u00d1:"N",\u00f1:"n",\u00d2:"O",\u00d3:"O",\u00d4:"O",\u00d5:"O",\u00d6:"O",\u00d8:"O",\u00f2:"o",\u00f3:"o",\u00f4:"o",\u00f5:"o",\u00f6:"o",\u00f8:"o",\u00d9:"U",\u00da:"U",\u00db:"U",\u00dc:"U",\u00f9:"u",\u00fa:"u",\u00fb:"u",\u00fc:"u",\u00dd:"Y",\u00fd:"y",\u00ff:"y",\u00c6:"Ae",\u00e6:"ae",\u00de:"Th",\u00fe:"th",\u00df:"ss",\u0100:"A",\u0102:"A",\u0104:"A",\u0101:"a",\u0103:"a",\u0105:"a",\u0106:"C",\u0108:"C",\u010a:"C",\u010c:"C",\u0107:"c",\u0109:"c",\u010b:"c",\u010d:"c",\u010e:"D",\u0110:"D",\u010f:"d",\u0111:"d",\u0112:"E",\u0114:"E",\u0116:"E",\u0118:"E",\u011a:"E",\u0113:"e",\u0115:"e",\u0117:"e",\u0119:"e",\u011b:"e",\u011c:"G",\u011e:"G",\u0120:"G",\u0122:"G",\u011d:"g",\u011f:"g",\u0121:"g",\u0123:"g",\u0124:"H",\u0126:"H",\u0125:"h",\u0127:"h",\u0128:"I",\u012a:"I",\u012c:"I",\u012e:"I",\u0130:"I",\u0129:"i",\u012b:"i",\u012d:"i",\u012f:"i",\u0131:"i",\u0134:"J",\u0135:"j",\u0136:"K",\u0137:"k",\u0138:"k",\u0139:"L",\u013b:"L",\u013d:"L",\u013f:"L",\u0141:"L",\u013a:"l",\u013c:"l",\u013e:"l",\u0140:"l",\u0142:"l",\u0143:"N",\u0145:"N",\u0147:"N",\u014a:"N",\u0144:"n",\u0146:"n",\u0148:"n",\u014b:"n",\u014c:"O",\u014e:"O",\u0150:"O",\u014d:"o",\u014f:"o",\u0151:"o",\u0154:"R",\u0156:"R",\u0158:"R",\u0155:"r",\u0157:"r",\u0159:"r",\u015a:"S",\u015c:"S",\u015e:"S",\u0160:"S",\u015b:"s",\u015d:"s",\u015f:"s",\u0161:"s",\u0162:"T",\u0164:"T",\u0166:"T",\u0163:"t",\u0165:"t",\u0167:"t",\u0168:"U",\u016a:"U",\u016c:"U",\u016e:"U",\u0170:"U",\u0172:"U",\u0169:"u",\u016b:"u",\u016d:"u",\u016f:"u",\u0171:"u",\u0173:"u",\u0174:"W",\u0175:"w",\u0176:"Y",\u0177:"y",\u0178:"Y",\u0179:"Z",\u017b:"Z",\u017d:"Z",\u017a:"z",\u017c:"z",\u017e:"z",\u0132:"IJ",\u0133:"ij",\u0152:"Oe",\u0153:"oe",\u0149:"'n",\u017f:"s"}),sx=Xo({"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"});function rx(O){return"\\"+re[O]}function al(O){return Nb.test(O)}function Ag(O){var $=-1,F=Array(O.size);return O.forEach(function(ne,Ae){F[++$]=[Ae,ne]}),F}function od(O,$){return function(F){return O($(F))}}function fs(O,$){for(var F=-1,ne=O.length,Ae=0,it=[];++F<ne;){var qt=O[F];(qt===$||qt===Wr)&&(O[F]=Wr,it[Ae++]=F)}return it}function ad(O){var $=-1,F=Array(O.size);return O.forEach(function(ne){F[++$]=ne}),F}function no(O){return al(O)?function(O){for(var $=Wi.lastIndex=0;Wi.test(O);)++$;return $}(O):Nc(O)}function _t(O){return al(O)?function(O){return O.match(Wi)||[]}(O):function(O){return O.split("")}(O)}function ld(O){for(var $=O.length;$--&&xn.test(O.charAt($)););return $}var qb=Xo({"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"}),ea=function O($){var l,F=($=null==$?ut:ea.defaults(ut.Object(),$,ea.pick(ut,Rb))).Array,ne=$.Date,Ae=$.Error,it=$.Function,qt=$.Math,bt=$.Object,Dt=$.RegExp,hx=$.String,li=$.TypeError,Lc=F.prototype,ta=bt.prototype,cd=$["__core-js_shared__"],io=it.prototype.toString,Ie=ta.hasOwnProperty,jb=0,Fc=(l=/[^.]+$/.exec(cd&&cd.keys&&cd.keys.IE_PROTO||""))?"Symbol(src)_1."+l:"",Qs=ta.toString,ci=io.call(bt),Tg=ut._,ud=Dt("^"+io.call(Ie).replace(hg,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Vc=X?$.Buffer:M,In=$.Symbol,ll=$.Uint8Array,Bc=Vc?Vc.allocUnsafe:M,_e=od(bt.getPrototypeOf,bt),Wb=bt.create,xg=ta.propertyIsEnumerable,$c=Lc.splice,Mg=In?In.isConcatSpreadable:M,na=In?In.iterator:M,so=In?In.toStringTag:M,Hc=function(){try{var l=Do(bt,"defineProperty");return l({},"",{}),l}catch(c){}}(),W=$.clearTimeout!==ut.clearTimeout&&$.clearTimeout,Qe=ne&&ne.now!==ut.Date.now&&ne.now,Pi=$.setTimeout!==ut.setTimeout&&$.setTimeout,Ft=qt.ceil,cl=qt.floor,ro=bt.getOwnPropertySymbols,ps=Vc?Vc.isBuffer:M,qc=$.isFinite,hd=Lc.join,dx=od(bt.keys,bt),Xt=qt.max,en=qt.min,Gc=ne.now,On=$.parseInt,Qi=qt.random,Ig=Lc.reverse,wr=Do($,"DataView"),ui=Do($,"Map"),dd=Do($,"Promise"),oo=Do($,"Set"),ul=Do($,"WeakMap"),hl=Do(bt,"create"),ia=ul&&new ul,Cr={},Og=Tr(wr),fd=Tr(ui),zb=Tr(dd),Ng=Tr(oo),Uc=Tr(ul),dl=In?In.prototype:M,sa=dl?dl.valueOf:M,pd=dl?dl.toString:M;function E(l){if(Rt(l)&&!he(l)&&!(l instanceof ye)){if(l instanceof ki)return l;if(Ie.call(l,"__wrapped__"))return Qd(l)}return new ki(l)}var Zs=function(){function l(){}return function(c){if(!Nt(c))return{};if(Wb)return Wb(c);l.prototype=c;var d=new l;return l.prototype=M,d}}();function jc(){}function ki(l,c){this.__wrapped__=l,this.__actions__=[],this.__chain__=!!c,this.__index__=0,this.__values__=M}function ye(l){this.__wrapped__=l,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=hs,this.__views__=[]}function ao(l){var c=-1,d=null==l?0:l.length;for(this.clear();++c<d;){var g=l[c];this.set(g[0],g[1])}}function Ti(l){var c=-1,d=null==l?0:l.length;for(this.clear();++c<d;){var g=l[c];this.set(g[0],g[1])}}function hi(l){var c=-1,d=null==l?0:l.length;for(this.clear();++c<d;){var g=l[c];this.set(g[0],g[1])}}function lo(l){var c=-1,d=null==l?0:l.length;for(this.__data__=new hi;++c<d;)this.add(l[c])}function jn(l){var c=this.__data__=new Ti(l);this.size=c.size}function co(l,c){var d=he(l),g=!d&&bs(l),b=!d&&!g&&Ss(l),w=!d&&!g&&!b&&Ll(l),x=d||g||b||w,I=x?wg(l.length,hx):[],R=I.length;for(var H in l)(c||Ie.call(l,H))&&(!x||!("length"==H||b&&("offset"==H||"parent"==H)||w&&("buffer"==H||"byteLength"==H||"byteOffset"==H)||Xi(H,R)))&&I.push(H);return I}function Bg(l){var c=l.length;return c?l[Ad(0,c-1)]:M}function ra(l,c){return fu(ln(l),Js(c,0,l.length))}function bd(l){return fu(ln(l))}function oa(l,c,d){(d!==M&&!ce(l[c],d)||d===M&&!(c in l))&&di(l,c,d)}function Yc(l,c,d){var g=l[c];(!Ie.call(l,c)||!ce(g,d)||d===M&&!(c in l))&&di(l,c,d)}function pl(l,c){for(var d=l.length;d--;)if(ce(l[d][0],c))return d;return-1}function $g(l,c,d,g){return Xs(l,function(b,w,x){c(g,b,d(b),x)}),g}function Hg(l,c){return l&&tn(c,pn(c),l)}function di(l,c,d){"__proto__"==c&&Hc?Hc(l,c,{configurable:!0,enumerable:!0,value:d,writable:!0}):l[c]=d}function gl(l,c){for(var d=-1,g=c.length,b=F(g),w=null==l;++d<g;)b[d]=w?M:Bl(l,c[d]);return b}function Js(l,c,d){return l==l&&(d!==M&&(l=l<=d?l:d),c!==M&&(l=l>=c?l:c)),l}function Nn(l,c,d,g,b,w){var x,I=1&c,R=2&c,H=4&c;if(d&&(x=b?d(l,g,b,w):d(l)),x!==M)return x;if(!Nt(l))return l;var q=he(l);if(q){if(x=function(l){var c=l.length,d=new l.constructor(c);return c&&"string"==typeof l[0]&&Ie.call(l,"index")&&(d.index=l.index,d.input=l.input),d}(l),!I)return ln(l,x)}else{var z=fn(l),J=z==Ec||z==ag;if(Ss(l))return em(l,I);if(z==Ci||z==jo||J&&!b){if(x=R||J?{}:uu(l),!I)return R?function(l,c){return tn(l,hm(l),c)}(l,function(l,c){return l&&tn(c,Fn(c),l)}(x,l)):function(l,c){return tn(l,Dl(l),c)}(l,Hg(x,l))}else{if(!gt[z])return b?l:{};x=function(l,c,d){var g=l.constructor;switch(c){case Ko:return B(l);case Wo:case Ja:return new g(+l);case _r:return function(l,c){var d=c?B(l.buffer):l.buffer;return new l.constructor(d,l.byteOffset,l.byteLength)}(l,d);case kc:case $h:case Hh:case qh:case Gh:case Uh:case cg:case jh:case Wh:return fa(l,d);case ji:return new g;case Xa:case Jr:return new g(l);case Dc:return function(l){var c=new l.constructor(l.source,Db.exec(l));return c.lastIndex=l.lastIndex,c}(l);case Hn:return new g;case Ac:return function(l){return sa?bt(sa.call(l)):{}}(l)}}(l,z,I)}}w||(w=new jn);var oe=w.get(l);if(oe)return oe;w.set(l,x),mE(l)?l.forEach(function(be){x.add(Nn(be,c,d,be,l,w))}):dE(l)&&l.forEach(function(be,Le){x.set(Le,Nn(be,c,d,Le,l,w))});var Re=q?M:(H?R?Vd:Fd:R?Fn:pn)(l);return Mn(Re||l,function(be,Le){Re&&(be=l[Le=be]),Yc(x,Le,Nn(be,c,d,Le,l,w))}),x}function qg(l,c,d){var g=d.length;if(null==l)return!g;for(l=bt(l);g--;){var b=d[g],x=l[b];if(x===M&&!(b in l)||!(0,c[b])(x))return!1}return!0}function Sd(l,c,d){if("function"!=typeof l)throw new li(Tn);return ma(function(){l.apply(M,d)},c)}function aa(l,c,d,g){var b=-1,w=on,x=!0,I=l.length,R=[],H=c.length;if(!I)return R;d&&(c=lt(c,Ai(d))),g?(w=eo,x=!1):c.length>=200&&(w=Rc,x=!1,c=new lo(c));e:for(;++b<I;){var q=l[b],z=null==d?q:d(q);if(q=g||0!==q?q:0,x&&z==z){for(var J=H;J--;)if(c[J]===z)continue e;R.push(q)}else w(c,z,g)||R.push(q)}return R}E.templateSettings={escape:Eb,evaluate:ft,interpolate:le,variable:"",imports:{_:E}},(E.prototype=jc.prototype).constructor=E,(ki.prototype=Zs(jc.prototype)).constructor=ki,(ye.prototype=Zs(jc.prototype)).constructor=ye,ao.prototype.clear=function(){this.__data__=hl?hl(null):{},this.size=0},ao.prototype.delete=function(l){var c=this.has(l)&&delete this.__data__[l];return this.size-=c?1:0,c},ao.prototype.get=function(l){var c=this.__data__;if(hl){var d=c[l];return d===Ka?M:d}return Ie.call(c,l)?c[l]:M},ao.prototype.has=function(l){var c=this.__data__;return hl?c[l]!==M:Ie.call(c,l)},ao.prototype.set=function(l,c){var d=this.__data__;return this.size+=this.has(l)?0:1,d[l]=hl&&c===M?Ka:c,this},Ti.prototype.clear=function(){this.__data__=[],this.size=0},Ti.prototype.delete=function(l){var c=this.__data__,d=pl(c,l);return!(d<0||(d==c.length-1?c.pop():$c.call(c,d,1),--this.size,0))},Ti.prototype.get=function(l){var c=this.__data__,d=pl(c,l);return d<0?M:c[d][1]},Ti.prototype.has=function(l){return pl(this.__data__,l)>-1},Ti.prototype.set=function(l,c){var d=this.__data__,g=pl(d,l);return g<0?(++this.size,d.push([l,c])):d[g][1]=c,this},hi.prototype.clear=function(){this.size=0,this.__data__={hash:new ao,map:new(ui||Ti),string:new ao}},hi.prototype.delete=function(l){var c=Cl(this,l).delete(l);return this.size-=c?1:0,c},hi.prototype.get=function(l){return Cl(this,l).get(l)},hi.prototype.has=function(l){return Cl(this,l).has(l)},hi.prototype.set=function(l,c){var d=Cl(this,l),g=d.size;return d.set(l,c),this.size+=d.size==g?0:1,this},lo.prototype.add=lo.prototype.push=function(l){return this.__data__.set(l,Ka),this},lo.prototype.has=function(l){return this.__data__.has(l)},jn.prototype.clear=function(){this.__data__=new Ti,this.size=0},jn.prototype.delete=function(l){var c=this.__data__,d=c.delete(l);return this.size=c.size,d},jn.prototype.get=function(l){return this.__data__.get(l)},jn.prototype.has=function(l){return this.__data__.has(l)},jn.prototype.set=function(l,c){var d=this.__data__;if(d instanceof Ti){var g=d.__data__;if(!ui||g.length<199)return g.push([l,c]),this.size=++d.size,this;d=this.__data__=new hi(g)}return d.set(l,c),this.size=d.size,this};var Xs=ru(Rn),Ed=ru(Wn,!0);function nS(l,c){var d=!0;return Xs(l,function(g,b,w){return d=!!c(g,b,w)}),d}function Zc(l,c,d){for(var g=-1,b=l.length;++g<b;){var w=l[g],x=c(w);if(null!=x&&(I===M?x==x&&!Ri(x):d(x,I)))var I=x,R=w}return R}function la(l,c){var d=[];return Xs(l,function(g,b,w){c(g,b,w)&&d.push(g)}),d}function dn(l,c,d,g,b){var w=-1,x=l.length;for(d||(d=ga),b||(b=[]);++w<x;){var I=l[w];c>0&&d(I)?c>1?dn(I,c-1,d,g,b):an(b,I):g||(b[b.length]=I)}return b}var Xc=bl(),wd=bl(!0);function Rn(l,c){return l&&Xc(l,c,pn)}function Wn(l,c){return l&&wd(l,c,pn)}function ca(l,c){return ai(c,function(d){return Ni(l[d])})}function er(l,c){for(var d=0,g=(c=_o(c,l)).length;null!=l&&d<g;)l=l[es(c[d++])];return d&&d==g?l:M}function uo(l,c,d){var g=c(l);return he(l)?g:an(g,d(l))}function Kt(l){return null==l?l===M?"[object Undefined]":"[object Null]":so&&so in bt(l)?function(l){var c=Ie.call(l,so),d=l[so];try{l[so]=M;var g=!0}catch(w){}var b=Qs.call(l);return g&&(c?l[so]=d:delete l[so]),b}(l):function(l){return Qs.call(l)}(l)}function Pr(l,c){return l>c}function ml(l,c){return null!=l&&Ie.call(l,c)}function Cd(l,c){return null!=l&&c in bt(l)}function Gg(l,c,d){for(var g=d?eo:on,b=l[0].length,w=l.length,x=w,I=F(w),R=1/0,H=[];x--;){var q=l[x];x&&c&&(q=lt(q,Ai(c))),R=en(q.length,R),I[x]=!d&&(c||b>=120&&q.length>=120)?new lo(x&&q):M}q=l[0];var z=-1,J=I[0];e:for(;++z<b&&H.length<R;){var oe=q[z],ve=c?c(oe):oe;if(oe=d||0!==oe?oe:0,!(J?Rc(J,ve):g(H,ve,d))){for(x=w;--x;){var Re=I[x];if(!(Re?Rc(Re,ve):g(l[x],ve,d)))continue e}J&&J.push(ve),H.push(oe)}}return H}function yl(l,c,d){var g=null==(l=_m(l,c=_o(c,l)))?l:l[es(gi(c))];return null==g?M:rn(g,l,d)}function iS(l){return Rt(l)&&Kt(l)==jo}function eu(l,c,d,g,b){return l===c||(null==l||null==c||!Rt(l)&&!Rt(c)?l!=l&&c!=c:function(l,c,d,g,b,w){var x=he(l),I=he(c),R=x?Za:fn(l),H=I?Za:fn(c),q=(R=R==jo?Ci:R)==Ci,z=(H=H==jo?Ci:H)==Ci,J=R==H;if(J&&Ss(l)){if(!Ss(c))return!1;x=!0,q=!1}if(J&&!q)return w||(w=new jn),x||Ll(l)?Ld(l,c,d,g,b,w):function(l,c,d,g,b,w,x){switch(d){case _r:if(l.byteLength!=c.byteLength||l.byteOffset!=c.byteOffset)return!1;l=l.buffer,c=c.buffer;case Ko:return!(l.byteLength!=c.byteLength||!w(new ll(l),new ll(c)));case Wo:case Ja:case Xa:return ce(+l,+c);case zo:return l.name==c.name&&l.message==c.message;case Dc:case Jr:return l==c+"";case ji:var I=Ag;case Hn:if(I||(I=ad),l.size!=c.size&&!(1&g))return!1;var H=x.get(l);if(H)return H==c;g|=2,x.set(l,c);var q=Ld(I(l),I(c),g,b,w,x);return x.delete(l),q;case Ac:if(sa)return sa.call(l)==sa.call(c)}return!1}(l,c,R,d,g,b,w);if(!(1&d)){var oe=q&&Ie.call(l,"__wrapped__"),ve=z&&Ie.call(c,"__wrapped__");if(oe||ve){var Re=oe?l.value():l,be=ve?c.value():c;return w||(w=new jn),b(Re,be,d,g,w)}}return!!J&&(w||(w=new jn),function(l,c,d,g,b,w){var x=1&d,I=Fd(l),R=I.length;if(R!=Fd(c).length&&!x)return!1;for(var z=R;z--;){var J=I[z];if(!(x?J in c:Ie.call(c,J)))return!1}var oe=w.get(l),ve=w.get(c);if(oe&&ve)return oe==c&&ve==l;var Re=!0;w.set(l,c),w.set(c,l);for(var be=x;++z<R;){var Le=l[J=I[z]],Ke=c[J];if(g)var Qn=x?g(Ke,Le,J,c,l,w):g(Le,Ke,J,l,c,w);if(!(Qn===M?Le===Ke||b(Le,Ke,d,g,w):Qn)){Re=!1;break}be||(be="constructor"==J)}if(Re&&!be){var Cn=l.constructor,Li=c.constructor;Cn!=Li&&"constructor"in l&&"constructor"in c&&!("function"==typeof Cn&&Cn instanceof Cn&&"function"==typeof Li&&Li instanceof Li)&&(Re=!1)}return w.delete(l),w.delete(c),Re}(l,c,d,g,b,w))}(l,c,d,g,eu,b))}function jg(l,c,d,g){var b=d.length,w=b,x=!g;if(null==l)return!w;for(l=bt(l);b--;){var I=d[b];if(x&&I[2]?I[1]!==l[I[0]]:!(I[0]in l))return!1}for(;++b<w;){var R=(I=d[b])[0],H=l[R],q=I[1];if(x&&I[2]){if(H===M&&!(R in l))return!1}else{var z=new jn;if(g)var J=g(H,q,R,l,c,z);if(!(J===M?eu(q,H,3,g,z):J))return!1}}return!0}function rS(l){return!(!Nt(l)||function(l){return!!Fc&&Fc in l}(l))&&(Ni(l)?ud:YT).test(Tr(l))}function oS(l){return"function"==typeof l?l:null==l?Vn:"object"==typeof l?he(l)?tu(l[0],l[1]):Yt(l):Mo(l)}function Wg(l){if(!Pl(l))return dx(l);var c=[];for(var d in bt(l))Ie.call(l,d)&&"constructor"!=d&&c.push(d);return c}function fo(l,c){return l<c}function aS(l,c){var d=-1,g=Kn(l)?F(l.length):[];return Xs(l,function(b,w,x){g[++d]=c(b,w,x)}),g}function Yt(l){var c=Bd(l);return 1==c.length&&c[0][2]?gm(c[0][0],c[0][1]):function(d){return d===l||jg(d,l,c)}}function tu(l,c){return Gd(l)&&pm(c)?gm(es(l),c):function(d){var g=Bl(d,l);return g===M&&g===c?Du(d,l):eu(c,g,3)}}function po(l,c,d,g,b){l!==c&&Xc(c,function(w,x){if(b||(b=new jn),Nt(w))!function(l,c,d,g,b,w,x){var I=hu(l,d),R=hu(c,d),H=x.get(R);if(H)oa(l,d,H);else{var q=w?w(I,R,d+"",l,c,x):M,z=q===M;if(z){var J=he(R),oe=!J&&Ss(R),ve=!J&&!oe&&Ll(R);q=R,J||oe||ve?he(I)?q=I:Ot(I)?q=ln(I):oe?(z=!1,q=em(R,!0)):ve?(z=!1,q=fa(R,!0)):q=[]:Cu(R)||bs(R)?(q=I,bs(I)?q=ry(I):(!Nt(I)||Ni(I))&&(q=uu(R))):z=!1}z&&(x.set(R,q),b(q,R,g,w,x),x.delete(R)),oa(l,d,q)}}(l,c,x,d,po,g,b);else{var I=g?g(hu(l,x),w,x+"",l,c,b):M;I===M&&(I=w),oa(l,x,I)}},Fn)}function zg(l,c){var d=l.length;if(d)return Xi(c+=c<0?d:0,d)?l[c]:M}function fi(l,c,d){c=c.length?lt(c,function(w){return he(w)?function(x){return er(x,1===w.length?w[0]:w)}:w}):[Vn];var g=-1;return c=lt(c,Ai(ge())),function(O,$){var F=O.length;for(O.sort(function(w,x){return function(l,c,d){for(var g=-1,b=l.criteria,w=c.criteria,x=b.length,I=d.length;++g<x;){var R=nm(b[g],w[g]);if(R)return g>=I?R:R*("desc"==d[g]?-1:1)}return l.index-c.index}(w,x,d)});F--;)O[F]=O[F].value;return O}(aS(l,function(w,x,I){return{criteria:lt(c,function(H){return H(w)}),index:++g,value:w}}))}function vl(l,c,d){for(var g=-1,b=c.length,w={};++g<b;){var x=c[g],I=er(l,x);d(I,x)&&mo(w,_o(x,l),I)}return w}function ms(l,c,d,g){var b=g?Vb:Ht,w=-1,x=c.length,I=l;for(l===c&&(c=ln(c)),d&&(I=lt(l,Ai(d)));++w<x;)for(var R=0,H=c[w],q=d?d(H):H;(R=b(I,q,R,g))>-1;)I!==l&&$c.call(I,R,1),$c.call(l,R,1);return l}function Dd(l,c){for(var d=l?c.length:0,g=d-1;d--;){var b=c[d];if(d==g||b!==w){var w=b;Xi(b)?$c.call(l,b,1):Jg(l,b)}}return l}function Ad(l,c){return l+cl(Qi()*(c-l+1))}function Kg(l,c){var d="";if(!l||c<1||c>vr)return d;do{c%2&&(d+=l),(c=cl(c/2))&&(l+=l)}while(c);return d}function He(l,c){return du(vm(l,c,Vn),l+"")}function Yg(l){return Bg(Ea(l))}function pi(l,c){var d=Ea(l);return fu(d,Js(c,0,d.length))}function mo(l,c,d,g){if(!Nt(l))return l;for(var b=-1,w=(c=_o(c,l)).length,x=w-1,I=l;null!=I&&++b<w;){var R=es(c[b]),H=d;if("__proto__"===R||"constructor"===R||"prototype"===R)return l;if(b!=x){var q=I[R];(H=g?g(q,R,I):M)===M&&(H=Nt(q)?q:Xi(c[b+1])?[]:{})}Yc(I,R,H),I=I[R]}return l}var yo=ia?function(l,c){return ia.set(l,c),l}:Vn,Ex=Hc?function(l,c){return Hc(l,"toString",{configurable:!0,enumerable:!1,value:If(c),writable:!0})}:Vn;function Qg(l){return fu(Ea(l))}function xi(l,c,d){var g=-1,b=l.length;c<0&&(c=-c>b?0:b+c),(d=d>b?b:d)<0&&(d+=b),b=c>d?0:d-c>>>0,c>>>=0;for(var w=F(b);++g<b;)w[g]=l[g+c];return w}function cS(l,c){var d;return Xs(l,function(g,b,w){return!(d=c(g,b,w))}),!!d}function nu(l,c,d){var g=0,b=null==l?g:l.length;if("number"==typeof c&&c==c&&b<=2147483647){for(;g<b;){var w=g+b>>>1,x=l[w];null!==x&&!Ri(x)&&(d?x<=c:x<c)?g=w+1:b=w}return b}return Pd(l,c,Vn,d)}function Pd(l,c,d,g){var b=0,w=null==l?0:l.length;if(0===w)return 0;for(var x=(c=d(c))!=c,I=null===c,R=Ri(c),H=c===M;b<w;){var q=cl((b+w)/2),z=d(l[q]),J=z!==M,oe=null===z,ve=z==z,Re=Ri(z);if(x)var be=g||ve;else be=H?ve&&(g||J):I?ve&&J&&(g||!oe):R?ve&&J&&!oe&&(g||!Re):!oe&&!Re&&(g?z<=c:z<c);be?b=q+1:w=q}return en(w,4294967294)}function Zg(l,c){for(var d=-1,g=l.length,b=0,w=[];++d<g;){var x=l[d],I=c?c(x):x;if(!d||!ce(I,R)){var R=I;w[b++]=0===x?0:x}}return w}function ua(l){return"number"==typeof l?l:Ri(l)?NaN:+l}function Ln(l){if("string"==typeof l)return l;if(he(l))return lt(l,Ln)+"";if(Ri(l))return pd?pd.call(l):"";var c=l+"";return"0"==c&&1/l==-Zr?"-0":c}function Zi(l,c,d){var g=-1,b=on,w=l.length,x=!0,I=[],R=I;if(d)x=!1,b=eo;else if(w>=200){var H=c?null:pS(l);if(H)return ad(H);x=!1,b=Rc,R=new lo}else R=c?[]:I;e:for(;++g<w;){var q=l[g],z=c?c(q):q;if(q=d||0!==q?q:0,x&&z==z){for(var J=R.length;J--;)if(R[J]===z)continue e;c&&R.push(z),I.push(q)}else b(R,z,d)||(R!==I&&R.push(z),I.push(q))}return I}function Jg(l,c){return null==(l=_m(l,c=_o(c,l)))||delete l[es(gi(c))]}function ha(l,c,d,g){return mo(l,c,d(er(l,c)),g)}function da(l,c,d,g){for(var b=l.length,w=g?b:-1;(g?w--:++w<b)&&c(l[w],w,l););return d?xi(l,g?0:w,g?w+1:b):xi(l,g?w+1:0,g?b:w)}function vo(l,c){var d=l;return d instanceof ye&&(d=d.value()),ht(c,function(g,b){return b.func.apply(b.thisArg,an([g],b.args))},d)}function kd(l,c,d){var g=l.length;if(g<2)return g?Zi(l[0]):[];for(var b=-1,w=F(g);++b<g;)for(var x=l[b],I=-1;++I<g;)I!=b&&(w[b]=aa(w[b]||x,l[I],c,d));return Zi(dn(w,1),c,d)}function Xg(l,c,d){for(var g=-1,b=l.length,w=c.length,x={};++g<b;)d(x,l[g],g<w?c[g]:M);return x}function Td(l){return Ot(l)?l:[]}function _l(l){return"function"==typeof l?l:Vn}function _o(l,c){return he(l)?l:Gd(l,c)?[l]:Kd(st(l))}var xd=He;function Mi(l,c,d){var g=l.length;return d=d===M?g:d,!c&&d>=g?l:xi(l,c,d)}var bo=W||function(l){return ut.clearTimeout(l)};function em(l,c){if(c)return l.slice();var d=l.length,g=Bc?Bc(d):new l.constructor(d);return l.copy(g),g}function B(l){var c=new l.constructor(l.byteLength);return new ll(c).set(new ll(l)),c}function fa(l,c){var d=c?B(l.buffer):l.buffer;return new l.constructor(d,l.byteOffset,l.length)}function nm(l,c){if(l!==c){var d=l!==M,g=null===l,b=l==l,w=Ri(l),x=c!==M,I=null===c,R=c==c,H=Ri(c);if(!I&&!H&&!w&&l>c||w&&x&&R&&!I&&!H||g&&x&&R||!d&&R||!b)return 1;if(!g&&!w&&!H&&l<c||H&&d&&b&&!g&&!w||I&&d&&b||!x&&b||!R)return-1}return 0}function Md(l,c,d,g){for(var b=-1,w=l.length,x=d.length,I=-1,R=c.length,H=Xt(w-x,0),q=F(R+H),z=!g;++I<R;)q[I]=c[I];for(;++b<x;)(z||b<w)&&(q[d[b]]=l[b]);for(;H--;)q[I++]=l[b++];return q}function hS(l,c,d,g){for(var b=-1,w=l.length,x=-1,I=d.length,R=-1,H=c.length,q=Xt(w-I,0),z=F(q+H),J=!g;++b<q;)z[b]=l[b];for(var oe=b;++R<H;)z[oe+R]=c[R];for(;++x<I;)(J||b<w)&&(z[oe+d[x]]=l[b++]);return z}function ln(l,c){var d=-1,g=l.length;for(c||(c=F(g));++d<g;)c[d]=l[d];return c}function tn(l,c,d,g){var b=!d;d||(d={});for(var w=-1,x=c.length;++w<x;){var I=c[w],R=g?g(d[I],l[I],I,d,l):M;R===M&&(R=l[I]),b?di(d,I,R):Yc(d,I,R)}return d}function su(l,c){return function(d,g){var b=he(d)?Me:$g,w=c?c():{};return b(d,l,ge(g,2),w)}}function wo(l){return He(function(c,d){var g=-1,b=d.length,w=b>1?d[b-1]:M,x=b>2?d[2]:M;for(w=l.length>3&&"function"==typeof w?(b--,w):M,x&&wn(d[0],d[1],x)&&(w=b<3?M:w,b=1),c=bt(c);++g<b;){var I=d[g];I&&l(c,I,g,w)}return c})}function ru(l,c){return function(d,g){if(null==d)return d;if(!Kn(d))return l(d,g);for(var b=d.length,w=c?b:-1,x=bt(d);(c?w--:++w<b)&&!1!==g(x[w],w,x););return d}}function bl(l){return function(c,d,g){for(var b=-1,w=bt(c),x=g(c),I=x.length;I--;){var R=x[l?I:++b];if(!1===d(w[R],R,w))break}return c}}function rm(l){return function(c){var d=al(c=st(c))?_t(c):M,g=d?d[0]:c.charAt(0),b=d?Mi(d,1).join(""):c.slice(1);return g[l]()+b}}function pa(l){return function(c){return ht(xf(wf(c).replace(_g,"")),l,"")}}function ys(l){return function(){var c=arguments;switch(c.length){case 0:return new l;case 1:return new l(c[0]);case 2:return new l(c[0],c[1]);case 3:return new l(c[0],c[1],c[2]);case 4:return new l(c[0],c[1],c[2],c[3]);case 5:return new l(c[0],c[1],c[2],c[3],c[4]);case 6:return new l(c[0],c[1],c[2],c[3],c[4],c[5]);case 7:return new l(c[0],c[1],c[2],c[3],c[4],c[5],c[6])}var d=Zs(l.prototype),g=l.apply(d,c);return Nt(g)?g:d}}function om(l){return function(c,d,g){var b=bt(c);if(!Kn(c)){var w=ge(d,3);c=pn(c),d=function(I){return w(b[I],I,b)}}var x=l(c,d,g);return x>-1?b[w?c[x]:x]:M}}function dS(l){return Ji(function(c){var d=c.length,g=d,b=ki.prototype.thru;for(l&&c.reverse();g--;){var w=c[g];if("function"!=typeof w)throw new li(Tn);if(b&&!x&&"wrapper"==cu(w))var x=new ki([],!0)}for(g=x?g:d;++g<d;){var I=cu(w=c[g]),R="wrapper"==I?lu(w):M;x=R&&jd(R[0])&&424==R[1]&&!R[4].length&&1==R[9]?x[cu(R[0])].apply(x,R[3]):1==w.length&&jd(w)?x[I]():x.thru(w)}return function(){var H=arguments,q=H[0];if(x&&1==H.length&&he(q))return x.plant(q).value();for(var z=0,J=d?c[z].apply(this,H):q;++z<d;)J=c[z].call(this,J);return J}})}function El(l,c,d,g,b,w,x,I,R,H){var q=128&c,z=1&c,J=2&c,oe=24&c,ve=512&c,Re=J?M:ys(l);return function be(){for(var Le=arguments.length,Ke=F(Le),Qn=Le;Qn--;)Ke[Qn]=arguments[Qn];if(oe)var Cn=Co(be),Li=nx(Ke,Cn);if(g&&(Ke=Md(Ke,g,b,oe)),w&&(Ke=hS(Ke,w,x,oe)),Le-=Li,oe&&Le<H){var rt=fs(Ke,Cn);return zn(l,c,El,be.placeholder,d,Ke,rt,I,R,H-Le)}var Cs=z?d:this,Or=J?Cs[l]:l;return Le=Ke.length,I?Ke=bm(Ke,I):ve&&Le>1&&Ke.reverse(),q&&R<Le&&(Ke.length=R),this&&this!==ut&&this instanceof be&&(Or=Re||ys(Or)),Or.apply(Cs,Ke)}}function am(l,c){return function(d,g){return function(l,c,d,g){return Rn(l,function(b,w,x){c(g,d(b),w,x)}),g}(d,l,c(g),{})}}function Id(l,c){return function(d,g){var b;if(d===M&&g===M)return c;if(d!==M&&(b=d),g!==M){if(b===M)return g;"string"==typeof d||"string"==typeof g?(d=Ln(d),g=Ln(g)):(d=ua(d),g=ua(g)),b=l(d,g)}return b}}function Od(l){return Ji(function(c){return c=lt(c,Ai(ge())),He(function(d){var g=this;return l(c,function(b){return rn(b,g,d)})})})}function ou(l,c){var d=(c=c===M?" ":Ln(c)).length;if(d<2)return d?Kg(c,l):c;var g=Kg(c,Ft(l/no(c)));return al(c)?Mi(_t(g),0,l).join(""):g.slice(0,l)}function lm(l){return function(c,d,g){return g&&"number"!=typeof g&&wn(c,d,g)&&(d=g=M),c=Es(c),d===M?(d=c,c=0):d=Es(d),function(l,c,d,g){for(var b=-1,w=Xt(Ft((c-l)/(d||1)),0),x=F(w);w--;)x[g?w:++b]=l,l+=d;return x}(c,d,g=g===M?c<d?1:-1:Es(g),l)}}function Nd(l){return function(c,d){return"string"==typeof c&&"string"==typeof d||(c=Yn(c),d=Yn(d)),l(c,d)}}function zn(l,c,d,g,b,w,x,I,R,H){var q=8&c;c|=q?32:64,4&(c&=~(q?64:32))||(c&=-4);var Re=[l,c,b,q?w:M,q?x:M,q?M:w,q?M:x,I,R,H],be=d.apply(M,Re);return jd(l)&&kr(be,Re),be.placeholder=g,Sm(be,l,c)}function Rd(l){var c=qt[l];return function(d,g){if(d=Yn(d),(g=null==g?0:en(ke(g),292))&&qc(d)){var b=(st(d)+"e").split("e");return+((b=(st(c(b[0]+"e"+(+b[1]+g)))+"e").split("e"))[0]+"e"+(+b[1]-g))}return c(d)}}var pS=oo&&1/ad(new oo([,-0]))[1]==Zr?function(l){return new oo(l)}:Rf;function cm(l){return function(c){var d=fn(c);return d==ji?Ag(c):d==Hn?function(O){var $=-1,F=Array(O.size);return O.forEach(function(ne){F[++$]=[ne,ne]}),F}(c):function(O,$){return lt($,function(F){return[F,O[F]]})}(c,l(c))}}function Ii(l,c,d,g,b,w,x,I){var R=2&c;if(!R&&"function"!=typeof l)throw new li(Tn);var H=g?g.length:0;if(H||(c&=-97,g=b=M),x=x===M?x:Xt(ke(x),0),I=I===M?I:ke(I),H-=b?b.length:0,64&c){var q=g,z=b;g=b=M}var J=R?M:lu(l),oe=[l,c,d,g,b,q,z,w,x,I];if(J&&function(l,c){var d=l[1],g=c[1],b=d|g;if(!(b<131||(128==g&&8==d||128==g&&256==d&&l[7].length<=c[8]||384==g&&c[7].length<=c[8]&&8==d)))return l;1&g&&(l[2]=c[2],b|=1&d?0:4);var I=c[3];if(I){var R=l[3];l[3]=R?Md(R,I,c[4]):I,l[4]=R?fs(l[3],Wr):c[4]}(I=c[5])&&(l[5]=(R=l[5])?hS(R,I,c[6]):I,l[6]=R?fs(l[5],Wr):c[6]),(I=c[7])&&(l[7]=I),128&g&&(l[8]=null==l[8]?c[8]:en(l[8],c[8])),null==l[9]&&(l[9]=c[9]),l[0]=c[0],l[1]=b}(oe,J),l=oe[0],c=oe[1],d=oe[2],g=oe[3],b=oe[4],!(I=oe[9]=oe[9]===M?R?0:l.length:Xt(oe[9]-H,0))&&24&c&&(c&=-25),c&&1!=c)ve=8==c||16==c?function(l,c,d){var g=ys(l);return function b(){for(var w=arguments.length,x=F(w),I=w,R=Co(b);I--;)x[I]=arguments[I];var H=w<3&&x[0]!==R&&x[w-1]!==R?[]:fs(x,R);return(w-=H.length)<d?zn(l,c,El,b.placeholder,M,x,H,M,M,d-w):rn(this&&this!==ut&&this instanceof b?g:l,this,x)}}(l,c,I):32!=c&&33!=c||b.length?El.apply(M,oe):function(l,c,d,g){var b=1&c,w=ys(l);return function x(){for(var I=-1,R=arguments.length,H=-1,q=g.length,z=F(q+R),J=this&&this!==ut&&this instanceof x?w:l;++H<q;)z[H]=g[H];for(;R--;)z[H++]=arguments[++I];return rn(J,b?d:this,z)}}(l,c,d,g);else var ve=function(l,c,d){var g=1&c,b=ys(l);return function w(){return(this&&this!==ut&&this instanceof w?b:l).apply(g?d:this,arguments)}}(l,c,d);return Sm((J?yo:kr)(ve,oe),l,c)}function Sn(l,c,d,g){return l===M||ce(l,ta[d])&&!Ie.call(g,d)?c:l}function au(l,c,d,g,b,w){return Nt(l)&&Nt(c)&&(w.set(c,l),po(l,c,M,au,w),w.delete(c)),l}function um(l){return Cu(l)?M:l}function Ld(l,c,d,g,b,w){var x=1&d,I=l.length,R=c.length;if(I!=R&&!(x&&R>I))return!1;var H=w.get(l),q=w.get(c);if(H&&q)return H==c&&q==l;var z=-1,J=!0,oe=2&d?new lo:M;for(w.set(l,c),w.set(c,l);++z<I;){var ve=l[z],Re=c[z];if(g)var be=x?g(Re,ve,z,c,l,w):g(ve,Re,z,l,c,w);if(be!==M){if(be)continue;J=!1;break}if(oe){if(!id(c,function(Le,Ke){if(!Rc(oe,Ke)&&(ve===Le||b(ve,Le,d,g,w)))return oe.push(Ke)})){J=!1;break}}else if(ve!==Re&&!b(ve,Re,d,g,w)){J=!1;break}}return w.delete(l),w.delete(c),J}function Ji(l){return du(vm(l,M,xl),l+"")}function Fd(l){return uo(l,pn,Dl)}function Vd(l){return uo(l,Fn,hm)}var lu=ia?function(l){return ia.get(l)}:Rf;function cu(l){for(var c=l.name+"",d=Cr[c],g=Ie.call(Cr,c)?d.length:0;g--;){var b=d[g],w=b.func;if(null==w||w==l)return b.name}return c}function Co(l){return(Ie.call(E,"placeholder")?E:l).placeholder}function ge(){var l=E.iteratee||xo;return l=l===xo?oS:l,arguments.length?l(arguments[0],arguments[1]):l}function Cl(l,c){var d=l.__data__;return function(l){var c=typeof l;return"string"==c||"number"==c||"symbol"==c||"boolean"==c?"__proto__"!==l:null===l}(c)?d["string"==typeof c?"string":"hash"]:d.map}function Bd(l){for(var c=pn(l),d=c.length;d--;){var g=c[d],b=l[g];c[d]=[g,b,pm(b)]}return c}function Do(l,c){var d=function(O,$){return null==O?M:O[$]}(l,c);return rS(d)?d:M}var Dl=ro?function(l){return null==l?[]:(l=bt(l),ai(ro(l),function(c){return xg.call(l,c)}))}:Ir,hm=ro?function(l){for(var c=[];l;)an(c,Dl(l)),l=_e(l);return c}:Ir,fn=Kt;function Hd(l,c,d){for(var g=-1,b=(c=_o(c,l)).length,w=!1;++g<b;){var x=es(c[g]);if(!(w=null!=l&&d(l,x)))break;l=l[x]}return w||++g!=b?w:!!(b=null==l?0:l.length)&&pf(b)&&Xi(x,b)&&(he(l)||bs(l))}function uu(l){return"function"!=typeof l.constructor||Pl(l)?{}:Zs(_e(l))}function ga(l){return he(l)||bs(l)||!!(Mg&&l&&l[Mg])}function Xi(l,c){var d=typeof l;return!!(c=null==c?vr:c)&&("number"==d||"symbol"!=d&&ZT.test(l))&&l>-1&&l%1==0&&l<c}function wn(l,c,d){if(!Nt(d))return!1;var g=typeof c;return!!("number"==g?Kn(d)&&Xi(c,d.length):"string"==g&&c in d)&&ce(d[c],l)}function Gd(l,c){if(he(l))return!1;var d=typeof l;return!("number"!=d&&"symbol"!=d&&"boolean"!=d&&null!=l&&!Ri(l))||UT.test(l)||!ug.test(l)||null!=c&&l in bt(c)}function jd(l){var c=cu(l),d=E[c];if("function"!=typeof d||!(c in ye.prototype))return!1;if(l===d)return!0;var g=lu(d);return!!g&&l===g[0]}(wr&&fn(new wr(new ArrayBuffer(1)))!=_r||ui&&fn(new ui)!=ji||dd&&fn(dd.resolve())!=yb||oo&&fn(new oo)!=Hn||ul&&fn(new ul)!=Pc)&&(fn=function(l){var c=Kt(l),d=c==Ci?l.constructor:M,g=d?Tr(d):"";if(g)switch(g){case Og:return _r;case fd:return ji;case zb:return yb;case Ng:return Hn;case Uc:return Pc}return c});var mS=cd?Ni:Ff;function Pl(l){var c=l&&l.constructor;return l===("function"==typeof c&&c.prototype||ta)}function pm(l){return l==l&&!Nt(l)}function gm(l,c){return function(d){return null!=d&&d[l]===c&&(c!==M||l in bt(d))}}function vm(l,c,d){return c=Xt(c===M?l.length-1:c,0),function(){for(var g=arguments,b=-1,w=Xt(g.length-c,0),x=F(w);++b<w;)x[b]=g[c+b];b=-1;for(var I=F(c+1);++b<c;)I[b]=g[b];return I[c]=d(x),rn(l,this,I)}}function _m(l,c){return c.length<2?l:er(l,xi(c,0,-1))}function bm(l,c){for(var d=l.length,g=en(c.length,d),b=ln(l);g--;){var w=c[g];l[g]=Xi(w,d)?b[w]:M}return l}function hu(l,c){if(("constructor"!==c||"function"!=typeof l[c])&&"__proto__"!=c)return l[c]}var kr=kl(yo),ma=Pi||function(l,c){return ut.setTimeout(l,c)},du=kl(Ex);function Sm(l,c,d){var g=c+"";return du(l,function(l,c){var d=c.length;if(!d)return l;var g=d-1;return c[g]=(d>1?"& ":"")+c[g],c=c.join(d>2?", ":" "),l.replace(wb,"{\n/* [wrapped with "+c+"] */\n")}(g,function(l,c){return Mn(gb,function(d){var g="_."+d[0];c&d[1]&&!on(l,g)&&l.push(g)}),l.sort()}(function(l){var c=l.match(jT);return c?c[1].split(WT):[]}(g),d)))}function kl(l){var c=0,d=0;return function(){var g=Gc(),b=16-(g-d);if(d=g,b>0){if(++c>=800)return arguments[0]}else c=0;return l.apply(M,arguments)}}function fu(l,c){var d=-1,g=l.length,b=g-1;for(c=c===M?g:c;++d<c;){var w=Ad(d,b),x=l[w];l[w]=l[d],l[d]=x}return l.length=c,l}var c,d,Kd=(c=Rl(function(l){var c=[];return 46===l.charCodeAt(0)&&c.push(""),l.replace(br,function(d,g,b,w){c.push(b?w.replace(zT,"$1"):g||d)}),c},function(g){return 500===d.size&&d.clear(),g}),d=c.cache,c);function es(l){if("string"==typeof l||Ri(l))return l;var c=l+"";return"0"==c&&1/l==-Zr?"-0":c}function Tr(l){if(null!=l){try{return io.call(l)}catch(c){}try{return l+""}catch(c){}}return""}function Qd(l){if(l instanceof ye)return l.clone();var c=new ki(l.__wrapped__,l.__chain__);return c.__actions__=ln(l.__actions__),c.__index__=l.__index__,c.__values__=l.__values__,c}var Zd=He(function(l,c){return Ot(l)?aa(l,dn(c,1,Ot,!0)):[]}),Jd=He(function(l,c){var d=gi(c);return Ot(d)&&(d=M),Ot(l)?aa(l,dn(c,1,Ot,!0),ge(d,2)):[]}),Xd=He(function(l,c){var d=gi(c);return Ot(d)&&(d=M),Ot(l)?aa(l,dn(c,1,Ot,!0),M,d):[]});function ef(l,c,d){var g=null==l?0:l.length;if(!g)return-1;var b=null==d?0:ke(d);return b<0&&(b=Xt(g+b,0)),ds(l,ge(c,3),b)}function mu(l,c,d){var g=null==l?0:l.length;if(!g)return-1;var b=g-1;return d!==M&&(b=ke(d),b=d<0?Xt(g+b,0):en(b,g-1)),ds(l,ge(c,3),b,!0)}function xl(l){return null!=l&&l.length?dn(l,1):[]}function Cm(l){return l&&l.length?l[0]:M}var yu=He(function(l){var c=lt(l,Td);return c.length&&c[0]===l[0]?Gg(c):[]}),nf=He(function(l){var c=gi(l),d=lt(l,Td);return c===gi(d)?c=M:d.pop(),d.length&&d[0]===l[0]?Gg(d,ge(c,2)):[]}),Dm=He(function(l){var c=gi(l),d=lt(l,Td);return(c="function"==typeof c?c:M)&&d.pop(),d.length&&d[0]===l[0]?Gg(d,M,c):[]});function gi(l){var c=null==l?0:l.length;return c?l[c-1]:M}var wS=He(Pm);function Pm(l,c){return l&&l.length&&c&&c.length?ms(l,c):l}var mi=Ji(function(l,c){var d=null==l?0:l.length,g=gl(l,c);return Dd(l,lt(c,function(b){return Xi(b,d)?+b:b}).sort(nm)),g});function vu(l){return null==l?l:Ig.call(l)}var _s=He(function(l){return Zi(dn(l,1,Ot,!0))}),Il=He(function(l){var c=gi(l);return Ot(c)&&(c=M),Zi(dn(l,1,Ot,!0),ge(c,2))}),xm=He(function(l){var c=gi(l);return c="function"==typeof c?c:M,Zi(dn(l,1,Ot,!0),M,c)});function Om(l){if(!l||!l.length)return[];var c=0;return l=ai(l,function(d){if(Ot(d))return c=Xt(d.length,c),!0}),wg(c,function(d){return lt(l,rl(d))})}function LS(l,c){if(!l||!l.length)return[];var d=Om(l);return null==c?d:lt(d,function(g){return rn(c,M,g)})}var sf=He(function(l,c){return Ot(l)?aa(l,c):[]}),rf=He(function(l){return kd(ai(l,Ot))}),of=He(function(l){var c=gi(l);return Ot(c)&&(c=M),kd(ai(l,Ot),ge(c,2))}),Px=He(function(l){var c=gi(l);return c="function"==typeof c?c:M,kd(ai(l,Ot),M,c)}),kx=He(Om),VS=He(function(l){var c=l.length,d=c>1?l[c-1]:M;return d="function"==typeof d?(l.pop(),d):M,LS(l,d)});function Rm(l){var c=E(l);return c.__chain__=!0,c}function Ol(l,c){return c(l)}var _u=Ji(function(l){var c=l.length,d=c?l[0]:0,g=this.__wrapped__,b=function(w){return gl(w,l)};return!(c>1||this.__actions__.length)&&g instanceof ye&&Xi(d)?((g=g.slice(d,+d+(c?1:0))).__actions__.push({func:Ol,args:[b],thisArg:M}),new ki(g,this.__chain__).thru(function(w){return c&&!w.length&&w.push(M),w})):this.thru(b)}),Vm=su(function(l,c,d){Ie.call(l,d)?++l[d]:di(l,d,1)}),jS=om(ef),WS=om(mu);function ya(l,c){return(he(l)?Mn:Xs)(l,ge(c,3))}function Bm(l,c){return(he(l)?Jo:Ed)(l,ge(c,3))}var $m=su(function(l,c,d){Ie.call(l,d)?l[d].push(c):di(l,d,[c])}),Hm=He(function(l,c,d){var g=-1,b="function"==typeof c,w=Kn(l)?F(l.length):[];return Xs(l,function(x){w[++g]=b?rn(c,x,d):yl(x,c,d)}),w}),KS=su(function(l,c,d){di(l,d,c)});function cf(l,c){return(he(l)?lt:aS)(l,ge(c,3))}var bu=su(function(l,c,d){l[d?0:1].push(c)},function(){return[[],[]]}),eE=He(function(l,c){if(null==l)return[];var d=c.length;return d>1&&wn(l,c[0],c[1])?c=[]:d>2&&wn(c[0],c[1],c[2])&&(c=[c[0]]),fi(l,dn(c,1),[])}),Nl=Qe||function(){return ut.Date.now()};function uf(l,c,d){return c=d?M:c,Ii(l,128,M,M,M,M,c=l&&null==c?l.length:c)}function Um(l,c){var d;if("function"!=typeof c)throw new li(Tn);return l=ke(l),function(){return--l>0&&(d=c.apply(this,arguments)),l<=1&&(c=M),d}}var hf=He(function(l,c,d){var g=1;if(d.length){var b=fs(d,Co(hf));g|=32}return Ii(l,g,c,d,b)}),jm=He(function(l,c,d){var g=3;if(d.length){var b=fs(d,Co(jm));g|=32}return Ii(c,g,l,d,b)});function tE(l,c,d){var g,b,w,x,I,R,H=0,q=!1,z=!1,J=!0;if("function"!=typeof l)throw new li(Tn);function oe(rt){var Cs=g,Or=b;return g=b=M,H=rt,x=l.apply(Or,Cs)}function ve(rt){return H=rt,I=ma(Le,c),q?oe(rt):x}function be(rt){var Cs=rt-R;return R===M||Cs>=c||Cs<0||z&&rt-H>=w}function Le(){var rt=Nl();if(be(rt))return Ke(rt);I=ma(Le,function(rt){var rw=c-(rt-R);return z?en(rw,w-(rt-H)):rw}(rt))}function Ke(rt){return I=M,J&&g?oe(rt):(g=b=M,x)}function Li(){var rt=Nl(),Cs=be(rt);if(g=arguments,b=this,R=rt,Cs){if(I===M)return ve(R);if(z)return bo(I),I=ma(Le,c),oe(R)}return I===M&&(I=ma(Le,c)),x}return c=Yn(c)||0,Nt(d)&&(q=!!d.leading,w=(z="maxWait"in d)?Xt(Yn(d.maxWait)||0,c):w,J="trailing"in d?!!d.trailing:J),Li.cancel=function(){I!==M&&bo(I),H=0,g=R=b=I=M},Li.flush=function(){return I===M?x:Ke(Nl())},Li}var Ix=He(function(l,c){return Sd(l,1,c)}),Wm=He(function(l,c,d){return Sd(l,Yn(c)||0,d)});function Rl(l,c){if("function"!=typeof l||null!=c&&"function"!=typeof c)throw new li(Tn);var d=function(){var g=arguments,b=c?c.apply(this,g):g[0],w=d.cache;if(w.has(b))return w.get(b);var x=l.apply(this,g);return d.cache=w.set(b,x)||w,x};return d.cache=new(Rl.Cache||hi),d}function df(l){if("function"!=typeof l)throw new li(Tn);return function(){var c=arguments;switch(c.length){case 0:return!l.call(this);case 1:return!l.call(this,c[0]);case 2:return!l.call(this,c[0],c[1]);case 3:return!l.call(this,c[0],c[1],c[2])}return!l.apply(this,c)}}Rl.Cache=hi;var nE=xd(function(l,c){var d=(c=1==c.length&&he(c[0])?lt(c[0],Ai(ge())):lt(dn(c,1),Ai(ge()))).length;return He(function(g){for(var b=-1,w=en(g.length,d);++b<w;)g[b]=c[b].call(this,g[b]);return rn(l,this,g)})}),Su=He(function(l,c){var d=fs(c,Co(Su));return Ii(l,32,M,c,d)}),Km=He(function(l,c){var d=fs(c,Co(Km));return Ii(l,64,M,c,d)}),iE=Ji(function(l,c){return Ii(l,256,M,M,M,c)});function ce(l,c){return l===c||l!=l&&c!=c}var G=Nd(Pr),Zm=Nd(function(l,c){return l>=c}),bs=iS(function(){return arguments}())?iS:function(l){return Rt(l)&&Ie.call(l,"callee")&&!xg.call(l,"callee")},he=F.isArray,Jm=Un?Ai(Un):function(l){return Rt(l)&&Kt(l)==Ko};function Kn(l){return null!=l&&pf(l.length)&&!Ni(l)}function Ot(l){return Rt(l)&&Kn(l)}var Ss=ps||Ff,Xm=Sr?Ai(Sr):function(l){return Rt(l)&&Kt(l)==Ja};function is(l){if(!Rt(l))return!1;var c=Kt(l);return c==zo||"[object DOMException]"==c||"string"==typeof l.message&&"string"==typeof l.name&&!Cu(l)}function Ni(l){if(!Nt(l))return!1;var c=Kt(l);return c==Ec||c==ag||"[object AsyncFunction]"==c||"[object Proxy]"==c}function wu(l){return"number"==typeof l&&l==ke(l)}function pf(l){return"number"==typeof l&&l>-1&&l%1==0&&l<=vr}function Nt(l){var c=typeof l;return null!=l&&("object"==c||"function"==c)}function Rt(l){return null!=l&&"object"==typeof l}var dE=Jt?Ai(Jt):function(l){return Rt(l)&&fn(l)==ji};function gE(l){return"number"==typeof l||Rt(l)&&Kt(l)==Xa}function Cu(l){if(!Rt(l)||Kt(l)!=Ci)return!1;var c=_e(l);if(null===c)return!0;var d=Ie.call(c,"constructor")&&c.constructor;return"function"==typeof d&&d instanceof d&&io.call(d)==ci}var iy=Er?Ai(Er):function(l){return Rt(l)&&Kt(l)==Dc},mE=Mt?Ai(Mt):function(l){return Rt(l)&&fn(l)==Hn};function mf(l){return"string"==typeof l||!he(l)&&Rt(l)&&Kt(l)==Jr}function Ri(l){return"symbol"==typeof l||Rt(l)&&Kt(l)==Ac}var Ll=Zo?Ai(Zo):function(l){return Rt(l)&&pf(l.length)&&!!vt[Kt(l)]},xr=Nd(fo),yf=Nd(function(l,c){return l<=c});function sy(l){if(!l)return[];if(Kn(l))return mf(l)?_t(l):ln(l);if(na&&l[na])return function(O){for(var $,F=[];!($=O.next()).done;)F.push($.value);return F}(l[na]());var c=fn(l);return(c==ji?Ag:c==Hn?ad:Ea)(l)}function Es(l){return l?(l=Yn(l))===Zr||l===-Zr?17976931348623157e292*(l<0?-1:1):l==l?l:0:0===l?l:0}function ke(l){var c=Es(l),d=c%1;return c==c?d?c-d:c:0}function vf(l){return l?Js(ke(l),0,hs):0}function Yn(l){if("number"==typeof l)return l;if(Ri(l))return NaN;if(Nt(l)){var c="function"==typeof l.valueOf?l.valueOf():l;l=Nt(c)?c+"":c}if("string"!=typeof l)return 0===l?l:+l;l=Cg(l);var d=KT.test(l);return d||QT.test(l)?_n(l.slice(2),d?2:8):js.test(l)?NaN:+l}function ry(l){return tn(l,Fn(l))}function st(l){return null==l?"":Ln(l)}var yE=wo(function(l,c){if(Pl(c)||Kn(c))tn(c,pn(c),l);else for(var d in c)Ie.call(c,d)&&Yc(l,d,c[d])}),vE=wo(function(l,c){tn(c,Fn(c),l)}),va=wo(function(l,c,d,g){tn(c,Fn(c),l,g)}),_E=wo(function(l,c,d,g){tn(c,pn(c),l,g)}),oy=Ji(gl),SE=He(function(l,c){l=bt(l);var d=-1,g=c.length,b=g>2?c[2]:M;for(b&&wn(c[0],c[1],b)&&(g=1);++d<g;)for(var w=c[d],x=Fn(w),I=-1,R=x.length;++I<R;){var H=x[I],q=l[H];(q===M||ce(q,ta[H])&&!Ie.call(l,H))&&(l[H]=w[H])}return l}),Fl=He(function(l){return l.push(M,au),rn(dy,M,l)});function Bl(l,c,d){var g=null==l?M:er(l,c);return g===M?d:g}function Du(l,c){return null!=l&&Hd(l,c,Cd)}var Au=am(function(l,c,d){null!=c&&"function"!=typeof c.toString&&(c=Qs.call(c)),l[c]=d},If(Vn)),wE=am(function(l,c,d){null!=c&&"function"!=typeof c.toString&&(c=Qs.call(c)),Ie.call(l,c)?l[c].push(d):l[c]=[d]},ge),cy=He(yl);function pn(l){return Kn(l)?co(l):Wg(l)}function Fn(l){return Kn(l)?co(l,!0):function(l){if(!Nt(l))return function(l){var c=[];if(null!=l)for(var d in bt(l))c.push(d);return c}(l);var c=Pl(l),d=[];for(var g in l)"constructor"==g&&(c||!Ie.call(l,g))||d.push(g);return d}(l)}var hy=wo(function(l,c,d){po(l,c,d)}),dy=wo(function(l,c,d,g){po(l,c,d,g)}),DE=Ji(function(l,c){var d={};if(null==l)return d;var g=!1;c=lt(c,function(w){return w=_o(w,l),g||(g=w.length>1),w}),tn(l,Vd(l),d),g&&(d=Nn(d,7,um));for(var b=c.length;b--;)Jg(d,c[b]);return d}),AE=Ji(function(l,c){return null==l?{}:function(l,c){return vl(l,c,function(d,g){return Du(l,g)})}(l,c)});function fy(l,c){if(null==l)return{};var d=lt(Vd(l),function(g){return[g]});return c=ge(c),vl(l,d,function(g,b){return c(g,b[0])})}var PE=cm(pn),gy=cm(Fn);function Ea(l){return null==l?[]:Dg(l,pn(l))}var IE=pa(function(l,c,d){return c=c.toLowerCase(),l+(d?Ef(c):c)});function Ef(l){return ku(st(l).toLowerCase())}function wf(l){return(l=st(l))&&l.replace(Ab,ix).replace(Ob,"")}var NE=pa(function(l,c,d){return l+(d?"-":"")+c.toLowerCase()}),RE=pa(function(l,c,d){return l+(d?" ":"")+c.toLowerCase()}),Gx=rm("toLowerCase"),$E=pa(function(l,c,d){return l+(d?"_":"")+c.toLowerCase()}),Af=pa(function(l,c,d){return l+(d?" ":"")+ku(c)}),Sy=pa(function(l,c,d){return l+(d?" ":"")+c.toUpperCase()}),ku=rm("toUpperCase");function xf(l,c,d){return l=st(l),(c=d?M:c)===M?function(O){return zi.test(O)}(l)?function(O){return O.match(nl)||[]}(l):function(O){return O.match(xc)||[]}(l):l.match(c)||[]}var Mf=He(function(l,c){try{return rn(l,M,c)}catch(d){return is(d)?d:new Ae(d)}}),Ey=Ji(function(l,c){return Mn(c,function(d){d=es(d),di(l,d,hf(l[d],l))}),l});function If(l){return function(){return l}}var jx=dS(),wa=dS(!0);function Vn(l){return l}function xo(l){return oS("function"==typeof l?l:Nn(l,1))}var Of=He(function(l,c){return function(d){return yl(d,l,c)}}),wy=He(function(l,c){return function(d){return yl(l,d,c)}});function Nf(l,c,d){var g=pn(c),b=ca(c,g);null==d&&(!Nt(c)||!b.length&&g.length)&&(d=c,c=l,l=this,b=ca(c,pn(c)));var w=!(Nt(d)&&"chain"in d&&!d.chain),x=Ni(l);return Mn(b,function(I){var R=c[I];l[I]=R,x&&(l.prototype[I]=function(){var H=this.__chain__;if(w||H){var q=l(this.__wrapped__),z=q.__actions__=ln(this.__actions__);return z.push({func:R,args:arguments,thisArg:l}),q.__chain__=H,q}return R.apply(l,an([this.value()],arguments))})}),l}function Rf(){}var zE=Od(lt),KE=Od(Oc),Dy=Od(id);function Mo(l){return Gd(l)?rl(es(l)):function(l){return function(c){return er(c,l)}}(l)}var YE=lm(),QE=lm(!0);function Ir(){return[]}function Ff(){return!1}var St=Id(function(l,c){return l+c},0),Vf=Rd("ceil"),zx=Id(function(l,c){return l/c},1),ir=Rd("floor"),Ty=Id(function(l,c){return l*c},1),xy=Rd("round"),My=Id(function(l,c){return l-c},0);return E.after=function(l,c){if("function"!=typeof c)throw new li(Tn);return l=ke(l),function(){if(--l<1)return c.apply(this,arguments)}},E.ary=uf,E.assign=yE,E.assignIn=vE,E.assignInWith=va,E.assignWith=_E,E.at=oy,E.before=Um,E.bind=hf,E.bindAll=Ey,E.bindKey=jm,E.castArray=function(){if(!arguments.length)return[];var l=arguments[0];return he(l)?l:[l]},E.chain=Rm,E.chunk=function(l,c,d){c=(d?wn(l,c,d):c===M)?1:Xt(ke(c),0);var g=null==l?0:l.length;if(!g||c<1)return[];for(var b=0,w=0,x=F(Ft(g/c));b<g;)x[w++]=xi(l,b,b+=c);return x},E.compact=function(l){for(var c=-1,d=null==l?0:l.length,g=0,b=[];++c<d;){var w=l[c];w&&(b[g++]=w)}return b},E.concat=function(){var l=arguments.length;if(!l)return[];for(var c=F(l-1),d=arguments[0],g=l;g--;)c[g-1]=arguments[g];return an(he(d)?ln(d):[d],dn(c,1))},E.cond=function(l){var c=null==l?0:l.length,d=ge();return l=c?lt(l,function(g){if("function"!=typeof g[1])throw new li(Tn);return[d(g[0]),g[1]]}):[],He(function(g){for(var b=-1;++b<c;){var w=l[b];if(rn(w[0],this,g))return rn(w[1],this,g)}})},E.conforms=function(l){return function(l){var c=pn(l);return function(d){return qg(d,l,c)}}(Nn(l,1))},E.constant=If,E.countBy=Vm,E.create=function(l,c){var d=Zs(l);return null==c?d:Hg(d,c)},E.curry=function To(l,c,d){var g=Ii(l,8,M,M,M,M,M,c=d?M:c);return g.placeholder=To.placeholder,g},E.curryRight=function ts(l,c,d){var g=Ii(l,16,M,M,M,M,M,c=d?M:c);return g.placeholder=ts.placeholder,g},E.debounce=tE,E.defaults=SE,E.defaultsDeep=Fl,E.defer=Ix,E.delay=Wm,E.difference=Zd,E.differenceBy=Jd,E.differenceWith=Xd,E.drop=function(l,c,d){var g=null==l?0:l.length;return g?xi(l,(c=d||c===M?1:ke(c))<0?0:c,g):[]},E.dropRight=function(l,c,d){var g=null==l?0:l.length;return g?xi(l,0,(c=g-(c=d||c===M?1:ke(c)))<0?0:c):[]},E.dropRightWhile=function(l,c){return l&&l.length?da(l,ge(c,3),!0,!0):[]},E.dropWhile=function(l,c){return l&&l.length?da(l,ge(c,3),!0):[]},E.fill=function(l,c,d,g){var b=null==l?0:l.length;return b?(d&&"number"!=typeof d&&wn(l,c,d)&&(d=0,g=b),function(l,c,d,g){var b=l.length;for((d=ke(d))<0&&(d=-d>b?0:b+d),(g=g===M||g>b?b:ke(g))<0&&(g+=b),g=d>g?0:vf(g);d<g;)l[d++]=c;return l}(l,c,d,g)):[]},E.filter=function(l,c){return(he(l)?ai:la)(l,ge(c,3))},E.flatMap=function(l,c){return dn(cf(l,c),1)},E.flatMapDeep=function(l,c){return dn(cf(l,c),Zr)},E.flatMapDepth=function(l,c,d){return d=d===M?1:ke(d),dn(cf(l,c),d)},E.flatten=xl,E.flattenDeep=function(l){return null!=l&&l.length?dn(l,Zr):[]},E.flattenDepth=function(l,c){return null!=l&&l.length?dn(l,c=c===M?1:ke(c)):[]},E.flip=function(l){return Ii(l,512)},E.flow=jx,E.flowRight=wa,E.fromPairs=function(l){for(var c=-1,d=null==l?0:l.length,g={};++c<d;){var b=l[c];g[b[0]]=b[1]}return g},E.functions=function(l){return null==l?[]:ca(l,pn(l))},E.functionsIn=function(l){return null==l?[]:ca(l,Fn(l))},E.groupBy=$m,E.initial=function(l){return null!=l&&l.length?xi(l,0,-1):[]},E.intersection=yu,E.intersectionBy=nf,E.intersectionWith=Dm,E.invert=Au,E.invertBy=wE,E.invokeMap=Hm,E.iteratee=xo,E.keyBy=KS,E.keys=pn,E.keysIn=Fn,E.map=cf,E.mapKeys=function(l,c){var d={};return c=ge(c,3),Rn(l,function(g,b,w){di(d,c(g,b,w),g)}),d},E.mapValues=function(l,c){var d={};return c=ge(c,3),Rn(l,function(g,b,w){di(d,b,c(g,b,w))}),d},E.matches=function(l){return Yt(Nn(l,1))},E.matchesProperty=function(l,c){return tu(l,Nn(c,1))},E.memoize=Rl,E.merge=hy,E.mergeWith=dy,E.method=Of,E.methodOf=wy,E.mixin=Nf,E.negate=df,E.nthArg=function(l){return l=ke(l),He(function(c){return zg(c,l)})},E.omit=DE,E.omitBy=function(l,c){return fy(l,df(ge(c)))},E.once=function(l){return Um(2,l)},E.orderBy=function(l,c,d,g){return null==l?[]:(he(c)||(c=null==c?[]:[c]),he(d=g?M:d)||(d=null==d?[]:[d]),fi(l,c,d))},E.over=zE,E.overArgs=nE,E.overEvery=KE,E.overSome=Dy,E.partial=Su,E.partialRight=Km,E.partition=bu,E.pick=AE,E.pickBy=fy,E.property=Mo,E.propertyOf=function(l){return function(c){return null==l?M:er(l,c)}},E.pull=wS,E.pullAll=Pm,E.pullAllBy=function(l,c,d){return l&&l.length&&c&&c.length?ms(l,c,ge(d,2)):l},E.pullAllWith=function(l,c,d){return l&&l.length&&c&&c.length?ms(l,c,M,d):l},E.pullAt=mi,E.range=YE,E.rangeRight=QE,E.rearg=iE,E.reject=function(l,c){return(he(l)?ai:la)(l,df(ge(c,3)))},E.remove=function(l,c){var d=[];if(!l||!l.length)return d;var g=-1,b=[],w=l.length;for(c=ge(c,3);++g<w;){var x=l[g];c(x,g,l)&&(d.push(x),b.push(g))}return Dd(l,b),d},E.rest=function(l,c){if("function"!=typeof l)throw new li(Tn);return He(l,c=c===M?c:ke(c))},E.reverse=vu,E.sampleSize=function(l,c,d){return c=(d?wn(l,c,d):c===M)?1:ke(c),(he(l)?ra:pi)(l,c)},E.set=function(l,c,d){return null==l?l:mo(l,c,d)},E.setWith=function(l,c,d,g){return g="function"==typeof g?g:M,null==l?l:mo(l,c,d,g)},E.shuffle=function(l){return(he(l)?bd:Qg)(l)},E.slice=function(l,c,d){var g=null==l?0:l.length;return g?(d&&"number"!=typeof d&&wn(l,c,d)?(c=0,d=g):(c=null==c?0:ke(c),d=d===M?g:ke(d)),xi(l,c,d)):[]},E.sortBy=eE,E.sortedUniq=function(l){return l&&l.length?Zg(l):[]},E.sortedUniqBy=function(l,c){return l&&l.length?Zg(l,ge(c,2)):[]},E.split=function(l,c,d){return d&&"number"!=typeof d&&wn(l,c,d)&&(c=d=M),(d=d===M?hs:d>>>0)?(l=st(l))&&("string"==typeof c||null!=c&&!iy(c))&&!(c=Ln(c))&&al(l)?Mi(_t(l),0,d):l.split(c,d):[]},E.spread=function(l,c){if("function"!=typeof l)throw new li(Tn);return c=null==c?0:Xt(ke(c),0),He(function(d){var g=d[c],b=Mi(d,0,c);return g&&an(b,g),rn(l,this,b)})},E.tail=function(l){var c=null==l?0:l.length;return c?xi(l,1,c):[]},E.take=function(l,c,d){return l&&l.length?xi(l,0,(c=d||c===M?1:ke(c))<0?0:c):[]},E.takeRight=function(l,c,d){var g=null==l?0:l.length;return g?xi(l,(c=g-(c=d||c===M?1:ke(c)))<0?0:c,g):[]},E.takeRightWhile=function(l,c){return l&&l.length?da(l,ge(c,3),!1,!0):[]},E.takeWhile=function(l,c){return l&&l.length?da(l,ge(c,3)):[]},E.tap=function(l,c){return c(l),l},E.throttle=function(l,c,d){var g=!0,b=!0;if("function"!=typeof l)throw new li(Tn);return Nt(d)&&(g="leading"in d?!!d.leading:g,b="trailing"in d?!!d.trailing:b),tE(l,c,{leading:g,maxWait:c,trailing:b})},E.thru=Ol,E.toArray=sy,E.toPairs=PE,E.toPairsIn=gy,E.toPath=function(l){return he(l)?lt(l,es):Ri(l)?[l]:ln(Kd(st(l)))},E.toPlainObject=ry,E.transform=function(l,c,d){var g=he(l),b=g||Ss(l)||Ll(l);if(c=ge(c,4),null==d){var w=l&&l.constructor;d=b?g?new w:[]:Nt(l)&&Ni(w)?Zs(_e(l)):{}}return(b?Mn:Rn)(l,function(x,I,R){return c(d,x,I,R)}),d},E.unary=function(l){return uf(l,1)},E.union=_s,E.unionBy=Il,E.unionWith=xm,E.uniq=function(l){return l&&l.length?Zi(l):[]},E.uniqBy=function(l,c){return l&&l.length?Zi(l,ge(c,2)):[]},E.uniqWith=function(l,c){return c="function"==typeof c?c:M,l&&l.length?Zi(l,M,c):[]},E.unset=function(l,c){return null==l||Jg(l,c)},E.unzip=Om,E.unzipWith=LS,E.update=function(l,c,d){return null==l?l:ha(l,c,_l(d))},E.updateWith=function(l,c,d,g){return g="function"==typeof g?g:M,null==l?l:ha(l,c,_l(d),g)},E.values=Ea,E.valuesIn=function(l){return null==l?[]:Dg(l,Fn(l))},E.without=sf,E.words=xf,E.wrap=function(l,c){return Su(_l(c),l)},E.xor=rf,E.xorBy=of,E.xorWith=Px,E.zip=kx,E.zipObject=function(l,c){return Xg(l||[],c||[],Yc)},E.zipObjectDeep=function(l,c){return Xg(l||[],c||[],mo)},E.zipWith=VS,E.entries=PE,E.entriesIn=gy,E.extend=vE,E.extendWith=va,Nf(E,E),E.add=St,E.attempt=Mf,E.camelCase=IE,E.capitalize=Ef,E.ceil=Vf,E.clamp=function(l,c,d){return d===M&&(d=c,c=M),d!==M&&(d=(d=Yn(d))==d?d:0),c!==M&&(c=(c=Yn(c))==c?c:0),Js(Yn(l),c,d)},E.clone=function(l){return Nn(l,4)},E.cloneDeep=function(l){return Nn(l,5)},E.cloneDeepWith=function(l,c){return Nn(l,5,c="function"==typeof c?c:M)},E.cloneWith=function(l,c){return Nn(l,4,c="function"==typeof c?c:M)},E.conformsTo=function(l,c){return null==c||qg(l,c,pn(c))},E.deburr=wf,E.defaultTo=function(l,c){return null==l||l!=l?c:l},E.divide=zx,E.endsWith=function(l,c,d){l=st(l),c=Ln(c);var g=l.length,b=d=d===M?g:Js(ke(d),0,g);return(d-=c.length)>=0&&l.slice(d,b)==c},E.eq=ce,E.escape=function(l){return(l=st(l))&&zh.test(l)?l.replace(Tc,sx):l},E.escapeRegExp=function(l){return(l=st(l))&&Kh.test(l)?l.replace(hg,"\\$&"):l},E.every=function(l,c,d){var g=he(l)?Oc:nS;return d&&wn(l,c,d)&&(c=M),g(l,ge(c,3))},E.find=jS,E.findIndex=ef,E.findKey=function(l,c){return sl(l,ge(c,3),Rn)},E.findLast=WS,E.findLastIndex=mu,E.findLastKey=function(l,c){return sl(l,ge(c,3),Wn)},E.floor=ir,E.forEach=ya,E.forEachRight=Bm,E.forIn=function(l,c){return null==l?l:Xc(l,ge(c,3),Fn)},E.forInRight=function(l,c){return null==l?l:wd(l,ge(c,3),Fn)},E.forOwn=function(l,c){return l&&Rn(l,ge(c,3))},E.forOwnRight=function(l,c){return l&&Wn(l,ge(c,3))},E.get=Bl,E.gt=G,E.gte=Zm,E.has=function(l,c){return null!=l&&Hd(l,c,ml)},E.hasIn=Du,E.head=Cm,E.identity=Vn,E.includes=function(l,c,d,g){l=Kn(l)?l:Ea(l),d=d&&!g?ke(d):0;var b=l.length;return d<0&&(d=Xt(b+d,0)),mf(l)?d<=b&&l.indexOf(c,d)>-1:!!b&&Ht(l,c,d)>-1},E.indexOf=function(l,c,d){var g=null==l?0:l.length;if(!g)return-1;var b=null==d?0:ke(d);return b<0&&(b=Xt(g+b,0)),Ht(l,c,b)},E.inRange=function(l,c,d){return c=Es(c),d===M?(d=c,c=0):d=Es(d),function(l,c,d){return l>=en(c,d)&&l<Xt(c,d)}(l=Yn(l),c,d)},E.invoke=cy,E.isArguments=bs,E.isArray=he,E.isArrayBuffer=Jm,E.isArrayLike=Kn,E.isArrayLikeObject=Ot,E.isBoolean=function(l){return!0===l||!1===l||Rt(l)&&Kt(l)==Wo},E.isBuffer=Ss,E.isDate=Xm,E.isElement=function(l){return Rt(l)&&1===l.nodeType&&!Cu(l)},E.isEmpty=function(l){if(null==l)return!0;if(Kn(l)&&(he(l)||"string"==typeof l||"function"==typeof l.splice||Ss(l)||Ll(l)||bs(l)))return!l.length;var c=fn(l);if(c==ji||c==Hn)return!l.size;if(Pl(l))return!Wg(l).length;for(var d in l)if(Ie.call(l,d))return!1;return!0},E.isEqual=function(l,c){return eu(l,c)},E.isEqualWith=function(l,c,d){var g=(d="function"==typeof d?d:M)?d(l,c):M;return g===M?eu(l,c,M,d):!!g},E.isError=is,E.isFinite=function(l){return"number"==typeof l&&qc(l)},E.isFunction=Ni,E.isInteger=wu,E.isLength=pf,E.isMap=dE,E.isMatch=function(l,c){return l===c||jg(l,c,Bd(c))},E.isMatchWith=function(l,c,d){return d="function"==typeof d?d:M,jg(l,c,Bd(c),d)},E.isNaN=function(l){return gE(l)&&l!=+l},E.isNative=function(l){if(mS(l))throw new Ae("Unsupported core-js use. Try https://npms.io/search?q=ponyfill.");return rS(l)},E.isNil=function(l){return null==l},E.isNull=function(l){return null===l},E.isNumber=gE,E.isObject=Nt,E.isObjectLike=Rt,E.isPlainObject=Cu,E.isRegExp=iy,E.isSafeInteger=function(l){return wu(l)&&l>=-vr&&l<=vr},E.isSet=mE,E.isString=mf,E.isSymbol=Ri,E.isTypedArray=Ll,E.isUndefined=function(l){return l===M},E.isWeakMap=function(l){return Rt(l)&&fn(l)==Pc},E.isWeakSet=function(l){return Rt(l)&&"[object WeakSet]"==Kt(l)},E.join=function(l,c){return null==l?"":hd.call(l,c)},E.kebabCase=NE,E.last=gi,E.lastIndexOf=function(l,c,d){var g=null==l?0:l.length;if(!g)return-1;var b=g;return d!==M&&(b=(b=ke(d))<0?Xt(g+b,0):en(b,g-1)),c==c?function(O,$,F){for(var ne=F+1;ne--;)if(O[ne]===$)return ne;return ne}(l,c,b):ds(l,Ki,b,!0)},E.lowerCase=RE,E.lowerFirst=Gx,E.lt=xr,E.lte=yf,E.max=function(l){return l&&l.length?Zc(l,Vn,Pr):M},E.maxBy=function(l,c){return l&&l.length?Zc(l,ge(c,2),Pr):M},E.mean=function(l){return Di(l,Vn)},E.meanBy=function(l,c){return Di(l,ge(c,2))},E.min=function(l){return l&&l.length?Zc(l,Vn,fo):M},E.minBy=function(l,c){return l&&l.length?Zc(l,ge(c,2),fo):M},E.stubArray=Ir,E.stubFalse=Ff,E.stubObject=function(){return{}},E.stubString=function(){return""},E.stubTrue=function(){return!0},E.multiply=Ty,E.nth=function(l,c){return l&&l.length?zg(l,ke(c)):M},E.noConflict=function(){return ut._===this&&(ut._=Tg),this},E.noop=Rf,E.now=Nl,E.pad=function(l,c,d){l=st(l);var g=(c=ke(c))?no(l):0;if(!c||g>=c)return l;var b=(c-g)/2;return ou(cl(b),d)+l+ou(Ft(b),d)},E.padEnd=function(l,c,d){l=st(l);var g=(c=ke(c))?no(l):0;return c&&g<c?l+ou(c-g,d):l},E.padStart=function(l,c,d){l=st(l);var g=(c=ke(c))?no(l):0;return c&&g<c?ou(c-g,d)+l:l},E.parseInt=function(l,c,d){return d||null==c?c=0:c&&(c=+c),On(st(l).replace(De,""),c||0)},E.random=function(l,c,d){if(d&&"boolean"!=typeof d&&wn(l,c,d)&&(c=d=M),d===M&&("boolean"==typeof c?(d=c,c=M):"boolean"==typeof l&&(d=l,l=M)),l===M&&c===M?(l=0,c=1):(l=Es(l),c===M?(c=l,l=0):c=Es(c)),l>c){var g=l;l=c,c=g}if(d||l%1||c%1){var b=Qi();return en(l+b*(c-l+Gn("1e-"+((b+"").length-1))),c)}return Ad(l,c)},E.reduce=function(l,c,d){var g=he(l)?ht:ol,b=arguments.length<3;return g(l,ge(c,4),d,b,Xs)},E.reduceRight=function(l,c,d){var g=he(l)?Fb:ol,b=arguments.length<3;return g(l,ge(c,4),d,b,Ed)},E.repeat=function(l,c,d){return c=(d?wn(l,c,d):c===M)?1:ke(c),Kg(st(l),c)},E.replace=function(){var l=arguments,c=st(l[0]);return l.length<3?c:c.replace(l[1],l[2])},E.result=function(l,c,d){var g=-1,b=(c=_o(c,l)).length;for(b||(b=1,l=M);++g<b;){var w=null==l?M:l[es(c[g])];w===M&&(g=b,w=d),l=Ni(w)?w.call(l):w}return l},E.round=xy,E.runInContext=O,E.sample=function(l){return(he(l)?Bg:Yg)(l)},E.size=function(l){if(null==l)return 0;if(Kn(l))return mf(l)?no(l):l.length;var c=fn(l);return c==ji||c==Hn?l.size:Wg(l).length},E.snakeCase=$E,E.some=function(l,c,d){var g=he(l)?id:cS;return d&&wn(l,c,d)&&(c=M),g(l,ge(c,3))},E.sortedIndex=function(l,c){return nu(l,c)},E.sortedIndexBy=function(l,c,d){return Pd(l,c,ge(d,2))},E.sortedIndexOf=function(l,c){var d=null==l?0:l.length;if(d){var g=nu(l,c);if(g<d&&ce(l[g],c))return g}return-1},E.sortedLastIndex=function(l,c){return nu(l,c,!0)},E.sortedLastIndexBy=function(l,c,d){return Pd(l,c,ge(d,2),!0)},E.sortedLastIndexOf=function(l,c){if(null!=l&&l.length){var g=nu(l,c,!0)-1;if(ce(l[g],c))return g}return-1},E.startCase=Af,E.startsWith=function(l,c,d){return l=st(l),d=null==d?0:Js(ke(d),0,l.length),c=Ln(c),l.slice(d,d+c.length)==c},E.subtract=My,E.sum=function(l){return l&&l.length?rd(l,Vn):0},E.sumBy=function(l,c){return l&&l.length?rd(l,ge(c,2)):0},E.template=function(l,c,d){var g=E.templateSettings;d&&wn(l,c,d)&&(c=M),l=st(l),c=va({},c,g,Sn);var I,R,b=va({},c.imports,g.imports,Sn),w=pn(b),x=Dg(b,w),H=0,q=c.interpolate||Yh,z="__p += '",J=Dt((c.escape||Yh).source+"|"+q.source+"|"+(q===le?Cb:Yh).source+"|"+(c.evaluate||Yh).source+"|$","g"),oe="//# sourceURL="+(Ie.call(c,"sourceURL")?(c.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++bg+"]")+"\n";l.replace(J,function(be,Le,Ke,Qn,Cn,Li){return Ke||(Ke=Qn),z+=l.slice(H,Li).replace(Pb,rx),Le&&(I=!0,z+="' +\n__e("+Le+") +\n'"),Cn&&(R=!0,z+="';\n"+Cn+";\n__p += '"),Ke&&(z+="' +\n((__t = ("+Ke+")) == null ? '' : __t) +\n'"),H=Li+be.length,be}),z+="';\n";var ve=Ie.call(c,"variable")&&c.variable;if(ve){if(ri.test(ve))throw new Ae("Invalid `variable` option passed into `_.template`")}else z="with (obj) {\n"+z+"\n}\n";z=(R?z.replace(_b,""):z).replace(bb,"$1").replace(Sb,"$1;"),z="function("+(ve||"obj")+") {\n"+(ve?"":"obj || (obj = {});\n")+"var __t, __p = ''"+(I?", __e = _.escape":"")+(R?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+z+"return __p\n}";var Re=Mf(function(){return it(w,oe+"return "+z).apply(M,x)});if(Re.source=z,is(Re))throw Re;return Re},E.times=function(l,c){if((l=ke(l))<1||l>vr)return[];var d=hs,g=en(l,hs);c=ge(c),l-=hs;for(var b=wg(g,c);++d<l;)c(d);return b},E.toFinite=Es,E.toInteger=ke,E.toLength=vf,E.toLower=function(l){return st(l).toLowerCase()},E.toNumber=Yn,E.toSafeInteger=function(l){return l?Js(ke(l),-vr,vr):0===l?l:0},E.toString=st,E.toUpper=function(l){return st(l).toUpperCase()},E.trim=function(l,c,d){if((l=st(l))&&(d||c===M))return Cg(l);if(!l||!(c=Ln(c)))return l;var g=_t(l),b=_t(c);return Mi(g,$b(g,b),Hb(g,b)+1).join("")},E.trimEnd=function(l,c,d){if((l=st(l))&&(d||c===M))return l.slice(0,ld(l)+1);if(!l||!(c=Ln(c)))return l;var g=_t(l);return Mi(g,0,Hb(g,_t(c))+1).join("")},E.trimStart=function(l,c,d){if((l=st(l))&&(d||c===M))return l.replace(De,"");if(!l||!(c=Ln(c)))return l;var g=_t(l);return Mi(g,$b(g,_t(c))).join("")},E.truncate=function(l,c){var d=30,g="...";if(Nt(c)){var b="separator"in c?c.separator:b;d="length"in c?ke(c.length):d,g="omission"in c?Ln(c.omission):g}var w=(l=st(l)).length;if(al(l)){var x=_t(l);w=x.length}if(d>=w)return l;var I=d-no(g);if(I<1)return g;var R=x?Mi(x,0,I).join(""):l.slice(0,I);if(b===M)return R+g;if(x&&(I+=R.length-I),iy(b)){if(l.slice(I).search(b)){var H,q=R;for(b.global||(b=Dt(b.source,st(Db.exec(b))+"g")),b.lastIndex=0;H=b.exec(q);)var z=H.index;R=R.slice(0,z===M?I:z)}}else if(l.indexOf(Ln(b),I)!=I){var J=R.lastIndexOf(b);J>-1&&(R=R.slice(0,J))}return R+g},E.unescape=function(l){return(l=st(l))&&Oe.test(l)?l.replace(et,qb):l},E.uniqueId=function(l){var c=++jb;return st(l)+c},E.upperCase=Sy,E.upperFirst=ku,E.each=ya,E.eachRight=Bm,E.first=Cm,Nf(E,function(){var l={};return Rn(E,function(c,d){Ie.call(E.prototype,d)||(l[d]=c)}),l}(),{chain:!1}),E.VERSION="4.17.21",Mn(["bind","bindKey","curry","curryRight","partial","partialRight"],function(l){E[l].placeholder=E}),Mn(["drop","take"],function(l,c){ye.prototype[l]=function(d){d=d===M?1:Xt(ke(d),0);var g=this.__filtered__&&!c?new ye(this):this.clone();return g.__filtered__?g.__takeCount__=en(d,g.__takeCount__):g.__views__.push({size:en(d,hs),type:l+(g.__dir__<0?"Right":"")}),g},ye.prototype[l+"Right"]=function(d){return this.reverse()[l](d).reverse()}}),Mn(["filter","map","takeWhile"],function(l,c){var d=c+1,g=1==d||3==d;ye.prototype[l]=function(b){var w=this.clone();return w.__iteratees__.push({iteratee:ge(b,3),type:d}),w.__filtered__=w.__filtered__||g,w}}),Mn(["head","last"],function(l,c){var d="take"+(c?"Right":"");ye.prototype[l]=function(){return this[d](1).value()[0]}}),Mn(["initial","tail"],function(l,c){var d="drop"+(c?"":"Right");ye.prototype[l]=function(){return this.__filtered__?new ye(this):this[d](1)}}),ye.prototype.compact=function(){return this.filter(Vn)},ye.prototype.find=function(l){return this.filter(l).head()},ye.prototype.findLast=function(l){return this.reverse().find(l)},ye.prototype.invokeMap=He(function(l,c){return"function"==typeof l?new ye(this):this.map(function(d){return yl(d,l,c)})}),ye.prototype.reject=function(l){return this.filter(df(ge(l)))},ye.prototype.slice=function(l,c){l=ke(l);var d=this;return d.__filtered__&&(l>0||c<0)?new ye(d):(l<0?d=d.takeRight(-l):l&&(d=d.drop(l)),c!==M&&(d=(c=ke(c))<0?d.dropRight(-c):d.take(c-l)),d)},ye.prototype.takeRightWhile=function(l){return this.reverse().takeWhile(l).reverse()},ye.prototype.toArray=function(){return this.take(hs)},Rn(ye.prototype,function(l,c){var d=/^(?:filter|find|map|reject)|While$/.test(c),g=/^(?:head|last)$/.test(c),b=E[g?"take"+("last"==c?"Right":""):c],w=g||/^find/.test(c);!b||(E.prototype[c]=function(){var x=this.__wrapped__,I=g?[1]:arguments,R=x instanceof ye,H=I[0],q=R||he(x),z=function(Le){var Ke=b.apply(E,an([Le],I));return g&&J?Ke[0]:Ke};q&&d&&"function"==typeof H&&1!=H.length&&(R=q=!1);var J=this.__chain__,oe=!!this.__actions__.length,ve=w&&!J,Re=R&&!oe;if(!w&&q){x=Re?x:new ye(this);var be=l.apply(x,I);return be.__actions__.push({func:Ol,args:[z],thisArg:M}),new ki(be,J)}return ve&&Re?l.apply(this,I):(be=this.thru(z),ve?g?be.value()[0]:be.value():be)})}),Mn(["pop","push","shift","sort","splice","unshift"],function(l){var c=Lc[l],d=/^(?:push|sort|unshift)$/.test(l)?"tap":"thru",g=/^(?:pop|shift)$/.test(l);E.prototype[l]=function(){var b=arguments;if(g&&!this.__chain__){var w=this.value();return c.apply(he(w)?w:[],b)}return this[d](function(x){return c.apply(he(x)?x:[],b)})}}),Rn(ye.prototype,function(l,c){var d=E[c];if(d){var g=d.name+"";Ie.call(Cr,g)||(Cr[g]=[]),Cr[g].push({name:c,func:d})}}),Cr[El(M,2).name]=[{name:"wrapper",func:M}],ye.prototype.clone=function(){var l=new ye(this.__wrapped__);return l.__actions__=ln(this.__actions__),l.__dir__=this.__dir__,l.__filtered__=this.__filtered__,l.__iteratees__=ln(this.__iteratees__),l.__takeCount__=this.__takeCount__,l.__views__=ln(this.__views__),l},ye.prototype.reverse=function(){if(this.__filtered__){var l=new ye(this);l.__dir__=-1,l.__filtered__=!0}else(l=this.clone()).__dir__*=-1;return l},ye.prototype.value=function(){var l=this.__wrapped__.value(),c=this.__dir__,d=he(l),g=c<0,b=d?l.length:0,w=function(l,c,d){for(var g=-1,b=d.length;++g<b;){var w=d[g],x=w.size;switch(w.type){case"drop":l+=x;break;case"dropRight":c-=x;break;case"take":c=en(c,l+x);break;case"takeRight":l=Xt(l,c-x)}}return{start:l,end:c}}(0,b,this.__views__),x=w.start,I=w.end,R=I-x,H=g?I:x-1,q=this.__iteratees__,z=q.length,J=0,oe=en(R,this.__takeCount__);if(!d||!g&&b==R&&oe==R)return vo(l,this.__actions__);var ve=[];e:for(;R--&&J<oe;){for(var Re=-1,be=l[H+=c];++Re<z;){var Le=q[Re],Qn=Le.type,Cn=(0,Le.iteratee)(be);if(2==Qn)be=Cn;else if(!Cn){if(1==Qn)continue e;break e}}ve[J++]=be}return ve},E.prototype.at=_u,E.prototype.chain=function(){return Rm(this)},E.prototype.commit=function(){return new ki(this.value(),this.__chain__)},E.prototype.next=function(){this.__values__===M&&(this.__values__=sy(this.value()));var l=this.__index__>=this.__values__.length;return{done:l,value:l?M:this.__values__[this.__index__++]}},E.prototype.plant=function(l){for(var c,d=this;d instanceof jc;){var g=Qd(d);g.__index__=0,g.__values__=M,c?b.__wrapped__=g:c=g;var b=g;d=d.__wrapped__}return b.__wrapped__=l,c},E.prototype.reverse=function(){var l=this.__wrapped__;if(l instanceof ye){var c=l;return this.__actions__.length&&(c=new ye(this)),(c=c.reverse()).__actions__.push({func:Ol,args:[vu],thisArg:M}),new ki(c,this.__chain__)}return this.thru(vu)},E.prototype.toJSON=E.prototype.valueOf=E.prototype.value=function(){return vo(this.__wrapped__,this.__actions__)},E.prototype.first=E.prototype.head,na&&(E.prototype[na]=function(){return this}),E}();ut._=ea,(Ui=function(){return ea}.call(Et,Bt,Et,Vt))!==M&&(Vt.exports=Ui)}.call(this)},506:(Vt,Et,Bt)=>{"use strict";var Ui={};function M(n){return"function"==typeof n}Bt.r(Ui),Bt.d(Ui,{afterMain:()=>$L,afterRead:()=>FL,afterWrite:()=>GL,applyStyles:()=>Zk,arrow:()=>ZL,auto:()=>y_,basePlacements:()=>gh,beforeMain:()=>VL,beforeRead:()=>RL,beforeWrite:()=>HL,bottom:()=>ss,clippingParents:()=>OL,computeStyles:()=>t1,createPopper:()=>l1,createPopperBase:()=>Fj,createPopperLite:()=>$j,detectOverflow:()=>Sh,end:()=>mh,eventListeners:()=>n1,flip:()=>s2,hide:()=>a2,left:()=>wi,main:()=>BL,modifierPhases:()=>UL,offset:()=>l2,placements:()=>Yk,popper:()=>yh,popperGenerator:()=>E_,popperOffsets:()=>a1,preventOverflow:()=>c2,read:()=>LL,reference:()=>NL,right:()=>rs,start:()=>sc,top:()=>Ei,variationPlacements:()=>Kk,viewport:()=>zk,write:()=>qL});let Fh=!1;const ii={Promise:void 0,set useDeprecatedSynchronousErrorHandling(n){if(n){const t=new Error;console.warn("DEPRECATED! RxJS was set to use deprecated synchronous error handling behavior by code at: \n"+t.stack)}else Fh&&console.log("RxJS: Back to a better error behavior. Thank you. <3");Fh=n},get useDeprecatedSynchronousErrorHandling(){return Fh}};function Go(n){setTimeout(()=>{throw n},0)}const Tn={closed:!0,next(n){},error(n){if(ii.useDeprecatedSynchronousErrorHandling)throw n;Go(n)},complete(){}},za=Array.isArray||(n=>n&&"number"==typeof n.length);function Ka(n){return null!==n&&"object"==typeof n}const Wr=(()=>{function n(t){return Error.call(this),this.message=t?`${t.length} errors occurred during unsubscription:\n${t.map((e,i)=>`${i+1}) ${e.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=t,this}return n.prototype=Object.create(Error.prototype),n})();class We{constructor(t){this.closed=!1,this._parentOrParents=null,this._subscriptions=null,t&&(this._ctorUnsubscribe=!0,this._unsubscribe=t)}unsubscribe(){let t;if(this.closed)return;let{_parentOrParents:e,_ctorUnsubscribe:i,_unsubscribe:s,_subscriptions:r}=this;if(this.closed=!0,this._parentOrParents=null,this._subscriptions=null,e instanceof We)e.remove(this);else if(null!==e)for(let o=0;o<e.length;++o)e[o].remove(this);if(M(s)){i&&(this._unsubscribe=void 0);try{s.call(this)}catch(o){t=o instanceof Wr?Vh(o.errors):[o]}}if(za(r)){let o=-1,a=r.length;for(;++o<a;){const u=r[o];if(Ka(u))try{u.unsubscribe()}catch(h){t=t||[],h instanceof Wr?t=t.concat(Vh(h.errors)):t.push(h)}}}if(t)throw new Wr(t)}add(t){let e=t;if(!t)return We.EMPTY;switch(typeof t){case"function":e=new We(t);case"object":if(e===this||e.closed||"function"!=typeof e.unsubscribe)return e;if(this.closed)return e.unsubscribe(),e;if(!(e instanceof We)){const r=e;e=new We,e._subscriptions=[r]}break;default:throw new Error("unrecognized teardown "+t+" added to Subscription.")}let{_parentOrParents:i}=e;if(null===i)e._parentOrParents=this;else if(i instanceof We){if(i===this)return e;e._parentOrParents=[i,this]}else{if(-1!==i.indexOf(this))return e;i.push(this)}const s=this._subscriptions;return null===s?this._subscriptions=[e]:s.push(e),e}remove(t){const e=this._subscriptions;if(e){const i=e.indexOf(t);-1!==i&&e.splice(i,1)}}}var n;function Vh(n){return n.reduce((t,e)=>t.concat(e instanceof Wr?e.errors:e),[])}We.EMPTY=((n=new We).closed=!0,n);const Gs="function"==typeof Symbol?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random();class Ct extends We{constructor(t,e,i){switch(super(),this.syncErrorValue=null,this.syncErrorThrown=!1,this.syncErrorThrowable=!1,this.isStopped=!1,arguments.length){case 0:this.destination=Tn;break;case 1:if(!t){this.destination=Tn;break}if("object"==typeof t){t instanceof Ct?(this.syncErrorThrowable=t.syncErrorThrowable,this.destination=t,t.add(this)):(this.syncErrorThrowable=!0,this.destination=new si(this,t));break}default:this.syncErrorThrowable=!0,this.destination=new si(this,t,e,i)}}[Gs](){return this}static create(t,e,i){const s=new Ct(t,e,i);return s.syncErrorThrowable=!1,s}next(t){this.isStopped||this._next(t)}error(t){this.isStopped||(this.isStopped=!0,this._error(t))}complete(){this.isStopped||(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe())}_next(t){this.destination.next(t)}_error(t){this.destination.error(t),this.unsubscribe()}_complete(){this.destination.complete(),this.unsubscribe()}_unsubscribeAndRecycle(){const{_parentOrParents:t}=this;return this._parentOrParents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parentOrParents=t,this}}class si extends Ct{constructor(t,e,i,s){super(),this._parentSubscriber=t;let r,o=this;M(e)?r=e:e&&(r=e.next,i=e.error,s=e.complete,e!==Tn&&(o=Object.create(e),M(o.unsubscribe)&&this.add(o.unsubscribe.bind(o)),o.unsubscribe=this.unsubscribe.bind(this))),this._context=o,this._next=r,this._error=i,this._complete=s}next(t){if(!this.isStopped&&this._next){const{_parentSubscriber:e}=this;ii.useDeprecatedSynchronousErrorHandling&&e.syncErrorThrowable?this.__tryOrSetError(e,this._next,t)&&this.unsubscribe():this.__tryOrUnsub(this._next,t)}}error(t){if(!this.isStopped){const{_parentSubscriber:e}=this,{useDeprecatedSynchronousErrorHandling:i}=ii;if(this._error)i&&e.syncErrorThrowable?(this.__tryOrSetError(e,this._error,t),this.unsubscribe()):(this.__tryOrUnsub(this._error,t),this.unsubscribe());else if(e.syncErrorThrowable)i?(e.syncErrorValue=t,e.syncErrorThrown=!0):Go(t),this.unsubscribe();else{if(this.unsubscribe(),i)throw t;Go(t)}}}complete(){if(!this.isStopped){const{_parentSubscriber:t}=this;if(this._complete){const e=()=>this._complete.call(this._context);ii.useDeprecatedSynchronousErrorHandling&&t.syncErrorThrowable?(this.__tryOrSetError(t,e),this.unsubscribe()):(this.__tryOrUnsub(e),this.unsubscribe())}else this.unsubscribe()}}__tryOrUnsub(t,e){try{t.call(this._context,e)}catch(i){if(this.unsubscribe(),ii.useDeprecatedSynchronousErrorHandling)throw i;Go(i)}}__tryOrSetError(t,e,i){if(!ii.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{e.call(this._context,i)}catch(s){return ii.useDeprecatedSynchronousErrorHandling?(t.syncErrorValue=s,t.syncErrorThrown=!0,!0):(Go(s),!0)}return!1}_unsubscribe(){const{_parentSubscriber:t}=this;this._context=null,this._parentSubscriber=null,t.unsubscribe()}}const $n="function"==typeof Symbol&&Symbol.observable||"@@observable";function Kr(n){return n}let $e=(()=>{class n{constructor(e){this._isScalar=!1,e&&(this._subscribe=e)}lift(e){const i=new n;return i.source=this,i.operator=e,i}subscribe(e,i,s){const{operator:r}=this,o=function(n,t,e){if(n){if(n instanceof Ct)return n;if(n[Gs])return n[Gs]()}return n||t||e?new Ct(n,t,e):new Ct(Tn)}(e,i,s);if(o.add(r?r.call(o,this.source):this.source||ii.useDeprecatedSynchronousErrorHandling&&!o.syncErrorThrowable?this._subscribe(o):this._trySubscribe(o)),ii.useDeprecatedSynchronousErrorHandling&&o.syncErrorThrowable&&(o.syncErrorThrowable=!1,o.syncErrorThrown))throw o.syncErrorValue;return o}_trySubscribe(e){try{return this._subscribe(e)}catch(i){ii.useDeprecatedSynchronousErrorHandling&&(e.syncErrorThrown=!0,e.syncErrorValue=i),function(n){for(;n;){const{closed:t,destination:e,isStopped:i}=n;if(t||i)return!1;n=e&&e instanceof Ct?e:null}return!0}(e)?e.error(i):console.warn(i)}}forEach(e,i){return new(i=Uo(i))((s,r)=>{let o;o=this.subscribe(a=>{try{e(a)}catch(u){r(u),o&&o.unsubscribe()}},r,s)})}_subscribe(e){const{source:i}=this;return i&&i.subscribe(e)}[$n](){return this}pipe(...e){return 0===e.length?this:function(n){return 0===n.length?Kr:1===n.length?n[0]:function(e){return n.reduce((i,s)=>s(i),e)}}(e)(this)}toPromise(e){return new(e=Uo(e))((i,s)=>{let r;this.subscribe(o=>r=o,o=>s(o),()=>i(r))})}}return n.create=t=>new n(t),n})();function Uo(n){if(n||(n=ii.Promise||Promise),!n)throw new Error("no Promise impl found");return n}const Qr=(()=>{function n(){return Error.call(this),this.message="object unsubscribed",this.name="ObjectUnsubscribedError",this}return n.prototype=Object.create(Error.prototype),n})();class ig extends We{constructor(t,e){super(),this.subject=t,this.subscriber=e,this.closed=!1}unsubscribe(){if(this.closed)return;this.closed=!0;const t=this.subject,e=t.observers;if(this.subject=null,!e||0===e.length||t.isStopped||t.closed)return;const i=e.indexOf(this.subscriber);-1!==i&&e.splice(i,1)}}class sg extends Ct{constructor(t){super(t),this.destination=t}}let Ue=(()=>{class n extends $e{constructor(){super(),this.observers=[],this.closed=!1,this.isStopped=!1,this.hasError=!1,this.thrownError=null}[Gs](){return new sg(this)}lift(e){const i=new Bh(this,this);return i.operator=e,i}next(e){if(this.closed)throw new Qr;if(!this.isStopped){const{observers:i}=this,s=i.length,r=i.slice();for(let o=0;o<s;o++)r[o].next(e)}}error(e){if(this.closed)throw new Qr;this.hasError=!0,this.thrownError=e,this.isStopped=!0;const{observers:i}=this,s=i.length,r=i.slice();for(let o=0;o<s;o++)r[o].error(e);this.observers.length=0}complete(){if(this.closed)throw new Qr;this.isStopped=!0;const{observers:e}=this,i=e.length,s=e.slice();for(let r=0;r<i;r++)s[r].complete();this.observers.length=0}unsubscribe(){this.isStopped=!0,this.closed=!0,this.observers=null}_trySubscribe(e){if(this.closed)throw new Qr;return super._trySubscribe(e)}_subscribe(e){if(this.closed)throw new Qr;return this.hasError?(e.error(this.thrownError),We.EMPTY):this.isStopped?(e.complete(),We.EMPTY):(this.observers.push(e),new ig(this,e))}asObservable(){const e=new $e;return e.source=this,e}}return n.create=(t,e)=>new Bh(t,e),n})();class Bh extends Ue{constructor(t,e){super(),this.destination=t,this.source=e}next(t){const{destination:e}=this;e&&e.next&&e.next(t)}error(t){const{destination:e}=this;e&&e.error&&this.destination.error(t)}complete(){const{destination:t}=this;t&&t.complete&&this.destination.complete()}_subscribe(t){const{source:e}=this;return e?this.source.subscribe(t):We.EMPTY}}function Qa(n){return n&&"function"==typeof n.schedule}function us(n,t){return function(i){if("function"!=typeof n)throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return i.lift(new Zr(n,t))}}class Zr{constructor(t,e){this.project=t,this.thisArg=e}call(t,e){return e.subscribe(new vr(t,this.project,this.thisArg))}}class vr extends Ct{constructor(t,e,i){super(t),this.project=e,this.count=0,this.thisArg=i||this}_next(t){let e;try{e=this.project.call(this.thisArg,t,this.count++)}catch(i){return void this.destination.error(i)}this.destination.next(e)}}const rg=n=>t=>{for(let e=0,i=n.length;e<i&&!t.closed;e++)t.next(n[e]);t.complete()},Sc="function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator",Za=n=>n&&"number"==typeof n.length&&"function"!=typeof n;function og(n){return!!n&&"function"!=typeof n.subscribe&&"function"==typeof n.then}const Wo=n=>{if(n&&"function"==typeof n[$n])return(n=>t=>{const e=n[$n]();if("function"!=typeof e.subscribe)throw new TypeError("Provided object does not correctly implement Symbol.observable");return e.subscribe(t)})(n);if(Za(n))return rg(n);if(og(n))return(n=>t=>(n.then(e=>{t.closed||(t.next(e),t.complete())},e=>t.error(e)).then(null,Go),t))(n);if(n&&"function"==typeof n[Sc])return(n=>t=>{const e=n[Sc]();for(;;){let i;try{i=e.next()}catch(s){return t.error(s),t}if(i.done){t.complete();break}if(t.next(i.value),t.closed)break}return"function"==typeof e.return&&t.add(()=>{e.return&&e.return()}),t})(n);{const e=`You provided ${Ka(n)?"an invalid object":`'${n}'`} where a stream was expected. You can provide an Observable, Promise, Array, or Iterable.`;throw new TypeError(e)}};function zo(n,t){return new $e(e=>{const i=new We;let s=0;return i.add(t.schedule(function(){s!==n.length?(e.next(n[s++]),e.closed||i.add(this.schedule())):e.complete()})),i})}function wc(n,t){return t?function(n,t){if(null!=n){if(function(n){return n&&"function"==typeof n[$n]}(n))return function(n,t){return new $e(e=>{const i=new We;return i.add(t.schedule(()=>{const s=n[$n]();i.add(s.subscribe({next(r){i.add(t.schedule(()=>e.next(r)))},error(r){i.add(t.schedule(()=>e.error(r)))},complete(){i.add(t.schedule(()=>e.complete()))}}))})),i})}(n,t);if(og(n))return function(n,t){return new $e(e=>{const i=new We;return i.add(t.schedule(()=>n.then(s=>{i.add(t.schedule(()=>{e.next(s),i.add(t.schedule(()=>e.complete()))}))},s=>{i.add(t.schedule(()=>e.error(s)))}))),i})}(n,t);if(Za(n))return zo(n,t);if(function(n){return n&&"function"==typeof n[Sc]}(n)||"string"==typeof n)return function(n,t){if(!n)throw new Error("Iterable cannot be null");return new $e(e=>{const i=new We;let s;return i.add(()=>{s&&"function"==typeof s.return&&s.return()}),i.add(t.schedule(()=>{s=n[Sc](),i.add(t.schedule(function(){if(e.closed)return;let r,o;try{const a=s.next();r=a.value,o=a.done}catch(a){return void e.error(a)}o?e.complete():(e.next(r),this.schedule())}))})),i})}(n,t)}throw new TypeError((null!==n&&typeof n||n)+" is not observable")}(n,t):n instanceof $e?n:new $e(Wo(n))}class Ci extends Ct{constructor(t){super(),this.parent=t}_next(t){this.parent.notifyNext(t)}_error(t){this.parent.notifyError(t),this.unsubscribe()}_complete(){this.parent.notifyComplete(),this.unsubscribe()}}class Cc extends Ct{notifyNext(t){this.destination.next(t)}notifyError(t){this.destination.error(t)}notifyComplete(){this.destination.complete()}}function Hn(n,t){if(t.closed)return;if(n instanceof $e)return n.subscribe(t);let e;try{e=Wo(n)(t)}catch(i){t.error(i)}return e}function Jr(n,t,e=Number.POSITIVE_INFINITY){return"function"==typeof t?i=>i.pipe(Jr((s,r)=>wc(n(s,r)).pipe(us((o,a)=>t(s,o,r,a))),e)):("number"==typeof t&&(e=t),i=>i.lift(new Ac(n,e)))}class Ac{constructor(t,e=Number.POSITIVE_INFINITY){this.project=t,this.concurrent=e}call(t,e){return e.subscribe(new vb(t,this.project,this.concurrent))}}class vb extends Cc{constructor(t,e,i=Number.POSITIVE_INFINITY){super(t),this.project=e,this.concurrent=i,this.hasCompleted=!1,this.buffer=[],this.active=0,this.index=0}_next(t){this.active<this.concurrent?this._tryNext(t):this.buffer.push(t)}_tryNext(t){let e;const i=this.index++;try{e=this.project(t,i)}catch(s){return void this.destination.error(s)}this.active++,this._innerSub(e)}_innerSub(t){const e=new Ci(this),i=this.destination;i.add(e);const s=Hn(t,e);s!==e&&i.add(s)}_complete(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&this.destination.complete(),this.unsubscribe()}notifyNext(t){this.destination.next(t)}notifyComplete(){const t=this.buffer;this.active--,t.length>0?this._next(t.shift()):0===this.active&&this.hasCompleted&&this.destination.complete()}}function lg(n=Number.POSITIVE_INFINITY){return Jr(Kr,n)}function Ko(n,t){return t?zo(n,t):new $e(rg(n))}function _r(...n){let t=Number.POSITIVE_INFINITY,e=null,i=n[n.length-1];return Qa(i)?(e=n.pop(),n.length>1&&"number"==typeof n[n.length-1]&&(t=n.pop())):"number"==typeof i&&(t=n.pop()),null===e&&1===n.length&&n[0]instanceof $e?n[0]:lg(t)(Ko(n,e))}function kc(){return function(t){return t.lift(new $h(t))}}class $h{constructor(t){this.connectable=t}call(t,e){const{connectable:i}=this;i._refCount++;const s=new Hh(t,i),r=e.subscribe(s);return s.closed||(s.connection=i.connect()),r}}class Hh extends Ct{constructor(t,e){super(t),this.connectable=e}_unsubscribe(){const{connectable:t}=this;if(!t)return void(this.connection=null);this.connectable=null;const e=t._refCount;if(e<=0)return void(this.connection=null);if(t._refCount=e-1,e>1)return void(this.connection=null);const{connection:i}=this,s=t._connection;this.connection=null,s&&(!i||s===i)&&s.unsubscribe()}}class qh extends $e{constructor(t,e){super(),this.source=t,this.subjectFactory=e,this._refCount=0,this._isComplete=!1}_subscribe(t){return this.getSubject().subscribe(t)}getSubject(){const t=this._subject;return(!t||t.isStopped)&&(this._subject=this.subjectFactory()),this._subject}connect(){let t=this._connection;return t||(this._isComplete=!1,t=this._connection=new We,t.add(this.source.subscribe(new Uh(this.getSubject(),this))),t.closed&&(this._connection=null,t=We.EMPTY)),t}refCount(){return kc()(this)}}const Gh=(()=>{const n=qh.prototype;return{operator:{value:null},_refCount:{value:0,writable:!0},_subject:{value:null,writable:!0},_connection:{value:null,writable:!0},_subscribe:{value:n._subscribe},_isComplete:{value:n._isComplete,writable:!0},getSubject:{value:n.getSubject},connect:{value:n.connect},refCount:{value:n.refCount}}})();class Uh extends sg{constructor(t,e){super(t),this.connectable=e}_error(t){this._unsubscribe(),super._error(t)}_complete(){this.connectable._isComplete=!0,this._unsubscribe(),super._complete()}_unsubscribe(){const t=this.connectable;if(t){this.connectable=null;const e=t._connection;t._refCount=0,t._subject=null,t._connection=null,e&&e.unsubscribe()}}}function bb(){return new Ue}function et(n){for(let t in n)if(n[t]===et)return t;throw Error("Could not find renamed property on target object.")}function Tc(n,t){for(const e in t)t.hasOwnProperty(e)&&!n.hasOwnProperty(e)&&(n[e]=t[e])}function Oe(n){if("string"==typeof n)return n;if(Array.isArray(n))return"["+n.map(Oe).join(", ")+"]";if(null==n)return""+n;if(n.overriddenName)return`${n.overriddenName}`;if(n.name)return`${n.name}`;const t=n.toString();if(null==t)return""+t;const e=t.indexOf("\n");return-1===e?t:t.substring(0,e)}function zh(n,t){return null==n||""===n?null===t?"":t:null==t||""===t?n:n+" "+t}const Eb=et({__forward_ref__:et});function ft(n){return n.__forward_ref__=ft,n.toString=function(){return Oe(this())},n}function le(n){return ug(n)?n():n}function ug(n){return"function"==typeof n&&n.hasOwnProperty(Eb)&&n.__forward_ref__===ft}class br extends Error{constructor(t,e){super(function(n,t){return`${n?`NG0${n}: `:""}${t}`}(t,e)),this.code=t}}function De(n){return"string"==typeof n?n:null==n?"":String(n)}function xn(n){return"function"==typeof n?n.name||n.toString():"object"==typeof n&&null!=n&&"function"==typeof n.type?n.type.name||n.type.toString():De(n)}function xc(n,t){const e=t?` in ${t}`:"";throw new br("201",`No provider for ${xn(n)} found${e}`)}function oi(n,t){null==n&&function(n,t,e,i){throw new Error(`ASSERTION ERROR: ${n}`+(null==i?"":` [Expected=> ${e} ${i} ${t} <=Actual]`))}(t,n,null,"!=")}function se(n){return{token:n.token,providedIn:n.providedIn||null,factory:n.factory,value:void 0}}function Lt(n){return{providers:n.providers||[],imports:n.imports||[]}}function Ws(n){return dg(n,Yo)||dg(n,Xh)}function dg(n,t){return n.hasOwnProperty(t)?n[t]:null}function Zh(n){return n&&(n.hasOwnProperty(Jh)||n.hasOwnProperty(Mc))?n[Jh]:null}const Yo=et({\u0275prov:et}),Jh=et({\u0275inj:et}),Xh=et({ngInjectableDef:et}),Mc=et({ngInjectorDef:et});var pe=(()=>((pe=pe||{})[pe.Default=0]="Default",pe[pe.Host=1]="Host",pe[pe.Self=2]="Self",pe[pe.SkipSelf=4]="SkipSelf",pe[pe.Optional=8]="Optional",pe))();let ed;function zs(n){const t=ed;return ed=n,t}function Ic(n,t,e){const i=Ws(n);return i&&"root"==i.providedIn?void 0===i.value?i.value=i.factory():i.value:e&pe.Optional?null:void 0!==t?t:void xc(Oe(n),"Injector")}function Ks(n){return{toString:n}.toString()}var qn=(()=>((qn=qn||{})[qn.OnPush=0]="OnPush",qn[qn.Default=1]="Default",qn))(),$t=(()=>(($t=$t||{})[$t.Emulated=0]="Emulated",$t[$t.None=2]="None",$t[$t.ShadowDom=3]="ShadowDom",$t))();const yg="undefined"!=typeof globalThis&&globalThis,xb="undefined"!=typeof window&&window,vg="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,nt=yg||"undefined"!=typeof global&&global||xb||vg,Qo={},ct=[],tl=et({\u0275cmp:et}),td=et({\u0275dir:et}),nd=et({\u0275pipe:et}),_g=et({\u0275mod:et}),Ob=et({\u0275loc:et}),Wi=et({\u0275fac:et}),nl=et({__NG_ELEMENT_ID__:et});let Nb=0;function zi(n){return Ks(()=>{const e={},i={type:n.type,providersResolver:null,decls:n.decls,vars:n.vars,factory:null,template:n.template||null,consts:n.consts||null,ngContentSelectors:n.ngContentSelectors,hostBindings:n.hostBindings||null,hostVars:n.hostVars||0,hostAttrs:n.hostAttrs||null,contentQueries:n.contentQueries||null,declaredInputs:e,inputs:null,outputs:null,exportAs:n.exportAs||null,onPush:n.changeDetection===qn.OnPush,directiveDefs:null,pipeDefs:null,selectors:n.selectors||ct,viewQuery:n.viewQuery||null,features:n.features||null,data:n.data||{},encapsulation:n.encapsulation||$t.Emulated,id:"c",styles:n.styles||ct,_:null,setInput:null,schemas:n.schemas||null,tView:null},s=n.directives,r=n.features,o=n.pipes;return i.id+=Nb++,i.inputs=Sg(n.inputs,e),i.outputs=Sg(n.outputs),r&&r.forEach(a=>a(i)),i.directiveDefs=s?()=>("function"==typeof s?s():s).map(bg):null,i.pipeDefs=o?()=>("function"==typeof o?o():o).map(vt):null,i})}function bg(n){return _n(n)||function(n){return n[td]||null}(n)}function vt(n){return function(n){return n[nd]||null}(n)}const gt={};function Wt(n){return Ks(()=>{const t={type:n.type,bootstrap:n.bootstrap||ct,declarations:n.declarations||ct,imports:n.imports||ct,exports:n.exports||ct,transitiveCompileScopes:null,schemas:n.schemas||null,id:n.id||null};return null!=n.id&&(gt[n.id]=n.type),t})}function Sg(n,t){if(null==n)return Qo;const e={};for(const i in n)if(n.hasOwnProperty(i)){let s=n[i],r=s;Array.isArray(s)&&(r=s[1],s=s[0]),e[s]=i,t&&(t[s]=r)}return e}const re=zi;function Gn(n){return{type:n.type,name:n.name,factory:null,pure:!1!==n.pure,onDestroy:n.type.prototype.ngOnDestroy||null}}function _n(n){return n[tl]||null}function ut(n,t){const e=n[_g]||null;if(!e&&!0===t)throw new Error(`Type ${Oe(n)} does not have '\u0275mod' property.`);return e}function Ki(n){return Array.isArray(n)&&"object"==typeof n[1]}function Di(n){return Array.isArray(n)&&!0===n[1]}function rl(n){return 0!=(8&n.flags)}function Xo(n){return 2==(2&n.flags)}function ol(n){return 1==(1&n.flags)}function Yi(n){return null!==n.template}function rd(n){return 0!=(512&n[2])}function to(n,t){return n.hasOwnProperty(Wi)?n[Wi]:null}class no{constructor(t,e,i){this.previousValue=t,this.currentValue=e,this.firstChange=i}isFirstChange(){return this.firstChange}}function _t(){return ld}function ld(n){return n.type.prototype.ngOnChanges&&(n.setInput=Gb),qb}function qb(){const n=kg(this),t=null==n?void 0:n.current;if(t){const e=n.previous;if(e===Qo)n.previous=t;else for(let i in t)e[i]=t[i];n.current=null,this.ngOnChanges(t)}}function Gb(n,t,e,i){const s=kg(n)||function(n,t){return n[Pg]=t}(n,{previous:Qo,current:null}),r=s.current||(s.current={}),o=s.previous,a=this.declaredInputs[e],u=o[a];r[a]=new no(u&&u.currentValue,t,o===Qo),n[i]=t}_t.ngInherit=!0;const Pg="__ngSimpleChanges__";function kg(n){return n[Pg]||null}const F="http://www.w3.org/2000/svg";let Ae;function Dt(n){return!!n.listen}const li={createRenderer:(n,t)=>void 0!==Ae?Ae:"undefined"!=typeof document?document:void 0};function zt(n){for(;Array.isArray(n);)n=n[0];return n}function io(n,t){return zt(t[n])}function Ie(n,t){return zt(t[n.index])}function Fc(n,t){return n.data[t]}function ci(n,t){const e=t[n];return Ki(e)?e:e[0]}function Tg(n){return 4==(4&n[2])}function ud(n){return 128==(128&n[2])}function In(n,t){return null==t?null:n[t]}function ll(n){n[18]=0}function Bc(n,t){n[5]+=t;let e=n,i=n[3];for(;null!==i&&(1===t&&1===e[5]||-1===t&&0===e[5]);)i[5]+=t,e=i,i=i[3]}const _e={lFrame:sa(null),bindingsEnabled:!0,isInCheckNoChangesMode:!1};function na(){return _e.bindingsEnabled}function W(){return _e.lFrame.lView}function Qe(){return _e.lFrame.tView}function Pi(n){return _e.lFrame.contextLView=n,n[8]}function Ft(){let n=cl();for(;null!==n&&64===n.type;)n=n.parent;return n}function cl(){return _e.lFrame.currentTNode}function ps(n,t){const e=_e.lFrame;e.currentTNode=n,e.isParent=t}function qc(){return _e.lFrame.isParent}function en(){return _e.isInCheckNoChangesMode}function Gc(n){_e.isInCheckNoChangesMode=n}function On(){const n=_e.lFrame;let t=n.bindingRootIndex;return-1===t&&(t=n.bindingRootIndex=n.tView.bindingStartIndex),t}function Qi(){return _e.lFrame.bindingIndex}function wr(){return _e.lFrame.bindingIndex++}function ui(n){const t=_e.lFrame,e=t.bindingIndex;return t.bindingIndex=t.bindingIndex+n,e}function ul(n,t){const e=_e.lFrame;e.bindingIndex=e.bindingRootIndex=n,ia(t)}function ia(n){_e.lFrame.currentDirectiveIndex=n}function Og(){return _e.lFrame.currentQueryIndex}function fd(n){_e.lFrame.currentQueryIndex=n}function zb(n){const t=n[1];return 2===t.type?t.declTNode:1===t.type?n[6]:null}function Ng(n,t,e){if(e&pe.SkipSelf){let s=t,r=n;for(;!(s=s.parent,null!==s||e&pe.Host||(s=zb(r),null===s||(r=r[15],10&s.type))););if(null===s)return!1;t=s,n=r}const i=_e.lFrame=dl();return i.currentTNode=t,i.lView=n,!0}function Uc(n){const t=dl(),e=n[1];_e.lFrame=t,t.currentTNode=e.firstChild,t.lView=n,t.tView=e,t.contextLView=n,t.bindingIndex=e.bindingStartIndex,t.inI18n=!1}function dl(){const n=_e.lFrame,t=null===n?null:n.child;return null===t?sa(n):t}function sa(n){const t={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:n,child:null,inI18n:!1};return null!==n&&(n.child=t),t}function pd(){const n=_e.lFrame;return _e.lFrame=n.parent,n.currentTNode=null,n.lView=null,n}const E=pd;function Zs(){const n=pd();n.isParent=!0,n.tView=null,n.selectedIndex=-1,n.contextLView=null,n.elementDepthCount=0,n.currentDirectiveIndex=-1,n.currentNamespace=null,n.bindingRootIndex=-1,n.bindingIndex=-1,n.currentQueryIndex=0}function ye(){return _e.lFrame.selectedIndex}function Dr(n){_e.lFrame.selectedIndex=n}function It(){const n=_e.lFrame;return Fc(n.tView,n.selectedIndex)}function gd(){_e.lFrame.currentNamespace=F}function md(){_e.lFrame.currentNamespace=null}function Wc(n,t){for(let e=t.directiveStart,i=t.directiveEnd;e<i;e++){const r=n.data[e].type.prototype,{ngAfterContentInit:o,ngAfterContentChecked:a,ngAfterViewInit:u,ngAfterViewChecked:h,ngOnDestroy:f}=r;o&&(n.contentHooks||(n.contentHooks=[])).push(-e,o),a&&((n.contentHooks||(n.contentHooks=[])).push(e,a),(n.contentCheckHooks||(n.contentCheckHooks=[])).push(e,a)),u&&(n.viewHooks||(n.viewHooks=[])).push(-e,u),h&&((n.viewHooks||(n.viewHooks=[])).push(e,h),(n.viewCheckHooks||(n.viewCheckHooks=[])).push(e,h)),null!=f&&(n.destroyHooks||(n.destroyHooks=[])).push(e,f)}}function Ti(n,t,e){Rg(n,t,3,e)}function zc(n,t,e,i){(3&n[2])===e&&Rg(n,t,e,i)}function yd(n,t){let e=n[2];(3&e)===t&&(e&=2047,e+=1,n[2]=e)}function Rg(n,t,e,i){const r=null!=i?i:-1,o=t.length-1;let a=0;for(let u=void 0!==i?65535&n[18]:0;u<o;u++)if("number"==typeof t[u+1]){if(a=t[u],null!=i&&a>=i)break}else t[u]<0&&(n[18]+=65536),(a<r||-1==r)&&(Zb(n,e,t,u),n[18]=(4294901760&n[18])+u+2),u++}function Zb(n,t,e,i){const s=e[i]<0,r=e[i+1],a=n[s?-e[i]:e[i]];if(s){if(n[2]>>11<n[18]>>16&&(3&n[2])===t){n[2]+=2048;try{r.call(a)}finally{}}}else try{r.call(a)}finally{}}class hi{constructor(t,e,i){this.factory=t,this.resolving=!1,this.canSeeViewProviders=e,this.injectImpl=i}}function jn(n,t,e){const i=Dt(n);let s=0;for(;s<e.length;){const r=e[s];if("number"==typeof r){if(0!==r)break;s++;const o=e[s++],a=e[s++],u=e[s++];i?n.setAttribute(t,a,u,o):t.setAttributeNS(o,a,u)}else{const o=r,a=e[++s];_d(o)?i&&n.setProperty(t,o,a):i?n.setAttribute(t,o,a):t.setAttribute(o,a),s++}}return s}function Lg(n){return 3===n||4===n||6===n}function _d(n){return 64===n.charCodeAt(0)}function Kc(n,t){if(null!==t&&0!==t.length)if(null===n||0===n.length)n=t.slice();else{let e=-1;for(let i=0;i<t.length;i++){const s=t[i];"number"==typeof s?e=s:0===e||Fg(n,e,s,null,-1===e||2===e?t[++i]:null)}}return n}function Fg(n,t,e,i,s){let r=0,o=n.length;if(-1===t)o=-1;else for(;r<n.length;){const a=n[r++];if("number"==typeof a){if(a===t){o=-1;break}if(a>t){o=r-1;break}}}for(;r<n.length;){const a=n[r];if("number"==typeof a)break;if(a===e){if(null===i)return void(null!==s&&(n[r+1]=s));if(i===n[r+1])return void(n[r+2]=s)}r++,null!==i&&r++,null!==s&&r++}-1!==o&&(n.splice(o,0,t),r=o+1),n.splice(r++,0,e),null!==i&&n.splice(r++,0,i),null!==s&&n.splice(r++,0,s)}function Vg(n){return-1!==n}function co(n){return 32767&n}function ra(n,t){let e=function(n){return n>>16}(n),i=t;for(;e>0;)i=i[15],e--;return i}let bd=!0;function oa(n){const t=bd;return bd=n,t}let Hg=0;function di(n,t){const e=Js(n,t);if(-1!==e)return e;const i=t[1];i.firstCreatePass&&(n.injectorIndex=t.length,gl(i.data,n),gl(t,null),gl(i.blueprint,null));const s=Nn(n,t),r=n.injectorIndex;if(Vg(s)){const o=co(s),a=ra(s,t),u=a[1].data;for(let h=0;h<8;h++)t[r+h]=a[o+h]|u[o+h]}return t[r+8]=s,r}function gl(n,t){n.push(0,0,0,0,0,0,0,0,t)}function Js(n,t){return-1===n.injectorIndex||n.parent&&n.parent.injectorIndex===n.injectorIndex||null===t[n.injectorIndex+8]?-1:n.injectorIndex}function Nn(n,t){if(n.parent&&-1!==n.parent.injectorIndex)return n.parent.injectorIndex;let e=0,i=null,s=t;for(;null!==s;){const r=s[1],o=r.type;if(i=2===o?r.declTNode:1===o?s[6]:null,null===i)return-1;if(e++,s=s[15],-1!==i.injectorIndex)return i.injectorIndex|e<<16}return-1}function Qc(n,t,e){!function(n,t,e){let i;"string"==typeof e?i=e.charCodeAt(0)||0:e.hasOwnProperty(nl)&&(i=e[nl]),null==i&&(i=e[nl]=Hg++);const s=255&i;t.data[n+(s>>5)]|=1<<s}(n,t,e)}function Sd(n,t,e){if(e&pe.Optional)return n;xc(t,"NodeInjector")}function aa(n,t,e,i){if(e&pe.Optional&&void 0===i&&(i=null),0==(e&(pe.Self|pe.Host))){const s=n[9],r=zs(void 0);try{return s?s.get(t,i,e&pe.Optional):Ic(t,i,e&pe.Optional)}finally{zs(r)}}return Sd(i,t,e)}function Xs(n,t,e,i=pe.Default,s){if(null!==n){const r=function(n){if("string"==typeof n)return n.charCodeAt(0)||0;const t=n.hasOwnProperty(nl)?n[nl]:void 0;return"number"==typeof t?t>=0?255&t:nS:t}(e);if("function"==typeof r){if(!Ng(t,n,i))return i&pe.Host?Sd(s,e,i):aa(t,e,i,s);try{const o=r(i);if(null!=o||i&pe.Optional)return o;xc(e)}finally{E()}}else if("number"==typeof r){let o=null,a=Js(n,t),u=-1,h=i&pe.Host?t[16][6]:null;for((-1===a||i&pe.SkipSelf)&&(u=-1===a?Nn(n,t):t[a+8],-1!==u&&wd(i,!1)?(o=t[1],a=co(u),t=ra(u,t)):a=-1);-1!==a;){const f=t[1];if(Xc(r,a,f.data)){const p=Zc(a,t,e,o,i,h);if(p!==Ed)return p}u=t[a+8],-1!==u&&wd(i,t[1].data[a+8]===h)&&Xc(r,a,t)?(o=f,a=co(u),t=ra(u,t)):a=-1}}}return aa(t,e,i,s)}const Ed={};function nS(){return new Rn(Ft(),W())}function Zc(n,t,e,i,s,r){const o=t[1],a=o.data[n+8],f=Jc(a,o,e,null==i?Xo(a)&&bd:i!=o&&0!=(3&a.type),s&pe.Host&&r===a);return null!==f?la(t,o,f,a):Ed}function Jc(n,t,e,i,s){const r=n.providerIndexes,o=t.data,a=1048575&r,u=n.directiveStart,f=r>>20,v=s?a+f:n.directiveEnd;for(let _=i?a:a+f;_<v;_++){const S=o[_];if(_<u&&e===S||_>=u&&S.type===e)return _}if(s){const _=o[u];if(_&&Yi(_)&&_.type===e)return u}return null}function la(n,t,e,i){let s=n[e];const r=t.data;if(function(n){return n instanceof hi}(s)){const o=s;o.resolving&&function(n,t){throw new br("200",`Circular dependency in DI detected for ${n}`)}(xn(r[e]));const a=oa(o.canSeeViewProviders);o.resolving=!0;const u=o.injectImpl?zs(o.injectImpl):null;Ng(n,i,pe.Default);try{s=n[e]=o.factory(void 0,r,n,i),t.firstCreatePass&&e>=i.directiveStart&&function(n,t,e){const{ngOnChanges:i,ngOnInit:s,ngDoCheck:r}=t.type.prototype;if(i){const o=ld(t);(e.preOrderHooks||(e.preOrderHooks=[])).push(n,o),(e.preOrderCheckHooks||(e.preOrderCheckHooks=[])).push(n,o)}s&&(e.preOrderHooks||(e.preOrderHooks=[])).push(0-n,s),r&&((e.preOrderHooks||(e.preOrderHooks=[])).push(n,r),(e.preOrderCheckHooks||(e.preOrderCheckHooks=[])).push(n,r))}(e,r[e],t)}finally{null!==u&&zs(u),oa(a),o.resolving=!1,E()}}return s}function Xc(n,t,e){return!!(e[t+(n>>5)]&1<<n)}function wd(n,t){return!(n&pe.Self||n&pe.Host&&t)}class Rn{constructor(t,e){this._tNode=t,this._lView=e}get(t,e,i){return Xs(this._tNode,this._lView,t,i,e)}}function Wn(n){return Ks(()=>{const t=n.prototype.constructor,e=t[Wi]||ca(t),i=Object.prototype;let s=Object.getPrototypeOf(n.prototype).constructor;for(;s&&s!==i;){const r=s[Wi]||ca(s);if(r&&r!==e)return r;s=Object.getPrototypeOf(s)}return r=>new r})}function ca(n){return ug(n)?()=>{const t=ca(le(n));return t&&t()}:to(n)}const Kt="__parameters__";function ho(n,t,e){return Ks(()=>{const i=function(n){return function(...e){if(n){const i=n(...e);for(const s in i)this[s]=i[s]}}}(t);function s(...r){if(this instanceof s)return i.apply(this,r),this;const o=new s(...r);return a.annotation=o,a;function a(u,h,f){const p=u.hasOwnProperty(Kt)?u[Kt]:Object.defineProperty(u,Kt,{value:[]})[Kt];for(;p.length<=f;)p.push(null);return(p[f]=p[f]||[]).push(o),u}}return e&&(s.prototype=Object.create(e.prototype)),s.prototype.ngMetadataName=n,s.annotationCls=s,s})}class de{constructor(t,e){this._desc=t,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof e?this.__NG_ELEMENT_ID__=e:void 0!==e&&(this.\u0275prov=se({token:this,providedIn:e.providedIn||"root",factory:e.factory}))}toString(){return`InjectionToken ${this._desc}`}}function fi(n,t){void 0===t&&(t=n);for(let e=0;e<n.length;e++){let i=n[e];Array.isArray(i)?(t===n&&(t=n.slice(0,e)),fi(i,t)):t!==n&&t.push(i)}return t}function gs(n,t){n.forEach(e=>Array.isArray(e)?gs(e,t):t(e))}function vl(n,t,e){t>=n.length?n.push(e):n.splice(t,0,e)}function go(n,t){return t>=n.length-1?n.pop():n.splice(t,1)[0]}function pi(n,t,e){let i=yo(n,t);return i>=0?n[1|i]=e:(i=~i,function(n,t,e,i){let s=n.length;if(s==t)n.push(e,i);else if(1===s)n.push(i,n[0]),n[0]=e;else{for(s--,n.push(n[s-1],n[s]);s>t;)n[s]=n[s-2],s--;n[t]=e,n[t+1]=i}}(n,i,t,e)),i}function mo(n,t){const e=yo(n,t);if(e>=0)return n[1|e]}function yo(n,t){return function(n,t,e){let i=0,s=n.length>>e;for(;s!==i;){const r=i+(s-i>>1),o=n[r<<e];if(t===o)return r<<e;o>t?s=r:i=r+1}return~(s<<e)}(n,t,1)}const ha={},da="__NG_DI_FLAG__",vo="ngTempTokenPath",Xg=/\n/gm,_l="__source",xd=et({provide:String,useValue:et});let Mi;function bo(n){const t=Mi;return Mi=n,t}function em(n,t=pe.Default){if(void 0===Mi)throw new Error("inject() must be called from an injection context");return null===Mi?Ic(n,void 0,t):Mi.get(n,t&pe.Optional?null:void 0,t)}function B(n,t=pe.Default){return(ed||em)(le(n),t)}const uS=B;function So(n){const t=[];for(let e=0;e<n.length;e++){const i=le(n[e]);if(Array.isArray(i)){if(0===i.length)throw new Error("Arguments array must have arguments.");let s,r=pe.Default;for(let o=0;o<i.length;o++){const a=i[o],u=nm(a);"number"==typeof u?-1===u?s=a.token:r|=u:s=a}t.push(B(s,r))}else t.push(B(i))}return t}function fa(n,t){return n[da]=t,n.prototype[da]=t,n}function nm(n){return n[da]}function im(n,t,e,i){const s=n[vo];throw t[_l]&&s.unshift(t[_l]),n.message=function(n,t,e,i=null){n=n&&"\n"===n.charAt(0)&&"\u0275"==n.charAt(1)?n.substr(2):n;let s=Oe(t);if(Array.isArray(t))s=t.map(Oe).join(" -> ");else if("object"==typeof t){let r=[];for(let o in t)if(t.hasOwnProperty(o)){let a=t[o];r.push(o+":"+("string"==typeof a?JSON.stringify(a):Oe(a)))}s=`{${r.join(", ")}}`}return`${e}${i?"("+i+")":""}[${s}]: ${n.replace(Xg,"\n  ")}`}("\n"+n.message,s,e,i),n.ngTokenPath=s,n[vo]=null,n}const ln=fa(ho("Inject",n=>({token:n})),-1),tn=fa(ho("Optional"),8),Eo=fa(ho("SkipSelf"),4);var zn=(()=>((zn=zn||{})[zn.Important=1]="Important",zn[zn.DashCase=2]="DashCase",zn))();const Ld="__ngContext__";function En(n,t){n[Ld]=t}function Ji(n){const t=function(n){return n[Ld]||null}(n);return t?Array.isArray(t)?t:t.lView:null}function Dl(n,t){return undefined(n,t)}function Al(n){const t=n[3];return Di(t)?t[3]:t}function qd(n){return fm(n[13])}function uu(n){return fm(n[4])}function fm(n){for(;null!==n&&!Di(n);)n=n[4];return n}function ga(n,t,e,i,s){if(null!=i){let r,o=!1;Di(i)?r=i:Ki(i)&&(o=!0,i=i[0]);const a=zt(i);0===n&&null!==e?null==s?ma(t,e,a):kr(t,e,a,s||null,!0):1===n&&null!==e?kr(t,e,a,s||null,!0):2===n?function(n,t,e){const i=kl(n,t);i&&function(n,t,e,i){Dt(n)?n.removeChild(t,e,i):t.removeChild(e)}(n,i,t,e)}(t,a,o):3===n&&t.destroyNode(a),null!=r&&function(n,t,e,i,s){const r=e[7];r!==zt(e)&&ga(t,n,i,r,s);for(let a=10;a<e.length;a++){const u=e[a];Tl(u[1],u,n,t,i,r)}}(t,n,r,e,s)}}function Ud(n,t,e){return Dt(n)?n.createElement(t,e):null===e?n.createElement(t):n.createElementNS(e,t)}function mm(n,t){const e=n[9],i=e.indexOf(t),s=t[3];1024&t[2]&&(t[2]&=-1025,Bc(s,-1)),e.splice(i,1)}function Wd(n,t){if(n.length<=10)return;const e=10+t,i=n[e];if(i){const s=i[17];null!==s&&s!==n&&mm(s,i),t>0&&(n[e-1][4]=i[4]);const r=go(n,10+t);!function(n,t){Tl(n,t,t[11],2,null,null),t[0]=null,t[6]=null}(i[1],i);const o=r[19];null!==o&&o.detachView(r[1]),i[3]=null,i[4]=null,i[2]&=-129}return i}function ym(n,t){if(!(256&t[2])){const e=t[11];Dt(e)&&e.destroyNode&&Tl(n,t,e,3,null,null),function(n){let t=n[13];if(!t)return zd(n[1],n);for(;t;){let e=null;if(Ki(t))e=t[13];else{const i=t[10];i&&(e=i)}if(!e){for(;t&&!t[4]&&t!==n;)Ki(t)&&zd(t[1],t),t=t[3];null===t&&(t=n),Ki(t)&&zd(t[1],t),e=t&&t[4]}t=e}}(t)}}function zd(n,t){if(!(256&t[2])){t[2]&=-129,t[2]|=256,function(n,t){let e;if(null!=n&&null!=(e=n.destroyHooks))for(let i=0;i<e.length;i+=2){const s=t[e[i]];if(!(s instanceof hi)){const r=e[i+1];if(Array.isArray(r))for(let o=0;o<r.length;o+=2){const a=s[r[o]],u=r[o+1];try{u.call(a)}finally{}}else try{r.call(s)}finally{}}}}(n,t),function(n,t){const e=n.cleanup,i=t[7];let s=-1;if(null!==e)for(let r=0;r<e.length-1;r+=2)if("string"==typeof e[r]){const o=e[r+1],a="function"==typeof o?o(t):zt(t[o]),u=i[s=e[r+2]],h=e[r+3];"boolean"==typeof h?a.removeEventListener(e[r],u,h):h>=0?i[s=h]():i[s=-h].unsubscribe(),r+=2}else{const o=i[s=e[r+1]];e[r].call(o)}if(null!==i){for(let r=s+1;r<i.length;r++)i[r]();t[7]=null}}(n,t),1===t[1].type&&Dt(t[11])&&t[11].destroy();const e=t[17];if(null!==e&&Di(t[3])){e!==t[3]&&mm(e,t);const i=t[19];null!==i&&i.detachView(n)}}}function bm(n,t,e){return function(n,t,e){let i=t;for(;null!==i&&40&i.type;)i=(t=i).parent;if(null===i)return e[0];if(2&i.flags){const s=n.data[i.directiveStart].encapsulation;if(s===$t.None||s===$t.Emulated)return null}return Ie(i,e)}(n,t.parent,e)}function kr(n,t,e,i,s){Dt(n)?n.insertBefore(t,e,i,s):t.insertBefore(e,i,s)}function ma(n,t,e){Dt(n)?n.appendChild(t,e):t.appendChild(e)}function du(n,t,e,i,s){null!==i?kr(n,t,e,i,s):ma(n,t,e)}function kl(n,t){return Dt(n)?n.parentNode(t):t.parentNode}let Tr=function(n,t,e){return 40&n.type?Ie(n,e):null};function pu(n,t,e,i){const s=bm(n,i,t),r=t[11],a=function(n,t,e){return Tr(n,t,e)}(i.parent||t[6],i,t);if(null!=s)if(Array.isArray(e))for(let u=0;u<e.length;u++)du(r,s,e[u],a,!1);else du(r,s,e,a,!1)}function gu(n,t){if(null!==t){const e=t.type;if(3&e)return Ie(t,n);if(4&e)return Zd(-1,n[t.index]);if(8&e){const i=t.child;if(null!==i)return gu(n,i);{const s=n[t.index];return Di(s)?Zd(-1,s):zt(s)}}if(32&e)return Dl(t,n)()||zt(n[t.index]);{const i=Em(n,t);return null!==i?Array.isArray(i)?i[0]:gu(Al(n[16]),i):gu(n,t.next)}}return null}function Em(n,t){return null!==t?n[16][6].projection[t.projection]:null}function Zd(n,t){const e=10+n+1;if(e<t.length){const i=t[e],s=i[1].firstChild;if(null!==s)return gu(i,s)}return t[7]}function Xd(n,t,e,i,s,r,o){for(;null!=e;){const a=i[e.index],u=e.type;if(o&&0===t&&(a&&En(zt(a),i),e.flags|=4),64!=(64&e.flags))if(8&u)Xd(n,t,e.child,i,s,r,!1),ga(t,n,s,a,r);else if(32&u){const h=Dl(e,i);let f;for(;f=h();)ga(t,n,s,f,r);ga(t,n,s,a,r)}else 16&u?wm(n,t,i,e,s,r):ga(t,n,s,a,r);e=o?e.projectionNext:e.next}}function Tl(n,t,e,i,s,r){Xd(e,i,n.firstChild,t,s,r,!1)}function wm(n,t,e,i,s,r){const o=e[16],u=o[6].projection[i.projection];if(Array.isArray(u))for(let h=0;h<u.length;h++)ga(t,n,s,u[h],r);else Xd(n,t,u,o[3],s,r,!0)}function ef(n,t,e){Dt(n)?n.setAttribute(t,"style",e):t.style.cssText=e}function mu(n,t,e){Dt(n)?""===e?n.removeAttribute(t,"class"):n.setAttribute(t,"class",e):t.className=e}function mi(n){return n instanceof class{constructor(t){this.changingThisBreaksApplicationSecurity=t}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}?n.changingThisBreaksApplicationSecurity:n}function bu(n){return n.ngOriginalError}function QS(n,...t){n.error(...t)}class ko{constructor(){this._console=console}handleError(t){const e=this._findOriginalError(t),i=this._findContext(t),s=function(n){return n&&n.ngErrorLogger||QS}(t);s(this._console,"ERROR",t),e&&s(this._console,"ORIGINAL ERROR",e),i&&s(this._console,"ERROR CONTEXT",i)}_findContext(t){return t?function(n){return n.ngDebugContext}(t)||this._findContext(bu(t)):null}_findOriginalError(t){let e=t&&bu(t);for(;e&&bu(e);)e=bu(e);return e||null}}const uf=(()=>("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(nt))();function ts(n){return n instanceof Function?n():n}function Rl(n,t,e){let i=n.length;for(;;){const s=n.indexOf(t,e);if(-1===s)return s;if(0===s||n.charCodeAt(s-1)<=32){const r=t.length;if(s+r===i||n.charCodeAt(s+r)<=32)return s}e=s+1}}const zm="ng-template";function nE(n,t,e){let i=0;for(;i<n.length;){let s=n[i++];if(e&&"class"===s){if(s=n[i],-1!==Rl(s.toLowerCase(),t,0))return!0}else if(1===s){for(;i<n.length&&"string"==typeof(s=n[i++]);)if(s.toLowerCase()===t)return!0;return!1}}return!1}function Su(n){return 4===n.type&&n.value!==zm}function Km(n,t,e){return t===(4!==n.type||e?n.value:zm)}function iE(n,t,e){let i=4;const s=n.attrs||[],r=function(n){for(let t=0;t<n.length;t++)if(Lg(n[t]))return t;return n.length}(s);let o=!1;for(let a=0;a<t.length;a++){const u=t[a];if("number"!=typeof u){if(!o)if(4&i){if(i=2|1&i,""!==u&&!Km(n,u,e)||""===u&&1===t.length){if(ns(i))return!1;o=!0}}else{const h=8&i?u:t[++a];if(8&i&&null!==n.attrs){if(!nE(n.attrs,h,e)){if(ns(i))return!1;o=!0}continue}const p=sE(8&i?"class":u,s,Su(n),e);if(-1===p){if(ns(i))return!1;o=!0;continue}if(""!==h){let v;v=p>r?"":s[p+1].toLowerCase();const _=8&i?v:null;if(_&&-1!==Rl(_,h,0)||2&i&&h!==v){if(ns(i))return!1;o=!0}}}}else{if(!o&&!ns(i)&&!ns(u))return!1;if(o&&ns(u))continue;o=!1,i=u|1&i}}return ns(i)||o}function ns(n){return 0==(1&n)}function sE(n,t,e,i){if(null===t)return-1;let s=0;if(i||!e){let r=!1;for(;s<t.length;){const o=t[s];if(o===n)return s;if(3===o||6===o)r=!0;else{if(1===o||2===o){let a=t[++s];for(;"string"==typeof a;)a=t[++s];continue}if(4===o)break;if(0===o){s+=4;continue}}s+=r?1:2}return-1}return function(n,t){let e=n.indexOf(4);if(e>-1)for(e++;e<n.length;){const i=n[e];if("number"==typeof i)return-1;if(i===t)return e;e++}return-1}(t,n)}function Ym(n,t,e=!1){for(let i=0;i<t.length;i++)if(iE(n,t[i],e))return!0;return!1}function Qm(n,t){return n?":not("+t.trim()+")":t}function cE(n){let t=n[0],e=1,i=2,s="",r=!1;for(;e<n.length;){let o=n[e];if("string"==typeof o)if(2&i){const a=n[++e];s+="["+o+(a.length>0?'="'+a+'"':"")+"]"}else 8&i?s+="."+o:4&i&&(s+=" "+o);else""!==s&&!ns(o)&&(t+=Qm(r,s),s=""),i=o,r=r||!ns(i);e++}return""!==s&&(t+=Qm(r,s)),t}const ce={};function G(n){Zm(Qe(),W(),ye()+n,en())}function Zm(n,t,e,i){if(!i)if(3==(3&t[2])){const r=n.preOrderCheckHooks;null!==r&&Ti(t,r,e)}else{const r=n.preOrderHooks;null!==r&&zc(t,r,0,e)}Dr(e)}function bs(n,t){return n<<17|t<<2}function he(n){return n>>17&32767}function Ot(n){return 2|n}function tr(n){return(131068&n)>>2}function Ss(n,t){return-131069&n|t<<2}function ff(n){return 1|n}function oy(n,t){const e=n.contentQueries;if(null!==e)for(let i=0;i<e.length;i+=2){const s=e[i],r=e[i+1];if(-1!==r){const o=n.data[r];fd(s),o.contentQueries(2,t[r],r)}}}function Fl(n,t,e,i,s,r,o,a,u,h){const f=t.blueprint.slice();return f[0]=s,f[2]=140|i,ll(f),f[3]=f[15]=n,f[8]=e,f[10]=o||n&&n[10],f[11]=a||n&&n[11],f[12]=u||n&&n[12]||null,f[9]=h||n&&n[9]||null,f[6]=r,f[16]=2==t.type?n[16]:f,f}function _a(n,t,e,i,s){let r=n.data[t];if(null===r)r=function(n,t,e,i,s){const r=cl(),o=qc(),u=n.data[t]=function(n,t,e,i,s,r){return{type:e,index:i,insertBeforeIndex:null,injectorIndex:t?t.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:s,attrs:r,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:t,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,o?r:r&&r.parent,e,t,i,s);return null===n.firstChild&&(n.firstChild=u),null!==r&&(o?null==r.child&&null!==u.parent&&(r.child=u):null===r.next&&(r.next=u)),u}(n,t,e,i,s),_e.lFrame.inI18n&&(r.flags|=64);else if(64&r.type){r.type=e,r.value=i,r.attrs=s;const o=function(){const n=_e.lFrame,t=n.currentTNode;return n.isParent?t:t.parent}();r.injectorIndex=null===o?-1:o.injectorIndex}return ps(r,!0),r}function ba(n,t,e,i){if(0===e)return-1;const s=t.length;for(let r=0;r<e;r++)t.push(i),n.blueprint.push(i),n.data.push(null);return s}function Vl(n,t,e){Uc(t);try{const i=n.viewQuery;null!==i&&Tf(1,i,e);const s=n.template;null!==s&&ay(n,t,s,1,e),n.firstCreatePass&&(n.firstCreatePass=!1),n.staticContentQueries&&oy(n,t),n.staticViewQueries&&Tf(2,n.viewQuery,e);const r=n.components;null!==r&&function(n,t){for(let e=0;e<t.length;e++)BE(n,t[e])}(t,r)}catch(i){throw n.firstCreatePass&&(n.incompleteFirstPass=!0,n.firstCreatePass=!1),i}finally{t[2]&=-5,Zs()}}function Sa(n,t,e,i){const s=t[2];if(256==(256&s))return;Uc(t);const r=en();try{ll(t),function(n){_e.lFrame.bindingIndex=n}(n.bindingStartIndex),null!==e&&ay(n,t,e,2,i);const o=3==(3&s);if(!r)if(o){const h=n.preOrderCheckHooks;null!==h&&Ti(t,h,null)}else{const h=n.preOrderHooks;null!==h&&zc(t,h,0,null),yd(t,0)}if(function(n){for(let t=qd(n);null!==t;t=uu(t)){if(!t[2])continue;const e=t[9];for(let i=0;i<e.length;i++){const s=e[i],r=s[3];0==(1024&s[2])&&Bc(r,1),s[2]|=1024}}}(t),function(n){for(let t=qd(n);null!==t;t=uu(t))for(let e=10;e<t.length;e++){const i=t[e],s=i[1];ud(i)&&Sa(s,i,s.template,i[8])}}(t),null!==n.contentQueries&&oy(n,t),!r)if(o){const h=n.contentCheckHooks;null!==h&&Ti(t,h)}else{const h=n.contentHooks;null!==h&&zc(t,h,1),yd(t,1)}!function(n,t){const e=n.hostBindingOpCodes;if(null!==e)try{for(let i=0;i<e.length;i++){const s=e[i];if(s<0)Dr(~s);else{const r=s,o=e[++i],a=e[++i];ul(o,r),a(2,t[r])}}}finally{Dr(-1)}}(n,t);const a=n.components;null!==a&&function(n,t){for(let e=0;e<t.length;e++)VE(n,t[e])}(t,a);const u=n.viewQuery;if(null!==u&&Tf(2,u,i),!r)if(o){const h=n.viewCheckHooks;null!==h&&Ti(t,h)}else{const h=n.viewHooks;null!==h&&zc(t,h,2),yd(t,2)}!0===n.firstUpdatePass&&(n.firstUpdatePass=!1),r||(t[2]&=-73),1024&t[2]&&(t[2]&=-1025,Bc(t[3],-1))}finally{Zs()}}function EE(n,t,e,i){const s=t[10],r=!en(),o=Tg(t);try{r&&!o&&s.begin&&s.begin(),o&&Vl(n,t,i),Sa(n,t,e,i)}finally{r&&!o&&s.end&&s.end()}}function ay(n,t,e,i,s){const r=ye(),o=2&i;try{Dr(-1),o&&t.length>20&&Zm(n,t,20,en()),e(i,s)}finally{Dr(r)}}function Bl(n,t,e){!na()||(function(n,t,e,i){const s=e.directiveStart,r=e.directiveEnd;n.firstCreatePass||di(e,t),En(i,t);const o=e.initialInputs;for(let a=s;a<r;a++){const u=n.data[a],h=Yi(u);h&&OE(t,e,u);const f=la(t,n,a,e);En(f,t),null!==o&&NE(0,a-s,f,u,0,o),h&&(ci(e.index,t)[8]=f)}}(n,t,e,Ie(e,t)),128==(128&e.flags)&&function(n,t,e){const i=e.directiveStart,s=e.directiveEnd,o=e.index,a=_e.lFrame.currentDirectiveIndex;try{Dr(o);for(let u=i;u<s;u++){const h=n.data[u],f=t[u];ia(u),(null!==h.hostBindings||0!==h.hostVars||null!==h.hostAttrs)&&yy(h,f)}}finally{Dr(-1),ia(a)}}(n,t,e))}function bf(n,t,e=Ie){const i=t.localNames;if(null!==i){let s=t.index+1;for(let r=0;r<i.length;r+=2){const o=i[r+1],a=-1===o?e(t,n):n[o];n[s++]=a}}}function Du(n){const t=n.tView;return null===t||t.incompleteFirstPass?n.tView=Au(1,null,n.template,n.decls,n.vars,n.directiveDefs,n.pipeDefs,n.viewQuery,n.schemas,n.consts):t}function Au(n,t,e,i,s,r,o,a,u,h){const f=20+i,p=f+s,v=function(n,t){const e=[];for(let i=0;i<t;i++)e.push(i<n?null:ce);return e}(f,p),_="function"==typeof h?h():h;return v[1]={type:n,blueprint:v,template:e,queries:null,viewQuery:a,declTNode:t,data:v.slice().fill(null,f),bindingStartIndex:f,expandoStartIndex:p,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof r?r():r,pipeRegistry:"function"==typeof o?o():o,firstChild:null,schemas:u,consts:_,incompleteFirstPass:!1}}function uy(n,t,e,i){const s=Sy(t);null===e?s.push(i):(s.push(e),n.firstCreatePass&&ku(n).push(i,s.length-1))}function hy(n,t,e){for(let i in n)if(n.hasOwnProperty(i)){const s=n[i];(e=null===e?{}:e).hasOwnProperty(i)?e[i].push(t,s):e[i]=[t,s]}return e}function Sf(n,t,e,i){let s=!1;if(na()){const r=function(n,t,e){const i=n.directiveRegistry;let s=null;if(i)for(let r=0;r<i.length;r++){const o=i[r];Ym(e,o.selectors,!1)&&(s||(s=[]),Qc(di(e,t),n,o.type),Yi(o)?(vy(n,e),s.unshift(o)):s.push(o))}return s}(n,t,e),o=null===i?null:{"":-1};if(null!==r){s=!0,Ef(e,n.data.length,r.length);for(let f=0;f<r.length;f++){const p=r[f];p.providersResolver&&p.providersResolver(p)}let a=!1,u=!1,h=ba(n,t,r.length,null);for(let f=0;f<r.length;f++){const p=r[f];e.mergedAttrs=Kc(e.mergedAttrs,p.hostAttrs),wf(n,e,t,h,p),IE(h,p,o),null!==p.contentQueries&&(e.flags|=8),(null!==p.hostBindings||null!==p.hostAttrs||0!==p.hostVars)&&(e.flags|=128);const v=p.type.prototype;!a&&(v.ngOnChanges||v.ngOnInit||v.ngDoCheck)&&((n.preOrderHooks||(n.preOrderHooks=[])).push(e.index),a=!0),!u&&(v.ngOnChanges||v.ngDoCheck)&&((n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(e.index),u=!0),h++}!function(n,t){const i=t.directiveEnd,s=n.data,r=t.attrs,o=[];let a=null,u=null;for(let h=t.directiveStart;h<i;h++){const f=s[h],p=f.inputs,v=null===r||Su(t)?null:RE(p,r);o.push(v),a=hy(p,h,a),u=hy(f.outputs,h,u)}null!==a&&(a.hasOwnProperty("class")&&(t.flags|=16),a.hasOwnProperty("style")&&(t.flags|=32)),t.initialInputs=o,t.inputs=a,t.outputs=u}(n,e)}o&&function(n,t,e){if(t){const i=n.localNames=[];for(let s=0;s<t.length;s+=2){const r=e[t[s+1]];if(null==r)throw new br("301",`Export of name '${t[s+1]}' not found!`);i.push(t[s],r)}}}(e,i,o)}return e.mergedAttrs=Kc(e.mergedAttrs,e.attrs),s}function my(n,t,e,i,s,r){const o=r.hostBindings;if(o){let a=n.hostBindingOpCodes;null===a&&(a=n.hostBindingOpCodes=[]);const u=~t.index;(function(n){let t=n.length;for(;t>0;){const e=n[--t];if("number"==typeof e&&e<0)return e}return 0})(a)!=u&&a.push(u),a.push(i,s,o)}}function yy(n,t){null!==n.hostBindings&&n.hostBindings(1,t)}function vy(n,t){t.flags|=2,(n.components||(n.components=[])).push(t.index)}function IE(n,t,e){if(e){if(t.exportAs)for(let i=0;i<t.exportAs.length;i++)e[t.exportAs[i]]=n;Yi(t)&&(e[""]=n)}}function Ef(n,t,e){n.flags|=1,n.directiveStart=t,n.directiveEnd=t+e,n.providerIndexes=t}function wf(n,t,e,i,s){n.data[i]=s;const r=s.factory||(s.factory=to(s.type)),o=new hi(r,Yi(s),null);n.blueprint[i]=o,e[i]=o,my(n,t,0,i,ba(n,e,s.hostVars,ce),s)}function OE(n,t,e){const i=Ie(t,n),s=Du(e),r=n[10],o=Pu(n,Fl(n,s,null,e.onPush?64:16,i,t,r,r.createRenderer(i,e),null,null));n[t.index]=o}function ws(n,t,e,i,s,r){const o=Ie(n,t);!function(n,t,e,i,s,r,o){if(null==r)Dt(n)?n.removeAttribute(t,s,e):t.removeAttribute(s);else{const a=null==o?De(r):o(r,i||"",s);Dt(n)?n.setAttribute(t,s,a,e):e?t.setAttributeNS(e,s,a):t.setAttribute(s,a)}}(t[11],o,r,n.value,e,i,s)}function NE(n,t,e,i,s,r){const o=r[t];if(null!==o){const a=i.setInput;for(let u=0;u<o.length;){const h=o[u++],f=o[u++],p=o[u++];null!==a?i.setInput(e,p,h,f):e[f]=p}}}function RE(n,t){let e=null,i=0;for(;i<t.length;){const s=t[i];if(0!==s)if(5!==s){if("number"==typeof s)break;n.hasOwnProperty(s)&&(null===e&&(e=[]),e.push(s,n[s],t[i+1])),i+=2}else i+=2;else i+=4}return e}function _y(n,t,e,i){return new Array(n,!0,!1,t,null,0,i,e,null,null)}function VE(n,t){const e=ci(t,n);if(ud(e)){const i=e[1];80&e[2]?Sa(i,e,i.template,e[8]):e[5]>0&&Df(e)}}function Df(n){for(let i=qd(n);null!==i;i=uu(i))for(let s=10;s<i.length;s++){const r=i[s];if(1024&r[2]){const o=r[1];Sa(o,r,o.template,r[8])}else r[5]>0&&Df(r)}const e=n[1].components;if(null!==e)for(let i=0;i<e.length;i++){const s=ci(e[i],n);ud(s)&&s[5]>0&&Df(s)}}function BE(n,t){const e=ci(t,n),i=e[1];(function(n,t){for(let e=t.length;e<n.blueprint.length;e++)t.push(n.blueprint[e])})(i,e),Vl(i,e,e[8])}function Pu(n,t){return n[13]?n[14][4]=t:n[13]=t,n[14]=t,t}function Af(n){for(;n;){n[2]|=64;const t=Al(n);if(rd(n)&&!t)return n;n=t}return null}function kf(n,t,e){const i=t[10];i.begin&&i.begin();try{Sa(n,t,n.template,e)}catch(s){throw Mf(t,s),s}finally{i.end&&i.end()}}function by(n){!function(n){for(let t=0;t<n.components.length;t++){const e=n.components[t],i=Ji(e),s=i[1];EE(s,i,s.template,e)}}(n[8])}function Tf(n,t,e){fd(0),t(n,e)}const UE=(()=>Promise.resolve(null))();function Sy(n){return n[7]||(n[7]=[])}function ku(n){return n.cleanup||(n.cleanup=[])}function Mf(n,t){const e=n[9],i=e?e.get(ko,null):null;i&&i.handleError(t)}function Ey(n,t,e,i,s){for(let r=0;r<e.length;){const o=e[r++],a=e[r++],u=t[o],h=n.data[o];null!==h.setInput?h.setInput(u,s,i,a):u[a]=s}}function nr(n,t,e){const i=io(t,n);!function(n,t,e){Dt(n)?n.setValue(t,e):t.textContent=e}(n[11],i,e)}function Tu(n,t,e){let i=e?n.styles:null,s=e?n.classes:null,r=0;if(null!==t)for(let o=0;o<t.length;o++){const a=t[o];"number"==typeof a?r=a:1==r?s=zh(s,a):2==r&&(i=zh(i,a+": "+t[++o]+";"))}e?n.styles=i:n.stylesWithoutHost=i,e?n.classes=s:n.classesWithoutHost=s}const wa=new de("INJECTOR",-1);class Vn{get(t,e=ha){if(e===ha){const i=new Error(`NullInjectorError: No provider for ${Oe(t)}!`);throw i.name="NullInjectorError",i}return e}}const xo=new de("Set Injector scope."),$l={},WE={};let Of;function wy(){return void 0===Of&&(Of=new Vn),Of}function Cy(n,t=null,e=null,i){return new Rf(n,e,t||wy(),i)}class Rf{constructor(t,e,i,s=null){this.parent=i,this.records=new Map,this.injectorDefTypes=new Set,this.onDestroy=new Set,this._destroyed=!1;const r=[];e&&gs(e,a=>this.processProvider(a,t,e)),gs([t],a=>this.processInjectorType(a,[],r)),this.records.set(wa,Mo(void 0,this));const o=this.records.get(xo);this.scope=null!=o?o.value:null,this.source=s||("object"==typeof t?null:Oe(t))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{this.onDestroy.forEach(t=>t.ngOnDestroy())}finally{this.records.clear(),this.onDestroy.clear(),this.injectorDefTypes.clear()}}get(t,e=ha,i=pe.Default){this.assertNotDestroyed();const s=bo(this),r=zs(void 0);try{if(!(i&pe.SkipSelf)){let a=this.records.get(t);if(void 0===a){const u=function(n){return"function"==typeof n||"object"==typeof n&&n instanceof de}(t)&&Ws(t);a=u&&this.injectableDefInScope(u)?Mo(Lf(t),$l):null,this.records.set(t,a)}if(null!=a)return this.hydrate(t,a)}return(i&pe.Self?wy():this.parent).get(t,e=i&pe.Optional&&e===ha?null:e)}catch(o){if("NullInjectorError"===o.name){if((o[vo]=o[vo]||[]).unshift(Oe(t)),s)throw o;return im(o,t,"R3InjectorError",this.source)}throw o}finally{zs(r),bo(s)}}_resolveInjectorDefTypes(){this.injectorDefTypes.forEach(t=>this.get(t))}toString(){const t=[];return this.records.forEach((i,s)=>t.push(Oe(s))),`R3Injector[${t.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Error("Injector has already been destroyed.")}processInjectorType(t,e,i){if(!(t=le(t)))return!1;let s=Zh(t);const r=null==s&&t.ngModule||void 0,o=void 0===r?t:r,a=-1!==i.indexOf(o);if(void 0!==r&&(s=Zh(r)),null==s)return!1;if(null!=s.imports&&!a){let f;i.push(o);try{gs(s.imports,p=>{this.processInjectorType(p,e,i)&&(void 0===f&&(f=[]),f.push(p))})}finally{}if(void 0!==f)for(let p=0;p<f.length;p++){const{ngModule:v,providers:_}=f[p];gs(_,S=>this.processProvider(S,v,_||ct))}}this.injectorDefTypes.add(o);const u=to(o)||(()=>new o);this.records.set(o,Mo(u,$l));const h=s.providers;if(null!=h&&!a){const f=t;gs(h,p=>this.processProvider(p,f,h))}return void 0!==r&&void 0!==t.providers}processProvider(t,e,i){let s=Ir(t=le(t))?t:le(t&&t.provide);const r=function(n,t,e){return Ay(n)?Mo(void 0,n.useValue):Mo(Dy(n),$l)}(t);if(Ir(t)||!0!==t.multi)this.records.get(s);else{let o=this.records.get(s);o||(o=Mo(void 0,$l,!0),o.factory=()=>So(o.multi),this.records.set(s,o)),s=t,o.multi.push(t)}this.records.set(s,r)}hydrate(t,e){return e.value===$l&&(e.value=WE,e.value=e.factory()),"object"==typeof e.value&&e.value&&function(n){return null!==n&&"object"==typeof n&&"function"==typeof n.ngOnDestroy}(e.value)&&this.onDestroy.add(e.value),e.value}injectableDefInScope(t){if(!t.providedIn)return!1;const e=le(t.providedIn);return"string"==typeof e?"any"===e||e===this.scope:this.injectorDefTypes.has(e)}}function Lf(n){const t=Ws(n),e=null!==t?t.factory:to(n);if(null!==e)return e;if(n instanceof de)throw new Error(`Token ${Oe(n)} is missing a \u0275prov definition.`);if(n instanceof Function)return function(n){const t=n.length;if(t>0){const i=function(n,t){const e=[];for(let i=0;i<n;i++)e.push(t);return e}(t,"?");throw new Error(`Can't resolve all parameters for ${Oe(n)}: (${i.join(", ")}).`)}const e=function(n){const t=n&&(n[Yo]||n[Xh]);if(t){const e=function(n){if(n.hasOwnProperty("name"))return n.name;const t=(""+n).match(/^function\s*([^\s(]+)/);return null===t?"":t[1]}(n);return console.warn(`DEPRECATED: DI is instantiating a token "${e}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${e}" class.`),t}return null}(n);return null!==e?()=>e.factory(n):()=>new n}(n);throw new Error("unreachable")}function Dy(n,t,e){let i;if(Ir(n)){const s=le(n);return to(s)||Lf(s)}if(Ay(n))i=()=>le(n.useValue);else if(function(n){return!(!n||!n.useFactory)}(n))i=()=>n.useFactory(...So(n.deps||[]));else if(function(n){return!(!n||!n.useExisting)}(n))i=()=>B(le(n.useExisting));else{const s=le(n&&(n.useClass||n.provide));if(!function(n){return!!n.deps}(n))return to(s)||Lf(s);i=()=>new s(...So(n.deps))}return i}function Mo(n,t,e=!1){return{factory:n,value:t,multi:e?[]:void 0}}function Ay(n){return null!==n&&"object"==typeof n&&xd in n}function Ir(n){return"function"==typeof n}const Py=function(n,t,e){return function(n,t=null,e=null,i){const s=Cy(n,t,e,i);return s._resolveInjectorDefTypes(),s}({name:e},t,n,e)};let St=(()=>{class n{static create(e,i){return Array.isArray(e)?Py(e,i,""):Py(e.providers,e.parent,e.name||"")}}return n.THROW_IF_NOT_FOUND=ha,n.NULL=new Vn,n.\u0275prov=se({token:n,providedIn:"any",factory:()=>B(wa)}),n.__NG_ELEMENT_ID__=-1,n})();function WB(n,t){Wc(Ji(n)[1],Ft())}function At(n){let t=function(n){return Object.getPrototypeOf(n.prototype).constructor}(n.type),e=!0;const i=[n];for(;t;){let s;if(Yi(n))s=t.\u0275cmp||t.\u0275dir;else{if(t.\u0275cmp)throw new Error("Directives cannot inherit Components");s=t.\u0275dir}if(s){if(e){i.push(s);const o=n;o.inputs=ow(n.inputs),o.declaredInputs=ow(n.declaredInputs),o.outputs=ow(n.outputs);const a=s.hostBindings;a&&QB(n,a);const u=s.viewQuery,h=s.contentQueries;if(u&&KB(n,u),h&&YB(n,h),Tc(n.inputs,s.inputs),Tc(n.declaredInputs,s.declaredInputs),Tc(n.outputs,s.outputs),Yi(s)&&s.data.animation){const f=n.data;f.animation=(f.animation||[]).concat(s.data.animation)}}const r=s.features;if(r)for(let o=0;o<r.length;o++){const a=r[o];a&&a.ngInherit&&a(n),a===At&&(e=!1)}}t=Object.getPrototypeOf(t)}!function(n){let t=0,e=null;for(let i=n.length-1;i>=0;i--){const s=n[i];s.hostVars=t+=s.hostVars,s.hostAttrs=Kc(s.hostAttrs,e=Kc(e,s.hostAttrs))}}(i)}function ow(n){return n===Qo?{}:n===ct?[]:n}function KB(n,t){const e=n.viewQuery;n.viewQuery=e?(i,s)=>{t(i,s),e(i,s)}:t}function YB(n,t){const e=n.contentQueries;n.contentQueries=e?(i,s,r)=>{t(i,s,r),e(i,s,r)}:t}function QB(n,t){const e=n.hostBindings;n.hostBindings=e?(i,s)=>{t(i,s),e(i,s)}:t}let Iy=null;function xu(){if(!Iy){const n=nt.Symbol;if(n&&n.iterator)Iy=n.iterator;else{const t=Object.getOwnPropertyNames(Map.prototype);for(let e=0;e<t.length;++e){const i=t[e];"entries"!==i&&"size"!==i&&Map.prototype[i]===Map.prototype.entries&&(Iy=i)}}}return Iy}class sr{constructor(t){this.wrapped=t}static wrap(t){return new sr(t)}static unwrap(t){return sr.isWrapped(t)?t.wrapped:t}static isWrapped(t){return t instanceof sr}}function Hf(n){return!!aw(n)&&(Array.isArray(n)||!(n instanceof Map)&&xu()in n)}function aw(n){return null!==n&&("function"==typeof n||"object"==typeof n)}function Nr(n,t,e){return n[t]=e}function Zn(n,t,e){return!Object.is(n[t],e)&&(n[t]=e,!0)}function Hl(n,t,e,i){const s=Zn(n,t,e);return Zn(n,t+1,i)||s}function rr(n,t,e,i){const s=W();return Zn(s,wr(),t)&&(Qe(),ws(It(),s,n,t,e,i)),rr}function Je(n,t,e,i,s,r,o,a){const u=W(),h=Qe(),f=n+20,p=h.firstCreatePass?function(n,t,e,i,s,r,o,a,u){const h=t.consts,f=_a(t,n,4,o||null,In(h,a));Sf(t,e,f,In(h,u)),Wc(t,f);const p=f.tViews=Au(2,f,i,s,r,t.directiveRegistry,t.pipeRegistry,null,t.schemas,h);return null!==t.queries&&(t.queries.template(t,f),p.queries=t.queries.embeddedTView(f)),f}(f,h,u,t,e,i,s,r,o):h.data[f];ps(p,!1);const v=u[11].createComment("");pu(h,u,v,p),En(v,u),Pu(u,u[f]=_y(v,u,v,p)),ol(p)&&Bl(h,u,p),null!=o&&bf(u,p,a)}function V(n,t=pe.Default){const e=W();return null===e?B(n,t):Xs(Ft(),e,le(n),t)}function Y(n,t,e){const i=W();return Zn(i,wr(),t)&&function(n,t,e,i,s,r,o,a){const u=Ie(t,e);let f,h=t.inputs;!a&&null!=h&&(f=h[i])?(Ey(n,e,f,i,s),Xo(t)&&function(n,t){const e=ci(t,n);16&e[2]||(e[2]|=64)}(e,t.index)):3&t.type&&(i=function(n){return"class"===n?"className":"for"===n?"htmlFor":"formaction"===n?"formAction":"innerHtml"===n?"innerHTML":"readonly"===n?"readOnly":"tabindex"===n?"tabIndex":n}(i),s=null!=o?o(s,t.value||"",i):s,Dt(r)?r.setProperty(u,i,s):_d(i)||(u.setProperty?u.setProperty(i,s):u[i]=s))}(Qe(),It(),i,n,t,i[11],e,!1),Y}function dw(n,t,e,i,s){const o=s?"class":"style";Ey(n,e,t.inputs[o],o,i)}function m(n,t,e,i){const s=W(),r=Qe(),o=20+n,a=s[11],u=s[o]=Ud(a,t,_e.lFrame.currentNamespace),h=r.firstCreatePass?function(n,t,e,i,s,r,o){const a=t.consts,h=_a(t,n,2,s,In(a,r));return Sf(t,e,h,In(a,o)),null!==h.attrs&&Tu(h,h.attrs,!1),null!==h.mergedAttrs&&Tu(h,h.mergedAttrs,!0),null!==t.queries&&t.queries.elementStart(t,h),h}(o,r,s,0,t,e,i):r.data[o];ps(h,!0);const f=h.mergedAttrs;null!==f&&jn(a,u,f);const p=h.classes;null!==p&&mu(a,u,p);const v=h.styles;null!==v&&ef(a,u,v),64!=(64&h.flags)&&pu(r,s,u,h),0===_e.lFrame.elementDepthCount&&En(u,s),_e.lFrame.elementDepthCount++,ol(h)&&(Bl(r,s,h),function(n,t,e){if(rl(t)){const s=t.directiveEnd;for(let r=t.directiveStart;r<s;r++){const o=n.data[r];o.contentQueries&&o.contentQueries(1,e[r],r)}}}(r,h,s)),null!==i&&bf(s,h)}function y(){let n=Ft();qc()?_e.lFrame.isParent=!1:(n=n.parent,ps(n,!1));const t=n;_e.lFrame.elementDepthCount--;const e=Qe();e.firstCreatePass&&(Wc(e,n),rl(n)&&e.queries.elementEnd(n)),null!=t.classesWithoutHost&&function(n){return 0!=(16&n.flags)}(t)&&dw(e,t,W(),t.classesWithoutHost,!0),null!=t.stylesWithoutHost&&function(n){return 0!=(32&n.flags)}(t)&&dw(e,t,W(),t.stylesWithoutHost,!1)}function ue(n,t,e,i){m(n,t,e,i),y()}function Io(){return W()}function Ry(n){return!!n&&"function"==typeof n.then}const fw=function(n){return!!n&&"function"==typeof n.subscribe};function qe(n,t,e,i){const s=W(),r=Qe(),o=Ft();return function(n,t,e,i,s,r,o,a){const u=ol(i),f=n.firstCreatePass&&ku(n),p=t[8],v=Sy(t);let _=!0;if(3&i.type||a){const C=Ie(i,t),L=a?a(C):C,N=v.length,j=a?U=>a(zt(U[i.index])):i.index;if(Dt(e)){let U=null;if(!a&&u&&(U=function(n,t,e,i){const s=n.cleanup;if(null!=s)for(let r=0;r<s.length-1;r+=2){const o=s[r];if(o===e&&s[r+1]===i){const a=t[7],u=s[r+2];return a.length>u?a[u]:null}"string"==typeof o&&(r+=2)}return null}(n,t,s,i.index)),null!==U)(U.__ngLastListenerFn__||U).__ngNextListenerFn__=r,U.__ngLastListenerFn__=r,_=!1;else{r=pw(i,t,p,r,!1);const ee=e.listen(L,s,r);v.push(r,ee),f&&f.push(s,j,N,N+1)}}else r=pw(i,t,p,r,!0),L.addEventListener(s,r,o),v.push(r),f&&f.push(s,j,N,o)}else r=pw(i,t,p,r,!1);const S=i.outputs;let D;if(_&&null!==S&&(D=S[s])){const C=D.length;if(C)for(let L=0;L<C;L+=2){const ae=t[D[L]][D[L+1]].subscribe(r),Ee=v.length;v.push(r,ae),f&&f.push(s,i.index,Ee,-(Ee+1))}}}(r,s,s[11],o,n,t,!!e,i),qe}function DM(n,t,e,i){try{return!1!==e(i)}catch(s){return Mf(n,s),!1}}function pw(n,t,e,i,s){return function r(o){if(o===Function)return i;const a=2&n.flags?ci(n.index,t):t;0==(32&t[2])&&Af(a);let u=DM(t,0,i,o),h=r.__ngNextListenerFn__;for(;h;)u=DM(t,0,h,o)&&u,h=h.__ngNextListenerFn__;return s&&!1===u&&(o.preventDefault(),o.returnValue=!1),u}}function Qt(n=1){return function(n){return(_e.lFrame.contextLView=function(n,t){for(;n>0;)t=t[15],n--;return t}(n,_e.lFrame.contextLView))[8]}(n)}function FM(n,t,e,i,s){const r=n[e+1],o=null===t;let a=i?he(r):tr(r),u=!1;for(;0!==a&&(!1===u||o);){const f=n[a+1];R$(n[a],t)&&(u=!0,n[a+1]=i?ff(f):Ot(f)),a=i?he(f):tr(f)}u&&(n[e+1]=i?Ot(r):ff(r))}function R$(n,t){return null===n||null==t||(Array.isArray(n)?n[1]:n)===t||!(!Array.isArray(n)||"string"!=typeof t)&&yo(n,t)>=0}const gn={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function VM(n){return n.substring(gn.key,gn.keyEnd)}function BM(n,t){const e=gn.textEnd;return e===t?-1:(t=gn.keyEnd=function(n,t,e){for(;t<e&&n.charCodeAt(t)>32;)t++;return t}(n,gn.key=t,e),Hu(n,t,e))}function Hu(n,t,e){for(;t<e&&n.charCodeAt(t)<=32;)t++;return t}function Gf(n,t,e){return or(n,t,e,!1),Gf}function ql(n,t){return or(n,t,null,!0),ql}function As(n){!function(n,t,e,i){const s=Qe(),r=ui(2);s.firstUpdatePass&&jM(s,null,r,i);const o=W();if(e!==ce&&Zn(o,r,e)){const a=s.data[ye()];if(YM(a,i)&&!UM(s,r)){let u=i?a.classesWithoutHost:a.stylesWithoutHost;null!==u&&(e=zh(u,e||"")),dw(s,a,o,e,i)}else!function(n,t,e,i,s,r,o,a){s===ce&&(s=ct);let u=0,h=0,f=0<s.length?s[0]:null,p=0<r.length?r[0]:null;for(;null!==f||null!==p;){const v=u<s.length?s[u+1]:void 0,_=h<r.length?r[h+1]:void 0;let D,S=null;f===p?(u+=2,h+=2,v!==_&&(S=p,D=_)):null===p||null!==f&&f<p?(u+=2,S=f):(h+=2,S=p,D=_),null!==S&&zM(n,t,e,i,S,D,o,a),f=u<s.length?s[u]:null,p=h<r.length?r[h]:null}}(s,a,o,o[11],o[r+1],o[r+1]=function(n,t,e){if(null==e||""===e)return ct;const i=[],s=mi(e);if(Array.isArray(s))for(let r=0;r<s.length;r++)n(i,s[r],!0);else if("object"==typeof s)for(const r in s)s.hasOwnProperty(r)&&n(i,r,s[r]);else"string"==typeof s&&t(i,s);return i}(n,t,e),i,r)}}(pi,Lr,n,!0)}function Lr(n,t){for(let e=function(n){return function(n){gn.key=0,gn.keyEnd=0,gn.value=0,gn.valueEnd=0,gn.textEnd=n.length}(n),BM(n,Hu(n,0,gn.textEnd))}(t);e>=0;e=BM(t,e))pi(n,VM(t),!0)}function or(n,t,e,i){const s=W(),r=Qe(),o=ui(2);r.firstUpdatePass&&jM(r,n,o,i),t!==ce&&Zn(s,o,t)&&zM(r,r.data[ye()],s,s[11],n,s[o+1]=function(n,t){return null==n||("string"==typeof t?n+=t:"object"==typeof n&&(n=Oe(mi(n)))),n}(t,e),i,o)}function UM(n,t){return t>=n.expandoStartIndex}function jM(n,t,e,i){const s=n.data;if(null===s[e+1]){const r=s[ye()],o=UM(n,e);YM(r,i)&&null===t&&!o&&(t=!1),t=function(n,t,e,i){const s=function(n){const t=_e.lFrame.currentDirectiveIndex;return-1===t?null:n[t]}(n);let r=i?t.residualClasses:t.residualStyles;if(null===s)0===(i?t.classBindings:t.styleBindings)&&(e=Uf(e=mw(null,n,t,e,i),t.attrs,i),r=null);else{const o=t.directiveStylingLast;if(-1===o||n[o]!==s)if(e=mw(s,n,t,e,i),null===r){let u=function(n,t,e){const i=e?t.classBindings:t.styleBindings;if(0!==tr(i))return n[he(i)]}(n,t,i);void 0!==u&&Array.isArray(u)&&(u=mw(null,n,t,u[1],i),u=Uf(u,t.attrs,i),function(n,t,e,i){n[he(e?t.classBindings:t.styleBindings)]=i}(n,t,i,u))}else r=function(n,t,e){let i;const s=t.directiveEnd;for(let r=1+t.directiveStylingLast;r<s;r++)i=Uf(i,n[r].hostAttrs,e);return Uf(i,t.attrs,e)}(n,t,i)}return void 0!==r&&(i?t.residualClasses=r:t.residualStyles=r),e}(s,r,t,i),function(n,t,e,i,s,r){let o=r?t.classBindings:t.styleBindings,a=he(o),u=tr(o);n[i]=e;let f,h=!1;if(Array.isArray(e)){const p=e;f=p[1],(null===f||yo(p,f)>0)&&(h=!0)}else f=e;if(s)if(0!==u){const v=he(n[a+1]);n[i+1]=bs(v,a),0!==v&&(n[v+1]=Ss(n[v+1],i)),n[a+1]=function(n,t){return 131071&n|t<<17}(n[a+1],i)}else n[i+1]=bs(a,0),0!==a&&(n[a+1]=Ss(n[a+1],i)),a=i;else n[i+1]=bs(u,0),0===a?a=i:n[u+1]=Ss(n[u+1],i),u=i;h&&(n[i+1]=Ot(n[i+1])),FM(n,f,i,!0),FM(n,f,i,!1),function(n,t,e,i,s){const r=s?n.residualClasses:n.residualStyles;null!=r&&"string"==typeof t&&yo(r,t)>=0&&(e[i+1]=ff(e[i+1]))}(t,f,n,i,r),o=bs(a,u),r?t.classBindings=o:t.styleBindings=o}(s,r,t,e,o,i)}}function mw(n,t,e,i,s){let r=null;const o=e.directiveEnd;let a=e.directiveStylingLast;for(-1===a?a=e.directiveStart:a++;a<o&&(r=t[a],i=Uf(i,r.hostAttrs,s),r!==n);)a++;return null!==n&&(e.directiveStylingLast=a),i}function Uf(n,t,e){const i=e?1:2;let s=-1;if(null!==t)for(let r=0;r<t.length;r++){const o=t[r];"number"==typeof o?s=o:s===i&&(Array.isArray(n)||(n=void 0===n?[]:["",n]),pi(n,o,!!e||t[++r]))}return void 0===n?null:n}function zM(n,t,e,i,s,r,o,a){if(!(3&t.type))return;const u=n.data,h=u[a+1];Ly(function(n){return 1==(1&n)}(h)?KM(u,t,e,s,tr(h),o):void 0)||(Ly(r)||function(n){return 2==(2&n)}(h)&&(r=KM(u,null,e,s,a,o)),function(n,t,e,i,s){const r=Dt(n);if(t)s?r?n.addClass(e,i):e.classList.add(i):r?n.removeClass(e,i):e.classList.remove(i);else{let o=-1===i.indexOf("-")?void 0:zn.DashCase;if(null==s)r?n.removeStyle(e,i,o):e.style.removeProperty(i);else{const a="string"==typeof s&&s.endsWith("!important");a&&(s=s.slice(0,-10),o|=zn.Important),r?n.setStyle(e,i,s,o):e.style.setProperty(i,s,a?"important":"")}}}(i,o,io(ye(),e),s,r))}function KM(n,t,e,i,s,r){const o=null===t;let a;for(;s>0;){const u=n[s],h=Array.isArray(u),f=h?u[1]:u,p=null===f;let v=e[s+1];v===ce&&(v=p?ct:void 0);let _=p?mo(v,i):f===i?v:void 0;if(h&&!Ly(_)&&(_=mo(u,i)),Ly(_)&&(a=_,o))return a;const S=n[s+1];s=o?he(S):tr(S)}if(null!==t){let u=r?t.residualClasses:t.residualStyles;null!=u&&(a=mo(u,i))}return a}function Ly(n){return void 0!==n}function YM(n,t){return 0!=(n.flags&(t?16:32))}function T(n,t=""){const e=W(),i=Qe(),s=n+20,r=i.firstCreatePass?_a(i,s,1,t,null):i.data[s],o=e[s]=function(n,t){return Dt(n)?n.createText(t):n.createTextNode(t)}(e[11],t);pu(i,e,o,r),ps(r,!1)}function Fi(n){return Bn("",n,""),Fi}function Bn(n,t,e){const i=W(),s=function(n,t,e,i){return Zn(n,wr(),e)?t+De(e)+i:ce}(i,n,t,e);return s!==ce&&nr(i,ye(),s),Bn}function jf(n,t,e,i,s){const r=W(),o=function(n,t,e,i,s,r){const a=Hl(n,Qi(),e,s);return ui(2),a?t+De(e)+i+De(s)+r:ce}(r,n,t,e,i,s);return o!==ce&&nr(r,ye(),o),jf}const Gl=void 0;var g3=["en",[["a","p"],["AM","PM"],Gl],[["AM","PM"],Gl,Gl],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Gl,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Gl,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Gl,"{1} 'at' {0}",Gl],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function(n){const t=Math.floor(Math.abs(n)),e=n.toString().replace(/^[^.]*\.?/,"").length;return 1===t&&0===e?1:5}];let qu={};function gI(n){return n in qu||(qu[n]=nt.ng&&nt.ng.common&&nt.ng.common.locales&&nt.ng.common.locales[n]),qu[n]}var te=(()=>((te=te||{})[te.LocaleId=0]="LocaleId",te[te.DayPeriodsFormat=1]="DayPeriodsFormat",te[te.DayPeriodsStandalone=2]="DayPeriodsStandalone",te[te.DaysFormat=3]="DaysFormat",te[te.DaysStandalone=4]="DaysStandalone",te[te.MonthsFormat=5]="MonthsFormat",te[te.MonthsStandalone=6]="MonthsStandalone",te[te.Eras=7]="Eras",te[te.FirstDayOfWeek=8]="FirstDayOfWeek",te[te.WeekendRange=9]="WeekendRange",te[te.DateFormat=10]="DateFormat",te[te.TimeFormat=11]="TimeFormat",te[te.DateTimeFormat=12]="DateTimeFormat",te[te.NumberSymbols=13]="NumberSymbols",te[te.NumberFormats=14]="NumberFormats",te[te.CurrencyCode=15]="CurrencyCode",te[te.CurrencySymbol=16]="CurrencySymbol",te[te.CurrencyName=17]="CurrencyName",te[te.Currencies=18]="Currencies",te[te.Directionality=19]="Directionality",te[te.PluralCase=20]="PluralCase",te[te.ExtraData=21]="ExtraData",te))();const Fy="en-US";let mI=Fy;function yw(n){oi(n,"Expected localeId to be defined"),"string"==typeof n&&(mI=n.toLowerCase().replace(/_/g,"-"))}function bw(n,t,e,i,s){if(n=le(n),Array.isArray(n))for(let r=0;r<n.length;r++)bw(n[r],t,e,i,s);else{const r=Qe(),o=W();let a=Ir(n)?n:le(n.provide),u=Dy(n);const h=Ft(),f=1048575&h.providerIndexes,p=h.directiveStart,v=h.providerIndexes>>20;if(Ir(n)||!n.multi){const _=new hi(u,s,V),S=Ew(a,t,s?f:f+v,p);-1===S?(Qc(di(h,o),r,a),Sw(r,n,t.length),t.push(a),h.directiveStart++,h.directiveEnd++,s&&(h.providerIndexes+=1048576),e.push(_),o.push(_)):(e[S]=_,o[S]=_)}else{const _=Ew(a,t,f+v,p),S=Ew(a,t,f,f+v),D=_>=0&&e[_],C=S>=0&&e[S];if(s&&!C||!s&&!D){Qc(di(h,o),r,a);const L=function(n,t,e,i,s){const r=new hi(n,e,V);return r.multi=[],r.index=t,r.componentProviders=0,$I(r,s,i&&!e),r}(s?dH:hH,e.length,s,i,u);!s&&C&&(e[S].providerFactory=L),Sw(r,n,t.length,0),t.push(a),h.directiveStart++,h.directiveEnd++,s&&(h.providerIndexes+=1048576),e.push(L),o.push(L)}else Sw(r,n,_>-1?_:S,$I(e[s?S:_],u,!s&&i));!s&&i&&C&&e[S].componentProviders++}}}function Sw(n,t,e,i){const s=Ir(t);if(s||function(n){return!!n.useClass}(t)){const o=(t.useClass||t).prototype.ngOnDestroy;if(o){const a=n.destroyHooks||(n.destroyHooks=[]);if(!s&&t.multi){const u=a.indexOf(e);-1===u?a.push(e,[i,o]):a[u+1].push(i,o)}else a.push(e,o)}}}function $I(n,t,e){return e&&n.componentProviders++,n.multi.push(t)-1}function Ew(n,t,e,i){for(let s=e;s<i;s++)if(t[s]===n)return s;return-1}function hH(n,t,e,i){return ww(this.multi,[])}function dH(n,t,e,i){const s=this.multi;let r;if(this.providerFactory){const o=this.providerFactory.componentProviders,a=la(e,e[1],this.providerFactory.index,i);r=a.slice(0,o),ww(s,r);for(let u=o;u<a.length;u++)r.push(a[u])}else r=[],ww(s,r);return r}function ww(n,t){for(let e=0;e<n.length;e++)t.push((0,n[e])());return t}function tt(n,t=[]){return e=>{e.providersResolver=(i,s)=>function(n,t,e){const i=Qe();if(i.firstCreatePass){const s=Yi(n);bw(e,i.data,i.blueprint,s,!0),bw(t,i.data,i.blueprint,s,!1)}}(i,s?s(n):n,t)}}class HI{}const GI="ngComponent";class gH{resolveComponentFactory(t){throw function(n){const t=Error(`No component factory found for ${Oe(n)}. Did you add it to @NgModule.entryComponents?`);return t[GI]=n,t}(t)}}let Uu=(()=>{class n{}return n.NULL=new gH,n})();function qy(...n){}function ju(n,t){return new Pt(Ie(n,t))}const vH=function(){return ju(Ft(),W())};let Pt=(()=>{class n{constructor(e){this.nativeElement=e}}return n.__NG_ELEMENT_ID__=vH,n})();function UI(n){return n instanceof Pt?n.nativeElement:n}class Ul{}let jl=(()=>{class n{}return n.__NG_ELEMENT_ID__=()=>bH(),n})();const bH=function(){const n=W(),e=ci(Ft().index,n);return function(n){return n[11]}(Ki(e)?e:n)};let Dw=(()=>{class n{}return n.\u0275prov=se({token:n,providedIn:"root",factory:()=>null}),n})();class Gy{constructor(t){this.full=t,this.major=t.split(".")[0],this.minor=t.split(".")[1],this.patch=t.split(".").slice(2).join(".")}}const jI=new Gy("12.2.17");class WI{constructor(){}supports(t){return Hf(t)}create(t){return new CH(t)}}const wH=(n,t)=>t;class CH{constructor(t){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=t||wH}forEachItem(t){let e;for(e=this._itHead;null!==e;e=e._next)t(e)}forEachOperation(t){let e=this._itHead,i=this._removalsHead,s=0,r=null;for(;e||i;){const o=!i||e&&e.currentIndex<KI(i,s,r)?e:i,a=KI(o,s,r),u=o.currentIndex;if(o===i)s--,i=i._nextRemoved;else if(e=e._next,null==o.previousIndex)s++;else{r||(r=[]);const h=a-s,f=u-s;if(h!=f){for(let v=0;v<h;v++){const _=v<r.length?r[v]:r[v]=0,S=_+v;f<=S&&S<h&&(r[v]=_+1)}r[o.previousIndex]=f-h}}a!==u&&t(o,a,u)}}forEachPreviousItem(t){let e;for(e=this._previousItHead;null!==e;e=e._nextPrevious)t(e)}forEachAddedItem(t){let e;for(e=this._additionsHead;null!==e;e=e._nextAdded)t(e)}forEachMovedItem(t){let e;for(e=this._movesHead;null!==e;e=e._nextMoved)t(e)}forEachRemovedItem(t){let e;for(e=this._removalsHead;null!==e;e=e._nextRemoved)t(e)}forEachIdentityChange(t){let e;for(e=this._identityChangesHead;null!==e;e=e._nextIdentityChange)t(e)}diff(t){if(null==t&&(t=[]),!Hf(t))throw new Error(`Error trying to diff '${Oe(t)}'. Only arrays and iterables are allowed`);return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let s,r,o,e=this._itHead,i=!1;if(Array.isArray(t)){this.length=t.length;for(let a=0;a<this.length;a++)r=t[a],o=this._trackByFn(a,r),null!==e&&Object.is(e.trackById,o)?(i&&(e=this._verifyReinsertion(e,r,o,a)),Object.is(e.item,r)||this._addIdentityChange(e,r)):(e=this._mismatch(e,r,o,a),i=!0),e=e._next}else s=0,function(n,t){if(Array.isArray(n))for(let e=0;e<n.length;e++)t(n[e]);else{const e=n[xu()]();let i;for(;!(i=e.next()).done;)t(i.value)}}(t,a=>{o=this._trackByFn(s,a),null!==e&&Object.is(e.trackById,o)?(i&&(e=this._verifyReinsertion(e,a,o,s)),Object.is(e.item,a)||this._addIdentityChange(e,a)):(e=this._mismatch(e,a,o,s),i=!0),e=e._next,s++}),this.length=s;return this._truncate(e),this.collection=t,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let t;for(t=this._previousItHead=this._itHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._additionsHead;null!==t;t=t._nextAdded)t.previousIndex=t.currentIndex;for(this._additionsHead=this._additionsTail=null,t=this._movesHead;null!==t;t=t._nextMoved)t.previousIndex=t.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(t,e,i,s){let r;return null===t?r=this._itTail:(r=t._prev,this._remove(t)),null!==(t=null===this._unlinkedRecords?null:this._unlinkedRecords.get(i,null))?(Object.is(t.item,e)||this._addIdentityChange(t,e),this._reinsertAfter(t,r,s)):null!==(t=null===this._linkedRecords?null:this._linkedRecords.get(i,s))?(Object.is(t.item,e)||this._addIdentityChange(t,e),this._moveAfter(t,r,s)):t=this._addAfter(new DH(e,i),r,s),t}_verifyReinsertion(t,e,i,s){let r=null===this._unlinkedRecords?null:this._unlinkedRecords.get(i,null);return null!==r?t=this._reinsertAfter(r,t._prev,s):t.currentIndex!=s&&(t.currentIndex=s,this._addToMoves(t,s)),t}_truncate(t){for(;null!==t;){const e=t._next;this._addToRemovals(this._unlink(t)),t=e}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(t,e,i){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(t);const s=t._prevRemoved,r=t._nextRemoved;return null===s?this._removalsHead=r:s._nextRemoved=r,null===r?this._removalsTail=s:r._prevRemoved=s,this._insertAfter(t,e,i),this._addToMoves(t,i),t}_moveAfter(t,e,i){return this._unlink(t),this._insertAfter(t,e,i),this._addToMoves(t,i),t}_addAfter(t,e,i){return this._insertAfter(t,e,i),this._additionsTail=null===this._additionsTail?this._additionsHead=t:this._additionsTail._nextAdded=t,t}_insertAfter(t,e,i){const s=null===e?this._itHead:e._next;return t._next=s,t._prev=e,null===s?this._itTail=t:s._prev=t,null===e?this._itHead=t:e._next=t,null===this._linkedRecords&&(this._linkedRecords=new zI),this._linkedRecords.put(t),t.currentIndex=i,t}_remove(t){return this._addToRemovals(this._unlink(t))}_unlink(t){null!==this._linkedRecords&&this._linkedRecords.remove(t);const e=t._prev,i=t._next;return null===e?this._itHead=i:e._next=i,null===i?this._itTail=e:i._prev=e,t}_addToMoves(t,e){return t.previousIndex===e||(this._movesTail=null===this._movesTail?this._movesHead=t:this._movesTail._nextMoved=t),t}_addToRemovals(t){return null===this._unlinkedRecords&&(this._unlinkedRecords=new zI),this._unlinkedRecords.put(t),t.currentIndex=null,t._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=t,t._prevRemoved=null):(t._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=t),t}_addIdentityChange(t,e){return t.item=e,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=t:this._identityChangesTail._nextIdentityChange=t,t}}class DH{constructor(t,e){this.item=t,this.trackById=e,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class AH{constructor(){this._head=null,this._tail=null}add(t){null===this._head?(this._head=this._tail=t,t._nextDup=null,t._prevDup=null):(this._tail._nextDup=t,t._prevDup=this._tail,t._nextDup=null,this._tail=t)}get(t,e){let i;for(i=this._head;null!==i;i=i._nextDup)if((null===e||e<=i.currentIndex)&&Object.is(i.trackById,t))return i;return null}remove(t){const e=t._prevDup,i=t._nextDup;return null===e?this._head=i:e._nextDup=i,null===i?this._tail=e:i._prevDup=e,null===this._head}}class zI{constructor(){this.map=new Map}put(t){const e=t.trackById;let i=this.map.get(e);i||(i=new AH,this.map.set(e,i)),i.add(t)}get(t,e){const s=this.map.get(t);return s?s.get(t,e):null}remove(t){const e=t.trackById;return this.map.get(e).remove(t)&&this.map.delete(e),t}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function KI(n,t,e){const i=n.previousIndex;if(null===i)return i;let s=0;return e&&i<e.length&&(s=e[i]),i+t+s}class YI{constructor(){}supports(t){return t instanceof Map||aw(t)}create(){return new PH}}class PH{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(t){let e;for(e=this._mapHead;null!==e;e=e._next)t(e)}forEachPreviousItem(t){let e;for(e=this._previousMapHead;null!==e;e=e._nextPrevious)t(e)}forEachChangedItem(t){let e;for(e=this._changesHead;null!==e;e=e._nextChanged)t(e)}forEachAddedItem(t){let e;for(e=this._additionsHead;null!==e;e=e._nextAdded)t(e)}forEachRemovedItem(t){let e;for(e=this._removalsHead;null!==e;e=e._nextRemoved)t(e)}diff(t){if(t){if(!(t instanceof Map||aw(t)))throw new Error(`Error trying to diff '${Oe(t)}'. Only maps and objects are allowed`)}else t=new Map;return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let e=this._mapHead;if(this._appendAfter=null,this._forEach(t,(i,s)=>{if(e&&e.key===s)this._maybeAddToChanges(e,i),this._appendAfter=e,e=e._next;else{const r=this._getOrCreateRecordForKey(s,i);e=this._insertBeforeOrAppend(e,r)}}),e){e._prev&&(e._prev._next=null),this._removalsHead=e;for(let i=e;null!==i;i=i._nextRemoved)i===this._mapHead&&(this._mapHead=null),this._records.delete(i.key),i._nextRemoved=i._next,i.previousValue=i.currentValue,i.currentValue=null,i._prev=null,i._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(t,e){if(t){const i=t._prev;return e._next=t,e._prev=i,t._prev=e,i&&(i._next=e),t===this._mapHead&&(this._mapHead=e),this._appendAfter=t,t}return this._appendAfter?(this._appendAfter._next=e,e._prev=this._appendAfter):this._mapHead=e,this._appendAfter=e,null}_getOrCreateRecordForKey(t,e){if(this._records.has(t)){const s=this._records.get(t);this._maybeAddToChanges(s,e);const r=s._prev,o=s._next;return r&&(r._next=o),o&&(o._prev=r),s._next=null,s._prev=null,s}const i=new kH(t);return this._records.set(t,i),i.currentValue=e,this._addToAdditions(i),i}_reset(){if(this.isDirty){let t;for(this._previousMapHead=this._mapHead,t=this._previousMapHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._changesHead;null!==t;t=t._nextChanged)t.previousValue=t.currentValue;for(t=this._additionsHead;null!=t;t=t._nextAdded)t.previousValue=t.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(t,e){Object.is(e,t.currentValue)||(t.previousValue=t.currentValue,t.currentValue=e,this._addToChanges(t))}_addToAdditions(t){null===this._additionsHead?this._additionsHead=this._additionsTail=t:(this._additionsTail._nextAdded=t,this._additionsTail=t)}_addToChanges(t){null===this._changesHead?this._changesHead=this._changesTail=t:(this._changesTail._nextChanged=t,this._changesTail=t)}_forEach(t,e){t instanceof Map?t.forEach(e):Object.keys(t).forEach(i=>e(t[i],i))}}class kH{constructor(t){this.key=t,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function QI(){return new Wu([new WI])}let Wu=(()=>{class n{constructor(e){this.factories=e}static create(e,i){if(null!=i){const s=i.factories.slice();e=e.concat(s)}return new n(e)}static extend(e){return{provide:n,useFactory:i=>n.create(e,i||QI()),deps:[[n,new Eo,new tn]]}}find(e){const i=this.factories.find(s=>s.supports(e));if(null!=i)return i;throw new Error(`Cannot find a differ supporting object '${e}' of type '${function(n){return n.name||typeof n}(e)}'`)}}return n.\u0275prov=se({token:n,providedIn:"root",factory:QI}),n})();function ZI(){return new zu([new YI])}let zu=(()=>{class n{constructor(e){this.factories=e}static create(e,i){if(i){const s=i.factories.slice();e=e.concat(s)}return new n(e)}static extend(e){return{provide:n,useFactory:i=>n.create(e,i||ZI()),deps:[[n,new Eo,new tn]]}}find(e){const i=this.factories.find(s=>s.supports(e));if(i)return i;throw new Error(`Cannot find a differ supporting object '${e}'`)}}return n.\u0275prov=se({token:n,providedIn:"root",factory:ZI}),n})();function Uy(n,t,e,i,s=!1){for(;null!==e;){const r=t[e.index];if(null!==r&&i.push(zt(r)),Di(r))for(let a=10;a<r.length;a++){const u=r[a],h=u[1].firstChild;null!==h&&Uy(u[1],u,h,i)}const o=e.type;if(8&o)Uy(n,t,e.child,i);else if(32&o){const a=Dl(e,t);let u;for(;u=a();)i.push(u)}else if(16&o){const a=Em(t,e);if(Array.isArray(a))i.push(...a);else{const u=Al(t[16]);Uy(u[1],u,a,i,!0)}}e=s?e.projectionNext:e.next}return i}class Qf{constructor(t,e){this._lView=t,this._cdRefInjectingView=e,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const t=this._lView,e=t[1];return Uy(e,t,e.firstChild,[])}get context(){return this._lView[8]}set context(t){this._lView[8]=t}get destroyed(){return 256==(256&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const t=this._lView[3];if(Di(t)){const e=t[8],i=e?e.indexOf(this):-1;i>-1&&(Wd(t,i),go(e,i))}this._attachedToViewContainer=!1}ym(this._lView[1],this._lView)}onDestroy(t){uy(this._lView[1],this._lView,null,t)}markForCheck(){Af(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-129}reattach(){this._lView[2]|=128}detectChanges(){kf(this._lView[1],this._lView,this.context)}checkNoChanges(){!function(n,t,e){Gc(!0);try{kf(n,t,e)}finally{Gc(!1)}}(this._lView[1],this._lView,this.context)}attachToViewContainerRef(){if(this._appRef)throw new Error("This view is already attached directly to the ApplicationRef!");this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function(n,t){Tl(n,t,t[11],2,null,null)}(this._lView[1],this._lView)}attachToAppRef(t){if(this._attachedToViewContainer)throw new Error("This view is already attached to a ViewContainer!");this._appRef=t}}class xH extends Qf{constructor(t){super(t),this._view=t}detectChanges(){by(this._view)}checkNoChanges(){!function(n){Gc(!0);try{by(n)}finally{Gc(!1)}}(this._view)}get context(){return null}}const IH=function(n){return function(n,t,e){if(Xo(n)&&!e){const i=ci(n.index,t);return new Qf(i,i)}return 47&n.type?new Qf(t[16],t):null}(Ft(),W(),16==(16&n))};let jy=(()=>{class n{}return n.__NG_ELEMENT_ID__=IH,n})();const RH=[new YI],FH=new Wu([new WI]),VH=new zu(RH),$H=function(){return Wy(Ft(),W())};let Ps=(()=>{class n{}return n.__NG_ELEMENT_ID__=$H,n})();const HH=Ps,qH=class extends HH{constructor(t,e,i){super(),this._declarationLView=t,this._declarationTContainer=e,this.elementRef=i}createEmbeddedView(t){const e=this._declarationTContainer.tViews,i=Fl(this._declarationLView,e,t,16,null,e.declTNode,null,null,null,null);i[17]=this._declarationLView[this._declarationTContainer.index];const r=this._declarationLView[19];return null!==r&&(i[19]=r.createEmbeddedView(e)),Vl(e,i,t),new Qf(i)}};function Wy(n,t){return 4&n.type?new qH(t,n,ju(n,t)):null}class Wl{}const WH=function(){return eO(Ft(),W())};let ks=(()=>{class n{}return n.__NG_ELEMENT_ID__=WH,n})();const KH=ks,JI=class extends KH{constructor(t,e,i){super(),this._lContainer=t,this._hostTNode=e,this._hostLView=i}get element(){return ju(this._hostTNode,this._hostLView)}get injector(){return new Rn(this._hostTNode,this._hostLView)}get parentInjector(){const t=Nn(this._hostTNode,this._hostLView);if(Vg(t)){const e=ra(t,this._hostLView),i=co(t);return new Rn(e[1].data[i+8],e)}return new Rn(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(t){const e=XI(this._lContainer);return null!==e&&e[t]||null}get length(){return this._lContainer.length-10}createEmbeddedView(t,e,i){const s=t.createEmbeddedView(e||{});return this.insert(s,i),s}createComponent(t,e,i,s,r){const o=i||this.parentInjector;if(!r&&null==t.ngModule&&o){const u=o.get(Wl,null);u&&(r=u)}const a=t.create(o,s,void 0,r);return this.insert(a.hostView,e),a}insert(t,e){const i=t._lView,s=i[1];if(function(n){return Di(n[3])}(i)){const f=this.indexOf(t);if(-1!==f)this.detach(f);else{const p=i[3],v=new JI(p,p[6],p[3]);v.detach(v.indexOf(t))}}const r=this._adjustIndex(e),o=this._lContainer;!function(n,t,e,i){const s=10+i,r=e.length;i>0&&(e[s-1][4]=t),i<r-10?(t[4]=e[s],vl(e,10+i,t)):(e.push(t),t[4]=null),t[3]=e;const o=t[17];null!==o&&e!==o&&function(n,t){const e=n[9];t[16]!==t[3][3][16]&&(n[2]=!0),null===e?n[9]=[t]:e.push(t)}(o,t);const a=t[19];null!==a&&a.insertView(n),t[2]|=128}(s,i,o,r);const a=Zd(r,o),u=i[11],h=kl(u,o[7]);return null!==h&&function(n,t,e,i,s,r){i[0]=s,i[6]=t,Tl(n,i,e,1,s,r)}(s,o[6],u,i,h,a),t.attachToViewContainerRef(),vl(Aw(o),r,t),t}move(t,e){return this.insert(t,e)}indexOf(t){const e=XI(this._lContainer);return null!==e?e.indexOf(t):-1}remove(t){const e=this._adjustIndex(t,-1),i=Wd(this._lContainer,e);i&&(go(Aw(this._lContainer),e),ym(i[1],i))}detach(t){const e=this._adjustIndex(t,-1),i=Wd(this._lContainer,e);return i&&null!=go(Aw(this._lContainer),e)?new Qf(i):null}_adjustIndex(t,e=0){return null==t?this.length+e:t}};function XI(n){return n[8]}function Aw(n){return n[8]||(n[8]=[])}function eO(n,t){let e;const i=t[n.index];if(Di(i))e=i;else{let s;if(8&n.type)s=zt(i);else{const r=t[11];s=r.createComment("");const o=Ie(n,t);kr(r,kl(r,o),s,function(n,t){return Dt(n)?n.nextSibling(t):t.nextSibling}(r,o),!1)}t[n.index]=e=_y(i,t,s,n),Pu(t,e)}return new JI(e,n,t)}const Zu={};class bO extends Uu{constructor(t){super(),this.ngModule=t}resolveComponentFactory(t){const e=_n(t);return new EO(e,this.ngModule)}}function SO(n){const t=[];for(let e in n)n.hasOwnProperty(e)&&t.push({propName:n[e],templateName:e});return t}const U4=new de("SCHEDULER_TOKEN",{providedIn:"root",factory:()=>uf});class EO extends HI{constructor(t,e){super(),this.componentDef=t,this.ngModule=e,this.componentType=t.type,this.selector=function(n){return n.map(cE).join(",")}(t.selectors),this.ngContentSelectors=t.ngContentSelectors?t.ngContentSelectors:[],this.isBoundToModule=!!e}get inputs(){return SO(this.componentDef.inputs)}get outputs(){return SO(this.componentDef.outputs)}create(t,e,i,s){const r=(s=s||this.ngModule)?function(n,t){return{get:(e,i,s)=>{const r=n.get(e,Zu,s);return r!==Zu||i===Zu?r:t.get(e,i,s)}}}(t,s.injector):t,o=r.get(Ul,li),a=r.get(Dw,null),u=o.createRenderer(null,this.componentDef),h=this.componentDef.selectors[0][0]||"div",f=i?function(n,t,e){if(Dt(n))return n.selectRootElement(t,e===$t.ShadowDom);let i="string"==typeof t?n.querySelector(t):t;return i.textContent="",i}(u,i,this.componentDef.encapsulation):Ud(o.createRenderer(null,this.componentDef),h,function(n){const t=n.toLowerCase();return"svg"===t?F:"math"===t?"http://www.w3.org/1998/MathML/":null}(h)),p=this.componentDef.onPush?576:528,v=function(n,t){return{components:[],scheduler:n||uf,clean:UE,playerHandler:t||null,flags:0}}(),_=Au(0,null,null,1,0,null,null,null,null,null),S=Fl(null,_,v,p,null,null,o,u,a,r);let D,C;Uc(S);try{const L=function(n,t,e,i,s,r){const o=e[1];e[20]=n;const u=_a(o,20,2,"#host",null),h=u.mergedAttrs=t.hostAttrs;null!==h&&(Tu(u,h,!0),null!==n&&(jn(s,n,h),null!==u.classes&&mu(s,n,u.classes),null!==u.styles&&ef(s,n,u.styles)));const f=i.createRenderer(n,t),p=Fl(e,Du(t),null,t.onPush?64:16,e[20],u,i,f,r||null,null);return o.firstCreatePass&&(Qc(di(u,e),o,t.type),vy(o,u),Ef(u,e.length,1)),Pu(e,p),e[20]=p}(f,this.componentDef,S,o,u);if(f)if(i)jn(u,f,["ng-version",jI.full]);else{const{attrs:N,classes:j}=function(n){const t=[],e=[];let i=1,s=2;for(;i<n.length;){let r=n[i];if("string"==typeof r)2===s?""!==r&&t.push(r,n[++i]):8===s&&e.push(r);else{if(!ns(s))break;s=r}i++}return{attrs:t,classes:e}}(this.componentDef.selectors[0]);N&&jn(u,f,N),j&&j.length>0&&mu(u,f,j.join(" "))}if(C=Fc(_,20),void 0!==e){const N=C.projection=[];for(let j=0;j<this.ngContentSelectors.length;j++){const U=e[j];N.push(null!=U?Array.from(U):null)}}D=function(n,t,e,i,s){const r=e[1],o=function(n,t,e){const i=Ft();n.firstCreatePass&&(e.providersResolver&&e.providersResolver(e),wf(n,i,t,ba(n,t,1,null),e));const s=la(t,n,i.directiveStart,i);En(s,t);const r=Ie(i,t);return r&&En(r,t),s}(r,e,t);if(i.components.push(o),n[8]=o,s&&s.forEach(u=>u(o,t)),t.contentQueries){const u=Ft();t.contentQueries(1,o,u.directiveStart)}const a=Ft();return!r.firstCreatePass||null===t.hostBindings&&null===t.hostAttrs||(Dr(a.index),my(e[1],a,0,a.directiveStart,a.directiveEnd,t),yy(t,o)),o}(L,this.componentDef,S,v,[WB]),Vl(_,S,null)}finally{Zs()}return new z4(this.componentType,D,ju(C,S),S,C)}}class z4 extends class{}{constructor(t,e,i,s,r){super(),this.location=i,this._rootLView=s,this._tNode=r,this.instance=e,this.hostView=this.changeDetectorRef=new xH(s),this.componentType=t}get injector(){return new Rn(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(t){this.hostView.onDestroy(t)}}const Ju=new Map;class Q4 extends Wl{constructor(t,e){super(),this._parent=e,this._bootstrapComponents=[],this.injector=this,this.destroyCbs=[],this.componentFactoryResolver=new bO(this);const i=ut(t),s=function(n){return n[Ob]||null}(t);s&&yw(s),this._bootstrapComponents=ts(i.bootstrap),this._r3Injector=Cy(t,e,[{provide:Wl,useValue:this},{provide:Uu,useValue:this.componentFactoryResolver}],Oe(t)),this._r3Injector._resolveInjectorDefTypes(),this.instance=this.get(t)}get(t,e=St.THROW_IF_NOT_FOUND,i=pe.Default){return t===St||t===Wl||t===wa?this:this._r3Injector.get(t,e,i)}destroy(){const t=this._r3Injector;!t.destroyed&&t.destroy(),this.destroyCbs.forEach(e=>e()),this.destroyCbs=null}onDestroy(t){this.destroyCbs.push(t)}}class Bw extends class{}{constructor(t){super(),this.moduleType=t,null!==ut(t)&&function(n){const t=new Set;!function e(i){const s=ut(i,!0),r=s.id;null!==r&&(function(n,t,e){if(t&&t!==e)throw new Error(`Duplicate module registered for ${n} - ${Oe(t)} vs ${Oe(t.name)}`)}(r,Ju.get(r),i),Ju.set(r,i));const o=ts(s.imports);for(const a of o)t.has(a)||(t.add(a),e(a))}(n)}(t)}create(t){return new Q4(this.moduleType,t)}}function AO(n,t,e,i,s){return function(n,t,e,i,s,r,o){const a=t+e;return Hl(n,a,s,r)?Nr(n,a+2,o?i.call(o,s,r):i(s,r)):sp(n,a+2)}(W(),On(),n,t,e,i,s)}function sp(n,t){const e=n[t];return e===ce?void 0:e}function PO(n,t,e,i,s,r){const o=t+e;return Zn(n,o,s)?Nr(n,o+1,r?i.call(r,s):i(s)):sp(n,o+1)}function Xu(n,t){const e=Qe();let i;const s=n+20;e.firstCreatePass?(i=function(n,t){if(t)for(let e=t.length-1;e>=0;e--){const i=t[e];if(n===i.name)return i}throw new br("302",`The pipe '${n}' could not be found!`)}(t,e.pipeRegistry),e.data[s]=i,i.onDestroy&&(e.destroyHooks||(e.destroyHooks=[])).push(s,i.onDestroy)):i=e.data[s];const r=i.factory||(i.factory=to(i.type)),o=zs(V);try{const a=oa(!1),u=r();return oa(a),function(n,t,e,i){e>=n.data.length&&(n.data[e]=null,n.blueprint[e]=null),t[e]=i}(e,W(),s,u),u}finally{zs(o)}}function eh(n,t,e){const i=n+20,s=W(),r=function(n,t){return n[t]}(s,i);return function(n,t){sr.isWrapped(t)&&(t=sr.unwrap(t),n[Qi()]=ce);return t}(s,function(n,t){return n[1].data[t].pure}(s,i)?PO(s,On(),t,r.transform,e,r):r.transform(e))}function $w(n){return t=>{setTimeout(n,void 0,t)}}const at=class extends Ue{constructor(t=!1){super(),this.__isAsync=t}emit(t){super.next(t)}subscribe(t,e,i){var s,r,o;let a=t,u=e||(()=>null),h=i;if(t&&"object"==typeof t){const p=t;a=null===(s=p.next)||void 0===s?void 0:s.bind(p),u=null===(r=p.error)||void 0===r?void 0:r.bind(p),h=null===(o=p.complete)||void 0===o?void 0:o.bind(p)}this.__isAsync&&(u=$w(u),a&&(a=$w(a)),h&&(h=$w(h)));const f=super.subscribe({next:a,error:u,complete:h});return t instanceof We&&t.add(f),f}};function hq(){return this._results[xu()]()}class Zy{constructor(t=!1){this._emitDistinctChangesOnly=t,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const e=xu(),i=Zy.prototype;i[e]||(i[e]=hq)}get changes(){return this._changes||(this._changes=new at)}get(t){return this._results[t]}map(t){return this._results.map(t)}filter(t){return this._results.filter(t)}find(t){return this._results.find(t)}reduce(t,e){return this._results.reduce(t,e)}forEach(t){this._results.forEach(t)}some(t){return this._results.some(t)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(t,e){const i=this;i.dirty=!1;const s=fi(t);(this._changesDetected=!function(n,t,e){if(n.length!==t.length)return!1;for(let i=0;i<n.length;i++){let s=n[i],r=t[i];if(e&&(s=e(s),r=e(r)),r!==s)return!1}return!0}(i._results,s,e))&&(i._results=s,i.length=s.length,i.last=s[this.length-1],i.first=s[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}Symbol;class Hw{constructor(t){this.queryList=t,this.matches=null}clone(){return new Hw(this.queryList)}setDirty(){this.queryList.setDirty()}}class qw{constructor(t=[]){this.queries=t}createEmbeddedView(t){const e=t.queries;if(null!==e){const i=null!==t.contentQueries?t.contentQueries[0]:e.length,s=[];for(let r=0;r<i;r++){const o=e.getByIndex(r);s.push(this.queries[o.indexInDeclarationView].clone())}return new qw(s)}return null}insertView(t){this.dirtyQueriesWithMatches(t)}detachView(t){this.dirtyQueriesWithMatches(t)}dirtyQueriesWithMatches(t){for(let e=0;e<this.queries.length;e++)null!==LO(t,e).matches&&this.queries[e].setDirty()}}class IO{constructor(t,e,i=null){this.predicate=t,this.flags=e,this.read=i}}class Gw{constructor(t=[]){this.queries=t}elementStart(t,e){for(let i=0;i<this.queries.length;i++)this.queries[i].elementStart(t,e)}elementEnd(t){for(let e=0;e<this.queries.length;e++)this.queries[e].elementEnd(t)}embeddedTView(t){let e=null;for(let i=0;i<this.length;i++){const s=null!==e?e.length:0,r=this.getByIndex(i).embeddedTView(t,s);r&&(r.indexInDeclarationView=i,null!==e?e.push(r):e=[r])}return null!==e?new Gw(e):null}template(t,e){for(let i=0;i<this.queries.length;i++)this.queries[i].template(t,e)}getByIndex(t){return this.queries[t]}get length(){return this.queries.length}track(t){this.queries.push(t)}}class Uw{constructor(t,e=-1){this.metadata=t,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=e}elementStart(t,e){this.isApplyingToNode(e)&&this.matchTNode(t,e)}elementEnd(t){this._declarationNodeIndex===t.index&&(this._appliesToNextNode=!1)}template(t,e){this.elementStart(t,e)}embeddedTView(t,e){return this.isApplyingToNode(t)?(this.crossesNgTemplate=!0,this.addMatch(-t.index,e),new Uw(this.metadata)):null}isApplyingToNode(t){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const e=this._declarationNodeIndex;let i=t.parent;for(;null!==i&&8&i.type&&i.index!==e;)i=i.parent;return e===(null!==i?i.index:-1)}return this._appliesToNextNode}matchTNode(t,e){const i=this.metadata.predicate;if(Array.isArray(i))for(let s=0;s<i.length;s++){const r=i[s];this.matchTNodeWithReadOption(t,e,pq(e,r)),this.matchTNodeWithReadOption(t,e,Jc(e,t,r,!1,!1))}else i===Ps?4&e.type&&this.matchTNodeWithReadOption(t,e,-1):this.matchTNodeWithReadOption(t,e,Jc(e,t,i,!1,!1))}matchTNodeWithReadOption(t,e,i){if(null!==i){const s=this.metadata.read;if(null!==s)if(s===Pt||s===ks||s===Ps&&4&e.type)this.addMatch(e.index,-2);else{const r=Jc(e,t,s,!1,!1);null!==r&&this.addMatch(e.index,r)}else this.addMatch(e.index,i)}}addMatch(t,e){null===this.matches?this.matches=[t,e]:this.matches.push(t,e)}}function pq(n,t){const e=n.localNames;if(null!==e)for(let i=0;i<e.length;i+=2)if(e[i]===t)return e[i+1];return null}function mq(n,t,e,i){return-1===e?function(n,t){return 11&n.type?ju(n,t):4&n.type?Wy(n,t):null}(t,n):-2===e?function(n,t,e){return e===Pt?ju(t,n):e===Ps?Wy(t,n):e===ks?eO(t,n):void 0}(n,t,i):la(n,n[1],e,t)}function OO(n,t,e,i){const s=t[19].queries[i];if(null===s.matches){const r=n.data,o=e.matches,a=[];for(let u=0;u<o.length;u+=2){const h=o[u];a.push(h<0?null:mq(t,r[h],o[u+1],e.metadata.read))}s.matches=a}return s.matches}function jw(n,t,e,i){const s=n.queries.getByIndex(e),r=s.matches;if(null!==r){const o=OO(n,t,s,e);for(let a=0;a<r.length;a+=2){const u=r[a];if(u>0)i.push(o[a/2]);else{const h=r[a+1],f=t[-u];for(let p=10;p<f.length;p++){const v=f[p];v[17]===v[3]&&jw(v[1],v,h,i)}if(null!==f[9]){const p=f[9];for(let v=0;v<p.length;v++){const _=p[v];jw(_[1],_,h,i)}}}}}return i}function Yl(n){const t=W(),e=Qe(),i=Og();fd(i+1);const s=LO(e,i);if(n.dirty&&Tg(t)===(2==(2&s.metadata.flags))){if(null===s.matches)n.reset([]);else{const r=s.crossesNgTemplate?jw(e,t,i,[]):OO(e,t,s,i);n.reset(r,UI),n.notifyOnChanges()}return!0}return!1}function Jy(n,t,e){const i=Qe();i.firstCreatePass&&(RO(i,new IO(n,t,e),-1),2==(2&t)&&(i.staticViewQueries=!0)),NO(i,W(),t)}function Xy(n,t,e,i){const s=Qe();if(s.firstCreatePass){const r=Ft();RO(s,new IO(t,e,i),r.index),function(n,t){const e=n.contentQueries||(n.contentQueries=[]);t!==(e.length?e[e.length-1]:-1)&&e.push(n.queries.length-1,t)}(s,n),2==(2&e)&&(s.staticContentQueries=!0)}NO(s,W(),e)}function Ql(){return function(n,t){return n[19].queries[t].queryList}(W(),Og())}function NO(n,t,e){const i=new Zy(4==(4&e));uy(n,t,i,i.destroy),null===t[19]&&(t[19]=new qw),t[19].queries.push(new Hw(i))}function RO(n,t,e){null===n.queries&&(n.queries=new Gw),n.queries.track(new Uw(t,e))}function LO(n,t){return n.queries.getByIndex(t)}const nv=new de("Application Initializer");let nh=(()=>{class n{constructor(e){this.appInits=e,this.resolve=qy,this.reject=qy,this.initialized=!1,this.done=!1,this.donePromise=new Promise((i,s)=>{this.resolve=i,this.reject=s})}runInitializers(){if(this.initialized)return;const e=[],i=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let s=0;s<this.appInits.length;s++){const r=this.appInits[s]();if(Ry(r))e.push(r);else if(fw(r)){const o=new Promise((a,u)=>{r.subscribe({complete:a,error:u})});e.push(o)}}Promise.all(e).then(()=>{i()}).catch(s=>{this.reject(s)}),0===e.length&&i(),this.initialized=!0}}return n.\u0275fac=function(e){return new(e||n)(B(nv,8))},n.\u0275prov=se({token:n,factory:n.\u0275fac}),n})();const lp=new de("AppId"),zq={provide:lp,useFactory:function(){return`${Zw()}${Zw()}${Zw()}`},deps:[]};function Zw(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const eN=new de("Platform Initializer"),ih=new de("Platform ID"),Kq=new de("appBootstrapListener");let Jw=(()=>{class n{log(e){console.log(e)}warn(e){console.warn(e)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=se({token:n,factory:n.\u0275fac}),n})();const Da=new de("LocaleId"),tN=new de("DefaultCurrencyCode");class Qq{constructor(t,e){this.ngModuleFactory=t,this.componentFactories=e}}const Xw=function(n){return new Bw(n)},Zq=Xw,Jq=function(n){return Promise.resolve(Xw(n))},nN=function(n){const t=Xw(n),i=ts(ut(n).declarations).reduce((s,r)=>{const o=_n(r);return o&&s.push(new EO(o)),s},[]);return new Qq(t,i)},Xq=nN,eG=function(n){return Promise.resolve(nN(n))};let sv=(()=>{class n{constructor(){this.compileModuleSync=Zq,this.compileModuleAsync=Jq,this.compileModuleAndAllComponentsSync=Xq,this.compileModuleAndAllComponentsAsync=eG}clearCache(){}clearCacheFor(e){}getModuleId(e){}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=se({token:n,factory:n.\u0275fac}),n})();const iG=(()=>Promise.resolve(0))();function eC(n){"undefined"==typeof Zone?iG.then(()=>{n&&n.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",n)}class Fe{constructor({enableLongStackTrace:t=!1,shouldCoalesceEventChangeDetection:e=!1,shouldCoalesceRunChangeDetection:i=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new at(!1),this.onMicrotaskEmpty=new at(!1),this.onStable=new at(!1),this.onError=new at(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched();const s=this;s._nesting=0,s._outer=s._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(s._inner=s._inner.fork(new Zone.TaskTrackingZoneSpec)),t&&Zone.longStackTraceZoneSpec&&(s._inner=s._inner.fork(Zone.longStackTraceZoneSpec)),s.shouldCoalesceEventChangeDetection=!i&&e,s.shouldCoalesceRunChangeDetection=i,s.lastRequestAnimationFrameId=-1,s.nativeRequestAnimationFrame=function(){let n=nt.requestAnimationFrame,t=nt.cancelAnimationFrame;if("undefined"!=typeof Zone&&n&&t){const e=n[Zone.__symbol__("OriginalDelegate")];e&&(n=e);const i=t[Zone.__symbol__("OriginalDelegate")];i&&(t=i)}return{nativeRequestAnimationFrame:n,nativeCancelAnimationFrame:t}}().nativeRequestAnimationFrame,function(n){const t=()=>{!function(n){n.isCheckStableRunning||-1!==n.lastRequestAnimationFrameId||(n.lastRequestAnimationFrameId=n.nativeRequestAnimationFrame.call(nt,()=>{n.fakeTopEventTask||(n.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{n.lastRequestAnimationFrameId=-1,nC(n),n.isCheckStableRunning=!0,tC(n),n.isCheckStableRunning=!1},void 0,()=>{},()=>{})),n.fakeTopEventTask.invoke()}),nC(n))}(n)};n._inner=n._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(e,i,s,r,o,a)=>{try{return iN(n),e.invokeTask(s,r,o,a)}finally{(n.shouldCoalesceEventChangeDetection&&"eventTask"===r.type||n.shouldCoalesceRunChangeDetection)&&t(),sN(n)}},onInvoke:(e,i,s,r,o,a,u)=>{try{return iN(n),e.invoke(s,r,o,a,u)}finally{n.shouldCoalesceRunChangeDetection&&t(),sN(n)}},onHasTask:(e,i,s,r)=>{e.hasTask(s,r),i===s&&("microTask"==r.change?(n._hasPendingMicrotasks=r.microTask,nC(n),tC(n)):"macroTask"==r.change&&(n.hasPendingMacrotasks=r.macroTask))},onHandleError:(e,i,s,r)=>(e.handleError(s,r),n.runOutsideAngular(()=>n.onError.emit(r)),!1)})}(s)}static isInAngularZone(){return!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Fe.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}static assertNotInAngularZone(){if(Fe.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}run(t,e,i){return this._inner.run(t,e,i)}runTask(t,e,i,s){const r=this._inner,o=r.scheduleEventTask("NgZoneEvent: "+s,t,rG,qy,qy);try{return r.runTask(o,e,i)}finally{r.cancelTask(o)}}runGuarded(t,e,i){return this._inner.runGuarded(t,e,i)}runOutsideAngular(t){return this._outer.run(t)}}const rG={};function tC(n){if(0==n._nesting&&!n.hasPendingMicrotasks&&!n.isStable)try{n._nesting++,n.onMicrotaskEmpty.emit(null)}finally{if(n._nesting--,!n.hasPendingMicrotasks)try{n.runOutsideAngular(()=>n.onStable.emit(null))}finally{n.isStable=!0}}}function nC(n){n.hasPendingMicrotasks=!!(n._hasPendingMicrotasks||(n.shouldCoalesceEventChangeDetection||n.shouldCoalesceRunChangeDetection)&&-1!==n.lastRequestAnimationFrameId)}function iN(n){n._nesting++,n.isStable&&(n.isStable=!1,n.onUnstable.emit(null))}function sN(n){n._nesting--,tC(n)}class lG{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new at,this.onMicrotaskEmpty=new at,this.onStable=new at,this.onError=new at}run(t,e,i){return t.apply(e,i)}runGuarded(t,e,i){return t.apply(e,i)}runOutsideAngular(t){return t()}runTask(t,e,i,s){return t.apply(e,i)}}let iC=(()=>{class n{constructor(e){this._ngZone=e,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),e.run(()=>{this.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Fe.assertNotInAngularZone(),eC(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())eC(()=>{for(;0!==this._callbacks.length;){let e=this._callbacks.pop();clearTimeout(e.timeoutId),e.doneCb(this._didWork)}this._didWork=!1});else{let e=this.getPendingTasks();this._callbacks=this._callbacks.filter(i=>!i.updateCb||!i.updateCb(e)||(clearTimeout(i.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(e=>({source:e.source,creationLocation:e.creationLocation,data:e.data})):[]}addCallback(e,i,s){let r=-1;i&&i>0&&(r=setTimeout(()=>{this._callbacks=this._callbacks.filter(o=>o.timeoutId!==r),e(this._didWork,this.getPendingTasks())},i)),this._callbacks.push({doneCb:e,timeoutId:r,updateCb:s})}whenStable(e,i,s){if(s&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(e,i,s),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}findProviders(e,i,s){return[]}}return n.\u0275fac=function(e){return new(e||n)(B(Fe))},n.\u0275prov=se({token:n,factory:n.\u0275fac}),n})(),rN=(()=>{class n{constructor(){this._applications=new Map,sC.addToWindow(this)}registerApplication(e,i){this._applications.set(e,i)}unregisterApplication(e){this._applications.delete(e)}unregisterAllApplications(){this._applications.clear()}getTestability(e){return this._applications.get(e)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(e,i=!0){return sC.findTestabilityInTree(this,e,i)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=se({token:n,factory:n.\u0275fac}),n})();class cG{addToWindow(t){}findTestabilityInTree(t,e,i){return null}}let sC=new cG,oN=!0,aN=!1;let ur;const cN=new de("AllowMultipleToken");function uN(n,t,e=[]){const i=`Platform: ${t}`,s=new de(i);return(r=[])=>{let o=hN();if(!o||o.injector.get(cN,!1))if(n)n(e.concat(r).concat({provide:s,useValue:!0}));else{const a=e.concat(r).concat({provide:s,useValue:!0},{provide:xo,useValue:"platform"});!function(n){if(ur&&!ur.destroyed&&!ur.injector.get(cN,!1))throw new Error("There can be only one platform. Destroy the previous one to create a new one.");ur=n.get(dN);const t=n.get(eN,null);t&&t.forEach(e=>e())}(St.create({providers:a,name:i}))}return function(n){const t=hN();if(!t)throw new Error("No platform exists!");if(!t.injector.get(n,null))throw new Error("A platform with a different configuration has been created. Please destroy it first.");return t}(s)}}function hN(){return ur&&!ur.destroyed?ur:null}let dN=(()=>{class n{constructor(e){this._injector=e,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(e,i){const a=function(n,t){let e;return e="noop"===n?new lG:("zone.js"===n?void 0:n)||new Fe({enableLongStackTrace:(aN=!0,oN),shouldCoalesceEventChangeDetection:!!(null==t?void 0:t.ngZoneEventCoalescing),shouldCoalesceRunChangeDetection:!!(null==t?void 0:t.ngZoneRunCoalescing)}),e}(i?i.ngZone:void 0,{ngZoneEventCoalescing:i&&i.ngZoneEventCoalescing||!1,ngZoneRunCoalescing:i&&i.ngZoneRunCoalescing||!1}),u=[{provide:Fe,useValue:a}];return a.run(()=>{const h=St.create({providers:u,parent:this.injector,name:e.moduleType.name}),f=e.create(h),p=f.injector.get(ko,null);if(!p)throw new Error("No ErrorHandler. Is platform module (BrowserModule) included?");return a.runOutsideAngular(()=>{const v=a.onError.subscribe({next:_=>{p.handleError(_)}});f.onDestroy(()=>{rC(this._modules,f),v.unsubscribe()})}),function(n,t,e){try{const i=e();return Ry(i)?i.catch(s=>{throw t.runOutsideAngular(()=>n.handleError(s)),s}):i}catch(i){throw t.runOutsideAngular(()=>n.handleError(i)),i}}(p,a,()=>{const v=f.injector.get(nh);return v.runInitializers(),v.donePromise.then(()=>(yw(f.injector.get(Da,Fy)||Fy),this._moduleDoBootstrap(f),f))})})}bootstrapModule(e,i=[]){const s=fN({},i);return function(n,t,e){const i=new Bw(e);return Promise.resolve(i)}(0,0,e).then(r=>this.bootstrapModuleFactory(r,s))}_moduleDoBootstrap(e){const i=e.injector.get(cp);if(e._bootstrapComponents.length>0)e._bootstrapComponents.forEach(s=>i.bootstrap(s));else{if(!e.instance.ngDoBootstrap)throw new Error(`The module ${Oe(e.instance.constructor)} was bootstrapped, but it does not declare "@NgModule.bootstrap" components nor a "ngDoBootstrap" method. Please define one of these.`);e.instance.ngDoBootstrap(i)}this._modules.push(e)}onDestroy(e){this._destroyListeners.push(e)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Error("The platform has already been destroyed!");this._modules.slice().forEach(e=>e.destroy()),this._destroyListeners.forEach(e=>e()),this._destroyed=!0}get destroyed(){return this._destroyed}}return n.\u0275fac=function(e){return new(e||n)(B(St))},n.\u0275prov=se({token:n,factory:n.\u0275fac}),n})();function fN(n,t){return Array.isArray(t)?t.reduce(fN,n):Object.assign(Object.assign({},n),t)}let cp=(()=>{class n{constructor(e,i,s,r,o){this._zone=e,this._injector=i,this._exceptionHandler=s,this._componentFactoryResolver=r,this._initStatus=o,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const a=new $e(h=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{h.next(this._stable),h.complete()})}),u=new $e(h=>{let f;this._zone.runOutsideAngular(()=>{f=this._zone.onStable.subscribe(()=>{Fe.assertNotInAngularZone(),eC(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,h.next(!0))})})});const p=this._zone.onUnstable.subscribe(()=>{Fe.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{h.next(!1)}))});return()=>{f.unsubscribe(),p.unsubscribe()}});this.isStable=_r(a,u.pipe(n=>kc()(function(n,t){return function(i){let s;s="function"==typeof n?n:function(){return n};const r=Object.create(i,Gh);return r.source=i,r.subjectFactory=s,r}}(bb)(n))))}bootstrap(e,i){if(!this._initStatus.done)throw new Error("Cannot bootstrap as there are still asynchronous initializers running. Bootstrap components in the `ngDoBootstrap` method of the root module.");let s;s=e instanceof HI?e:this._componentFactoryResolver.resolveComponentFactory(e),this.componentTypes.push(s.componentType);const r=function(n){return n.isBoundToModule}(s)?void 0:this._injector.get(Wl),a=s.create(St.NULL,[],i||s.selector,r),u=a.location.nativeElement,h=a.injector.get(iC,null),f=h&&a.injector.get(rN);return h&&f&&f.registerApplication(u,h),a.onDestroy(()=>{this.detachView(a.hostView),rC(this.components,a),f&&f.unregisterApplication(u)}),this._loadComponent(a),a}tick(){if(this._runningTick)throw new Error("ApplicationRef.tick is called recursively");try{this._runningTick=!0;for(let e of this._views)e.detectChanges()}catch(e){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(e))}finally{this._runningTick=!1}}attachView(e){const i=e;this._views.push(i),i.attachToAppRef(this)}detachView(e){const i=e;rC(this._views,i),i.detachFromAppRef()}_loadComponent(e){this.attachView(e.hostView),this.tick(),this.components.push(e),this._injector.get(Kq,[]).concat(this._bootstrapListeners).forEach(s=>s(e))}ngOnDestroy(){this._views.slice().forEach(e=>e.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}get viewCount(){return this._views.length}}return n.\u0275fac=function(e){return new(e||n)(B(Fe),B(St),B(ko),B(Uu),B(nh))},n.\u0275prov=se({token:n,factory:n.\u0275fac}),n})();function rC(n,t){const e=n.indexOf(t);e>-1&&n.splice(e,1)}const LG=uN(null,"core",[{provide:ih,useValue:"unknown"},{provide:dN,deps:[St]},{provide:rN,deps:[]},{provide:Jw,deps:[]}]),HG=[{provide:cp,useClass:cp,deps:[Fe,St,ko,Uu,nh]},{provide:U4,deps:[Fe],useFactory:function(n){let t=[];return n.onStable.subscribe(()=>{for(;t.length;)t.pop()()}),function(e){t.push(e)}}},{provide:nh,useClass:nh,deps:[[new tn,nv]]},{provide:sv,useClass:sv,deps:[]},zq,{provide:Wu,useFactory:function(){return FH},deps:[]},{provide:zu,useFactory:function(){return VH},deps:[]},{provide:Da,useFactory:function(n){return yw(n=n||"undefined"!=typeof $localize&&$localize.locale||Fy),n},deps:[[new ln(Da),new tn,new Eo]]},{provide:tN,useValue:"USD"}];let GG=(()=>{class n{constructor(e){}}return n.\u0275fac=function(e){return new(e||n)(B(cp))},n.\u0275mod=Wt({type:n}),n.\u0275inj=Lt({providers:HG}),n})(),pv=null;function Xl(){return pv}const je=new de("DocumentToken");var cn=(()=>((cn=cn||{})[cn.Zero=0]="Zero",cn[cn.One=1]="One",cn[cn.Two=2]="Two",cn[cn.Few=3]="Few",cn[cn.Many=4]="Many",cn[cn.Other=5]="Other",cn))();const ZU=function(n){return function(n){const t=function(n){return n.toLowerCase().replace(/_/g,"-")}(n);let e=gI(t);if(e)return e;const i=t.split("-")[0];if(e=gI(i),e)return e;if("en"===i)return g3;throw new Error(`Missing locale data for the locale "${n}".`)}(n)[te.PluralCase]};class Cv{}let A5=(()=>{class n extends Cv{constructor(e){super(),this.locale=e}getPluralCategory(e,i){switch(ZU(i||this.locale)(e)){case cn.Zero:return"zero";case cn.One:return"one";case cn.Two:return"two";case cn.Few:return"few";case cn.Many:return"many";default:return"other"}}}return n.\u0275fac=function(e){return new(e||n)(B(Da))},n.\u0275prov=se({token:n,factory:n.\u0275fac}),n})();function ZN(n,t){t=encodeURIComponent(t);for(const e of n.split(";")){const i=e.indexOf("="),[s,r]=-1==i?[e,""]:[e.slice(0,i),e.slice(i+1)];if(s.trim()===t)return decodeURIComponent(r)}return null}let kC=(()=>{class n{constructor(e,i,s,r){this._iterableDiffers=e,this._keyValueDiffers=i,this._ngEl=s,this._renderer=r,this._iterableDiffer=null,this._keyValueDiffer=null,this._initialClasses=[],this._rawClass=null}set klass(e){this._removeClasses(this._initialClasses),this._initialClasses="string"==typeof e?e.split(/\s+/):[],this._applyClasses(this._initialClasses),this._applyClasses(this._rawClass)}set ngClass(e){this._removeClasses(this._rawClass),this._applyClasses(this._initialClasses),this._iterableDiffer=null,this._keyValueDiffer=null,this._rawClass="string"==typeof e?e.split(/\s+/):e,this._rawClass&&(Hf(this._rawClass)?this._iterableDiffer=this._iterableDiffers.find(this._rawClass).create():this._keyValueDiffer=this._keyValueDiffers.find(this._rawClass).create())}ngDoCheck(){if(this._iterableDiffer){const e=this._iterableDiffer.diff(this._rawClass);e&&this._applyIterableChanges(e)}else if(this._keyValueDiffer){const e=this._keyValueDiffer.diff(this._rawClass);e&&this._applyKeyValueChanges(e)}}_applyKeyValueChanges(e){e.forEachAddedItem(i=>this._toggleClass(i.key,i.currentValue)),e.forEachChangedItem(i=>this._toggleClass(i.key,i.currentValue)),e.forEachRemovedItem(i=>{i.previousValue&&this._toggleClass(i.key,!1)})}_applyIterableChanges(e){e.forEachAddedItem(i=>{if("string"!=typeof i.item)throw new Error(`NgClass can only toggle CSS classes expressed as strings, got ${Oe(i.item)}`);this._toggleClass(i.item,!0)}),e.forEachRemovedItem(i=>this._toggleClass(i.item,!1))}_applyClasses(e){e&&(Array.isArray(e)||e instanceof Set?e.forEach(i=>this._toggleClass(i,!0)):Object.keys(e).forEach(i=>this._toggleClass(i,!!e[i])))}_removeClasses(e){e&&(Array.isArray(e)||e instanceof Set?e.forEach(i=>this._toggleClass(i,!1)):Object.keys(e).forEach(i=>this._toggleClass(i,!1)))}_toggleClass(e,i){(e=e.trim())&&e.split(/\s+/g).forEach(s=>{i?this._renderer.addClass(this._ngEl.nativeElement,s):this._renderer.removeClass(this._ngEl.nativeElement,s)})}}return n.\u0275fac=function(e){return new(e||n)(V(Wu),V(zu),V(Pt),V(jl))},n.\u0275dir=re({type:n,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"}}),n})();class k5{constructor(t,e,i,s){this.$implicit=t,this.ngForOf=e,this.index=i,this.count=s}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let mp=(()=>{class n{constructor(e,i,s){this._viewContainer=e,this._template=i,this._differs=s,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(e){this._ngForOf=e,this._ngForOfDirty=!0}set ngForTrackBy(e){this._trackByFn=e}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(e){e&&(this._template=e)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const e=this._ngForOf;if(!this._differ&&e)try{this._differ=this._differs.find(e).create(this.ngForTrackBy)}catch(i){throw new Error(`Cannot find a differ supporting object '${e}' of type '${function(n){return n.name||typeof n}(e)}'. NgFor only supports binding to Iterables such as Arrays.`)}}if(this._differ){const e=this._differ.diff(this._ngForOf);e&&this._applyChanges(e)}}_applyChanges(e){const i=[];e.forEachOperation((s,r,o)=>{if(null==s.previousIndex){const a=this._viewContainer.createEmbeddedView(this._template,new k5(null,this._ngForOf,-1,-1),null===o?void 0:o),u=new JN(s,a);i.push(u)}else if(null==o)this._viewContainer.remove(null===r?void 0:r);else if(null!==r){const a=this._viewContainer.get(r);this._viewContainer.move(a,o);const u=new JN(s,a);i.push(u)}});for(let s=0;s<i.length;s++)this._perViewChange(i[s].view,i[s].record);for(let s=0,r=this._viewContainer.length;s<r;s++){const o=this._viewContainer.get(s);o.context.index=s,o.context.count=r,o.context.ngForOf=this._ngForOf}e.forEachIdentityChange(s=>{this._viewContainer.get(s.currentIndex).context.$implicit=s.item})}_perViewChange(e,i){e.context.$implicit=i.item}static ngTemplateContextGuard(e,i){return!0}}return n.\u0275fac=function(e){return new(e||n)(V(ks),V(Ps),V(Wu))},n.\u0275dir=re({type:n,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}}),n})();class JN{constructor(t,e){this.record=t,this.view=e}}let oh=(()=>{class n{constructor(e,i){this._viewContainer=e,this._context=new x5,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=i}set ngIf(e){this._context.$implicit=this._context.ngIf=e,this._updateView()}set ngIfThen(e){XN("ngIfThen",e),this._thenTemplateRef=e,this._thenViewRef=null,this._updateView()}set ngIfElse(e){XN("ngIfElse",e),this._elseTemplateRef=e,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(e,i){return!0}}return n.\u0275fac=function(e){return new(e||n)(V(ks),V(Ps))},n.\u0275dir=re({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}}),n})();class x5{constructor(){this.$implicit=null,this.ngIf=null}}function XN(n,t){if(t&&!t.createEmbeddedView)throw new Error(`${n} must be a TemplateRef, but received '${Oe(t)}'.`)}let MC=(()=>{class n{constructor(e){this.differs=e,this.keyValues=[],this.compareFn=tR}transform(e,i=tR){if(!e||!(e instanceof Map)&&"object"!=typeof e)return null;this.differ||(this.differ=this.differs.find(e).create());const s=this.differ.diff(e),r=i!==this.compareFn;return s&&(this.keyValues=[],s.forEachItem(o=>{this.keyValues.push(function(n,t){return{key:n,value:t}}(o.key,o.currentValue))})),(s||r)&&(this.keyValues.sort(i),this.compareFn=i),this.keyValues}}return n.\u0275fac=function(e){return new(e||n)(V(zu,16))},n.\u0275pipe=Gn({name:"keyvalue",type:n,pure:!1}),n})();function tR(n,t){const e=n.key,i=t.key;if(e===i)return 0;if(void 0===e)return 1;if(void 0===i)return-1;if(null===e)return 1;if(null===i)return-1;if("string"==typeof e&&"string"==typeof i)return e<i?-1:1;if("number"==typeof e&&"number"==typeof i)return e-i;if("boolean"==typeof e&&"boolean"==typeof i)return e<i?-1:1;const s=String(e),r=String(i);return s==r?0:s<r?-1:1}let nR=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=Wt({type:n}),n.\u0275inj=Lt({providers:[{provide:Cv,useClass:A5}]}),n})();const iR="browser";class rR{}class NC extends class extends class{}{constructor(){super(...arguments),this.supportsDOMEvents=!0}}{static makeCurrent(){!function(n){pv||(pv=n)}(new NC)}onAndCancel(t,e,i){return t.addEventListener(e,i,!1),()=>{t.removeEventListener(e,i,!1)}}dispatchEvent(t,e){t.dispatchEvent(e)}remove(t){t.parentNode&&t.parentNode.removeChild(t)}createElement(t,e){return(e=e||this.getDefaultDocument()).createElement(t)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(t){return t.nodeType===Node.ELEMENT_NODE}isShadowRoot(t){return t instanceof DocumentFragment}getGlobalEventTarget(t,e){return"window"===e?window:"document"===e?t:"body"===e?t.body:null}getBaseHref(t){const e=(yp=yp||document.querySelector("base"),yp?yp.getAttribute("href"):null);return null==e?null:function(n){Dv=Dv||document.createElement("a"),Dv.setAttribute("href",n);const t=Dv.pathname;return"/"===t.charAt(0)?t:`/${t}`}(e)}resetBaseElement(){yp=null}getUserAgent(){return window.navigator.userAgent}getCookie(t){return ZN(document.cookie,t)}}let Dv,yp=null;const oR=new de("TRANSITION_ID"),u6=[{provide:nv,useFactory:function(n,t,e){return()=>{e.get(nh).donePromise.then(()=>{const i=Xl(),s=t.querySelectorAll(`style[ng-transition="${n}"]`);for(let r=0;r<s.length;r++)i.remove(s[r])})}},deps:[oR,je,St],multi:!0}];class RC{static init(){!function(n){sC=n}(new RC)}addToWindow(t){nt.getAngularTestability=(i,s=!0)=>{const r=t.findTestabilityInTree(i,s);if(null==r)throw new Error("Could not find testability for element.");return r},nt.getAllAngularTestabilities=()=>t.getAllTestabilities(),nt.getAllAngularRootElements=()=>t.getAllRootElements(),nt.frameworkStabilizers||(nt.frameworkStabilizers=[]),nt.frameworkStabilizers.push(i=>{const s=nt.getAllAngularTestabilities();let r=s.length,o=!1;const a=function(u){o=o||u,r--,0==r&&i(o)};s.forEach(function(u){u.whenStable(a)})})}findTestabilityInTree(t,e,i){if(null==e)return null;const s=t.getTestability(e);return null!=s?s:i?Xl().isShadowRoot(e)?this.findTestabilityInTree(t,e.host,!0):this.findTestabilityInTree(t,e.parentElement,!0):null}}let h6=(()=>{class n{build(){return new XMLHttpRequest}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=se({token:n,factory:n.\u0275fac}),n})();const vp=new de("EventManagerPlugins");let Pv=(()=>{class n{constructor(e,i){this._zone=i,this._eventNameToPlugin=new Map,e.forEach(s=>s.manager=this),this._plugins=e.slice().reverse()}addEventListener(e,i,s){return this._findPluginFor(i).addEventListener(e,i,s)}addGlobalEventListener(e,i,s){return this._findPluginFor(i).addGlobalEventListener(e,i,s)}getZone(){return this._zone}_findPluginFor(e){const i=this._eventNameToPlugin.get(e);if(i)return i;const s=this._plugins;for(let r=0;r<s.length;r++){const o=s[r];if(o.supports(e))return this._eventNameToPlugin.set(e,o),o}throw new Error(`No event manager plugin found for event ${e}`)}}return n.\u0275fac=function(e){return new(e||n)(B(vp),B(Fe))},n.\u0275prov=se({token:n,factory:n.\u0275fac}),n})();class LC{constructor(t){this._doc=t}addGlobalEventListener(t,e,i){const s=Xl().getGlobalEventTarget(this._doc,t);if(!s)throw new Error(`Unsupported event target ${s} for event ${e}`);return this.addEventListener(s,e,i)}}let lR=(()=>{class n{constructor(){this._stylesSet=new Set}addStyles(e){const i=new Set;e.forEach(s=>{this._stylesSet.has(s)||(this._stylesSet.add(s),i.add(s))}),this.onStylesAdded(i)}onStylesAdded(e){}getAllStyles(){return Array.from(this._stylesSet)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=se({token:n,factory:n.\u0275fac}),n})(),_p=(()=>{class n extends lR{constructor(e){super(),this._doc=e,this._hostNodes=new Map,this._hostNodes.set(e.head,[])}_addStylesToHost(e,i,s){e.forEach(r=>{const o=this._doc.createElement("style");o.textContent=r,s.push(i.appendChild(o))})}addHost(e){const i=[];this._addStylesToHost(this._stylesSet,e,i),this._hostNodes.set(e,i)}removeHost(e){const i=this._hostNodes.get(e);i&&i.forEach(cR),this._hostNodes.delete(e)}onStylesAdded(e){this._hostNodes.forEach((i,s)=>{this._addStylesToHost(e,s,i)})}ngOnDestroy(){this._hostNodes.forEach(e=>e.forEach(cR))}}return n.\u0275fac=function(e){return new(e||n)(B(je))},n.\u0275prov=se({token:n,factory:n.\u0275fac}),n})();function cR(n){Xl().remove(n)}const FC={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},VC=/%COMP%/g;function kv(n,t,e){for(let i=0;i<t.length;i++){let s=t[i];Array.isArray(s)?kv(n,s,e):(s=s.replace(VC,n),e.push(s))}return e}function dR(n){return t=>{if("__ngUnwrap__"===t)return n;!1===n(t)&&(t.preventDefault(),t.returnValue=!1)}}let Tv=(()=>{class n{constructor(e,i,s){this.eventManager=e,this.sharedStylesHost=i,this.appId=s,this.rendererByCompId=new Map,this.defaultRenderer=new BC(e)}createRenderer(e,i){if(!e||!i)return this.defaultRenderer;switch(i.encapsulation){case $t.Emulated:{let s=this.rendererByCompId.get(i.id);return s||(s=new A6(this.eventManager,this.sharedStylesHost,i,this.appId),this.rendererByCompId.set(i.id,s)),s.applyToHost(e),s}case 1:case $t.ShadowDom:return new P6(this.eventManager,this.sharedStylesHost,e,i);default:if(!this.rendererByCompId.has(i.id)){const s=kv(i.id,i.styles,[]);this.sharedStylesHost.addStyles(s),this.rendererByCompId.set(i.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return n.\u0275fac=function(e){return new(e||n)(B(Pv),B(_p),B(lp))},n.\u0275prov=se({token:n,factory:n.\u0275fac}),n})();class BC{constructor(t){this.eventManager=t,this.data=Object.create(null)}destroy(){}createElement(t,e){return e?document.createElementNS(FC[e]||e,t):document.createElement(t)}createComment(t){return document.createComment(t)}createText(t){return document.createTextNode(t)}appendChild(t,e){t.appendChild(e)}insertBefore(t,e,i){t&&t.insertBefore(e,i)}removeChild(t,e){t&&t.removeChild(e)}selectRootElement(t,e){let i="string"==typeof t?document.querySelector(t):t;if(!i)throw new Error(`The selector "${t}" did not match any elements`);return e||(i.textContent=""),i}parentNode(t){return t.parentNode}nextSibling(t){return t.nextSibling}setAttribute(t,e,i,s){if(s){e=s+":"+e;const r=FC[s];r?t.setAttributeNS(r,e,i):t.setAttribute(e,i)}else t.setAttribute(e,i)}removeAttribute(t,e,i){if(i){const s=FC[i];s?t.removeAttributeNS(s,e):t.removeAttribute(`${i}:${e}`)}else t.removeAttribute(e)}addClass(t,e){t.classList.add(e)}removeClass(t,e){t.classList.remove(e)}setStyle(t,e,i,s){s&(zn.DashCase|zn.Important)?t.style.setProperty(e,i,s&zn.Important?"important":""):t.style[e]=i}removeStyle(t,e,i){i&zn.DashCase?t.style.removeProperty(e):t.style[e]=""}setProperty(t,e,i){t[e]=i}setValue(t,e){t.nodeValue=e}listen(t,e,i){return"string"==typeof t?this.eventManager.addGlobalEventListener(t,e,dR(i)):this.eventManager.addEventListener(t,e,dR(i))}}class A6 extends BC{constructor(t,e,i,s){super(t),this.component=i;const r=kv(s+"-"+i.id,i.styles,[]);e.addStyles(r),this.contentAttr=function(n){return"_ngcontent-%COMP%".replace(VC,n)}(s+"-"+i.id),this.hostAttr=function(n){return"_nghost-%COMP%".replace(VC,n)}(s+"-"+i.id)}applyToHost(t){super.setAttribute(t,this.hostAttr,"")}createElement(t,e){const i=super.createElement(t,e);return super.setAttribute(i,this.contentAttr,""),i}}class P6 extends BC{constructor(t,e,i,s){super(t),this.sharedStylesHost=e,this.hostEl=i,this.shadowRoot=i.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const r=kv(s.id,s.styles,[]);for(let o=0;o<r.length;o++){const a=document.createElement("style");a.textContent=r[o],this.shadowRoot.appendChild(a)}}nodeOrShadowRoot(t){return t===this.hostEl?this.shadowRoot:t}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(t,e){return super.appendChild(this.nodeOrShadowRoot(t),e)}insertBefore(t,e,i){return super.insertBefore(this.nodeOrShadowRoot(t),e,i)}removeChild(t,e){return super.removeChild(this.nodeOrShadowRoot(t),e)}parentNode(t){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(t)))}}let k6=(()=>{class n extends LC{constructor(e){super(e)}supports(e){return!0}addEventListener(e,i,s){return e.addEventListener(i,s,!1),()=>this.removeEventListener(e,i,s)}removeEventListener(e,i,s){return e.removeEventListener(i,s)}}return n.\u0275fac=function(e){return new(e||n)(B(je))},n.\u0275prov=se({token:n,factory:n.\u0275fac}),n})();const gR=["alt","control","meta","shift"],R6={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},mR={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},L6={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey};let F6=(()=>{class n extends LC{constructor(e){super(e)}supports(e){return null!=n.parseEventName(e)}addEventListener(e,i,s){const r=n.parseEventName(i),o=n.eventCallback(r.fullKey,s,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>Xl().onAndCancel(e,r.domEventName,o))}static parseEventName(e){const i=e.toLowerCase().split("."),s=i.shift();if(0===i.length||"keydown"!==s&&"keyup"!==s)return null;const r=n._normalizeKey(i.pop());let o="";if(gR.forEach(u=>{const h=i.indexOf(u);h>-1&&(i.splice(h,1),o+=u+".")}),o+=r,0!=i.length||0===r.length)return null;const a={};return a.domEventName=s,a.fullKey=o,a}static getEventFullKey(e){let i="",s=function(n){let t=n.key;if(null==t){if(t=n.keyIdentifier,null==t)return"Unidentified";t.startsWith("U+")&&(t=String.fromCharCode(parseInt(t.substring(2),16)),3===n.location&&mR.hasOwnProperty(t)&&(t=mR[t]))}return R6[t]||t}(e);return s=s.toLowerCase()," "===s?s="space":"."===s&&(s="dot"),gR.forEach(r=>{r!=s&&L6[r](e)&&(i+=r+".")}),i+=s,i}static eventCallback(e,i,s){return r=>{n.getEventFullKey(r)===e&&s.runGuarded(()=>i(r))}}static _normalizeKey(e){return"esc"===e?"escape":e}}return n.\u0275fac=function(e){return new(e||n)(B(je))},n.\u0275prov=se({token:n,factory:n.\u0275fac}),n})();const G6=[{provide:ih,useValue:iR},{provide:eN,useValue:function(){NC.makeCurrent(),RC.init()},multi:!0},{provide:je,useFactory:function(){return function(n){Ae=n}(document),document},deps:[]}],j6=uN(LG,"browser",G6),W6=[[],{provide:xo,useValue:"root"},{provide:ko,useFactory:function(){return new ko},deps:[]},{provide:vp,useClass:k6,multi:!0,deps:[je,Fe,ih]},{provide:vp,useClass:F6,multi:!0,deps:[je]},[],{provide:Tv,useClass:Tv,deps:[Pv,_p,lp]},{provide:Ul,useExisting:Tv},{provide:lR,useExisting:_p},{provide:_p,useClass:_p,deps:[je]},{provide:iC,useClass:iC,deps:[Fe]},{provide:Pv,useClass:Pv,deps:[vp,Fe]},{provide:rR,useClass:h6,deps:[]},[]];let GC=(()=>{class n{constructor(e){if(e)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}static withServerTransition(e){return{ngModule:n,providers:[{provide:lp,useValue:e.appId},{provide:oR,useExisting:lp},u6]}}}return n.\u0275fac=function(e){return new(e||n)(B(n,12))},n.\u0275mod=Wt({type:n}),n.\u0275inj=Lt({providers:W6,imports:[nR,GG]}),n})();function xv(n,t){return new $e(e=>{const i=n.length;if(0===i)return void e.complete();const s=new Array(i);let r=0,o=0;for(let a=0;a<i;a++){const u=wc(n[a]);let h=!1;e.add(u.subscribe({next:f=>{h||(h=!0,o++),s[a]=f},error:f=>e.error(f),complete:()=>{r++,(r===i||!h)&&(o===i&&e.next(t?t.reduce((f,p,v)=>(f[p]=s[v],f),{}):s),e.complete())}}))}})}"undefined"!=typeof window&&window;let vR=(()=>{class n{constructor(e,i){this._renderer=e,this._elementRef=i,this.onChange=s=>{},this.onTouched=()=>{}}setProperty(e,i){this._renderer.setProperty(this._elementRef.nativeElement,e,i)}registerOnTouched(e){this.onTouched=e}registerOnChange(e){this.onChange=e}setDisabledState(e){this.setProperty("disabled",e)}}return n.\u0275fac=function(e){return new(e||n)(V(jl),V(Pt))},n.\u0275dir=re({type:n}),n})(),ec=(()=>{class n extends vR{}return n.\u0275fac=function(){let t;return function(i){return(t||(t=Wn(n)))(i||n)}}(),n.\u0275dir=re({type:n,features:[At]}),n})();const Fr=new de("NgValueAccessor"),t8={provide:Fr,useExisting:ft(()=>Mv),multi:!0};let Mv=(()=>{class n extends ec{writeValue(e){this.setProperty("checked",e)}}return n.\u0275fac=function(){let t;return function(i){return(t||(t=Wn(n)))(i||n)}}(),n.\u0275dir=re({type:n,selectors:[["input","type","checkbox","formControlName",""],["input","type","checkbox","formControl",""],["input","type","checkbox","ngModel",""]],hostBindings:function(e,i){1&e&&qe("change",function(r){return i.onChange(r.target.checked)})("blur",function(){return i.onTouched()})},features:[tt([t8]),At]}),n})();const n8={provide:Fr,useExisting:ft(()=>Ro),multi:!0},s8=new de("CompositionEventMode");let Ro=(()=>{class n extends vR{constructor(e,i,s){super(e,i),this._compositionMode=s,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function(){const n=Xl()?Xl().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}())}writeValue(e){this.setProperty("value",null==e?"":e)}_handleInput(e){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(e)}_compositionStart(){this._composing=!0}_compositionEnd(e){this._composing=!1,this._compositionMode&&this.onChange(e)}}return n.\u0275fac=function(e){return new(e||n)(V(jl),V(Pt),V(s8,8))},n.\u0275dir=re({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(e,i){1&e&&qe("input",function(r){return i._handleInput(r.target.value)})("blur",function(){return i.onTouched()})("compositionstart",function(){return i._compositionStart()})("compositionend",function(r){return i._compositionEnd(r.target.value)})},features:[tt([n8]),At]}),n})();function ka(n){return null==n||0===n.length}function _R(n){return null!=n&&"number"==typeof n.length}const ei=new de("NgValidators"),Ta=new de("NgAsyncValidators"),r8=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class jC{static min(t){return bR(t)}static max(t){return SR(t)}static required(t){return ER(t)}static requiredTrue(t){return function(n){return!0===n.value?null:{required:!0}}(t)}static email(t){return function(n){return ka(n.value)||r8.test(n.value)?null:{email:!0}}(t)}static minLength(t){return function(n){return t=>ka(t.value)||!_R(t.value)?null:t.value.length<n?{minlength:{requiredLength:n,actualLength:t.value.length}}:null}(t)}static maxLength(t){return function(n){return t=>_R(t.value)&&t.value.length>n?{maxlength:{requiredLength:n,actualLength:t.value.length}}:null}(t)}static pattern(t){return function(n){if(!n)return xa;let t,e;return"string"==typeof n?(e="","^"!==n.charAt(0)&&(e+="^"),e+=n,"$"!==n.charAt(n.length-1)&&(e+="$"),t=new RegExp(e)):(e=n.toString(),t=n),i=>{if(ka(i.value))return null;const s=i.value;return t.test(s)?null:{pattern:{requiredPattern:e,actualValue:s}}}}(t)}static nullValidator(t){return null}static compose(t){return OR(t)}static composeAsync(t){return NR(t)}}function bR(n){return t=>{if(ka(t.value)||ka(n))return null;const e=parseFloat(t.value);return!isNaN(e)&&e<n?{min:{min:n,actual:t.value}}:null}}function SR(n){return t=>{if(ka(t.value)||ka(n))return null;const e=parseFloat(t.value);return!isNaN(e)&&e>n?{max:{max:n,actual:t.value}}:null}}function ER(n){return ka(n.value)?{required:!0}:null}function xa(n){return null}function kR(n){return null!=n}function TR(n){const t=Ry(n)?wc(n):n;return fw(t),t}function xR(n){let t={};return n.forEach(e=>{t=null!=e?Object.assign(Object.assign({},t),e):t}),0===Object.keys(t).length?null:t}function MR(n,t){return t.map(e=>e(n))}function IR(n){return n.map(t=>function(n){return!n.validate}(t)?t:e=>t.validate(e))}function OR(n){if(!n)return null;const t=n.filter(kR);return 0==t.length?null:function(e){return xR(MR(e,t))}}function WC(n){return null!=n?OR(IR(n)):null}function NR(n){if(!n)return null;const t=n.filter(kR);return 0==t.length?null:function(e){return function(...n){if(1===n.length){const t=n[0];if(za(t))return xv(t,null);if(Ka(t)&&Object.getPrototypeOf(t)===Object.prototype){const e=Object.keys(t);return xv(e.map(i=>t[i]),e)}}if("function"==typeof n[n.length-1]){const t=n.pop();return xv(n=1===n.length&&za(n[0])?n[0]:n,null).pipe(us(e=>t(...e)))}return xv(n,null)}(MR(e,t).map(TR)).pipe(us(xR))}}function zC(n){return null!=n?NR(IR(n)):null}function RR(n,t){return null===n?[t]:Array.isArray(n)?[...n,t]:[n,t]}function LR(n){return n._rawValidators}function FR(n){return n._rawAsyncValidators}function KC(n){return n?Array.isArray(n)?n:[n]:[]}function Iv(n,t){return Array.isArray(n)?n.includes(t):n===t}function VR(n,t){const e=KC(t);return KC(n).forEach(s=>{Iv(e,s)||e.push(s)}),e}function BR(n,t){return KC(t).filter(e=>!Iv(n,e))}let $R=(()=>{class n{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=WC(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=zC(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e){this.control&&this.control.reset(e)}hasError(e,i){return!!this.control&&this.control.hasError(e,i)}getError(e,i){return this.control?this.control.getError(e,i):null}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=re({type:n}),n})(),Si=(()=>{class n extends $R{get formDirective(){return null}get path(){return null}}return n.\u0275fac=function(){let t;return function(i){return(t||(t=Wn(n)))(i||n)}}(),n.\u0275dir=re({type:n,features:[At]}),n})();class Ma extends $R{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class HR{constructor(t){this._cd=t}is(t){var e,i,s;return"submitted"===t?!!(null===(e=this._cd)||void 0===e?void 0:e.submitted):!!(null===(s=null===(i=this._cd)||void 0===i?void 0:i.control)||void 0===s?void 0:s[t])}}let tc=(()=>{class n extends HR{constructor(e){super(e)}}return n.\u0275fac=function(e){return new(e||n)(V(Ma,2))},n.\u0275dir=re({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(e,i){2&e&&ql("ng-untouched",i.is("untouched"))("ng-touched",i.is("touched"))("ng-pristine",i.is("pristine"))("ng-dirty",i.is("dirty"))("ng-valid",i.is("valid"))("ng-invalid",i.is("invalid"))("ng-pending",i.is("pending"))},features:[At]}),n})(),nc=(()=>{class n extends HR{constructor(e){super(e)}}return n.\u0275fac=function(e){return new(e||n)(V(Si,10))},n.\u0275dir=re({type:n,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(e,i){2&e&&ql("ng-untouched",i.is("untouched"))("ng-touched",i.is("touched"))("ng-pristine",i.is("pristine"))("ng-dirty",i.is("dirty"))("ng-valid",i.is("valid"))("ng-invalid",i.is("invalid"))("ng-pending",i.is("pending"))("ng-submitted",i.is("submitted"))},features:[At]}),n})();function bp(n,t){ZC(n,t),t.valueAccessor.writeValue(n.value),function(n,t){t.valueAccessor.registerOnChange(e=>{n._pendingValue=e,n._pendingChange=!0,n._pendingDirty=!0,"change"===n.updateOn&&qR(n,t)})}(n,t),function(n,t){const e=(i,s)=>{t.valueAccessor.writeValue(i),s&&t.viewToModelUpdate(i)};n.registerOnChange(e),t._registerOnDestroy(()=>{n._unregisterOnChange(e)})}(n,t),function(n,t){t.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,"blur"===n.updateOn&&n._pendingChange&&qR(n,t),"submit"!==n.updateOn&&n.markAsTouched()})}(n,t),function(n,t){if(t.valueAccessor.setDisabledState){const e=i=>{t.valueAccessor.setDisabledState(i)};n.registerOnDisabledChange(e),t._registerOnDestroy(()=>{n._unregisterOnDisabledChange(e)})}}(n,t)}function Rv(n,t,e=!0){const i=()=>{};t.valueAccessor&&(t.valueAccessor.registerOnChange(i),t.valueAccessor.registerOnTouched(i)),Fv(n,t),n&&(t._invokeOnDestroyCallbacks(),n._registerOnCollectionChange(()=>{}))}function Lv(n,t){n.forEach(e=>{e.registerOnValidatorChange&&e.registerOnValidatorChange(t)})}function ZC(n,t){const e=LR(n);null!==t.validator?n.setValidators(RR(e,t.validator)):"function"==typeof e&&n.setValidators([e]);const i=FR(n);null!==t.asyncValidator?n.setAsyncValidators(RR(i,t.asyncValidator)):"function"==typeof i&&n.setAsyncValidators([i]);const s=()=>n.updateValueAndValidity();Lv(t._rawValidators,s),Lv(t._rawAsyncValidators,s)}function Fv(n,t){let e=!1;if(null!==n){if(null!==t.validator){const s=LR(n);if(Array.isArray(s)&&s.length>0){const r=s.filter(o=>o!==t.validator);r.length!==s.length&&(e=!0,n.setValidators(r))}}if(null!==t.asyncValidator){const s=FR(n);if(Array.isArray(s)&&s.length>0){const r=s.filter(o=>o!==t.asyncValidator);r.length!==s.length&&(e=!0,n.setAsyncValidators(r))}}}const i=()=>{};return Lv(t._rawValidators,i),Lv(t._rawAsyncValidators,i),e}function qR(n,t){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),t.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}function Vv(n,t){const e=n.indexOf(t);e>-1&&n.splice(e,1)}const Sp="VALID",Bv="INVALID",ah="PENDING",Ep="DISABLED";function eD(n){return(nD(n)?n.validators:n)||null}function jR(n){return Array.isArray(n)?WC(n):n||null}function tD(n,t){return(nD(t)?t.asyncValidators:n)||null}function WR(n){return Array.isArray(n)?zC(n):n||null}function nD(n){return null!=n&&!Array.isArray(n)&&"object"==typeof n}class iD{constructor(t,e){this._hasOwnPendingAsyncValidator=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=t,this._rawAsyncValidators=e,this._composedValidatorFn=jR(this._rawValidators),this._composedAsyncValidatorFn=WR(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn}set validator(t){this._rawValidators=this._composedValidatorFn=t}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(t){this._rawAsyncValidators=this._composedAsyncValidatorFn=t}get parent(){return this._parent}get valid(){return this.status===Sp}get invalid(){return this.status===Bv}get pending(){return this.status==ah}get disabled(){return this.status===Ep}get enabled(){return this.status!==Ep}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(t){this._rawValidators=t,this._composedValidatorFn=jR(t)}setAsyncValidators(t){this._rawAsyncValidators=t,this._composedAsyncValidatorFn=WR(t)}addValidators(t){this.setValidators(VR(t,this._rawValidators))}addAsyncValidators(t){this.setAsyncValidators(VR(t,this._rawAsyncValidators))}removeValidators(t){this.setValidators(BR(t,this._rawValidators))}removeAsyncValidators(t){this.setAsyncValidators(BR(t,this._rawAsyncValidators))}hasValidator(t){return Iv(this._rawValidators,t)}hasAsyncValidator(t){return Iv(this._rawAsyncValidators,t)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(t={}){this.touched=!0,this._parent&&!t.onlySelf&&this._parent.markAsTouched(t)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(t=>t.markAllAsTouched())}markAsUntouched(t={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(e=>{e.markAsUntouched({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}markAsDirty(t={}){this.pristine=!1,this._parent&&!t.onlySelf&&this._parent.markAsDirty(t)}markAsPristine(t={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(e=>{e.markAsPristine({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}markAsPending(t={}){this.status=ah,!1!==t.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!t.onlySelf&&this._parent.markAsPending(t)}disable(t={}){const e=this._parentMarkedDirty(t.onlySelf);this.status=Ep,this.errors=null,this._forEachChild(i=>{i.disable(Object.assign(Object.assign({},t),{onlySelf:!0}))}),this._updateValue(),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Object.assign(Object.assign({},t),{skipPristineCheck:e})),this._onDisabledChange.forEach(i=>i(!0))}enable(t={}){const e=this._parentMarkedDirty(t.onlySelf);this.status=Sp,this._forEachChild(i=>{i.enable(Object.assign(Object.assign({},t),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent}),this._updateAncestors(Object.assign(Object.assign({},t),{skipPristineCheck:e})),this._onDisabledChange.forEach(i=>i(!1))}_updateAncestors(t){this._parent&&!t.onlySelf&&(this._parent.updateValueAndValidity(t),t.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(t){this._parent=t}updateValueAndValidity(t={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Sp||this.status===ah)&&this._runAsyncValidator(t.emitEvent)),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!t.onlySelf&&this._parent.updateValueAndValidity(t)}_updateTreeValidity(t={emitEvent:!0}){this._forEachChild(e=>e._updateTreeValidity(t)),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Ep:Sp}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(t){if(this.asyncValidator){this.status=ah,this._hasOwnPendingAsyncValidator=!0;const e=TR(this.asyncValidator(this));this._asyncValidationSubscription=e.subscribe(i=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(i,{emitEvent:t})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(t,e={}){this.errors=t,this._updateControlsErrors(!1!==e.emitEvent)}get(t){return function(n,t,e){if(null==t||(Array.isArray(t)||(t=t.split(".")),Array.isArray(t)&&0===t.length))return null;let i=n;return t.forEach(s=>{i=i instanceof Pn?i.controls.hasOwnProperty(s)?i.controls[s]:null:i instanceof wp&&i.at(s)||null}),i}(this,t)}getError(t,e){const i=e?this.get(e):this;return i&&i.errors?i.errors[t]:null}hasError(t,e){return!!this.getError(t,e)}get root(){let t=this;for(;t._parent;)t=t._parent;return t}_updateControlsErrors(t){this.status=this._calculateStatus(),t&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(t)}_initObservables(){this.valueChanges=new at,this.statusChanges=new at}_calculateStatus(){return this._allControlsDisabled()?Ep:this.errors?Bv:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(ah)?ah:this._anyControlsHaveStatus(Bv)?Bv:Sp}_anyControlsHaveStatus(t){return this._anyControls(e=>e.status===t)}_anyControlsDirty(){return this._anyControls(t=>t.dirty)}_anyControlsTouched(){return this._anyControls(t=>t.touched)}_updatePristine(t={}){this.pristine=!this._anyControlsDirty(),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}_updateTouched(t={}){this.touched=this._anyControlsTouched(),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}_isBoxedValue(t){return"object"==typeof t&&null!==t&&2===Object.keys(t).length&&"value"in t&&"disabled"in t}_registerOnCollectionChange(t){this._onCollectionChange=t}_setUpdateStrategy(t){nD(t)&&null!=t.updateOn&&(this._updateOn=t.updateOn)}_parentMarkedDirty(t){return!t&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}}class fe extends iD{constructor(t=null,e,i){super(eD(e),tD(i,e)),this._onChange=[],this._applyFormState(t),this._setUpdateStrategy(e),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}setValue(t,e={}){this.value=this._pendingValue=t,this._onChange.length&&!1!==e.emitModelToViewChange&&this._onChange.forEach(i=>i(this.value,!1!==e.emitViewToModelChange)),this.updateValueAndValidity(e)}patchValue(t,e={}){this.setValue(t,e)}reset(t=null,e={}){this._applyFormState(t),this.markAsPristine(e),this.markAsUntouched(e),this.setValue(this.value,e),this._pendingChange=!1}_updateValue(){}_anyControls(t){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(t){this._onChange.push(t)}_unregisterOnChange(t){Vv(this._onChange,t)}registerOnDisabledChange(t){this._onDisabledChange.push(t)}_unregisterOnDisabledChange(t){Vv(this._onDisabledChange,t)}_forEachChild(t){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(t){this._isBoxedValue(t)?(this.value=this._pendingValue=t.value,t.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=t}}class Pn extends iD{constructor(t,e,i){super(eD(e),tD(i,e)),this.controls=t,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(t,e){return this.controls[t]?this.controls[t]:(this.controls[t]=e,e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange),e)}addControl(t,e,i={}){this.registerControl(t,e),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}removeControl(t,e={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],this.updateValueAndValidity({emitEvent:e.emitEvent}),this._onCollectionChange()}setControl(t,e,i={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],e&&this.registerControl(t,e),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}contains(t){return this.controls.hasOwnProperty(t)&&this.controls[t].enabled}setValue(t,e={}){this._checkAllValuesPresent(t),Object.keys(t).forEach(i=>{this._throwIfControlMissing(i),this.controls[i].setValue(t[i],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(t,e={}){null!=t&&(Object.keys(t).forEach(i=>{this.controls[i]&&this.controls[i].patchValue(t[i],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e))}reset(t={},e={}){this._forEachChild((i,s)=>{i.reset(t[s],{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}getRawValue(){return this._reduceChildren({},(t,e,i)=>(t[i]=e instanceof fe?e.value:e.getRawValue(),t))}_syncPendingControls(){let t=this._reduceChildren(!1,(e,i)=>!!i._syncPendingControls()||e);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_throwIfControlMissing(t){if(!Object.keys(this.controls).length)throw new Error("\n        There are no form controls registered with this group yet. If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.controls[t])throw new Error(`Cannot find form control with name: ${t}.`)}_forEachChild(t){Object.keys(this.controls).forEach(e=>{const i=this.controls[e];i&&t(i,e)})}_setUpControls(){this._forEachChild(t=>{t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(t){for(const e of Object.keys(this.controls)){const i=this.controls[e];if(this.contains(e)&&t(i))return!0}return!1}_reduceValue(){return this._reduceChildren({},(t,e,i)=>((e.enabled||this.disabled)&&(t[i]=e.value),t))}_reduceChildren(t,e){let i=t;return this._forEachChild((s,r)=>{i=e(i,s,r)}),i}_allControlsDisabled(){for(const t of Object.keys(this.controls))if(this.controls[t].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_checkAllValuesPresent(t){this._forEachChild((e,i)=>{if(void 0===t[i])throw new Error(`Must supply a value for form control with name: '${i}'.`)})}}class wp extends iD{constructor(t,e,i){super(eD(e),tD(i,e)),this.controls=t,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(t){return this.controls[t]}push(t,e={}){this.controls.push(t),this._registerControl(t),this.updateValueAndValidity({emitEvent:e.emitEvent}),this._onCollectionChange()}insert(t,e,i={}){this.controls.splice(t,0,e),this._registerControl(e),this.updateValueAndValidity({emitEvent:i.emitEvent})}removeAt(t,e={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),this.controls.splice(t,1),this.updateValueAndValidity({emitEvent:e.emitEvent})}setControl(t,e,i={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),this.controls.splice(t,1),e&&(this.controls.splice(t,0,e),this._registerControl(e)),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(t,e={}){this._checkAllValuesPresent(t),t.forEach((i,s)=>{this._throwIfControlMissing(s),this.at(s).setValue(i,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(t,e={}){null!=t&&(t.forEach((i,s)=>{this.at(s)&&this.at(s).patchValue(i,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e))}reset(t=[],e={}){this._forEachChild((i,s)=>{i.reset(t[s],{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}getRawValue(){return this.controls.map(t=>t instanceof fe?t.value:t.getRawValue())}clear(t={}){this.controls.length<1||(this._forEachChild(e=>e._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:t.emitEvent}))}_syncPendingControls(){let t=this.controls.reduce((e,i)=>!!i._syncPendingControls()||e,!1);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_throwIfControlMissing(t){if(!this.controls.length)throw new Error("\n        There are no form controls registered with this array yet. If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.at(t))throw new Error(`Cannot find form control at index ${t}`)}_forEachChild(t){this.controls.forEach((e,i)=>{t(e,i)})}_updateValue(){this.value=this.controls.filter(t=>t.enabled||this.disabled).map(t=>t.value)}_anyControls(t){return this.controls.some(e=>e.enabled&&t(e))}_setUpControls(){this._forEachChild(t=>this._registerControl(t))}_checkAllValuesPresent(t){this._forEachChild((e,i)=>{if(void 0===t[i])throw new Error(`Must supply a value for form control at index: ${i}.`)})}_allControlsDisabled(){for(const t of this.controls)if(t.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(t){t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)}}let ZR=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=re({type:n,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),n})();const S8={provide:Fr,useExisting:ft(()=>$v),multi:!0};let $v=(()=>{class n extends ec{writeValue(e){this.setProperty("value",null==e?"":e)}registerOnChange(e){this.onChange=i=>{e(""==i?null:parseFloat(i))}}}return n.\u0275fac=function(){let t;return function(i){return(t||(t=Wn(n)))(i||n)}}(),n.\u0275dir=re({type:n,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(e,i){1&e&&qe("input",function(r){return i.onChange(r.target.value)})("blur",function(){return i.onTouched()})},features:[tt([S8]),At]}),n})();const E8={provide:Fr,useExisting:ft(()=>rD),multi:!0};let JR=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=Wt({type:n}),n.\u0275inj=Lt({}),n})(),w8=(()=>{class n{constructor(){this._accessors=[]}add(e,i){this._accessors.push([e,i])}remove(e){for(let i=this._accessors.length-1;i>=0;--i)if(this._accessors[i][1]===e)return void this._accessors.splice(i,1)}select(e){this._accessors.forEach(i=>{this._isSameGroup(i,e)&&i[1]!==e&&i[1].fireUncheck(e.value)})}_isSameGroup(e,i){return!!e[0].control&&e[0]._parent===i._control._parent&&e[1].name===i.name}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=se({factory:function(){return new n},token:n,providedIn:JR}),n})(),rD=(()=>{class n extends ec{constructor(e,i,s,r){super(e,i),this._registry=s,this._injector=r,this.onChange=()=>{}}ngOnInit(){this._control=this._injector.get(Ma),this._checkName(),this._registry.add(this._control,this)}ngOnDestroy(){this._registry.remove(this)}writeValue(e){this._state=e===this.value,this.setProperty("checked",this._state)}registerOnChange(e){this._fn=e,this.onChange=()=>{e(this.value),this._registry.select(this)}}fireUncheck(e){this.writeValue(e)}_checkName(){!this.name&&this.formControlName&&(this.name=this.formControlName)}}return n.\u0275fac=function(e){return new(e||n)(V(jl),V(Pt),V(w8),V(St))},n.\u0275dir=re({type:n,selectors:[["input","type","radio","formControlName",""],["input","type","radio","formControl",""],["input","type","radio","ngModel",""]],hostBindings:function(e,i){1&e&&qe("change",function(){return i.onChange()})("blur",function(){return i.onTouched()})},inputs:{name:"name",formControlName:"formControlName",value:"value"},features:[tt([E8]),At]}),n})();const oD=new de("NgModelWithFormControlWarning"),A8={provide:Si,useExisting:ft(()=>Lo)};let Lo=(()=>{class n extends Si{constructor(e,i){super(),this.validators=e,this.asyncValidators=i,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new at,this._setValidators(e),this._setAsyncValidators(i)}ngOnChanges(e){this._checkFormPresent(),e.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(Fv(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(e){const i=this.form.get(e.path);return bp(i,e),i.updateValueAndValidity({emitEvent:!1}),this.directives.push(e),i}getControl(e){return this.form.get(e.path)}removeControl(e){Rv(e.control||null,e,!1),Vv(this.directives,e)}addFormGroup(e){this._setUpFormContainer(e)}removeFormGroup(e){this._cleanUpFormContainer(e)}getFormGroup(e){return this.form.get(e.path)}addFormArray(e){this._setUpFormContainer(e)}removeFormArray(e){this._cleanUpFormContainer(e)}getFormArray(e){return this.form.get(e.path)}updateModel(e,i){this.form.get(e.path).setValue(i)}onSubmit(e){return this.submitted=!0,function(n,t){n._syncPendingControls(),t.forEach(e=>{const i=e.control;"submit"===i.updateOn&&i._pendingChange&&(e.viewToModelUpdate(i._pendingValue),i._pendingChange=!1)})}(this.form,this.directives),this.ngSubmit.emit(e),!1}onReset(){this.resetForm()}resetForm(e){this.form.reset(e),this.submitted=!1}_updateDomValue(){this.directives.forEach(e=>{const i=e.control,s=this.form.get(e.path);i!==s&&(Rv(i||null,e),s instanceof fe&&(bp(s,e),e.control=s))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(e){const i=this.form.get(e.path);(function(n,t){ZC(n,t)})(i,e),i.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(e){if(this.form){const i=this.form.get(e.path);i&&function(n,t){return Fv(n,t)}(i,e)&&i.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){ZC(this.form,this),this._oldForm&&Fv(this._oldForm,this)}_checkFormPresent(){}}return n.\u0275fac=function(e){return new(e||n)(V(ei,10),V(Ta,10))},n.\u0275dir=re({type:n,selectors:[["","formGroup",""]],hostBindings:function(e,i){1&e&&qe("submit",function(r){return i.onSubmit(r)})("reset",function(){return i.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[tt([A8]),At,_t]}),n})();const T8={provide:Ma,useExisting:ft(()=>Ia)};let Ia=(()=>{class n extends Ma{constructor(e,i,s,r,o){super(),this._ngModelWarningConfig=o,this._added=!1,this.update=new at,this._ngModelWarningSent=!1,this._parent=e,this._setValidators(i),this._setAsyncValidators(s),this.valueAccessor=function(n,t){if(!t)return null;let e,i,s;return Array.isArray(t),t.forEach(r=>{r.constructor===Ro?e=r:function(n){return Object.getPrototypeOf(n.constructor)===ec}(r)?i=r:s=r}),s||i||e||null}(0,r)}set isDisabled(e){}ngOnChanges(e){this._added||this._setUpControl(),function(n,t){if(!n.hasOwnProperty("model"))return!1;const e=n.model;return!!e.isFirstChange()||!Object.is(t,e.currentValue)}(e,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(e){this.viewModel=e,this.update.emit(e)}get path(){return function(n,t){return[...t.path,n]}(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this.control.disabled&&this.valueAccessor.setDisabledState&&this.valueAccessor.setDisabledState(!0),this._added=!0}}return n.\u0275fac=function(e){return new(e||n)(V(Si,13),V(ei,10),V(Ta,10),V(Fr,10),V(oD,8))},n.\u0275dir=re({type:n,selectors:[["","formControlName",""]],inputs:{isDisabled:["disabled","isDisabled"],name:["formControlName","name"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[tt([T8]),At,_t]}),n._ngModelWarningSentOnce=!1,n})();const x8={provide:Fr,useExisting:ft(()=>Dp),multi:!0};function nL(n,t){return null==n?`${t}`:(t&&"object"==typeof t&&(t="Object"),`${n}: ${t}`.slice(0,50))}let Dp=(()=>{class n extends ec{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(e){this._compareWith=e}writeValue(e){this.value=e;const i=this._getOptionId(e);null==i&&this.setProperty("selectedIndex",-1);const s=nL(i,e);this.setProperty("value",s)}registerOnChange(e){this.onChange=i=>{this.value=this._getOptionValue(i),e(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(e){for(const i of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(i),e))return i;return null}_getOptionValue(e){const i=function(n){return n.split(":")[0]}(e);return this._optionMap.has(i)?this._optionMap.get(i):e}}return n.\u0275fac=function(){let t;return function(i){return(t||(t=Wn(n)))(i||n)}}(),n.\u0275dir=re({type:n,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(e,i){1&e&&qe("change",function(r){return i.onChange(r.target.value)})("blur",function(){return i.onTouched()})},inputs:{compareWith:"compareWith"},features:[tt([x8]),At]}),n})(),cD=(()=>{class n{constructor(e,i,s){this._element=e,this._renderer=i,this._select=s,this._select&&(this.id=this._select._registerOption())}set ngValue(e){null!=this._select&&(this._select._optionMap.set(this.id,e),this._setElementValue(nL(this.id,e)),this._select.writeValue(this._select.value))}set value(e){this._setElementValue(e),this._select&&this._select.writeValue(this._select.value)}_setElementValue(e){this._renderer.setProperty(this._element.nativeElement,"value",e)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}}return n.\u0275fac=function(e){return new(e||n)(V(Pt),V(jl),V(Dp,9))},n.\u0275dir=re({type:n,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}}),n})();const I8={provide:Fr,useExisting:ft(()=>uD),multi:!0};function iL(n,t){return null==n?`${t}`:("string"==typeof t&&(t=`'${t}'`),t&&"object"==typeof t&&(t="Object"),`${n}: ${t}`.slice(0,50))}let uD=(()=>{class n extends ec{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(e){this._compareWith=e}writeValue(e){let i;if(this.value=e,Array.isArray(e)){const s=e.map(r=>this._getOptionId(r));i=(r,o)=>{r._setSelected(s.indexOf(o.toString())>-1)}}else i=(s,r)=>{s._setSelected(!1)};this._optionMap.forEach(i)}registerOnChange(e){this.onChange=i=>{const s=[];if(void 0!==i.selectedOptions){const r=i.selectedOptions;for(let o=0;o<r.length;o++){const a=r.item(o),u=this._getOptionValue(a.value);s.push(u)}}else{const r=i.options;for(let o=0;o<r.length;o++){const a=r.item(o);if(a.selected){const u=this._getOptionValue(a.value);s.push(u)}}}this.value=s,e(s)}}_registerOption(e){const i=(this._idCounter++).toString();return this._optionMap.set(i,e),i}_getOptionId(e){for(const i of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(i)._value,e))return i;return null}_getOptionValue(e){const i=function(n){return n.split(":")[0]}(e);return this._optionMap.has(i)?this._optionMap.get(i)._value:e}}return n.\u0275fac=function(){let t;return function(i){return(t||(t=Wn(n)))(i||n)}}(),n.\u0275dir=re({type:n,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(e,i){1&e&&qe("change",function(r){return i.onChange(r.target)})("blur",function(){return i.onTouched()})},inputs:{compareWith:"compareWith"},features:[tt([I8]),At]}),n})(),hD=(()=>{class n{constructor(e,i,s){this._element=e,this._renderer=i,this._select=s,this._select&&(this.id=this._select._registerOption(this))}set ngValue(e){null!=this._select&&(this._value=e,this._setElementValue(iL(this.id,e)),this._select.writeValue(this._select.value))}set value(e){this._select?(this._value=e,this._setElementValue(iL(this.id,e)),this._select.writeValue(this._select.value)):this._setElementValue(e)}_setElementValue(e){this._renderer.setProperty(this._element.nativeElement,"value",e)}_setSelected(e){this._renderer.setProperty(this._element.nativeElement,"selected",e)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}}return n.\u0275fac=function(e){return new(e||n)(V(Pt),V(jl),V(uD,9))},n.\u0275dir=re({type:n,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}}),n})(),rL=(()=>{class n{constructor(){this._validator=xa}handleChanges(e){if(this.inputName in e){const i=this.normalizeInput(e[this.inputName].currentValue);this._validator=this.createValidator(i),this._onChange&&this._onChange()}}validate(e){return this._validator(e)}registerOnValidatorChange(e){this._onChange=e}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=re({type:n}),n})();const N8={provide:ei,useExisting:ft(()=>Hv),multi:!0};let Hv=(()=>{class n extends rL{constructor(){super(...arguments),this.inputName="max",this.normalizeInput=e=>parseFloat(e),this.createValidator=e=>SR(e)}ngOnChanges(e){this.handleChanges(e)}}return n.\u0275fac=function(){let t;return function(i){return(t||(t=Wn(n)))(i||n)}}(),n.\u0275dir=re({type:n,selectors:[["input","type","number","max","","formControlName",""],["input","type","number","max","","formControl",""],["input","type","number","max","","ngModel",""]],hostVars:1,hostBindings:function(e,i){if(2&e){let s;rr("max",null!==(s=i.max)&&void 0!==s?s:null)}},inputs:{max:"max"},features:[tt([N8]),At,_t]}),n})();const R8={provide:ei,useExisting:ft(()=>dD),multi:!0};let dD=(()=>{class n extends rL{constructor(){super(...arguments),this.inputName="min",this.normalizeInput=e=>parseFloat(e),this.createValidator=e=>bR(e)}ngOnChanges(e){this.handleChanges(e)}}return n.\u0275fac=function(){let t;return function(i){return(t||(t=Wn(n)))(i||n)}}(),n.\u0275dir=re({type:n,selectors:[["input","type","number","min","","formControlName",""],["input","type","number","min","","formControl",""],["input","type","number","min","","ngModel",""]],hostVars:1,hostBindings:function(e,i){if(2&e){let s;rr("min",null!==(s=i.min)&&void 0!==s?s:null)}},inputs:{min:"min"},features:[tt([R8]),At,_t]}),n})();const L8={provide:ei,useExisting:ft(()=>qv),multi:!0};let qv=(()=>{class n{constructor(){this._required=!1}get required(){return this._required}set required(e){this._required=null!=e&&!1!==e&&"false"!=`${e}`,this._onChange&&this._onChange()}validate(e){return this.required?ER(e):null}registerOnValidatorChange(e){this._onChange=e}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=re({type:n,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(e,i){2&e&&rr("required",i.required?"":null)},inputs:{required:"required"},features:[tt([L8])]}),n})(),hL=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=Wt({type:n}),n.\u0275inj=Lt({imports:[[JR]]}),n})(),q8=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=Wt({type:n}),n.\u0275inj=Lt({imports:[hL]}),n})(),G8=(()=>{class n{static withConfig(e){return{ngModule:n,providers:[{provide:oD,useValue:e.warnOnNgModelWithFormControl}]}}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=Wt({type:n}),n.\u0275inj=Lt({imports:[hL]}),n})();var xe=Bt(815);function Fo(n,t){return n=Math.ceil(n),t=Math.floor(t),Math.floor(Math.random()*(t-n+1))+n}function fD(n){return Math.ceil(100*n)/100}function Tt(n,t){let e;return e=n.player==t?n.opponet:n.player,e}function j8(n){var t,e,i,s,r,o,a;return new Pn({name:new fe(null!==(t=n.name)&&void 0!==t?t:null,jC.required),tier1Pets:new fe(null!==(e=n.tier1Pets)&&void 0!==e?e:[],n=>10!==n.value.length?{length:!0}:null),tier2Pets:new fe(null!==(i=n.tier2Pets)&&void 0!==i?i:[],n=>10!==n.value.length?{length:!0}:null),tier3Pets:new fe(null!==(s=n.tier3Pets)&&void 0!==s?s:[],n=>10!==n.value.length?{length:!0}:null),tier4Pets:new fe(null!==(r=n.tier4Pets)&&void 0!==r?r:[],n=>10!==n.value.length?{length:!0}:null),tier5Pets:new fe(null!==(o=n.tier5Pets)&&void 0!==o?o:[],n=>10!==n.value.length?{length:!0}:null),tier6Pets:new fe(null!==(a=n.tier6Pets)&&void 0!==a?a:[],n=>10!==n.value.length?{length:!0}:null)})}class Ge{constructor(){}reset(){this.uses=this.originalUses}}class ic extends Ge{constructor(){super(...arguments),this.name="Peanut",this.equipmentClass="attack",this.power=0}}class Gv extends Ge{constructor(){super(),this.name="Salt",this.equipmentClass="attack"}}class Uv extends Ge{constructor(){super(...arguments),this.name="Cheese",this.equipmentClass="attack",this.uses=1,this.originalUses=1}}class jv extends Ge{constructor(){super(...arguments),this.name="Pepper",this.equipmentClass="shield",this.uses=1,this.originalUses=1,this.power=0}}class Wv extends Ge{constructor(){super(),this.name="Fortune Cookie",this.equipmentClass="attack"}}class k{constructor(t,e,i){this.logService=t,this.abilityService=e,this.hidden=!1,this.maxAbilityUses=null,this.abilityUses=0,this.exp=0,this.originalExp=0,this.done=!1,this.seenDead=!1,this.swallowedPets=[],this.toyPet=!1,this.eggplantTouched=!1,this.parent=i}initPet(t,e,i,s){this.exp=null!=t?t:this.exp,this.health=null!=e?e:this.health*this.level,this.attack=null!=i?i:this.attack*this.level,this.originalHealth=this.health,this.originalAttack=this.attack,this.equipment=s,this.originalEquipment=s,this.originalExp=this.exp,this.setAbilityUses()}setAbilityUses(){this.abilityUses=0}tigerCheck(t){return null!=this.petBehind()&&("Tiger"==this.petBehind().name&&(null==t||0==t)||void 0)}superStartOfBattle(t,e=!1){if(!this.tigerCheck(e))return;let i=this.exp;this.exp=this.petBehind().minExpForLevel,this.startOfBattle(t,!0),this.exp=i}superHurt(t,e,i=!1){if(!this.tigerCheck(i))return;let s=this.exp;this.exp=this.petBehind().minExpForLevel,this.hurt(t,e,!0),this.exp=s}superFaint(t,e=!1){if(!this.tigerCheck(e))return;let i=this.exp;this.exp=this.petBehind().minExpForLevel,this.faint(t,!0),this.exp=i}superFriendSummoned(t,e=!1){if(!this.tigerCheck(e))return;let i=this.exp;this.exp=this.petBehind().minExpForLevel,this.friendSummoned(t,!0),this.exp=i}superFriendAheadAttacks(t,e=!1){if(!this.tigerCheck(e))return;let i=this.exp;this.exp=this.petBehind().minExpForLevel,this.friendAheadAttacks(t,!0),this.exp=i}superFriendAheadFaints(t,e=!1){if(!this.tigerCheck(e))return;let i=this.exp;this.exp=this.petBehind().minExpForLevel,this.friendAheadFaints(t,!0),this.exp=i}superAfterAttack(t,e=!1){if(!this.tigerCheck(e))return;let i=this.exp;this.exp=this.petBehind().minExpForLevel,this.afterAttack(t,!0),this.exp=i}superSummoned(t,e=!1){if(!this.tigerCheck(e))return;let i=this.exp;this.exp=this.petBehind().minExpForLevel,this.summoned(t,!0),this.exp=i}superKnockOut(t,e,i=!1){if(!this.tigerCheck(i))return;let s=this.exp;this.exp=this.petBehind().minExpForLevel,this.knockOut(t,e,!0),this.exp=s}superFriendFaints(t,e,i=!1){if(!this.tigerCheck(i))return;let s=this.exp;this.exp=this.petBehind().minExpForLevel,this.friendFaints(t,e,!0),this.exp=s}superBeforeAttack(t,e=!1){if(!this.tigerCheck(e))return;let i=this.exp;this.exp=this.petBehind().minExpForLevel,this.beforeAttack(t,!0),this.exp=i}superFriendGainedPerk(t,e,i=!1){if(!this.tigerCheck(i))return;let s=this.exp;this.exp=this.petBehind().minExpForLevel,this.friendGainedPerk(t,e,!0),this.exp=s}superFriendlyToyBroke(t,e=!1){if(!this.tigerCheck(e))return;let i=this.exp;this.exp=this.petBehind().minExpForLevel,this.friendlyToyBroke(t,!0),this.exp=i}superTransform(t,e=!1){if(!this.tigerCheck(e))return;let i=this.exp;this.exp=this.petBehind().minExpForLevel,this.transform(t,!0),this.exp=i}superEnemySummoned(t,e,i=!1){if(!this.tigerCheck(i))return;let s=this.exp;this.exp=this.petBehind().minExpForLevel,this.enemySummoned(t,e,!0),this.exp=s}superFriendHurt(t,e,i=!1){if(!this.tigerCheck(i))return;let s=this.exp;this.exp=this.petBehind().minExpForLevel,this.friendHurt(t,e,!0),this.exp=s}superAnyoneLevelUp(t,e,i=!1){if(!this.tigerCheck(i))return;let s=this.exp;this.exp=this.petBehind().minExpForLevel,this.anyoneLevelUp(t,e,!0),this.exp=s}superEnemyHurt(t,e,i=!1){if(!this.tigerCheck(i))return;let s=this.exp;this.exp=this.petBehind().minExpForLevel,this.enemyHurt(t,e,!0),this.exp=s}superFriendAttacks(t,e=!1){if(!this.tigerCheck(e))return;let i=this.exp;this.exp=this.petBehind().minExpForLevel,this.friendAttacks(t,!0),this.exp=i}attackPet(t){var e,i;let s=this.calculateDamgae(t),r=s.attackEquipment,o=s.defenseEquipment,a=s.damage,u=!1,h=1,f=1;if("Panther"==this.name&&(h=this.level+1),"Panther"==t.name&&(f=t.level+1),r instanceof Uv&&(a*=2),r instanceof ic&&a>0)this.logService.createLog({message:`${this.name} attacks ${t.name} for ${t.health} (Peanut)`,type:"attack",player:this.parent}),t.health=0;else{t.health-=a;let p=`${this.name} attacks ${t.name} for ${a}.`;if(null!=r){let _=Math.abs(r.power),S="-";r.power>0&&(S="+");let D=`${S}${_}`;r instanceof Gv&&(D=t.tier<this.tier?"x2":"x1"),r instanceof Uv&&(D="x2"),r instanceof Wv&&(u=!0,D=s.fortuneCookie?"x2":"x1"),p+=` (${r.name} ${D})`,h>1&&(p+=` x${h} (Panther)`)}if(null!=o){let _=Math.abs(o.power),S="-";o.power<0&&(S="+"),o instanceof jv&&(S=1==t.health?"!":"-",_=""),p+=` (${o.name} ${S}${_})`,f>1&&(p+=` x${f} (Panther)`)}this.logService.createLog({message:p,type:"attack",player:this.parent,randomEvent:u});let v="skewer"==(null===(e=this.equipment)||void 0===e?void 0:e.equipmentClass)?this.equipment:null;null!=v&&v.attackCallback(this,t)}this.abilityService.triggerFriendAttacksEvents(this.parent,this),null!=t.hurt&&a>0&&this.abilityService.setHurtEvent({callback:t.hurt.bind(t),priority:t.attack,player:t.parent,callbackPet:this}),null!=this.afterAttack&&this.abilityService.setAfterAttackEvent({callback:this.afterAttack.bind(this),priority:this.attack}),t.health<1&&null!=this.knockOut&&this.abilityService.setKnockOutEvent({callback:this.knockOut.bind(this),priority:this.attack,callbackPet:t}),null!=(null===(i=this.petBehind(!0))||void 0===i?void 0:i.friendAheadAttacks)&&this.abilityService.setFriendAheadAttacksEvents({callback:this.petBehind(!0).friendAheadAttacks.bind(this.petBehind(!0)),priority:this.petBehind(!0).attack}),t.alive&&a>0&&this.abilityService.triggerFriendHurtEvents(t.parent,t),t.alive&&a>0&&this.abilityService.triggerEnemyHurtEvents(this.parent,t)}snipePet(t,e,i,s,r,o){var a,u;let h=!1;"Wolverine"==(null===(a=this.petAhead)||void 0===a?void 0:a.name)&&(e+=3*this.petAhead.level,h=!0),"Wolverine"==(null===(u=this.petBehind())||void 0===u?void 0:u.name)&&(e+=3*this.petBehind().level,h=!0);let f=this.calculateDamgae(t,e,!0),p=f.attackEquipment,v=f.defenseEquipment,_=f.damage;t.health-=_;let S=`${this.name} sniped ${t.name} for ${_}.`;if(null!=v){t.useDefenseEquipment(!0);let D=Math.abs(v.power),C="-";v.power<0&&(C="+"),S+=` (${v.name} ${C}${D})`}if(null!=p&&"attack-snipe"==p.equipmentClass){let D=Math.abs(p.power),C="-";p.power>0&&(C="+"),S+=` (${p.name} ${C}${D})`}s&&(S+=" (Tiger)"),h&&(S+=" (Wolverine)"),o&&(S+=" (Fig)"),this.logService.createLog({message:S,type:"attack",randomEvent:i,player:this.parent,pteranodon:r}),null!=t.hurt&&_>0&&this.abilityService.setHurtEvent({callback:t.hurt.bind(t),priority:t.attack,player:t.parent,callbackPet:this}),t.health<1&&null!=this.knockOut&&this.abilityService.setKnockOutEvent({callback:this.knockOut.bind(this),priority:this.attack,callbackPet:t}),t.alive&&_>0&&this.abilityService.triggerFriendHurtEvents(t.parent,t),t.alive&&_>0&&this.abilityService.triggerEnemyHurtEvents(this.parent,t)}calculateDamgae(t,e,i=!1){var s,r,o,a,u,h,f;let p=1,v=1;"Panther"==this.name&&(p=this.level+1),"Panther"==t.name&&(v=t.level+1);let S,D,_="defense"==(null===(s=t.equipment)||void 0===s?void 0:s.equipmentClass)||"shield"==(null===(r=t.equipment)||void 0===r?void 0:r.equipmentClass)||"ailment-defense"==(null===(o=t.equipment)||void 0===o?void 0:o.equipmentClass)||i&&"shield-snipe"==(null===(a=t.equipment)||void 0===a?void 0:a.equipmentClass)?t.equipment:null;i?(S="attack-snipe"==(null===(u=this.equipment)||void 0===u?void 0:u.equipmentClass)?this.equipment:null,D=null!=S?e+S.power:e):(S="attack"==(null===(h=this.equipment)||void 0===h?void 0:h.equipmentClass)||"ailment-attack"==(null===(f=this.equipment)||void 0===f?void 0:f.equipmentClass)?this.equipment:null,D=null!=e?e+((null==S?void 0:S.power)?S.power*p:0):this.attack+((null==S?void 0:S.power)?S.power*p:0));let C=(null==_?void 0:_.power)?_.power*v:0,L="shield"==(null==_?void 0:_.equipmentClass)||"shield-snipe"==(null==_?void 0:_.equipmentClass)?0:1;S instanceof Gv&&!i&&t.tier<this.tier&&(D*=2);let N=!1;S instanceof Wv&&!i&&Math.random()<.5&&(D*=2,N=!0);let j=Math.max(L,D-C);return _ instanceof jv&&(j=Math.min(j,t.health-1)),{defenseEquipment:_,attackEquipment:S,damage:j,fortuneCookie:N}}resetPet(){var t;this.health=this.originalHealth,this.attack=this.originalAttack,this.equipment=this.originalEquipment,this.exp=this.originalExp,this.done=!1,this.seenDead=!1,null===(t=this.equipment)||void 0===t||t.reset(),this.swallowedPets=[],this.savedPosition=this.originalSavedPosition,this.setAbilityUses()}get alive(){return this.health>0}setFaintEventIfPresent(){var t;null!=this.faint&&this.abilityService.setFaintEvent({priority:this.attack,callback:this.faint.bind(this)}),"faint"==(null===(t=this.equipment)||void 0===t?void 0:t.equipmentClass)&&this.abilityService.setFaintEvent({priority:-1,callback:()=>{this.equipment.callback(this)}})}useDefenseEquipment(t=!1){null!=this.equipment&&("defense"!=this.equipment.equipmentClass&&"shield"!=this.equipment.equipmentClass&&t&&"shield-snipe"!=this.equipment.equipmentClass||null!=this.equipment.uses&&(this.equipment.uses-=1,0==this.equipment.uses&&(this.equipment=null)))}useAttackDefenseEquipment(){null!=this.equipment&&null!=this.equipment.uses&&("attack"!=this.equipment.equipmentClass&&"defense"!=this.equipment.equipmentClass&&"shield"!=this.equipment.equipmentClass&&"snipe"!=this.equipment.equipmentClass||(isNaN(this.equipment.uses)&&console.warn("uses is NaN",this.equipment),this.equipment.uses-=1,0==this.equipment.uses&&(this.equipment=null)))}increaseAttack(t){this.attack=Math.min(Math.max(this.attack+t,1),50)}increaseHealth(t){this.health=Math.min(Math.max(this.health+t,1),50)}increaseExp(t){let e=this.level;this.increaseAttack(t),this.increaseHealth(t),this.exp=Math.min(this.exp+t,5),this.level>e&&(this.logService.createLog({message:`${this.name} leveled up to level ${this.level}.`,type:"ability",player:this.parent}),this.abilityService.triggerLevelUpEvents(this.parent,this),this.abilityService.triggerLevelUpEvents(this.parent.opponent,this),this.abilityService.executeLevelUpEvents(),this.setAbilityUses())}givePetEquipment(t){this.equipment=t,null!=t&&("ailment-attack"==t.equipmentClass||"ailment-defense"==t.equipmentClass?(this.abilityService.triggerFriendGainedAilmentEvents(this),this.abilityService.executeFriendGainedAilmentEvents()):(this.abilityService.triggerFriendGainedPerkEvents(this),this.abilityService.executeFriendGainedPerkEvents()))}get level(){return this.exp<2?1:this.exp<5?2:3}get position(){return this==this.parent.pet0?0:this==this.parent.pet1?1:this==this.parent.pet2?2:this==this.parent.pet3?3:this==this.parent.pet4?4:void 0}petBehind(t=!1){for(let e=this.position+1;e<5;e++){let i=this.parent.getPetAtPosition(e);if(t&&null!=i&&!i.alive&&!i.seenDead)return null;if(null!=i&&i.alive)return i}return null}get petAhead(){for(let t=this.position-1;t>-1;t--){let e=this.parent.getPetAtPosition(t);if(null!=e&&e.alive)return e}return null}get minExpForLevel(){return 1==this.level?0:2==this.level?2:5}}class ch extends k{constructor(t,e,i,s,r,o,a){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Puma",this.tier=6,this.pack="Puppy",this.attack=6,this.health=5,this.initPet(o,s,r,a)}}class zv extends k{constructor(t,e,i,s,r,o,a){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Golden Retriever",this.tier=1,this.pack="Golden",this.hidden=!0,this.health=1,this.attack=1,this.initPet(o,s,r,a)}}class pD extends Ge{constructor(t){super(),this.logService=t,this.name="Onion",this.equipmentClass="shop",this.callback=e=>{this.logService.createLog({message:`${e.name} pushed itself to the back. (Onion)`,type:"equipment",player:e.parent}),e.givePetEquipment(null),e.parent.pushPetToBack(e)}}}class dL{constructor(t,e,i){this.logService=t,this.abilityService=e,this.gameService=i,this.pack="Turtle",this.trumpets=0,this.spawnedGoldenRetiever=!1}alive(){return this.petArray.length>0}resetPets(){var t,e,i,s,r;this.pet0=this.orignalPet0,null===(t=this.pet0)||void 0===t||t.resetPet(),this.pet1=this.orignalPet1,null===(e=this.pet1)||void 0===e||e.resetPet(),this.pet2=this.orignalPet2,null===(i=this.pet2)||void 0===i||i.resetPet(),this.pet3=this.orignalPet3,null===(s=this.pet3)||void 0===s||s.resetPet(),this.pet4=this.orignalPet4,null===(r=this.pet4)||void 0===r||r.resetPet(),this.orignalPet0=this.pet0,this.orignalPet1=this.pet1,this.orignalPet2=this.pet2,this.orignalPet3=this.pet3,this.orignalPet4=this.pet4,this.toy=this.originalToy,this.trumpets=0,this.spawnedGoldenRetiever=!1}setPet(t,e,i=!1){0==t&&(this.pet0=e,null!=e&&(this.pet0.savedPosition=0),i&&(this.orignalPet0=e)),1==t&&(this.pet1=e,null!=e&&(this.pet1.savedPosition=1),i&&(this.orignalPet1=e)),2==t&&(this.pet2=e,null!=e&&(this.pet2.savedPosition=2),i&&(this.orignalPet2=e)),3==t&&(this.pet3=e,null!=e&&(this.pet3.savedPosition=3),i&&(this.orignalPet3=e)),4==t&&(this.pet4=e,null!=e&&(this.pet4.savedPosition=4),i&&(this.orignalPet4=e)),i&&null!=e&&(e.originalSavedPosition=e.savedPosition)}getPet(t){return this[`pet${t}`]}pushPetsForward(){let t=(0,xe.clone)(this.petArray);try{this.setPet(0,t[0])}catch(e){this.pet0=null}try{this.setPet(1,t[1])}catch(e){this.pet1=null}try{this.setPet(2,t[2])}catch(e){this.pet2=null}try{this.setPet(3,t[3])}catch(e){this.pet3=null}try{this.setPet(4,t[4])}catch(e){this.pet4=null}this.onionCheck()}onionCheck(){var t;null!=(null===(t=this.pet0)||void 0===t?void 0:t.equipment)&&this.pet0.equipment instanceof pD&&(this.pet0.equipment.callback(this.pet0),this.pushPetsForward())}summonPet(t,e,i=!1){if(5==this.petArray.length)return i||this.logService.createLog({message:`No room to spawn ${t.name}!`,type:"ability",player:this}),!1;0==e&&(null!=this.pet0&&this.makeRoomForSlot(0),this.setPet(0,t)),1==e&&(null!=this.pet1&&this.makeRoomForSlot(1),this.setPet(1,t)),2==e&&(null!=this.pet2&&this.makeRoomForSlot(2),this.setPet(2,t)),3==e&&(null!=this.pet3&&this.makeRoomForSlot(3),this.setPet(3,t)),4==e&&(null!=this.pet4&&this.makeRoomForSlot(4),this.setPet(4,t)),t.summoned&&t.summoned(null);let s=Tt(this.gameService.gameApi,this);return this.abilityService.triggerEnemySummonedEvents(s,t),!0}makeRoomForSlot(t){if(5==this.petArray.length)return void console.warn("No room to Make Room");let e=!1,i=null;if(t<4&&null==this.pet4&&(e=!0,i=4),t<3&&null==this.pet3&&(e=!0,i=3),t<2&&null==this.pet2&&(e=!0,i=2),t<1&&null==this.pet1&&(e=!0,i=1),e){for(let r=i;r>t;r--)this[`pet${r}`]=this["pet"+(r-1)];return}let s=!1;if(t>0&&null==this.pet0&&(s=!0,i=0),t>1&&null==this.pet1&&(s=!0,i=1),t>2&&null==this.pet2&&(s=!0,i=2),t>3&&null==this.pet3&&(s=!0,i=3),s)for(let r=i;r<t;r++)this[`pet${r}`]=this[`pet${r+1}`]}get petArray(){let t=[];return null!=this.pet0&&t.push(this.pet0),null!=this.pet1&&t.push(this.pet1),null!=this.pet2&&t.push(this.pet2),null!=this.pet3&&t.push(this.pet3),null!=this.pet4&&t.push(this.pet4),t}handleDeath(t){var e;t.seenDead=!0,t.setFaintEventIfPresent(),null!=(null===(e=t.petBehind(!0))||void 0===e?void 0:e.friendAheadFaints)&&this.abilityService.setFriendAheadFaintsEvent({callback:t.petBehind().friendAheadFaints.bind(t.petBehind()),priority:t.petBehind().attack,player:this}),this.abilityService.triggerFriendFaintsEvents(t),this.createDeathLog(t)}checkPetsAlive(){this.pet0&&!this.pet0.alive&&!this.pet0.seenDead&&this.handleDeath(this.pet0),this.pet1&&!this.pet1.alive&&!this.pet1.seenDead&&this.handleDeath(this.pet1),this.pet2&&!this.pet2.alive&&!this.pet2.seenDead&&this.handleDeath(this.pet2),this.pet3&&!this.pet3.alive&&!this.pet3.seenDead&&this.handleDeath(this.pet3),this.pet4&&!this.pet4.alive&&!this.pet4.seenDead&&this.handleDeath(this.pet4)}removeDeadPets(){var t,e,i,s,r;(null===(t=this.pet0)||void 0===t?void 0:t.alive)||(this.pet0=null),(null===(e=this.pet1)||void 0===e?void 0:e.alive)||(this.pet1=null),(null===(i=this.pet2)||void 0===i?void 0:i.alive)||(this.pet2=null),(null===(s=this.pet3)||void 0===s?void 0:s.alive)||(this.pet3=null),(null===(r=this.pet4)||void 0===r?void 0:r.alive)||(this.pet4=null)}createDeathLog(t){this.logService.createLog({message:`${t.name} fainted.`,type:"death",player:t.parent})}getRandomPet(t,e,i,s){let r=this.petArray;if(e){let a=this.getPetsWithEquipment("Donut");a.length>0&&(r=a),s&&(r=r.filter(u=>50!=u.health||50!=u.attack),0==r.length&&(r=this.petArray))}if(i){let a=this.getPetsWithEquipment("Blueberry");a.length>0&&(r=a)}if(r=r.filter(a=>{let u=!0;return t&&(u=!t.includes(a)),u&&a.health>0}),s){let a=(0,xe.clone)(r);r=r.filter(u=>50!=u.health||50!=u.attack),0==r.length&&(r=a)}return 0==r.length?null:r[Fo(0,r.length-1)]}getRandomPets(t,e,i,s){let r=[];e=null!=e?e:[];for(let o=0;o<t;o++){let a=this.getRandomPet(e,i,s);if(null==a)break;e.push(a),r.push(a)}if(r.length<t)for(let o=r.length;o<t;o++){let a=this.getRandomPet(e);if(null==a)break;e.push(a),r.push(a)}return r}getPetsWithEquipment(t){var e;let i=[];for(let s of this.petArray)!s.alive||(null===(e=s.equipment)||void 0===e?void 0:e.name)==t&&i.push(s);return i}getPetAtPosition(t){for(let e of this.petArray)if(e.position==t)return e;return null}getLastPet(){for(let t of this.petArray.reverse())if(t.alive)return t}getHighestHealthPet(t){let e;for(let i in this.petArray){let r=this.petArray[+i];if(r!=t){if(null==e){e=[r];continue}if(r.health==e[0].health){e.push(r);continue}r.health>e[0].health&&(e=[r])}}return{pet:e[Fo(0,e.length-1)],random:e.length>1}}getLowestHealthPet(t){let e;for(let i in this.petArray){let r=this.petArray[+i];if(r!=t&&r.alive){if(null==e){e=[r];continue}if(r.health==e[0].health){e.push(r);continue}r.health<e[0].health&&(e=[r])}}return{pet:e[Fo(0,e.length-1)],random:e.length>1}}get furthestUpPet(){for(let t of this.petArray)if(t.alive)return t;return null}breakToy(t=!1){if(null==this.toy||null==this.toy.onBreak)return;this.logService.createLog({message:`${this.toy.name} broke!`,type:"ability",player:this,randomEvent:!1});let e=[{callback:this.toy.onBreak.bind(this.toy),priority:99}],i=this.toy.level;for(let r of this.petArray)r instanceof ch&&e.push({callback:()=>{this.toy.level=r.level,this.toy.onBreak(this.gameService.gameApi,!0),this.toy.level=i},priority:r.attack});e.sort((r,o)=>r.priority>o.priority?-1:r.priority<o.priority?1:0);for(let r of e)r.callback(this.gameService.gameApi);let s=(0,xe.cloneDeep)(this.toy);this.toy=null,t&&this.setToy(s)}setToy(t){this.toy=t}getStrongestPet(){let t,e=(0,xe.shuffle)(this.petArray);for(let i of e)null!=t?i.attack+i.health>t.attack+t.health&&(t=i):t=i;return t}pushPetToFront(t){this.pushPet(t,4)}pushPetToBack(t){this.pushPet(t,-4)}pushPet(t,e=1){let r,i=t.parent,s=t.position;i[`pet${s}`]=null,e>0&&(r=Math.max(s-e,0)),e<0&&(r=Math.max(s-e,4)),i.summonPet(t,r),this.onionCheck()}getRandomStrawberryPet(t){let e=this.getPetsWithEquipment("Strawberry"),i=e.filter(s=>s!=t);return 0==i.length?null:e[Fo(0,i.length-1)]}get opponent(){return Tt(this.gameService.gameApi,this)}gainTrumpets(t,e,i,s,r){this.trumpets=Math.min(50,this.trumpets+=t);let o=`${e.name} gained ${t} trumpets. (${this.trumpets})`;r&&(o+=" (Cherry)"),this.logService.createLog({message:o,type:"trumpets",player:this,pteranodon:i,pantherMultiplier:s})}spendTrumpets(t,e,i){this.trumpets=Math.max(0,this.trumpets-=t),this.logService.createLog({message:`${e.name} spent ${t} trumpets. (${this.trumpets})`,type:"trumpets",player:this,pteranodon:i})}checkGoldenSpawn(){if(this.spawnedGoldenRetiever||this.petArray.length>1||0==this.trumpets)return;let t=new zv(this.logService,this.abilityService,this,this.trumpets,this.trumpets);this.logService.createLog({message:`${this==this.gameService.gameApi.player?"Player":"Opponent"} spawned Golden Retriever (${t.attack}/${t.health})`,type:"ability",player:this}),this.summonPet(t,0)&&this.abilityService.triggerSummonedEvents(t),this.trumpets=0,this.spawnedGoldenRetiever=!0}}class Kv extends k{constructor(t,e,i,s,r,o,a){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Ant",this.tier=1,this.pack="Turtle",this.health=2,this.attack=2,this.initPet(o,s,r,a)}faint(t,e,i){let s=1==this.level?{health:1,attack:1}:2==this.level?{health:2,attack:2}:{health:3,attack:3},r=this.parent.getRandomPet([this],!0,!1,!0);null!=r&&(r.increaseAttack(s.attack),r.increaseHealth(s.health),this.logService.createLog({message:`${this.name} gave ${r.name} ${s.attack} attack and ${s.health} health.`,type:"ability",randomEvent:!0,player:this.parent,tiger:e,pteranodon:i}),this.superFaint(t,e),this.done=!0)}}class uh extends k{constructor(t,e,i,s,r,o,a){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Zombie Cricket",this.tier=1,this.pack="Turtle",this.hidden=!0,this.health=1,this.attack=1,this.initPet(o,s,r,a)}}class gD extends k{constructor(t,e,i,s,r,o,a){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Cricket",this.tier=1,this.pack="Turtle",this.health=3,this.attack=1,this.initPet(o,s,r,a)}faint(t,e,i){let s=1,r=0;2==this.level?(r=2,s=2):3==this.level&&(r=5,s=3),this.abilityService.setSpawnEvent({callback:()=>{let o=new uh(this.logService,this.abilityService,this.parent,null,null,r);this.logService.createLog({message:`${this.name} spawned Zombie Cricket Level ${s}`,type:"ability",player:this.parent,tiger:e,pteranodon:i}),this.parent.summonPet(o,this.savedPosition)&&this.abilityService.triggerSummonedEvents(o)},priority:this.attack}),super.superFaint(t,e)}}class mD extends k{constructor(t,e,i,s,r,o,a){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Fish",this.tier=1,this.pack="Turtle",this.health=3,this.attack=2,this.initPet(o,s,r,a)}}class yD extends k{constructor(t,e,i,s,r,o,a){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Horse",this.tier=1,this.pack="Turtle",this.health=1,this.attack=2,this.initPet(o,s,r,a)}friendSummoned(t,e){t.increaseAttack(this.level),this.logService.createLog({message:`${this.name} gave ${t.name} ${this.level} attack`,type:"ability",player:this.parent,tiger:e}),super.superFriendSummoned(t,e)}}class vD extends k{constructor(t,e,i,s,r,o,a){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Mosquito",this.tier=1,this.pack="Turtle",this.health=2,this.attack=2,this.initPet(o,s,r,a)}startOfBattle(t,e){let i;i=t.player==this.parent?t.opponet:t.player;let s=i.getRandomPets(this.level,null,null,!0);for(let r of s)this.snipePet(r,1,!0,e);super.superStartOfBattle(t,e)}}class Yv extends k{constructor(t,e,i,s,r,o,a){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Duck",this.tier=1,this.pack="Turtle",this.health=3,this.attack=2,this.initPet(o,s,r,a)}}class Qv extends k{constructor(t,e,i,s,r,o,a){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Beaver",this.tier=1,this.pack="Turtle",this.health=2,this.attack=3,this.initPet(o,s,r,a)}}class _D extends k{constructor(t,e,i,s,r,o,a){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Otter",this.tier=1,this.pack="Turtle",this.health=3,this.attack=1,this.initPet(o,s,r,a)}}class bD extends k{constructor(t,e,i,s,r,o,a){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Pig",this.tier=1,this.pack="Turtle",this.health=1,this.attack=4,this.initPet(o,s,r,a)}}class SD extends k{constructor(t,e,i,s,r,o,a){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Mouse",this.tier=1,this.pack="Custom",this.health=2,this.attack=1,this.initPet(o,s,r,a)}}class W8 extends k{constructor(t,e,i,s,r,o,a){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Snail",this.tier=2,this.pack="Turtle",this.health=2,this.attack=2,this.initPet(o,s,r,a)}}class ED extends k{constructor(t,e,i,s,r,o,a){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Crab",this.tier=2,this.pack="Turtle",this.health=1,this.attack=4,this.initPet(o,s,r,a)}startOfBattle(t,e){let i=this.parent.getHighestHealthPet(this).pet,s=.5*this.level,r=Math.floor(i.health*s);this.health=r,this.logService.createLog({message:`${this.name} copied ${100*s}% of ${i.name}'s health (${r})`,type:"ability",player:this.parent,tiger:e}),super.superStartOfBattle(t,e)}}class wD extends k{constructor(t,e,i,s,r,o,a){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Swan",this.tier=2,this.pack="Turtle",this.health=2,this.attack=1,this.initPet(o,s,r,a)}}class Zv extends k{constructor(t,e,i,s,r,o,a){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Dirty Rat",this.tier=1,this.pack="Turtle",this.hidden=!0,this.health=1,this.attack=1,this.initPet(o,s,r,a)}}class CD extends k{constructor(t,e,i,s,r,o,a){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Rat",this.tier=2,this.pack="Turtle",this.health=6,this.attack=3,this.initPet(o,s,r,a)}faint(t,e,i){let s;s=t.player==this.parent?t.opponet:t.player;for(let r=0;r<this.level;r++)this.abilityService.setSpawnEvent({callback:()=>{this.logService.createLog({message:`${this.name} Summoned Dirty Rat on Opponent`,type:"ability",player:this.parent,tiger:e,pteranodon:i});let o=new Zv(this.logService,this.abilityService,s,null,null,0);s.summonPet(o,0)&&this.abilityService.triggerSummonedEvents(o)},priority:this.attack});super.superFaint(t,e)}}class DD extends k{constructor(t,e,i,s,r,o,a){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Hedgehog",this.tier=2,this.pack="Turtle",this.attack=4,this.health=2,this.initPet(o,s,r,a)}faint(t,e,i){let s=t.player.petArray.filter(o=>o!=this&&o.alive);s.reverse(),s=[...s,...t.opponet.petArray.filter(o=>o.alive)];let r=2*this.level;for(let o of s)this.snipePet(o,r,!1,e,i);super.superFaint(t,e),this.done=!0}}class AD extends k{constructor(t,e,i,s,r,o,a){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Peacock",this.tier=2,this.pack="Turtle",this.health=5,this.attack=2,this.initPet(o,s,r,a)}hurt(t,e,i){if(this.health<1)return;let s=4*this.level;this.increaseAttack(s),this.logService.createLog({message:`${this.name} increased attack by ${s} (${this.attack})`,type:"ability",player:this.parent,tiger:i}),super.superHurt(t,e,i)}}class PD extends k{constructor(t,e,i,s,r,o,a){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Flamingo",this.tier=2,this.pack="Turtle",this.health=2,this.attack=3,this.initPet(o,s,r,a)}faint(t,e,i){let o,a,u,r=this.parent.petArray;for(let h in r)r[+h]==this&&(o=+h);for(let h=o;h<5;h++){let f=r[h];if(null!=f&&f.health>0){if(null==a){a=f;continue}u=f;break}}if(a){let h=a;h.increaseAttack(this.level),h.increaseHealth(this.level),this.logService.createLog({message:`${this.name} gave ${h.name} ${this.level} attack and ${this.level} health.`,type:"ability",player:this.parent,tiger:e,pteranodon:i})}if(u){let h=u;h.increaseAttack(this.level),h.increaseHealth(this.level),this.logService.createLog({message:`Flamingo gave ${h.name} ${this.level} attack and ${this.level} health.`,type:"ability",player:this.parent,tiger:e,pteranodon:i})}super.superFaint(t,e)}}class kD extends k{constructor(t,e,i,s,r,o,a){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Worm",this.tier=2,this.pack="Turtle",this.health=1,this.attack=3,this.initPet(o,s,r,a)}}class TD extends k{constructor(t,e,i,s,r,o,a){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Kangaroo",this.tier=2,this.pack="Turtle",this.health=3,this.attack=2,this.initPet(o,s,r,a)}friendAheadAttacks(t,e){this.increaseAttack(this.level),this.increaseHealth(this.level),this.logService.createLog({message:`${this.name} gained ${this.level} attack and ${this.level} health.`,type:"ability",player:this.parent,tiger:e}),super.superFriendAheadAttacks(t,e)}}class xD extends k{constructor(t,e,i,s,r,o,a,u){super(t,e,s),this.logService=t,this.abilityService=e,this.petService=i,this.name="Spider",this.tier=2,this.pack="Turtle",this.health=2,this.attack=2,this.initPet(a,r,o,u)}faint(t,e,i){let s;s=this.parent==t.player?t.playerPetPool.get(3):t.opponentPetPool.get(3);let r=s.filter(f=>"Spider"!=f),o=r[Fo(0,r.length-1)],a=this.level,u=2*this.level,h=this.petService.createPet({attack:u,exp:this.minExpForLevel,equipment:null,health:u,name:o},this.parent);this.abilityService.setSpawnEvent({callback:()=>{this.logService.createLog({message:`${this.name} spawned ${h.name} level ${a} (${u}/${u})`,type:"ability",player:this.parent,randomEvent:!0,tiger:e,pteranodon:i}),this.parent.summonPet(h,this.savedPosition)&&this.abilityService.triggerSummonedEvents(h)},priority:this.attack}),super.superFaint(t,e)}}class MD extends k{constructor(t,e,i,s,r,o,a){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Dodo",this.tier=3,this.pack="Turtle",this.health=2,this.attack=4,this.initPet(o,s,r,a)}startOfBattle(t,e){let i=this.petAhead;if(null==i)return;let s=Math.floor(this.attack*(.5*this.level));i.increaseAttack(s),this.logService.createLog({message:`${this.name} gave ${i.name} ${s} attack.`,player:this.parent,type:"ability",tiger:e}),super.superStartOfBattle(t,e)}}class ID extends k{constructor(t,e,i,s,r,o,a){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Badger",this.tier=3,this.pack="Turtle",this.health=3,this.attack=6,this.initPet(o,s,r,a)}faint(t,e,i){let s;s=t.player==this.parent?t.opponet:t.player;let o,r=this.attack*(.5*this.level);this.petBehind()&&this.snipePet(this.petBehind(),r,!1,e,i),o=this.petAhead?this.petAhead:s.furthestUpPet,null!=o&&this.snipePet(o,r,!1,e,i),super.superFaint(t,e),this.done=!0}}class Jv extends k{constructor(t,e,i,s,r,o,a){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Dolphin",this.tier=3,this.pack="Turtle",this.health=3,this.attack=4,this.initPet(o,s,r,a)}startOfBattle(t,e){let i;i=t.player==this.parent?t.opponet:t.player;for(let s=0;s<this.level;s++){let r=i.getLowestHealthPet();if(!r.pet)break;this.snipePet(r.pet,4,r.random,e)}super.superStartOfBattle(t,e)}}class OD extends k{constructor(t,e,i,s,r,o,a){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Giraffe",this.tier=3,this.pack="Turtle",this.attack=1,this.health=2,this.initPet(o,s,r,a)}}class ND extends k{constructor(t,e,i,s,r,o,a){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Elephant",this.tier=3,this.pack="Turtle",this.health=7,this.attack=3,this.initPet(o,s,r,a)}afterAttack(t,e){for(let i=0;i<this.level;i++)this.petBehind()&&this.snipePet(this.petBehind(),1,!1,e);super.superAfterAttack(t,e)}}class RD extends k{constructor(t,e,i,s,r,o,a){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Camel",this.tier=3,this.pack="Turtle",this.health=4,this.attack=3,this.initPet(o,s,r,a)}hurt(t,e,i){let s=this.petBehind();if(null==s)return;let r=2*this.level;s&&(s.increaseAttack(this.level),s.increaseHealth(r)),this.logService.createLog({message:`${this.name} gave ${s.name} ${r} attack and ${r} health.`,type:"ability",player:this.parent,tiger:i}),super.superHurt(t,e,i)}}class LD extends k{constructor(t,e,i,s,r,o,a){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Rabbit",this.tier=3,this.pack="Turtle",this.health=2,this.attack=1,this.initPet(o,s,r,a)}}class Oa extends Ge{constructor(){super(...arguments),this.name="Melon",this.equipmentClass="shield",this.power=20,this.uses=1,this.originalUses=1}}class FD extends k{constructor(t,e,i,s,r,o,a){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Ox",this.tier=3,this.pack="Turtle",this.health=3,this.attack=1,this.initPet(o,s,r,a)}friendAheadFaints(t,e){this.abilityUses>=this.maxAbilityUses||(this.equipment=new Oa,this.increaseAttack(1),this.logService.createLog({message:`${this.name} gained Melon and 1 attack.`,type:"ability",player:this.parent,tiger:e}),this.abilityUses++,super.superFriendAheadFaints(t,e))}setAbilityUses(){super.setAbilityUses(),this.maxAbilityUses=this.level}}class VD extends k{constructor(t,e,i,s,r,o,a){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Dog",this.tier=3,this.pack="Turtle",this.attack=3,this.health=2,this.initPet(o,s,r,a)}friendSummoned(t,e){if(t==this)return;let i=2*this.level,s=this.level;this.increaseAttack(i),this.increaseHealth(s),this.logService.createLog({message:`${this.name} gained ${i} attack and ${s} health.`,type:"ability",player:this.parent,tiger:e}),super.superFriendSummoned(t,e)}}class Xv extends k{constructor(t,e,i,s,r,o,a){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Ram",this.tier=1,this.pack="Turtle",this.hidden=!0,this.health=2,this.attack=2,this.initPet(o,s,r,a)}}class BD extends k{constructor(t,e,i,s,r,o,a){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Sheep",this.tier=3,this.pack="Turtle",this.attack=2,this.health=2,this.initPet(o,s,r,a)}faint(t,e,i){for(let s=0;s<2;s++)this.abilityService.setSpawnEvent({callback:()=>{let r=new Xv(this.logService,this.abilityService,this.parent,null,null,this.minExpForLevel);this.logService.createLog({message:`${this.name} spawned Ram (${r.attack}/${r.health}).`,type:"ability",player:this.parent,tiger:e,pteranodon:i}),this.parent.summonPet(r,this.savedPosition)&&this.abilityService.triggerSummonedEvents(r)},priority:this.attack});super.superFaint(t,e)}}class $D extends k{constructor(t,e,i,s,r,o,a){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Tiger",this.tier=6,this.pack="Turtle",this.attack=6,this.health=4,this.initPet(o,s,r,a)}}class HD extends k{constructor(t,e,i,s,r,o,a,u){super(t,e,s),this.logService=t,this.abilityService=e,this.petService=i,this.name="Parrot",this.tier=4,this.pack="Turtle",this.attack=4,this.health=2,this.initPet(a,r,o,u)}endTurn(t){var e,i,s,r,o,a,u,h,f,p,v;let _=this.petAhead;null!=this.petAhead&&(this.startOfBattle=null===(e=_.startOfBattle)||void 0===e?void 0:e.bind(this),this.hurt=null===(i=_.hurt)||void 0===i?void 0:i.bind(this),this.faint=null===(s=_.faint)||void 0===s?void 0:s.bind(this),this.friendSummoned=null===(r=_.friendSummoned)||void 0===r?void 0:r.bind(this),this.friendAheadAttacks=null===(o=_.friendAheadAttacks)||void 0===o?void 0:o.bind(this),this.friendAheadFaints=null===(a=_.friendAheadFaints)||void 0===a?void 0:a.bind(this),this.friendFaints=null===(u=_.friendFaints)||void 0===u?void 0:u.bind(this),this.afterAttack=null===(h=_.afterAttack)||void 0===h?void 0:h.bind(this),this.beforeAttack=null===(f=_.beforeAttack)||void 0===f?void 0:f.bind(this),this.knockOut=null===(p=_.knockOut)||void 0===p?void 0:p.bind(this),this.summoned=null===(v=_.summoned)||void 0===v?void 0:v.bind(this),this.logService.createLog({message:`Parrot copied ${_.name}`,type:"ability",player:this.parent}))}}class qD extends k{constructor(t,e,i,s,r,o,a){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Skunk",this.tier=4,this.pack="Turtle",this.attack=3,this.health=5,this.initPet(o,s,r,a)}startOfBattle(t,e){let s=Tt(t,this.parent).getHighestHealthPet(),r=s.pet,o=.33*this.level,a=Math.max(1,Math.floor(r.health*(1-o)));r.health=a,this.logService.createLog({message:`${this.name} reduced ${r.name} health by ${100*o}% (${a})`,type:"ability",player:this.parent,randomEvent:s.random,tiger:e}),this.superStartOfBattle(t,e)}}class GD extends k{constructor(t,e,i,s,r,o,a){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Hippo",this.tier=4,this.pack="Turtle",this.attack=4,this.health=7,this.initPet(o,s,r,a)}knockOut(t,e,i){if(this.health<1)return;let s=2*this.level;e.tier>3&&(s*=2),this.increaseAttack(s),this.increaseHealth(s),this.logService.createLog({message:`${this.name} gained ${s} attack and ${s} health.`,type:"ability",player:this.parent,tiger:i}),this.superKnockOut(t,e,i)}}class UD extends k{constructor(t,e,i,s,r,o,a){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Bison",this.tier=4,this.pack="Turtle",this.attack=4,this.health=4,this.initPet(o,s,r,a)}}class jD extends k{constructor(t,e,i,s,r,o,a){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Blowfish",this.tier=4,this.pack="Turtle",this.attack=3,this.health=6,this.initPet(o,s,r,a)}hurt(t,e,i){let s=3*this.level,r=Tt(t,this.parent).getRandomPet(null,null,!0);r&&this.snipePet(r,s,!0,i),this.superHurt(t,e,i)}}class WD extends k{constructor(t,e,i,s,r,o,a){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Turtle",this.tier=4,this.pack="Turtle",this.attack=2,this.health=5,this.initPet(o,s,r,a)}faint(t,e,i){for(let s=0;s<this.level;s++){let r=this.petBehind();for(;r&&r.equipment instanceof Oa;)r=r.petBehind();if(null==r)return;r.givePetEquipment(new Oa),this.logService.createLog({message:`${this.name} gave ${r.name} Melon.`,type:"ability",tiger:e,player:this.parent,pteranodon:i})}this.superFaint(t,e)}}class zD extends k{constructor(t,e,i,s,r,o,a){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Squirrel",this.tier=4,this.pack="Turtle",this.attack=2,this.health=5,this.initPet(o,s,r,a)}}class KD extends k{constructor(t,e,i,s,r,o,a){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Penguin",this.tier=4,this.pack="Turtle",this.attack=2,this.health=4,this.initPet(o,s,r,a)}}class yn extends k{constructor(t,e,i,s,r,o,a){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Panther",this.tier=5,this.pack="Puppy",this.attack=3,this.health=5,this.initPet(o,s,r,a)}}class Ap extends Ge{constructor(t,e){super(),this.logService=t,this.abilityService=e,this.name="Chili",this.equipmentClass="skewer",this.power=0,this.attackCallback=(i,s)=>{let r=s.parent.getPetAtPosition(1);if(null==r)return;let o=1;i instanceof yn&&(o=1+i.level);let a=i.calculateDamgae(r,5),u=a.defenseEquipment,h=a.damage*o;r.health-=h;let f=`${i.name} attacks ${r.name} for ${h}`;if(i instanceof yn&&(f+=` x${o} (Panther)`),null!=u){r.useDefenseEquipment();let p=Math.abs(u.power),v="-";u.power<0&&(v="+"),f+=` (${u.name} ${v}${p})`,s instanceof yn&&(f+=` x${1+i.level} (Panther)`)}this.logService.createLog({message:f+=" (Chili).",type:"attack",player:i.parent}),null!=r.hurt&&h>0&&this.abilityService.setHurtEvent({callback:r.hurt.bind(r),priority:r.attack,player:r.parent,callbackPet:s}),r.health<1&&null!=i.knockOut&&this.abilityService.setKnockOutEvent({callback:i.knockOut.bind(i),priority:i.attack,callbackPet:r}),r.alive&&h>0&&this.abilityService.triggerFriendHurtEvents(s.parent,s),i.alive&&h>0&&this.abilityService.triggerEnemyHurtEvents(i.parent,r)}}}class e_ extends k{constructor(t,e,i,s,r,o,a){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Bus",this.tier=1,this.pack="Turtle",this.hidden=!0,this.health=5,this.attack=5,this.initPet(o,s,r,a)}}class YD extends k{constructor(t,e,i,s,r,o,a){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Deer",this.tier=4,this.pack="Turtle",this.attack=1,this.health=1,this.initPet(o,s,r,a)}faint(t,e,i){let s=new e_(this.logService,this.abilityService,this.parent,null,null,this.minExpForLevel,new Ap(this.logService,this.abilityService));this.abilityService.setSpawnEvent({callback:()=>{this.logService.createLog({message:`${this.name} spawned Bus level ${this.level}`,type:"ability",player:this.parent,tiger:e,pteranodon:i}),this.parent.summonPet(s,this.savedPosition)&&this.abilityService.triggerSummonedEvents(s)},priority:this.attack}),super.superFaint(t,e)}}class QD extends k{constructor(t,e,i,s,r,o,a,u){super(t,e,s),this.logService=t,this.abilityService=e,this.petService=i,this.name="Whale",this.tier=4,this.pack="Turtle",this.attack=4,this.health=10,this.initPet(a,r,o,u)}startOfBattle(t,e){let i=this.petAhead;if(!i)return;let s=(0,xe.clone)(i);s.exp=this.exp,this.swallowedPets.push(this.petService.createDefaultVersionOfPet(s)),i.health=0,this.logService.createLog({message:`${this.name} swallowed ${i.name}`,type:"ability",player:this.parent,tiger:e}),this.superStartOfBattle(t,e)}faint(t,e,i){for(let s of this.swallowedPets)this.abilityService.setSpawnEvent({callback:()=>{this.logService.createLog({message:`${this.name} summoned ${s.name} (level ${s.level}).`,type:"ability",player:this.parent,tiger:e,pteranodon:i}),this.parent.summonPet(s,this.savedPosition)},priority:this.attack,player:this.parent})}}class hh extends k{constructor(t,e,i,s,r,o,a){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Bee",this.tier=1,this.pack="Turtle",this.hidden=!0,this.health=1,this.attack=1,this.initPet(o,s,r,a)}}class ZD extends k{constructor(t,e,i,s,r,o,a){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Scorpion",this.tier=5,this.pack="Turtle",this.attack=1,this.health=1,this.initPet(o,s,r,a)}summoned(t,e){this.equipment=new ic,this.logService.createLog({message:`${this.name} gained the Peanut perk.`,type:"ability",player:this.parent,tiger:e}),this.superSummoned(t,e)}}class JD extends k{constructor(t,e,i,s,r,o,a){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Crocodile",this.tier=5,this.pack="Turtle",this.attack=8,this.health=4,this.initPet(o,s,r,a)}startOfBattle(t,e){for(let i=0;i<this.level;i++){let s=Tt(t,this.parent).getLastPet();s&&this.snipePet(s,8,!1,e)}super.superStartOfBattle(t,e)}}class XD extends k{constructor(t,e,i,s,r,o,a){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Rhino",this.tier=5,this.pack="Turtle",this.attack=6,this.health=9,this.initPet(o,s,r,a)}knockOut(t,e,i){let s=Tt(t,this.parent).furthestUpPet;if(null==s)return;let r=4*this.level;1==s.tier&&(r*=2),this.snipePet(s,r,!1,i),this.superKnockOut(t,e,i)}}class t_ extends k{constructor(t,e,i,s,r,o,a){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Monkey",this.tier=5,this.pack="Turtle",this.attack=1,this.health=2,this.initPet(o,s,r,a)}}class e0 extends k{constructor(t,e,i,s,r,o,a){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Armadillo",this.tier=5,this.pack="Turtle",this.attack=2,this.health=6,this.initPet(o,s,r,a)}startOfBattle(t,e){let i=[...this.parent.petArray.filter(s=>s!=this),...Tt(t,this.parent).petArray];for(let s of i){if(!s.alive)continue;let r=8*this.level;s.increaseHealth(r),this.logService.createLog({message:`${this.name} increased health of ${s.name} by ${r}.`,type:"ability",player:this.parent,tiger:e})}this.superStartOfBattle(t,e)}}class t0 extends k{constructor(t,e,i,s,r,o,a){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Cow",this.tier=5,this.pack="Turtle",this.attack=4,this.health=6,this.initPet(o,s,r,a)}}class n0 extends k{constructor(t,e,i,s,r,o,a){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Seal",this.tier=5,this.pack="Turtle",this.attack=3,this.health=8,this.initPet(o,s,r,a)}}class n_ extends k{constructor(t,e,i,s,r,o,a){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Chick",this.tier=1,this.pack="Turtle",this.hidden=!0,this.health=1,this.attack=1,this.initPet(o,s,r,a)}}class s0 extends k{constructor(t,e,i,s,r,o,a){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Rooster",this.tier=5,this.pack="Turtle",this.attack=6,this.health=4,this.initPet(o,s,r,a)}faint(t,e,i){let s=Math.floor(.5*this.attack);for(let r=0;r<this.level;r++)this.abilityService.setSpawnEvent({callback:()=>{this.logService.createLog({message:`${this.name} summoned Chick (${s}).`,type:"ability",player:this.parent,tiger:e,pteranodon:i}),this.parent.summonPet(new n_(this.logService,this.abilityService,this.parent,1,s,this.minExpForLevel),this.savedPosition)},priority:this.attack,player:this.parent});this.superFaint(t,e)}}class r0 extends k{constructor(t,e,i,s,r,o,a){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Shark",this.tier=5,this.pack="Turtle",this.attack=2,this.health=2,this.initPet(o,s,r,a)}friendFaints(t,e,i){if(this.health<=0||e==this)return;let s={attack:2*this.level,health:2*this.level};this.increaseAttack(s.attack),this.increaseHealth(s.health),this.logService.createLog({message:`${this.name} gained ${s.attack} attack and ${s.health} health.`,type:"ability",player:this.parent,tiger:i}),super.superFriendFaints(t,e,i)}}class o0 extends k{constructor(t,e,i,s,r,o,a){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Turkey",this.tier=5,this.pack="Turtle",this.attack=3,this.health=4,this.initPet(o,s,r,a)}friendSummoned(t,e){let i={attack:3*this.level,health:2*this.level};t.increaseAttack(i.attack),t.increaseHealth(i.health),this.logService.createLog({message:`${this.name} gave ${t.name} ${i.attack} attack and ${i.health} health.`,type:"ability",player:this.parent,tiger:e}),super.superFriendSummoned(t,e)}}class a0 extends k{constructor(t,e,i,s,r,o,a){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Leopard",this.tier=6,this.pack="Turtle",this.attack=10,this.health=4,this.initPet(o,s,r,a)}startOfBattle(t,e){let i=Math.floor(.5*this.attack),s=this.parent.opponent.getRandomPets(this.level,null,null,!0);for(let r of s)this.snipePet(r,i,!0,e);this.superStartOfBattle(t,e)}}class l0 extends k{constructor(t,e,i,s,r,o,a){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Boar",this.tier=6,this.pack="Turtle",this.attack=10,this.health=6,this.initPet(o,s,r,a)}beforeAttack(t,e){let i={attack:4*this.level,health:2*this.level};this.increaseAttack(i.attack),this.increaseHealth(i.health),this.logService.createLog({message:`${this.name} gained ${i.attack} attack and ${i.health} health.`,type:"ability",player:this.parent,tiger:e}),this.superBeforeAttack(t,e)}}class c0 extends k{constructor(t,e,i,s,r,o,a){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Wolverine",this.tier=6,this.pack="Turtle",this.attack=5,this.health=4,this.initPet(o,s,r,a)}}class Na extends Ge{constructor(){super(...arguments),this.name="Coconut",this.equipmentClass="shield",this.power=999,this.uses=1,this.originalUses=1}}class u0 extends k{constructor(t,e,i,s,r,o,a){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Gorilla",this.tier=6,this.pack="Turtle",this.attack=7,this.health=10,this.initPet(o,s,r,a)}hurt(t,e,i){!this.alive||(this.abilityUses<this.maxAbilityUses&&(this.abilityUses++,this.equipment=new Na,this.logService.createLog({message:`${this.name} gained a Coconut.`,type:"ability",player:this.parent,tiger:i})),super.superHurt(t,e,i))}setAbilityUses(){super.setAbilityUses(),this.maxAbilityUses=this.level}}class h0 extends k{constructor(t,e,i,s,r,o,a){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Dragon",this.tier=6,this.pack="Turtle",this.attack=6,this.health=8,this.initPet(o,s,r,a)}}class d0 extends k{constructor(t,e,i,s,r,o,a){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Mammoth",this.tier=6,this.pack="Turtle",this.attack=4,this.health=12,this.initPet(o,s,r,a)}faint(t,e,i){let s=2*this.level;for(let r of this.parent.petArray.filter(o=>o!=this&&o.alive))r.increaseAttack(s),r.increaseHealth(s),this.logService.createLog({message:`${this.name} gave ${r.name} ${s} attack and ${s} health.`,type:"ability",player:this.parent,tiger:e,pteranodon:i});super.superFaint(t,e)}}class f0 extends k{constructor(t,e,i,s,r,o,a){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Cat",this.tier=6,this.pack="Turtle",this.attack=4,this.health=5,this.initPet(o,s,r,a)}}class p0 extends k{constructor(t,e,i,s,r,o,a){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Snake",this.tier=6,this.pack="Turtle",this.attack=6,this.health=6,this.initPet(o,s,r,a)}friendAheadAttacks(t,e){let i=5*this.level,s=Tt(t,this.parent).getRandomPet(null,null,!0);!s||(this.snipePet(s,i,!0,e),this.superFriendAheadAttacks(t,e))}}class Pp extends k{constructor(t,e,i,s,r,o,a){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Zombie Fly",this.tier=1,this.pack="Turtle",this.hidden=!0,this.health=4,this.attack=4,this.initPet(o,s,r,a)}}class g0 extends k{constructor(t,e,i,s,r,o,a){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Fly",this.tier=6,this.pack="Turtle",this.attack=5,this.health=5,this.maxAbilityUses=3,this.initPet(o,s,r,a)}friendFaints(t,e,i){e instanceof Pp||this.abilityUses>=this.maxAbilityUses||!this.alive||this.abilityService.setSpawnEvent({callback:()=>{let s=new Pp(this.logService,this.abilityService,this.parent,null,null,this.minExpForLevel);this.parent.summonPet(s,e.savedPosition,!0)&&(this.abilityService.triggerSummonedEvents(s),this.abilityUses++,this.logService.createLog({message:`${this.name} spawned Zombie Fly Level ${this.level}`,type:"ability",player:this.parent,tiger:i}))},priority:-1})}}class m0 extends k{constructor(t,e,i,s,r,o,a){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Moth",this.tier=1,this.pack="Puppy",this.health=1,this.attack=3,this.initPet(o,s,r,a)}startOfBattle(t,e){let i=this.parent.furthestUpPet,s=2*this.level;i.increaseAttack(s),this.logService.createLog({message:`${this.name} gave ${i.name} ${s} attack.`,type:"ability",player:this.parent,tiger:e}),this.superStartOfBattle(t,e)}}class y0 extends k{constructor(t,e,i,s,r,o,a){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Bluebird",this.tier=1,this.pack="Puppy",this.attack=2,this.health=1,this.initPet(o,s,r,a)}}class v0 extends k{constructor(t,e,i,s,r,o,a){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Chinchilla",this.tier=1,this.pack="Puppy",this.attack=2,this.health=2,this.initPet(o,s,r,a)}}class kp extends Ge{constructor(){super(...arguments),this.equipmentClass="defense",this.name="Garlic",this.power=2}}class i_ extends Ge{constructor(t,e){super(),this.logService=t,this.abilityService=e,this.name="Honey",this.equipmentClass="faint",this.callback=i=>{let s=1;i instanceof yn&&(s=1+i.level);for(let r=0;r<s;r++)this.abilityService.setSpawnEvent({callback:()=>{let o=new hh(this.logService,this.abilityService,i.parent,null,null,0);i.parent.summonPet(o,i.savedPosition);let a="";r>0&&(a=" (Panther)"),this.logService.createLog({message:`${i.name} Spawned Bee (Honey)${a}`,type:"ability",player:i.parent}),this.abilityService.triggerSummonedEvents(o)},priority:i.attack})}}}class _0 extends Ge{constructor(){super(...arguments),this.name="Meat Bone",this.equipmentClass="attack",this.power=3}}class b0 extends k{constructor(t,e,i,s,r,o,a){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Beetle",this.tier=1,this.pack="Puppy",this.attack=1,this.health=2,this.initPet(o,s,r,a)}startOfBattle(t,e){let i;switch(this.level){case 1:i=new i_(this.logService,this.abilityService);break;case 2:i=new _0;break;case 3:i=new kp}this.logService.createLog({message:`${this.name} gained ${i.name} perk.`,type:"ability",player:this.parent,tiger:e}),this.givePetEquipment(i),super.superStartOfBattle(t,e)}}class S0 extends k{constructor(t,e,i,s,r,o,a){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Ladybug",this.tier=1,this.pack="Puppy",this.attack=1,this.health=3,this.initPet(o,s,r,a)}friendGainedPerk(t,e,i){let s=2*this.level;this.increaseAttack(s),this.logService.createLog({message:`${this.name} gained ${s} attack.`,type:"ability",player:this.parent,tiger:i}),this.superFriendGainedPerk(t,e,i)}}class E0 extends k{constructor(t,e,i,s,r,o,a){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Chipmunk",this.tier=1,this.pack="Puppy",this.attack=3,this.health=2,this.initPet(o,s,r,a)}}class w0 extends k{constructor(t,e,i,s,r,o,a){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Gecko",this.tier=1,this.pack="Puppy",this.attack=3,this.health=1,this.toyPet=!0,this.initPet(o,s,r,a)}startOfBattle(t,e){if(null==this.parent.toy)return;let i=2*this.level;this.increaseHealth(i),this.logService.createLog({message:`${this.name} gained ${i} health.`,type:"ability",player:this.parent,tiger:e}),this.superStartOfBattle(t,e)}}class C0 extends k{constructor(t,e,i,s,r,o,a){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Ferret",this.tier=1,this.pack="Puppy",this.attack=2,this.health=1,this.initPet(o,s,r,a)}}class dh extends Ge{constructor(){super(...arguments),this.name="Weak",this.equipmentClass="ailment-defense",this.power=-3}}class D0 extends k{constructor(t,e,i,s,r,o,a){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Bat",this.tier=2,this.pack="Puppy",this.attack=1,this.health=2,this.initPet(o,s,r,a)}startOfBattle(t,e){let i=Tt(t,this.parent),s=i.getPetsWithEquipment("Weak"),r=i.getRandomPets(this.level,s,null,!0);for(let o of r)o.givePetEquipment(new dh),this.logService.createLog({message:`${this.name} made ${o.name} weak.`,type:"ability",player:this.parent,randomEvent:!0,tiger:e});this.superStartOfBattle(t,e)}}class s_ extends Ge{constructor(){super(...arguments),this.name="Rice",this.equipmentClass="shop"}}class A0 extends k{constructor(t,e,i,s,r,o,a){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Frigatebird",this.tier=2,this.pack="Puppy",this.attack=2,this.health=1,this.initPet(o,s,r,a)}friendGainedAilment(t,e){if(this.abilityUses>=this.level||e==this)return;let i=e.equipment;e.givePetEquipment(new s_),this.abilityUses++,this.logService.createLog({message:`${this.name} removed ${i.name} from ${e.name} and gave ${e.name} Rice.`,type:"ability",player:this.parent})}resetPet(){super.resetPet()}setAbilityUses(){super.setAbilityUses(),this.maxAbilityUses=this.level}}class Tp extends Ge{constructor(t,e){super(),this.logService=t,this.abilityService=e,this.name="Egg",this.equipmentClass="snipe",this.uses=1,this.originalUses=1,this.attackCallback=(i,s)=>{let r=s.parent.petArray,o=null;for(i of r)if(i.alive){o=i;break}if(null==o)return void console.warn("egg didn't find target");let a=i.calculateDamgae(o,2,!0),u=a.defenseEquipment,h=a.damage;o.health-=h;let f=`${i.name} sniped ${o.name} for ${h}`;if(i instanceof yn&&(f+=` x${1+i.level} (Panther)`),null!=u){o.useDefenseEquipment();let p=Math.abs(u.power),v="-";u.power<0&&(v="+"),f+=` (${u.name} ${v}${p})`}this.logService.createLog({message:f+=" (Egg).",type:"attack",player:i.parent}),null!=o.hurt&&this.abilityService.setHurtEvent({callback:o.hurt.bind(o),priority:o.attack,player:o.parent,callbackPet:s}),o.health<1&&null!=i.knockOut&&(console.log("knock out!"),this.abilityService.setKnockOutEvent({callback:i.knockOut.bind(i),priority:i.attack,callbackPet:o})),o.alive&&this.abilityService.triggerFriendHurtEvents(s.parent,s),o.alive&&h>0&&this.abilityService.triggerEnemyHurtEvents(i.parent,o)}}}class fh extends k{constructor(t,e,i,s,r,o,a){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Nest",this.tier=1,this.pack="Puppy",this.hidden=!0,this.attack=2,this.health=3,this.initPet(o,s,r,a)}}class P0 extends k{constructor(t,e,i,s,r,o,a){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Robin",this.tier=2,this.pack="Puppy",this.attack=2,this.health=3,this.initPet(o,s,r,a)}startOfBattle(t,e){let i=new fh(this.logService,this.abilityService,this.parent,null,null,this.minExpForLevel,null);this.logService.createLog({message:`${this.name} summoned a Nest (level ${this.level}).`,type:"ability",player:this.parent,randomEvent:!1,tiger:e}),this.parent.summonPet(i,Math.max(0,this.position))&&(this.abilityService.triggerSummonedEvents(i),this.logService.createLog({message:`${this.name} gave Nest an Egg.`,type:"ability",player:this.parent,randomEvent:!1,tiger:e}),i.givePetEquipment(new Tp(this.logService,this.abilityService))),this.superStartOfBattle(t,e)}}class k0 extends k{constructor(t,e,i,s,r,o,a){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Dromedary",this.tier=2,this.pack="Puppy",this.attack=2,this.health=4,this.initPet(o,s,r,a)}}class T0 extends k{constructor(t,e,i,s,r,o,a){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Shrimp",this.tier=2,this.pack="Puppy",this.attack=2,this.health=2,this.initPet(o,s,r,a)}}class x0 extends k{constructor(t,e,i,s,r,o,a){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Toucan",this.tier=2,this.pack="Puppy",this.attack=3,this.health=3,this.initPet(o,s,r,a)}faint(t,e,i){var s;if(null==this.equipment)return;let r=this.parent.petArray,o=[],a=!1;for(let u of r)u==this&&(a=!0),a&&(null===(s=u.equipment)||void 0===s?void 0:s.name)!=this.equipment.name&&o.push(u);for(let u=0;u<this.level;u++){let h=o[u];if(null==h)break;this.logService.createLog({message:`${this.name} gave ${h.name} ${this.equipment.name}`,type:"ability",player:this.parent,randomEvent:!1,tiger:e,pteranodon:i}),h.givePetEquipment((0,xe.cloneDeep)(this.equipment))}this.superFaint(t,e)}}class M0 extends k{constructor(t,e,i,s,r,o,a){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Beluga Sturgeon",this.tier=2,this.pack="Puppy",this.attack=2,this.health=3,this.initPet(o,s,r,a)}faint(t,e,i){for(let s=0;s<this.level;s++)this.abilityService.setSpawnEvent({callback:()=>{let r=new Jv(this.logService,this.abilityService,this.parent,3,2,0,new s_);this.logService.createLog({message:`${this.name} summoned a 2/3 Dolphin with Rice in the back.`,type:"ability",player:this.parent,randomEvent:!1,tiger:e,pteranodon:i}),this.parent.summonPet(r,4)&&this.abilityService.triggerSummonedEvents(r)},priority:this.attack});this.superFaint(t,e)}}class I0 extends k{constructor(t,e,i,s,r,o,a){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Tabby Cat",this.tier=2,this.pack="Puppy",this.attack=4,this.health=3,this.initPet(o,s,r,a)}friendGainedPerk(t,e,i){let s=this.parent.getRandomPets(2,[this],!0,!1);if(0!=s.length){for(let r of s)this.logService.createLog({message:`${this.name} increased ${r.name}'s health by ${this.level}.`,type:"ability",player:this.parent,randomEvent:!0,tiger:i}),r.increaseHealth(this.level);this.superFriendGainedPerk(t,e,i)}}}class r_ extends k{constructor(t,e,i,s,r,o,a){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Flying Squirrel",this.tier=3,this.pack="Puppy",this.attack=3,this.health=3,this.initPet(o,s,r,a)}friendlyToyBroke(t,e){this.logService.createLog({message:`${this.parent.toy.name} respawned!`,type:"ability",player:this.parent,tiger:e}),this.superFriendlyToyBroke(t,e)}}class O0 extends k{constructor(t,e,i,s,r,o,a){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Mandrill",this.tier=2,this.pack="Puppy",this.attack=3,this.health=4,this.initPet(o,s,r,a)}faint(t,e,i){var s;if((null===(s=this.parent.toy)||void 0===s?void 0:s.tier)<=2*this.level){let o=!1;for(let a of this.parent.petArray)if(a instanceof r_){o=!0;break}this.parent.breakToy(o),this.abilityService.triggerFriendlyToyBrokeEvents(this.parent)}}}class N0 extends k{constructor(t,e,i,s,r,o,a){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Lemur",this.tier=2,this.pack="Puppy",this.attack=3,this.health=3,this.initPet(o,s,r,a)}}class R0 extends k{constructor(t,e,i,s,r,o,a){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Hoopoe Bird",this.tier=3,this.pack="Puppy",this.attack=3,this.health=2,this.initPet(o,s,r,a)}faint(t,e,i){let s=Tt(t,this.parent),r=s.furthestUpPet,o=s.getLastPet(),a=2*this.level;!r||(this.snipePet(r,a,!1,e,i),this.snipePet(o,a,!1,e,i),this.superFaint(t,e))}}class L0 extends k{constructor(t,e,i,s,r,o,a){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Tropical Fish",this.tier=3,this.pack="Puppy",this.attack=2,this.health=4,this.initPet(o,s,r,a)}}class F0 extends k{constructor(t,e,i,s,r,o,a){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Hatching Chick",this.tier=3,this.pack="Puppy",this.attack=2,this.health=2,this.initPet(o,s,r,a)}}class V0 extends k{constructor(t,e,i,s,r,o,a){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Goldfish",this.tier=3,this.pack="Puppy",this.attack=1,this.health=5,this.initPet(o,s,r,a)}}class B0 extends k{constructor(t,e,i,s,r,o,a){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Owl",this.tier=3,this.pack="Puppy",this.attack=1,this.health=2,this.initPet(o,s,r,a)}}class xp extends k{constructor(t,e,i,s,r,o,a){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Mole",this.tier=3,this.pack="Puppy",this.attack=2,this.health=3,this.initPet(o,s,r,a)}faint(t,e,i){let s=6*this.level,r=[];for(let o of this.parent.petArray)o!=this&&o.equipment&&r.push(o);if(r=r.slice(0,2),!(r.length<2)){for(let o of r)o.equipment=null,this.logService.createLog({message:`${this.name} removed ${o.name}'s equipment.`,type:"ability",player:this.parent,pteranodon:i});this.abilityService.setSpawnEvent({callback:()=>{this.logService.createLog({message:`${this.name} summoned a ${s}/${s} Mole.`,type:"ability",player:this.parent,pteranodon:i});let o=new xp(this.logService,this.abilityService,this.parent,s,s);this.parent.summonPet(o,this.savedPosition)&&this.abilityService.triggerSummonedEvents(o)},priority:this.attack})}}}class $0 extends k{constructor(t,e,i,s,r,o,a){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Raccoon",this.tier=5,this.pack="Custom",this.attack=4,this.health=5,this.initPet(o,s,r,a)}beforeAttack(t,e){let s=Tt(t,this.parent).getPetAtPosition(0);null!=s&&null!=s.equipment&&(this.abilityUses>=this.maxAbilityUses||(this.logService.createLog({message:`${this.name} stole ${s.name}'s equipment. (${s.equipment.name})`,type:"ability",player:this.parent}),this.givePetEquipment(s.equipment),s.equipment=null,this.abilityUses++))}setAbilityUses(){super.setAbilityUses(),this.maxAbilityUses=this.level}}class H0 extends k{constructor(t,e,i,s,r,o,a){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Pangolin",this.tier=3,this.pack="Puppy",this.attack=2,this.health=5,this.initPet(o,s,r,a)}faint(t,e,i){if(null==this.parent.toy||null==this.petBehind())return;let s=5*this.level;this.petBehind().increaseHealth(s),this.logService.createLog({message:`${this.name} gave ${this.petBehind().name} ${s} health.`,type:"ability",player:this.parent,tiger:e,pteranodon:i}),this.superFaint(t,e)}}class q0 extends k{constructor(t,e,i,s,r,o,a){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Puppy",this.tier=3,this.pack="Puppy",this.attack=3,this.health=3,this.initPet(o,s,r,a)}}class G0 extends k{constructor(t,e,i,s,r,o,a){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Microbe",this.tier=4,this.pack="Puppy",this.attack=1,this.health=1,this.initPet(o,s,r,a)}faint(t,e,i){let s=this.parent.petArray.filter(r=>r!=this);s=[...s,...Tt(t,this.parent).petArray];for(let r of s)!r.alive||(this.logService.createLog({message:`${this.name} gave ${r.name} Weak.`,type:"ability",player:this.parent,tiger:e,pteranodon:i}),r.givePetEquipment(new dh));this.superFaint(t,e)}}class U0 extends k{constructor(t,e,i,s,r,o,a){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Lobster",this.tier=4,this.pack="Puppy",this.attack=3,this.health=3,this.initPet(o,s,r,a)}}class j0 extends k{constructor(t,e,i,s,r,o,a){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Buffalo",this.tier=4,this.pack="Puppy",this.attack=4,this.health=4,this.initPet(o,s,r,a)}}class W0 extends k{constructor(t,e,i,s,r,o,a){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Llama",this.tier=4,this.pack="Puppy",this.attack=2,this.health=5,this.initPet(o,s,r,a)}}class o_ extends k{constructor(t,e,i,s,r,o,a){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Butterly",this.tier=1,this.pack="Puppy",this.hidden=!0,this.health=1,this.attack=1,this.initPet(o,s,r,a)}transform(t,e){let s=Tt(t,this.parent).getStrongestPet();this.health=s.health,this.attack=s.attack,this.logService.createLog({message:`${this.name} copied stats from the strongest enemy (${this.attack}/${this.health}).`,type:"ability",player:this.parent,tiger:e}),this.superTransform(t,e)}}class z0 extends k{constructor(t,e,i,s,r,o,a){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Caterpillar",this.tier=4,this.pack="Puppy",this.attack=1,this.health=1,this.initPet(o,s,r,a)}startOfBattle(t,e){if(this.level<3)return;let i=new o_(this.logService,this.abilityService,this.parent,1,1,this.exp);this.parent.setPet(this.position,i),this.logService.createLog({message:`${this.name} transformed into a Butterfly.`,type:"ability",player:this.parent})}}class K0 extends k{constructor(t,e,i,s,r,o,a){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Doberman",this.tier=4,this.pack="Puppy",this.attack=4,this.health=5,this.initPet(o,s,r,a)}startOfBattle(t,e){let i=!0;for(let r of this.parent.petArray)if(r!=this&&r.tier<=this.tier){i=!1;break}if(!i)return;let s=8*this.level;this.increaseAttack(s),this.givePetEquipment(new Na),this.logService.createLog({message:`${this.name} gained ${s} attack and gained a Coconut.`,type:"ability",player:this.parent,tiger:e}),this.superStartOfBattle(t,e)}}class Y0 extends k{constructor(t,e,i,s,r,o,a){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Tahr",this.tier=4,this.pack="Puppy",this.attack=5,this.health=3,this.initPet(o,s,r,a)}faint(t,e,i){if(null==this.petBehind())return;let s=this.petBehind(),r=[s];for(;null!=s.petBehind();)s=s.petBehind(),r.push(s);let o=1;for(let a of r){if(o>this.level)break;a.equipment instanceof Ap||(this.logService.createLog({message:`${this.name} gave ${a.name} Chili.`,type:"ability",player:this.parent,tiger:e,pteranodon:i}),a.givePetEquipment(new Ap(this.logService,this.abilityService)),o++)}this.superFaint(t,e)}}class Q0 extends k{constructor(t,e,i,s,r,o,a){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Whale Shark",this.tier=4,this.pack="Puppy",this.attack=1,this.health=4,this.initPet(o,s,r,a)}givePetEquipment(t){super.givePetEquipment(t),this.equipment=null;let e=2*this.level;this.increaseAttack(e),this.increaseHealth(e),this.logService.createLog({message:`${this.name} removed ${t.name} and gained ${e} attack and ${e} health.`,type:"ability",player:this.parent})}}class Z0 extends k{constructor(t,e,i,s,r,o,a){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Chameleon",this.tier=4,this.pack="Puppy",this.attack=3,this.health=5,this.initPet(o,s,r,a)}faint(t,e,i){if(null==this.parent.toy)return;let s=this.parent.toy,r=s.level;s.level=this.level,this.logService.createLog({message:`${this.name} activated ${s.name}.`,type:"ability",player:this.parent,pteranodon:i}),s.onBreak&&this.parent.breakToy(!0),s.startOfBattle&&s.startOfBattle(t),s.level=r}}class J0 extends k{constructor(t,e,i,s,r,o,a){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Gharial",this.tier=4,this.pack="Puppy",this.attack=5,this.health=3,this.initPet(o,s,r,a)}}class X0 extends k{constructor(t,e,i,s,r,o,a){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Stonefish",this.tier=5,this.pack="Puppy",this.attack=7,this.health=4,this.initPet(o,s,r,a)}faint(t,e,i){let s=Tt(t,this.parent);null==s.pet0||!s.pet0.alive||(this.snipePet(s.pet0,this.attack*this.level,!1,e,i),this.superFaint(t,e))}}class eA extends k{constructor(t,e,i,s,r,o,a){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Poodle",this.tier=5,this.pack="Puppy",this.attack=2,this.health=2,this.initPet(o,s,r,a)}}class tA extends k{constructor(t,e,i,s,r,o,a){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Chicken",this.tier=5,this.pack="Puppy",this.attack=3,this.health=4,this.initPet(o,s,r,a)}}class nA extends k{constructor(t,e,i,s,r,o,a,u){super(t,e,s),this.logService=t,this.abilityService=e,this.petService=i,this.name="Eagle",this.tier=5,this.pack="Puppy",this.attack=6,this.health=5,this.initPet(a,r,o,u)}faint(t,e,i){let r,s=Math.min(6,t.previousShopTier+1);r=this.parent==t.player?t.playerPetPool.get(s):t.opponentPetPool.get(s);let o=r[Math.floor(Math.random()*r.length)],a=5*this.level;this.abilityService.setSpawnEvent({callback:()=>{let u=this.petService.createPet({name:o,attack:a,health:a,exp:this.minExpForLevel,equipment:null},this.parent);this.logService.createLog({message:`${this.name} spawned ${u.name} Level ${u.level}`,type:"ability",player:this.parent,tiger:e,randomEvent:!0,pteranodon:i}),this.parent.summonPet(u,this.savedPosition)&&this.abilityService.triggerSummonedEvents(u)},priority:this.attack}),this.superFaint(t,e)}}class iA extends k{constructor(t,e,i,s,r,o,a){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Axolotl",this.tier=5,this.pack="Puppy",this.attack=2,this.health=3,this.initPet(o,s,r,a)}friendGainedPerk(t,e,i){if(e==this)return;let s=this.level;e.increaseAttack(s),e.increaseHealth(s),this.logService.createLog({message:`${this.name} gave ${e.name} ${s} attack and ${s} health.`,type:"ability",player:this.parent,tiger:i}),this.superFriendGainedPerk(t,e,i)}}class sA extends k{constructor(t,e,i,s,r,o,a){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Goat",this.tier=5,this.pack="Puppy",this.attack=4,this.health=6,this.initPet(o,s,r,a)}}class a_ extends Ge{constructor(t){super(),this.logService=t,this.name="Skewer",this.equipmentClass="skewer",this.power=0,this.attackCallback=(e,i)=>{this.skewer(e,i,1),this.skewer(e,i,2)}}skewer(t,e,i){let s=e.parent.getPetAtPosition(i);if(null==s)return;let r=1;t instanceof yn&&(r=1+t.level);let o=t.calculateDamgae(s,3),a=o.defenseEquipment,u=o.damage*r;s.health-=u;let h=`${t.name} attacks ${s.name} for ${u}`;if(t instanceof yn&&(h+=` x${r} (Panther)`),null!=a){s.useDefenseEquipment();let f=Math.abs(a.power),p="-";a.power<0&&(p="+"),h+=` (${a.name} ${p}${f})`,e instanceof yn&&(h+=` x${1+t.level} (Panther)`)}this.logService.createLog({message:h+=" (Skewer).",type:"attack",player:t.parent})}}class rA extends k{constructor(t,e,i,s,r,o,a){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Snapping Turtle",this.tier=5,this.pack="Puppy",this.attack=4,this.health=5,this.initPet(o,s,r,a)}faint(t,e,i){if(null==this.petBehind())return;let s=this.petBehind(),r=[s];for(;null!=s.petBehind();)s=s.petBehind(),r.push(s);let o=1;for(let a of r){if(o>this.level)break;a.equipment instanceof a_||(this.logService.createLog({message:`${this.name} gave ${a.name} Skewer.`,type:"ability",player:this.parent,tiger:e,pteranodon:i}),a.givePetEquipment(new a_(this.logService)),o++)}this.superFaint(t,e)}}class oA extends k{constructor(t,e,i,s,r,o,a){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Mosasaurus",this.tier=5,this.pack="Puppy",this.attack=5,this.health=6,this.initPet(o,s,r,a)}friendlyToyBroke(t,e){let i=[];if(this.petAhead&&i.push(this.petAhead),this.petBehind()&&i.push(this.petBehind()),0==i.length)return;for(let r of i)this.logService.createLog({message:`${this.name} gave ${r.name} 2 attach and 3 health.`,type:"ability",player:this.parent,randomEvent:!1,tiger:e}),r.increaseHealth(3),r.increaseAttack(2)}}class aA extends k{constructor(t,e,i,s,r,o,a){super(t,e,i),this.logService=t,this.abilityService=e,this.name="String Ray",this.tier=5,this.pack="Puppy",this.attack=4,this.health=6,this.initPet(o,s,r,a)}}class lA extends k{constructor(t,e,i,s,r,o,a){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Mantis Shrimp",this.tier=6,this.pack="Puppy",this.attack=9,this.health=3,this.initPet(o,s,r,a)}startOfBattle(t,e){let i=Tt(t,this.parent);for(let s=0;s<this.level;s++){let r=i.furthestUpPet;if(null==r)return;this.snipePet(r,10,!1,e)}this.superStartOfBattle(t,e)}}class cA extends k{constructor(t,e,i,s,r,o,a){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Lionfish",this.tier=6,this.pack="Puppy",this.attack=8,this.health=4,this.initPet(o,s,r,a)}faint(t,e,i){let s=Tt(t,this.parent),r=1+Math.floor(this.attack/10);for(let o=0;o<r;o++){let a=s.getRandomPet(null,null,!0);if(null==a)return;this.snipePet(a,3*this.level,!0,e,i)}this.superFaint(t,e)}}class uA extends k{constructor(t,e,i,s,r,o,a){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Tyrannosaurus",this.tier=6,this.pack="Puppy",this.attack=6,this.health=4,this.initPet(o,s,r,a)}}class hA extends k{constructor(t,e,i,s,r,o,a){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Octopus",this.tier=6,this.pack="Puppy",this.attack=8,this.health=8,this.initPet(o,s,r,a)}afterAttack(t,e){let i=Tt(t,this.parent);for(let s=0;s<this.level;s++){let r=i.getRandomPet(null,null,!0);if(null==r)return;this.snipePet(r,6,!0,e)}this.superAfterAttack(t,e)}}class dA extends k{constructor(t,e,i,s,r,o,a){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Anglerfish",this.tier=6,this.pack="Puppy",this.attack=7,this.health=4,this.initPet(o,s,r,a)}}class fA extends k{constructor(t,e,i,s,r,o,a){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Sauropod",this.tier=6,this.pack="Puppy",this.attack=4,this.health=12,this.initPet(o,s,r,a)}}class pA extends k{constructor(t,e,i,s,r,o,a){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Elephant Seal",this.tier=6,this.pack="Puppy",this.attack=3,this.health=9,this.initPet(o,s,r,a)}givePetEquipment(t){super.givePetEquipment(t);let e=this.level;for(let i of this.parent.petArray)i!=this&&(!i.alive||(i.increaseAttack(e),i.increaseHealth(e),this.logService.createLog({message:`${this.name} gave ${i.name} ${e} attack and ${e} health.`,type:"ability",player:this.parent})))}}class gA extends k{constructor(t,e,i,s,r,o,a){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Mongoose",this.tier=6,this.pack="Puppy",this.attack=4,this.health=3,this.initPet(o,s,r,a)}}class mA extends k{constructor(t,e,i,s,r,o,a){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Pillbug",this.tier=1,this.pack="Star",this.attack=2,this.health=2,this.initPet(o,s,r,a)}}class yA extends k{constructor(t,e,i,s,r,o,a){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Duckling",this.tier=1,this.pack="Star",this.attack=1,this.health=2,this.initPet(o,s,r,a)}}class vA extends k{constructor(t,e,i,s,r,o,a){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Cockroach",this.tier=1,this.pack="Star",this.attack=1,this.health=4,this.initPet(o,s,r,a)}}class _A extends k{constructor(t,e,i,s,r,o,a){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Frog",this.tier=1,this.pack="Star",this.attack=3,this.health=2,this.initPet(o,s,r,a)}startOfBattle(t,e){if(this.level>1)return;let i=this.petAhead,s=this.petBehind();if(null==i||null==s)return;let r=i.attack,o=i.health,u=s.health;i.attack=s.attack,i.health=u,s.attack=r,s.health=o,this.logService.createLog({message:`${this.name} swapped the attack and health of ${i.name} and ${s.name}.`,type:"ability",player:this.parent,tiger:e}),this.superStartOfBattle(t,e)}}class bA extends k{constructor(t,e,i,s,r,o,a){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Seahorse",this.tier=1,this.pack="Puppy",this.attack=2,this.health=3,this.initPet(o,s,r,a)}startOfBattle(t,e){let s=Tt(t,this.parent).getLastPet();this.parent.pushPet(s,this.level),this.logService.createLog({message:`${this.name} pushes ${s.name} forward ${this.level} space${this.level>1?"s":""}.`,type:"ability",player:this.parent,tiger:e}),this.superStartOfBattle(t,e)}}class SA extends k{constructor(t,e,i,s,r,o,a){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Iguana",this.tier=2,this.pack="Star",this.attack=3,this.health=3,this.initPet(o,s,r,a)}enemySummoned(t,e,i){null!=e&&e.alive&&(this.snipePet(e,2*this.level,!1,i),this.superEnemySummoned(t,e,i))}}class EA extends k{constructor(t,e,i,s,r,o,a){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Hummingbird",this.tier=1,this.pack="Star",this.attack=2,this.health=2,this.initPet(o,s,r,a)}startOfBattle(t,e){let i=this.parent.getRandomStrawberryPet(this);if(null==i)return;let s={attack:2*this.level,health:this.level};i.increaseHealth(s.health),i.increaseAttack(s.attack),this.logService.createLog({message:`${this.name} increased ${i.name}'s attack by ${s.attack} and health by ${s.health}.`,type:"ability",player:this.parent,tiger:e,randomEvent:!0}),this.superStartOfBattle(t,e)}}class wA extends k{constructor(t,e,i,s,r,o,a){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Koala",this.tier=2,this.pack="Star",this.attack=3,this.health=2,this.maxAbilityUses=1,this.initPet(o,s,r,a)}friendHurt(t,e,i){this.abilityUses>=this.maxAbilityUses&&!i||(e.increaseAttack(this.level),e.increaseHealth(this.level),this.logService.createLog({message:`${this.name} gave ${e.name} ${this.level} attack and ${this.level} health.`,type:"ability",player:this.parent,tiger:i}),this.abilityUses+=1,this.superFriendHurt(t,e,i))}}class CA extends k{constructor(t,e,i,s,r,o,a){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Yak",this.tier=2,this.pack="Star",this.attack=3,this.health=5,this.initPet(o,s,r,a)}}class DA extends k{constructor(t,e,i,s,r,o,a){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Salamander",this.tier=2,this.pack="Star",this.attack=2,this.health=4,this.initPet(o,s,r,a)}}class AA extends k{constructor(t,e,i,s,r,o,a){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Panda",this.tier=2,this.pack="Star",this.attack=2,this.health=4,this.initPet(o,s,r,a)}startOfBattle(t,e){let i=.5*this.level,s={attack:Math.floor(this.attack*i),health:Math.floor(this.health*i)},r=this.petAhead;null!=r&&(r.increaseAttack(s.attack),r.increaseHealth(s.health),this.logService.createLog({message:`${this.name} gave ${r.name} ${s.attack} attack and ${s.health} health.`,type:"ability",player:this.parent,tiger:e}),this.health=0,this.superStartOfBattle(t,e))}}class PA extends k{constructor(t,e,i,s,r,o,a){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Guinea Pig",this.tier=2,this.pack="Star",this.attack=2,this.health=3,this.initPet(o,s,r,a)}}class kA extends k{constructor(t,e,i,s,r,o,a){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Pug",this.tier=3,this.pack="Star",this.attack=5,this.health=2,this.initPet(o,s,r,a)}startOfBattle(t,e){if(null==this.petAhead)return;let i=this.level;this.logService.createLog({message:`${this.name} gave ${this.petAhead.name} ${i} exp.`,type:"ability",player:this.parent,tiger:e}),this.petAhead.increaseExp(i),this.superStartOfBattle(t,e)}}class TA extends k{constructor(t,e,i,s,r,o,a){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Jellyfish",this.tier=2,this.pack="Star",this.attack=2,this.health=3,this.initPet(o,s,r,a)}anyoneLevelUp(t,e,i){if(e.parent!=this.parent)return;let s=this.level;this.increaseAttack(s),this.increaseHealth(s),this.logService.createLog({message:`${this.name} increased attack by ${s} and health by ${s}`,type:"ability",player:this.parent,tiger:i}),this.superAnyoneLevelUp(t,e,i)}}class xA extends k{constructor(t,e,i,s,r,o,a){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Atlantic Puffin",this.tier=2,this.pack="Star",this.attack=2,this.health=3,this.initPet(o,s,r,a)}startOfBattle(t,e){let i=this.parent.getPetsWithEquipment("Strawberry").filter(r=>r!==this),s=Tt(t,this.parent);for(let r=0;r<this.level;r++)for(let o=0;o<i.length;o++){let a=s.getRandomPet(null,null,!0);if(null==a)break;this.snipePet(a,2,!0,e)}this.superStartOfBattle(t,e)}}class MA extends k{constructor(t,e,i,s,r,o,a){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Dove",this.tier=2,this.pack="Star",this.attack=2,this.health=1,this.initPet(o,s,r,a)}faint(t,e,i){let s=this.parent.getPetsWithEquipment("Strawberry").filter(a=>a!==this&&a.alive);s=(0,xe.shuffle)(s);let r=2*this.level,o=!1;if(s.length>2&&(o=!0),s.length>0){let a=s[0];a.increaseAttack(r),a.increaseHealth(r),this.logService.createLog({message:`${this.name} gave ${a.name} ${r} attack ${r} health.`,type:"ability",player:this.parent,tiger:e,randomEvent:o,pteranodon:i})}if(s.length>1){let a=s[1];a.increaseAttack(r),a.increaseHealth(r),this.logService.createLog({message:`${this.name} gave ${a.name} ${r} attack ${r} health.`,type:"ability",player:this.parent,tiger:e,randomEvent:o})}this.superFaint(t,e)}}class IA extends k{constructor(t,e,i,s,r,o,a,u){super(t,e,s),this.logService=t,this.abilityService=e,this.petService=i,this.name="Stork",this.tier=2,this.pack="Star",this.attack=2,this.health=1,this.initPet(a,r,o,u)}faint(t,e,i){let s,r=Math.max(1,t.previousShopTier-1);s=this.parent==t.player?t.playerPetPool.get(r):t.opponentPetPool.get(r);let o=s[Math.floor(Math.random()*s.length)];this.abilityService.setSpawnEvent({callback:()=>{let a=t.oldStork,u=this.petService.createPet({name:o,attack:a?null:3*this.level,equipment:null,exp:this.minExpForLevel,health:a?null:2*this.level},this.parent);this.logService.createLog({message:`${this.name} spawned ${u.name} Level ${this.level}`,type:"ability",player:this.parent,tiger:e,randomEvent:!0,pteranodon:i}),this.parent.summonPet(u,this.savedPosition)&&this.abilityService.triggerSummonedEvents(u)},priority:this.attack}),this.superFaint(t,e)}}class OA extends k{constructor(t,e,i,s,r,o,a){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Leech",this.tier=3,this.pack="Star",this.attack=4,this.health=2,this.initPet(o,s,r,a)}}class NA extends k{constructor(t,e,i,s,r,o,a){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Woodpecker",this.tier=3,this.pack="Star",this.attack=4,this.health=3,this.uses=0,this.initPet(o,s,r,a)}startOfBattle(t,e){let i=this.parent.opponent;for(let s=0;s<this.level;s++){let o,r=this.petAhead;null==r?(r=i.furthestUpPet,o=null==r?void 0:r.petBehind()):(o=r.petAhead,null==o&&(o=i.furthestUpPet)),null!=r&&this.snipePet(r,2,!1,e),null!=o&&this.snipePet(o,2,!1,e)}this.superStartOfBattle(t,e)}}class RA extends k{constructor(t,e,i,s,r,o,a){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Toad",this.tier=3,this.pack="Star",this.attack=3,this.health=3,this.initPet(o,s,r,a)}enemyHurt(t,e,i){!e.alive||this.abilityUses>=this.maxAbilityUses||e.equipment instanceof dh||(e.givePetEquipment(new dh),this.abilityUses++,this.logService.createLog({message:`${this.name} gave ${e.name} Weak.`,type:"ability",player:this.parent,tiger:i}),this.enemyHurt(t,e,i))}setAbilityUses(){super.setAbilityUses(),this.maxAbilityUses=2*this.level}}class LA extends k{constructor(t,e,i,s,r,o,a){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Starfish",this.tier=4,this.pack="Star",this.attack=3,this.health=4,this.initPet(o,s,r,a)}}class FA extends k{constructor(t,e,i,s,r,o,a){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Clownfish",this.tier=4,this.pack="Star",this.attack=3,this.health=4,this.initPet(o,s,r,a)}anyoneLevelUp(t,e,i){if(e.parent!==this.parent)return;let s=2*this.level;e.increaseAttack(s),e.increaseHealth(s),this.logService.createLog({message:`${this.name} gave ${e.name} ${s} attack and ${s} health.`,type:"ability",player:this.parent,tiger:i}),this.superAnyoneLevelUp(t,e,i)}}class VA extends k{constructor(t,e,i,s,r,o,a){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Blobfish",this.tier=4,this.pack="Star",this.attack=2,this.health=6,this.initPet(o,s,r,a)}faint(t,e,i){let s=this.petBehind();if(null==s)return;let r=2*this.level;this.logService.createLog({message:`${this.name} gave ${s.name} ${r} attack and ${r} health.`,type:"ability",player:this.parent,tiger:e,pteranodon:i}),s.increaseAttack(r),s.increaseHealth(r),this.logService.createLog({message:`${this.name} gave ${s.name} ${r} exp.`,type:"ability",player:this.parent,tiger:e}),s.increaseExp(r),this.superFaint(t,e)}}class BA extends k{constructor(t,e,i,s,r,o,a){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Cabybara",this.tier=3,this.pack="Star",this.attack=2,this.health=5,this.initPet(o,s,r,a)}}class $A extends k{constructor(t,e,i,s,r,o,a){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Okapi",this.tier=3,this.pack="Star",this.attack=2,this.health=3,this.initPet(o,s,r,a)}}class HA extends k{constructor(t,e,i,s,r,o,a){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Cassowary",this.tier=3,this.pack="Star",this.attack=2,this.health=4,this.initPet(o,s,r,a)}}class l_ extends k{constructor(t,e,i,s,r,o,a){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Orangutang",this.tier=4,this.pack="Star",this.attack=3,this.health=6,this.initPet(o,s,r,a)}}class qA extends k{constructor(t,e,i,s,r,o,a){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Eel",this.tier=3,this.pack="Star",this.attack=4,this.health=2,this.initPet(o,s,r,a)}startOfBattle(t,e){let i=.5*this.level;this.health=Math.min(50,Math.floor(this.health*(1+i))),this.logService.createLog({message:`${this.name} has gained ${100*i}% health. (${this.health})`,type:"ability",player:this.parent,tiger:e}),this.superStartOfBattle(t,e)}}class GA extends k{constructor(t,e,i,s,r,o,a){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Hawk",this.tier=4,this.pack="Star",this.attack=4,this.health=3,this.initPet(o,s,r,a)}startOfBattle(t,e){let i=this.parent.opponent,s=this.position,r=i.getPetAtPosition(this.position),o=1;for(;null==r&&o<5;)r=i.getPetAtPosition(s+o),null==r&&(r=i.getPetAtPosition(s-o)),o++;null!=r&&this.snipePet(r,7*this.level,!1,e)}}class UA extends k{constructor(t,e,i,s,r,o,a){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Platypus",this.tier=4,this.pack="Star",this.attack=2,this.health=2,this.initPet(o,s,r,a)}faint(t,e,i){let s=3*this.level,r=new Yv(this.logService,this.abilityService,this.parent,s,s,this.minExpForLevel),o=new Qv(this.logService,this.abilityService,this.parent,s,s,this.minExpForLevel);this.abilityService.setSpawnEvent({callback:()=>{this.logService.createLog({message:`${this.name} spawned ${s}/${s} Duck level ${this.level}`,type:"ability",player:this.parent,tiger:e,pteranodon:i}),this.parent.summonPet(r,this.savedPosition)&&this.abilityService.triggerSummonedEvents(r)},priority:this.attack}),this.abilityService.setSpawnEvent({callback:()=>{this.logService.createLog({message:`${this.name} spawned ${s}/${s} Beaver level ${this.level}`,type:"ability",player:this.parent,tiger:e,pteranodon:i}),this.parent.summonPet(o,this.savedPosition)&&this.abilityService.triggerSummonedEvents(o)},priority:this.attack})}}class jA extends k{constructor(t,e,i,s,r,o,a){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Praying Mantis",this.tier=4,this.pack="Star",this.attack=7,this.health=2,this.initPet(o,s,r,a)}}class WA extends k{constructor(t,e,i,s,r,o,a){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Crow",this.tier=4,this.pack="Star",this.attack=3,this.health=3,this.initPet(o,s,r,a)}}class zA extends k{constructor(t,e,i,s,r,o,a){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Donkey",this.tier=4,this.pack="Star",this.attack=4,this.health=6,this.initPet(o,s,r,a)}friendFaints(t,e,i){if(this.abilityUses>=this.maxAbilityUses)return;let r=this.parent.opponent.getLastPet();null!=r&&(this.parent.pushPet(r,r.position),this.logService.createLog({message:`${this.name} pushed ${r.name} to the front.`,type:"ability",player:this.parent,tiger:i}),this.superFriendFaints(t,e,i),this.abilityUses++)}setAbilityUses(){super.setAbilityUses(),this.maxAbilityUses=this.level}}class KA extends k{constructor(t,e,i,s,r,o,a){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Pelican",this.tier=4,this.pack="Star",this.attack=2,this.health=3,this.initPet(o,s,r,a)}startOfBattle(t,e){let i=this.parent.getRandomStrawberryPet(this),s={attack:2*this.level,health:this.level};if(null==i)return;let r=this.parent.getPetsWithEquipment("Strawberry").filter(o=>o!=this).length>1;i.increaseAttack(s.attack),i.increaseHealth(s.health),this.logService.createLog({message:`${this.name} gave ${i.name} ${s.attack} attack and ${s.health} health.`,type:"ability",player:this.parent,tiger:e,randomEvent:r}),this.superStartOfBattle(t,e)}}class YA extends k{constructor(t,e,i,s,r,o,a){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Anteater",this.tier=3,this.pack="Star",this.attack=3,this.health=2,this.initPet(o,s,r,a)}faint(t,e,i){for(let s=0;s<this.level;s++)this.abilityService.setSpawnEvent({callback:()=>{let r=new Kv(this.logService,this.abilityService,this.parent,1,1,5);this.logService.createLog({message:`${this.name} spawned 1/1 Ant level 3`,type:"ability",player:this.parent,tiger:e,pteranodon:i}),this.parent.summonPet(r,this.savedPosition)&&this.abilityService.triggerSummonedEvents(r)},priority:this.attack});super.superFaint(t,e)}}class QA extends k{constructor(t,e,i,s,r,o,a){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Sword Fish",this.tier=5,this.pack="Star",this.attack=5,this.health=5,this.initPet(o,s,r,a)}startOfBattle(t,e){let s=this.parent.opponent.getHighestHealthPet(),r=s.pet,o=this.attack*this.level;null!=r&&this.snipePet(r,o,s.random,e),this.snipePet(this,o,!1,e),this.superStartOfBattle(t,e)}}class ZA extends k{constructor(t,e,i,s,r,o,a){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Polar Bear",this.tier=5,this.pack="Star",this.attack=4,this.health=8,this.initPet(o,s,r,a)}}class JA extends k{constructor(t,e,i,s,r,o,a){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Siberian Husky",this.tier=5,this.pack="Star",this.attack=4,this.health=3,this.initPet(o,s,r,a)}}class XA extends k{constructor(t,e,i,s,r,o,a){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Lion",this.tier=5,this.pack="Star",this.attack=6,this.health=6,this.initPet(o,s,r,a)}startOfBattle(t,e){let i=this.parent.petArray.filter(o=>o!==this),s=0;for(let o of i)o.tier>s&&(s=o.tier);let r=.5*this.level;this.tier<=s||(this.increaseAttack(Math.floor(this.attack*r)),this.increaseHealth(Math.floor(this.health*r)),this.logService.createLog({message:`${this.name} increased its attack and health by ${100*r}% (${this.attack}/${this.health})`,type:"ability",player:this.parent,tiger:e}),this.superStartOfBattle(t,e))}}class eP extends k{constructor(t,e,i,s,r,o,a){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Triceratops",this.tier=5,this.pack="Star",this.attack=5,this.health=6,this.initPet(o,s,r,a)}hurt(t,e,i){let s=this.parent.getRandomPet([this],!0,null,!0),r=3*this.level;null!=s&&(s.increaseAttack(r),s.increaseHealth(r),this.logService.createLog({message:`${this.name} gave ${s.name} ${r} attack and ${r} health.`,type:"ability",player:this.parent,tiger:i,randomEvent:!0}),this.superHurt(t,e,i))}}class tP extends k{constructor(t,e,i,s,r,o,a){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Zebra",this.tier=5,this.pack="Star",this.attack=3,this.health=5,this.initPet(o,s,r,a)}}class nP extends k{constructor(t,e,i,s,r,o,a){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Fox",this.tier=5,this.pack="Star",this.attack=6,this.health=4,this.initPet(o,s,r,a)}}class iP extends k{constructor(t,e,i,s,r,o,a){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Hamster",this.tier=5,this.pack="Star",this.attack=2,this.health=4,this.initPet(o,s,r,a)}}class sP extends k{constructor(t,e,i,s,r,o,a){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Shoebill",this.tier=5,this.pack="Star",this.attack=2,this.health=4,this.initPet(o,s,r,a)}}class rP extends k{constructor(t,e,i,s,r,o,a){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Vulture",this.tier=5,this.pack="Star",this.attack=4,this.health=3,this.initPet(o,s,r,a)}friendFaints(t,e,i){if(i||this.abilityUses++,this.abilityUses%2==1)return;let r=this.parent.opponent.getRandomPet(null,null,!0);null!=r&&(this.snipePet(r,4*this.level,!0,i),this.superFriendFaints(t,e,i))}}class oP extends k{constructor(t,e,i,s,r,o,a){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Komodo",this.tier=6,this.pack="Star",this.attack=6,this.health=6,this.initPet(o,s,r,a)}}class aP extends k{constructor(t,e,i,s,r,o,a){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Ostrich",this.tier=6,this.pack="Star",this.attack=2,this.health=8,this.initPet(o,s,r,a)}}class lP extends k{constructor(t,e,i,s,r,o,a){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Reindeer",this.tier=6,this.pack="Star",this.attack=6,this.health=4,this.initPet(o,s,r,a)}beforeAttack(t,e){this.abilityUses>=this.maxAbilityUses||(this.givePetEquipment(new Oa),this.abilityUses++,this.logService.createLog({message:`${this.name} gained Melon.`,type:"ability",player:this.parent,tiger:e}),this.superAfterAttack(t,e))}setAbilityUses(){super.setAbilityUses(),this.maxAbilityUses=this.level}}class cP extends k{constructor(t,e,i,s,r,o,a){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Stegosaurus",this.tier=6,this.pack="Star",this.attack=3,this.health=8,this.initPet(o,s,r,a)}startOfBattle(t,e){let i=this.parent.petArray.filter(o=>null!=o.equipment),s=this.parent.getRandomPet([...i,this],!0,!1,!0);if(null==s)return;let r=this.level*t.turnNumber;s.increaseAttack(r),s.increaseHealth(r),this.logService.createLog({message:`${this.name} gave ${s.name} ${r} attack and ${r} health.`,type:"ability",player:this.parent,tiger:e,randomEvent:!0}),this.superStartOfBattle(t,e)}}class uP extends k{constructor(t,e,i,s,r,o,a){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Piranha",this.tier=6,this.pack="Star",this.attack=10,this.health=4,this.initPet(o,s,r,a)}hurt(t,e,i){let s=this.parent.petArray.filter(o=>o!==this&&o.alive),r=3*this.level;for(let o of s)o.increaseAttack(r),this.logService.createLog({message:`${this.name} gave ${o.name} ${r} attack.`,type:"ability",player:this.parent,tiger:i});this.superHurt(t,e,i)}}class hP extends k{constructor(t,e,i,s,r,o,a){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Hammerhead Shark",this.tier=6,this.pack="Star",this.attack=5,this.health=5,this.initPet(o,s,r,a)}}class dP extends k{constructor(t,e,i,s,r,o,a){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Velociraptor",this.tier=6,this.pack="Star",this.attack=3,this.health=2,this.initPet(o,s,r,a)}startOfBattle(t,e){let i=this.parent.getPetsWithEquipment("Strawberry").filter(r=>r!==this&&r.alive);i=(0,xe.shuffle)(i);let s=[];for(let r=0;r<this.level&&null!=i[r];r++)s.push(i[r]);for(let r of s)r.givePetEquipment(new Na),this.logService.createLog({message:`${this.name} gave ${r.name} Coconut.`,type:"ability",player:this.parent,tiger:e,randomEvent:this.level<i.length})}}class fP extends k{constructor(t,e,i,s,r,o,a,u){super(t,e,s),this.logService=t,this.abilityService=e,this.petService=i,this.name="Sabertooth Tiger",this.tier=6,this.pack="Star",this.attack=6,this.health=6,this.initPet(a,r,o,u)}hurt(t,e,i){let r,s=5*this.level;r=this.parent==t.player?t.playerPetPool.get(1):t.opponentPetPool.get(1);let o=r[Math.floor(Math.random()*r.length)];this.abilityService.setSpawnEvent({callback:()=>{let a=this.petService.createPet({name:o,attack:s,health:s,equipment:null,exp:0},this.parent);this.logService.createLog({message:`${this.name} spawned ${a.name} (${s}/${s}).`,type:"ability",player:this.parent,tiger:i,randomEvent:!0}),this.parent.summonPet(a,this.savedPosition)&&this.abilityService.triggerSummonedEvents(a)},priority:this.attack}),super.superHurt(t,e,i)}}class pP extends k{constructor(t,e,i,s,r,o,a,u){super(t,e,s),this.logService=t,this.abilityService=e,this.petService=i,this.name="Orca",this.tier=6,this.pack="Star",this.attack=4,this.health=8,this.initPet(a,r,o,u)}faint(t,e,i){for(let s=0;s<this.level;s++){let r=this.petService.getRandomFaintPet(this.parent);this.abilityService.setSpawnEvent({callback:()=>{this.logService.createLog({message:`${this.name} spawned ${r.name}.`,type:"ability",player:this.parent,tiger:e,randomEvent:!0,pteranodon:i}),this.parent.summonPet(r,this.savedPosition)&&this.abilityService.triggerSummonedEvents(r)},priority:this.attack}),super.superFaint(t,e)}}}class gP extends k{constructor(t,e,i,s,r,o,a){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Spinosaurus",this.tier=6,this.pack="Star",this.attack=4,this.health=8,this.initPet(o,s,r,a)}friendFaints(t,e,i){let s={attack:3*this.level,health:2*this.level},r=this.parent.getRandomPet([this],!0,!1,!0);null!=r&&(r.increaseAttack(s.attack),r.increaseHealth(s.health),this.logService.createLog({message:`${this.name} gave ${r.name} ${s.attack} attack and ${s.health} health.`,type:"ability",player:this.parent,tiger:i,randomEvent:!0}))}}class mP extends k{constructor(t,e,i,s,r,o,a){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Bulldog",this.tier=1,this.pack="Golden",this.attack=1,this.health=3,this.initPet(o,s,r,a)}afterAttack(t,e){!this.alive||(this.attack=Math.min(50,this.health+this.level),this.logService.createLog({message:`${this.name} attack is set to ${this.attack}.`,type:"ability",player:this.parent,tiger:e}),this.superAfterAttack(t,e))}}class c_ extends k{constructor(t,e,i,s,r,o,a){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Groundhog",this.tier=1,this.pack="Golden",this.attack=2,this.health=1,this.initPet(o,s,r,a)}faint(t,e,i){this.parent.gainTrumpets(this.level,this,i),this.superFaint(t,e)}}class yP extends k{constructor(t,e,i,s,r,o,a){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Cone Snail",this.tier=1,this.pack="Golden",this.attack=1,this.health=2,this.initPet(o,s,r,a)}startOfBattle(t,e){let i=this.petBehind();if(null==i)return;let s=2*this.level;i.increaseHealth(s),this.logService.createLog({message:`${this.name} gave ${i.name} ${s} health.`,type:"ability",player:this.parent,tiger:e}),this.superStartOfBattle(t,e)}}class vP extends k{constructor(t,e,i,s,r,o,a){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Goose",this.tier=1,this.pack="Golden",this.attack=2,this.health=2,this.initPet(o,s,r,a)}startOfBattle(t,e){let i=this.parent.opponent.furthestUpPet;if(null==i)return;let s=this.level;i.increaseAttack(-this.level),this.logService.createLog({message:`${this.name} removed ${s} attack from ${i.name}.`,type:"ability",player:this.parent,tiger:e}),this.superStartOfBattle(t,e)}}class _P extends k{constructor(t,e,i,s,r,o,a){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Pied Tamarin",this.tier=1,this.pack="Golden",this.attack=1,this.health=2,this.initPet(o,s,r,a)}faint(t,e,i){if(this.parent.trumpets<1)return;let s=this.parent.opponent.getRandomPets(this.level,null,null,!0);for(let r of s)this.snipePet(r,3,!0,e,i);s.length>0&&this.parent.spendTrumpets(1,this,i)}}class bP extends k{constructor(t,e,i,s,r,o,a){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Silkmoth",this.tier=1,this.pack="Golden",this.attack=3,this.health=1,this.maxAbilityUses=2,this.initPet(o,s,r,a)}friendHurt(t,e,i){if(this.abilityUses>=this.maxAbilityUses||e!=this.petAhead||!e.alive)return;let s=this.level;e.increaseHealth(s),this.logService.createLog({message:`${this.name} gave ${e.name} ${s} health.`,type:"ability",player:this.parent,tiger:i}),this.abilityUses++,this.superFriendHurt(t,e,i)}}class SP extends k{constructor(t,e,i,s,r,o,a){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Magpie",this.tier=1,this.pack="Golden",this.attack=1,this.health=4,this.initPet(o,s,r,a)}}class EP extends k{constructor(t,e,i,s,r,o,a){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Hercules Beetle",this.tier=2,this.pack="Golden",this.attack=3,this.health=4,this.initPet(o,s,r,a)}}class wP extends k{constructor(t,e,i,s,r,o,a){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Stoat",this.tier=2,this.pack="Golden",this.attack=2,this.health=2,this.initPet(o,s,r,a)}}class CP extends k{constructor(t,e,i,s,r,o,a){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Black Necked Stilt",this.tier=2,this.pack="Golden",this.attack=3,this.health=2,this.initPet(o,s,r,a)}faint(t,e,i){this.parent.gainTrumpets(2*this.level,this,i),this.superFaint(t,e)}}class fL extends Ge{constructor(){super(...arguments),this.name="Ink",this.equipmentClass="ailment-attack",this.power=-3}}class DP extends k{constructor(t,e,i,s,r,o,a){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Squid",this.tier=2,this.pack="Golden",this.attack=5,this.health=2,this.initPet(o,s,r,a)}faint(t,e,i){if(this.parent.trumpets<1)return;let s=!1,r=this.parent.opponent.petArray.filter(o=>{var a;return o.health>0&&"Ink"!=(null===(a=o.equipment)||void 0===a?void 0:a.name)});for(let o=0;o<this.level;o++){let a=r[o];if(null==a)break;s=!0,a.givePetEquipment(new fL),this.logService.createLog({message:`${this.name} gave ${a.name} Ink.`,type:"ability",player:this.parent,tiger:e,pteranodon:i})}s&&this.parent.spendTrumpets(1,this,i),this.superFaint(t,e)}}class AP extends k{constructor(t,e,i,s,r,o,a){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Sea Urchin",this.tier=2,this.pack="Golden",this.attack=3,this.health=2,this.initPet(o,s,r,a)}faint(t,e,i){let s=[this.parent.opponent.furthestUpPet];if(null!=s[0]){for(let r=0;r<this.level-1;r++){let a=s[r].petBehind();if(null==a)break;s.push(a)}for(let r of s)r.increaseHealth(-5),this.logService.createLog({message:`${this.name} removed 5 health from ${r.name}.`,type:"ability",player:this.parent,tiger:e,pteranodon:i});this.superFaint(t,e)}}}class PP extends k{constructor(t,e,i,s,r,o,a){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Door Head Ant",this.tier=2,this.pack="Golden",this.attack=2,this.health=2,this.initPet(o,s,r,a)}emptyFrontSpace(t,e){if(null!=this.parent.pet0)return;this.parent.pushPetToFront(this),this.logService.createLog({message:`${this.name} pushed itself to the front.`,type:"ability",player:this.parent,tiger:e});let i=4*this.level;this.increaseHealth(i),this.logService.createLog({message:`${this.name} gained ${i} health.`,type:"ability",player:this.parent,tiger:e})}}class u_ extends k{constructor(t,e,i,s,r,o,a){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Lizard Tail",this.tier=1,this.pack="Golden",this.hidden=!0,this.attack=3,this.health=1,this.initPet(o,s,r,a)}}class kP extends k{constructor(t,e,i,s,r,o,a){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Lizard",this.tier=2,this.pack="Golden",this.attack=1,this.health=3,this.maxAbilityUses=2,this.initPet(o,s,r,a)}hurt(t,e,i){this.abilityUses>=this.maxAbilityUses||(this.abilityService.setSpawnEvent({callback:()=>{let s=new u_(this.logService,this.abilityService,this.parent,null,null,this.minExpForLevel);this.logService.createLog({message:`${this.name} spawned Liazrd Tail Level ${this.level}`,type:"ability",player:this.parent,tiger:i}),this.parent.summonPet(s,this.savedPosition)&&this.abilityService.triggerSummonedEvents(s)},priority:this.attack}),this.abilityUses++,super.superFaint(t,i))}}class TP extends k{constructor(t,e,i,s,r,o,a){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Sea Turtle",this.tier=2,this.pack="Golden",this.attack=2,this.health=5,this.initPet(o,s,r,a)}friendSummoned(t,e){let i=3*this.level;t.increaseHealth(i),this.logService.createLog({message:`${this.name} gave ${t.name} ${i} health.`,type:"ability",player:this.parent,tiger:e}),this.superFriendSummoned(t,e)}}class xP extends k{constructor(t,e,i,s,r,o,a){super(t,e,i),this.logService=t,this.abilityService=e,this.name="African Penguin",this.tier=2,this.pack="Golden",this.attack=1,this.health=3,this.initPet(o,s,r,a)}}class MP extends k{constructor(t,e,i,s,r,o,a){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Musk Ox",this.tier=3,this.pack="Golden",this.attack=2,this.health=4,this.initPet(o,s,r,a)}friendAheadFaints(t,e){let i={attack:this.level,health:2*this.level};this.increaseAttack(i.attack),this.increaseHealth(i.health),this.logService.createLog({message:`${this.name} gained ${i.attack} attack and ${i.health} health.`,type:"ability",player:this.parent,tiger:e}),this.superFriendAheadFaints(t,e)}}class IP extends k{constructor(t,e,i,s,r,o,a){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Flea",this.tier=3,this.pack="Golden",this.attack=4,this.health=2,this.initPet(o,s,r,a)}faint(t,e,i){let s=(0,xe.clone)(this.parent.opponent.petArray);(0,xe.shuffle)(s),s=s.sort((r,o)=>r.health>o.health?-1:o.health>r.health?1:0).filter(r=>{var o;return"Weak"!=(null===(o=r.equipment)||void 0===o?void 0:o.name)});for(let r=0;r<this.level;r++){let o=s[r];if(null==o)break;o.givePetEquipment(new dh),this.logService.createLog({message:`${this.name} gave ${o.name} Weak.`,type:"ability",player:this.parent,tiger:e,pteranodon:i})}this.superFaint(t,e)}}class OP extends k{constructor(t,e,i,s,r,o,a){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Surgeon Fish",this.tier=3,this.pack="Golden",this.attack=3,this.health=3,this.initPet(o,s,r,a)}beforeAttack(t,e){let i=this.petBehind();if(null==i||this.parent.trumpets<2)return;this.parent.spendTrumpets(2,this);let s=6*this.level;i.increaseHealth(s),this.logService.createLog({message:`${this.name} gave ${i.name} ${s} health.`,type:"ability",player:this.parent,tiger:e}),this.superBeforeAttack(t,e)}}class NP extends k{constructor(t,e,i,s,r,o,a){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Weasel",this.tier=3,this.pack="Golden",this.attack=3,this.health=4,this.initPet(o,s,r,a)}faint(t,e,i){this.logService.createLog({message:`${this.name} gained ${this.level} Gold.`,type:"ability",player:this.parent,tiger:e,pteranodon:i}),this.superFaint(t,e)}}class RP extends k{constructor(t,e,i,s,r,o,a){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Guineafowl",this.tier=3,this.pack="Golden",this.attack=2,this.health=4,this.initPet(o,s,r,a)}hurt(t,e,i){this.parent.gainTrumpets(2*this.level,this),this.superHurt(t,e,i)}}class LP extends k{constructor(t,e,i,s,r,o,a){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Betta Fish",this.tier=3,this.pack="Golden",this.attack=2,this.health=3,this.initPet(o,s,r,a)}faint(t,e,i){let s=this.petBehind();if(null==s)return;let r={health:2*this.level,attack:4*this.level};s.increaseAttack(r.attack),s.increaseHealth(r.health),this.logService.createLog({message:`${this.name} gave ${s.name} ${r.attack} attack and ${r.health} health.`,type:"ability",player:this.parent,tiger:e,pteranodon:i}),this.superFaint(t,e)}}class FP extends k{constructor(t,e,i,s,r,o,a){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Meerkat",this.tier=3,this.pack="Golden",this.attack=1,this.health=3,this.initPet(o,s,r,a)}startOfBattle(t,e){let i;i=this.parent==t.player?t.playerGoldSpent:t.opponentGoldSpent;let s=Math.floor(i/3)*this.level,r=this.petAhead,o=this.petBehind();null!=r&&(r.increaseAttack(s),this.logService.createLog({message:`${this.name} gave ${r.name} ${s} attack.`,type:"ability",player:this.parent,tiger:e})),null!=o&&(o.increaseAttack(s),this.logService.createLog({message:`${this.name} gave ${o.name} ${s} attack.`,type:"ability",player:this.parent,tiger:e})),this.superFaint(t,e)}}class VP extends k{constructor(t,e,i,s,r,o,a){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Flying Fish",this.tier=3,this.pack="Golden",this.attack=3,this.health=2,this.maxAbilityUses=2,this.initPet(o,s,r,a)}friendSummoned(t,e){if(this.abilityUses>=this.maxAbilityUses)return;let i=2*this.level;this.logService.createLog({message:`${this.name} gave ${t.name} ${i} exp.`,type:"ability",player:this.parent,tiger:e}),t.increaseExp(i),this.abilityUses++,this.superFriendSummoned(t,e)}}class BP extends k{constructor(t,e,i,s,r,o,a){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Baboon",this.tier=3,this.pack="Golden",this.attack=1,this.health=2,this.initPet(o,s,r,a)}}class $P extends k{constructor(t,e,i,s,r,o,a){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Osprey",this.tier=3,this.pack="Golden",this.attack=3,this.health=3,this.initPet(o,s,r,a)}faint(t,e,i){for(let s=0;s<this.level;s++)this.abilityService.setSpawnEvent({callback:()=>{let r=new c_(this.logService,this.abilityService,this.parent,null,null,0);this.logService.createLog({message:`${this.name} summoned a 2/1 Groundhog`,type:"ability",player:this.parent,tiger:e,pteranodon:i}),this.parent.summonPet(r,this.savedPosition)&&this.abilityService.triggerSummonedEvents(r)},priority:this.attack});super.superFaint(t,e)}}class HP extends k{constructor(t,e,i,s,r,o,a){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Manatee",this.tier=4,this.pack="Golden",this.attack=2,this.health=11,this.initPet(o,s,r,a)}}class qP extends k{constructor(t,e,i,s,r,o,a){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Cuttlefish",this.tier=4,this.pack="Golden",this.attack=8,this.health=4,this.initPet(o,s,r,a)}faint(t,e,i){let s=this.parent.opponent.petArray,r=[];for(let o=0;o<this.level;o++){let a=s[s.length-(o+1)];if(null==a)break;r.push(a)}for(let o of r)o.givePetEquipment(new fL),this.logService.createLog({message:`${this.name} gave ${o.name} Ink.`,type:"ability",player:this.parent,tiger:e,pteranodon:i});this.superFaint(t,e)}}class GP extends k{constructor(t,e,i,s,r,o,a){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Egyptian Vulture",this.tier=5,this.pack="Golden",this.attack=7,this.health=4,this.initPet(o,s,r,a)}knockOut(t,e,i){if(this.abilityUses>=this.maxAbilityUses)return;let s=this.petBehind();for(;null!=s&&null==s.faint;)s=s.petBehind();null!=s&&null!=s.faint&&(this.logService.createLog({message:`${this.name} activated ${s.name}'s ability.`,type:"ability",player:this.parent,tiger:i}),s.faint(t,!1))}setAbilityUses(){super.setAbilityUses(),this.maxAbilityUses=this.level}}class UP extends k{constructor(t,e,i,s,r,o,a){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Saiga Antelope",this.tier=4,this.pack="Golden",this.attack=4,this.health=3,this.initPet(o,s,r,a)}friendFaints(t,e,i){!this.alive||this.parent.gainTrumpets(this.level,this)}}class jP extends k{constructor(t,e,i,s,r,o,a){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Sealion",this.tier=4,this.pack="Golden",this.attack=3,this.health=6,this.initPet(o,s,r,a)}}class WP extends k{constructor(t,e,i,s,r,o,a){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Vaquita",this.tier=4,this.pack="Golden",this.attack=3,this.health=4,this.initPet(o,s,r,a)}faint(t,e,i){let s=Math.floor(.5*this.level*this.parent.trumpets);this.parent.gainTrumpets(s,this,i)}}class h_ extends k{constructor(t,e,i,s,r,o,a){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Smallest Slug",this.tier=1,this.pack="Golden",this.hidden=!0,this.health=1,this.attack=1,this.initPet(o,s,r,a)}}class d_ extends k{constructor(t,e,i,s,r,o,a){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Smaller Slug",this.tier=1,this.pack="Golden",this.hidden=!0,this.health=2,this.attack=2,this.initPet(o,s,r,a)}faint(t,e,i){this.abilityService.setSpawnEvent({callback:()=>{let s=new h_(this.logService,this.abilityService,this.parent,null,null,this.minExpForLevel);this.logService.createLog({message:`${this.name} spawned Smallest Slug Level ${this.level}`,type:"ability",player:this.parent,tiger:e,pteranodon:i}),this.parent.summonPet(s,this.savedPosition)&&this.abilityService.triggerSummonedEvents(s)},priority:this.attack}),super.superFaint(t,e)}}class zP extends k{constructor(t,e,i,s,r,o,a){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Slug",this.tier=4,this.pack="Golden",this.attack=4,this.health=4,this.initPet(o,s,r,a)}faint(t,e,i){this.abilityService.setSpawnEvent({callback:()=>{let s=new d_(this.logService,this.abilityService,this.parent,null,null,this.minExpForLevel);this.logService.createLog({message:`${this.name} spawned Smaller Slug Level ${this.level}`,type:"ability",player:this.parent,tiger:e,pteranodon:i}),this.parent.summonPet(s,this.savedPosition)&&this.abilityService.triggerSummonedEvents(s)},priority:this.attack}),super.superFaint(t,e)}}class KP extends k{constructor(t,e,i,s,r,o,a){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Poison Dart Frog",this.tier=4,this.pack="Golden",this.attack=5,this.health=2,this.initPet(o,s,r,a)}friendAheadFaints(t,e){let i=this.parent.opponent.getHighestHealthPet(),s=i.pet;null!=s&&this.snipePet(s,4*this.level,i.random,e)}}class YP extends k{constructor(t,e,i,s,r,o,a){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Secretary Bird",this.tier=4,this.pack="Golden",this.attack=2,this.health=5,this.initPet(o,s,r,a)}friendFaints(t,e,i){if(i||this.abilityUses++,this.abilityUses%2==1)return;let s=this.petAhead;if(null==s)return;let r=3*this.level;s.increaseAttack(r),s.increaseHealth(r),this.logService.createLog({message:`${this.name} gave ${s.name} ${r} attack and ${r} health.`,type:"ability",player:this.parent,tiger:i}),this.superFriendFaints(t,e,i)}}class QP extends k{constructor(t,e,i,s,r,o,a){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Royal Flycatcher",this.tier=3,this.pack="Golden",this.attack=2,this.health=4,this.initPet(o,s,r,a)}enemySummoned(t,e,i){let s=this.parent.opponent.getRandomPet(null,null,!0);null!=s&&(this.snipePet(s,3*this.level,!0,i),this.superEnemySummoned(t,e,i))}}class ZP extends k{constructor(t,e,i,s,r,o,a,u){super(t,e,s),this.logService=t,this.abilityService=e,this.petService=i,this.name="Falcon",this.tier=4,this.pack="Golden",this.attack=5,this.health=5,this.maxAbilityUses=3,this.initPet(a,r,o,u)}knockOut(t,e,i){this.abilityUses>=this.maxAbilityUses||(this.abilityService.setSpawnEvent({callback:()=>{let s=3*this.level,r=this.petService.createPet({attack:s,health:s,name:e.name,exp:this.minExpForLevel,equipment:null},this.parent);this.logService.createLog({message:`${this.name} spawned ${r.name} ${s}/${s} Level ${this.level}`,type:"ability",player:this.parent,tiger:i}),this.parent.summonPet(r,this.savedPosition)&&this.abilityService.triggerSummonedEvents(r)},priority:this.attack}),this.abilityUses++,super.superKnockOut(t,e,i))}}class JP extends k{constructor(t,e,i,s,r,o,a){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Manta Ray",this.tier=4,this.pack="Golden",this.attack=5,this.health=6,this.initPet(o,s,r,a)}}class XP extends k{constructor(t,e,i,s,r,o,a){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Macaque",this.tier=5,this.pack="Golden",this.attack=2,this.health=2,this.initPet(o,s,r,a)}startOfBattle(t,e){let i=12*this.level,s=new l_(this.logService,this.abilityService,this.parent,i,i,this.minExpForLevel,(0,xe.cloneDeep)(this.equipment)),r=`${this.name} spawned Orangutang ${s.attack}/${s.health}`;null!=this.equipment&&(r+=` with ${this.equipment.name}`),r+=".",this.logService.createLog({message:r,type:"ability",player:this.parent,tiger:e}),this.parent.summonPet(s,this.position)&&this.abilityService.triggerSummonedEvents(s),this.superStartOfBattle(t,e)}}class ek extends k{constructor(t,e,i,s,r,o,a){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Nyala",this.tier=5,this.pack="Golden",this.attack=3,this.health=4,this.initPet(o,s,r,a)}faint(t,e,i){this.parent.gainTrumpets(8*this.level,this,i),this.superFaint(t,e)}}class tk extends k{constructor(t,e,i,s,r,o,a){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Nurse Shark",this.tier=5,this.pack="Golden",this.attack=4,this.health=6,this.initPet(o,s,r,a)}faint(t,e,i){if(0==this.parent.trumpets)return;let s=3*Math.min(this.parent.trumpets,6),r=!1,o=(0,xe.shuffle)((0,xe.clone)(this.parent.opponent.petArray));for(let a=0;a<this.level;a++){let u=o[a];if(null==u)break;r=!0,this.snipePet(u,s,!0,e,i)}r&&this.parent.spendTrumpets(Math.min(this.parent.trumpets,6),this,i),this.superFaint(t,e)}}class nk extends k{constructor(t,e,i,s,r,o,a,u){super(t,e,s),this.logService=t,this.abilityService=e,this.petService=i,this.name="Beluga Whale",this.tier=5,this.pack="Golden",this.attack=3,this.health=8,this.initPet(a,r,o,u)}faint(t,e,i){null!=this.belugaSwallowedPet&&(this.abilityService.setSpawnEvent({callback:()=>{let s=this.petService.createPet({attack:null,equipment:null,exp:this.minExpForLevel,health:null,name:this.belugaSwallowedPet},this.parent);this.logService.createLog({message:`${this.name} spawned ${s.name} Level ${this.level}`,type:"ability",player:this.parent,tiger:e,pteranodon:i}),this.parent.summonPet(s,this.savedPosition)&&this.abilityService.triggerSummonedEvents(s)},priority:this.attack}),super.superFaint(t,e))}}class ik extends k{constructor(t,e,i,s,r,o,a,u){super(t,e,s),this.logService=t,this.abilityService=e,this.petService=i,this.name="Wolf",this.tier=5,this.pack="Golden",this.attack=4,this.health=4,this.initPet(a,r,o,u)}faint(t,e,i){let s={attack:3*this.level,health:2*this.level};for(let r=0;r<3;r++)this.abilityService.setSpawnEvent({callback:()=>{let o=this.petService.createPet({attack:s.attack,equipment:null,exp:this.minExpForLevel,health:s.health,name:"Pig"},this.parent);this.logService.createLog({message:`${this.name} spawned ${o.name} ${s.attack}/${s.health}`,type:"ability",player:this.parent,tiger:e,pteranodon:i}),this.parent.summonPet(o,this.savedPosition)&&this.abilityService.triggerSummonedEvents(o)},priority:this.attack});this.superFaint(t,e)}}class sk extends k{constructor(t,e,i,s,r,o,a){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Silver Fox",this.tier=5,this.pack="Golden",this.attack=3,this.health=6,this.initPet(o,s,r,a)}beforeAttack(t,e){this.logService.createLog({message:`${this.name} gained ${this.level} Gold.`,type:"ability",player:this.parent,tiger:e}),this.superBeforeAttack(t,e)}}class rk extends k{constructor(t,e,i,s,r,o,a){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Fire Ant",this.tier=5,this.pack="Golden",this.attack=6,this.health=4,this.initPet(o,s,r,a)}faint(t,e,i){let s=(0,xe.shuffle)(this.parent.petArray.filter(r=>r!=this));s.sort((r,o)=>o.tier-r.tier);for(let r=0;r<this.level;r++){let o=s[r];if(null==o)break;o.increaseAttack(this.attack),this.logService.createLog({message:`${this.name} gave ${o.name} ${this.attack} attack.`,type:"ability",player:this.parent,tiger:e,randomEvent:!0,pteranodon:i})}super.superFaint(t,e)}}class ok extends k{constructor(t,e,i,s,r,o,a){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Cockatoo",this.tier=4,this.pack="Golden",this.attack=4,this.health=2,this.initPet(o,s,r,a)}}class ak extends k{constructor(t,e,i,s,r,o,a){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Blue Ringed Octopus",this.tier=5,this.pack="Golden",this.attack=2,this.health=4,this.initPet(o,s,r,a)}}class lk extends k{constructor(t,e,i,s,r,o,a){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Crane",this.tier=5,this.pack="Golden",this.attack=6,this.health=5,this.initPet(o,s,r,a)}friendHurt(t,e,i){e==this.petAhead&&(this.abilityUses>=this.maxAbilityUses||(this.petAhead.increaseAttack(5),this.logService.createLog({message:`${this.name} gave ${this.petAhead.name} 5 attack.`,type:"ability",player:this.parent,tiger:i}),this.petAhead.givePetEquipment(new Oa),this.logService.createLog({message:`${this.name} gave ${this.petAhead.name} a Melon.`,type:"ability",player:this.parent,tiger:i}),this.abilityUses++,this.superFriendHurt(t,e,i)))}setAbilityUses(){super.setAbilityUses(),this.maxAbilityUses=this.level}}class ck extends k{constructor(t,e,i,s,r,o,a){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Emu",this.tier=5,this.pack="Golden",this.attack=3,this.health=4,this.initPet(o,s,r,a)}emptyFrontSpace(t,e){let i=this.petAhead;if(!i||null!=this.parent.pet0)return;this.parent.pushPet(i,4),this.logService.createLog({message:`${this.name} pushed ${i.name} to the front.`,type:"ability",player:this.parent,tiger:e});let s=4*this.level;i.increaseHealth(s),this.logService.createLog({message:`${this.name} gave ${i.name} ${s} health.`,type:"ability",player:this.parent,tiger:e})}}class uk extends k{constructor(t,e,i,s,r,o,a){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Wildebeast",this.tier=6,this.pack="Golden",this.attack=8,this.health=6,this.initPet(o,s,r,a)}beforeAttack(t,e){this.parent.trumpets<4||this.abilityUses>=this.maxAbilityUses||(this.givePetEquipment(new Na),this.logService.createLog({message:`${this.name} gave itself a Coconut.`,type:"ability",player:this.parent,tiger:e}),this.parent.spendTrumpets(4,this),this.abilityUses++)}setAbilityUses(){super.setAbilityUses(),this.maxAbilityUses=this.level}}class hk extends k{constructor(t,e,i,s,r,o,a){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Highland Cow",this.tier=6,this.pack="Golden",this.attack=4,this.health=12,this.initPet(o,s,r,a)}startOfBattle(t,e){let i=Math.floor(this.health/3*this.level);this.parent.gainTrumpets(i,this)}}class dk extends k{constructor(t,e,i,s,r,o,a){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Catfish",this.tier=6,this.pack="Golden",this.attack=3,this.health=3,this.initPet(o,s,r,a)}}class fk extends k{constructor(t,e,i,s,r,o,a,u){super(t,e,s),this.logService=t,this.abilityService=e,this.petService=i,this.name="Pteranodon",this.tier=6,this.pack="Golden",this.attack=5,this.health=3,this.initPet(a,r,o,u)}friendFaints(t,e,i){this.abilityUses>=this.maxAbilityUses||e.name!=this.name&&(!this.alive||(this.abilityService.setSpawnEvent({callback:()=>{let s=this.petService.createPet({attack:1,health:1,equipment:null,exp:e.exp,name:e.name},this.parent);this.logService.createLog({message:`${this.name} summoned a 1/1 ${e.name} behind it.`,type:"ability",player:this.parent,randomEvent:!1,tiger:i}),this.parent.summonPet(s,this.position)&&this.abilityService.triggerSummonedEvents(s)},priority:this.attack}),this.abilityUses++))}setAbilityUses(){super.setAbilityUses(),this.maxAbilityUses=this.level}}class pk extends k{constructor(t,e,i,s,r,o,a){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Warthog",this.tier=6,this.pack="Golden",this.attack=9,this.health=6,this.initPet(o,s,r,a)}faint(t,e,i){let s=this.level,r=Math.floor(this.attack/3);for(let o=0;o<r;o++){let a=this.parent.getRandomPet(null,!0,null,!0);if(null==a)break;a.increaseAttack(s),a.increaseHealth(s),this.logService.createLog({message:`${this.name} gave ${a.name} ${s} attack and ${s} health.`,type:"ability",player:this.parent,tiger:e,pteranodon:i,randomEvent:!0})}}}class gk extends k{constructor(t,e,i,s,r,o,a){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Cobra",this.tier=6,this.pack="Golden",this.attack=12,this.health=6,this.initPet(o,s,r,a)}friendAheadAttacks(t,e){let i=this.parent.opponent.getRandomPet(null,null,!0);if(null==i)return;let s=Math.floor(.2*this.attack*this.level);this.snipePet(i,s,!0,e)}}class mk extends k{constructor(t,e,i,s,r,o,a){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Grizzly Bear",this.tier=6,this.pack="Golden",this.attack=6,this.health=6,this.initPet(o,s,r,a)}friendAttacks(t,e){if(e||this.abilityUses++,this.abilityUses%5!=0)return;let i=(0,xe.shuffle)(this.parent.opponent.petArray),s=6*this.level;for(let r=0;r<2;r++){let o=i[r];if(null==o)break;this.snipePet(o,s,!0,e)}this.superFriendAttacks(t,e)}}class yk extends k{constructor(t,e,i,s,r,o,a){super(t,e,i),this.logService=t,this.abilityService=e,this.name="German Shephard",this.tier=6,this.pack="Golden",this.attack=10,this.health=4,this.initPet(o,s,r,a)}friendSummoned(t,e){let i=Math.floor(this.attack*this.level*.25);t.increaseAttack(i),this.logService.createLog({message:`${this.name} gave ${t.name} ${i} attack.`,type:"ability",player:this.parent,tiger:e})}}class vk extends k{constructor(t,e,i,s,r,o,a){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Bird of Paradise",this.tier=6,this.pack="Golden",this.attack=3,this.health=3,this.initPet(o,s,r,a)}}class _k extends k{constructor(t,e,i,s,r,o,a){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Oyster",this.tier=6,this.pack="Golden",this.attack=2,this.health=10,this.initPet(o,s,r,a)}}class bk extends k{constructor(t,e,i,s,r,o,a){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Marmoset",this.tier=1,this.pack="Star",this.attack=2,this.health=3,this.initPet(o,s,r,a)}}class Sk extends k{constructor(t,e,i,s,r,o,a){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Jerboa",this.tier=4,this.pack="Custom",this.attack=1,this.health=3,this.initPet(o,s,r,a)}}class Ek extends k{constructor(t,e,i,s,r,o,a){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Frilled Dragon",this.tier=1,this.pack="Custom",this.attack=1,this.health=1,this.initPet(o,s,r,a)}startOfBattle(t,e){let i=0;for(let s of this.parent.petArray)s!==this&&null!=s.faint&&i++;i*=this.level,this.increaseAttack(i),this.increaseHealth(i),this.logService.createLog({message:`${this.name} gained ${i} attack and ${i} health.`,type:"ability",player:this.parent,tiger:e})}}class wk extends k{constructor(t,e,i,s,r,o,a){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Wombat",this.tier=2,this.pack="Custom",this.attack=3,this.health=3,this.initPet(o,s,r,a)}startOfBattle(t,e){let i=Tt(t,this.parent),s=[],r=0;for(let a of i.petArray)null!=a.faint&&(a.tier>r?(s=[a],r=a.tier):a.tier==r&&s.push(a));if(0==s.length)return;let o=s[Math.floor(Math.random()*s.length)];this.faint=o.faint.bind(this),this.logService.createLog({message:`${this.name} has copied ${o.name}'s faint ability as level ${this.level}.`,type:"ability",player:this.parent,tiger:e,randomEvent:s.length>1}),this.superStartOfBattle(t,e)}}class Ck extends k{constructor(t,e,i,s,r,o,a){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Aardvark",this.tier=3,this.pack="Custom",this.attack=2,this.health=3,this.initPet(o,s,r,a)}enemySummoned(t,e,i){let s=2*this.level;this.increaseAttack(s),this.increaseHealth(s),this.logService.createLog({message:`${this.name} gained ${s} attack and ${s} health.`,type:"ability",player:this.parent,tiger:i})}}class Dk extends k{constructor(t,e,i,s,r,o,a){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Bear",this.tier=3,this.pack="Custom",this.attack=3,this.health=5,this.initPet(o,s,r,a)}faint(t,e,i){let s=[],r=this.petBehind();for(;null!=r&&(s.push(r),s.length!=this.level);)r=r.petBehind();let o=[];for(r=Tt(t,this.parent).petArray[0];null!=r;)if(r.alive){if(o.push(r),o.length==this.level)break;r=r.petBehind()}else r=r.petBehind();for(let a of[...s,...o])a.givePetEquipment(new i_(this.logService,this.abilityService)),this.logService.createLog({message:`${this.name} gave ${a.name} Honey.`,type:"ability",player:this.parent,tiger:e,pteranodon:i})}}class Ak extends k{constructor(t,e,i,s,r,o,a){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Emperor Tamarin",this.tier=3,this.pack="Custom",this.attack=3,this.health=3,this.initPet(o,s,r,a)}}class Pk extends k{constructor(t,e,i,s,r,o,a){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Porcupine",this.tier=3,this.pack="Custom",this.attack=2,this.health=6,this.initPet(o,s,r,a)}hurt(t,e,i){this.snipePet(e,3*this.level)}}class kk extends k{constructor(t,e,i,s,r,o,a){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Wasp",this.tier=3,this.pack="Custom",this.attack=2,this.health=2,this.initPet(o,s,r,a)}}class Tk extends k{constructor(t,e,i,s,r,o,a){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Dragonfly",this.tier=4,this.pack="Custom",this.attack=1,this.health=1,this.initPet(o,s,r,a)}}class xk extends k{constructor(t,e,i,s,r,o,a){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Lynx",this.tier=4,this.pack="Custom",this.attack=5,this.health=3,this.initPet(o,s,r,a)}startOfBattle(t,e){let i;i=t.player==this.parent?t.opponet:t.player;let s=0;for(let o of this.parent.petArray)s+=o.level;let r=i.getRandomPets(this.level,null,null,!0);for(let o of r)this.snipePet(o,s,!0,e);super.superStartOfBattle(t,e)}}class pL extends Ge{constructor(){super(...arguments),this.name="Steak",this.equipmentClass="attack",this.power=20,this.uses=1,this.originalUses=1}}class gL extends Ge{constructor(t,e,i){super(),this.logService=t,this.abilityService=e,this.petService=i,this.name="Mushroom",this.equipmentClass="faint",this.callback=s=>{let r=1;s instanceof yn&&(r=1+s.level);for(let o=0;o<r;o++){let a=this.petService.createDefaultVersionOfPet(s,1,1);this.abilityService.setSpawnEvent({callback:()=>{let u="";o>0&&(u=" (Panther)"),this.logService.createLog({message:`${s.name} Spawned ${a.name} (level ${a.level}) (Mushroom)${u}`,type:"ability",player:s.parent}),s.parent.summonPet(a,s.savedPosition)&&this.abilityService.triggerSummonedEvents(a)},priority:-1})}}}}class mL extends Ge{constructor(){super(),this.name="Croissant",this.equipmentClass="shop"}}class Mk extends Ge{constructor(){super(...arguments),this.name="Pie",this.equipmentClass="beforeStartOfBattle"}}class yL extends Ge{constructor(){super(...arguments),this.equipmentClass="defense",this.name="Lemon",this.power=7,this.uses=2,this.originalUses=2}}class Ik extends Ge{constructor(){super(...arguments),this.name="Pancakes",this.equipmentClass="beforeStartOfBattle"}}class vL extends Ge{constructor(){super(...arguments),this.name="Strawberry",this.equipmentClass="shop"}}class _L extends Ge{constructor(){super(...arguments),this.name="Cucumber",this.equipmentClass="shop"}}class bL extends Ge{constructor(t,e){super(),this.logService=t,this.abilityService=e,this.name="Banana",this.equipmentClass="faint",this.callback=i=>{let s=1;i instanceof yn&&(s=1+i.level);for(let r=0;r<s;r++)this.abilityService.setSpawnEvent({callback:()=>{let o=new t_(this.logService,this.abilityService,i.parent,4,4,0);i.parent.summonPet(o,i.savedPosition);let a="";r>0&&(a=" (Panther)"),this.logService.createLog({message:`${i.name} Spawned Monkey (Banana)${a}`,type:"ability",player:i.parent}),this.abilityService.triggerSummonedEvents(o)},priority:i.attack})}}}class SL extends Ge{constructor(){super(...arguments),this.name="Cherry",this.equipmentClass="startOfBattle",this.callback=t=>{var e;let i=null===(e=t.startOfBattle)||void 0===e?void 0:e.bind(t);t.startOfBattle=s=>{null!=i&&i(s);let r=1;t instanceof yn&&(r=1+t.level),t.parent.gainTrumpets(2*r,t,!1,r,!0)}}}}class f_ extends Ge{constructor(t){super(),this.logService=t,this.name="Chocolate Cake",this.equipmentClass="beforeAttack",this.callback=e=>{this.logService.createLog({message:`${e.name} gained 3 exp. (Chocolate Cake)`,type:"equipment",player:e.parent}),e.increaseExp(3),e.health=0,this.logService.createLog({message:`${e.name} fainted. (Chocolate Cake)`,type:"equipment",player:e.parent})}}}class EL extends Ge{constructor(t,e){super(),this.logService=t,this.abilityService=e,this.name="Durian",this.equipmentClass="snipe",this.uses=1,this.originalUses=1,this.attackCallback=(i,s)=>{let r=s.parent.getPetAtPosition(0);if(null==r)return void console.warn("durian didn't find target");let a=Math.max(1,Math.floor(r.health*(1-.33)));r.health=a,this.logService.createLog({message:`${this.name} reduced ${r.name} health by 33% (${a})`,type:"ability",player:i.parent})}}}class Ok extends Ge{constructor(t){super(),this.logService=t,this.name="Eggplant",this.equipmentClass="beforeStartOfBattle",this.callback=e=>{var i;if(e.eggplantTouched)return;let s=null===(i=e.startOfBattle)||void 0===i?void 0:i.bind(e);e.startOfBattle=r=>{null!=s&&s(r);let o=e.parent.opponent,a=o.getPet(e.position);null!=a&&(this.logService.createLog({message:`${e.name} pushed ${a.name} 1 space forward. (Eggplant)`,type:"equipment",player:e.parent}),o.pushPet(a,1))}}}}class Nk extends Ge{constructor(t){super(),this.logService=t,this.name="Pita Bread",this.power=0,this.equipmentClass="hurt",this.callback=e=>{var i;let s=null===(i=e.hurt)||void 0===i?void 0:i.bind(e);e.hurt=r=>{var o;if(null!=s&&s(r),"Pita Bread"!=(null===(o=e.equipment)||void 0===o?void 0:o.name)||!e.alive)return;let a=1;e instanceof yn&&(a=1+e.level);let u=15*a;e.increaseHealth(u);let h=`${e.name} gained ${u} health. (Pita Bread)`;h+=".",this.logService.createLog({message:h,type:"equipment",player:e.parent,pantherMultiplier:a}),e.givePetEquipment(null)}}}}class wL extends Ge{constructor(){super(...arguments),this.name="Potato",this.equipmentClass="shield-snipe",this.power=10,this.uses=2,this.originalUses=2}}class CL extends Ge{constructor(t,e){super(),this.logService=t,this.abilityService=e,this.name="Tomato",this.equipmentClass="snipe",this.uses=1,this.originalUses=1,this.attackCallback=(i,s)=>{let r=s.parent.getLastPet();if(null==r)return void console.warn("tomato didn't find target");let o=i.calculateDamgae(r,8,!0),a=o.defenseEquipment,u=o.damage;r.health-=u;let h=`${i.name} sniped ${r.name} for ${u}`;if(i instanceof yn&&(h+=` x${1+i.level} (Panther)`),null!=a){r.useDefenseEquipment();let f=Math.abs(a.power),p="-";a.power<0&&(p="+"),h+=` (${a.name} ${p}${f})`}this.logService.createLog({message:h+=" (Tomato).",type:"attack",player:i.parent}),null!=r.hurt&&this.abilityService.setHurtEvent({callback:r.hurt.bind(r),priority:r.attack,player:r.parent,callbackPet:s}),r.health<1&&null!=i.knockOut&&(console.log("knock out!"),this.abilityService.setKnockOutEvent({callback:i.knockOut.bind(i),priority:i.attack,callbackPet:r})),r.alive&&this.abilityService.triggerFriendHurtEvents(s.parent,s),r.alive&&u>0&&this.abilityService.triggerEnemyHurtEvents(i.parent,r)}}}class DL extends Ge{constructor(){super(...arguments),this.name="Carrot",this.equipmentClass="shop"}}class AL extends Ge{constructor(){super(...arguments),this.name="Grapes",this.equipmentClass="shop"}}class PL extends Ge{constructor(t,e,i,s){super(),this.logService=t,this.abilityService=e,this.petSerivce=i,this.gameService=s,this.name="Popcorn",this.equipmentClass="faint",this.callback=r=>{let o=1;r instanceof yn&&(o=1+r.level);for(let a=0;a<o;a++)this.abilityService.setSpawnEvent({callback:()=>{let u;u=r.parent==this.gameService.gameApi.player?this.gameService.gameApi.playerPetPool:this.gameService.gameApi.opponentPetPool;let h=u.get(r.tier),f=h[Math.floor(Math.random()*h.length)],p=this.petSerivce.createPet({attack:null,equipment:null,exp:0,health:null,name:f},r.parent),v="";a>0&&(v=" (Panther)"),this.logService.createLog({message:`${r.name} Spawned ${p.name} (Popcorn)${v}`,type:"ability",player:r.parent,randomEvent:!0}),r.parent.summonPet(p,r.savedPosition),this.abilityService.triggerSummonedEvents(p)},priority:r.attack})}}}class kL extends Ge{constructor(){super(),this.name="Blueberry",this.equipmentClass="target"}}class TL extends Ge{constructor(){super(),this.name="Donut",this.equipmentClass="target"}}class xL extends Ge{constructor(){super(),this.name="Pineapple",this.equipmentClass="attack-snipe",this.power=2}}class ML extends Ge{constructor(){super(...arguments),this.name="Fig",this.equipmentClass="startOfBattle",this.callback=t=>{var e;let i=null===(e=t.startOfBattle)||void 0===e?void 0:e.bind(t);t.startOfBattle=s=>{null!=i&&i(s);let r=1;t instanceof yn&&(r=t.level+1);for(let o=0;o<r;o++){let a=t.parent.opponent.getLowestHealthPet();if(!a.pet)return;t.snipePet(a.pet,4,a.random,!1,!1,!0)}}}}}class Rk extends k{constructor(t,e,i,s,r,o,a,u,h){super(t,e,r),this.logService=t,this.abilityService=e,this.petService=i,this.gameService=s,this.name="Seagull",this.tier=4,this.pack="Custom",this.attack=4,this.health=3,this.initPet(u,o,a,h)}friendSummoned(t,e){this.abilityUses>=this.maxAbilityUses||null!=this.equipment&&(t.givePetEquipment(this.getInstanceOfAllEquipment().get(this.equipment.name)),this.logService.createLog({message:`${this.name} gave ${t.name} a ${this.equipment.name}`,type:"ability",player:this.parent,tiger:e}),this.abilityUses++,this.superFriendSummoned(t,e))}setAbilityUses(){super.setAbilityUses(),this.maxAbilityUses=this.level}getInstanceOfAllEquipment(){let t=new Map;return t.set("Garlic",new kp),t.set("Meat Bone",new _0),t.set("Steak",new pL),t.set("Melon",new Oa),t.set("Honey",new i_(this.logService,this.abilityService)),t.set("Chili",new Ap(this.logService,this.abilityService)),t.set("Mushroom",new gL(this.logService,this.abilityService,this.petService)),t.set("Coconut",new Na),t.set("Peanut",new ic),t.set("Croissant",new mL),t.set("Rice",new s_),t.set("Egg",new Tp(this.logService,this.abilityService)),t.set("Salt",new Gv),t.set("Pie",new Mk),t.set("Skewer",new a_(this.logService)),t.set("Lemon",new yL),t.set("Pancakes",new Ik),t.set("Strawberry",new vL),t.set("Cucumber",new _L),t.set("Cheese",new Uv),t.set("Grapes",new AL),t.set("Carrot",new DL),t.set("Pepper",new jv),t.set("Popcorn",new PL(this.logService,this.abilityService,this.petService,this.gameService)),t.set("Cherry",new SL),t.set("Chocolate Cake",new f_(this.logService)),t.set("Eggplant",new Ok(this.logService)),t.set("Potato",new wL),t.set("Banana",new bL(this.logService,this.abilityService)),t.set("Onion",new pD(this.logService)),t.set("Pita Bread",new Nk(this.logService)),t.set("Tomato",new CL(this.logService,this.abilityService)),t.set("Durian",new EL(this.logService,this.abilityService)),t.set("Fortune Cookie",new Wv),t.set("Blueberry",new kL),t.set("Donut",new TL),t.set("Pineapple",new xL),t.set("Fig",new ML),t}}class Mp extends k{constructor(t,e,i,s,r,o,a){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Alpaca",this.tier=5,this.pack="Custom",this.attack=3,this.health=7,this.initPet(o,s,r,a)}friendSummoned(t,e){t instanceof Mp||this.abilityUses>=this.maxAbilityUses||(t.increaseExp(1),this.logService.createLog({message:`${this.name} gave ${t.name} 1 exp.`,type:"ability",player:this.parent,tiger:e}),this.abilityUses++,this.superFriendSummoned(t,e))}setAbilityUses(){super.setAbilityUses(),this.maxAbilityUses=this.level}}class Lk extends k{constructor(t,e,i,s,r,o,a){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Hyena",this.tier=5,this.pack="Custom",this.attack=5,this.health=5,this.initPet(o,s,r,a)}startOfBattle(t,e){switch(this.level){case 1:this.level1Ability(t,e);break;case 2:this.level2Ability(t,e);break;case 3:this.level3Ability(t,e)}}level1Ability(t,e){let i=[...t.player.petArray,...t.opponet.petArray];for(let s of i){let r=s.health;s.health=s.attack,s.attack=r}this.logService.createLog({message:`${this.name} swapped all pets attack and health.`,type:"ability",player:this.parent,tiger:e})}level2Ability(t,e){this.shufflePets(t.player),this.shufflePets(t.opponet),this.logService.createLog({message:`${this.name} shuffled positions of all pets.`,type:"ability",player:this.parent,tiger:e,randomEvent:!0})}level3Ability(t,e){this.level1Ability(t,e),this.level2Ability(t,e)}shufflePets(t){let e=t.petArray;!function(n){let e,t=n.length;for(;0!=t;)e=Math.floor(Math.random()*t),t--,[n[t],n[e]]=[n[e],n[t]]}(e);for(let i=0;i<e.length;i++)t[`pet${i}`]=e[i]}}class Fk extends k{constructor(t,e,i,s,r,o,a){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Moose",this.tier=5,this.pack="Custom",this.attack=5,this.health=6,this.initPet(o,s,r,a)}}class Vk extends k{constructor(t,e,i,s,r,o,a){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Lioness",this.tier=6,this.pack="Custom",this.attack=4,this.health=5,this.initPet(o,s,r,a)}}class Bk extends k{constructor(t,e,i,s,r,o,a,u){super(t,e,s),this.logService=t,this.abilityService=e,this.petService=i,this.name="Tapir",this.tier=6,this.pack="Custom",this.attack=4,this.health=3,this.initPet(a,r,o,u)}faint(t,e,i){let s=this.parent.petArray.filter(o=>"Tapir"==o.name),r=this.parent.getRandomPet(s,!0);null!=r&&this.abilityService.setSpawnEvent({callback:()=>{r=(0,xe.cloneDeep)(r),r.exp=this.minExpForLevel;let o=this.petService.createDefaultVersionOfPet(r);this.logService.createLog({message:`${this.name} spawned a ${o.name} level ${o.level}.`,type:"ability",player:this.parent,tiger:e,pteranodon:i,randomEvent:!0}),this.parent.summonPet(o,this.savedPosition)&&this.abilityService.triggerSummonedEvents(r)},priority:this.attack})}}class $k extends k{constructor(t,e,i,s,r,o,a){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Walrus",this.tier=6,this.pack="Custom",this.attack=7,this.health=5,this.initPet(o,s,r,a)}faint(t,e,i){let s=this.parent.getRandomPets(this.level,null,!0,null);for(let r of s)r.givePetEquipment(new ic),this.logService.createLog({message:`${this.name} gave ${r.name} a Peanut.`,type:"ability",player:this.parent,tiger:e,pteranodon:i,randomEvent:!0})}}class Hk extends k{constructor(t,e,i,s,r,o,a){super(t,e,i),this.logService=t,this.abilityService=e,this.name="White Tiger",this.tier=6,this.pack="Custom",this.attack=4,this.health=3,this.initPet(o,s,r,a)}startOfBattle(t,e){let i=[],s=this.petBehind();for(;s&&i.length<this.level;)i.push(s),s=s.petBehind();for(let r of i)this.logService.createLog({message:`${this.name} gave ${r.name} +3 experience.`,type:"ability",player:this.parent,tiger:e}),r.increaseExp(3)}}class qk extends k{constructor(t,e,i,s,r,o,a){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Opossum",this.tier=1,this.pack="Golden",this.attack=2,this.health=3,this.initPet(o,s,r,a)}}class Gk extends k{constructor(t,e,i,s,r,o,a){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Kiwi",this.tier=1,this.pack="Star",this.attack=2,this.health=2,this.initPet(o,s,r,a)}}class Uk extends k{constructor(t,e,i,s,r,o,a){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Pigeon",this.tier=1,this.pack="Turtle",this.health=3,this.attack=1,this.initPet(o,s,r,a)}}class jk extends k{constructor(t,e,i,s,r,o,a){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Hare",this.tier=3,this.pack="Puppy",this.health=3,this.attack=4,this.initPet(o,s,r,a)}beforeAttack(t,e){if(this.abilityUses>=this.maxAbilityUses)return;let i=this.parent.opponent.petArray,s=[];for(let a of i)a.equipment&&s.push(a);if(0==s.length)return;let r=s[Math.floor(Math.random()*s.length)],o=(0,xe.cloneDeep)(r.equipment);o.reset(),this.logService.createLog({message:`${this.name} copied ${o.name} from ${r.name}.`,type:"ability",player:this.parent,tiger:e,randomEvent:s.length>0}),this.givePetEquipment(o),this.abilityUses++,this.superBeforeAttack(t,e)}setAbilityUses(){super.setAbilityUses(),this.maxAbilityUses=this.level}}let p_=(()=>{class n{constructor(){this.logs=[]}createLog(e){e.tiger&&(e.message+=" (Tiger)"),e.puma&&(e.message+=" (Puma)"),e.pteranodon&&(e.message+=" (Pteranodon)"),null!=e.pantherMultiplier&&e.pantherMultiplier>1&&(e.message+=` x${e.pantherMultiplier} (Panther)`),this.logs.push(e)}getLogs(){return this.logs}reset(){this.logs=[]}printState(e,i,s){s&&this.createLog({message:s,type:"board"});let r="";r+=this.getPetText(e.pet4),r+=this.getPetText(e.pet3),r+=this.getPetText(e.pet2),r+=this.getPetText(e.pet1),r+=this.getPetText(e.pet0);let o="";o+=this.getPetText(i.pet0),o+=this.getPetText(i.pet1),o+=this.getPetText(i.pet2),o+=this.getPetText(i.pet3),o+=this.getPetText(i.pet4),this.createLog({message:`${r}| ${o}`,type:"board"})}getPetText(e){return null==e?"___ (-/-) ":`${e.name.substring(0,3)} (${e.attack}/${e.health}) `}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=se({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),ph=(()=>{class n{constructor(){}init(e,i){this.gameApi={player:e,opponet:i}}setTierGroupPets(e,i){null!=e&&(this.gameApi.playerPetPool=e),null!=i&&(this.gameApi.opponentPetPool=i)}setPreviousShopTier(e){this.gameApi.previousShopTier=e}setTurnNumber(e){this.gameApi.turnNumber=e}setGoldSpent(e,i){null!=e&&(this.gameApi.playerGoldSpent=e),null!=i&&(this.gameApi.opponentGoldSpent=i)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=se({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),g_=(()=>{class n{constructor(e){this.gameService=e,this.startOfBattleEvents=[],this.hurtEvents=[],this.faintEvents=[],this.summonedEvents=[],this.friendFaintsEvents=[],this.spawnEvents=[],this.friendAheadAttacksEvents=[],this.afterAttackEvents=[],this.friendAheadFaintsEvents=[],this.knockOutEvents=[],this.beforeAttackEvents=[],this.equipmentBeforeAttackEvents=[],this.friendGainedPerkEvents=[],this.friendGainedAilmentEvents=[],this.friendlyToyBrokeEvents=[],this.transformEvents=[],this.enemySummonedEvents=[],this.friendHurtEvents=[],this.levelUpEvents=[],this.enemyHurtEvents=[],this.emptyFrontSpaceEvents=[],this.friendAttacksEvents=[]}get hasAbilityCycleEvents(){return this.hasFaintEvents||this.hasSummonedEvents||this.hasHurtEvents||this.hasEquipmentBeforeAttackEvents||this.hasFriendHurtEvents||this.hasEnemyHurtEvents||this.hasKnockOutEvents||this.hasEmptyFrontSpaceEvents||this.hasFriendFaintsEvents||this.hasSpawnEvents||this.hasFriendAheadFaintsEvents||this.hasEnemySummonedEvents}initEndTurnEvents(e){let i=[];for(let s of e.petArray)s.endTurn&&i.push({callback:s.endTurn.bind(s),priority:s.attack,player:e});i=(0,xe.shuffle)(i),i.sort((s,r)=>s.priority>r.priority?-1:s.priority<r.priority?1:0);for(let s of i)s.callback(this.gameService.gameApi)}initStartOfBattleEvents(){this.gameApi=this.gameService.gameApi;for(let e of this.gameApi.player.petArray)null!=e.startOfBattle&&this.startOfBattleEvents.push({callback:()=>{e.startOfBattle(this.gameApi)},priority:e.attack,player:this.gameApi.player});for(let e of this.gameApi.opponet.petArray)null!=e.startOfBattle&&this.startOfBattleEvents.push({callback:()=>{e.startOfBattle(this.gameApi)},priority:e.attack,player:this.gameApi.opponet});this.executeStartOfBattleEvents()}setStartOfBattleEvent(e){this.startOfBattleEvents.push(e)}resetStartOfBattleEvents(){this.startOfBattleEvents=[]}executeStartOfBattleEvents(){this.startOfBattleEvents=(0,xe.shuffle)(this.startOfBattleEvents),this.startOfBattleEvents.sort((e,i)=>e.priority>i.priority?-1:e.priority<i.priority?1:0);for(let e of this.startOfBattleEvents)e.callback(this.gameService.gameApi);this.resetStartOfBattleEvents()}setHurtEvent(e){this.hurtEvents.push(e)}resetHurtEvents(){this.hurtEvents=[]}executeHurtEvents(){this.hurtEvents=(0,xe.shuffle)(this.hurtEvents),this.hurtEvents.sort((e,i)=>e.priority>i.priority?-1:e.priority<i.priority?1:0);for(let e of this.hurtEvents)e.callback(this.gameService.gameApi,e.callbackPet);this.resetHurtEvents()}get hasHurtEvents(){return this.hurtEvents.length>0}setFaintEvent(e){this.faintEvents.push(e)}resetFaintEvents(){this.faintEvents=[]}executeFaintEvents(){this.faintEvents=(0,xe.shuffle)(this.faintEvents),this.faintEvents.sort((e,i)=>e.priority>i.priority?-1:e.priority<i.priority?1:0);for(let e of this.faintEvents)e.callback(this.gameService.gameApi);this.resetFaintEvents()}get hasFaintEvents(){return this.faintEvents.length>0}triggerSummonedEvents(e){for(let i of e.parent.petArray)i!=e&&null!=i.friendSummoned&&this.setSummonedEvent({callback:()=>{i.friendSummoned(e)},priority:i.attack})}setSummonedEvent(e){this.summonedEvents.push(e)}resetSummonedEvents(){this.summonedEvents=[]}executeSummonedEvents(){this.summonedEvents=(0,xe.shuffle)(this.summonedEvents),this.summonedEvents.sort((e,i)=>e.priority>i.priority?-1:e.priority<i.priority?1:0);for(let e of this.summonedEvents)e.callback();this.resetSummonedEvents()}get hasSummonedEvents(){return this.summonedEvents.length>0}setSpawnEvent(e){this.spawnEvents.push(e)}resetSpawnEvents(){this.spawnEvents=[]}executeSpawnEvents(){this.spawnEvents=(0,xe.shuffle)(this.spawnEvents),this.spawnEvents.sort((e,i)=>e.priority>i.priority?-1:e.priority<i.priority?1:0);for(let e of this.spawnEvents)e.callback();this.resetSpawnEvents()}get hasSpawnEvents(){return this.spawnEvents.length>0}setFriendAheadAttacksEvents(e){this.friendAheadAttacksEvents.push(e)}resetFriendAheadAttacksEvents(){this.friendAheadAttacksEvents=[]}executeFriendAheadAttacksEvents(){this.friendAheadAttacksEvents=(0,xe.shuffle)(this.friendAheadAttacksEvents),this.friendAheadAttacksEvents.sort((e,i)=>e.priority>i.priority?-1:e.priority<i.priority?1:0);for(let e of this.friendAheadAttacksEvents)e.callback(this.gameService.gameApi);this.resetFriendAheadAttacksEvents()}setAfterAttackEvent(e){this.afterAttackEvents.push(e)}resetAfterAttackEvents(){this.afterAttackEvents=[]}executeAfterAttackEvents(){this.afterAttackEvents=(0,xe.shuffle)(this.afterAttackEvents),this.afterAttackEvents.sort((e,i)=>e.priority>i.priority?-1:e.priority<i.priority?1:0);for(let e of this.afterAttackEvents)e.callback(this.gameService.gameApi);this.resetAfterAttackEvents()}setFriendAheadFaintsEvent(e){this.friendAheadFaintsEvents.push(e)}resetFriendAheadFaintsEvents(){this.friendAheadFaintsEvents=[]}executeFriendAheadFaintsEvents(){this.friendAheadFaintsEvents=(0,xe.shuffle)(this.friendAheadFaintsEvents),this.friendAheadFaintsEvents.sort((e,i)=>e.priority>i.priority?-1:e.priority<i.priority?1:0);for(let e of this.friendAheadFaintsEvents)e.callback();this.resetFriendAheadFaintsEvents()}get hasFriendAheadFaintsEvents(){return this.friendAheadFaintsEvents.length>0}setKnockOutEvent(e){this.knockOutEvents.push(e)}resetKnockOutEvents(){this.knockOutEvents=[]}executeKnockOutEvents(){this.knockOutEvents=(0,xe.shuffle)(this.knockOutEvents),this.knockOutEvents.sort((e,i)=>e.priority>i.priority?-1:e.priority<i.priority?1:0);for(let e of this.knockOutEvents)e.callback(this.gameService.gameApi,e.callbackPet);this.resetKnockOutEvents()}get hasKnockOutEvents(){return this.knockOutEvents.length>0}triggerFriendFaintsEvents(e){for(let i of e.parent.petArray)null!=i.friendFaints&&this.setFriendFaintsEvent({callback:i.friendFaints.bind(i),priority:i.attack,callbackPet:e})}setFriendFaintsEvent(e){this.friendFaintsEvents.push(e)}resetFriendFaintsEvents(){this.friendFaintsEvents=[]}executeFriendFaintsEvents(){this.friendFaintsEvents=(0,xe.shuffle)(this.friendFaintsEvents),this.friendFaintsEvents.sort((e,i)=>e.priority>i.priority?-1:e.priority<i.priority?1:0);for(let e of this.friendFaintsEvents)e.callback(this.gameService.gameApi,e.callbackPet,null);this.resetFriendFaintsEvents()}get hasFriendFaintsEvents(){return this.friendFaintsEvents.length>0}setBeforeAttackEvent(e){this.beforeAttackEvents.push(e)}resetBeforeAttackEvents(){this.beforeAttackEvents=[]}executeBeforeAttackEvents(){this.beforeAttackEvents=(0,xe.shuffle)(this.beforeAttackEvents),this.beforeAttackEvents.sort((e,i)=>e.priority>i.priority?-1:e.priority<i.priority?1:0);for(let e of this.beforeAttackEvents)e.callback(this.gameService.gameApi);this.resetBeforeAttackEvents()}setEqiupmentBeforeAttackEvent(e){this.equipmentBeforeAttackEvents.push(e)}resetEqiupmentBeforeAttackEvents(){this.equipmentBeforeAttackEvents=[]}executeEqiupmentBeforeAttackEvents(){this.equipmentBeforeAttackEvents=(0,xe.shuffle)(this.equipmentBeforeAttackEvents),this.equipmentBeforeAttackEvents.sort((e,i)=>e.priority>i.priority?-1:e.priority<i.priority?1:0);for(let e of this.equipmentBeforeAttackEvents)e.callback(this.gameService.gameApi);this.resetEqiupmentBeforeAttackEvents()}get hasEquipmentBeforeAttackEvents(){return this.hurtEvents.length>0}triggerFriendGainedPerkEvents(e){for(let i of e.parent.petArray)null!=i.friendGainedPerk&&this.setFriendGainedPerkEvent({callback:i.friendGainedPerk.bind(i),priority:i.attack,callbackPet:e})}setFriendGainedPerkEvent(e){this.friendGainedPerkEvents.push(e)}resetFriendGainedPerkEvents(){this.friendGainedPerkEvents=[]}executeFriendGainedPerkEvents(){this.friendGainedPerkEvents=(0,xe.shuffle)(this.friendGainedPerkEvents),this.friendGainedPerkEvents.sort((e,i)=>e.priority>i.priority?-1:e.priority<i.priority?1:0);for(let e of this.friendGainedPerkEvents)e.callback(this.gameService.gameApi,e.callbackPet);this.resetFriendGainedPerkEvents()}triggerFriendGainedAilmentEvents(e){for(let i of e.parent.petArray)null!=i.friendGainedAilment&&this.setFriendGainedAilmentEvent({callback:i.friendGainedAilment.bind(i),priority:i.attack,callbackPet:e})}setFriendGainedAilmentEvent(e){this.friendGainedAilmentEvents.push(e)}resetFriendGainedAilmentEvents(){this.friendGainedAilmentEvents=[]}executeFriendGainedAilmentEvents(){this.friendGainedAilmentEvents.sort((e,i)=>e.priority>i.priority?-1:e.priority<i.priority?1:0);for(let e of this.friendGainedAilmentEvents)e.callback(this.gameService.gameApi,e.callbackPet);this.resetFriendGainedAilmentEvents()}triggerFriendlyToyBrokeEvents(e){for(let i of e.petArray)null!=i.friendlyToyBroke&&this.setFriendlyToyBrokeEvent({callback:i.friendlyToyBroke.bind(i),priority:i.attack})}setFriendlyToyBrokeEvent(e){this.friendlyToyBrokeEvents.push(e)}resetFriendlyToyBrokeEvents(){this.friendlyToyBrokeEvents=[]}executeFriendlyToyBrokeEvents(){this.friendlyToyBrokeEvents=(0,xe.shuffle)(this.friendlyToyBrokeEvents),this.friendlyToyBrokeEvents.sort((e,i)=>e.priority>i.priority?-1:e.priority<i.priority?1:0);for(let e of this.friendlyToyBrokeEvents)e.callback(this.gameService.gameApi,!1);this.resetFriendlyToyBrokeEvents()}triggerTransformEvents(e){for(let i of e.petArray)null!=i.transform&&this.setTransformEvent({callback:i.transform.bind(i),priority:i.attack})}setTransformEvent(e){this.transformEvents.push(e)}resetTransformEvents(){this.transformEvents=[]}executeTransformEvents(){this.transformEvents=(0,xe.shuffle)(this.transformEvents),this.transformEvents.sort((e,i)=>e.priority>i.priority?-1:e.priority<i.priority?1:0);for(let e of this.transformEvents)e.callback(this.gameService.gameApi,!1);this.resetTransformEvents()}triggerEnemySummonedEvents(e,i){for(let s of e.petArray)null!=s.enemySummoned&&this.setEnemySummonedEvent({callback:s.enemySummoned.bind(s),priority:s.attack,callbackPet:i})}setEnemySummonedEvent(e){this.enemySummonedEvents.push(e)}resetEnemySummonedEvents(){this.enemySummonedEvents=[]}executeEnemySummonedEvents(){this.enemySummonedEvents=(0,xe.shuffle)(this.enemySummonedEvents),this.enemySummonedEvents.sort((e,i)=>e.priority>i.priority?-1:e.priority<i.priority?1:0);for(let e of this.enemySummonedEvents)e.callback(this.gameService.gameApi,e.callbackPet,!1);this.resetEnemySummonedEvents()}get hasEnemySummonedEvents(){return this.enemySummonedEvents.length>0}triggerFriendHurtEvents(e,i){for(let s of e.petArray)null!=s.friendHurt&&this.setFriendHurtEvent({callback:s.friendHurt.bind(s),priority:s.attack,callbackPet:i})}setFriendHurtEvent(e){this.friendHurtEvents.push(e)}resetFriendHurtEvents(){this.friendHurtEvents=[]}executeFriendHurtEvents(){this.friendHurtEvents=(0,xe.shuffle)(this.friendHurtEvents),this.friendHurtEvents.sort((e,i)=>e.priority>i.priority?-1:e.priority<i.priority?1:0);for(let e of this.friendHurtEvents)e.callback(this.gameService.gameApi,e.callbackPet,!1);this.resetFriendHurtEvents()}get hasFriendHurtEvents(){return this.friendHurtEvents.length>0}triggerLevelUpEvents(e,i){for(let s of e.petArray)null!=s.anyoneLevelUp&&this.setLevelUpEvent({callback:s.anyoneLevelUp.bind(s),priority:s.attack,callbackPet:i})}setLevelUpEvent(e){this.levelUpEvents.push(e)}resetLevelUpEvents(){this.levelUpEvents=[]}executeLevelUpEvents(){this.levelUpEvents=(0,xe.shuffle)(this.levelUpEvents),this.levelUpEvents.sort((e,i)=>e.priority>i.priority?-1:e.priority<i.priority?1:0);for(let e of this.levelUpEvents)e.callback(this.gameService.gameApi,e.callbackPet,!1);this.resetLevelUpEvents()}triggerEmptyFrontSpaceEvents(e){for(let i of e.petArray)null!=i.emptyFrontSpace&&this.setEmptyFrontSpaceEvent({callback:i.emptyFrontSpace.bind(i),priority:i.attack})}setEmptyFrontSpaceEvent(e){this.emptyFrontSpaceEvents.push(e)}resetEmptyFrontSpaceEvents(){this.emptyFrontSpaceEvents=[]}executeEmptyFrontSpaceEvents(){this.emptyFrontSpaceEvents=(0,xe.shuffle)(this.emptyFrontSpaceEvents),this.emptyFrontSpaceEvents.sort((e,i)=>e.priority>i.priority?-1:e.priority<i.priority?1:0);for(let e of this.emptyFrontSpaceEvents)e.callback(this.gameService.gameApi,!1);this.resetEmptyFrontSpaceEvents()}get hasEmptyFrontSpaceEvents(){return this.emptyFrontSpaceEvents.length>0}triggerEnemyHurtEvents(e,i){for(let s of e.petArray)null!=s.enemyHurt&&this.setEnemyHurtEvent({callback:s.enemyHurt.bind(s),priority:s.attack,callbackPet:i})}setEnemyHurtEvent(e){this.enemyHurtEvents.push(e)}resetEnemyHurtEvents(){this.enemyHurtEvents=[]}executeEnemyHurtEvents(){this.enemyHurtEvents=(0,xe.shuffle)(this.enemyHurtEvents),this.enemyHurtEvents.sort((e,i)=>e.priority>i.priority?-1:e.priority<i.priority?1:0);for(let e of this.enemyHurtEvents)e.callback(this.gameService.gameApi,e.callbackPet,!1);this.resetEnemyHurtEvents()}get hasEnemyHurtEvents(){return this.enemyHurtEvents.length>0}triggerFriendAttacksEvents(e,i){for(let s of e.petArray)s!=i&&null!=s.friendAttacks&&this.setFriendAttacksEvent({callback:s.friendAttacks.bind(s),priority:s.attack})}setFriendAttacksEvent(e){this.friendAttacksEvents.push(e)}resetFriendAttacksEvents(){this.friendAttacksEvents=[]}executeFriendAttacksEvents(){this.friendAttacksEvents=(0,xe.shuffle)(this.friendAttacksEvents),this.friendAttacksEvents.sort((e,i)=>e.priority>i.priority?-1:e.priority<i.priority?1:0);for(let e of this.friendAttacksEvents)e.callback(this.gameService.gameApi,!1);this.resetFriendAttacksEvents()}}return n.\u0275fac=function(e){return new(e||n)(B(ph))},n.\u0275prov=se({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),m_=(()=>{class n{constructor(e,i,s){this.logService=e,this.abilityService=i,this.gameService=s,this.turtlePackPets=new Map,this.puppyPackPets=new Map,this.starPackPets=new Map,this.goldenPackPets=new Map,this.customPackPets=new Map,this.playerCustomPackPets=new Map,this.allPets=new Map}buildCustomPackPets(e){for(let i of e.controls){let s=new Map;for(let r=1;r<=6;r++)s.set(r,i.get(`tier${r}Pets`).value);this.playerCustomPackPets.set(i.get("name").value,s)}}init(){this.turtlePackPets.set(1,["Ant","Cricket","Duck","Fish","Horse","Mosquito","Beaver","Otter","Pig","Pigeon"]),this.turtlePackPets.set(2,["Snail","Crab","Swan","Rat","Hedgehog","Peacock","Flamingo","Worm","Kangaroo","Spider"]),this.turtlePackPets.set(3,["Dodo","Badger","Dolphin","Giraffe","Elephant","Camel","Rabbit","Ox","Dog","Sheep"]),this.turtlePackPets.set(4,["Skunk","Hippo","Bison","Blowfish","Turtle","Squirrel","Penguin","Deer","Whale","Parrot"]),this.turtlePackPets.set(5,["Scorpion","Crocodile","Rhino","Monkey","Armadillo","Cow","Seal","Rooster","Shark","Turkey"]),this.turtlePackPets.set(6,["Leopard","Tiger","Boar","Wolverine","Gorilla","Dragon","Mammoth","Cat","Snake","Fly"]),this.puppyPackPets.set(1,["Duck","Beaver","Moth","Bluebird","Chinchilla","Beetle","Ladybug","Chipmunk","Gecko","Ferret"]),this.puppyPackPets.set(2,["Frigatebird","Robin","Bat","Dromedary","Shrimp","Toucan","Beluga Sturgeon","Tabby Cat","Mandrill","Lemur"]),this.puppyPackPets.set(3,["Hoopoe Bird","Tropical Fish","Hatching Chick","Goldfish","Owl","Mole","Flying Squirrel","Pangolin","Puppy","Hare"]),this.puppyPackPets.set(4,["Microbe","Lobster","Buffalo","Llama","Caterpillar","Doberman","Tahr","Whale Shark","Chameleon","Gharial"]),this.puppyPackPets.set(5,["Stonefish","Poodle","Goat","Chicken","Eagle","Panther","Axolotl","Snapping Turtle","Mosasaurus","String Ray"]),this.puppyPackPets.set(6,["Dragon","Mantis Shrimp","Lionfish","Tyrannosaurus","Octopus","Anglerfish","Sauropod","Elephant Seal","Puma","Mongoose"]),this.starPackPets.set(1,["Mouse","Pillbug","Duckling","Cockroach","Frog","Seahorse","Hummingbird","Marmoset","Kiwi"]),this.starPackPets.set(2,["Koala","Yak","Salamander","Panda","Guinea Pig","Jellyfish","Atlantic Puffin","Dove","Stork","Iguana"]),this.starPackPets.set(3,["Leech","Woodpecker","Toad","Clownfish","Cabybara","Okapi","Cassowary","Anteater","Pug"]),this.starPackPets.set(4,["Orangutang","Eel","Hawk","Platypus","Praying Mantis","Crow","Donkey","Pelican","Starfish","Blobfish"]),this.starPackPets.set(5,["Sword Fish","Polar Bear","Siberian Husky","Lion","Triceratops","Zebra","Fox","Hamster","Shoebill","Vulture"]),this.starPackPets.set(6,["Komodo","Ostrich","Reindeer","Stegosaurus","Piranha","Hammerhead Shark","Velociraptor","Sabertooth Tiger","Orca","Spinosaurus"]),this.goldenPackPets.set(1,["Chipmunk","Bulldog","Groundhog","Cone Snail","Goose","Pied Tamarin","Opossum","Silkmoth","Magpie"]),this.goldenPackPets.set(2,["Hercules Beetle","Stoat","Black Necked Stilt","Squid","Sea Urchin","Door Head Ant","Lizard","Sea Turtle","African Penguin"]),this.goldenPackPets.set(3,["Musk Ox","Flea","Royal Flycatcher","Surgeon Fish","Weasel","Guineafowl","Betta Fish","Meerkat","Flying Fish","Baboon","Osprey"]),this.goldenPackPets.set(4,["Manatee","Cuttlefish","Saiga Antelope","Sealion","Vaquita","Slug","Poison Dart Frog","Secretary Bird","Falcon","Manta Ray","Cockatoo"]),this.goldenPackPets.set(5,["Macaque","Nyala","Nurse Shark","Beluga Whale","Wolf","Silver Fox","Fire Ant","Blue Ringed Octopus","Crane","Emu","Egyptian Vulture"]),this.goldenPackPets.set(6,["Wildebeast","Highland Cow","Catfish","Pteranodon","Warthog","Cobra","Grizzly Bear","German Shephard","Bird of Paradise","Oyster"]),this.customPackPets.set(1,["Frilled Dragon","Mouse"]),this.customPackPets.set(2,["Wombat"]),this.customPackPets.set(3,["Aardvark","Bear","Emperor Tamarin","Porcupine","Wasp"]),this.customPackPets.set(4,["Jerboa","Dragonfly","Lynx","Seagull"]),this.customPackPets.set(5,["Alpaca","Hyena","Moose","Raccoon"]),this.customPackPets.set(6,["Lioness","Tapir","Walrus","White Tiger"]),this.setAllPets()}setAllPets(){this.allPets=new Map;for(let e=1;e<=6;e++)this.allPets.set(e,[]);for(let[e,i]of this.turtlePackPets)this.allPets.get(e).push(...i);for(let[e,i]of this.puppyPackPets)this.allPets.get(e).push(...i);for(let[e,i]of this.starPackPets)this.allPets.get(e).push(...i);for(let[e,i]of this.goldenPackPets)this.allPets.get(e).push(...i);for(let[e,i]of this.allPets)this.allPets.set(e,[...new Set(i)])}createPet(e,i){switch(e.name){case"Ant":return new Kv(this.logService,this.abilityService,i,e.health,e.attack,e.exp,e.equipment);case"Cricket":return new gD(this.logService,this.abilityService,i,e.health,e.attack,e.exp,e.equipment);case"Fish":return new mD(this.logService,this.abilityService,i,e.health,e.attack,e.exp,e.equipment);case"Horse":return new yD(this.logService,this.abilityService,i,e.health,e.attack,e.exp,e.equipment);case"Mosquito":return new vD(this.logService,this.abilityService,i,e.health,e.attack,e.exp,e.equipment);case"Duck":return new Yv(this.logService,this.abilityService,i,e.health,e.attack,e.exp,e.equipment);case"Beaver":return new Qv(this.logService,this.abilityService,i,e.health,e.attack,e.exp,e.equipment);case"Otter":return new _D(this.logService,this.abilityService,i,e.health,e.attack,e.exp,e.equipment);case"Pig":return new bD(this.logService,this.abilityService,i,e.health,e.attack,e.exp,e.equipment);case"Mouse":return new SD(this.logService,this.abilityService,i,e.health,e.attack,e.exp,e.equipment);case"Pigeon":return new Uk(this.logService,this.abilityService,i,e.health,e.attack,e.exp,e.equipment);case"Snail":return new W8(this.logService,this.abilityService,i,e.health,e.attack,e.exp,e.equipment);case"Crab":return new ED(this.logService,this.abilityService,i,e.health,e.attack,e.exp,e.equipment);case"Swan":return new wD(this.logService,this.abilityService,i,e.health,e.attack,e.exp,e.equipment);case"Rat":return new CD(this.logService,this.abilityService,i,e.health,e.attack,e.exp,e.equipment);case"Hedgehog":return new DD(this.logService,this.abilityService,i,e.health,e.attack,e.exp,e.equipment);case"Peacock":return new AD(this.logService,this.abilityService,i,e.health,e.attack,e.exp,e.equipment);case"Flamingo":return new PD(this.logService,this.abilityService,i,e.health,e.attack,e.exp,e.equipment);case"Worm":return new kD(this.logService,this.abilityService,i,e.health,e.attack,e.exp,e.equipment);case"Kangaroo":return new TD(this.logService,this.abilityService,i,e.health,e.attack,e.exp,e.equipment);case"Spider":return new xD(this.logService,this.abilityService,this,i,e.health,e.attack,e.exp,e.equipment);case"Dodo":return new MD(this.logService,this.abilityService,i,e.health,e.attack,e.exp,e.equipment);case"Badger":return new ID(this.logService,this.abilityService,i,e.health,e.attack,e.exp,e.equipment);case"Dolphin":return new Jv(this.logService,this.abilityService,i,e.health,e.attack,e.exp,e.equipment);case"Giraffe":return new OD(this.logService,this.abilityService,i,e.health,e.attack,e.exp,e.equipment);case"Elephant":return new ND(this.logService,this.abilityService,i,e.health,e.attack,e.exp,e.equipment);case"Camel":return new RD(this.logService,this.abilityService,i,e.health,e.attack,e.exp,e.equipment);case"Rabbit":return new LD(this.logService,this.abilityService,i,e.health,e.attack,e.exp,e.equipment);case"Ox":return new FD(this.logService,this.abilityService,i,e.health,e.attack,e.exp,e.equipment);case"Dog":return new VD(this.logService,this.abilityService,i,e.health,e.attack,e.exp,e.equipment);case"Sheep":return new BD(this.logService,this.abilityService,i,e.health,e.attack,e.exp,e.equipment);case"Skunk":return new qD(this.logService,this.abilityService,i,e.health,e.attack,e.exp,e.equipment);case"Hippo":return new GD(this.logService,this.abilityService,i,e.health,e.attack,e.exp,e.equipment);case"Bison":return new UD(this.logService,this.abilityService,i,e.health,e.attack,e.exp,e.equipment);case"Blowfish":return new jD(this.logService,this.abilityService,i,e.health,e.attack,e.exp,e.equipment);case"Turtle":return new WD(this.logService,this.abilityService,i,e.health,e.attack,e.exp,e.equipment);case"Squirrel":return new zD(this.logService,this.abilityService,i,e.health,e.attack,e.exp,e.equipment);case"Penguin":return new KD(this.logService,this.abilityService,i,e.health,e.attack,e.exp,e.equipment);case"Deer":return new YD(this.logService,this.abilityService,i,e.health,e.attack,e.exp,e.equipment);case"Whale":return new QD(this.logService,this.abilityService,this,i,e.health,e.attack,e.exp,e.equipment);case"Parrot":return new HD(this.logService,this.abilityService,this,i,e.health,e.attack,e.exp,e.equipment);case"Scorpion":return new ZD(this.logService,this.abilityService,i,e.health,e.attack,e.exp,e.equipment);case"Crocodile":return new JD(this.logService,this.abilityService,i,e.health,e.attack,e.exp,e.equipment);case"Rhino":return new XD(this.logService,this.abilityService,i,e.health,e.attack,e.exp,e.equipment);case"Monkey":return new t_(this.logService,this.abilityService,i,e.health,e.attack,e.exp,e.equipment);case"Armadillo":return new e0(this.logService,this.abilityService,i,e.health,e.attack,e.exp,e.equipment);case"Cow":return new t0(this.logService,this.abilityService,i,e.health,e.attack,e.exp,e.equipment);case"Seal":return new n0(this.logService,this.abilityService,i,e.health,e.attack,e.exp,e.equipment);case"Rooster":return new s0(this.logService,this.abilityService,i,e.health,e.attack,e.exp,e.equipment);case"Shark":return new r0(this.logService,this.abilityService,i,e.health,e.attack,e.exp,e.equipment);case"Turkey":return new o0(this.logService,this.abilityService,i,e.health,e.attack,e.exp,e.equipment);case"Leopard":return new a0(this.logService,this.abilityService,i,e.health,e.attack,e.exp,e.equipment);case"Boar":return new l0(this.logService,this.abilityService,i,e.health,e.attack,e.exp,e.equipment);case"Tiger":return new $D(this.logService,this.abilityService,i,e.health,e.attack,e.exp,e.equipment);case"Wolverine":return new c0(this.logService,this.abilityService,i,e.health,e.attack,e.exp,e.equipment);case"Gorilla":return new u0(this.logService,this.abilityService,i,e.health,e.attack,e.exp,e.equipment);case"Dragon":return new h0(this.logService,this.abilityService,i,e.health,e.attack,e.exp,e.equipment);case"Mammoth":return new d0(this.logService,this.abilityService,i,e.health,e.attack,e.exp,e.equipment);case"Cat":return new f0(this.logService,this.abilityService,i,e.health,e.attack,e.exp,e.equipment);case"Snake":return new p0(this.logService,this.abilityService,i,e.health,e.attack,e.exp,e.equipment);case"Fly":return new g0(this.logService,this.abilityService,i,e.health,e.attack,e.exp,e.equipment);case"Moth":return new m0(this.logService,this.abilityService,i,e.health,e.attack,e.exp,e.equipment);case"Bluebird":return new y0(this.logService,this.abilityService,i,e.health,e.attack,e.exp,e.equipment);case"Chinchilla":return new v0(this.logService,this.abilityService,i,e.health,e.attack,e.exp,e.equipment);case"Beetle":return new b0(this.logService,this.abilityService,i,e.health,e.attack,e.exp,e.equipment);case"Ladybug":return new S0(this.logService,this.abilityService,i,e.health,e.attack,e.exp,e.equipment);case"Chipmunk":return new E0(this.logService,this.abilityService,i,e.health,e.attack,e.exp,e.equipment);case"Gecko":return new w0(this.logService,this.abilityService,i,e.health,e.attack,e.exp,e.equipment);case"Ferret":return new C0(this.logService,this.abilityService,i,e.health,e.attack,e.exp,e.equipment);case"Frigatebird":return new A0(this.logService,this.abilityService,i,e.health,e.attack,e.exp,e.equipment);case"Robin":return new P0(this.logService,this.abilityService,i,e.health,e.attack,e.exp,e.equipment);case"Bat":return new D0(this.logService,this.abilityService,i,e.health,e.attack,e.exp,e.equipment);case"Dromedary":return new k0(this.logService,this.abilityService,i,e.health,e.attack,e.exp,e.equipment);case"Shrimp":return new T0(this.logService,this.abilityService,i,e.health,e.attack,e.exp,e.equipment);case"Toucan":return new x0(this.logService,this.abilityService,i,e.health,e.attack,e.exp,e.equipment);case"Beluga Sturgeon":return new M0(this.logService,this.abilityService,i,e.health,e.attack,e.exp,e.equipment);case"Tabby Cat":return new I0(this.logService,this.abilityService,i,e.health,e.attack,e.exp,e.equipment);case"Mandrill":return new O0(this.logService,this.abilityService,i,e.health,e.attack,e.exp,e.equipment);case"Lemur":return new N0(this.logService,this.abilityService,i,e.health,e.attack,e.exp,e.equipment);case"Hoopoe Bird":return new R0(this.logService,this.abilityService,i,e.health,e.attack,e.exp,e.equipment);case"Tropical Fish":return new L0(this.logService,this.abilityService,i,e.health,e.attack,e.exp,e.equipment);case"Hatching Chick":return new F0(this.logService,this.abilityService,i,e.health,e.attack,e.exp,e.equipment);case"Goldfish":return new V0(this.logService,this.abilityService,i,e.health,e.attack,e.exp,e.equipment);case"Owl":return new B0(this.logService,this.abilityService,i,e.health,e.attack,e.exp,e.equipment);case"Mole":return new xp(this.logService,this.abilityService,i,e.health,e.attack,e.exp,e.equipment);case"Raccoon":return new $0(this.logService,this.abilityService,i,e.health,e.attack,e.exp,e.equipment);case"Flying Squirrel":return new r_(this.logService,this.abilityService,i,e.health,e.attack,e.exp,e.equipment);case"Pangolin":return new H0(this.logService,this.abilityService,i,e.health,e.attack,e.exp,e.equipment);case"Puppy":return new q0(this.logService,this.abilityService,i,e.health,e.attack,e.exp,e.equipment);case"Hare":return new jk(this.logService,this.abilityService,i,e.health,e.attack,e.exp,e.equipment);case"Microbe":return new G0(this.logService,this.abilityService,i,e.health,e.attack,e.exp,e.equipment);case"Lobster":return new U0(this.logService,this.abilityService,i,e.health,e.attack,e.exp,e.equipment);case"Buffalo":return new j0(this.logService,this.abilityService,i,e.health,e.attack,e.exp,e.equipment);case"Llama":return new W0(this.logService,this.abilityService,i,e.health,e.attack,e.exp,e.equipment);case"Caterpillar":return new z0(this.logService,this.abilityService,i,e.health,e.attack,e.exp,e.equipment);case"Doberman":return new K0(this.logService,this.abilityService,i,e.health,e.attack,e.exp,e.equipment);case"Tahr":return new Y0(this.logService,this.abilityService,i,e.health,e.attack,e.exp,e.equipment);case"Whale Shark":return new Q0(this.logService,this.abilityService,i,e.health,e.attack,e.exp,e.equipment);case"Chameleon":return new Z0(this.logService,this.abilityService,i,e.health,e.attack,e.exp,e.equipment);case"Gharial":return new J0(this.logService,this.abilityService,i,e.health,e.attack,e.exp,e.equipment);case"Stonefish":return new X0(this.logService,this.abilityService,i,e.health,e.attack,e.exp,e.equipment);case"Poodle":return new eA(this.logService,this.abilityService,i,e.health,e.attack,e.exp,e.equipment);case"Goat":return new sA(this.logService,this.abilityService,i,e.health,e.attack,e.exp,e.equipment);case"Chicken":return new tA(this.logService,this.abilityService,i,e.health,e.attack,e.exp,e.equipment);case"Eagle":return new nA(this.logService,this.abilityService,this,i,e.health,e.attack,e.exp,e.equipment);case"Panther":return new yn(this.logService,this.abilityService,i,e.health,e.attack,e.exp,e.equipment);case"Axolotl":return new iA(this.logService,this.abilityService,i,e.health,e.attack,e.exp,e.equipment);case"Snapping Turtle":return new rA(this.logService,this.abilityService,i,e.health,e.attack,e.exp,e.equipment);case"Mosasaurus":return new oA(this.logService,this.abilityService,i,e.health,e.attack,e.exp,e.equipment);case"String Ray":return new aA(this.logService,this.abilityService,i,e.health,e.attack,e.exp,e.equipment);case"Mantis Shrimp":return new lA(this.logService,this.abilityService,i,e.health,e.attack,e.exp,e.equipment);case"Lionfish":return new cA(this.logService,this.abilityService,i,e.health,e.attack,e.exp,e.equipment);case"Tyrannosaurus":return new uA(this.logService,this.abilityService,i,e.health,e.attack,e.exp,e.equipment);case"Octopus":return new hA(this.logService,this.abilityService,i,e.health,e.attack,e.exp,e.equipment);case"Anglerfish":return new dA(this.logService,this.abilityService,i,e.health,e.attack,e.exp,e.equipment);case"Sauropod":return new fA(this.logService,this.abilityService,i,e.health,e.attack,e.exp,e.equipment);case"Elephant Seal":return new pA(this.logService,this.abilityService,i,e.health,e.attack,e.exp,e.equipment);case"Puma":return new ch(this.logService,this.abilityService,i,e.health,e.attack,e.exp,e.equipment);case"Mongoose":return new gA(this.logService,this.abilityService,i,e.health,e.attack,e.exp,e.equipment);case"Pillbug":return new mA(this.logService,this.abilityService,i,e.health,e.attack,e.exp,e.equipment);case"Duckling":return new yA(this.logService,this.abilityService,i,e.health,e.attack,e.exp,e.equipment);case"Cockroach":return new vA(this.logService,this.abilityService,i,e.health,e.attack,e.exp,e.equipment);case"Frog":return new _A(this.logService,this.abilityService,i,e.health,e.attack,e.exp,e.equipment);case"Seahorse":return new bA(this.logService,this.abilityService,i,e.health,e.attack,e.exp,e.equipment);case"Iguana":return new SA(this.logService,this.abilityService,i,e.health,e.attack,e.exp,e.equipment);case"Hummingbird":return new EA(this.logService,this.abilityService,i,e.health,e.attack,e.exp,e.equipment);case"Marmoset":return new bk(this.logService,this.abilityService,i,e.health,e.attack,e.exp,e.equipment);case"Kiwi":return new Gk(this.logService,this.abilityService,i,e.health,e.attack,e.exp,e.equipment);case"Koala":return new wA(this.logService,this.abilityService,i,e.health,e.attack,e.exp,e.equipment);case"Yak":return new CA(this.logService,this.abilityService,i,e.health,e.attack,e.exp,e.equipment);case"Salamander":return new DA(this.logService,this.abilityService,i,e.health,e.attack,e.exp,e.equipment);case"Panda":return new AA(this.logService,this.abilityService,i,e.health,e.attack,e.exp,e.equipment);case"Guinea Pig":return new PA(this.logService,this.abilityService,i,e.health,e.attack,e.exp,e.equipment);case"Jellyfish":return new TA(this.logService,this.abilityService,i,e.health,e.attack,e.exp,e.equipment);case"Pug":return new kA(this.logService,this.abilityService,i,e.health,e.attack,e.exp,e.equipment);case"Atlantic Puffin":return new xA(this.logService,this.abilityService,i,e.health,e.attack,e.exp,e.equipment);case"Dove":return new MA(this.logService,this.abilityService,i,e.health,e.attack,e.exp,e.equipment);case"Stork":return new IA(this.logService,this.abilityService,this,i,e.health,e.attack,e.exp,e.equipment);case"Leech":return new OA(this.logService,this.abilityService,i,e.health,e.attack,e.exp,e.equipment);case"Woodpecker":return new NA(this.logService,this.abilityService,i,e.health,e.attack,e.exp,e.equipment);case"Toad":return new RA(this.logService,this.abilityService,i,e.health,e.attack,e.exp,e.equipment);case"Starfish":return new LA(this.logService,this.abilityService,i,e.health,e.attack,e.exp,e.equipment);case"Clownfish":return new FA(this.logService,this.abilityService,i,e.health,e.attack,e.exp,e.equipment);case"Blobfish":return new VA(this.logService,this.abilityService,i,e.health,e.attack,e.exp,e.equipment);case"Cabybara":return new BA(this.logService,this.abilityService,i,e.health,e.attack,e.exp,e.equipment);case"Okapi":return new $A(this.logService,this.abilityService,i,e.health,e.attack,e.exp,e.equipment);case"Cassowary":return new HA(this.logService,this.abilityService,i,e.health,e.attack,e.exp,e.equipment);case"Orangutang":return new l_(this.logService,this.abilityService,i,e.health,e.attack,e.exp,e.equipment);case"Eel":return new qA(this.logService,this.abilityService,i,e.health,e.attack,e.exp,e.equipment);case"Hawk":return new GA(this.logService,this.abilityService,i,e.health,e.attack,e.exp,e.equipment);case"Platypus":return new UA(this.logService,this.abilityService,i,e.health,e.attack,e.exp,e.equipment);case"Praying Mantis":return new jA(this.logService,this.abilityService,i,e.health,e.attack,e.exp,e.equipment);case"Crow":return new WA(this.logService,this.abilityService,i,e.health,e.attack,e.exp,e.equipment);case"Donkey":return new zA(this.logService,this.abilityService,i,e.health,e.attack,e.exp,e.equipment);case"Pelican":return new KA(this.logService,this.abilityService,i,e.health,e.attack,e.exp,e.equipment);case"Anteater":return new YA(this.logService,this.abilityService,i,e.health,e.attack,e.exp,e.equipment);case"Sword Fish":return new QA(this.logService,this.abilityService,i,e.health,e.attack,e.exp,e.equipment);case"Polar Bear":return new ZA(this.logService,this.abilityService,i,e.health,e.attack,e.exp,e.equipment);case"Siberian Husky":return new JA(this.logService,this.abilityService,i,e.health,e.attack,e.exp,e.equipment);case"Lion":return new XA(this.logService,this.abilityService,i,e.health,e.attack,e.exp,e.equipment);case"Triceratops":return new eP(this.logService,this.abilityService,i,e.health,e.attack,e.exp,e.equipment);case"Zebra":return new tP(this.logService,this.abilityService,i,e.health,e.attack,e.exp,e.equipment);case"Fox":return new nP(this.logService,this.abilityService,i,e.health,e.attack,e.exp,e.equipment);case"Hamster":return new iP(this.logService,this.abilityService,i,e.health,e.attack,e.exp,e.equipment);case"Shoebill":return new sP(this.logService,this.abilityService,i,e.health,e.attack,e.exp,e.equipment);case"Vulture":return new rP(this.logService,this.abilityService,i,e.health,e.attack,e.exp,e.equipment);case"Komodo":return new oP(this.logService,this.abilityService,i,e.health,e.attack,e.exp,e.equipment);case"Ostrich":return new aP(this.logService,this.abilityService,i,e.health,e.attack,e.exp,e.equipment);case"Reindeer":return new lP(this.logService,this.abilityService,i,e.health,e.attack,e.exp,e.equipment);case"Stegosaurus":return new cP(this.logService,this.abilityService,i,e.health,e.attack,e.exp,e.equipment);case"Piranha":return new uP(this.logService,this.abilityService,i,e.health,e.attack,e.exp,e.equipment);case"Hammerhead Shark":return new hP(this.logService,this.abilityService,i,e.health,e.attack,e.exp,e.equipment);case"Velociraptor":return new dP(this.logService,this.abilityService,i,e.health,e.attack,e.exp,e.equipment);case"Sabertooth Tiger":return new fP(this.logService,this.abilityService,this,i,e.health,e.attack,e.exp,e.equipment);case"Orca":return new pP(this.logService,this.abilityService,this,i,e.health,e.attack,e.exp,e.equipment);case"Spinosaurus":return new gP(this.logService,this.abilityService,i,e.health,e.attack,e.exp,e.equipment);case"Bulldog":return new mP(this.logService,this.abilityService,i,e.health,e.attack,e.exp,e.equipment);case"Groundhog":return new c_(this.logService,this.abilityService,i,e.health,e.attack,e.exp,e.equipment);case"Cone Snail":return new yP(this.logService,this.abilityService,i,e.health,e.attack,e.exp,e.equipment);case"Goose":return new vP(this.logService,this.abilityService,i,e.health,e.attack,e.exp,e.equipment);case"Pied Tamarin":return new _P(this.logService,this.abilityService,i,e.health,e.attack,e.exp,e.equipment);case"Opossum":return new qk(this.logService,this.abilityService,i,e.health,e.attack,e.exp,e.equipment);case"Silkmoth":return new bP(this.logService,this.abilityService,i,e.health,e.attack,e.exp,e.equipment);case"Magpie":return new SP(this.logService,this.abilityService,i,e.health,e.attack,e.exp,e.equipment);case"Hercules Beetle":return new EP(this.logService,this.abilityService,i,e.health,e.attack,e.exp,e.equipment);case"Stoat":return new wP(this.logService,this.abilityService,i,e.health,e.attack,e.exp,e.equipment);case"Black Necked Stilt":return new CP(this.logService,this.abilityService,i,e.health,e.attack,e.exp,e.equipment);case"Squid":return new DP(this.logService,this.abilityService,i,e.health,e.attack,e.exp,e.equipment);case"Sea Urchin":return new AP(this.logService,this.abilityService,i,e.health,e.attack,e.exp,e.equipment);case"Door Head Ant":return new PP(this.logService,this.abilityService,i,e.health,e.attack,e.exp,e.equipment);case"Lizard":return new kP(this.logService,this.abilityService,i,e.health,e.attack,e.exp,e.equipment);case"Sea Turtle":return new TP(this.logService,this.abilityService,i,e.health,e.attack,e.exp,e.equipment);case"African Penguin":return new xP(this.logService,this.abilityService,i,e.health,e.attack,e.exp,e.equipment);case"Musk Ox":return new MP(this.logService,this.abilityService,i,e.health,e.attack,e.exp,e.equipment);case"Flea":return new IP(this.logService,this.abilityService,i,e.health,e.attack,e.exp,e.equipment);case"Royal Flycatcher":return new QP(this.logService,this.abilityService,i,e.health,e.attack,e.exp,e.equipment);case"Surgeon Fish":return new OP(this.logService,this.abilityService,i,e.health,e.attack,e.exp,e.equipment);case"Weasel":return new NP(this.logService,this.abilityService,i,e.health,e.attack,e.exp,e.equipment);case"Guineafowl":return new RP(this.logService,this.abilityService,i,e.health,e.attack,e.exp,e.equipment);case"Betta Fish":return new LP(this.logService,this.abilityService,i,e.health,e.attack,e.exp,e.equipment);case"Meerkat":return new FP(this.logService,this.abilityService,i,e.health,e.attack,e.exp,e.equipment);case"Flying Fish":return new VP(this.logService,this.abilityService,i,e.health,e.attack,e.exp,e.equipment);case"Baboon":return new BP(this.logService,this.abilityService,i,e.health,e.attack,e.exp,e.equipment);case"Osprey":return new $P(this.logService,this.abilityService,i,e.health,e.attack,e.exp,e.equipment);case"Manatee":return new HP(this.logService,this.abilityService,i,e.health,e.attack,e.exp,e.equipment);case"Cuttlefish":return new qP(this.logService,this.abilityService,i,e.health,e.attack,e.exp,e.equipment);case"Egyptian Vulture":return new GP(this.logService,this.abilityService,i,e.health,e.attack,e.exp,e.equipment);case"Saiga Antelope":return new UP(this.logService,this.abilityService,i,e.health,e.attack,e.exp,e.equipment);case"Sealion":return new jP(this.logService,this.abilityService,i,e.health,e.attack,e.exp,e.equipment);case"Vaquita":return new WP(this.logService,this.abilityService,i,e.health,e.attack,e.exp,e.equipment);case"Slug":return new zP(this.logService,this.abilityService,i,e.health,e.attack,e.exp,e.equipment);case"Poison Dart Frog":return new KP(this.logService,this.abilityService,i,e.health,e.attack,e.exp,e.equipment);case"Secretary Bird":return new YP(this.logService,this.abilityService,i,e.health,e.attack,e.exp,e.equipment);case"Falcon":return new ZP(this.logService,this.abilityService,this,i,e.health,e.attack,e.exp,e.equipment);case"Manta Ray":return new JP(this.logService,this.abilityService,i,e.health,e.attack,e.exp,e.equipment);case"Macaque":return new XP(this.logService,this.abilityService,i,e.health,e.attack,e.exp,e.equipment);case"Nyala":return new ek(this.logService,this.abilityService,i,e.health,e.attack,e.exp,e.equipment);case"Nurse Shark":return new tk(this.logService,this.abilityService,i,e.health,e.attack,e.exp,e.equipment);case"Beluga Whale":return new nk(this.logService,this.abilityService,this,i,e.health,e.attack,e.exp,e.equipment);case"Wolf":return new ik(this.logService,this.abilityService,this,i,e.health,e.attack,e.exp,e.equipment);case"Silver Fox":return new sk(this.logService,this.abilityService,i,e.health,e.attack,e.exp,e.equipment);case"Fire Ant":return new rk(this.logService,this.abilityService,i,e.health,e.attack,e.exp,e.equipment);case"Cockatoo":return new ok(this.logService,this.abilityService,i,e.health,e.attack,e.exp,e.equipment);case"Blue Ringed Octopus":return new ak(this.logService,this.abilityService,i,e.health,e.attack,e.exp,e.equipment);case"Crane":return new lk(this.logService,this.abilityService,i,e.health,e.attack,e.exp,e.equipment);case"Emu":return new ck(this.logService,this.abilityService,i,e.health,e.attack,e.exp,e.equipment);case"Wildebeast":return new uk(this.logService,this.abilityService,i,e.health,e.attack,e.exp,e.equipment);case"Highland Cow":return new hk(this.logService,this.abilityService,i,e.health,e.attack,e.exp,e.equipment);case"Catfish":return new dk(this.logService,this.abilityService,i,e.health,e.attack,e.exp,e.equipment);case"Pteranodon":return new fk(this.logService,this.abilityService,this,i,e.health,e.attack,e.exp,e.equipment);case"Warthog":return new pk(this.logService,this.abilityService,i,e.health,e.attack,e.exp,e.equipment);case"Cobra":return new gk(this.logService,this.abilityService,i,e.health,e.attack,e.exp,e.equipment);case"Grizzly Bear":return new mk(this.logService,this.abilityService,i,e.health,e.attack,e.exp,e.equipment);case"German Shephard":return new yk(this.logService,this.abilityService,i,e.health,e.attack,e.exp,e.equipment);case"Bird of Paradise":return new vk(this.logService,this.abilityService,i,e.health,e.attack,e.exp,e.equipment);case"Oyster":return new _k(this.logService,this.abilityService,i,e.health,e.attack,e.exp,e.equipment);case"Jerboa":return new Sk(this.logService,this.abilityService,i,e.health,e.attack,e.exp,e.equipment);case"Frilled Dragon":return new Ek(this.logService,this.abilityService,i,e.health,e.attack,e.exp,e.equipment);case"Wombat":return new wk(this.logService,this.abilityService,i,e.health,e.attack,e.exp,e.equipment);case"Aardvark":return new Ck(this.logService,this.abilityService,i,e.health,e.attack,e.exp,e.equipment);case"Bear":return new Dk(this.logService,this.abilityService,i,e.health,e.attack,e.exp,e.equipment);case"Emperor Tamarin":return new Ak(this.logService,this.abilityService,i,e.health,e.attack,e.exp,e.equipment);case"Porcupine":return new Pk(this.logService,this.abilityService,i,e.health,e.attack,e.exp,e.equipment);case"Wasp":return new kk(this.logService,this.abilityService,i,e.health,e.attack,e.exp,e.equipment);case"Dragonfly":return new Tk(this.logService,this.abilityService,i,e.health,e.attack,e.exp,e.equipment);case"Lynx":return new xk(this.logService,this.abilityService,i,e.health,e.attack,e.exp,e.equipment);case"Seagull":return new Rk(this.logService,this.abilityService,this,this.gameService,i,e.health,e.attack,e.exp,e.equipment);case"Alpaca":return new Mp(this.logService,this.abilityService,i,e.health,e.attack,e.exp,e.equipment);case"Hyena":return new Lk(this.logService,this.abilityService,i,e.health,e.attack,e.exp,e.equipment);case"Moose":return new Fk(this.logService,this.abilityService,i,e.health,e.attack,e.exp,e.equipment);case"Lioness":return new Vk(this.logService,this.abilityService,i,e.health,e.attack,e.exp,e.equipment);case"Tapir":return new Bk(this.logService,this.abilityService,this,i,e.health,e.attack,e.exp,e.equipment);case"Walrus":return new $k(this.logService,this.abilityService,i,e.health,e.attack,e.exp,e.equipment);case"White Tiger":return new Hk(this.logService,this.abilityService,i,e.health,e.attack,e.exp,e.equipment);case"Bee":return new hh(this.logService,this.abilityService,i,e.health,e.attack,e.exp,e.equipment);case"Bus":return new e_(this.logService,this.abilityService,i,e.health,e.attack,e.exp,e.equipment);case"Butterfly":return new o_(this.logService,this.abilityService,i,e.health,e.attack,e.exp,e.equipment);case"Chick":return new n_(this.logService,this.abilityService,i,e.health,e.attack,e.exp,e.equipment);case"Dirty Ray":return new Zv(this.logService,this.abilityService,i,e.health,e.attack,e.exp,e.equipment);case"Golden Retriever":return new zv(this.logService,this.abilityService,i,e.health,e.attack,e.exp,e.equipment);case"Lizard Tail":return new u_(this.logService,this.abilityService,i,e.health,e.attack,e.exp,e.equipment);case"Nest":return new fh(this.logService,this.abilityService,i,e.health,e.attack,e.exp,e.equipment);case"Ram":return new Xv(this.logService,this.abilityService,i,e.health,e.attack,e.exp,e.equipment);case"Smaller Slug":return new d_(this.logService,this.abilityService,i,e.health,e.attack,e.exp,e.equipment);case"Smallest Slug":return new h_(this.logService,this.abilityService,i,e.health,e.attack,e.exp,e.equipment);case"Zombie Cricket":return new uh(this.logService,this.abilityService,i,e.health,e.attack,e.exp,e.equipment);case"Zombie Fly":return new Pp(this.logService,this.abilityService,i,e.health,e.attack,e.exp,e.equipment)}}createDefaultVersionOfPet(e,i=null,s=null){let r;return e instanceof Kv&&(r=new Kv(this.logService,this.abilityService,e.parent,i,s,P(e.level))),e instanceof hh&&(r=new hh(this.logService,this.abilityService,e.parent,i,s,P(e.level))),e instanceof gD&&(r=new gD(this.logService,this.abilityService,e.parent,i,s,P(e.level))),e instanceof mD&&(r=new mD(this.logService,this.abilityService,e.parent,i,s,P(e.level))),e instanceof yD&&(r=new yD(this.logService,this.abilityService,e.parent,i,s,P(e.level))),e instanceof vD&&(r=new vD(this.logService,this.abilityService,e.parent,i,s,P(e.level))),e instanceof uh&&(r=new uh(this.logService,this.abilityService,e.parent,i,s,P(e.level))),e instanceof Yv&&(r=new Yv(this.logService,this.abilityService,e.parent,i,s,P(e.level))),e instanceof Qv&&(r=new Qv(this.logService,this.abilityService,e.parent,i,s,P(e.level))),e instanceof _D&&(r=new _D(this.logService,this.abilityService,e.parent,i,s,P(e.level))),e instanceof bD&&(r=new bD(this.logService,this.abilityService,e.parent,i,s,P(e.level))),e instanceof SD&&(r=new SD(this.logService,this.abilityService,e.parent,i,s,P(e.level))),e instanceof Uk&&(r=new Uk(this.logService,this.abilityService,e.parent,i,s,P(e.level))),e instanceof ED&&(r=new ED(this.logService,this.abilityService,e.parent,i,s,P(e.level))),e instanceof wD&&(r=new wD(this.logService,this.abilityService,e.parent,i,s,P(e.level))),e instanceof CD&&(r=new CD(this.logService,this.abilityService,e.parent,i,s,P(e.level))),e instanceof DD&&(r=new DD(this.logService,this.abilityService,e.parent,i,s,P(e.level))),e instanceof AD&&(r=new AD(this.logService,this.abilityService,e.parent,i,s,P(e.level))),e instanceof PD&&(r=new PD(this.logService,this.abilityService,e.parent,i,s,P(e.level))),e instanceof kD&&(r=new kD(this.logService,this.abilityService,e.parent,i,s,P(e.level))),e instanceof TD&&(r=new TD(this.logService,this.abilityService,e.parent,i,s,P(e.level))),e instanceof xD&&(r=new xD(this.logService,this.abilityService,this,e.parent,i,s,P(e.level))),e instanceof MD&&(r=new MD(this.logService,this.abilityService,e.parent,i,s,P(e.level))),e instanceof ID&&(r=new ID(this.logService,this.abilityService,e.parent,i,s,P(e.level))),e instanceof Jv&&(r=new Jv(this.logService,this.abilityService,e.parent,i,s,P(e.level))),e instanceof OD&&(r=new OD(this.logService,this.abilityService,e.parent,i,s,P(e.level))),e instanceof ND&&(r=new ND(this.logService,this.abilityService,e.parent,i,s,P(e.level))),e instanceof RD&&(r=new RD(this.logService,this.abilityService,e.parent,i,s,P(e.level))),e instanceof LD&&(r=new LD(this.logService,this.abilityService,e.parent,i,s,P(e.level))),e instanceof FD&&(r=new FD(this.logService,this.abilityService,e.parent,i,s,P(e.level))),e instanceof VD&&(r=new VD(this.logService,this.abilityService,e.parent,i,s,P(e.level))),e instanceof BD&&(r=new BD(this.logService,this.abilityService,e.parent,i,s,P(e.level))),e instanceof qD&&(r=new qD(this.logService,this.abilityService,e.parent,i,s,P(e.level))),e instanceof GD&&(r=new GD(this.logService,this.abilityService,e.parent,i,s,P(e.level))),e instanceof UD&&(r=new UD(this.logService,this.abilityService,e.parent,i,s,P(e.level))),e instanceof jD&&(r=new jD(this.logService,this.abilityService,e.parent,i,s,P(e.level))),e instanceof WD&&(r=new WD(this.logService,this.abilityService,e.parent,i,s,P(e.level))),e instanceof zD&&(r=new zD(this.logService,this.abilityService,e.parent,i,s,P(e.level))),e instanceof KD&&(r=new KD(this.logService,this.abilityService,e.parent,i,s,P(e.level))),e instanceof YD&&(r=new YD(this.logService,this.abilityService,e.parent,i,s,P(e.level))),e instanceof QD&&(r=new QD(this.logService,this.abilityService,this,e.parent,i,s,P(e.level))),e instanceof HD&&(r=new HD(this.logService,this.abilityService,this,e.parent,i,s,P(e.level))),e instanceof ZD&&(r=new ZD(this.logService,this.abilityService,e.parent,i,s,P(e.level))),e instanceof JD&&(r=new JD(this.logService,this.abilityService,e.parent,i,s,P(e.level))),e instanceof XD&&(r=new XD(this.logService,this.abilityService,e.parent,i,s,P(e.level))),e instanceof t_&&(r=new t_(this.logService,this.abilityService,e.parent,i,s,P(e.level))),e instanceof e0&&(r=new e0(this.logService,this.abilityService,e.parent,i,s,P(e.level))),e instanceof t0&&(r=new t0(this.logService,this.abilityService,e.parent,i,s,P(e.level))),e instanceof n0&&(r=new n0(this.logService,this.abilityService,e.parent,i,s,P(e.level))),e instanceof s0&&(r=new s0(this.logService,this.abilityService,e.parent,i,s,P(e.level))),e instanceof r0&&(r=new r0(this.logService,this.abilityService,e.parent,i,s,P(e.level))),e instanceof o0&&(r=new o0(this.logService,this.abilityService,e.parent,i,s,P(e.level))),e instanceof a0&&(r=new a0(this.logService,this.abilityService,e.parent,i,s,P(e.level))),e instanceof l0&&(r=new l0(this.logService,this.abilityService,e.parent,i,s,P(e.level))),e instanceof $D&&(r=new $D(this.logService,this.abilityService,e.parent,i,s,P(e.level))),e instanceof c0&&(r=new c0(this.logService,this.abilityService,e.parent,i,s,P(e.level))),e instanceof u0&&(r=new u0(this.logService,this.abilityService,e.parent,i,s,P(e.level))),e instanceof h0&&(r=new h0(this.logService,this.abilityService,e.parent,i,s,P(e.level))),e instanceof d0&&(r=new d0(this.logService,this.abilityService,e.parent,i,s,P(e.level))),e instanceof f0&&(r=new f0(this.logService,this.abilityService,e.parent,i,s,P(e.level))),e instanceof p0&&(r=new p0(this.logService,this.abilityService,e.parent,i,s,P(e.level))),e instanceof g0&&(r=new g0(this.logService,this.abilityService,e.parent,i,s,P(e.level))),e instanceof m0&&(r=new m0(this.logService,this.abilityService,e.parent,i,s,P(e.level))),e instanceof y0&&(r=new y0(this.logService,this.abilityService,e.parent,i,s,P(e.level))),e instanceof v0&&(r=new v0(this.logService,this.abilityService,e.parent,i,s,P(e.level))),e instanceof b0&&(r=new b0(this.logService,this.abilityService,e.parent,i,s,P(e.level))),e instanceof S0&&(r=new S0(this.logService,this.abilityService,e.parent,i,s,P(e.level))),e instanceof E0&&(r=new E0(this.logService,this.abilityService,e.parent,i,s,P(e.level))),e instanceof w0&&(r=new w0(this.logService,this.abilityService,e.parent,i,s,P(e.level))),e instanceof C0&&(r=new C0(this.logService,this.abilityService,e.parent,i,s,P(e.level))),e instanceof A0&&(r=new A0(this.logService,this.abilityService,e.parent,i,s,P(e.level))),e instanceof P0&&(r=new P0(this.logService,this.abilityService,e.parent,i,s,P(e.level))),e instanceof D0&&(r=new D0(this.logService,this.abilityService,e.parent,i,s,P(e.level))),e instanceof k0&&(r=new k0(this.logService,this.abilityService,e.parent,i,s,P(e.level))),e instanceof T0&&(r=new T0(this.logService,this.abilityService,e.parent,i,s,P(e.level))),e instanceof x0&&(r=new x0(this.logService,this.abilityService,e.parent,i,s,P(e.level))),e instanceof M0&&(r=new M0(this.logService,this.abilityService,e.parent,i,s,P(e.level))),e instanceof I0&&(r=new I0(this.logService,this.abilityService,e.parent,i,s,P(e.level))),e instanceof O0&&(r=new O0(this.logService,this.abilityService,e.parent,i,s,P(e.level))),e instanceof N0&&(r=new N0(this.logService,this.abilityService,e.parent,i,s,P(e.level))),e instanceof R0&&(r=new R0(this.logService,this.abilityService,e.parent,i,s,P(e.level))),e instanceof L0&&(r=new L0(this.logService,this.abilityService,e.parent,i,s,P(e.level))),e instanceof F0&&(r=new F0(this.logService,this.abilityService,e.parent,i,s,P(e.level))),e instanceof V0&&(r=new V0(this.logService,this.abilityService,e.parent,i,s,P(e.level))),e instanceof B0&&(r=new B0(this.logService,this.abilityService,e.parent,i,s,P(e.level))),e instanceof xp&&(r=new xp(this.logService,this.abilityService,e.parent,i,s,P(e.level))),e instanceof $0&&(r=new $0(this.logService,this.abilityService,e.parent,i,s,P(e.level))),e instanceof r_&&(r=new r_(this.logService,this.abilityService,e.parent,i,s,P(e.level))),e instanceof H0&&(r=new H0(this.logService,this.abilityService,e.parent,i,s,P(e.level))),e instanceof q0&&(r=new q0(this.logService,this.abilityService,e.parent,i,s,P(e.level))),e instanceof jk&&(r=new jk(this.logService,this.abilityService,e.parent,i,s,P(e.level))),e instanceof G0&&(r=new G0(this.logService,this.abilityService,e.parent,i,s,P(e.level))),e instanceof U0&&(r=new U0(this.logService,this.abilityService,e.parent,i,s,P(e.level))),e instanceof j0&&(r=new j0(this.logService,this.abilityService,e.parent,i,s,P(e.level))),e instanceof W0&&(r=new W0(this.logService,this.abilityService,e.parent,i,s,P(e.level))),e instanceof z0&&(r=new z0(this.logService,this.abilityService,e.parent,i,s,P(e.level))),e instanceof K0&&(r=new K0(this.logService,this.abilityService,e.parent,i,s,P(e.level))),e instanceof Y0&&(r=new Y0(this.logService,this.abilityService,e.parent,i,s,P(e.level))),e instanceof Q0&&(r=new Q0(this.logService,this.abilityService,e.parent,i,s,P(e.level))),e instanceof Z0&&(r=new Z0(this.logService,this.abilityService,e.parent,i,s,P(e.level))),e instanceof J0&&(r=new J0(this.logService,this.abilityService,e.parent,i,s,P(e.level))),e instanceof X0&&(r=new X0(this.logService,this.abilityService,e.parent,i,s,P(e.level))),e instanceof eA&&(r=new eA(this.logService,this.abilityService,e.parent,i,s,P(e.level))),e instanceof sA&&(r=new sA(this.logService,this.abilityService,e.parent,i,s,P(e.level))),e instanceof tA&&(r=new tA(this.logService,this.abilityService,e.parent,i,s,P(e.level))),e instanceof nA&&(r=new nA(this.logService,this.abilityService,this,e.parent,i,s,P(e.level))),e instanceof yn&&(r=new yn(this.logService,this.abilityService,e.parent,i,s,P(e.level))),e instanceof iA&&(r=new iA(this.logService,this.abilityService,e.parent,i,s,P(e.level))),e instanceof rA&&(r=new rA(this.logService,this.abilityService,e.parent,i,s,P(e.level))),e instanceof oA&&(r=new oA(this.logService,this.abilityService,e.parent,i,s,P(e.level))),e instanceof aA&&(r=new aA(this.logService,this.abilityService,e.parent,i,s,P(e.level))),e instanceof lA&&(r=new lA(this.logService,this.abilityService,e.parent,i,s,P(e.level))),e instanceof cA&&(r=new cA(this.logService,this.abilityService,e.parent,i,s,P(e.level))),e instanceof uA&&(r=new uA(this.logService,this.abilityService,e.parent,i,s,P(e.level))),e instanceof hA&&(r=new hA(this.logService,this.abilityService,e.parent,i,s,P(e.level))),e instanceof dA&&(r=new dA(this.logService,this.abilityService,e.parent,i,s,P(e.level))),e instanceof fA&&(r=new fA(this.logService,this.abilityService,e.parent,i,s,P(e.level))),e instanceof pA&&(r=new pA(this.logService,this.abilityService,e.parent,i,s,P(e.level))),e instanceof ch&&(r=new ch(this.logService,this.abilityService,e.parent,i,s,P(e.level))),e instanceof gA&&(r=new gA(this.logService,this.abilityService,e.parent,i,s,P(e.level))),e instanceof mA&&(r=new mA(this.logService,this.abilityService,e.parent,i,s,P(e.level))),e instanceof yA&&(r=new yA(this.logService,this.abilityService,e.parent,i,s,P(e.level))),e instanceof vA&&(r=new vA(this.logService,this.abilityService,e.parent,i,s,P(e.level))),e instanceof Gk&&(r=new Gk(this.logService,this.abilityService,e.parent,i,s,P(e.level))),e instanceof _A&&(r=new _A(this.logService,this.abilityService,e.parent,i,s,P(e.level))),e instanceof bA&&(r=new bA(this.logService,this.abilityService,e.parent,i,s,P(e.level))),e instanceof SA&&(r=new SA(this.logService,this.abilityService,e.parent,i,s,P(e.level))),e instanceof EA&&(r=new EA(this.logService,this.abilityService,e.parent,i,s,P(e.level))),e instanceof bk&&(r=new bk(this.logService,this.abilityService,e.parent,i,s,P(e.level))),e instanceof wA&&(r=new wA(this.logService,this.abilityService,e.parent,i,s,P(e.level))),e instanceof CA&&(r=new CA(this.logService,this.abilityService,e.parent,i,s,P(e.level))),e instanceof DA&&(r=new DA(this.logService,this.abilityService,e.parent,i,s,P(e.level))),e instanceof AA&&(r=new AA(this.logService,this.abilityService,e.parent,i,s,P(e.level))),e instanceof PA&&(r=new PA(this.logService,this.abilityService,e.parent,i,s,P(e.level))),e instanceof TA&&(r=new TA(this.logService,this.abilityService,e.parent,i,s,P(e.level))),e instanceof kA&&(r=new kA(this.logService,this.abilityService,e.parent,i,s,P(e.level))),e instanceof xA&&(r=new xA(this.logService,this.abilityService,e.parent,i,s,P(e.level))),e instanceof MA&&(r=new MA(this.logService,this.abilityService,e.parent,i,s,P(e.level))),e instanceof IA&&(r=new IA(this.logService,this.abilityService,this,e.parent,i,s,P(e.level))),e instanceof OA&&(r=new OA(this.logService,this.abilityService,e.parent,i,s,P(e.level))),e instanceof NA&&(r=new NA(this.logService,this.abilityService,e.parent,i,s,P(e.level))),e instanceof RA&&(r=new RA(this.logService,this.abilityService,e.parent,i,s,P(e.level))),e instanceof LA&&(r=new LA(this.logService,this.abilityService,e.parent,i,s,P(e.level))),e instanceof FA&&(r=new FA(this.logService,this.abilityService,e.parent,i,s,P(e.level))),e instanceof VA&&(r=new VA(this.logService,this.abilityService,e.parent,i,s,P(e.level))),e instanceof BA&&(r=new BA(this.logService,this.abilityService,e.parent,i,s,P(e.level))),e instanceof $A&&(r=new $A(this.logService,this.abilityService,e.parent,i,s,P(e.level))),e instanceof HA&&(r=new HA(this.logService,this.abilityService,e.parent,i,s,P(e.level))),e instanceof l_&&(r=new l_(this.logService,this.abilityService,e.parent,i,s,P(e.level))),e instanceof qA&&(r=new qA(this.logService,this.abilityService,e.parent,i,s,P(e.level))),e instanceof GA&&(r=new GA(this.logService,this.abilityService,e.parent,i,s,P(e.level))),e instanceof UA&&(r=new UA(this.logService,this.abilityService,e.parent,i,s,P(e.level))),e instanceof jA&&(r=new jA(this.logService,this.abilityService,e.parent,i,s,P(e.level))),e instanceof WA&&(r=new WA(this.logService,this.abilityService,e.parent,i,s,P(e.level))),e instanceof zA&&(r=new zA(this.logService,this.abilityService,e.parent,i,s,P(e.level))),e instanceof KA&&(r=new KA(this.logService,this.abilityService,e.parent,i,s,P(e.level))),e instanceof YA&&(r=new YA(this.logService,this.abilityService,e.parent,i,s,P(e.level))),e instanceof QA&&(r=new QA(this.logService,this.abilityService,e.parent,i,s,P(e.level))),e instanceof ZA&&(r=new ZA(this.logService,this.abilityService,e.parent,i,s,P(e.level))),e instanceof JA&&(r=new JA(this.logService,this.abilityService,e.parent,i,s,P(e.level))),e instanceof XA&&(r=new XA(this.logService,this.abilityService,e.parent,i,s,P(e.level))),e instanceof eP&&(r=new eP(this.logService,this.abilityService,e.parent,i,s,P(e.level))),e instanceof tP&&(r=new tP(this.logService,this.abilityService,e.parent,i,s,P(e.level))),e instanceof nP&&(r=new nP(this.logService,this.abilityService,e.parent,i,s,P(e.level))),e instanceof iP&&(r=new iP(this.logService,this.abilityService,e.parent,i,s,P(e.level))),e instanceof sP&&(r=new sP(this.logService,this.abilityService,e.parent,i,s,P(e.level))),e instanceof rP&&(r=new rP(this.logService,this.abilityService,e.parent,i,s,P(e.level))),e instanceof oP&&(r=new oP(this.logService,this.abilityService,e.parent,i,s,P(e.level))),e instanceof aP&&(r=new aP(this.logService,this.abilityService,e.parent,i,s,P(e.level))),e instanceof lP&&(r=new lP(this.logService,this.abilityService,e.parent,i,s,P(e.level))),e instanceof cP&&(r=new cP(this.logService,this.abilityService,e.parent,i,s,P(e.level))),e instanceof uP&&(r=new uP(this.logService,this.abilityService,e.parent,i,s,P(e.level))),e instanceof hP&&(r=new hP(this.logService,this.abilityService,e.parent,i,s,P(e.level))),e instanceof dP&&(r=new dP(this.logService,this.abilityService,e.parent,i,s,P(e.level))),e instanceof fP&&(r=new fP(this.logService,this.abilityService,this,e.parent,i,s,P(e.level))),e instanceof pP&&(r=new pP(this.logService,this.abilityService,this,e.parent,i,s,P(e.level))),e instanceof gP&&(r=new gP(this.logService,this.abilityService,e.parent,i,s,P(e.level))),e instanceof mP&&(r=new mP(this.logService,this.abilityService,e.parent,i,s,P(e.level))),e instanceof c_&&(r=new c_(this.logService,this.abilityService,e.parent,i,s,P(e.level))),e instanceof yP&&(r=new yP(this.logService,this.abilityService,e.parent,i,s,P(e.level))),e instanceof vP&&(r=new vP(this.logService,this.abilityService,e.parent,i,s,P(e.level))),e instanceof _P&&(r=new _P(this.logService,this.abilityService,e.parent,i,s,P(e.level))),e instanceof qk&&(r=new qk(this.logService,this.abilityService,e.parent,i,s,P(e.level))),e instanceof bP&&(r=new bP(this.logService,this.abilityService,e.parent,i,s,P(e.level))),e instanceof SP&&(r=new SP(this.logService,this.abilityService,e.parent,i,s,P(e.level))),e instanceof EP&&(r=new EP(this.logService,this.abilityService,e.parent,i,s,P(e.level))),e instanceof wP&&(r=new wP(this.logService,this.abilityService,e.parent,i,s,P(e.level))),e instanceof CP&&(r=new CP(this.logService,this.abilityService,e.parent,i,s,P(e.level))),e instanceof DP&&(r=new DP(this.logService,this.abilityService,e.parent,i,s,P(e.level))),e instanceof AP&&(r=new AP(this.logService,this.abilityService,e.parent,i,s,P(e.level))),e instanceof PP&&(r=new PP(this.logService,this.abilityService,e.parent,i,s,P(e.level))),e instanceof kP&&(r=new kP(this.logService,this.abilityService,e.parent,i,s,P(e.level))),e instanceof TP&&(r=new TP(this.logService,this.abilityService,e.parent,i,s,P(e.level))),e instanceof xP&&(r=new xP(this.logService,this.abilityService,e.parent,i,s,P(e.level))),e instanceof MP&&(r=new MP(this.logService,this.abilityService,e.parent,i,s,P(e.level))),e instanceof IP&&(r=new IP(this.logService,this.abilityService,e.parent,i,s,P(e.level))),e instanceof QP&&(r=new QP(this.logService,this.abilityService,e.parent,i,s,P(e.level))),e instanceof OP&&(r=new OP(this.logService,this.abilityService,e.parent,i,s,P(e.level))),e instanceof NP&&(r=new NP(this.logService,this.abilityService,e.parent,i,s,P(e.level))),e instanceof RP&&(r=new RP(this.logService,this.abilityService,e.parent,i,s,P(e.level))),e instanceof LP&&(r=new LP(this.logService,this.abilityService,e.parent,i,s,P(e.level))),e instanceof FP&&(r=new FP(this.logService,this.abilityService,e.parent,i,s,P(e.level))),e instanceof VP&&(r=new VP(this.logService,this.abilityService,e.parent,i,s,P(e.level))),e instanceof BP&&(r=new BP(this.logService,this.abilityService,e.parent,i,s,P(e.level))),e instanceof $P&&(r=new $P(this.logService,this.abilityService,e.parent,i,s,P(e.level))),e instanceof HP&&(r=new HP(this.logService,this.abilityService,e.parent,i,s,P(e.level))),e instanceof qP&&(r=new qP(this.logService,this.abilityService,e.parent,i,s,P(e.level))),e instanceof GP&&(r=new GP(this.logService,this.abilityService,e.parent,i,s,P(e.level))),e instanceof UP&&(r=new UP(this.logService,this.abilityService,e.parent,i,s,P(e.level))),e instanceof jP&&(r=new jP(this.logService,this.abilityService,e.parent,i,s,P(e.level))),e instanceof WP&&(r=new WP(this.logService,this.abilityService,e.parent,i,s,P(e.level))),e instanceof zP&&(r=new zP(this.logService,this.abilityService,e.parent,i,s,P(e.level))),e instanceof KP&&(r=new KP(this.logService,this.abilityService,e.parent,i,s,P(e.level))),e instanceof YP&&(r=new YP(this.logService,this.abilityService,e.parent,i,s,P(e.level))),e instanceof ZP&&(r=new ZP(this.logService,this.abilityService,this,e.parent,i,s,P(e.level))),e instanceof JP&&(r=new JP(this.logService,this.abilityService,e.parent,i,s,P(e.level))),e instanceof XP&&(r=new XP(this.logService,this.abilityService,e.parent,i,s,P(e.level))),e instanceof ek&&(r=new ek(this.logService,this.abilityService,e.parent,i,s,P(e.level))),e instanceof tk&&(r=new tk(this.logService,this.abilityService,e.parent,i,s,P(e.level))),e instanceof nk&&(r=new nk(this.logService,this.abilityService,this,e.parent,i,s,P(e.level))),e instanceof ik&&(r=new ik(this.logService,this.abilityService,this,e.parent,i,s,P(e.level))),e instanceof sk&&(r=new sk(this.logService,this.abilityService,e.parent,i,s,P(e.level))),e instanceof rk&&(r=new rk(this.logService,this.abilityService,e.parent,i,s,P(e.level))),e instanceof ok&&(r=new ok(this.logService,this.abilityService,e.parent,i,s,P(e.level))),e instanceof ak&&(r=new ak(this.logService,this.abilityService,e.parent,i,s,P(e.level))),e instanceof lk&&(r=new lk(this.logService,this.abilityService,e.parent,i,s,P(e.level))),e instanceof ck&&(r=new ck(this.logService,this.abilityService,e.parent,i,s,P(e.level))),e instanceof uk&&(r=new uk(this.logService,this.abilityService,e.parent,i,s,P(e.level))),e instanceof hk&&(r=new hk(this.logService,this.abilityService,e.parent,i,s,P(e.level))),e instanceof dk&&(r=new dk(this.logService,this.abilityService,e.parent,i,s,P(e.level))),e instanceof fk&&(r=new fk(this.logService,this.abilityService,this,e.parent,i,s,P(e.level))),e instanceof pk&&(r=new pk(this.logService,this.abilityService,e.parent,i,s,P(e.level))),e instanceof gk&&(r=new gk(this.logService,this.abilityService,e.parent,i,s,P(e.level))),e instanceof mk&&(r=new mk(this.logService,this.abilityService,e.parent,i,s,P(e.level))),e instanceof yk&&(r=new yk(this.logService,this.abilityService,e.parent,i,s,P(e.level))),e instanceof vk&&(r=new vk(this.logService,this.abilityService,e.parent,i,s,P(e.level))),e instanceof _k&&(r=new _k(this.logService,this.abilityService,e.parent,i,s,P(e.level))),e instanceof hh&&(r=new hh(this.logService,this.abilityService,e.parent,i,s,P(e.level))),e instanceof e_&&(r=new e_(this.logService,this.abilityService,e.parent,i,s,P(e.level))),e instanceof o_&&(r=new o_(this.logService,this.abilityService,e.parent,i,s,P(e.level))),e instanceof n_&&(r=new n_(this.logService,this.abilityService,e.parent,i,s,P(e.level))),e instanceof Zv&&(r=new Zv(this.logService,this.abilityService,e.parent,i,s,P(e.level))),e instanceof zv&&(r=new zv(this.logService,this.abilityService,e.parent,i,s,P(e.level))),e instanceof u_&&(r=new u_(this.logService,this.abilityService,e.parent,i,s,P(e.level))),e instanceof fh&&(r=new fh(this.logService,this.abilityService,e.parent,i,s,P(e.level))),e instanceof Xv&&(r=new Xv(this.logService,this.abilityService,e.parent,i,s,P(e.level))),e instanceof d_&&(r=new d_(this.logService,this.abilityService,e.parent,i,s,P(e.level))),e instanceof h_&&(r=new h_(this.logService,this.abilityService,e.parent,i,s,P(e.level))),e instanceof uh&&(r=new uh(this.logService,this.abilityService,e.parent,i,s,P(e.level))),e instanceof Pp&&(r=new Pp(this.logService,this.abilityService,e.parent,i,s,P(e.level))),e instanceof Sk&&(r=new Sk(this.logService,this.abilityService,e.parent,i,s,P(e.level))),e instanceof Ek&&(r=new Ek(this.logService,this.abilityService,e.parent,i,s,P(e.level))),e instanceof wk&&(r=new wk(this.logService,this.abilityService,e.parent,i,s,P(e.level))),e instanceof Ck&&(r=new Ck(this.logService,this.abilityService,e.parent,i,s,P(e.level))),e instanceof Dk&&(r=new Dk(this.logService,this.abilityService,e.parent,i,s,P(e.level))),e instanceof Ak&&(r=new Ak(this.logService,this.abilityService,e.parent,i,s,P(e.level))),e instanceof Pk&&(r=new Pk(this.logService,this.abilityService,e.parent,i,s,P(e.level))),e instanceof kk&&(r=new kk(this.logService,this.abilityService,e.parent,i,s,P(e.level))),e instanceof Tk&&(r=new Tk(this.logService,this.abilityService,e.parent,i,s,P(e.level))),e instanceof xk&&(r=new xk(this.logService,this.abilityService,e.parent,i,s,P(e.level))),e instanceof Rk&&(r=new Rk(this.logService,this.abilityService,this,this.gameService,e.parent,i,s,P(e.level))),e instanceof Mp&&(r=new Mp(this.logService,this.abilityService,e.parent,i,s,P(e.level))),e instanceof Lk&&(r=new Lk(this.logService,this.abilityService,e.parent,i,s,P(e.level))),e instanceof Fk&&(r=new Fk(this.logService,this.abilityService,e.parent,i,s,P(e.level))),e instanceof Vk&&(r=new Vk(this.logService,this.abilityService,e.parent,i,s,P(e.level))),e instanceof Bk&&(r=new Bk(this.logService,this.abilityService,this,e.parent,i,s,P(e.level))),e instanceof $k&&(r=new $k(this.logService,this.abilityService,e.parent,i,s,P(e.level))),e instanceof Hk&&(r=new Hk(this.logService,this.abilityService,e.parent,i,s,P(e.level))),r}getRandomPet(e){let s,i=Fo(1,6);s="Turtle"==e.pack?this.turtlePackPets.get(i):"Puppy"==e.pack?this.puppyPackPets.get(i):"Star"==e.pack?this.starPackPets.get(i):"Golden"==e.pack?this.goldenPackPets.get(i):this.playerCustomPackPets.get(e.pack).get(i);let o=s[Fo(0,s.length-1)];return this.createPet({attack:null,equipment:null,exp:Fo(0,5),health:null,name:o},e)}getRandomFaintPet(e){let i=["Ant","Cricket","Rat","Hedgehog","Flamingo","Spider","Badger","Sheep","Turtle","Deer","Rooster","Mammoth","Beluga Sturgeon","Hoopoe Bird","Mole","Pangolin","Microbe","Tahr","Chameleon","Stonefish","Chicken","Eagle","Snapping Turtle","Lionfish","Stork","Blobfish","Anteater","Groundhog","Pied Tamarin","Black Necked Stilt","Squid","Flea","Weasel","Betta Fish","Osprey","Cuttlefish","Vaquita","Slug","Nyala","Nurse Shark","Beluga Whale","Wolf","Fire Ant","Warthog","Bear","Tapir","Walrus"],s=i[Fo(0,i.length-1)];return this.createPet({name:s,attack:null,equipment:null,exp:0,health:null},e)}}return n.\u0275fac=function(e){return new(e||n)(B(p_),B(g_),B(ph))},n.\u0275prov=se({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function P(n){return 1==n?0:2==n?2:5}let Wk=(()=>{class n{constructor(e,i,s,r){this.logService=e,this.abilityService=i,this.petService=s,this.gameService=r}getInstanceOfAllEquipment(){let e=new Map;return e.set("Garlic",new kp),e.set("Meat Bone",new _0),e.set("Steak",new pL),e.set("Melon",new Oa),e.set("Honey",new i_(this.logService,this.abilityService)),e.set("Chili",new Ap(this.logService,this.abilityService)),e.set("Mushroom",new gL(this.logService,this.abilityService,this.petService)),e.set("Coconut",new Na),e.set("Peanut",new ic),e.set("Croissant",new mL),e.set("Rice",new s_),e.set("Egg",new Tp(this.logService,this.abilityService)),e.set("Salt",new Gv),e.set("Pie",new Mk),e.set("Skewer",new a_(this.logService)),e.set("Lemon",new yL),e.set("Pancakes",new Ik),e.set("Strawberry",new vL),e.set("Cucumber",new _L),e.set("Cheese",new Uv),e.set("Grapes",new AL),e.set("Carrot",new DL),e.set("Pepper",new jv),e.set("Popcorn",new PL(this.logService,this.abilityService,this.petService,this.gameService)),e.set("Cherry",new SL),e.set("Chocolate Cake",new f_(this.logService)),e.set("Eggplant",new Ok(this.logService)),e.set("Potato",new wL),e.set("Banana",new bL(this.logService,this.abilityService)),e.set("Onion",new pD(this.logService)),e.set("Pita Bread",new Nk(this.logService)),e.set("Tomato",new CL(this.logService,this.abilityService)),e.set("Durian",new EL(this.logService,this.abilityService)),e.set("Fortune Cookie",new Wv),e.set("Blueberry",new kL),e.set("Donut",new TL),e.set("Pineapple",new xL),e.set("Fig",new ML),e}}return n.\u0275fac=function(e){return new(e||n)(B(p_),B(g_),B(m_),B(ph))},n.\u0275prov=se({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function z8(n,t){if(1&n){const e=Io();m(0,"span",19),qe("click",function(){return Pi(e),Qt().setExp(0)}),T(1,"x"),y()}}function K8(n,t){if(1&n&&(m(0,"option",22),T(1),y()),2&n){const e=t.$implicit,i=Qt(2);Y("ngValue",e)("hidden",i.optionHidden(e))("disabled",i.optionHidden(e)),G(1),Fi(e)}}function Y8(n,t){if(1&n&&(m(0,"optgroup",20),Je(1,K8,2,4,"option",21),y()),2&n){const e=t.$implicit;Y("label","Tier "+e.key),G(1),Y("ngForOf",e.value)}}function Q8(n,t){if(1&n){const e=Io();m(0,"button",23),qe("click",function(){return Pi(e),Qt().toggleFlyOut()}),T(1,">"),y()}}function Z8(n,t){if(1&n&&(m(0,"option",9),T(1),y()),2&n){const e=t.$implicit;Y("ngValue",e),G(1),Fi(e)}}function J8(n,t){if(1&n&&(m(0,"optgroup",20),Je(1,Z8,2,2,"option",15),y()),2&n){const e=t.$implicit;Y("label","Tier "+e.key),G(1),Y("ngForOf",e.value)}}function X8(n,t){if(1&n&&(m(0,"div",24),m(1,"label",25),T(2,"Swallowed Pet"),y(),m(3,"select",26),m(4,"option",9),T(5,"None"),y(),Je(6,J8,2,2,"optgroup",10),Xu(7,"keyvalue"),y(),y()),2&n){const e=Qt();G(4),Y("ngValue",null),G(2),Y("ngForOf",eh(7,2,e.pets))}}function ej(n,t){if(1&n&&(m(0,"option",9),T(1),y()),2&n){const e=t.$implicit;Y("ngValue",e.value),G(1),Fi(e.key)}}let IL=(()=>{class n{constructor(e,i){this.petService=e,this.equipmentService=i,this.showFlyOut=!1}ngOnInit(){this.initSelector(),this.fixLoadEquipment()}initSelector(){this.initPets(),this.initEquipment(),this.initForm()}initPets(){this.pets=new Map;for(let e=1;e<=6;e++)this.pets.set(e,[]);for(let[e,i]of this.petService.turtlePackPets)this.pets.get(e).push(...i);for(let[e,i]of this.petService.puppyPackPets)this.pets.get(e).push(...i);for(let[e,i]of this.petService.starPackPets)this.pets.get(e).push(...i);for(let[e,i]of this.petService.goldenPackPets)this.pets.get(e).push(...i);for(let[e,i]of this.petService.customPackPets)this.pets.get(e).push(...i);for(let[e,i]of this.pets)this.pets.set(e,[...new Set(i)])}getPack(e){let i;if("Turtle"==e.pack)i=this.petService.turtlePackPets;else if("Puppy"==e.pack)i=this.petService.puppyPackPets;else if("Star"==e.pack)i=this.petService.starPackPets;else if("Golden"==e.pack)i=this.petService.goldenPackPets;else try{i=this.buildCustomPack(e.pack)}catch(s){i=this.petService.turtlePackPets}return(0,xe.cloneDeep)(i)}buildCustomPack(e){let i;for(let r of this.customPacks.controls)if(r.get("name").value==e){i=r;break}let s=new Map;for(let r=1;r<=6;r++)s.set(r,i.get(`tier${r}Pets`).value);return s}initEquipment(){this.equipment=this.equipmentService.getInstanceOfAllEquipment()}initForm(){this.formGroup.get("name").valueChanges.subscribe(e=>{null!=e?this.substitutePet(!0):this.removePet()}),this.formGroup.get("attack").valueChanges.subscribe(()=>{this.substitutePet(!1)}),this.formGroup.get("health").valueChanges.subscribe(()=>{this.substitutePet(!1)}),this.formGroup.get("exp").valueChanges.subscribe(()=>{this.substitutePet(!1)}),this.formGroup.get("equipment").valueChanges.subscribe(()=>{this.substitutePet(!1)}),this.formGroup.get("belugaSwallowedPet").valueChanges.subscribe(e=>{this.setBelugaSwallow(e)})}setExp(e){this.formGroup.get("exp").setValue(e)}getIsSelected(e){return this.formGroup.get("exp").value>=e}showRemoveExp(){return this.formGroup.get("exp").value>0}substitutePet(e=!1){setTimeout(()=>{let i=this.formGroup.value;e&&(i.attack=null,i.health=null);let s=this.petService.createPet(i,this.player);this.player.setPet(this.index,s,!0),console.log("pet substituted",this.player),e&&(this.formGroup.get("attack").setValue(s.attack,{emitEvent:!1}),this.formGroup.get("health").setValue(s.health,{emitEvent:!1}))})}setBelugaSwallow(e){let i=this.player.getPet(this.index);i.belugaSwallowedPet=e,console.log(i)}showFlyOutButton(){return"Beluga Whale"==this.formGroup.get("name").value}toggleFlyOut(){this.showFlyOut=!this.showFlyOut}removePet(){this.player.setPet(this.index,null,!0),this.formGroup.get("name").setValue(null,{emitEvent:!1}),this.formGroup.get("attack").setValue(0,{emitEvent:!1}),this.formGroup.get("health").setValue(0,{emitEvent:!1}),this.formGroup.get("exp").setValue(0,{emitEvent:!1}),this.formGroup.get("equipment").setValue(null,{emitEvent:!1})}optionHidden(e){var i;if(this.allPets)return!1;let s=this.getPack(this.player);for(let[r,o]of s)if(o.includes(e))return!1;if(this.angler){let r=this.getPack(this.opponent);for(let[o,a]of r)if(a.includes(e))return!1}return(null===(i=this.player.getPet(this.index))||void 0===i?void 0:i.name)!=e}fixLoadEquipment(){let e=this.formGroup.get("equipment").value;null!=e&&this.formGroup.get("equipment").setValue(this.equipment.get(e.name))}}return n.\u0275fac=function(e){return new(e||n)(V(m_),V(Wk))},n.\u0275cmp=zi({type:n,selectors:[["app-pet-selector"]],inputs:{pet:"pet",player:"player",opponent:"opponent",index:"index",angler:"angler",allPets:"allPets",formGroup:"formGroup",customPacks:"customPacks"},decls:36,vars:22,consts:[[1,"card","p-3"],[1,"row","form-group",3,"formGroup"],[1,"col-12","d-flex","level-bar-numbers","mb-1"],[1,"level-3"],[1,"col-12","d-flex","level-bar","mb-2"],["class","remove-exp",3,"click",4,"ngIf"],[3,"click"],[1,"col-12","mb-2","d-flex"],["formControlName","name",1,"form-control"],[3,"ngValue"],[3,"label",4,"ngFor","ngForOf"],["class","btn btn-secondary",3,"click",4,"ngIf"],["class","fly-out border p-3",4,"ngIf"],[1,"col-12","mb-2"],["formControlName","equipment",1,"form-control"],[3,"ngValue",4,"ngFor","ngForOf"],[1,"col-6"],["formControlName","attack","type","number","min","1","max","50",1,"form-control","select-attack"],["formControlName","health","type","number","min","1","max","50",1,"form-control","select-health"],[1,"remove-exp",3,"click"],[3,"label"],[3,"ngValue","hidden","disabled",4,"ngFor","ngForOf"],[3,"ngValue","hidden","disabled"],[1,"btn","btn-secondary",3,"click"],[1,"fly-out","border","p-3"],["for","belugaSwallowedPet"],["formControlName","belugaSwallowedPet",1,"form-control"]],template:function(e,i){1&e&&(m(0,"div",0),m(1,"div",1),m(2,"div",2),m(3,"span"),T(4,"1"),y(),ue(5,"span"),m(6,"span"),T(7,"2"),y(),ue(8,"span"),m(9,"span",3),T(10,"3"),y(),y(),m(11,"div",4),Je(12,z8,2,0,"span",5),m(13,"span",6),qe("click",function(){return i.setExp(1)}),y(),m(14,"span",6),qe("click",function(){return i.setExp(2)}),y(),m(15,"span",6),qe("click",function(){return i.setExp(3)}),y(),m(16,"span",6),qe("click",function(){return i.setExp(4)}),y(),m(17,"span",6),qe("click",function(){return i.setExp(5)}),y(),y(),m(18,"div",7),m(19,"select",8),m(20,"option",9),T(21,"None"),y(),Je(22,Y8,2,2,"optgroup",10),Xu(23,"keyvalue"),y(),Je(24,Q8,2,0,"button",11),Je(25,X8,8,4,"div",12),y(),m(26,"div",13),m(27,"select",14),m(28,"option",9),T(29,"None"),y(),Je(30,ej,2,2,"option",15),Xu(31,"keyvalue"),y(),y(),m(32,"div",16),ue(33,"input",17),y(),m(34,"div",16),ue(35,"input",18),y(),y(),y()),2&e&&(G(1),Y("formGroup",i.formGroup),G(11),Y("ngIf",i.showRemoveExp()),G(1),As(i.getIsSelected(1)?"selected":""),G(1),As(i.getIsSelected(2)?"selected":""),G(1),As(i.getIsSelected(3)?"selected":""),G(1),As(i.getIsSelected(4)?"selected":""),G(1),As(i.getIsSelected(5)?"selected":""),G(3),Y("ngValue",null),G(2),Y("ngForOf",eh(23,18,i.pets)),G(2),Y("ngIf",i.showFlyOutButton()),G(1),Y("ngIf",i.showFlyOut),G(3),Y("ngValue",null),G(2),Y("ngForOf",eh(31,20,i.equipment)))},directives:[nc,Lo,oh,Dp,tc,Ia,cD,hD,mp,Ro,$v,dD,Hv],pipes:[MC],styles:[".select-attack[_ngcontent-%COMP%]{background-color:gray;color:#fff}.select-health[_ngcontent-%COMP%]{background-color:#ca0202;color:#fff}.select-attack[_ngcontent-%COMP%], .select-health[_ngcontent-%COMP%]{font-size:1.5em;padding-right:0}.level-bar[_ngcontent-%COMP%], .level-bar-numbers[_ngcontent-%COMP%]{height:1em}.level-bar[_ngcontent-%COMP%]   span[_ngcontent-%COMP%], .level-bar-numbers[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{width:calc(100% / 5);height:100%}.level-bar[_ngcontent-%COMP%]{position:relative}.level-bar[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{cursor:pointer;border:2px solid black;background-color:#9c5900;border-radius:20%}.level-bar[_ngcontent-%COMP%]   .remove-exp[_ngcontent-%COMP%]{border:initial;background-color:initial;border-radius:initial;width:initial;position:absolute;left:0;bottom:.33em}.level-bar[_ngcontent-%COMP%]   span.selected[_ngcontent-%COMP%]{background-color:#feb900}.level-3[_ngcontent-%COMP%]{text-align:right}.fly-out[_ngcontent-%COMP%]{position:absolute;left:100%;background-color:#fff;width:100%;z-index:1;box-shadow:12px 4px 9px 7px #0000001a}"]}),n})();var Ei="top",ss="bottom",rs="right",wi="left",y_="auto",gh=[Ei,ss,rs,wi],sc="start",mh="end",OL="clippingParents",zk="viewport",yh="popper",NL="reference",Kk=gh.reduce(function(n,t){return n.concat([t+"-"+sc,t+"-"+mh])},[]),Yk=[].concat(gh,[y_]).reduce(function(n,t){return n.concat([t,t+"-"+sc,t+"-"+mh])},[]),RL="beforeRead",LL="read",FL="afterRead",VL="beforeMain",BL="main",$L="afterMain",HL="beforeWrite",qL="write",GL="afterWrite",UL=[RL,LL,FL,VL,BL,$L,HL,qL,GL];function Vr(n){return n?(n.nodeName||"").toLowerCase():null}function os(n){if(null==n)return window;if("[object Window]"!==n.toString()){var t=n.ownerDocument;return t&&t.defaultView||window}return n}function rc(n){return n instanceof os(n).Element||n instanceof Element}function Os(n){return n instanceof os(n).HTMLElement||n instanceof HTMLElement}function Qk(n){return"undefined"!=typeof ShadowRoot&&(n instanceof os(n).ShadowRoot||n instanceof ShadowRoot)}const Zk={name:"applyStyles",enabled:!0,phase:"write",fn:function(n){var t=n.state;Object.keys(t.elements).forEach(function(e){var i=t.styles[e]||{},s=t.attributes[e]||{},r=t.elements[e];!Os(r)||!Vr(r)||(Object.assign(r.style,i),Object.keys(s).forEach(function(o){var a=s[o];!1===a?r.removeAttribute(o):r.setAttribute(o,!0===a?"":a)}))})},effect:function(n){var t=n.state,e={popper:{position:t.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(t.elements.popper.style,e.popper),t.styles=e,t.elements.arrow&&Object.assign(t.elements.arrow.style,e.arrow),function(){Object.keys(t.elements).forEach(function(i){var s=t.elements[i],r=t.attributes[i]||{},a=Object.keys(t.styles.hasOwnProperty(i)?t.styles[i]:e[i]).reduce(function(u,h){return u[h]="",u},{});!Os(s)||!Vr(s)||(Object.assign(s.style,a),Object.keys(r).forEach(function(u){s.removeAttribute(u)}))})}},requires:["computeStyles"]};function Br(n){return n.split("-")[0]}var oc=Math.max,v_=Math.min,vh=Math.round;function Jk(){var n=navigator.userAgentData;return null!=n&&n.brands&&Array.isArray(n.brands)?n.brands.map(function(t){return t.brand+"/"+t.version}).join(" "):navigator.userAgent}function jL(){return!/^((?!chrome|android).)*safari/i.test(Jk())}function _h(n,t,e){void 0===t&&(t=!1),void 0===e&&(e=!1);var i=n.getBoundingClientRect(),s=1,r=1;t&&Os(n)&&(s=n.offsetWidth>0&&vh(i.width)/n.offsetWidth||1,r=n.offsetHeight>0&&vh(i.height)/n.offsetHeight||1);var a=(rc(n)?os(n):window).visualViewport,u=!jL()&&e,h=(i.left+(u&&a?a.offsetLeft:0))/s,f=(i.top+(u&&a?a.offsetTop:0))/r,p=i.width/s,v=i.height/r;return{width:p,height:v,top:f,right:h+p,bottom:f+v,left:h,x:h,y:f}}function Xk(n){var t=_h(n),e=n.offsetWidth,i=n.offsetHeight;return Math.abs(t.width-e)<=1&&(e=t.width),Math.abs(t.height-i)<=1&&(i=t.height),{x:n.offsetLeft,y:n.offsetTop,width:e,height:i}}function WL(n,t){var e=t.getRootNode&&t.getRootNode();if(n.contains(t))return!0;if(e&&Qk(e)){var i=t;do{if(i&&n.isSameNode(i))return!0;i=i.parentNode||i.host}while(i)}return!1}function Vo(n){return os(n).getComputedStyle(n)}function ij(n){return["table","td","th"].indexOf(Vr(n))>=0}function Ra(n){return((rc(n)?n.ownerDocument:n.document)||window.document).documentElement}function __(n){return"html"===Vr(n)?n:n.assignedSlot||n.parentNode||(Qk(n)?n.host:null)||Ra(n)}function zL(n){return Os(n)&&"fixed"!==Vo(n).position?n.offsetParent:null}function Ip(n){for(var t=os(n),e=zL(n);e&&ij(e)&&"static"===Vo(e).position;)e=zL(e);return e&&("html"===Vr(e)||"body"===Vr(e)&&"static"===Vo(e).position)?t:e||function(n){var t=/firefox/i.test(Jk());if(/Trident/i.test(Jk())&&Os(n)&&"fixed"===Vo(n).position)return null;var s=__(n);for(Qk(s)&&(s=s.host);Os(s)&&["html","body"].indexOf(Vr(s))<0;){var r=Vo(s);if("none"!==r.transform||"none"!==r.perspective||"paint"===r.contain||-1!==["transform","perspective"].indexOf(r.willChange)||t&&"filter"===r.willChange||t&&r.filter&&"none"!==r.filter)return s;s=s.parentNode}return null}(n)||t}function e1(n){return["top","bottom"].indexOf(n)>=0?"x":"y"}function Op(n,t,e){return oc(n,v_(t,e))}function YL(n){return Object.assign({},{top:0,right:0,bottom:0,left:0},n)}function QL(n,t){return t.reduce(function(e,i){return e[i]=n,e},{})}const ZL={name:"arrow",enabled:!0,phase:"main",fn:function(n){var t,e=n.state,i=n.name,s=n.options,r=e.elements.arrow,o=e.modifiersData.popperOffsets,a=Br(e.placement),u=e1(a),f=[wi,rs].indexOf(a)>=0?"height":"width";if(r&&o){var p=function(t,e){return YL("number"!=typeof(t="function"==typeof t?t(Object.assign({},e.rects,{placement:e.placement})):t)?t:QL(t,gh))}(s.padding,e),v=Xk(r),_="y"===u?Ei:wi,S="y"===u?ss:rs,D=e.rects.reference[f]+e.rects.reference[u]-o[u]-e.rects.popper[f],C=o[u]-e.rects.reference[u],L=Ip(r),N=L?"y"===u?L.clientHeight||0:L.clientWidth||0:0,ae=N/2-v[f]/2+(D/2-C/2),Ee=Op(p[_],ae,N-v[f]-p[S]);e.modifiersData[i]=((t={})[u]=Ee,t.centerOffset=Ee-ae,t)}},effect:function(n){var t=n.state,i=n.options.element,s=void 0===i?"[data-popper-arrow]":i;null!=s&&("string"==typeof s&&!(s=t.elements.popper.querySelector(s))||!WL(t.elements.popper,s)||(t.elements.arrow=s))},requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function bh(n){return n.split("-")[1]}var cj={top:"auto",right:"auto",bottom:"auto",left:"auto"};function JL(n){var t,e=n.popper,i=n.popperRect,s=n.placement,r=n.variation,o=n.offsets,a=n.position,u=n.gpuAcceleration,h=n.adaptive,f=n.roundOffsets,p=n.isFixed,v=o.x,_=void 0===v?0:v,S=o.y,D=void 0===S?0:S,C="function"==typeof f?f({x:_,y:D}):{x:_,y:D};_=C.x,D=C.y;var L=o.hasOwnProperty("x"),N=o.hasOwnProperty("y"),j=wi,U=Ei,ee=window;if(h){var ae=Ip(e),Ee="clientHeight",ot="clientWidth";ae===os(e)&&"static"!==Vo(ae=Ra(e)).position&&"absolute"===a&&(Ee="scrollHeight",ot="scrollWidth"),(s===Ei||(s===wi||s===rs)&&r===mh)&&(U=ss,D-=(p&&ae===ee&&ee.visualViewport?ee.visualViewport.height:ae[Ee])-i.height,D*=u?1:-1),s!==wi&&(s!==Ei&&s!==ss||r!==mh)||(j=rs,_-=(p&&ae===ee&&ee.visualViewport?ee.visualViewport.width:ae[ot])-i.width,_*=u?1:-1)}var wt,xt=Object.assign({position:a},h&&cj),sn=!0===f?function(n,t){var i=n.y,s=t.devicePixelRatio||1;return{x:vh(n.x*s)/s||0,y:vh(i*s)/s||0}}({x:_,y:D},os(e)):{x:_,y:D};return _=sn.x,D=sn.y,Object.assign({},xt,u?((wt={})[U]=N?"0":"",wt[j]=L?"0":"",wt.transform=(ee.devicePixelRatio||1)<=1?"translate("+_+"px, "+D+"px)":"translate3d("+_+"px, "+D+"px, 0)",wt):((t={})[U]=N?D+"px":"",t[j]=L?_+"px":"",t.transform="",t))}const t1={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:function(n){var t=n.state,e=n.options,i=e.gpuAcceleration,s=void 0===i||i,r=e.adaptive,o=void 0===r||r,a=e.roundOffsets,u=void 0===a||a,h={placement:Br(t.placement),variation:bh(t.placement),popper:t.elements.popper,popperRect:t.rects.popper,gpuAcceleration:s,isFixed:"fixed"===t.options.strategy};null!=t.modifiersData.popperOffsets&&(t.styles.popper=Object.assign({},t.styles.popper,JL(Object.assign({},h,{offsets:t.modifiersData.popperOffsets,position:t.options.strategy,adaptive:o,roundOffsets:u})))),null!=t.modifiersData.arrow&&(t.styles.arrow=Object.assign({},t.styles.arrow,JL(Object.assign({},h,{offsets:t.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:u})))),t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-placement":t.placement})},data:{}};var b_={passive:!0};const n1={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:function(n){var t=n.state,e=n.instance,i=n.options,s=i.scroll,r=void 0===s||s,o=i.resize,a=void 0===o||o,u=os(t.elements.popper),h=[].concat(t.scrollParents.reference,t.scrollParents.popper);return r&&h.forEach(function(f){f.addEventListener("scroll",e.update,b_)}),a&&u.addEventListener("resize",e.update,b_),function(){r&&h.forEach(function(f){f.removeEventListener("scroll",e.update,b_)}),a&&u.removeEventListener("resize",e.update,b_)}},data:{}};var fj={left:"right",right:"left",bottom:"top",top:"bottom"};function S_(n){return n.replace(/left|right|bottom|top/g,function(t){return fj[t]})}var pj={start:"end",end:"start"};function XL(n){return n.replace(/start|end/g,function(t){return pj[t]})}function i1(n){var t=os(n);return{scrollLeft:t.pageXOffset,scrollTop:t.pageYOffset}}function s1(n){return _h(Ra(n)).left+i1(n).scrollLeft}function r1(n){var t=Vo(n);return/auto|scroll|overlay|hidden/.test(t.overflow+t.overflowY+t.overflowX)}function e2(n){return["html","body","#document"].indexOf(Vr(n))>=0?n.ownerDocument.body:Os(n)&&r1(n)?n:e2(__(n))}function Np(n,t){var e;void 0===t&&(t=[]);var i=e2(n),s=i===(null==(e=n.ownerDocument)?void 0:e.body),r=os(i),o=s?[r].concat(r.visualViewport||[],r1(i)?i:[]):i,a=t.concat(o);return s?a:a.concat(Np(__(o)))}function o1(n){return Object.assign({},n,{left:n.x,top:n.y,right:n.x+n.width,bottom:n.y+n.height})}function t2(n,t,e){return t===zk?o1(function(n,t){var e=os(n),i=Ra(n),s=e.visualViewport,r=i.clientWidth,o=i.clientHeight,a=0,u=0;if(s){r=s.width,o=s.height;var h=jL();(h||!h&&"fixed"===t)&&(a=s.offsetLeft,u=s.offsetTop)}return{width:r,height:o,x:a+s1(n),y:u}}(n,e)):rc(t)?function(n,t){var e=_h(n,!1,"fixed"===t);return e.top=e.top+n.clientTop,e.left=e.left+n.clientLeft,e.bottom=e.top+n.clientHeight,e.right=e.left+n.clientWidth,e.width=n.clientWidth,e.height=n.clientHeight,e.x=e.left,e.y=e.top,e}(t,e):o1(function(n){var t,e=Ra(n),i=i1(n),s=null==(t=n.ownerDocument)?void 0:t.body,r=oc(e.scrollWidth,e.clientWidth,s?s.scrollWidth:0,s?s.clientWidth:0),o=oc(e.scrollHeight,e.clientHeight,s?s.scrollHeight:0,s?s.clientHeight:0),a=-i.scrollLeft+s1(n),u=-i.scrollTop;return"rtl"===Vo(s||e).direction&&(a+=oc(e.clientWidth,s?s.clientWidth:0)-r),{width:r,height:o,x:a,y:u}}(Ra(n)))}function n2(n){var u,t=n.reference,e=n.element,i=n.placement,s=i?Br(i):null,r=i?bh(i):null,o=t.x+t.width/2-e.width/2,a=t.y+t.height/2-e.height/2;switch(s){case Ei:u={x:o,y:t.y-e.height};break;case ss:u={x:o,y:t.y+t.height};break;case rs:u={x:t.x+t.width,y:a};break;case wi:u={x:t.x-e.width,y:a};break;default:u={x:t.x,y:t.y}}var h=s?e1(s):null;if(null!=h){var f="y"===h?"height":"width";switch(r){case sc:u[h]=u[h]-(t[f]/2-e[f]/2);break;case mh:u[h]=u[h]+(t[f]/2-e[f]/2)}}return u}function Sh(n,t){void 0===t&&(t={});var i=t.placement,s=void 0===i?n.placement:i,r=t.strategy,o=void 0===r?n.strategy:r,a=t.boundary,u=void 0===a?OL:a,h=t.rootBoundary,f=void 0===h?zk:h,p=t.elementContext,v=void 0===p?yh:p,_=t.altBoundary,S=void 0!==_&&_,D=t.padding,C=void 0===D?0:D,L=YL("number"!=typeof C?C:QL(C,gh)),j=n.rects.popper,U=n.elements[S?v===yh?NL:yh:v],ee=function(n,t,e,i){var s="clippingParents"===t?function(n){var t=Np(__(n)),i=["absolute","fixed"].indexOf(Vo(n).position)>=0&&Os(n)?Ip(n):n;return rc(i)?t.filter(function(s){return rc(s)&&WL(s,i)&&"body"!==Vr(s)}):[]}(n):[].concat(t),r=[].concat(s,[e]),a=r.reduce(function(u,h){var f=t2(n,h,i);return u.top=oc(f.top,u.top),u.right=v_(f.right,u.right),u.bottom=v_(f.bottom,u.bottom),u.left=oc(f.left,u.left),u},t2(n,r[0],i));return a.width=a.right-a.left,a.height=a.bottom-a.top,a.x=a.left,a.y=a.top,a}(rc(U)?U:U.contextElement||Ra(n.elements.popper),u,f,o),ae=_h(n.elements.reference),Ee=n2({reference:ae,element:j,strategy:"absolute",placement:s}),ot=o1(Object.assign({},j,Ee)),Xe=v===yh?ot:ae,Ze={top:ee.top-Xe.top+L.top,bottom:Xe.bottom-ee.bottom+L.bottom,left:ee.left-Xe.left+L.left,right:Xe.right-ee.right+L.right},xt=n.modifiersData.offset;if(v===yh&&xt){var sn=xt[s];Object.keys(Ze).forEach(function(wt){var Hi=[rs,ss].indexOf(wt)>=0?1:-1,qi=[Ei,ss].indexOf(wt)>=0?"y":"x";Ze[wt]+=sn[qi]*Hi})}return Ze}const s2={name:"flip",enabled:!0,phase:"main",fn:function(n){var t=n.state,e=n.options,i=n.name;if(!t.modifiersData[i]._skip){for(var s=e.mainAxis,r=void 0===s||s,o=e.altAxis,a=void 0===o||o,u=e.fallbackPlacements,h=e.padding,f=e.boundary,p=e.rootBoundary,v=e.altBoundary,_=e.flipVariations,S=void 0===_||_,D=e.allowedAutoPlacements,C=t.options.placement,L=Br(C),j=u||(L!==C&&S?function(n){if(Br(n)===y_)return[];var t=S_(n);return[XL(n),t,XL(t)]}(C):[S_(C)]),U=[C].concat(j).reduce(function(yt,Ur){return yt.concat(Br(Ur)===y_?function(n,t){void 0===t&&(t={});var s=t.boundary,r=t.rootBoundary,o=t.padding,a=t.flipVariations,u=t.allowedAutoPlacements,h=void 0===u?Yk:u,f=bh(t.placement),p=f?a?Kk:Kk.filter(function(S){return bh(S)===f}):gh,v=p.filter(function(S){return h.indexOf(S)>=0});0===v.length&&(v=p);var _=v.reduce(function(S,D){return S[D]=Sh(n,{placement:D,boundary:s,rootBoundary:r,padding:o})[Br(D)],S},{});return Object.keys(_).sort(function(S,D){return _[S]-_[D]})}(t,{placement:Ur,boundary:f,rootBoundary:p,padding:h,flipVariations:S,allowedAutoPlacements:D}):Ur)},[]),ee=t.rects.reference,ae=t.rects.popper,Ee=new Map,ot=!0,Xe=U[0],Ze=0;Ze<U.length;Ze++){var xt=U[Ze],sn=Br(xt),wt=bh(xt)===sc,Hi=[Ei,ss].indexOf(sn)>=0,qi=Hi?"width":"height",Q=Sh(t,{placement:xt,boundary:f,rootBoundary:p,altBoundary:v,padding:h}),ie=Hi?wt?rs:wi:wt?ss:Ei;ee[qi]>ae[qi]&&(ie=S_(ie));var we=S_(ie),Be=[];if(r&&Be.push(Q[sn]<=0),a&&Be.push(Q[ie]<=0,Q[we]<=0),Be.every(function(yt){return yt})){Xe=xt,ot=!1;break}Ee.set(xt,Be)}if(ot)for(var Gi=function(Ur){var ti=U.find(function(jr){var qs=Ee.get(jr);if(qs)return qs.slice(0,Ur).every(function(yr){return yr})});if(ti)return Xe=ti,"break"},vn=S?3:1;vn>0&&"break"!==Gi(vn);vn--);t.placement!==Xe&&(t.modifiersData[i]._skip=!0,t.placement=Xe,t.reset=!0)}},requiresIfExists:["offset"],data:{_skip:!1}};function r2(n,t,e){return void 0===e&&(e={x:0,y:0}),{top:n.top-t.height-e.y,right:n.right-t.width+e.x,bottom:n.bottom-t.height+e.y,left:n.left-t.width-e.x}}function o2(n){return[Ei,rs,ss,wi].some(function(t){return n[t]>=0})}const a2={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:function(n){var t=n.state,e=n.name,i=t.rects.reference,s=t.rects.popper,r=t.modifiersData.preventOverflow,o=Sh(t,{elementContext:"reference"}),a=Sh(t,{altBoundary:!0}),u=r2(o,i),h=r2(a,s,r),f=o2(u),p=o2(h);t.modifiersData[e]={referenceClippingOffsets:u,popperEscapeOffsets:h,isReferenceHidden:f,hasPopperEscaped:p},t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-reference-hidden":f,"data-popper-escaped":p})}},l2={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:function(n){var t=n.state,i=n.name,s=n.options.offset,r=void 0===s?[0,0]:s,o=Yk.reduce(function(f,p){return f[p]=function(n,t,e){var i=Br(n),s=[wi,Ei].indexOf(i)>=0?-1:1,r="function"==typeof e?e(Object.assign({},t,{placement:n})):e,o=r[0],a=r[1];return o=o||0,a=(a||0)*s,[wi,rs].indexOf(i)>=0?{x:a,y:o}:{x:o,y:a}}(p,t.rects,r),f},{}),a=o[t.placement],h=a.y;null!=t.modifiersData.popperOffsets&&(t.modifiersData.popperOffsets.x+=a.x,t.modifiersData.popperOffsets.y+=h),t.modifiersData[i]=o}},a1={name:"popperOffsets",enabled:!0,phase:"read",fn:function(n){var t=n.state;t.modifiersData[n.name]=n2({reference:t.rects.reference,element:t.rects.popper,strategy:"absolute",placement:t.placement})},data:{}},c2={name:"preventOverflow",enabled:!0,phase:"main",fn:function(n){var t=n.state,e=n.options,i=n.name,s=e.mainAxis,r=void 0===s||s,o=e.altAxis,a=void 0!==o&&o,v=e.tether,_=void 0===v||v,S=e.tetherOffset,D=void 0===S?0:S,C=Sh(t,{boundary:e.boundary,rootBoundary:e.rootBoundary,padding:e.padding,altBoundary:e.altBoundary}),L=Br(t.placement),N=bh(t.placement),j=!N,U=e1(L),ee=function(n){return"x"===n?"y":"x"}(U),ae=t.modifiersData.popperOffsets,Ee=t.rects.reference,ot=t.rects.popper,Xe="function"==typeof D?D(Object.assign({},t.rects,{placement:t.placement})):D,Ze="number"==typeof Xe?{mainAxis:Xe,altAxis:Xe}:Object.assign({mainAxis:0,altAxis:0},Xe),xt=t.modifiersData.offset?t.modifiersData.offset[t.placement]:null,sn={x:0,y:0};if(ae){if(r){var wt,Hi="y"===U?Ei:wi,qi="y"===U?ss:rs,Q="y"===U?"height":"width",ie=ae[U],we=ie+C[Hi],Be=ie-C[qi],jt=_?-ot[Q]/2:0,Gi=N===sc?Ee[Q]:ot[Q],vn=N===sc?-ot[Q]:-Ee[Q],cs=t.elements.arrow,yt=_&&cs?Xk(cs):{width:0,height:0},Ur=t.modifiersData["arrow#persistent"]?t.modifiersData["arrow#persistent"].padding:{top:0,right:0,bottom:0,left:0},ti=Ur[Hi],jr=Ur[qi],qs=Op(0,Ee[Q],yt[Q]),yr=j?Ee[Q]/2-jt-qs-ti-Ze.mainAxis:Gi-qs-ti-Ze.mainAxis,eg=j?-Ee[Q]/2+jt+qs+jr+Ze.mainAxis:vn+qs+jr+Ze.mainAxis,$T=t.elements.arrow&&Ip(t.elements.arrow),RB=null!=(wt=null==xt?void 0:xt[U])?wt:0,GJ=ie+eg-RB,LB=Op(_?v_(we,ie+yr-RB-($T?"y"===U?$T.clientTop||0:$T.clientLeft||0:0)):we,ie,_?oc(Be,GJ):Be);ae[U]=LB,sn[U]=LB-ie}if(a){var FB,_c=ae[ee],fb="y"===ee?"height":"width",VB=_c+C["x"===U?Ei:wi],BB=_c-C["x"===U?ss:rs],HT=-1!==[Ei,wi].indexOf(L),$B=null!=(FB=null==xt?void 0:xt[ee])?FB:0,HB=HT?VB:_c-Ee[fb]-ot[fb]-$B+Ze.altAxis,qB=HT?_c+Ee[fb]+ot[fb]-$B-Ze.altAxis:BB,GB=_&&HT?function(n,t,e){var i=Op(n,t,e);return i>e?e:i}(HB,_c,qB):Op(_?HB:VB,_c,_?qB:BB);ae[ee]=GB,sn[ee]=GB-_c}t.modifiersData[i]=sn}},requiresIfExists:["offset"]};function Ij(n,t,e){void 0===e&&(e=!1);var i=Os(t),s=Os(t)&&function(n){var t=n.getBoundingClientRect(),e=vh(t.width)/n.offsetWidth||1,i=vh(t.height)/n.offsetHeight||1;return 1!==e||1!==i}(t),r=Ra(t),o=_h(n,s,e),a={scrollLeft:0,scrollTop:0},u={x:0,y:0};return(i||!i&&!e)&&(("body"!==Vr(t)||r1(r))&&(a=function(n){return n!==os(n)&&Os(n)?function(n){return{scrollLeft:n.scrollLeft,scrollTop:n.scrollTop}}(n):i1(n)}(t)),Os(t)?((u=_h(t,!0)).x+=t.clientLeft,u.y+=t.clientTop):r&&(u.x=s1(r))),{x:o.left+a.scrollLeft-u.x,y:o.top+a.scrollTop-u.y,width:o.width,height:o.height}}function Oj(n){var t=new Map,e=new Set,i=[];function s(r){e.add(r.name),[].concat(r.requires||[],r.requiresIfExists||[]).forEach(function(a){if(!e.has(a)){var u=t.get(a);u&&s(u)}}),i.push(r)}return n.forEach(function(r){t.set(r.name,r)}),n.forEach(function(r){e.has(r.name)||s(r)}),i}function Rj(n){var t;return function(){return t||(t=new Promise(function(e){Promise.resolve().then(function(){t=void 0,e(n())})})),t}}var u2={placement:"bottom",modifiers:[],strategy:"absolute"};function h2(){for(var n=arguments.length,t=new Array(n),e=0;e<n;e++)t[e]=arguments[e];return!t.some(function(i){return!(i&&"function"==typeof i.getBoundingClientRect)})}function E_(n){void 0===n&&(n={});var e=n.defaultModifiers,i=void 0===e?[]:e,s=n.defaultOptions,r=void 0===s?u2:s;return function(a,u,h){void 0===h&&(h=r);var f={placement:"bottom",orderedModifiers:[],options:Object.assign({},u2,r),modifiersData:{},elements:{reference:a,popper:u},attributes:{},styles:{}},p=[],v=!1,_={state:f,setOptions:function(L){var N="function"==typeof L?L(f.options):L;D(),f.options=Object.assign({},r,f.options,N),f.scrollParents={reference:rc(a)?Np(a):a.contextElement?Np(a.contextElement):[],popper:Np(u)};var j=function(n){var t=Oj(n);return UL.reduce(function(e,i){return e.concat(t.filter(function(s){return s.phase===i}))},[])}(function(n){var t=n.reduce(function(e,i){var s=e[i.name];return e[i.name]=s?Object.assign({},s,i,{options:Object.assign({},s.options,i.options),data:Object.assign({},s.data,i.data)}):i,e},{});return Object.keys(t).map(function(e){return t[e]})}([].concat(i,f.options.modifiers)));return f.orderedModifiers=j.filter(function(U){return U.enabled}),f.orderedModifiers.forEach(function(C){var N=C.options,U=C.effect;if("function"==typeof U){var ee=U({state:f,name:C.name,instance:_,options:void 0===N?{}:N});p.push(ee||function(){})}}),_.update()},forceUpdate:function(){if(!v){var L=f.elements,N=L.reference,j=L.popper;if(h2(N,j)){f.rects={reference:Ij(N,Ip(j),"fixed"===f.options.strategy),popper:Xk(j)},f.reset=!1,f.placement=f.options.placement,f.orderedModifiers.forEach(function(Ze){return f.modifiersData[Ze.name]=Object.assign({},Ze.data)});for(var U=0;U<f.orderedModifiers.length;U++)if(!0!==f.reset){var ee=f.orderedModifiers[U],ae=ee.fn,Ee=ee.options;"function"==typeof ae&&(f=ae({state:f,options:void 0===Ee?{}:Ee,name:ee.name,instance:_})||f)}else f.reset=!1,U=-1}}},update:Rj(function(){return new Promise(function(C){_.forceUpdate(),C(f)})}),destroy:function(){D(),v=!0}};if(!h2(a,u))return _;function D(){p.forEach(function(C){return C()}),p=[]}return _.setOptions(h).then(function(C){!v&&h.onFirstUpdate&&h.onFirstUpdate(C)}),_}}var Fj=E_(),l1=E_({defaultModifiers:[n1,a1,t1,Zk,l2,s2,c2,ZL,a2]}),$j=E_({defaultModifiers:[n1,a1,t1,Zk]});const La=new Map,c1={set(n,t,e){La.has(n)||La.set(n,new Map);const i=La.get(n);i.has(t)||0===i.size?i.set(t,e):console.error(`Bootstrap doesn't allow more than one instance per element. Bound instance: ${Array.from(i.keys())[0]}.`)},get:(n,t)=>La.has(n)&&La.get(n).get(t)||null,remove(n,t){if(!La.has(n))return;const e=La.get(n);e.delete(t),0===e.size&&La.delete(n)}},u1="transitionend",d2=n=>(n&&window.CSS&&window.CSS.escape&&(n=n.replace(/#([^\s"#']+)/g,(t,e)=>`#${CSS.escape(e)}`)),n),Gj=n=>null==n?`${n}`:Object.prototype.toString.call(n).match(/\s([a-z]+)/i)[1].toLowerCase(),f2=n=>{n.dispatchEvent(new Event(u1))},Bo=n=>!(!n||"object"!=typeof n)&&(void 0!==n.jquery&&(n=n[0]),void 0!==n.nodeType),Fa=n=>Bo(n)?n.jquery?n[0]:n:"string"==typeof n&&n.length>0?document.querySelector(d2(n)):null,Eh=n=>{if(!Bo(n)||0===n.getClientRects().length)return!1;const t="visible"===getComputedStyle(n).getPropertyValue("visibility"),e=n.closest("details:not([open])");if(!e)return t;if(e!==n){const i=n.closest("summary");if(i&&i.parentNode!==e||null===i)return!1}return t},Va=n=>!(n&&n.nodeType===Node.ELEMENT_NODE&&!n.classList.contains("disabled"))||(void 0!==n.disabled?n.disabled:n.hasAttribute("disabled")&&"false"!==n.getAttribute("disabled")),p2=n=>{if(!document.documentElement.attachShadow)return null;if("function"==typeof n.getRootNode){const t=n.getRootNode();return t instanceof ShadowRoot?t:null}return n instanceof ShadowRoot?n:n.parentNode?p2(n.parentNode):null},w_=()=>{},g2=()=>window.jQuery&&!document.body.hasAttribute("data-bs-no-jquery")?window.jQuery:null,h1=[],Ns=()=>"rtl"===document.documentElement.dir,Rs=n=>{(n=>{"loading"===document.readyState?(h1.length||document.addEventListener("DOMContentLoaded",()=>{for(const t of h1)t()}),h1.push(n)):n()})(()=>{const t=g2();if(t){const e=n.NAME,i=t.fn[e];t.fn[e]=n.jQueryInterface,t.fn[e].Constructor=n,t.fn[e].noConflict=()=>(t.fn[e]=i,n.jQueryInterface)}})},Bi=(n,t=[],e=n)=>"function"==typeof n?n(...t):e,m2=(n,t,e=!0)=>{if(!e)return void Bi(n);const s=(n=>{if(!n)return 0;let{transitionDuration:t,transitionDelay:e}=window.getComputedStyle(n);const i=Number.parseFloat(t),s=Number.parseFloat(e);return i||s?(t=t.split(",")[0],e=e.split(",")[0],1e3*(Number.parseFloat(t)+Number.parseFloat(e))):0})(t)+5;let r=!1;const o=({target:a})=>{a===t&&(r=!0,t.removeEventListener(u1,o),Bi(n))};t.addEventListener(u1,o),setTimeout(()=>{r||f2(t)},s)},d1=(n,t,e,i)=>{const s=n.length;let r=n.indexOf(t);return-1===r?!e&&i?n[s-1]:n[0]:(r+=e?1:-1,i&&(r=(r+s)%s),n[Math.max(0,Math.min(r,s-1))])},zj=/[^.]*(?=\..*)\.|.*/,Kj=/\..*/,Yj=/::\d+$/,f1={};let y2=1;const v2={mouseenter:"mouseover",mouseleave:"mouseout"},Qj=new Set(["click","dblclick","mouseup","mousedown","contextmenu","mousewheel","DOMMouseScroll","mouseover","mouseout","mousemove","selectstart","selectend","keydown","keypress","keyup","orientationchange","touchstart","touchmove","touchend","touchcancel","pointerdown","pointermove","pointerup","pointerleave","pointercancel","gesturestart","gesturechange","gestureend","focus","blur","change","reset","select","submit","focusin","focusout","load","unload","beforeunload","resize","move","DOMContentLoaded","readystatechange","error","abort","scroll"]);function _2(n,t){return t&&`${t}::${y2++}`||n.uidEvent||y2++}function b2(n){const t=_2(n);return n.uidEvent=t,f1[t]=f1[t]||{},f1[t]}function S2(n,t,e=null){return Object.values(n).find(i=>i.callable===t&&i.delegationSelector===e)}function E2(n,t,e){const i="string"==typeof t,s=i?e:t||e;let r=C2(n);return Qj.has(r)||(r=n),[i,s,r]}function w2(n,t,e,i,s){if("string"!=typeof t||!n)return;let[r,o,a]=E2(t,e,i);var S;t in v2&&(S=o,o=function(D){if(!D.relatedTarget||D.relatedTarget!==D.delegateTarget&&!D.delegateTarget.contains(D.relatedTarget))return S.call(this,D)});const u=b2(n),h=u[a]||(u[a]={}),f=S2(h,o,r?e:null);if(f)return void(f.oneOff=f.oneOff&&s);const p=_2(o,t.replace(zj,"")),v=r?function(n,t,e){return function i(s){const r=n.querySelectorAll(t);for(let{target:o}=s;o&&o!==this;o=o.parentNode)for(const a of r)if(a===o)return g1(s,{delegateTarget:o}),i.oneOff&&K.off(n,s.type,t,e),e.apply(o,[s])}}(n,e,o):function(n,t){return function e(i){return g1(i,{delegateTarget:n}),e.oneOff&&K.off(n,i.type,t),t.apply(n,[i])}}(n,o);v.delegationSelector=r?e:null,v.callable=o,v.oneOff=s,v.uidEvent=p,h[p]=v,n.addEventListener(a,v,r)}function p1(n,t,e,i,s){const r=S2(t[e],i,s);!r||(n.removeEventListener(e,r,Boolean(s)),delete t[e][r.uidEvent])}function Xj(n,t,e,i){const s=t[e]||{};for(const[r,o]of Object.entries(s))r.includes(i)&&p1(n,t,e,o.callable,o.delegationSelector)}function C2(n){return n=n.replace(Kj,""),v2[n]||n}const K={on(n,t,e,i){w2(n,t,e,i,!1)},one(n,t,e,i){w2(n,t,e,i,!0)},off(n,t,e,i){if("string"!=typeof t||!n)return;const[s,r,o]=E2(t,e,i),a=o!==t,u=b2(n),h=u[o]||{},f=t.startsWith(".");if(void 0===r){if(f)for(const p of Object.keys(u))Xj(n,u,p,t.slice(1));for(const[p,v]of Object.entries(h)){const _=p.replace(Yj,"");(!a||t.includes(_))&&p1(n,u,o,v.callable,v.delegationSelector)}}else{if(!Object.keys(h).length)return;p1(n,u,o,r,s?e:null)}},trigger(n,t,e){if("string"!=typeof t||!n)return null;const i=g2();let o=null,a=!0,u=!0,h=!1;t!==C2(t)&&i&&(o=i.Event(t,e),i(n).trigger(o),a=!o.isPropagationStopped(),u=!o.isImmediatePropagationStopped(),h=o.isDefaultPrevented());const f=g1(new Event(t,{bubbles:a,cancelable:!0}),e);return h&&f.preventDefault(),u&&n.dispatchEvent(f),f.defaultPrevented&&o&&o.preventDefault(),f}};function g1(n,t={}){for(const[e,i]of Object.entries(t))try{n[e]=i}catch(s){Object.defineProperty(n,e,{configurable:!0,get:()=>i})}return n}function D2(n){if("true"===n)return!0;if("false"===n)return!1;if(n===Number(n).toString())return Number(n);if(""===n||"null"===n)return null;if("string"!=typeof n)return n;try{return JSON.parse(decodeURIComponent(n))}catch(t){return n}}function m1(n){return n.replace(/[A-Z]/g,t=>`-${t.toLowerCase()}`)}const $o={setDataAttribute(n,t,e){n.setAttribute(`data-bs-${m1(t)}`,e)},removeDataAttribute(n,t){n.removeAttribute(`data-bs-${m1(t)}`)},getDataAttributes(n){if(!n)return{};const t={},e=Object.keys(n.dataset).filter(i=>i.startsWith("bs")&&!i.startsWith("bsConfig"));for(const i of e){let s=i.replace(/^bs/,"");s=s.charAt(0).toLowerCase()+s.slice(1,s.length),t[s]=D2(n.dataset[i])}return t},getDataAttribute:(n,t)=>D2(n.getAttribute(`data-bs-${m1(t)}`))};class Lp{static get Default(){return{}}static get DefaultType(){return{}}static get NAME(){throw new Error('You have to implement the static method "NAME", for each component!')}_getConfig(t){return t=this._mergeConfigObj(t),t=this._configAfterMerge(t),this._typeCheckConfig(t),t}_configAfterMerge(t){return t}_mergeConfigObj(t,e){const i=Bo(e)?$o.getDataAttribute(e,"config"):{};return ni(ni(ni(ni({},this.constructor.Default),"object"==typeof i?i:{}),Bo(e)?$o.getDataAttributes(e):{}),"object"==typeof t?t:{})}_typeCheckConfig(t,e=this.constructor.DefaultType){for(const[i,s]of Object.entries(e)){const r=t[i],o=Bo(r)?"element":Gj(r);if(!new RegExp(s).test(o))throw new TypeError(`${this.constructor.NAME.toUpperCase()}: Option "${i}" provided type "${o}" but expected type "${s}".`)}}}class gr extends Lp{constructor(t,e){super(),(t=Fa(t))&&(this._element=t,this._config=this._getConfig(e),c1.set(this._element,this.constructor.DATA_KEY,this))}dispose(){c1.remove(this._element,this.constructor.DATA_KEY),K.off(this._element,this.constructor.EVENT_KEY);for(const t of Object.getOwnPropertyNames(this))this[t]=null}_queueCallback(t,e,i=!0){m2(t,e,i)}_getConfig(t){return t=this._mergeConfigObj(t,this._element),t=this._configAfterMerge(t),this._typeCheckConfig(t),t}static getInstance(t){return c1.get(Fa(t),this.DATA_KEY)}static getOrCreateInstance(t,e={}){return this.getInstance(t)||new this(t,"object"==typeof e?e:null)}static get VERSION(){return"5.3.1"}static get DATA_KEY(){return`bs.${this.NAME}`}static get EVENT_KEY(){return`.${this.DATA_KEY}`}static eventName(t){return`${t}${this.EVENT_KEY}`}}const y1=n=>{let t=n.getAttribute("data-bs-target");if(!t||"#"===t){let e=n.getAttribute("href");if(!e||!e.includes("#")&&!e.startsWith("."))return null;e.includes("#")&&!e.startsWith("#")&&(e=`#${e.split("#")[1]}`),t=e&&"#"!==e?e.trim():null}return d2(t)},me={find:(n,t=document.documentElement)=>[].concat(...Element.prototype.querySelectorAll.call(t,n)),findOne:(n,t=document.documentElement)=>Element.prototype.querySelector.call(t,n),children:(n,t)=>[].concat(...n.children).filter(e=>e.matches(t)),parents(n,t){const e=[];let i=n.parentNode.closest(t);for(;i;)e.push(i),i=i.parentNode.closest(t);return e},prev(n,t){let e=n.previousElementSibling;for(;e;){if(e.matches(t))return[e];e=e.previousElementSibling}return[]},next(n,t){let e=n.nextElementSibling;for(;e;){if(e.matches(t))return[e];e=e.nextElementSibling}return[]},focusableChildren(n){const t=["a","button","input","textarea","select","details","[tabindex]",'[contenteditable="true"]'].map(e=>`${e}:not([tabindex^="-"])`).join(",");return this.find(t,n).filter(e=>!Va(e)&&Eh(e))},getSelectorFromElement(n){const t=y1(n);return t&&me.findOne(t)?t:null},getElementFromSelector(n){const t=y1(n);return t?me.findOne(t):null},getMultipleElementsFromSelector(n){const t=y1(n);return t?me.find(t):[]}},C_=(n,t="hide")=>{const i=n.NAME;K.on(document,`click.dismiss${n.EVENT_KEY}`,`[data-bs-dismiss="${i}"]`,function(s){if(["A","AREA"].includes(this.tagName)&&s.preventDefault(),Va(this))return;const r=me.getElementFromSelector(this)||this.closest(`.${i}`);n.getOrCreateInstance(r)[t]()})},A2=".bs.alert",nW=`close${A2}`,iW=`closed${A2}`;class D_ extends gr{static get NAME(){return"alert"}close(){if(K.trigger(this._element,nW).defaultPrevented)return;this._element.classList.remove("show");const e=this._element.classList.contains("fade");this._queueCallback(()=>this._destroyElement(),this._element,e)}_destroyElement(){this._element.remove(),K.trigger(this._element,iW),this.dispose()}static jQueryInterface(t){return this.each(function(){const e=D_.getOrCreateInstance(this);if("string"==typeof t){if(void 0===e[t]||t.startsWith("_")||"constructor"===t)throw new TypeError(`No method named "${t}"`);e[t](this)}})}}C_(D_,"close"),Rs(D_);const P2='[data-bs-toggle="button"]';class A_ extends gr{static get NAME(){return"button"}toggle(){this._element.setAttribute("aria-pressed",this._element.classList.toggle("active"))}static jQueryInterface(t){return this.each(function(){const e=A_.getOrCreateInstance(this);"toggle"===t&&e[t]()})}}K.on(document,"click.bs.button.data-api",P2,n=>{n.preventDefault();const t=n.target.closest(P2);A_.getOrCreateInstance(t).toggle()}),Rs(A_);const wh=".bs.swipe",dW=`touchstart${wh}`,fW=`touchmove${wh}`,pW=`touchend${wh}`,gW=`pointerdown${wh}`,mW=`pointerup${wh}`,SW={endCallback:null,leftCallback:null,rightCallback:null},EW={endCallback:"(function|null)",leftCallback:"(function|null)",rightCallback:"(function|null)"};class P_ extends Lp{constructor(t,e){super(),this._element=t,t&&P_.isSupported()&&(this._config=this._getConfig(e),this._deltaX=0,this._supportPointerEvents=Boolean(window.PointerEvent),this._initEvents())}static get Default(){return SW}static get DefaultType(){return EW}static get NAME(){return"swipe"}dispose(){K.off(this._element,wh)}_start(t){this._supportPointerEvents?this._eventIsPointerPenTouch(t)&&(this._deltaX=t.clientX):this._deltaX=t.touches[0].clientX}_end(t){this._eventIsPointerPenTouch(t)&&(this._deltaX=t.clientX-this._deltaX),this._handleSwipe(),Bi(this._config.endCallback)}_move(t){this._deltaX=t.touches&&t.touches.length>1?0:t.touches[0].clientX-this._deltaX}_handleSwipe(){const t=Math.abs(this._deltaX);if(t<=40)return;const e=t/this._deltaX;this._deltaX=0,e&&Bi(e>0?this._config.rightCallback:this._config.leftCallback)}_initEvents(){this._supportPointerEvents?(K.on(this._element,gW,t=>this._start(t)),K.on(this._element,mW,t=>this._end(t)),this._element.classList.add("pointer-event")):(K.on(this._element,dW,t=>this._start(t)),K.on(this._element,fW,t=>this._move(t)),K.on(this._element,pW,t=>this._end(t)))}_eventIsPointerPenTouch(t){return this._supportPointerEvents&&("pen"===t.pointerType||"touch"===t.pointerType)}static isSupported(){return"ontouchstart"in document.documentElement||navigator.maxTouchPoints>0}}const Ba=".bs.carousel",k2=".data-api",Fp="next",Ch="prev",Dh="left",k_="right",PW=`slide${Ba}`,v1=`slid${Ba}`,kW=`keydown${Ba}`,TW=`mouseenter${Ba}`,xW=`mouseleave${Ba}`,MW=`dragstart${Ba}`,IW=`load${Ba}${k2}`,OW=`click${Ba}${k2}`,T2="carousel",T_="active",UW={ArrowLeft:k_,ArrowRight:Dh},jW={interval:5e3,keyboard:!0,pause:"hover",ride:!1,touch:!0,wrap:!0},WW={interval:"(number|boolean)",keyboard:"boolean",pause:"(string|boolean)",ride:"(boolean|string)",touch:"boolean",wrap:"boolean"};class Vp extends gr{constructor(t,e){super(t,e),this._interval=null,this._activeElement=null,this._isSliding=!1,this.touchTimeout=null,this._swipeHelper=null,this._indicatorsElement=me.findOne(".carousel-indicators",this._element),this._addEventListeners(),this._config.ride===T2&&this.cycle()}static get Default(){return jW}static get DefaultType(){return WW}static get NAME(){return"carousel"}next(){this._slide(Fp)}nextWhenVisible(){!document.hidden&&Eh(this._element)&&this.next()}prev(){this._slide(Ch)}pause(){this._isSliding&&f2(this._element),this._clearInterval()}cycle(){this._clearInterval(),this._updateInterval(),this._interval=setInterval(()=>this.nextWhenVisible(),this._config.interval)}_maybeEnableCycle(){if(this._config.ride){if(this._isSliding)return void K.one(this._element,v1,()=>this.cycle());this.cycle()}}to(t){const e=this._getItems();if(t>e.length-1||t<0)return;if(this._isSliding)return void K.one(this._element,v1,()=>this.to(t));const i=this._getItemIndex(this._getActive());i!==t&&this._slide(t>i?Fp:Ch,e[t])}dispose(){this._swipeHelper&&this._swipeHelper.dispose(),super.dispose()}_configAfterMerge(t){return t.defaultInterval=t.interval,t}_addEventListeners(){this._config.keyboard&&K.on(this._element,kW,t=>this._keydown(t)),"hover"===this._config.pause&&(K.on(this._element,TW,()=>this.pause()),K.on(this._element,xW,()=>this._maybeEnableCycle())),this._config.touch&&P_.isSupported()&&this._addTouchEventListeners()}_addTouchEventListeners(){for(const i of me.find(".carousel-item img",this._element))K.on(i,MW,s=>s.preventDefault());this._swipeHelper=new P_(this._element,{leftCallback:()=>this._slide(this._directionToOrder(Dh)),rightCallback:()=>this._slide(this._directionToOrder(k_)),endCallback:()=>{"hover"===this._config.pause&&(this.pause(),this.touchTimeout&&clearTimeout(this.touchTimeout),this.touchTimeout=setTimeout(()=>this._maybeEnableCycle(),500+this._config.interval))}})}_keydown(t){if(/input|textarea/i.test(t.target.tagName))return;const e=UW[t.key];e&&(t.preventDefault(),this._slide(this._directionToOrder(e)))}_getItemIndex(t){return this._getItems().indexOf(t)}_setActiveIndicatorElement(t){if(!this._indicatorsElement)return;const e=me.findOne(".active",this._indicatorsElement);e.classList.remove(T_),e.removeAttribute("aria-current");const i=me.findOne(`[data-bs-slide-to="${t}"]`,this._indicatorsElement);i&&(i.classList.add(T_),i.setAttribute("aria-current","true"))}_updateInterval(){const t=this._activeElement||this._getActive();if(!t)return;const e=Number.parseInt(t.getAttribute("data-bs-interval"),10);this._config.interval=e||this._config.defaultInterval}_slide(t,e=null){if(this._isSliding)return;const i=this._getActive(),s=t===Fp,r=e||d1(this._getItems(),i,s,this._config.wrap);if(r===i)return;const o=this._getItemIndex(r),a=_=>K.trigger(this._element,_,{relatedTarget:r,direction:this._orderToDirection(t),from:this._getItemIndex(i),to:o});if(a(PW).defaultPrevented||!i||!r)return;const h=Boolean(this._interval);this.pause(),this._isSliding=!0,this._setActiveIndicatorElement(o),this._activeElement=r;const f=s?"carousel-item-start":"carousel-item-end",p=s?"carousel-item-next":"carousel-item-prev";r.classList.add(p),i.classList.add(f),r.classList.add(f),this._queueCallback(()=>{r.classList.remove(f,p),r.classList.add(T_),i.classList.remove(T_,p,f),this._isSliding=!1,a(v1)},i,this._isAnimated()),h&&this.cycle()}_isAnimated(){return this._element.classList.contains("slide")}_getActive(){return me.findOne(".active.carousel-item",this._element)}_getItems(){return me.find(".carousel-item",this._element)}_clearInterval(){this._interval&&(clearInterval(this._interval),this._interval=null)}_directionToOrder(t){return Ns()?t===Dh?Ch:Fp:t===Dh?Fp:Ch}_orderToDirection(t){return Ns()?t===Ch?Dh:k_:t===Ch?k_:Dh}static jQueryInterface(t){return this.each(function(){const e=Vp.getOrCreateInstance(this,t);if("number"!=typeof t){if("string"==typeof t){if(void 0===e[t]||t.startsWith("_")||"constructor"===t)throw new TypeError(`No method named "${t}"`);e[t]()}}else e.to(t)})}}K.on(document,OW,"[data-bs-slide], [data-bs-slide-to]",function(n){const t=me.getElementFromSelector(this);if(!t||!t.classList.contains(T2))return;n.preventDefault();const e=Vp.getOrCreateInstance(t),i=this.getAttribute("data-bs-slide-to");return i?(e.to(i),void e._maybeEnableCycle()):"next"===$o.getDataAttribute(this,"slide")?(e.next(),void e._maybeEnableCycle()):(e.prev(),void e._maybeEnableCycle())}),K.on(window,IW,()=>{const n=me.find('[data-bs-ride="carousel"]');for(const t of n)Vp.getOrCreateInstance(t)}),Rs(Vp);const Bp=".bs.collapse",YW=`show${Bp}`,QW=`shown${Bp}`,ZW=`hide${Bp}`,JW=`hidden${Bp}`,XW=`click${Bp}.data-api`,_1="show",Ah="collapse",x_="collapsing",t7=`:scope .${Ah} .${Ah}`,b1='[data-bs-toggle="collapse"]',o7={parent:null,toggle:!0},a7={parent:"(null|element)",toggle:"boolean"};class $p extends gr{constructor(t,e){super(t,e),this._isTransitioning=!1,this._triggerArray=[];const i=me.find(b1);for(const s of i){const r=me.getSelectorFromElement(s),o=me.find(r).filter(a=>a===this._element);null!==r&&o.length&&this._triggerArray.push(s)}this._initializeChildren(),this._config.parent||this._addAriaAndCollapsedClass(this._triggerArray,this._isShown()),this._config.toggle&&this.toggle()}static get Default(){return o7}static get DefaultType(){return a7}static get NAME(){return"collapse"}toggle(){this._isShown()?this.hide():this.show()}show(){if(this._isTransitioning||this._isShown())return;let t=[];if(this._config.parent&&(t=this._getFirstLevelChildren(".collapse.show, .collapse.collapsing").filter(a=>a!==this._element).map(a=>$p.getOrCreateInstance(a,{toggle:!1}))),t.length&&t[0]._isTransitioning||K.trigger(this._element,YW).defaultPrevented)return;for(const a of t)a.hide();const i=this._getDimension();this._element.classList.remove(Ah),this._element.classList.add(x_),this._element.style[i]=0,this._addAriaAndCollapsedClass(this._triggerArray,!0),this._isTransitioning=!0;const o=`scroll${i[0].toUpperCase()+i.slice(1)}`;this._queueCallback(()=>{this._isTransitioning=!1,this._element.classList.remove(x_),this._element.classList.add(Ah,_1),this._element.style[i]="",K.trigger(this._element,QW)},this._element,!0),this._element.style[i]=`${this._element[o]}px`}hide(){if(this._isTransitioning||!this._isShown()||K.trigger(this._element,ZW).defaultPrevented)return;const e=this._getDimension();this._element.style[e]=`${this._element.getBoundingClientRect()[e]}px`,this._element.classList.add(x_),this._element.classList.remove(Ah,_1);for(const s of this._triggerArray){const r=me.getElementFromSelector(s);r&&!this._isShown(r)&&this._addAriaAndCollapsedClass([s],!1)}this._isTransitioning=!0,this._element.style[e]="",this._queueCallback(()=>{this._isTransitioning=!1,this._element.classList.remove(x_),this._element.classList.add(Ah),K.trigger(this._element,JW)},this._element,!0)}_isShown(t=this._element){return t.classList.contains(_1)}_configAfterMerge(t){return t.toggle=Boolean(t.toggle),t.parent=Fa(t.parent),t}_getDimension(){return this._element.classList.contains("collapse-horizontal")?"width":"height"}_initializeChildren(){if(!this._config.parent)return;const t=this._getFirstLevelChildren(b1);for(const e of t){const i=me.getElementFromSelector(e);i&&this._addAriaAndCollapsedClass([e],this._isShown(i))}}_getFirstLevelChildren(t){const e=me.find(t7,this._config.parent);return me.find(t,this._config.parent).filter(i=>!e.includes(i))}_addAriaAndCollapsedClass(t,e){if(t.length)for(const i of t)i.classList.toggle("collapsed",!e),i.setAttribute("aria-expanded",e)}static jQueryInterface(t){const e={};return"string"==typeof t&&/show|hide/.test(t)&&(e.toggle=!1),this.each(function(){const i=$p.getOrCreateInstance(this,e);if("string"==typeof t){if(void 0===i[t])throw new TypeError(`No method named "${t}"`);i[t]()}})}}K.on(document,XW,b1,function(n){("A"===n.target.tagName||n.delegateTarget&&"A"===n.delegateTarget.tagName)&&n.preventDefault();for(const t of me.getMultipleElementsFromSelector(this))$p.getOrCreateInstance(t,{toggle:!1}).toggle()}),Rs($p);const I2="dropdown",ac=".bs.dropdown",S1=".data-api",c7="ArrowUp",N2="ArrowDown",h7=`hide${ac}`,d7=`hidden${ac}`,f7=`show${ac}`,p7=`shown${ac}`,R2=`click${ac}${S1}`,L2=`keydown${ac}${S1}`,g7=`keyup${ac}${S1}`,Ph="show",lc='[data-bs-toggle="dropdown"]:not(.disabled):not(:disabled)',S7=`${lc}.show`,M_=".dropdown-menu",D7=Ns()?"top-end":"top-start",A7=Ns()?"top-start":"top-end",P7=Ns()?"bottom-end":"bottom-start",k7=Ns()?"bottom-start":"bottom-end",T7=Ns()?"left-start":"right-start",x7=Ns()?"right-start":"left-start",O7={autoClose:!0,boundary:"clippingParents",display:"dynamic",offset:[0,2],popperConfig:null,reference:"toggle"},N7={autoClose:"(boolean|string)",boundary:"(string|element)",display:"string",offset:"(array|string|function)",popperConfig:"(null|object|function)",reference:"(string|element|object)"};class $r extends gr{constructor(t,e){super(t,e),this._popper=null,this._parent=this._element.parentNode,this._menu=me.next(this._element,M_)[0]||me.prev(this._element,M_)[0]||me.findOne(M_,this._parent),this._inNavbar=this._detectNavbar()}static get Default(){return O7}static get DefaultType(){return N7}static get NAME(){return I2}toggle(){return this._isShown()?this.hide():this.show()}show(){if(Va(this._element)||this._isShown())return;const t={relatedTarget:this._element};if(!K.trigger(this._element,f7,t).defaultPrevented){if(this._createPopper(),"ontouchstart"in document.documentElement&&!this._parent.closest(".navbar-nav"))for(const i of[].concat(...document.body.children))K.on(i,"mouseover",w_);this._element.focus(),this._element.setAttribute("aria-expanded",!0),this._menu.classList.add(Ph),this._element.classList.add(Ph),K.trigger(this._element,p7,t)}}hide(){!Va(this._element)&&this._isShown()&&this._completeHide({relatedTarget:this._element})}dispose(){this._popper&&this._popper.destroy(),super.dispose()}update(){this._inNavbar=this._detectNavbar(),this._popper&&this._popper.update()}_completeHide(t){if(!K.trigger(this._element,h7,t).defaultPrevented){if("ontouchstart"in document.documentElement)for(const i of[].concat(...document.body.children))K.off(i,"mouseover",w_);this._popper&&this._popper.destroy(),this._menu.classList.remove(Ph),this._element.classList.remove(Ph),this._element.setAttribute("aria-expanded","false"),$o.removeDataAttribute(this._menu,"popper"),K.trigger(this._element,d7,t)}}_getConfig(t){if("object"==typeof(t=super._getConfig(t)).reference&&!Bo(t.reference)&&"function"!=typeof t.reference.getBoundingClientRect)throw new TypeError(`${I2.toUpperCase()}: Option "reference" provided type "object" without a required "getBoundingClientRect" method.`);return t}_createPopper(){if(void 0===Ui)throw new TypeError("Bootstrap's dropdowns require Popper (https://popper.js.org)");let t=this._element;"parent"===this._config.reference?t=this._parent:Bo(this._config.reference)?t=Fa(this._config.reference):"object"==typeof this._config.reference&&(t=this._config.reference);const e=this._getPopperConfig();this._popper=l1(t,this._menu,e)}_isShown(){return this._menu.classList.contains(Ph)}_getPlacement(){const t=this._parent;if(t.classList.contains("dropend"))return T7;if(t.classList.contains("dropstart"))return x7;if(t.classList.contains("dropup-center"))return"top";if(t.classList.contains("dropdown-center"))return"bottom";const e="end"===getComputedStyle(this._menu).getPropertyValue("--bs-position").trim();return t.classList.contains("dropup")?e?A7:D7:e?k7:P7}_detectNavbar(){return null!==this._element.closest(".navbar")}_getOffset(){const{offset:t}=this._config;return"string"==typeof t?t.split(",").map(e=>Number.parseInt(e,10)):"function"==typeof t?e=>t(e,this._element):t}_getPopperConfig(){const t={placement:this._getPlacement(),modifiers:[{name:"preventOverflow",options:{boundary:this._config.boundary}},{name:"offset",options:{offset:this._getOffset()}}]};return(this._inNavbar||"static"===this._config.display)&&($o.setDataAttribute(this._menu,"popper","static"),t.modifiers=[{name:"applyStyles",enabled:!1}]),ni(ni({},t),Bi(this._config.popperConfig,[t]))}_selectMenuItem({key:t,target:e}){const i=me.find(".dropdown-menu .dropdown-item:not(.disabled):not(:disabled)",this._menu).filter(s=>Eh(s));!i.length||d1(i,e,t===N2,!i.includes(e)).focus()}static jQueryInterface(t){return this.each(function(){const e=$r.getOrCreateInstance(this,t);if("string"==typeof t){if(void 0===e[t])throw new TypeError(`No method named "${t}"`);e[t]()}})}static clearMenus(t){if(2===t.button||"keyup"===t.type&&"Tab"!==t.key)return;const e=me.find(S7);for(const i of e){const s=$r.getInstance(i);if(!s||!1===s._config.autoClose)continue;const r=t.composedPath(),o=r.includes(s._menu);if(r.includes(s._element)||"inside"===s._config.autoClose&&!o||"outside"===s._config.autoClose&&o||s._menu.contains(t.target)&&("keyup"===t.type&&"Tab"===t.key||/input|select|option|textarea|form/i.test(t.target.tagName)))continue;const a={relatedTarget:s._element};"click"===t.type&&(a.clickEvent=t),s._completeHide(a)}}static dataApiKeydownHandler(t){const e=/input|textarea/i.test(t.target.tagName),i="Escape"===t.key,s=[c7,N2].includes(t.key);if(!s&&!i||e&&!i)return;t.preventDefault();const r=this.matches(lc)?this:me.prev(this,lc)[0]||me.next(this,lc)[0]||me.findOne(lc,t.delegateTarget.parentNode),o=$r.getOrCreateInstance(r);if(s)return t.stopPropagation(),o.show(),void o._selectMenuItem(t);o._isShown()&&(t.stopPropagation(),o.hide(),r.focus())}}K.on(document,L2,lc,$r.dataApiKeydownHandler),K.on(document,L2,M_,$r.dataApiKeydownHandler),K.on(document,R2,$r.clearMenus),K.on(document,g7,$r.clearMenus),K.on(document,R2,lc,function(n){n.preventDefault(),$r.getOrCreateInstance(this).toggle()}),Rs($r);const F2="backdrop",B2=`mousedown.bs.${F2}`,L7={className:"modal-backdrop",clickCallback:null,isAnimated:!1,isVisible:!0,rootElement:"body"},F7={className:"string",clickCallback:"(function|null)",isAnimated:"boolean",isVisible:"boolean",rootElement:"(element|string)"};class $2 extends Lp{constructor(t){super(),this._config=this._getConfig(t),this._isAppended=!1,this._element=null}static get Default(){return L7}static get DefaultType(){return F7}static get NAME(){return F2}show(t){if(!this._config.isVisible)return void Bi(t);this._append();this._getElement().classList.add("show"),this._emulateAnimation(()=>{Bi(t)})}hide(t){this._config.isVisible?(this._getElement().classList.remove("show"),this._emulateAnimation(()=>{this.dispose(),Bi(t)})):Bi(t)}dispose(){!this._isAppended||(K.off(this._element,B2),this._element.remove(),this._isAppended=!1)}_getElement(){if(!this._element){const t=document.createElement("div");t.className=this._config.className,this._config.isAnimated&&t.classList.add("fade"),this._element=t}return this._element}_configAfterMerge(t){return t.rootElement=Fa(t.rootElement),t}_append(){if(this._isAppended)return;const t=this._getElement();this._config.rootElement.append(t),K.on(t,B2,()=>{Bi(this._config.clickCallback)}),this._isAppended=!0}_emulateAnimation(t){m2(t,this._getElement(),this._config.isAnimated)}}const I_=".bs.focustrap",B7=`focusin${I_}`,$7=`keydown.tab${I_}`,H2="backward",G7={autofocus:!0,trapElement:null},U7={autofocus:"boolean",trapElement:"element"};class q2 extends Lp{constructor(t){super(),this._config=this._getConfig(t),this._isActive=!1,this._lastTabNavDirection=null}static get Default(){return G7}static get DefaultType(){return U7}static get NAME(){return"focustrap"}activate(){this._isActive||(this._config.autofocus&&this._config.trapElement.focus(),K.off(document,I_),K.on(document,B7,t=>this._handleFocusin(t)),K.on(document,$7,t=>this._handleKeydown(t)),this._isActive=!0)}deactivate(){!this._isActive||(this._isActive=!1,K.off(document,I_))}_handleFocusin(t){const{trapElement:e}=this._config;if(t.target===document||t.target===e||e.contains(t.target))return;const i=me.focusableChildren(e);0===i.length?e.focus():this._lastTabNavDirection===H2?i[i.length-1].focus():i[0].focus()}_handleKeydown(t){"Tab"===t.key&&(this._lastTabNavDirection=t.shiftKey?H2:"forward")}}const G2=".fixed-top, .fixed-bottom, .is-fixed, .sticky-top",U2=".sticky-top",O_="padding-right",j2="margin-right";class E1{constructor(){this._element=document.body}getWidth(){const t=document.documentElement.clientWidth;return Math.abs(window.innerWidth-t)}hide(){const t=this.getWidth();this._disableOverFlow(),this._setElementAttributes(this._element,O_,e=>e+t),this._setElementAttributes(G2,O_,e=>e+t),this._setElementAttributes(U2,j2,e=>e-t)}reset(){this._resetElementAttributes(this._element,"overflow"),this._resetElementAttributes(this._element,O_),this._resetElementAttributes(G2,O_),this._resetElementAttributes(U2,j2)}isOverflowing(){return this.getWidth()>0}_disableOverFlow(){this._saveInitialAttribute(this._element,"overflow"),this._element.style.overflow="hidden"}_setElementAttributes(t,e,i){const s=this.getWidth();this._applyManipulationCallback(t,o=>{if(o!==this._element&&window.innerWidth>o.clientWidth+s)return;this._saveInitialAttribute(o,e);const a=window.getComputedStyle(o).getPropertyValue(e);o.style.setProperty(e,`${i(Number.parseFloat(a))}px`)})}_saveInitialAttribute(t,e){const i=t.style.getPropertyValue(e);i&&$o.setDataAttribute(t,e,i)}_resetElementAttributes(t,e){this._applyManipulationCallback(t,s=>{const r=$o.getDataAttribute(s,e);null!==r?($o.removeDataAttribute(s,e),s.style.setProperty(e,r)):s.style.removeProperty(e)})}_applyManipulationCallback(t,e){if(Bo(t))e(t);else for(const i of me.find(t,this._element))e(i)}}const Ls=".bs.modal",K7=`hide${Ls}`,Y7=`hidePrevented${Ls}`,W2=`hidden${Ls}`,z2=`show${Ls}`,Q7=`shown${Ls}`,Z7=`resize${Ls}`,J7=`click.dismiss${Ls}`,X7=`mousedown.dismiss${Ls}`,ez=`keydown.dismiss${Ls}`,tz=`click${Ls}.data-api`,K2="modal-open",w1="modal-static",az={backdrop:!0,focus:!0,keyboard:!0},lz={backdrop:"(boolean|string)",focus:"boolean",keyboard:"boolean"};class cc extends gr{constructor(t,e){super(t,e),this._dialog=me.findOne(".modal-dialog",this._element),this._backdrop=this._initializeBackDrop(),this._focustrap=this._initializeFocusTrap(),this._isShown=!1,this._isTransitioning=!1,this._scrollBar=new E1,this._addEventListeners()}static get Default(){return az}static get DefaultType(){return lz}static get NAME(){return"modal"}toggle(t){return this._isShown?this.hide():this.show(t)}show(t){this._isShown||this._isTransitioning||K.trigger(this._element,z2,{relatedTarget:t}).defaultPrevented||(this._isShown=!0,this._isTransitioning=!0,this._scrollBar.hide(),document.body.classList.add(K2),this._adjustDialog(),this._backdrop.show(()=>this._showElement(t)))}hide(){!this._isShown||this._isTransitioning||K.trigger(this._element,K7).defaultPrevented||(this._isShown=!1,this._isTransitioning=!0,this._focustrap.deactivate(),this._element.classList.remove("show"),this._queueCallback(()=>this._hideModal(),this._element,this._isAnimated()))}dispose(){K.off(window,Ls),K.off(this._dialog,Ls),this._backdrop.dispose(),this._focustrap.deactivate(),super.dispose()}handleUpdate(){this._adjustDialog()}_initializeBackDrop(){return new $2({isVisible:Boolean(this._config.backdrop),isAnimated:this._isAnimated()})}_initializeFocusTrap(){return new q2({trapElement:this._element})}_showElement(t){document.body.contains(this._element)||document.body.append(this._element),this._element.style.display="block",this._element.removeAttribute("aria-hidden"),this._element.setAttribute("aria-modal",!0),this._element.setAttribute("role","dialog"),this._element.scrollTop=0;const e=me.findOne(".modal-body",this._dialog);e&&(e.scrollTop=0),this._element.classList.add("show"),this._queueCallback(()=>{this._config.focus&&this._focustrap.activate(),this._isTransitioning=!1,K.trigger(this._element,Q7,{relatedTarget:t})},this._dialog,this._isAnimated())}_addEventListeners(){K.on(this._element,ez,t=>{if("Escape"===t.key){if(this._config.keyboard)return void this.hide();this._triggerBackdropTransition()}}),K.on(window,Z7,()=>{this._isShown&&!this._isTransitioning&&this._adjustDialog()}),K.on(this._element,X7,t=>{K.one(this._element,J7,e=>{if(this._element===t.target&&this._element===e.target){if("static"===this._config.backdrop)return void this._triggerBackdropTransition();this._config.backdrop&&this.hide()}})})}_hideModal(){this._element.style.display="none",this._element.setAttribute("aria-hidden",!0),this._element.removeAttribute("aria-modal"),this._element.removeAttribute("role"),this._isTransitioning=!1,this._backdrop.hide(()=>{document.body.classList.remove(K2),this._resetAdjustments(),this._scrollBar.reset(),K.trigger(this._element,W2)})}_isAnimated(){return this._element.classList.contains("fade")}_triggerBackdropTransition(){if(K.trigger(this._element,Y7).defaultPrevented)return;const e=this._element.scrollHeight>document.documentElement.clientHeight,i=this._element.style.overflowY;"hidden"===i||this._element.classList.contains(w1)||(e||(this._element.style.overflowY="hidden"),this._element.classList.add(w1),this._queueCallback(()=>{this._element.classList.remove(w1),this._queueCallback(()=>{this._element.style.overflowY=i},this._dialog)},this._dialog),this._element.focus())}_adjustDialog(){const t=this._element.scrollHeight>document.documentElement.clientHeight,e=this._scrollBar.getWidth(),i=e>0;if(i&&!t){const s=Ns()?"paddingLeft":"paddingRight";this._element.style[s]=`${e}px`}if(!i&&t){const s=Ns()?"paddingRight":"paddingLeft";this._element.style[s]=`${e}px`}}_resetAdjustments(){this._element.style.paddingLeft="",this._element.style.paddingRight=""}static jQueryInterface(t,e){return this.each(function(){const i=cc.getOrCreateInstance(this,t);if("string"==typeof t){if(void 0===i[t])throw new TypeError(`No method named "${t}"`);i[t](e)}})}}K.on(document,tz,'[data-bs-toggle="modal"]',function(n){const t=me.getElementFromSelector(this);["A","AREA"].includes(this.tagName)&&n.preventDefault(),K.one(t,z2,s=>{s.defaultPrevented||K.one(t,W2,()=>{Eh(this)&&this.focus()})});const e=me.findOne(".modal.show");e&&cc.getInstance(e).hide(),cc.getOrCreateInstance(t).toggle(this)}),C_(cc),Rs(cc);const Ho=".bs.offcanvas",Q2=".data-api",uz=`load${Ho}${Q2}`,J2="showing",eF=".offcanvas.show",fz=`show${Ho}`,pz=`shown${Ho}`,gz=`hide${Ho}`,tF=`hidePrevented${Ho}`,nF=`hidden${Ho}`,mz=`resize${Ho}`,yz=`click${Ho}${Q2}`,vz=`keydown.dismiss${Ho}`,bz={backdrop:!0,keyboard:!0,scroll:!1},Sz={backdrop:"(boolean|string)",keyboard:"boolean",scroll:"boolean"};class $a extends gr{constructor(t,e){super(t,e),this._isShown=!1,this._backdrop=this._initializeBackDrop(),this._focustrap=this._initializeFocusTrap(),this._addEventListeners()}static get Default(){return bz}static get DefaultType(){return Sz}static get NAME(){return"offcanvas"}toggle(t){return this._isShown?this.hide():this.show(t)}show(t){this._isShown||K.trigger(this._element,fz,{relatedTarget:t}).defaultPrevented||(this._isShown=!0,this._backdrop.show(),this._config.scroll||(new E1).hide(),this._element.setAttribute("aria-modal",!0),this._element.setAttribute("role","dialog"),this._element.classList.add(J2),this._queueCallback(()=>{(!this._config.scroll||this._config.backdrop)&&this._focustrap.activate(),this._element.classList.add("show"),this._element.classList.remove(J2),K.trigger(this._element,pz,{relatedTarget:t})},this._element,!0))}hide(){this._isShown&&!K.trigger(this._element,gz).defaultPrevented&&(this._focustrap.deactivate(),this._element.blur(),this._isShown=!1,this._element.classList.add("hiding"),this._backdrop.hide(),this._queueCallback(()=>{this._element.classList.remove("show","hiding"),this._element.removeAttribute("aria-modal"),this._element.removeAttribute("role"),this._config.scroll||(new E1).reset(),K.trigger(this._element,nF)},this._element,!0))}dispose(){this._backdrop.dispose(),this._focustrap.deactivate(),super.dispose()}_initializeBackDrop(){const e=Boolean(this._config.backdrop);return new $2({className:"offcanvas-backdrop",isVisible:e,isAnimated:!0,rootElement:this._element.parentNode,clickCallback:e?()=>{"static"!==this._config.backdrop?this.hide():K.trigger(this._element,tF)}:null})}_initializeFocusTrap(){return new q2({trapElement:this._element})}_addEventListeners(){K.on(this._element,vz,t=>{if("Escape"===t.key){if(this._config.keyboard)return void this.hide();K.trigger(this._element,tF)}})}static jQueryInterface(t){return this.each(function(){const e=$a.getOrCreateInstance(this,t);if("string"==typeof t){if(void 0===e[t]||t.startsWith("_")||"constructor"===t)throw new TypeError(`No method named "${t}"`);e[t](this)}})}}K.on(document,yz,'[data-bs-toggle="offcanvas"]',function(n){const t=me.getElementFromSelector(this);if(["A","AREA"].includes(this.tagName)&&n.preventDefault(),Va(this))return;K.one(t,nF,()=>{Eh(this)&&this.focus()});const e=me.findOne(eF);e&&e!==t&&$a.getInstance(e).hide(),$a.getOrCreateInstance(t).toggle(this)}),K.on(window,uz,()=>{for(const n of me.find(eF))$a.getOrCreateInstance(n).show()}),K.on(window,mz,()=>{for(const n of me.find("[aria-modal][class*=show][class*=offcanvas-]"))"fixed"!==getComputedStyle(n).position&&$a.getOrCreateInstance(n).hide()}),C_($a),Rs($a);const iF={"*":["class","dir","id","lang","role",/^aria-[\w-]*$/i],a:["target","href","title","rel"],area:[],b:[],br:[],col:[],code:[],div:[],em:[],hr:[],h1:[],h2:[],h3:[],h4:[],h5:[],h6:[],i:[],img:["src","srcset","alt","title","width","height"],li:[],ol:[],p:[],pre:[],s:[],small:[],span:[],sub:[],sup:[],strong:[],u:[],ul:[]},Ez=new Set(["background","cite","href","itemtype","longdesc","poster","src","xlink:href"]),wz=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:/?#]*(?:[/?#]|$))/i,Cz=(n,t)=>{const e=n.nodeName.toLowerCase();return t.includes(e)?!Ez.has(e)||Boolean(wz.test(n.nodeValue)):t.filter(i=>i instanceof RegExp).some(i=>i.test(e))},Pz={allowList:iF,content:{},extraClass:"",html:!1,sanitize:!0,sanitizeFn:null,template:"<div></div>"},kz={allowList:"object",content:"object",extraClass:"(string|function)",html:"boolean",sanitize:"boolean",sanitizeFn:"(null|function)",template:"string"},Tz={entry:"(string|element|function|null)",selector:"(string|element)"};class xz extends Lp{constructor(t){super(),this._config=this._getConfig(t)}static get Default(){return Pz}static get DefaultType(){return kz}static get NAME(){return"TemplateFactory"}getContent(){return Object.values(this._config.content).map(t=>this._resolvePossibleFunction(t)).filter(Boolean)}hasContent(){return this.getContent().length>0}changeContent(t){return this._checkContent(t),this._config.content=ni(ni({},this._config.content),t),this}toHtml(){const t=document.createElement("div");t.innerHTML=this._maybeSanitize(this._config.template);for(const[s,r]of Object.entries(this._config.content))this._setContent(t,r,s);const e=t.children[0],i=this._resolvePossibleFunction(this._config.extraClass);return i&&e.classList.add(...i.split(" ")),e}_typeCheckConfig(t){super._typeCheckConfig(t),this._checkContent(t.content)}_checkContent(t){for(const[e,i]of Object.entries(t))super._typeCheckConfig({selector:e,entry:i},Tz)}_setContent(t,e,i){const s=me.findOne(i,t);if(s){if(!(e=this._resolvePossibleFunction(e)))return void s.remove();if(Bo(e))return void this._putElementInTemplate(Fa(e),s);if(this._config.html)return void(s.innerHTML=this._maybeSanitize(e));s.textContent=e}}_maybeSanitize(t){return this._config.sanitize?function(n,t,e){if(!n.length)return n;if(e&&"function"==typeof e)return e(n);const s=(new window.DOMParser).parseFromString(n,"text/html"),r=[].concat(...s.body.querySelectorAll("*"));for(const o of r){const a=o.nodeName.toLowerCase();if(!Object.keys(t).includes(a)){o.remove();continue}const u=[].concat(...o.attributes),h=[].concat(t["*"]||[],t[a]||[]);for(const f of u)Cz(f,h)||o.removeAttribute(f.nodeName)}return s.body.innerHTML}(t,this._config.allowList,this._config.sanitizeFn):t}_resolvePossibleFunction(t){return Bi(t,[this])}_putElementInTemplate(t,e){if(this._config.html)return e.innerHTML="",void e.append(t);e.textContent=t.textContent}}const Iz=new Set(["sanitize","allowList","sanitizeFn"]),C1="fade",N_="show",rF="hide.bs.modal",Hp="hover",D1="focus",zz={AUTO:"auto",TOP:"top",RIGHT:Ns()?"left":"right",BOTTOM:"bottom",LEFT:Ns()?"right":"left"},Kz={allowList:iF,animation:!0,boundary:"clippingParents",container:!1,customClass:"",delay:0,fallbackPlacements:["top","right","bottom","left"],html:!1,offset:[0,6],placement:"top",popperConfig:null,sanitize:!0,sanitizeFn:null,selector:!1,template:'<div class="tooltip" role="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',title:"",trigger:"hover focus"},Yz={allowList:"object",animation:"boolean",boundary:"(string|element)",container:"(string|element|boolean)",customClass:"(string|function)",delay:"(number|object)",fallbackPlacements:"array",html:"boolean",offset:"(array|string|function)",placement:"(string|function)",popperConfig:"(null|object|function)",sanitize:"boolean",sanitizeFn:"(null|function)",selector:"(string|boolean)",template:"string",title:"(string|element|function)",trigger:"string"};class kh extends gr{constructor(t,e){if(void 0===Ui)throw new TypeError("Bootstrap's tooltips require Popper (https://popper.js.org)");super(t,e),this._isEnabled=!0,this._timeout=0,this._isHovered=null,this._activeTrigger={},this._popper=null,this._templateFactory=null,this._newContent=null,this.tip=null,this._setListeners(),this._config.selector||this._fixTitle()}static get Default(){return Kz}static get DefaultType(){return Yz}static get NAME(){return"tooltip"}enable(){this._isEnabled=!0}disable(){this._isEnabled=!1}toggleEnabled(){this._isEnabled=!this._isEnabled}toggle(){if(this._isEnabled){if(this._activeTrigger.click=!this._activeTrigger.click,this._isShown())return void this._leave();this._enter()}}dispose(){clearTimeout(this._timeout),K.off(this._element.closest(".modal"),rF,this._hideModalHandler),this._element.getAttribute("data-bs-original-title")&&this._element.setAttribute("title",this._element.getAttribute("data-bs-original-title")),this._disposePopper(),super.dispose()}show(){if("none"===this._element.style.display)throw new Error("Please use show on visible elements");if(!this._isWithContent()||!this._isEnabled)return;const t=K.trigger(this._element,this.constructor.eventName("show")),i=(p2(this._element)||this._element.ownerDocument.documentElement).contains(this._element);if(t.defaultPrevented||!i)return;this._disposePopper();const s=this._getTipElement();this._element.setAttribute("aria-describedby",s.getAttribute("id"));const{container:r}=this._config;if(this._element.ownerDocument.documentElement.contains(this.tip)||(r.append(s),K.trigger(this._element,this.constructor.eventName("inserted"))),this._popper=this._createPopper(s),s.classList.add(N_),"ontouchstart"in document.documentElement)for(const a of[].concat(...document.body.children))K.on(a,"mouseover",w_);this._queueCallback(()=>{K.trigger(this._element,this.constructor.eventName("shown")),!1===this._isHovered&&this._leave(),this._isHovered=!1},this.tip,this._isAnimated())}hide(){if(this._isShown()&&!K.trigger(this._element,this.constructor.eventName("hide")).defaultPrevented){if(this._getTipElement().classList.remove(N_),"ontouchstart"in document.documentElement)for(const s of[].concat(...document.body.children))K.off(s,"mouseover",w_);this._activeTrigger.click=!1,this._activeTrigger[D1]=!1,this._activeTrigger[Hp]=!1,this._isHovered=null,this._queueCallback(()=>{this._isWithActiveTrigger()||(this._isHovered||this._disposePopper(),this._element.removeAttribute("aria-describedby"),K.trigger(this._element,this.constructor.eventName("hidden")))},this.tip,this._isAnimated())}}update(){this._popper&&this._popper.update()}_isWithContent(){return Boolean(this._getTitle())}_getTipElement(){return this.tip||(this.tip=this._createTipElement(this._newContent||this._getContentForTemplate())),this.tip}_createTipElement(t){const e=this._getTemplateFactory(t).toHtml();if(!e)return null;e.classList.remove(C1,N_),e.classList.add(`bs-${this.constructor.NAME}-auto`);const i=(n=>{do{n+=Math.floor(1e6*Math.random())}while(document.getElementById(n));return n})(this.constructor.NAME).toString();return e.setAttribute("id",i),this._isAnimated()&&e.classList.add(C1),e}setContent(t){this._newContent=t,this._isShown()&&(this._disposePopper(),this.show())}_getTemplateFactory(t){return this._templateFactory?this._templateFactory.changeContent(t):this._templateFactory=new xz(pb(ni({},this._config),{content:t,extraClass:this._resolvePossibleFunction(this._config.customClass)})),this._templateFactory}_getContentForTemplate(){return{".tooltip-inner":this._getTitle()}}_getTitle(){return this._resolvePossibleFunction(this._config.title)||this._element.getAttribute("data-bs-original-title")}_initializeOnDelegatedTarget(t){return this.constructor.getOrCreateInstance(t.delegateTarget,this._getDelegateConfig())}_isAnimated(){return this._config.animation||this.tip&&this.tip.classList.contains(C1)}_isShown(){return this.tip&&this.tip.classList.contains(N_)}_createPopper(t){const e=Bi(this._config.placement,[this,t,this._element]),i=zz[e.toUpperCase()];return l1(this._element,t,this._getPopperConfig(i))}_getOffset(){const{offset:t}=this._config;return"string"==typeof t?t.split(",").map(e=>Number.parseInt(e,10)):"function"==typeof t?e=>t(e,this._element):t}_resolvePossibleFunction(t){return Bi(t,[this._element])}_getPopperConfig(t){const e={placement:t,modifiers:[{name:"flip",options:{fallbackPlacements:this._config.fallbackPlacements}},{name:"offset",options:{offset:this._getOffset()}},{name:"preventOverflow",options:{boundary:this._config.boundary}},{name:"arrow",options:{element:`.${this.constructor.NAME}-arrow`}},{name:"preSetPlacement",enabled:!0,phase:"beforeMain",fn:i=>{this._getTipElement().setAttribute("data-popper-placement",i.state.placement)}}]};return ni(ni({},e),Bi(this._config.popperConfig,[e]))}_setListeners(){const t=this._config.trigger.split(" ");for(const e of t)if("click"===e)K.on(this._element,this.constructor.eventName("click"),this._config.selector,i=>{this._initializeOnDelegatedTarget(i).toggle()});else if("manual"!==e){const i=this.constructor.eventName(e===Hp?"mouseenter":"focusin"),s=this.constructor.eventName(e===Hp?"mouseleave":"focusout");K.on(this._element,i,this._config.selector,r=>{const o=this._initializeOnDelegatedTarget(r);o._activeTrigger["focusin"===r.type?D1:Hp]=!0,o._enter()}),K.on(this._element,s,this._config.selector,r=>{const o=this._initializeOnDelegatedTarget(r);o._activeTrigger["focusout"===r.type?D1:Hp]=o._element.contains(r.relatedTarget),o._leave()})}this._hideModalHandler=()=>{this._element&&this.hide()},K.on(this._element.closest(".modal"),rF,this._hideModalHandler)}_fixTitle(){const t=this._element.getAttribute("title");!t||(!this._element.getAttribute("aria-label")&&!this._element.textContent.trim()&&this._element.setAttribute("aria-label",t),this._element.setAttribute("data-bs-original-title",t),this._element.removeAttribute("title"))}_enter(){this._isShown()||this._isHovered?this._isHovered=!0:(this._isHovered=!0,this._setTimeout(()=>{this._isHovered&&this.show()},this._config.delay.show))}_leave(){this._isWithActiveTrigger()||(this._isHovered=!1,this._setTimeout(()=>{this._isHovered||this.hide()},this._config.delay.hide))}_setTimeout(t,e){clearTimeout(this._timeout),this._timeout=setTimeout(t,e)}_isWithActiveTrigger(){return Object.values(this._activeTrigger).includes(!0)}_getConfig(t){const e=$o.getDataAttributes(this._element);for(const i of Object.keys(e))Iz.has(i)&&delete e[i];return t=ni(ni({},e),"object"==typeof t&&t?t:{}),t=this._mergeConfigObj(t),t=this._configAfterMerge(t),this._typeCheckConfig(t),t}_configAfterMerge(t){return t.container=!1===t.container?document.body:Fa(t.container),"number"==typeof t.delay&&(t.delay={show:t.delay,hide:t.delay}),"number"==typeof t.title&&(t.title=t.title.toString()),"number"==typeof t.content&&(t.content=t.content.toString()),t}_getDelegateConfig(){const t={};for(const[e,i]of Object.entries(this._config))this.constructor.Default[e]!==i&&(t[e]=i);return t.selector=!1,t.trigger="manual",t}_disposePopper(){this._popper&&(this._popper.destroy(),this._popper=null),this.tip&&(this.tip.remove(),this.tip=null)}static jQueryInterface(t){return this.each(function(){const e=kh.getOrCreateInstance(this,t);if("string"==typeof t){if(void 0===e[t])throw new TypeError(`No method named "${t}"`);e[t]()}})}}Rs(kh);const Xz=pb(ni({},kh.Default),{content:"",offset:[0,8],placement:"right",template:'<div class="popover" role="tooltip"><div class="popover-arrow"></div><h3 class="popover-header"></h3><div class="popover-body"></div></div>',trigger:"click"}),e9=pb(ni({},kh.DefaultType),{content:"(null|string|element|function)"});class A1 extends kh{static get Default(){return Xz}static get DefaultType(){return e9}static get NAME(){return"popover"}_isWithContent(){return this._getTitle()||this._getContent()}_getContentForTemplate(){return{".popover-header":this._getTitle(),".popover-body":this._getContent()}}_getContent(){return this._resolvePossibleFunction(this._config.content)}static jQueryInterface(t){return this.each(function(){const e=A1.getOrCreateInstance(this,t);if("string"==typeof t){if(void 0===e[t])throw new TypeError(`No method named "${t}"`);e[t]()}})}}Rs(A1);const P1=".bs.scrollspy",i9=`activate${P1}`,oF=`click${P1}`,s9=`load${P1}.data-api`,Th="active",k1="[href]",aF=".nav-link",l9=`${aF}, .nav-item > ${aF}, .list-group-item`,h9={offset:null,rootMargin:"0px 0px -25%",smoothScroll:!1,target:null,threshold:[.1,.5,1]},d9={offset:"(number|null)",rootMargin:"string",smoothScroll:"boolean",target:"element",threshold:"array"};class R_ extends gr{constructor(t,e){super(t,e),this._targetLinks=new Map,this._observableSections=new Map,this._rootElement="visible"===getComputedStyle(this._element).overflowY?null:this._element,this._activeTarget=null,this._observer=null,this._previousScrollData={visibleEntryTop:0,parentScrollTop:0},this.refresh()}static get Default(){return h9}static get DefaultType(){return d9}static get NAME(){return"scrollspy"}refresh(){this._initializeTargetsAndObservables(),this._maybeEnableSmoothScroll(),this._observer?this._observer.disconnect():this._observer=this._getNewObserver();for(const t of this._observableSections.values())this._observer.observe(t)}dispose(){this._observer.disconnect(),super.dispose()}_configAfterMerge(t){return t.target=Fa(t.target)||document.body,t.rootMargin=t.offset?`${t.offset}px 0px -30%`:t.rootMargin,"string"==typeof t.threshold&&(t.threshold=t.threshold.split(",").map(e=>Number.parseFloat(e))),t}_maybeEnableSmoothScroll(){!this._config.smoothScroll||(K.off(this._config.target,oF),K.on(this._config.target,oF,k1,t=>{const e=this._observableSections.get(t.target.hash);if(e){t.preventDefault();const i=this._rootElement||window,s=e.offsetTop-this._element.offsetTop;if(i.scrollTo)return void i.scrollTo({top:s,behavior:"smooth"});i.scrollTop=s}}))}_getNewObserver(){return new IntersectionObserver(e=>this._observerCallback(e),{root:this._rootElement,threshold:this._config.threshold,rootMargin:this._config.rootMargin})}_observerCallback(t){const e=o=>this._targetLinks.get(`#${o.target.id}`),i=o=>{this._previousScrollData.visibleEntryTop=o.target.offsetTop,this._process(e(o))},s=(this._rootElement||document.documentElement).scrollTop,r=s>=this._previousScrollData.parentScrollTop;this._previousScrollData.parentScrollTop=s;for(const o of t){if(!o.isIntersecting){this._activeTarget=null,this._clearActiveClass(e(o));continue}const a=o.target.offsetTop>=this._previousScrollData.visibleEntryTop;if(r&&a){if(i(o),!s)return}else!r&&!a&&i(o)}}_initializeTargetsAndObservables(){this._targetLinks=new Map,this._observableSections=new Map;const t=me.find(k1,this._config.target);for(const e of t){if(!e.hash||Va(e))continue;const i=me.findOne(decodeURI(e.hash),this._element);Eh(i)&&(this._targetLinks.set(decodeURI(e.hash),e),this._observableSections.set(e.hash,i))}}_process(t){this._activeTarget!==t&&(this._clearActiveClass(this._config.target),this._activeTarget=t,t.classList.add(Th),this._activateParents(t),K.trigger(this._element,i9,{relatedTarget:t}))}_activateParents(t){if(t.classList.contains("dropdown-item"))me.findOne(".dropdown-toggle",t.closest(".dropdown")).classList.add(Th);else for(const e of me.parents(t,".nav, .list-group"))for(const i of me.prev(e,l9))i.classList.add(Th)}_clearActiveClass(t){t.classList.remove(Th);const e=me.find(`${k1}.${Th}`,t);for(const i of e)i.classList.remove(Th)}static jQueryInterface(t){return this.each(function(){const e=R_.getOrCreateInstance(this,t);if("string"==typeof t){if(void 0===e[t]||t.startsWith("_")||"constructor"===t)throw new TypeError(`No method named "${t}"`);e[t]()}})}}K.on(window,s9,()=>{for(const n of me.find('[data-bs-spy="scroll"]'))R_.getOrCreateInstance(n)}),Rs(R_);const uc=".bs.tab",p9=`hide${uc}`,g9=`hidden${uc}`,m9=`show${uc}`,y9=`shown${uc}`,v9=`click${uc}`,_9=`keydown${uc}`,b9=`load${uc}`,S9="ArrowLeft",lF="ArrowRight",E9="ArrowUp",cF="ArrowDown",T1="Home",uF="End",hc="active",x1="show",M1=":not(.dropdown-toggle)",dF='[data-bs-toggle="tab"], [data-bs-toggle="pill"], [data-bs-toggle="list"]',I1=`.nav-link${M1}, .list-group-item${M1}, [role="tab"]${M1}, ${dF}`,T9=`.${hc}[data-bs-toggle="tab"], .${hc}[data-bs-toggle="pill"], .${hc}[data-bs-toggle="list"]`;class xh extends gr{constructor(t){super(t),this._parent=this._element.closest('.list-group, .nav, [role="tablist"]'),this._parent&&(this._setInitialAttributes(this._parent,this._getChildren()),K.on(this._element,_9,e=>this._keydown(e)))}static get NAME(){return"tab"}show(){const t=this._element;if(this._elemIsActive(t))return;const e=this._getActiveElem(),i=e?K.trigger(e,p9,{relatedTarget:t}):null;K.trigger(t,m9,{relatedTarget:e}).defaultPrevented||i&&i.defaultPrevented||(this._deactivate(e,t),this._activate(t,e))}_activate(t,e){t&&(t.classList.add(hc),this._activate(me.getElementFromSelector(t)),this._queueCallback(()=>{"tab"===t.getAttribute("role")?(t.removeAttribute("tabindex"),t.setAttribute("aria-selected",!0),this._toggleDropDown(t,!0),K.trigger(t,y9,{relatedTarget:e})):t.classList.add(x1)},t,t.classList.contains("fade")))}_deactivate(t,e){t&&(t.classList.remove(hc),t.blur(),this._deactivate(me.getElementFromSelector(t)),this._queueCallback(()=>{"tab"===t.getAttribute("role")?(t.setAttribute("aria-selected",!1),t.setAttribute("tabindex","-1"),this._toggleDropDown(t,!1),K.trigger(t,g9,{relatedTarget:e})):t.classList.remove(x1)},t,t.classList.contains("fade")))}_keydown(t){if(![S9,lF,E9,cF,T1,uF].includes(t.key))return;t.stopPropagation(),t.preventDefault();const e=this._getChildren().filter(s=>!Va(s));let i;if([T1,uF].includes(t.key))i=e[t.key===T1?0:e.length-1];else{const s=[lF,cF].includes(t.key);i=d1(e,t.target,s,!0)}i&&(i.focus({preventScroll:!0}),xh.getOrCreateInstance(i).show())}_getChildren(){return me.find(I1,this._parent)}_getActiveElem(){return this._getChildren().find(t=>this._elemIsActive(t))||null}_setInitialAttributes(t,e){this._setAttributeIfNotExists(t,"role","tablist");for(const i of e)this._setInitialAttributesOnChild(i)}_setInitialAttributesOnChild(t){t=this._getInnerElement(t);const e=this._elemIsActive(t),i=this._getOuterElement(t);t.setAttribute("aria-selected",e),i!==t&&this._setAttributeIfNotExists(i,"role","presentation"),e||t.setAttribute("tabindex","-1"),this._setAttributeIfNotExists(t,"role","tab"),this._setInitialAttributesOnTargetPanel(t)}_setInitialAttributesOnTargetPanel(t){const e=me.getElementFromSelector(t);!e||(this._setAttributeIfNotExists(e,"role","tabpanel"),t.id&&this._setAttributeIfNotExists(e,"aria-labelledby",`${t.id}`))}_toggleDropDown(t,e){const i=this._getOuterElement(t);if(!i.classList.contains("dropdown"))return;const s=(r,o)=>{const a=me.findOne(r,i);a&&a.classList.toggle(o,e)};s(".dropdown-toggle",hc),s(".dropdown-menu",x1),i.setAttribute("aria-expanded",e)}_setAttributeIfNotExists(t,e,i){t.hasAttribute(e)||t.setAttribute(e,i)}_elemIsActive(t){return t.classList.contains(hc)}_getInnerElement(t){return t.matches(I1)?t:me.findOne(I1,t)}_getOuterElement(t){return t.closest(".nav-item, .list-group-item")||t}static jQueryInterface(t){return this.each(function(){const e=xh.getOrCreateInstance(this);if("string"==typeof t){if(void 0===e[t]||t.startsWith("_")||"constructor"===t)throw new TypeError(`No method named "${t}"`);e[t]()}})}}K.on(document,v9,dF,function(n){["A","AREA"].includes(this.tagName)&&n.preventDefault(),!Va(this)&&xh.getOrCreateInstance(this).show()}),K.on(window,b9,()=>{for(const n of me.find(T9))xh.getOrCreateInstance(n)}),Rs(xh);const Ha=".bs.toast",M9=`mouseover${Ha}`,I9=`mouseout${Ha}`,O9=`focusin${Ha}`,N9=`focusout${Ha}`,R9=`hide${Ha}`,L9=`hidden${Ha}`,F9=`show${Ha}`,V9=`shown${Ha}`,L_="show",F_="showing",$9={animation:"boolean",autohide:"boolean",delay:"number"},H9={animation:!0,autohide:!0,delay:5e3};class V_ extends gr{constructor(t,e){super(t,e),this._timeout=null,this._hasMouseInteraction=!1,this._hasKeyboardInteraction=!1,this._setListeners()}static get Default(){return H9}static get DefaultType(){return $9}static get NAME(){return"toast"}show(){K.trigger(this._element,F9).defaultPrevented||(this._clearTimeout(),this._config.animation&&this._element.classList.add("fade"),this._element.classList.remove("hide"),this._element.classList.add(L_,F_),this._queueCallback(()=>{this._element.classList.remove(F_),K.trigger(this._element,V9),this._maybeScheduleHide()},this._element,this._config.animation))}hide(){this.isShown()&&!K.trigger(this._element,R9).defaultPrevented&&(this._element.classList.add(F_),this._queueCallback(()=>{this._element.classList.add("hide"),this._element.classList.remove(F_,L_),K.trigger(this._element,L9)},this._element,this._config.animation))}dispose(){this._clearTimeout(),this.isShown()&&this._element.classList.remove(L_),super.dispose()}isShown(){return this._element.classList.contains(L_)}_maybeScheduleHide(){!this._config.autohide||this._hasMouseInteraction||this._hasKeyboardInteraction||(this._timeout=setTimeout(()=>{this.hide()},this._config.delay))}_onInteraction(t,e){switch(t.type){case"mouseover":case"mouseout":this._hasMouseInteraction=e;break;case"focusin":case"focusout":this._hasKeyboardInteraction=e}if(e)return void this._clearTimeout();const i=t.relatedTarget;this._element===i||this._element.contains(i)||this._maybeScheduleHide()}_setListeners(){K.on(this._element,M9,t=>this._onInteraction(t,!0)),K.on(this._element,I9,t=>this._onInteraction(t,!1)),K.on(this._element,O9,t=>this._onInteraction(t,!0)),K.on(this._element,N9,t=>this._onInteraction(t,!1))}_clearTimeout(){clearTimeout(this._timeout),this._timeout=null}static jQueryInterface(t){return this.each(function(){const e=V_.getOrCreateInstance(this,t);if("string"==typeof t){if(void 0===e[t])throw new TypeError(`No method named "${t}"`);e[t](this)}})}}function Fs(n){return null!=n&&"false"!=`${n}`}function dc(n,t=0){return function(n){return!isNaN(parseFloat(n))&&!isNaN(Number(n))}(n)?Number(n):t}function kn(n){return n instanceof Pt?n.nativeElement:n}function fc(...n){let t=n[n.length-1];return Qa(t)?(n.pop(),zo(n,t)):Ko(n)}function O1(n,t,e,i){return M(e)&&(i=e,e=void 0),i?O1(n,t,e).pipe(us(s=>za(s)?i(...s):i(s))):new $e(s=>{pF(n,t,function(o){s.next(arguments.length>1?Array.prototype.slice.call(arguments):o)},s,e)})}function pF(n,t,e,i,s){let r;if(function(n){return n&&"function"==typeof n.addEventListener&&"function"==typeof n.removeEventListener}(n)){const o=n;n.addEventListener(t,e,s),r=()=>o.removeEventListener(t,e,s)}else if(function(n){return n&&"function"==typeof n.on&&"function"==typeof n.off}(n)){const o=n;n.on(t,e),r=()=>o.off(t,e)}else if(function(n){return n&&"function"==typeof n.addListener&&"function"==typeof n.removeListener}(n)){const o=n;n.addListener(t,e),r=()=>o.removeListener(t,e)}else{if(!n||!n.length)throw new TypeError("Invalid event target");for(let o=0,a=n.length;o<a;o++)pF(n[o],t,e,i,s)}i.add(r)}C_(V_),Rs(V_);class z9 extends We{constructor(t,e){super()}schedule(t,e=0){return this}}class B_ extends z9{constructor(t,e){super(t,e),this.scheduler=t,this.work=e,this.pending=!1}schedule(t,e=0){if(this.closed)return this;this.state=t;const i=this.id,s=this.scheduler;return null!=i&&(this.id=this.recycleAsyncId(s,i,e)),this.pending=!0,this.delay=e,this.id=this.id||this.requestAsyncId(s,this.id,e),this}requestAsyncId(t,e,i=0){return setInterval(t.flush.bind(t,this),i)}recycleAsyncId(t,e,i=0){if(null!==i&&this.delay===i&&!1===this.pending)return e;clearInterval(e)}execute(t,e){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const i=this._execute(t,e);if(i)return i;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(t,e){let s,i=!1;try{this.work(t)}catch(r){i=!0,s=!!r&&r||new Error(r)}if(i)return this.unsubscribe(),s}_unsubscribe(){const t=this.id,e=this.scheduler,i=e.actions,s=i.indexOf(this);this.work=null,this.state=null,this.pending=!1,this.scheduler=null,-1!==s&&i.splice(s,1),null!=t&&(this.id=this.recycleAsyncId(e,t,null)),this.delay=null}}let gF=(()=>{class n{constructor(e,i=n.now){this.SchedulerAction=e,this.now=i}schedule(e,i=0,s){return new this.SchedulerAction(this,e).schedule(s,i)}}return n.now=()=>Date.now(),n})();class mr extends gF{constructor(t,e=gF.now){super(t,()=>mr.delegate&&mr.delegate!==this?mr.delegate.now():e()),this.actions=[],this.active=!1,this.scheduled=void 0}schedule(t,e=0,i){return mr.delegate&&mr.delegate!==this?mr.delegate.schedule(t,e,i):super.schedule(t,e,i)}flush(t){const{actions:e}=this;if(this.active)return void e.push(t);let i;this.active=!0;do{if(i=t.execute(t.state,t.delay))break}while(t=e.shift());if(this.active=!1,i){for(;t=e.shift();)t.unsubscribe();throw i}}}const mF=new class extends mr{flush(t){this.active=!0,this.scheduled=void 0;const{actions:e}=this;let i,s=-1,r=e.length;t=t||e.shift();do{if(i=t.execute(t.state,t.delay))break}while(++s<r&&(t=e.shift()));if(this.active=!1,i){for(;++s<r&&(t=e.shift());)t.unsubscribe();throw i}}}(class extends B_{constructor(t,e){super(t,e),this.scheduler=t,this.work=e}requestAsyncId(t,e,i=0){return null!==i&&i>0?super.requestAsyncId(t,e,i):(t.actions.push(this),t.scheduled||(t.scheduled=requestAnimationFrame(()=>t.flush(null))))}recycleAsyncId(t,e,i=0){if(null!==i&&i>0||null===i&&this.delay>0)return super.recycleAsyncId(t,e,i);0===t.actions.length&&(cancelAnimationFrame(e),t.scheduled=void 0)}});let Q9=1;const Z9=Promise.resolve(),$_={};function yF(n){return n in $_&&(delete $_[n],!0)}const vF={setImmediate(n){const t=Q9++;return $_[t]=!0,Z9.then(()=>yF(t)&&n()),t},clearImmediate(n){yF(n)}},qp=(new class extends mr{flush(t){this.active=!0,this.scheduled=void 0;const{actions:e}=this;let i,s=-1,r=e.length;t=t||e.shift();do{if(i=t.execute(t.state,t.delay))break}while(++s<r&&(t=e.shift()));if(this.active=!1,i){for(;++s<r&&(t=e.shift());)t.unsubscribe();throw i}}}(class extends B_{constructor(t,e){super(t,e),this.scheduler=t,this.work=e}requestAsyncId(t,e,i=0){return null!==i&&i>0?super.requestAsyncId(t,e,i):(t.actions.push(this),t.scheduled||(t.scheduled=vF.setImmediate(t.flush.bind(t,null))))}recycleAsyncId(t,e,i=0){if(null!==i&&i>0||null===i&&this.delay>0)return super.recycleAsyncId(t,e,i);0===t.actions.length&&(vF.clearImmediate(e),t.scheduled=void 0)}}),new mr(B_));class sK{constructor(t){this.durationSelector=t}call(t,e){return e.subscribe(new rK(t,this.durationSelector))}}class rK extends Cc{constructor(t,e){super(t),this.durationSelector=e,this.hasValue=!1}_next(t){if(this.value=t,this.hasValue=!0,!this.throttled){let e;try{const{durationSelector:s}=this;e=s(t)}catch(s){return this.destination.error(s)}const i=Hn(e,new Ci(this));!i||i.closed?this.clearThrottle():this.add(this.throttled=i)}}clearThrottle(){const{value:t,hasValue:e,throttled:i}=this;i&&(this.remove(i),this.throttled=void 0,i.unsubscribe()),e&&(this.value=void 0,this.hasValue=!1,this.destination.next(t))}notifyNext(){this.clearThrottle()}notifyComplete(){this.clearThrottle()}}function N1(n){return!za(n)&&n-parseFloat(n)+1>=0}function aK(n){const{index:t,period:e,subscriber:i}=n;if(i.next(t),!i.closed){if(-1===e)return i.complete();n.index=t+1,this.schedule(n,e)}}function R1(n,t=qp){return function(n){return function(e){return e.lift(new sK(n))}}(()=>function(n=0,t,e){let i=-1;return N1(t)?i=Number(t)<1?1:Number(t):Qa(t)&&(e=t),Qa(e)||(e=qp),new $e(s=>{const r=N1(n)?n:+n-e.now();return e.schedule(aK,r,{index:0,period:i,subscriber:s})})}(n,t))}function SF(n,t){return function(i){return i.lift(new lK(n,t))}}class lK{constructor(t,e){this.predicate=t,this.thisArg=e}call(t,e){return e.subscribe(new cK(t,this.predicate,this.thisArg))}}class cK extends Ct{constructor(t,e,i){super(t),this.predicate=e,this.thisArg=i,this.count=0}_next(t){let e;try{e=this.predicate.call(this.thisArg,t,this.count++)}catch(i){return void this.destination.error(i)}e&&this.destination.next(t)}}function qa(n){return t=>t.lift(new uK(n))}class uK{constructor(t){this.notifier=t}call(t,e){const i=new hK(t),s=Hn(this.notifier,new Ci(i));return s&&!i.seenValue?(i.add(s),e.subscribe(i)):i}}class hK extends Cc{constructor(t){super(t),this.seenValue=!1}notifyNext(){this.seenValue=!0,this.complete()}notifyComplete(){}}function EF(...n){return lg(1)(fc(...n))}function Gp(...n){const t=n[n.length-1];return Qa(t)?(n.pop(),e=>EF(n,e,t)):e=>EF(n,e)}function L1(n,t){return"function"==typeof t?e=>e.pipe(L1((i,s)=>wc(n(i,s)).pipe(us((r,o)=>t(i,r,s,o))))):e=>e.lift(new mK(n))}class mK{constructor(t){this.project=t}call(t,e){return e.subscribe(new yK(t,this.project))}}class yK extends Cc{constructor(t,e){super(t),this.project=e,this.index=0}_next(t){let e;const i=this.index++;try{e=this.project(t,i)}catch(s){return void this.destination.error(s)}this._innerSub(e)}_innerSub(t){const e=this.innerSubscription;e&&e.unsubscribe();const i=new Ci(this),s=this.destination;s.add(i),this.innerSubscription=Hn(t,i),this.innerSubscription!==i&&s.add(this.innerSubscription)}_complete(){const{innerSubscription:t}=this;(!t||t.closed)&&super._complete(),this.unsubscribe()}_unsubscribe(){this.innerSubscription=void 0}notifyComplete(){this.innerSubscription=void 0,this.isStopped&&super._complete()}notifyNext(t){this.destination.next(t)}}new class extends mr{}(class extends B_{constructor(t,e){super(t,e),this.scheduler=t,this.work=e}schedule(t,e=0){return e>0?super.schedule(t,e):(this.delay=e,this.state=t,this.scheduler.flush(this),this)}execute(t,e){return e>0||this.closed?super.execute(t,e):this._execute(t,e)}requestAsyncId(t,e,i=0){return null!==i&&i>0||null===i&&this.delay>0?super.requestAsyncId(t,e,i):t.flush(this)}});const SK=new $e(n=>n.complete());function wF(n){return n?function(n){return new $e(t=>n.schedule(()=>t.complete()))}(n):SK}class Vs{constructor(t,e,i){this.kind=t,this.value=e,this.error=i,this.hasValue="N"===t}observe(t){switch(this.kind){case"N":return t.next&&t.next(this.value);case"E":return t.error&&t.error(this.error);case"C":return t.complete&&t.complete()}}do(t,e,i){switch(this.kind){case"N":return t&&t(this.value);case"E":return e&&e(this.error);case"C":return i&&i()}}accept(t,e,i){return t&&"function"==typeof t.next?this.observe(t):this.do(t,e,i)}toObservable(){switch(this.kind){case"N":return fc(this.value);case"E":return function(n,t){return new $e(e=>e.error(n))}(this.error);case"C":return wF()}throw new Error("unexpected notification kind value")}static createNext(t){return void 0!==t?new Vs("N",t):Vs.undefinedValueNotification}static createError(t){return new Vs("E",void 0,t)}static createComplete(){return Vs.completeNotification}}let F1;Vs.completeNotification=new Vs("C"),Vs.undefinedValueNotification=new Vs("N",void 0);try{F1="undefined"!=typeof Intl&&Intl.v8BreakIterator}catch(n){F1=!1}let Up,V1,Bs=(()=>{class n{constructor(e){this._platformId=e,this.isBrowser=this._platformId?function(n){return n===iR}(this._platformId):"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!F1)&&"undefined"!=typeof CSS&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}}return n.\u0275fac=function(e){return new(e||n)(B(ih))},n.\u0275prov=se({factory:function(){return new n(B(ih))},token:n,providedIn:"root"}),n})();function jp(n){return function(){if(null==Up&&"undefined"!=typeof window)try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>Up=!0}))}finally{Up=Up||!1}return Up}()?n:!!n.capture}function B1(n){if(function(){if(null==V1){const n="undefined"!=typeof document?document.head:null;V1=!(!n||!n.createShadowRoot&&!n.attachShadow)}return V1}()){const t=n.getRootNode?n.getRootNode():null;if("undefined"!=typeof ShadowRoot&&ShadowRoot&&t instanceof ShadowRoot)return t}return null}function Hr(n){return n.composedPath?n.composedPath()[0]:n.target}const AF=new de("cdk-dir-doc",{providedIn:"root",factory:function(){return uS(je)}});let zp=(()=>{class n{constructor(e){if(this.value="ltr",this.change=new at,e){const s=e.documentElement?e.documentElement.dir:null,r=(e.body?e.body.dir:null)||s;this.value="ltr"===r||"rtl"===r?r:"ltr"}}ngOnDestroy(){this.change.complete()}}return n.\u0275fac=function(e){return new(e||n)(B(AF,8))},n.\u0275prov=se({factory:function(){return new n(B(AF,8))},token:n,providedIn:"root"}),n})(),$1=(()=>{class n{constructor(e,i,s){this._ngZone=e,this._platform=i,this._scrolled=new Ue,this._globalSubscription=null,this._scrolledCount=0,this.scrollContainers=new Map,this._document=s}register(e){this.scrollContainers.has(e)||this.scrollContainers.set(e,e.elementScrolled().subscribe(()=>this._scrolled.next(e)))}deregister(e){const i=this.scrollContainers.get(e);i&&(i.unsubscribe(),this.scrollContainers.delete(e))}scrolled(e=20){return this._platform.isBrowser?new $e(i=>{this._globalSubscription||this._addGlobalListener();const s=e>0?this._scrolled.pipe(R1(e)).subscribe(i):this._scrolled.subscribe(i);return this._scrolledCount++,()=>{s.unsubscribe(),this._scrolledCount--,this._scrolledCount||this._removeGlobalListener()}}):fc()}ngOnDestroy(){this._removeGlobalListener(),this.scrollContainers.forEach((e,i)=>this.deregister(i)),this._scrolled.complete()}ancestorScrolled(e,i){const s=this.getAncestorScrollContainers(e);return this.scrolled(i).pipe(SF(r=>!r||s.indexOf(r)>-1))}getAncestorScrollContainers(e){const i=[];return this.scrollContainers.forEach((s,r)=>{this._scrollableContainsElement(r,e)&&i.push(r)}),i}_getWindow(){return this._document.defaultView||window}_scrollableContainsElement(e,i){let s=kn(i),r=e.getElementRef().nativeElement;do{if(s==r)return!0}while(s=s.parentElement);return!1}_addGlobalListener(){this._globalSubscription=this._ngZone.runOutsideAngular(()=>O1(this._getWindow().document,"scroll").subscribe(()=>this._scrolled.next()))}_removeGlobalListener(){this._globalSubscription&&(this._globalSubscription.unsubscribe(),this._globalSubscription=null)}}return n.\u0275fac=function(e){return new(e||n)(B(Fe),B(Bs),B(je,8))},n.\u0275prov=se({factory:function(){return new n(B(Fe),B(Bs),B(je,8))},token:n,providedIn:"root"}),n})(),H1=(()=>{class n{constructor(e,i,s){this._platform=e,this._change=new Ue,this._changeListener=r=>{this._change.next(r)},this._document=s,i.runOutsideAngular(()=>{if(e.isBrowser){const r=this._getWindow();r.addEventListener("resize",this._changeListener),r.addEventListener("orientationchange",this._changeListener)}this.change().subscribe(()=>this._viewportSize=null)})}ngOnDestroy(){if(this._platform.isBrowser){const e=this._getWindow();e.removeEventListener("resize",this._changeListener),e.removeEventListener("orientationchange",this._changeListener)}this._change.complete()}getViewportSize(){this._viewportSize||this._updateViewportSize();const e={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),e}getViewportRect(){const e=this.getViewportScrollPosition(),{width:i,height:s}=this.getViewportSize();return{top:e.top,left:e.left,bottom:e.top+s,right:e.left+i,height:s,width:i}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};const e=this._document,i=this._getWindow(),s=e.documentElement,r=s.getBoundingClientRect();return{top:-r.top||e.body.scrollTop||i.scrollY||s.scrollTop||0,left:-r.left||e.body.scrollLeft||i.scrollX||s.scrollLeft||0}}change(e=20){return e>0?this._change.pipe(R1(e)):this._change}_getWindow(){return this._document.defaultView||window}_updateViewportSize(){const e=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:e.innerWidth,height:e.innerHeight}:{width:0,height:0}}}return n.\u0275fac=function(e){return new(e||n)(B(Bs),B(Fe),B(je,8))},n.\u0275prov=se({factory:function(){return new n(B(Bs),B(Fe),B(je,8))},token:n,providedIn:"root"}),n})(),q1=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=Wt({type:n}),n.\u0275inj=Lt({}),n})();const tY=(()=>{function n(){return Error.call(this),this.message="argument out of range",this.name="ArgumentOutOfRangeError",this}return n.prototype=Object.create(Error.prototype),n})();function G1(n){return t=>0===n?wF():t.lift(new nY(n))}class nY{constructor(t){if(this.total=t,this.total<0)throw new tY}call(t,e){return e.subscribe(new iY(t,this.total))}}class iY extends Ct{constructor(t,e){super(t),this.total=e,this.count=0}_next(t){const e=this.total,i=++this.count;i<=e&&(this.destination.next(t),i===e&&(this.destination.complete(),this.unsubscribe()))}}function LY(n){const{subscriber:t,counter:e,period:i}=n;t.next(e),this.schedule({subscriber:t,counter:e+1,period:i},i)}function Ga(){}"undefined"!=typeof Element&&Element;class VY{constructor(t,e,i){this.nextOrObserver=t,this.error=e,this.complete=i}call(t,e){return e.subscribe(new BY(t,this.nextOrObserver,this.error,this.complete))}}class BY extends Ct{constructor(t,e,i,s){super(t),this._tapNext=Ga,this._tapError=Ga,this._tapComplete=Ga,this._tapError=i||Ga,this._tapComplete=s||Ga,M(e)?(this._context=this,this._tapNext=e):e&&(this._context=e,this._tapNext=e.next||Ga,this._tapError=e.error||Ga,this._tapComplete=e.complete||Ga)}_next(t){try{this._tapNext.call(this._context,t)}catch(e){return void this.destination.error(e)}this.destination.next(t)}_error(t){try{this._tapError.call(this._context,t)}catch(e){return void this.destination.error(e)}this.destination.error(t)}_complete(){try{this._tapComplete.call(this._context)}catch(t){return void this.destination.error(t)}return this.destination.complete()}}function W1(n,t,e){for(let i in t)if(t.hasOwnProperty(i)){const s=t[i];s?n.setProperty(i,s,(null==e?void 0:e.has(i))?"important":""):n.removeProperty(i)}return n}function Oh(n,t){const e=t?"":"none";W1(n.style,{"touch-action":t?"":"none","-webkit-user-drag":t?"":"none","-webkit-tap-highlight-color":t?"":"transparent","user-select":e,"-ms-user-select":e,"-webkit-user-select":e,"-moz-user-select":e})}function KF(n,t,e){W1(n.style,{position:t?"":"fixed",top:t?"":"0",opacity:t?"":"0",left:t?"":"-999em"},e)}function U_(n,t){return t&&"none"!=t?n+" "+t:n}function YF(n){const t=n.toLowerCase().indexOf("ms")>-1?1:1e3;return parseFloat(n)*t}function z1(n,t){return n.getPropertyValue(t).split(",").map(i=>i.trim())}function K1(n){const t=n.getBoundingClientRect();return{top:t.top,right:t.right,bottom:t.bottom,left:t.left,width:t.width,height:t.height}}function Y1(n,t,e){const{top:i,bottom:s,left:r,right:o}=n;return e>=i&&e<=s&&t>=r&&t<=o}function Kp(n,t,e){n.top+=t,n.bottom=n.top+n.height,n.left+=e,n.right=n.left+n.width}function QF(n,t,e,i){const{top:s,right:r,bottom:o,left:a,width:u,height:h}=n,f=u*t,p=h*t;return i>s-p&&i<o+p&&e>a-f&&e<r+f}class ZF{constructor(t,e){this._document=t,this._viewportRuler=e,this.positions=new Map}clear(){this.positions.clear()}cache(t){this.clear(),this.positions.set(this._document,{scrollPosition:this._viewportRuler.getViewportScrollPosition()}),t.forEach(e=>{this.positions.set(e,{scrollPosition:{top:e.scrollTop,left:e.scrollLeft},clientRect:K1(e)})})}handleScroll(t){const e=Hr(t),i=this.positions.get(e);if(!i)return null;const s=e===this._document?e.documentElement:e,r=i.scrollPosition;let o,a;if(e===this._document){const f=this._viewportRuler.getViewportScrollPosition();o=f.top,a=f.left}else o=e.scrollTop,a=e.scrollLeft;const u=r.top-o,h=r.left-a;return this.positions.forEach((f,p)=>{f.clientRect&&e!==p&&s.contains(p)&&Kp(f.clientRect,u,h)}),r.top=o,r.left=a,{top:u,left:h}}}function JF(n){const t=n.cloneNode(!0),e=t.querySelectorAll("[id]"),i=n.nodeName.toLowerCase();t.removeAttribute("id");for(let s=0;s<e.length;s++)e[s].removeAttribute("id");return"canvas"===i?tV(n,t):("input"===i||"select"===i||"textarea"===i)&&eV(n,t),XF("canvas",n,t,tV),XF("input, textarea, select",n,t,eV),t}function XF(n,t,e,i){const s=t.querySelectorAll(n);if(s.length){const r=e.querySelectorAll(n);for(let o=0;o<s.length;o++)i(s[o],r[o])}}let HY=0;function eV(n,t){"file"!==t.type&&(t.value=n.value),"radio"===t.type&&t.name&&(t.name=`mat-clone-${t.name}-${HY++}`)}function tV(n,t){const e=t.getContext("2d");if(e)try{e.drawImage(n,0,0)}catch(i){}}const nV=jp({passive:!0}),iV=jp({passive:!1}),Q1=new Set(["position"]);class GY{constructor(t,e,i,s,r,o){this._config=e,this._document=i,this._ngZone=s,this._viewportRuler=r,this._dragDropRegistry=o,this._passiveTransform={x:0,y:0},this._activeTransform={x:0,y:0},this._hasStartedDragging=!1,this._moveEvents=new Ue,this._pointerMoveSubscription=We.EMPTY,this._pointerUpSubscription=We.EMPTY,this._scrollSubscription=We.EMPTY,this._resizeSubscription=We.EMPTY,this._boundaryElement=null,this._nativeInteractionsEnabled=!0,this._handles=[],this._disabledHandles=new Set,this._direction="ltr",this.dragStartDelay=0,this._disabled=!1,this.beforeStarted=new Ue,this.started=new Ue,this.released=new Ue,this.ended=new Ue,this.entered=new Ue,this.exited=new Ue,this.dropped=new Ue,this.moved=this._moveEvents,this._pointerDown=a=>{if(this.beforeStarted.next(),this._handles.length){const u=this._handles.find(h=>{const f=Hr(a);return!!f&&(f===h||h.contains(f))});u&&!this._disabledHandles.has(u)&&!this.disabled&&this._initializeDragSequence(u,a)}else this.disabled||this._initializeDragSequence(this._rootElement,a)},this._pointerMove=a=>{const u=this._getPointerPositionOnPage(a);if(!this._hasStartedDragging){if(Math.abs(u.x-this._pickupPositionOnPage.x)+Math.abs(u.y-this._pickupPositionOnPage.y)>=this._config.dragStartThreshold){const _=Date.now()>=this._dragStartTime+this._getDragStartDelay(a),S=this._dropContainer;if(!_)return void this._endDragSequence(a);(!S||!S.isDragging()&&!S.isReceiving())&&(a.preventDefault(),this._hasStartedDragging=!0,this._ngZone.run(()=>this._startDragSequence(a)))}return}this._boundaryElement&&(!this._previewRect||!this._previewRect.width&&!this._previewRect.height)&&(this._previewRect=(this._preview||this._rootElement).getBoundingClientRect()),a.preventDefault();const h=this._getConstrainedPointerPosition(u);if(this._hasMoved=!0,this._lastKnownPointerPosition=u,this._updatePointerDirectionDelta(h),this._dropContainer)this._updateActiveDropContainer(h,u);else{const f=this._activeTransform;f.x=h.x-this._pickupPositionOnPage.x+this._passiveTransform.x,f.y=h.y-this._pickupPositionOnPage.y+this._passiveTransform.y,this._applyRootElementTransform(f.x,f.y),"undefined"!=typeof SVGElement&&this._rootElement instanceof SVGElement&&this._rootElement.setAttribute("transform",`translate(${f.x} ${f.y})`)}this._moveEvents.observers.length&&this._ngZone.run(()=>{this._moveEvents.next({source:this,pointerPosition:h,event:a,distance:this._getDragDistance(h),delta:this._pointerDirectionDelta})})},this._pointerUp=a=>{this._endDragSequence(a)},this.withRootElement(t).withParent(e.parentDragRef||null),this._parentPositions=new ZF(i,r),o.registerDragItem(this)}get disabled(){return this._disabled||!(!this._dropContainer||!this._dropContainer.disabled)}set disabled(t){const e=Fs(t);e!==this._disabled&&(this._disabled=e,this._toggleNativeDragInteractions(),this._handles.forEach(i=>Oh(i,e)))}getPlaceholderElement(){return this._placeholder}getRootElement(){return this._rootElement}getVisibleElement(){return this.isDragging()?this.getPlaceholderElement():this.getRootElement()}withHandles(t){this._handles=t.map(i=>kn(i)),this._handles.forEach(i=>Oh(i,this.disabled)),this._toggleNativeDragInteractions();const e=new Set;return this._disabledHandles.forEach(i=>{this._handles.indexOf(i)>-1&&e.add(i)}),this._disabledHandles=e,this}withPreviewTemplate(t){return this._previewTemplate=t,this}withPlaceholderTemplate(t){return this._placeholderTemplate=t,this}withRootElement(t){const e=kn(t);return e!==this._rootElement&&(this._rootElement&&this._removeRootElementListeners(this._rootElement),this._ngZone.runOutsideAngular(()=>{e.addEventListener("mousedown",this._pointerDown,iV),e.addEventListener("touchstart",this._pointerDown,nV)}),this._initialTransform=void 0,this._rootElement=e),"undefined"!=typeof SVGElement&&this._rootElement instanceof SVGElement&&(this._ownerSVGElement=this._rootElement.ownerSVGElement),this}withBoundaryElement(t){return this._boundaryElement=t?kn(t):null,this._resizeSubscription.unsubscribe(),t&&(this._resizeSubscription=this._viewportRuler.change(10).subscribe(()=>this._containInsideBoundaryOnResize())),this}withParent(t){return this._parentDragRef=t,this}dispose(){this._removeRootElementListeners(this._rootElement),this.isDragging()&&W_(this._rootElement),W_(this._anchor),this._destroyPreview(),this._destroyPlaceholder(),this._dragDropRegistry.removeDragItem(this),this._removeSubscriptions(),this.beforeStarted.complete(),this.started.complete(),this.released.complete(),this.ended.complete(),this.entered.complete(),this.exited.complete(),this.dropped.complete(),this._moveEvents.complete(),this._handles=[],this._disabledHandles.clear(),this._dropContainer=void 0,this._resizeSubscription.unsubscribe(),this._parentPositions.clear(),this._boundaryElement=this._rootElement=this._ownerSVGElement=this._placeholderTemplate=this._previewTemplate=this._anchor=this._parentDragRef=null}isDragging(){return this._hasStartedDragging&&this._dragDropRegistry.isDragging(this)}reset(){this._rootElement.style.transform=this._initialTransform||"",this._activeTransform={x:0,y:0},this._passiveTransform={x:0,y:0}}disableHandle(t){!this._disabledHandles.has(t)&&this._handles.indexOf(t)>-1&&(this._disabledHandles.add(t),Oh(t,!0))}enableHandle(t){this._disabledHandles.has(t)&&(this._disabledHandles.delete(t),Oh(t,this.disabled))}withDirection(t){return this._direction=t,this}_withDropContainer(t){this._dropContainer=t}getFreeDragPosition(){const t=this.isDragging()?this._activeTransform:this._passiveTransform;return{x:t.x,y:t.y}}setFreeDragPosition(t){return this._activeTransform={x:0,y:0},this._passiveTransform.x=t.x,this._passiveTransform.y=t.y,this._dropContainer||this._applyRootElementTransform(t.x,t.y),this}withPreviewContainer(t){return this._previewContainer=t,this}_sortFromLastPointerPosition(){const t=this._lastKnownPointerPosition;t&&this._dropContainer&&this._updateActiveDropContainer(this._getConstrainedPointerPosition(t),t)}_removeSubscriptions(){this._pointerMoveSubscription.unsubscribe(),this._pointerUpSubscription.unsubscribe(),this._scrollSubscription.unsubscribe()}_destroyPreview(){this._preview&&W_(this._preview),this._previewRef&&this._previewRef.destroy(),this._preview=this._previewRef=null}_destroyPlaceholder(){this._placeholder&&W_(this._placeholder),this._placeholderRef&&this._placeholderRef.destroy(),this._placeholder=this._placeholderRef=null}_endDragSequence(t){if(this._dragDropRegistry.isDragging(this)&&(this._removeSubscriptions(),this._dragDropRegistry.stopDragging(this),this._toggleNativeDragInteractions(),this._handles&&(this._rootElement.style.webkitTapHighlightColor=this._rootElementTapHighlight),this._hasStartedDragging))if(this.released.next({source:this}),this._dropContainer)this._dropContainer._stopScrolling(),this._animatePreviewToPlaceholder().then(()=>{this._cleanupDragArtifacts(t),this._cleanupCachedDimensions(),this._dragDropRegistry.stopDragging(this)});else{this._passiveTransform.x=this._activeTransform.x;const e=this._getPointerPositionOnPage(t);this._passiveTransform.y=this._activeTransform.y,this._ngZone.run(()=>{this.ended.next({source:this,distance:this._getDragDistance(e),dropPoint:e})}),this._cleanupCachedDimensions(),this._dragDropRegistry.stopDragging(this)}}_startDragSequence(t){Yp(t)&&(this._lastTouchEventTime=Date.now()),this._toggleNativeDragInteractions();const e=this._dropContainer;if(e){const i=this._rootElement,s=i.parentNode,r=this._placeholder=this._createPlaceholderElement(),o=this._anchor=this._anchor||this._document.createComment(""),a=this._getShadowRoot();s.insertBefore(o,i),this._initialTransform=i.style.transform||"",this._preview=this._createPreviewElement(),KF(i,!1,Q1),this._document.body.appendChild(s.replaceChild(r,i)),this._getPreviewInsertionPoint(s,a).appendChild(this._preview),this.started.next({source:this}),e.start(),this._initialContainer=e,this._initialIndex=e.getItemIndex(this)}else this.started.next({source:this}),this._initialContainer=this._initialIndex=void 0;this._parentPositions.cache(e?e.getScrollableParents():[])}_initializeDragSequence(t,e){this._parentDragRef&&e.stopPropagation();const i=this.isDragging(),s=Yp(e),r=!s&&0!==e.button,o=this._rootElement,a=Hr(e),u=!s&&this._lastTouchEventTime&&this._lastTouchEventTime+800>Date.now(),h=s?function(n){const t=n.touches&&n.touches[0]||n.changedTouches&&n.changedTouches[0];return!(!t||-1!==t.identifier||null!=t.radiusX&&1!==t.radiusX||null!=t.radiusY&&1!==t.radiusY)}(e):function(n){return 0===n.offsetX&&0===n.offsetY}(e);if(a&&a.draggable&&"mousedown"===e.type&&e.preventDefault(),i||r||u||h)return;this._handles.length&&(this._rootElementTapHighlight=o.style.webkitTapHighlightColor||"",o.style.webkitTapHighlightColor="transparent"),this._hasStartedDragging=this._hasMoved=!1,this._removeSubscriptions(),this._pointerMoveSubscription=this._dragDropRegistry.pointerMove.subscribe(this._pointerMove),this._pointerUpSubscription=this._dragDropRegistry.pointerUp.subscribe(this._pointerUp),this._scrollSubscription=this._dragDropRegistry.scrolled(this._getShadowRoot()).subscribe(v=>this._updateOnScroll(v)),this._boundaryElement&&(this._boundaryRect=K1(this._boundaryElement));const f=this._previewTemplate;this._pickupPositionInElement=f&&f.template&&!f.matchSize?{x:0,y:0}:this._getPointerPositionInElement(t,e);const p=this._pickupPositionOnPage=this._lastKnownPointerPosition=this._getPointerPositionOnPage(e);this._pointerDirectionDelta={x:0,y:0},this._pointerPositionAtLastDirectionChange={x:p.x,y:p.y},this._dragStartTime=Date.now(),this._dragDropRegistry.startDragging(this,e)}_cleanupDragArtifacts(t){KF(this._rootElement,!0,Q1),this._anchor.parentNode.replaceChild(this._rootElement,this._anchor),this._destroyPreview(),this._destroyPlaceholder(),this._boundaryRect=this._previewRect=this._initialTransform=void 0,this._ngZone.run(()=>{const e=this._dropContainer,i=e.getItemIndex(this),s=this._getPointerPositionOnPage(t),r=this._getDragDistance(s),o=e._isOverContainer(s.x,s.y);this.ended.next({source:this,distance:r,dropPoint:s}),this.dropped.next({item:this,currentIndex:i,previousIndex:this._initialIndex,container:e,previousContainer:this._initialContainer,isPointerOverContainer:o,distance:r,dropPoint:s}),e.drop(this,i,this._initialIndex,this._initialContainer,o,r,s),this._dropContainer=this._initialContainer})}_updateActiveDropContainer({x:t,y:e},{x:i,y:s}){let r=this._initialContainer._getSiblingContainerFromPosition(this,t,e);!r&&this._dropContainer!==this._initialContainer&&this._initialContainer._isOverContainer(t,e)&&(r=this._initialContainer),r&&r!==this._dropContainer&&this._ngZone.run(()=>{this.exited.next({item:this,container:this._dropContainer}),this._dropContainer.exit(this),this._dropContainer=r,this._dropContainer.enter(this,t,e,r===this._initialContainer&&r.sortingDisabled?this._initialIndex:void 0),this.entered.next({item:this,container:r,currentIndex:r.getItemIndex(this)})}),this.isDragging()&&(this._dropContainer._startScrollingIfNecessary(i,s),this._dropContainer._sortItem(this,t,e,this._pointerDirectionDelta),this._applyPreviewTransform(t-this._pickupPositionInElement.x,e-this._pickupPositionInElement.y))}_createPreviewElement(){const t=this._previewTemplate,e=this.previewClass,i=t?t.template:null;let s;if(i&&t){const r=t.matchSize?this._rootElement.getBoundingClientRect():null,o=t.viewContainer.createEmbeddedView(i,t.context);o.detectChanges(),s=rV(o,this._document),this._previewRef=o,t.matchSize?oV(s,r):s.style.transform=j_(this._pickupPositionOnPage.x,this._pickupPositionOnPage.y)}else{const r=this._rootElement;s=JF(r),oV(s,r.getBoundingClientRect()),this._initialTransform&&(s.style.transform=this._initialTransform)}return W1(s.style,{"pointer-events":"none",margin:"0",position:"fixed",top:"0",left:"0","z-index":`${this._config.zIndex||1e3}`},Q1),Oh(s,!1),s.classList.add("cdk-drag-preview"),s.setAttribute("dir",this._direction),e&&(Array.isArray(e)?e.forEach(r=>s.classList.add(r)):s.classList.add(e)),s}_animatePreviewToPlaceholder(){if(!this._hasMoved)return Promise.resolve();const t=this._placeholder.getBoundingClientRect();this._preview.classList.add("cdk-drag-animating"),this._applyPreviewTransform(t.left,t.top);const e=function(n){const t=getComputedStyle(n),e=z1(t,"transition-property"),i=e.find(a=>"transform"===a||"all"===a);if(!i)return 0;const s=e.indexOf(i),r=z1(t,"transition-duration"),o=z1(t,"transition-delay");return YF(r[s])+YF(o[s])}(this._preview);return 0===e?Promise.resolve():this._ngZone.runOutsideAngular(()=>new Promise(i=>{const s=o=>{var a;(!o||Hr(o)===this._preview&&"transform"===o.propertyName)&&(null===(a=this._preview)||void 0===a||a.removeEventListener("transitionend",s),i(),clearTimeout(r))},r=setTimeout(s,1.5*e);this._preview.addEventListener("transitionend",s)}))}_createPlaceholderElement(){const t=this._placeholderTemplate,e=t?t.template:null;let i;return e?(this._placeholderRef=t.viewContainer.createEmbeddedView(e,t.context),this._placeholderRef.detectChanges(),i=rV(this._placeholderRef,this._document)):i=JF(this._rootElement),i.classList.add("cdk-drag-placeholder"),i}_getPointerPositionInElement(t,e){const i=this._rootElement.getBoundingClientRect(),s=t===this._rootElement?null:t,r=s?s.getBoundingClientRect():i,o=Yp(e)?e.targetTouches[0]:e,a=this._getViewportScrollPosition();return{x:r.left-i.left+(o.pageX-r.left-a.left),y:r.top-i.top+(o.pageY-r.top-a.top)}}_getPointerPositionOnPage(t){const e=this._getViewportScrollPosition(),i=Yp(t)?t.touches[0]||t.changedTouches[0]||{pageX:0,pageY:0}:t,s=i.pageX-e.left,r=i.pageY-e.top;if(this._ownerSVGElement){const o=this._ownerSVGElement.getScreenCTM();if(o){const a=this._ownerSVGElement.createSVGPoint();return a.x=s,a.y=r,a.matrixTransform(o.inverse())}}return{x:s,y:r}}_getConstrainedPointerPosition(t){const e=this._dropContainer?this._dropContainer.lockAxis:null;let{x:i,y:s}=this.constrainPosition?this.constrainPosition(t,this):t;if("x"===this.lockAxis||"x"===e?s=this._pickupPositionOnPage.y:("y"===this.lockAxis||"y"===e)&&(i=this._pickupPositionOnPage.x),this._boundaryRect){const{x:r,y:o}=this._pickupPositionInElement,a=this._boundaryRect,u=this._previewRect,h=a.top+o,f=a.bottom-(u.height-o);i=sV(i,a.left+r,a.right-(u.width-r)),s=sV(s,h,f)}return{x:i,y:s}}_updatePointerDirectionDelta(t){const{x:e,y:i}=t,s=this._pointerDirectionDelta,r=this._pointerPositionAtLastDirectionChange,o=Math.abs(e-r.x),a=Math.abs(i-r.y);return o>this._config.pointerDirectionChangeThreshold&&(s.x=e>r.x?1:-1,r.x=e),a>this._config.pointerDirectionChangeThreshold&&(s.y=i>r.y?1:-1,r.y=i),s}_toggleNativeDragInteractions(){if(!this._rootElement||!this._handles)return;const t=this._handles.length>0||!this.isDragging();t!==this._nativeInteractionsEnabled&&(this._nativeInteractionsEnabled=t,Oh(this._rootElement,t))}_removeRootElementListeners(t){t.removeEventListener("mousedown",this._pointerDown,iV),t.removeEventListener("touchstart",this._pointerDown,nV)}_applyRootElementTransform(t,e){const i=j_(t,e);null==this._initialTransform&&(this._initialTransform=this._rootElement.style.transform&&"none"!=this._rootElement.style.transform?this._rootElement.style.transform:""),this._rootElement.style.transform=U_(i,this._initialTransform)}_applyPreviewTransform(t,e){var i;const s=(null===(i=this._previewTemplate)||void 0===i?void 0:i.template)?void 0:this._initialTransform,r=j_(t,e);this._preview.style.transform=U_(r,s)}_getDragDistance(t){const e=this._pickupPositionOnPage;return e?{x:t.x-e.x,y:t.y-e.y}:{x:0,y:0}}_cleanupCachedDimensions(){this._boundaryRect=this._previewRect=void 0,this._parentPositions.clear()}_containInsideBoundaryOnResize(){let{x:t,y:e}=this._passiveTransform;if(0===t&&0===e||this.isDragging()||!this._boundaryElement)return;const i=this._boundaryElement.getBoundingClientRect(),s=this._rootElement.getBoundingClientRect();if(0===i.width&&0===i.height||0===s.width&&0===s.height)return;const r=i.left-s.left,o=s.right-i.right,a=i.top-s.top,u=s.bottom-i.bottom;i.width>s.width?(r>0&&(t+=r),o>0&&(t-=o)):t=0,i.height>s.height?(a>0&&(e+=a),u>0&&(e-=u)):e=0,(t!==this._passiveTransform.x||e!==this._passiveTransform.y)&&this.setFreeDragPosition({y:e,x:t})}_getDragStartDelay(t){const e=this.dragStartDelay;return"number"==typeof e?e:Yp(t)?e.touch:e?e.mouse:0}_updateOnScroll(t){const e=this._parentPositions.handleScroll(t);if(e){const i=Hr(t);this._boundaryRect&&(i===this._document||i!==this._boundaryElement&&i.contains(this._boundaryElement))&&Kp(this._boundaryRect,e.top,e.left),this._pickupPositionOnPage.x+=e.left,this._pickupPositionOnPage.y+=e.top,this._dropContainer||(this._activeTransform.x-=e.left,this._activeTransform.y-=e.top,this._applyRootElementTransform(this._activeTransform.x,this._activeTransform.y))}}_getViewportScrollPosition(){const t=this._parentPositions.positions.get(this._document);return t?t.scrollPosition:this._viewportRuler.getViewportScrollPosition()}_getShadowRoot(){return void 0===this._cachedShadowRoot&&(this._cachedShadowRoot=B1(this._rootElement)),this._cachedShadowRoot}_getPreviewInsertionPoint(t,e){const i=this._previewContainer||"global";if("parent"===i)return t;if("global"===i){const s=this._document;return e||s.fullscreenElement||s.webkitFullscreenElement||s.mozFullScreenElement||s.msFullscreenElement||s.body}return kn(i)}}function j_(n,t){return`translate3d(${Math.round(n)}px, ${Math.round(t)}px, 0)`}function sV(n,t,e){return Math.max(t,Math.min(e,n))}function W_(n){n&&n.parentNode&&n.parentNode.removeChild(n)}function Yp(n){return"t"===n.type[0]}function rV(n,t){const e=n.rootNodes;if(1===e.length&&e[0].nodeType===t.ELEMENT_NODE)return e[0];const i=t.createElement("div");return e.forEach(s=>i.appendChild(s)),i}function oV(n,t){n.style.width=`${t.width}px`,n.style.height=`${t.height}px`,n.style.transform=j_(t.left,t.top)}function Z1(n,t,e){const i=Qp(t,n.length-1),s=Qp(e,n.length-1);if(i===s)return;const r=n[i],o=s<i?-1:1;for(let a=i;a!==s;a+=o)n[a]=n[a+o];n[s]=r}function Qp(n,t){return Math.max(0,Math.min(t,n))}class UY{constructor(t,e,i,s,r){this._dragDropRegistry=e,this._ngZone=s,this._viewportRuler=r,this.disabled=!1,this.sortingDisabled=!1,this.autoScrollDisabled=!1,this.autoScrollStep=2,this.enterPredicate=()=>!0,this.sortPredicate=()=>!0,this.beforeStarted=new Ue,this.entered=new Ue,this.exited=new Ue,this.dropped=new Ue,this.sorted=new Ue,this._isDragging=!1,this._itemPositions=[],this._previousSwap={drag:null,delta:0,overlaps:!1},this._draggables=[],this._siblings=[],this._orientation="vertical",this._activeSiblings=new Set,this._direction="ltr",this._viewportScrollSubscription=We.EMPTY,this._verticalScrollDirection=0,this._horizontalScrollDirection=0,this._stopScrollTimers=new Ue,this._cachedShadowRoot=null,this._startScrollInterval=()=>{this._stopScrolling(),function(n=0,t=qp){return(!N1(n)||n<0)&&(n=0),(!t||"function"!=typeof t.schedule)&&(t=qp),new $e(e=>(e.add(t.schedule(LY,n,{subscriber:e,counter:0,period:n})),e))}(0,mF).pipe(qa(this._stopScrollTimers)).subscribe(()=>{const o=this._scrollNode,a=this.autoScrollStep;1===this._verticalScrollDirection?cV(o,-a):2===this._verticalScrollDirection&&cV(o,a),1===this._horizontalScrollDirection?uV(o,-a):2===this._horizontalScrollDirection&&uV(o,a)})},this.element=kn(t),this._document=i,this.withScrollableParents([this.element]),e.registerDropContainer(this),this._parentPositions=new ZF(i,r)}dispose(){this._stopScrolling(),this._stopScrollTimers.complete(),this._viewportScrollSubscription.unsubscribe(),this.beforeStarted.complete(),this.entered.complete(),this.exited.complete(),this.dropped.complete(),this.sorted.complete(),this._activeSiblings.clear(),this._scrollNode=null,this._parentPositions.clear(),this._dragDropRegistry.removeDropContainer(this)}isDragging(){return this._isDragging}start(){this._draggingStarted(),this._notifyReceivingSiblings()}enter(t,e,i,s){let r;this._draggingStarted(),null==s?(r=this.sortingDisabled?this._draggables.indexOf(t):-1,-1===r&&(r=this._getItemIndexFromPointerPosition(t,e,i))):r=s;const o=this._activeDraggables,a=o.indexOf(t),u=t.getPlaceholderElement();let h=o[r];if(h===t&&(h=o[r+1]),a>-1&&o.splice(a,1),h&&!this._dragDropRegistry.isDragging(h)){const f=h.getRootElement();f.parentElement.insertBefore(u,f),o.splice(r,0,t)}else if(this._shouldEnterAsFirstChild(e,i)){const f=o[0].getRootElement();f.parentNode.insertBefore(u,f),o.unshift(t)}else kn(this.element).appendChild(u),o.push(t);u.style.transform="",this._cacheItemPositions(),this._cacheParentPositions(),this._notifyReceivingSiblings(),this.entered.next({item:t,container:this,currentIndex:this.getItemIndex(t)})}exit(t){this._reset(),this.exited.next({item:t,container:this})}drop(t,e,i,s,r,o,a){this._reset(),this.dropped.next({item:t,currentIndex:e,previousIndex:i,container:this,previousContainer:s,isPointerOverContainer:r,distance:o,dropPoint:a})}withItems(t){const e=this._draggables;return this._draggables=t,t.forEach(i=>i._withDropContainer(this)),this.isDragging()&&(e.filter(s=>s.isDragging()).every(s=>-1===t.indexOf(s))?this._reset():this._cacheItems()),this}withDirection(t){return this._direction=t,this}connectedTo(t){return this._siblings=t.slice(),this}withOrientation(t){return this._orientation=t,this}withScrollableParents(t){const e=kn(this.element);return this._scrollableElements=-1===t.indexOf(e)?[e,...t]:t.slice(),this}getScrollableParents(){return this._scrollableElements}getItemIndex(t){return this._isDragging?J1("horizontal"===this._orientation&&"rtl"===this._direction?this._itemPositions.slice().reverse():this._itemPositions,i=>i.drag===t):this._draggables.indexOf(t)}isReceiving(){return this._activeSiblings.size>0}_sortItem(t,e,i,s){if(this.sortingDisabled||!this._clientRect||!QF(this._clientRect,.05,e,i))return;const r=this._itemPositions,o=this._getItemIndexFromPointerPosition(t,e,i,s);if(-1===o&&r.length>0)return;const a="horizontal"===this._orientation,u=J1(r,C=>C.drag===t),h=r[o],p=h.clientRect,v=u>o?1:-1,_=this._getItemOffsetPx(r[u].clientRect,p,v),S=this._getSiblingOffsetPx(u,r,v),D=r.slice();Z1(r,u,o),this.sorted.next({previousIndex:u,currentIndex:o,container:this,item:t}),r.forEach((C,L)=>{if(D[L]===C)return;const N=C.drag===t,j=N?_:S,U=N?t.getPlaceholderElement():C.drag.getRootElement();C.offset+=j,a?(U.style.transform=U_(`translate3d(${Math.round(C.offset)}px, 0, 0)`,C.initialTransform),Kp(C.clientRect,0,j)):(U.style.transform=U_(`translate3d(0, ${Math.round(C.offset)}px, 0)`,C.initialTransform),Kp(C.clientRect,j,0))}),this._previousSwap.overlaps=Y1(p,e,i),this._previousSwap.drag=h.drag,this._previousSwap.delta=a?s.x:s.y}_startScrollingIfNecessary(t,e){if(this.autoScrollDisabled)return;let i,s=0,r=0;if(this._parentPositions.positions.forEach((o,a)=>{a===this._document||!o.clientRect||i||QF(o.clientRect,.05,t,e)&&([s,r]=function(n,t,e,i){const s=hV(t,i),r=dV(t,e);let o=0,a=0;if(s){const u=n.scrollTop;1===s?u>0&&(o=1):n.scrollHeight-u>n.clientHeight&&(o=2)}if(r){const u=n.scrollLeft;1===r?u>0&&(a=1):n.scrollWidth-u>n.clientWidth&&(a=2)}return[o,a]}(a,o.clientRect,t,e),(s||r)&&(i=a))}),!s&&!r){const{width:o,height:a}=this._viewportRuler.getViewportSize(),u={width:o,height:a,top:0,right:o,bottom:a,left:0};s=hV(u,e),r=dV(u,t),i=window}i&&(s!==this._verticalScrollDirection||r!==this._horizontalScrollDirection||i!==this._scrollNode)&&(this._verticalScrollDirection=s,this._horizontalScrollDirection=r,this._scrollNode=i,(s||r)&&i?this._ngZone.runOutsideAngular(this._startScrollInterval):this._stopScrolling())}_stopScrolling(){this._stopScrollTimers.next()}_draggingStarted(){const t=kn(this.element).style;this.beforeStarted.next(),this._isDragging=!0,this._initialScrollSnap=t.msScrollSnapType||t.scrollSnapType||"",t.scrollSnapType=t.msScrollSnapType="none",this._cacheItems(),this._viewportScrollSubscription.unsubscribe(),this._listenToScrollEvents()}_cacheParentPositions(){const t=kn(this.element);this._parentPositions.cache(this._scrollableElements),this._clientRect=this._parentPositions.positions.get(t).clientRect}_cacheItemPositions(){const t="horizontal"===this._orientation;this._itemPositions=this._activeDraggables.map(e=>{const i=e.getVisibleElement();return{drag:e,offset:0,initialTransform:i.style.transform||"",clientRect:K1(i)}}).sort((e,i)=>t?e.clientRect.left-i.clientRect.left:e.clientRect.top-i.clientRect.top)}_reset(){this._isDragging=!1;const t=kn(this.element).style;t.scrollSnapType=t.msScrollSnapType=this._initialScrollSnap,this._activeDraggables.forEach(e=>{var i;const s=e.getRootElement();if(s){const r=null===(i=this._itemPositions.find(o=>o.drag===e))||void 0===i?void 0:i.initialTransform;s.style.transform=r||""}}),this._siblings.forEach(e=>e._stopReceiving(this)),this._activeDraggables=[],this._itemPositions=[],this._previousSwap.drag=null,this._previousSwap.delta=0,this._previousSwap.overlaps=!1,this._stopScrolling(),this._viewportScrollSubscription.unsubscribe(),this._parentPositions.clear()}_getSiblingOffsetPx(t,e,i){const s="horizontal"===this._orientation,r=e[t].clientRect,o=e[t+-1*i];let a=r[s?"width":"height"]*i;if(o){const u=s?"left":"top",h=s?"right":"bottom";-1===i?a-=o.clientRect[u]-r[h]:a+=r[u]-o.clientRect[h]}return a}_getItemOffsetPx(t,e,i){const s="horizontal"===this._orientation;let r=s?e.left-t.left:e.top-t.top;return-1===i&&(r+=s?e.width-t.width:e.height-t.height),r}_shouldEnterAsFirstChild(t,e){if(!this._activeDraggables.length)return!1;const i=this._itemPositions,s="horizontal"===this._orientation;if(i[0].drag!==this._activeDraggables[0]){const o=i[i.length-1].clientRect;return s?t>=o.right:e>=o.bottom}{const o=i[0].clientRect;return s?t<=o.left:e<=o.top}}_getItemIndexFromPointerPosition(t,e,i,s){const r="horizontal"===this._orientation,o=J1(this._itemPositions,({drag:a,clientRect:u},h,f)=>{if(a===t)return f.length<2;if(s){const p=r?s.x:s.y;if(a===this._previousSwap.drag&&this._previousSwap.overlaps&&p===this._previousSwap.delta)return!1}return r?e>=Math.floor(u.left)&&e<Math.floor(u.right):i>=Math.floor(u.top)&&i<Math.floor(u.bottom)});return-1!==o&&this.sortPredicate(o,t,this)?o:-1}_cacheItems(){this._activeDraggables=this._draggables.slice(),this._cacheItemPositions(),this._cacheParentPositions()}_isOverContainer(t,e){return null!=this._clientRect&&Y1(this._clientRect,t,e)}_getSiblingContainerFromPosition(t,e,i){return this._siblings.find(s=>s._canReceive(t,e,i))}_canReceive(t,e,i){if(!this._clientRect||!Y1(this._clientRect,e,i)||!this.enterPredicate(t,this))return!1;const s=this._getShadowRoot().elementFromPoint(e,i);if(!s)return!1;const r=kn(this.element);return s===r||r.contains(s)}_startReceiving(t,e){const i=this._activeSiblings;!i.has(t)&&e.every(s=>this.enterPredicate(s,this)||this._draggables.indexOf(s)>-1)&&(i.add(t),this._cacheParentPositions(),this._listenToScrollEvents())}_stopReceiving(t){this._activeSiblings.delete(t),this._viewportScrollSubscription.unsubscribe()}_listenToScrollEvents(){this._viewportScrollSubscription=this._dragDropRegistry.scrolled(this._getShadowRoot()).subscribe(t=>{if(this.isDragging()){const e=this._parentPositions.handleScroll(t);e&&(this._itemPositions.forEach(({clientRect:i})=>{Kp(i,e.top,e.left)}),this._itemPositions.forEach(({drag:i})=>{this._dragDropRegistry.isDragging(i)&&i._sortFromLastPointerPosition()}))}else this.isReceiving()&&this._cacheParentPositions()})}_getShadowRoot(){if(!this._cachedShadowRoot){const t=B1(kn(this.element));this._cachedShadowRoot=t||this._document}return this._cachedShadowRoot}_notifyReceivingSiblings(){const t=this._activeDraggables.filter(e=>e.isDragging());this._siblings.forEach(e=>e._startReceiving(this,t))}}function J1(n,t){for(let e=0;e<n.length;e++)if(t(n[e],e,n))return e;return-1}function cV(n,t){n===window?n.scrollBy(0,t):n.scrollTop+=t}function uV(n,t){n===window?n.scrollBy(t,0):n.scrollLeft+=t}function hV(n,t){const{top:e,bottom:i,height:s}=n,r=.05*s;return t>=e-r&&t<=e+r?1:t>=i-r&&t<=i+r?2:0}function dV(n,t){const{left:e,right:i,width:s}=n,r=.05*s;return t>=e-r&&t<=e+r?1:t>=i-r&&t<=i+r?2:0}const z_=jp({passive:!1,capture:!0});let fV=(()=>{class n{constructor(e,i){this._ngZone=e,this._dropInstances=new Set,this._dragInstances=new Set,this._activeDragInstances=[],this._globalListeners=new Map,this._draggingPredicate=s=>s.isDragging(),this.pointerMove=new Ue,this.pointerUp=new Ue,this.scroll=new Ue,this._preventDefaultWhileDragging=s=>{this._activeDragInstances.length>0&&s.preventDefault()},this._persistentTouchmoveListener=s=>{this._activeDragInstances.length>0&&(this._activeDragInstances.some(this._draggingPredicate)&&s.preventDefault(),this.pointerMove.next(s))},this._document=i}registerDropContainer(e){this._dropInstances.has(e)||this._dropInstances.add(e)}registerDragItem(e){this._dragInstances.add(e),1===this._dragInstances.size&&this._ngZone.runOutsideAngular(()=>{this._document.addEventListener("touchmove",this._persistentTouchmoveListener,z_)})}removeDropContainer(e){this._dropInstances.delete(e)}removeDragItem(e){this._dragInstances.delete(e),this.stopDragging(e),0===this._dragInstances.size&&this._document.removeEventListener("touchmove",this._persistentTouchmoveListener,z_)}startDragging(e,i){if(!(this._activeDragInstances.indexOf(e)>-1)&&(this._activeDragInstances.push(e),1===this._activeDragInstances.length)){const s=i.type.startsWith("touch");this._globalListeners.set(s?"touchend":"mouseup",{handler:r=>this.pointerUp.next(r),options:!0}).set("scroll",{handler:r=>this.scroll.next(r),options:!0}).set("selectstart",{handler:this._preventDefaultWhileDragging,options:z_}),s||this._globalListeners.set("mousemove",{handler:r=>this.pointerMove.next(r),options:z_}),this._ngZone.runOutsideAngular(()=>{this._globalListeners.forEach((r,o)=>{this._document.addEventListener(o,r.handler,r.options)})})}}stopDragging(e){const i=this._activeDragInstances.indexOf(e);i>-1&&(this._activeDragInstances.splice(i,1),0===this._activeDragInstances.length&&this._clearGlobalListeners())}isDragging(e){return this._activeDragInstances.indexOf(e)>-1}scrolled(e){const i=[this.scroll];return e&&e!==this._document&&i.push(new $e(s=>this._ngZone.runOutsideAngular(()=>{const o=a=>{this._activeDragInstances.length&&s.next(a)};return e.addEventListener("scroll",o,!0),()=>{e.removeEventListener("scroll",o,!0)}}))),_r(...i)}ngOnDestroy(){this._dragInstances.forEach(e=>this.removeDragItem(e)),this._dropInstances.forEach(e=>this.removeDropContainer(e)),this._clearGlobalListeners(),this.pointerMove.complete(),this.pointerUp.complete()}_clearGlobalListeners(){this._globalListeners.forEach((e,i)=>{this._document.removeEventListener(i,e.handler,e.options)}),this._globalListeners.clear()}}return n.\u0275fac=function(e){return new(e||n)(B(Fe),B(je))},n.\u0275prov=se({factory:function(){return new n(B(Fe),B(je))},token:n,providedIn:"root"}),n})();const WY={dragStartThreshold:5,pointerDirectionChangeThreshold:5};let X1=(()=>{class n{constructor(e,i,s,r){this._document=e,this._ngZone=i,this._viewportRuler=s,this._dragDropRegistry=r}createDrag(e,i=WY){return new GY(e,i,this._document,this._ngZone,this._viewportRuler,this._dragDropRegistry)}createDropList(e){return new UY(e,this._dragDropRegistry,this._document,this._ngZone,this._viewportRuler)}}return n.\u0275fac=function(e){return new(e||n)(B(je),B(Fe),B(H1),B(fV))},n.\u0275prov=se({factory:function(){return new n(B(je),B(Fe),B(H1),B(fV))},token:n,providedIn:"root"}),n})();const eT=new de("CDK_DRAG_PARENT"),tT=new de("CdkDropListGroup"),pV=new de("CDK_DRAG_CONFIG");let zY=0;const gV=new de("CdkDropList");let YY=(()=>{class n{constructor(e,i,s,r,o,a,u){this.element=e,this._changeDetectorRef=s,this._scrollDispatcher=r,this._dir=o,this._group=a,this._destroyed=new Ue,this.connectedTo=[],this.id="cdk-drop-list-"+zY++,this.enterPredicate=()=>!0,this.sortPredicate=()=>!0,this.dropped=new at,this.entered=new at,this.exited=new at,this.sorted=new at,this._unsortedItems=new Set,this._dropListRef=i.createDropList(e),this._dropListRef.data=this,u&&this._assignDefaults(u),this._dropListRef.enterPredicate=(h,f)=>this.enterPredicate(h.data,f.data),this._dropListRef.sortPredicate=(h,f,p)=>this.sortPredicate(h,f.data,p.data),this._setupInputSyncSubscription(this._dropListRef),this._handleEvents(this._dropListRef),n._dropLists.push(this),a&&a._items.add(this)}get disabled(){return this._disabled||!!this._group&&this._group.disabled}set disabled(e){this._dropListRef.disabled=this._disabled=Fs(e)}addItem(e){this._unsortedItems.add(e),this._dropListRef.isDragging()&&this._syncItemsWithRef()}removeItem(e){this._unsortedItems.delete(e),this._dropListRef.isDragging()&&this._syncItemsWithRef()}getSortedItems(){return Array.from(this._unsortedItems).sort((e,i)=>e._dragRef.getVisibleElement().compareDocumentPosition(i._dragRef.getVisibleElement())&Node.DOCUMENT_POSITION_FOLLOWING?-1:1)}ngOnDestroy(){const e=n._dropLists.indexOf(this);e>-1&&n._dropLists.splice(e,1),this._group&&this._group._items.delete(this),this._unsortedItems.clear(),this._dropListRef.dispose(),this._destroyed.next(),this._destroyed.complete()}_setupInputSyncSubscription(e){this._dir&&this._dir.change.pipe(Gp(this._dir.value),qa(this._destroyed)).subscribe(i=>e.withDirection(i)),e.beforeStarted.subscribe(()=>{const i=function(n){return Array.isArray(n)?n:[n]}(this.connectedTo).map(s=>"string"==typeof s?n._dropLists.find(o=>o.id===s):s);if(this._group&&this._group._items.forEach(s=>{-1===i.indexOf(s)&&i.push(s)}),!this._scrollableParentsResolved){const s=this._scrollDispatcher.getAncestorScrollContainers(this.element).map(r=>r.getElementRef().nativeElement);this._dropListRef.withScrollableParents(s),this._scrollableParentsResolved=!0}e.disabled=this.disabled,e.lockAxis=this.lockAxis,e.sortingDisabled=Fs(this.sortingDisabled),e.autoScrollDisabled=Fs(this.autoScrollDisabled),e.autoScrollStep=dc(this.autoScrollStep,2),e.connectedTo(i.filter(s=>s&&s!==this).map(s=>s._dropListRef)).withOrientation(this.orientation)})}_handleEvents(e){e.beforeStarted.subscribe(()=>{this._syncItemsWithRef(),this._changeDetectorRef.markForCheck()}),e.entered.subscribe(i=>{this.entered.emit({container:this,item:i.item.data,currentIndex:i.currentIndex})}),e.exited.subscribe(i=>{this.exited.emit({container:this,item:i.item.data}),this._changeDetectorRef.markForCheck()}),e.sorted.subscribe(i=>{this.sorted.emit({previousIndex:i.previousIndex,currentIndex:i.currentIndex,container:this,item:i.item.data})}),e.dropped.subscribe(i=>{this.dropped.emit({previousIndex:i.previousIndex,currentIndex:i.currentIndex,previousContainer:i.previousContainer.data,container:i.container.data,item:i.item.data,isPointerOverContainer:i.isPointerOverContainer,distance:i.distance,dropPoint:i.dropPoint}),this._changeDetectorRef.markForCheck()})}_assignDefaults(e){const{lockAxis:i,draggingDisabled:s,sortingDisabled:r,listAutoScrollDisabled:o,listOrientation:a}=e;this.disabled=null!=s&&s,this.sortingDisabled=null!=r&&r,this.autoScrollDisabled=null!=o&&o,this.orientation=a||"vertical",i&&(this.lockAxis=i)}_syncItemsWithRef(){this._dropListRef.withItems(this.getSortedItems().map(e=>e._dragRef))}}return n.\u0275fac=function(e){return new(e||n)(V(Pt),V(X1),V(jy),V($1),V(zp,8),V(tT,12),V(pV,8))},n.\u0275dir=re({type:n,selectors:[["","cdkDropList",""],["cdk-drop-list"]],hostAttrs:[1,"cdk-drop-list"],hostVars:7,hostBindings:function(e,i){2&e&&(rr("id",i.id),ql("cdk-drop-list-disabled",i.disabled)("cdk-drop-list-dragging",i._dropListRef.isDragging())("cdk-drop-list-receiving",i._dropListRef.isReceiving()))},inputs:{connectedTo:["cdkDropListConnectedTo","connectedTo"],id:"id",enterPredicate:["cdkDropListEnterPredicate","enterPredicate"],sortPredicate:["cdkDropListSortPredicate","sortPredicate"],disabled:["cdkDropListDisabled","disabled"],sortingDisabled:["cdkDropListSortingDisabled","sortingDisabled"],autoScrollDisabled:["cdkDropListAutoScrollDisabled","autoScrollDisabled"],orientation:["cdkDropListOrientation","orientation"],lockAxis:["cdkDropListLockAxis","lockAxis"],data:["cdkDropListData","data"],autoScrollStep:["cdkDropListAutoScrollStep","autoScrollStep"]},outputs:{dropped:"cdkDropListDropped",entered:"cdkDropListEntered",exited:"cdkDropListExited",sorted:"cdkDropListSorted"},exportAs:["cdkDropList"],features:[tt([{provide:tT,useValue:void 0},{provide:gV,useExisting:n}])]}),n._dropLists=[],n})();const nT=new de("CdkDragHandle");let QY=(()=>{class n{constructor(e,i){this.element=e,this._stateChanges=new Ue,this._disabled=!1,this._parentDrag=i}get disabled(){return this._disabled}set disabled(e){this._disabled=Fs(e),this._stateChanges.next(this)}ngOnDestroy(){this._stateChanges.complete()}}return n.\u0275fac=function(e){return new(e||n)(V(Pt),V(eT,12))},n.\u0275dir=re({type:n,selectors:[["","cdkDragHandle",""]],hostAttrs:[1,"cdk-drag-handle"],inputs:{disabled:["cdkDragHandleDisabled","disabled"]},features:[tt([{provide:nT,useExisting:n}])]}),n})();const mV=new de("CdkDragPlaceholder"),yV=new de("CdkDragPreview");let JY=(()=>{class n{constructor(e,i,s,r,o,a,u,h,f,p,v){this.element=e,this.dropContainer=i,this._ngZone=r,this._viewContainerRef=o,this._dir=u,this._changeDetectorRef=f,this._selfHandle=p,this._parentDrag=v,this._destroyed=new Ue,this.started=new at,this.released=new at,this.ended=new at,this.entered=new at,this.exited=new at,this.dropped=new at,this.moved=new $e(_=>{const S=this._dragRef.moved.pipe(us(D=>({source:this,pointerPosition:D.pointerPosition,event:D.event,delta:D.delta,distance:D.distance}))).subscribe(_);return()=>{S.unsubscribe()}}),this._dragRef=h.createDrag(e,{dragStartThreshold:a&&null!=a.dragStartThreshold?a.dragStartThreshold:5,pointerDirectionChangeThreshold:a&&null!=a.pointerDirectionChangeThreshold?a.pointerDirectionChangeThreshold:5,zIndex:null==a?void 0:a.zIndex}),this._dragRef.data=this,n._dragInstances.push(this),a&&this._assignDefaults(a),i&&(this._dragRef._withDropContainer(i._dropListRef),i.addItem(this)),this._syncInputs(this._dragRef),this._handleEvents(this._dragRef)}get disabled(){return this._disabled||this.dropContainer&&this.dropContainer.disabled}set disabled(e){this._disabled=Fs(e),this._dragRef.disabled=this._disabled}getPlaceholderElement(){return this._dragRef.getPlaceholderElement()}getRootElement(){return this._dragRef.getRootElement()}reset(){this._dragRef.reset()}getFreeDragPosition(){return this._dragRef.getFreeDragPosition()}ngAfterViewInit(){this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.pipe(G1(1),qa(this._destroyed)).subscribe(()=>{this._updateRootElement(),this._setupHandlesListener(),this.freeDragPosition&&this._dragRef.setFreeDragPosition(this.freeDragPosition)})})}ngOnChanges(e){const i=e.rootElementSelector,s=e.freeDragPosition;i&&!i.firstChange&&this._updateRootElement(),s&&!s.firstChange&&this.freeDragPosition&&this._dragRef.setFreeDragPosition(this.freeDragPosition)}ngOnDestroy(){this.dropContainer&&this.dropContainer.removeItem(this);const e=n._dragInstances.indexOf(this);e>-1&&n._dragInstances.splice(e,1),this._ngZone.runOutsideAngular(()=>{this._destroyed.next(),this._destroyed.complete(),this._dragRef.dispose()})}_updateRootElement(){const e=this.element.nativeElement,i=this.rootElementSelector?vV(e,this.rootElementSelector):e;this._dragRef.withRootElement(i||e)}_getBoundaryElement(){const e=this.boundaryElement;return e?"string"==typeof e?vV(this.element.nativeElement,e):kn(e):null}_syncInputs(e){e.beforeStarted.subscribe(()=>{if(!e.isDragging()){const i=this._dir,s=this.dragStartDelay,r=this._placeholderTemplate?{template:this._placeholderTemplate.templateRef,context:this._placeholderTemplate.data,viewContainer:this._viewContainerRef}:null,o=this._previewTemplate?{template:this._previewTemplate.templateRef,context:this._previewTemplate.data,matchSize:this._previewTemplate.matchSize,viewContainer:this._viewContainerRef}:null;e.disabled=this.disabled,e.lockAxis=this.lockAxis,e.dragStartDelay="object"==typeof s&&s?s:dc(s),e.constrainPosition=this.constrainPosition,e.previewClass=this.previewClass,e.withBoundaryElement(this._getBoundaryElement()).withPlaceholderTemplate(r).withPreviewTemplate(o).withPreviewContainer(this.previewContainer||"global"),i&&e.withDirection(i.value)}}),e.beforeStarted.pipe(G1(1)).subscribe(()=>{var i,s;if(this._parentDrag)return void e.withParent(this._parentDrag._dragRef);let r=this.element.nativeElement.parentElement;for(;r;){if(null===(i=r.classList)||void 0===i?void 0:i.contains("cdk-drag")){e.withParent((null===(s=n._dragInstances.find(o=>o.element.nativeElement===r))||void 0===s?void 0:s._dragRef)||null);break}r=r.parentElement}})}_handleEvents(e){e.started.subscribe(()=>{this.started.emit({source:this}),this._changeDetectorRef.markForCheck()}),e.released.subscribe(()=>{this.released.emit({source:this})}),e.ended.subscribe(i=>{this.ended.emit({source:this,distance:i.distance,dropPoint:i.dropPoint}),this._changeDetectorRef.markForCheck()}),e.entered.subscribe(i=>{this.entered.emit({container:i.container.data,item:this,currentIndex:i.currentIndex})}),e.exited.subscribe(i=>{this.exited.emit({container:i.container.data,item:this})}),e.dropped.subscribe(i=>{this.dropped.emit({previousIndex:i.previousIndex,currentIndex:i.currentIndex,previousContainer:i.previousContainer.data,container:i.container.data,isPointerOverContainer:i.isPointerOverContainer,item:this,distance:i.distance,dropPoint:i.dropPoint})})}_assignDefaults(e){const{lockAxis:i,dragStartDelay:s,constrainPosition:r,previewClass:o,boundaryElement:a,draggingDisabled:u,rootElementSelector:h,previewContainer:f}=e;this.disabled=null!=u&&u,this.dragStartDelay=s||0,i&&(this.lockAxis=i),r&&(this.constrainPosition=r),o&&(this.previewClass=o),a&&(this.boundaryElement=a),h&&(this.rootElementSelector=h),f&&(this.previewContainer=f)}_setupHandlesListener(){this._handles.changes.pipe(Gp(this._handles),function(n,t,e){return function(s){return s.lift(new VY(n,undefined,undefined))}}(e=>{const i=e.filter(s=>s._parentDrag===this).map(s=>s.element);this._selfHandle&&this.rootElementSelector&&i.push(this.element),this._dragRef.withHandles(i)}),L1(e=>_r(...e.map(i=>i._stateChanges.pipe(Gp(i))))),qa(this._destroyed)).subscribe(e=>{const i=this._dragRef,s=e.element.nativeElement;e.disabled?i.disableHandle(s):i.enableHandle(s)})}}return n.\u0275fac=function(e){return new(e||n)(V(Pt),V(gV,12),V(je),V(Fe),V(ks),V(pV,8),V(zp,8),V(X1),V(jy),V(nT,10),V(eT,12))},n.\u0275dir=re({type:n,selectors:[["","cdkDrag",""]],contentQueries:function(e,i,s){if(1&e&&(Xy(s,yV,5),Xy(s,mV,5),Xy(s,nT,5)),2&e){let r;Yl(r=Ql())&&(i._previewTemplate=r.first),Yl(r=Ql())&&(i._placeholderTemplate=r.first),Yl(r=Ql())&&(i._handles=r)}},hostAttrs:[1,"cdk-drag"],hostVars:4,hostBindings:function(e,i){2&e&&ql("cdk-drag-disabled",i.disabled)("cdk-drag-dragging",i._dragRef.isDragging())},inputs:{disabled:["cdkDragDisabled","disabled"],dragStartDelay:["cdkDragStartDelay","dragStartDelay"],lockAxis:["cdkDragLockAxis","lockAxis"],constrainPosition:["cdkDragConstrainPosition","constrainPosition"],previewClass:["cdkDragPreviewClass","previewClass"],boundaryElement:["cdkDragBoundary","boundaryElement"],rootElementSelector:["cdkDragRootElement","rootElementSelector"],previewContainer:["cdkDragPreviewContainer","previewContainer"],data:["cdkDragData","data"],freeDragPosition:["cdkDragFreeDragPosition","freeDragPosition"]},outputs:{started:"cdkDragStarted",released:"cdkDragReleased",ended:"cdkDragEnded",entered:"cdkDragEntered",exited:"cdkDragExited",dropped:"cdkDragDropped",moved:"cdkDragMoved"},exportAs:["cdkDrag"],features:[tt([{provide:eT,useExisting:n}]),_t]}),n._dragInstances=[],n})();function vV(n,t){let e=n.parentElement;for(;e;){if(e.matches?e.matches(t):e.msMatchesSelector(t))return e;e=e.parentElement}return null}let XY=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=Wt({type:n}),n.\u0275inj=Lt({providers:[X1],imports:[q1]}),n})();class $i{constructor(t,e,i,s){this.logService=t,this.toyService=e,this.parent=i,this.level=s}}class eQ extends $i{constructor(){super(...arguments),this.name="Balloon",this.tier=1}onBreak(t,e){let i=this.parent.furthestUpPet,s=this.level;i.increaseAttack(s),i.increaseHealth(s),this.logService.createLog({message:`${this.name} gave ${i.name} ${s} attack and ${s} health.`,type:"ability",player:this.parent,puma:e})}}class tQ extends $i{constructor(){super(...arguments),this.name="Tennis Ball",this.tier=1}startOfBattle(t,e){let i=Tt(t,this.parent),s=i.getRandomPet(null,null,!0);this.toyService.snipePet(s,this.level,this.parent,this.name,!0,e),s=i.getRandomPet(null,null,!0),this.toyService.snipePet(s,this.level,this.parent,this.name,!0,e)}}class nQ extends $i{constructor(){super(...arguments),this.name="Radio",this.tier=2}onBreak(t,e){let i=this.parent.petArray;for(let s of i)!s.alive||(s.increaseHealth(this.level),this.logService.createLog({message:`${this.name} gave ${s.name} ${this.level} health.`,type:"ability",player:this.parent,puma:e}))}}class iQ extends $i{constructor(){super(...arguments),this.name="Garlic Press",this.tier=2}startOfBattle(t,e){for(let i=0;i<this.level;i++)for(let s of this.parent.petArray)if(!((null==s?void 0:s.equipment)instanceof kp)){s.givePetEquipment(new kp),this.logService.createLog({message:`${this.name} gave ${s.name} Garlic.`,type:"ability",player:this.parent,puma:e});break}}}class sQ extends $i{constructor(){super(...arguments),this.name="Toilet Paper",this.tier=3}startOfBattle(t,e){let s=Tt(t,this.parent).petArray.slice(0,this.level);for(let r of s)r.givePetEquipment(new dh),this.logService.createLog({message:`${this.name} gave ${r.name} Weak.`,type:"ability",player:this.parent,puma:e})}}class rQ extends $i{constructor(){super(...arguments),this.name="Oven Mitts",this.tier=3}onBreak(t){}}class oQ extends $i{constructor(){super(...arguments),this.name="Melon Helmet",this.tier=4}onBreak(t,e){let i=this.parent.petArray.filter(s=>s.alive).slice(0,this.level);for(let s of i)s.givePetEquipment(new Oa),this.logService.createLog({message:`${this.name} gave ${s.name} Melon.`,type:"ability",player:this.parent,puma:e})}}class aQ extends $i{constructor(){super(...arguments),this.name="Foam Sword",this.tier=4}startOfBattle(t,e){let i=Tt(t,this.parent);for(let s=0;s<this.level;s++){let r=i.getLowestHealthPet();this.toyService.snipePet(r.pet,6,this.parent,this.name,r.random,e)}}}class lQ extends $i{constructor(){super(...arguments),this.name="Toy Gun",this.tier=4}startOfBattle(t,e){let i=Tt(t,this.parent);for(let s=0;s<this.level;s++){let r=i.getLastPet();this.toyService.snipePet(r,6,this.parent,this.name,!1,e)}}}class cQ extends $i{constructor(){super(...arguments),this.name="Flashlight",this.tier=5}onBreak(t,e){let i=6*this.level,s=this.parent.furthestUpPet;s.increaseAttack(i),s.increaseHealth(i),this.logService.createLog({message:`${this.name} gave ${s.name} ${i} attack and ${i} health.`,type:"ability",player:this.parent,puma:e})}}class uQ extends $i{constructor(){super(...arguments),this.name="Strinky Sock",this.tier=5}startOfBattle(t,e){let i=Tt(t,this.parent);for(let s=0;s<this.level;s++){let r=i.getHighestHealthPet(),o=r.pet,a=.4,u=Math.max(1,Math.floor(o.health*(1-a)));o.health=u,this.logService.createLog({message:`${this.name} reduced ${o.name} health by ${100*a}% (${u})`,type:"ability",player:this.parent,puma:e,randomEvent:r.random})}}}class hQ extends $i{constructor(){super(...arguments),this.name="Television",this.tier=6}onBreak(t,e){let i=2*this.level;for(let s of this.parent.petArray)!s.alive||(s.increaseAttack(i),s.increaseHealth(i),this.logService.createLog({message:`${this.name} gave ${s.name} ${i} attack and ${i} health.`,type:"ability",player:this.parent,puma:e}))}}class dQ extends $i{constructor(){super(...arguments),this.name="Peanut Jar",this.tier=6}startOfBattle(t,e){for(let i=0;i<this.level;i++)for(let s of this.parent.petArray)if(!((null==s?void 0:s.equipment)instanceof ic)){s.givePetEquipment(new ic),this.logService.createLog({message:`${this.name} gave ${s.name} Peanut.`,type:"ability",player:this.parent,puma:e});break}}}class fQ extends $i{constructor(){super(...arguments),this.name="Air Palm Tree",this.tier=6}startOfBattle(t,e){for(let i=0;i<this.level;i++)for(let s of this.parent.petArray)if(!((null==s?void 0:s.equipment)instanceof Na)){s.givePetEquipment(new Na),this.logService.createLog({message:`${this.name} gave ${s.name} Coconut.`,type:"ability",player:this.parent,puma:e});break}}}let pQ=(()=>{class n{constructor(e,i,s){this.logService=e,this.abilityService=i,this.gameService=s,this.toys=new Map,this.startOfBattleEvents=[],this.setToys()}setToys(){this.toys.set(1,["Ballon","Tennis Ball"]),this.toys.set(2,["Radio","Garlic Press"]),this.toys.set(3,["Toilet Paper","Oven Mitts"]),this.toys.set(4,["Melon Helmet","Foam Sword","Toy Gun"]),this.toys.set(5,["Flashlight","Stinky Sock"]),this.toys.set(6,["Television","Peanut Jar","Air Palm Tree"])}createToy(e,i,s=1){switch(e){case"Ballon":return new eQ(this.logService,this,i,s);case"Tennis Ball":return new tQ(this.logService,this,i,s);case"Radio":return new nQ(this.logService,this,i,s);case"Garlic Press":return new iQ(this.logService,this,i,s);case"Toilet Paper":return new sQ(this.logService,this,i,s);case"Oven Mitts":return new rQ(this.logService,this,i,s);case"Melon Helmet":return new oQ(this.logService,this,i,s);case"Foam Sword":return new aQ(this.logService,this,i,s);case"Toy Gun":return new lQ(this.logService,this,i,s);case"Flashlight":return new cQ(this.logService,this,i,s);case"Stinky Sock":return new uQ(this.logService,this,i,s);case"Television":return new hQ(this.logService,this,i,s);case"Peanut Jar":return new dQ(this.logService,this,i,s);case"Air Palm Tree":return new fQ(this.logService,this,i,s)}}snipePet(e,i,s,r,o=!1,a=!1){let u=this.calculateDamgae(e,i),h=u.defenseEquipment,f=u.damage;e.health-=f;let p=`${r} sniped ${e.name} for ${f}.`;null!=h&&(e.useDefenseEquipment(),p+=` (${h.name} -${h.power})`),a&&(p+=" (Puma)"),this.logService.createLog({message:p,type:"attack",randomEvent:o,player:s}),null!=e.hurt&&this.abilityService.setHurtEvent({callback:e.hurt.bind(e),priority:e.attack,player:e.parent})}calculateDamgae(e,i){var s,r,o;let a="defense"==(null===(s=e.equipment)||void 0===s?void 0:s.equipmentClass)||"shield"==(null===(r=e.equipment)||void 0===r?void 0:r.equipmentClass)?e.equipment:null,u=null!==(o=null==a?void 0:a.power)&&void 0!==o?o:0;return{defenseEquipment:a,damage:Math.max("shield"==(null==a?void 0:a.equipmentClass)?0:1,i-u)}}setStartOfBattleEvent(e){this.startOfBattleEvents.push(e)}resetStartOfBattleEvents(){this.startOfBattleEvents=[]}executeStartOfBattleEvents(){this.startOfBattleEvents=(0,xe.shuffle)(this.startOfBattleEvents),this.startOfBattleEvents.sort((e,i)=>e.priority>i.priority?-1:e.priority<i.priority?1:0);for(let e of this.startOfBattleEvents)e.callback(this.gameService.gameApi);this.resetStartOfBattleEvents()}}return n.\u0275fac=function(e){return new(e||n)(B(p_),B(g_),B(ph))},n.\u0275prov=se({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),gQ=(()=>{class n{constructor(e){this.gameService=e,this.toyPetEvents=[],this.nonToyPetEvents=[]}initStartOfBattleEvents(){this.gameApi=this.gameService.gameApi;for(let e of this.gameApi.player.petArray)if(null!=e.startOfBattle){let i=this.toyPetEvents;e.toyPet||(i=this.nonToyPetEvents),i.push({callback:e.startOfBattle.bind(e),priority:e.attack,player:this.gameApi.player})}for(let e of this.gameApi.opponet.petArray)if(null!=e.startOfBattle){let i=this.toyPetEvents;e.toyPet||(i=this.nonToyPetEvents),i.push({callback:e.startOfBattle.bind(e),priority:e.attack,player:this.gameApi.opponet})}}resetToyPetEvents(){this.toyPetEvents=[]}resetNonToyPetEvents(){this.nonToyPetEvents=[]}executeToyPetEvents(){this.toyPetEvents=(0,xe.shuffle)(this.toyPetEvents),this.toyPetEvents.sort((e,i)=>e.priority>i.priority?-1:e.priority<i.priority?1:0);for(let e of this.toyPetEvents)e.callback(this.gameApi);this.resetToyPetEvents()}executeNonToyPetEvents(){this.nonToyPetEvents=(0,xe.shuffle)(this.nonToyPetEvents),this.nonToyPetEvents.sort((e,i)=>e.priority>i.priority?-1:e.priority<i.priority?1:0);for(let e of this.nonToyPetEvents)e.callback(this.gameApi);this.resetNonToyPetEvents()}}return n.\u0275fac=function(e){return new(e||n)(B(ph))},n.\u0275prov=se({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),_V=(()=>{class n{constructor(){this.key="sapData"}getStorage(){let e=window.localStorage.getItem(this.key);return console.log(JSON.parse(e)),window.localStorage.getItem(this.key)}setFormStorage(e){let i=e.value;for(let s of i.playerPets)null!=s.equipment&&(s.equipment={name:s.equipment.name});for(let s of i.opponentPets)null!=s.equipment&&(s.equipment={name:s.equipment.name});this.setStorage(i)}setStorage(e){console.log("setting storage",e),"object"==typeof e&&(e=JSON.stringify(e)),window.localStorage.setItem(this.key,e)}clearStorage(){window.localStorage.removeItem(this.key)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=se({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),mQ=(()=>{class n{constructor(){}ngOnInit(){}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=zi({type:n,selectors:[["app-patch-notes"]],decls:244,vars:0,template:function(e,i){1&e&&(m(0,"h2"),T(1,"v0.5.15"),y(),m(2,"ul"),m(3,"li"),T(4,"Updated to SAP Version 0.31.9-145 BETA"),y(),m(5,"ul"),m(6,"li"),T(7,"Added Pigeon, Hare."),y(),m(8,"li"),T(9,"Changed Cricket, Mouse Nest, Robin, Tabby Cat, Dog, Dolphin, Flying Squirrel, Hatching Chick, Owl, Ox, Raccoon, Cockatoo, Mosasaurus, Tyrannosaurus."),y(),m(10,"li"),T(11,"Added Fig."),y(),m(12,"li"),T(13,"Changed Cherry."),y(),y(),y(),m(14,"h2"),T(15,"v0.5.14"),y(),m(16,"ul"),m(17,"li"),T(18,"Bug Report System."),y(),y(),m(19,"h2"),T(20,"v0.5.13"),y(),m(21,"ul"),m(22,"li"),T(23,"Fixed bug with Opponent Empty Front Space events not triggering. (Thanks jer.re)"),y(),y(),m(24,"h2"),T(25,"v0.5.12"),y(),m(26,"ul"),m(27,"li"),T(28,"Pug is tier 3."),y(),m(29,"li"),T(30,"Siberian Husky spelling fix."),y(),m(31,"li"),T(32,"Fixed Kiwi not availble on Star pack. (Thanks Grounded)"),y(),y(),m(33,"h2"),T(34,"v0.5.11"),y(),m(35,"ul"),m(36,"li"),T(37,"Opossum is spelled correctly."),y(),y(),m(38,"h2"),T(39,"v0.5.10"),y(),m(40,"ul"),m(41,"li"),T(42,"Buff pets do not target 50/50 friends."),y(),y(),m(43,"h2"),T(44,"v0.5.9"),y(),m(45,"ul"),m(46,"li"),T(47,"Fixed Rhino base stats."),y(),m(48,"li"),T(49,"Fixed bug with Tiger behind Hurt pet. (Thanks Freetz)."),y(),m(50,"li"),T(51,"Reset button resets Equipment."),y(),m(52,"li"),T(53,"Fixed bugs with export/import."),y(),y(),m(54,"h2"),T(55,"v0.5.8"),y(),m(56,"ul"),m(57,"li"),T(58,"Fixed bug where Zombie Flies sometimes would spawn in the wrong position. (Thanks Grounded)"),y(),y(),m(59,"h2"),T(60,"v0.5.7"),y(),m(61,"ul"),m(62,"li"),T(63,"Added Pineapple."),y(),y(),m(64,"h2"),T(65,"v0.5.6"),y(),m(66,"ul"),m(67,"li"),T(68,"Fixed bug with Turtle always behaving as a level 1."),y(),y(),m(69,"h2"),T(70,"v0.5.5"),y(),m(71,"ul"),m(72,"li"),T(73,"Fixed bug with Pancakes pet getting all of the stats. (Thanks Grounded)"),y(),y(),m(74,"h2"),T(75,"v0.5.4"),y(),m(76,"ul"),m(77,"li"),T(78,"Calculator is (more) usable on mobile devices."),y(),y(),m(79,"h2"),T(80,"v0.5.3"),y(),m(81,"ul"),m(82,"li"),T(83,"Added Reset buttons for the Player and Opponent."),y(),m(84,"li"),T(85,"Export/Import Calculator."),y(),m(86,"li"),T(87,'Added "Old Stork" mode.'),y(),m(88,"li"),T(89,"Fixed spawn bug sometimes duplicating pets when up against Royal Flycatcher. (Thanks Freetz)"),y(),m(90,"li"),T(91,"Fixed bug with pets having Friend Summoned abilities hitting themselves when summoned with a mushroom."),y(),m(92,"li"),T(93,"Fixed bug with Pteradon's ability triggering if it also faints."),y(),y(),m(94,"h2"),T(95,"v0.5.2"),y(),m(96,"ul"),m(97,"li"),T(98,"Import Custom Packs"),y(),m(99,"li"),T(100,"Custom Pack editor improvments."),y(),y(),m(101,"h2"),T(102,"v0.5.1"),y(),m(103,"ul"),m(104,"li"),T(105,"Added remaining custom pack pets."),y(),m(106,"ul"),m(107,"li"),T(108,"Frilled Dragon, Wombat, Aardvark, Bear, Emperor Tamerain, Procupine, Wasp Dragonfly, Lynx, Seagull, Alpaca, Hyena, Moose, Lioness, Tapir, Walrus, White Tiger"),y(),y(),m(109,"li"),T(110,"Added remaining custom pack food."),y(),m(111,"ul"),m(112,"li"),T(113,"Blueberry, Donut"),y(),y(),m(114,"li"),T(115,"Fixed bug with blobfish showing as tier 3. (Thanks Freetz)"),y(),m(116,"li"),T(117,"Fixed bug with eggplant triggering multiple times when running the simulation multiple times. (Thanks Freetz)"),y(),m(118,"li"),T(119,"Fixed bug with mosquito able to target the same pet."),y(),y(),m(120,"h2"),T(121,"v0.5.0"),y(),m(122,"ul"),m(123,"li"),T(124,"Added custom packs!"),y(),m(125,"li"),T(126,"Added Jerboa"),y(),m(127,"li"),T(128,"Added Fortune Cookie"),y(),y(),m(129,"h2"),T(130,"v0.4.16"),y(),m(131,"ul"),m(132,"li"),T(133,"Updated to SAP Version 0.30.6-138 BETA"),y(),m(134,"ul"),m(135,"li"),T(136," Updated stats/abilities of these pets: Whale, Frog, Iguana, Marmoset, Mouse, Koala, Panda, Shrimp, Tabby Cat, Camel, Eel, Giraffe, Musk Ox, Owl, Ox, Starfish, Anteater, Chameleon, Egyptian Vulture, Manta Ray, Platypus, Cockatoo, Crane, Monkey, Shark, Piranha, Sabertooth Tiger. "),y(),m(137,"li"),T(138," Added Durian. "),y(),y(),y(),m(139,"h2"),T(140,"v0.4.15"),y(),m(141,"ul"),m(142,"li"),T(143,"Fixed bug with Eggplant triggering too many times. (Thanks Freetz)"),y(),y(),m(144,"h2"),T(145,"v0.4.14"),y(),m(146,"ul"),m(147,"li"),T(148,"Fixed rounding error with Skunk ability/Stinky Sock."),y(),m(149,"li"),T(150,"Fixed faint pets ability being the level of the whale when swallowed. (Thanks kutarba)"),y(),y(),m(151,"h2"),T(152,"v0.4.13"),y(),m(153,"ul"),m(154,"li"),T(155,"Fixed Pteradon"),y(),y(),m(156,"h2"),T(157,"v0.4.12"),y(),m(158,"ul"),m(159,"li"),T(160,"Updated to SAP Version 0.29.6-135 BETA"),y(),m(161,"ul"),m(162,"li"),T(163,"Updated stats/abilities of these pets: Ladybug, Atlantic Puffin, Guinea Pig, Hedgehog, Jellyfish, Pug, Salamander, Toucan, Blobfish, Clownfish, Flea, Flying Fish, Mole, Chameleon, Eel, Hippo, Poison Dart Frog, Whale, Fire Ant, Fox, Turkey, Lionfish, Pteradon, Tyrannosaurus. "),y(),y(),y(),m(164,"h2"),T(165,"v0.4.11"),y(),m(166,"ul"),m(167,"li"),T(168,"Fixed bug with Tiger not triggering Leopard when there are few enemies. (Thanks /u/MHolmesSC)"),y(),m(169,"li"),T(170,"Fixed bug with Ant over buffing units on faint. (Thanks /u/MHolmesSC)"),y(),m(171,"li"),T(172,"Fixed bug with Spider behaving odd. (Thanks /u/-RARO-)"),y(),T(173,"ng\n"),y(),m(174,"h2"),T(175,"v0.4.10"),y(),m(176,"ul"),m(177,"li"),T(178,"Fixed bug with Fly not spawning Zombie Fly from Start of Battle abilities fainting pets. (Thanks /u/Danielmac757)"),y(),y(),m(179,"h2"),T(180,"v0.4.9"),y(),m(181,"ul"),m(182,"li"),T(183,"Info/Guide modal."),y(),y(),m(184,"h2"),T(185,"v0.4.8"),y(),m(186,"ul"),m(187,"li"),T(188,"Fixed a bug with Fly attempting to spawn Zombie Fly when there is no room."),y(),y(),m(189,"h2"),T(190,"v0.4.7"),y(),m(191,"ul"),m(192,"li"),T(193,"Updated to SAP Version 0.28.20-130 BETA"),y(),m(194,"ul"),m(195,"li"),T(196,"Changed pets so they all move forward after start of battle abilities."),y(),y(),y(),m(197,"h2"),T(198,"v0.4.6"),y(),m(199,"ul"),m(200,"li"),T(201,"Fixed a bug with mushroom breaking the simulation by breaking the cache process. (Thanks BeastiaVenator)"),y(),m(202,"li"),T(203,"Fixed a bug with loading equipment from the browser cache."),y(),y(),m(204,"h2"),T(205,"v0.4.5"),y(),m(206,"ul"),m(207,"li"),T(208,"Drag and Drop!"),y(),y(),m(209,"h2"),T(210,"v0.4.4"),y(),m(211,"ul"),m(212,"li"),T(213,"Fixed a handful of Tiger bugs causing infinite loops."),y(),m(214,"li"),T(215,"Fixed a bug with typing select options."),y(),y(),m(216,"h2"),T(217,"v0.4.3"),y(),m(218,"ul"),m(219,"li"),T(220,"Duplicate pet option hotfix."),y(),y(),m(221,"h2"),T(222,"v0.4.2"),y(),m(223,"ul"),m(224,"li"),T(225,"Calculator state saves on 'Simulate'."),y(),m(226,"ul"),m(227,"li"),T(228,"This is stored in the browser cache. You can clear the cache by clicking on the link on the bottom of this modal."),y(),y(),m(229,"li"),T(230,"Fixed bugs with Angler mode toggling."),y(),m(231,"li"),T(232,"Zoom In/Out feature."),y(),m(233,"li"),T(234,"Fixed bug with Fly triggering twice instead of three times. (Thanks nob)"),y(),m(235,"li"),T(236,"Fixed bug with some snipe pets having no targets breaking simulation."),y(),y(),m(237,"h2"),T(238,"v0.4.1"),y(),m(239,"ul"),m(240,"li"),T(241,"Fixed a bug where Shark would gain attack/health on its own death. (Thanks mumf)"),y(),m(242,"li"),T(243,"Fixed a bug where attack bonus food would affect snipes. (Thanks Tangl)"),y(),y())},styles:[""]}),n})();const yQ=JSON.parse('{"tier1":[{"name":"Ant","tier":"1","id":"0"},{"name":"Beaver","tier":"1","id":"3"},{"name":"Bee","tier":"1","id":"4"},{"name":"Beetle","tier":"1","id":"88"},{"name":"Bluebird","tier":"1","id":"89"},{"name":"Bulldog","tier":"1","id":"189"},{"name":"Bus","tier":"1","id":"85"},{"name":"Butterfly","tier":"1","id":"9"},{"name":"Chick","tier":"1","id":"13"},{"name":"Chinchilla","tier":"1","id":"161"},{"name":"Chipmunk","tier":"1","id":"184"},{"name":"Cockroach","tier":"1","id":"18"},{"name":"Cone Snail","tier":"1","id":"272"},{"name":"Cricket","tier":"1","id":"17"},{"name":"Dirty Rat","tier":"1","id":"58"},{"name":"Duck","tier":"1","id":"26"},{"name":"Duckling","tier":"1","id":"113"},{"name":"Ferret","tier":"1","id":"172"},{"name":"Fish","tier":"1","id":"32"},{"name":"Frilled Dragon","tier":"1","id":"198"},{"name":"Frog","tier":"1","id":"139"},{"name":"Gecko","tier":"1","id":"229"},{"name":"Golden Retriever","tier":"1","id":"188"},{"name":"Goose","tier":"1","id":"232"},{"name":"Groundhog","tier":"1","id":"233"},{"name":"Guinea Piglet","tier":"1","id":"179"},{"name":"Horse","tier":"1","id":"39"},{"name":"Hummingbird","tier":"1","id":"138"},{"name":"Kiwi","tier":"1","id":"131"},{"name":"Ladybug","tier":"1","id":"92"},{"name":"Lizard Tail","tier":"1","id":"282"},{"name":"Loyal Chinchilla","tier":"1","id":"183"},{"name":"Magpie","tier":"1","id":"239"},{"name":"Marmoset","tier":"1","id":"204"},{"name":"Mosquito","tier":"1","id":"47"},{"name":"Moth","tier":"1","id":"141"},{"name":"Mouse","tier":"1","id":"48"},{"name":"Nest","tier":"1","id":"508"},{"name":"Opossum","tier":"1","id":"187"},{"name":"Otter","tier":"1","id":"51"},{"name":"Pied Tamarin","tier":"1","id":"251"},{"name":"Pig","tier":"1","id":"59"},{"name":"Pillbug","tier":"1","id":"149"},{"name":"Ram","tier":"1","id":"62"},{"name":"Seahorse","tier":"1","id":"152"},{"name":"Silkmoth","tier":"1","id":"260"},{"name":"Sloth","tier":"1","id":"71"},{"name":"Smaller Slug","tier":"1","id":"270"},{"name":"Smallest Slug","tier":"1","id":"477"},{"name":"Zombie Cricket","tier":"1","id":"86"},{"name":"Zombie Fly","tier":"1","id":"31"}],"tier2":[{"name":"African Penguin","tier":"2","id":"210"},{"name":"Atlantic Puffin","tier":"2","id":"132"},{"name":"Bat","tier":"2","id":"87"},{"name":"Beluga Sturgeon","tier":"2","id":"213"},{"name":"Black Necked Stilt","tier":"2","id":"215"},{"name":"Crab","tier":"2","id":"16"},{"name":"Door Head Ant","tier":"2","id":"220"},{"name":"Dove","tier":"2","id":"24"},{"name":"Dromedary","tier":"2","id":"104"},{"name":"Flamingo","tier":"2","id":"29"},{"name":"Frigatebird","tier":"2","id":"137"},{"name":"Gazelle","tier":"2","id":"185"},{"name":"Guinea Pig","tier":"2","id":"109"},{"name":"Hedgehog","tier":"2","id":"37"},{"name":"Hercules Beetle","tier":"2","id":"234"},{"name":"Iguana","tier":"2","id":"147"},{"name":"Jellyfish","tier":"2","id":"122"},{"name":"Kangaroo","tier":"2","id":"40"},{"name":"Koala","tier":"2","id":"112"},{"name":"Lemur","tier":"2","id":"236"},{"name":"Lizard","tier":"2","id":"237"},{"name":"Mandrill","tier":"2","id":"405"},{"name":"Panda","tier":"2","id":"107"},{"name":"Peacock","tier":"2","id":"54"},{"name":"Rat","tier":"2","id":"57"},{"name":"Robin","tier":"2","id":"255"},{"name":"Salamander","tier":"2","id":"164"},{"name":"Sea Turtle","tier":"2","id":"191"},{"name":"Sea Urchin","tier":"2","id":"258"},{"name":"Shrimp","tier":"2","id":"67"},{"name":"Snail","tier":"2","id":"72"},{"name":"Spider","tier":"2","id":"74"},{"name":"Squid","tier":"2","id":"177"},{"name":"Stoat","tier":"2","id":"263"},{"name":"Stork","tier":"2","id":"136"},{"name":"Swan","tier":"2","id":"76"},{"name":"Tabby Cat","tier":"2","id":"99"},{"name":"Toucan","tier":"2","id":"151"},{"name":"Wombat","tier":"2","id":"207"},{"name":"Worm","tier":"2","id":"82"},{"name":"Yak","tier":"2","id":"163"}],"tier3":[{"name":"Aardvark","tier":"3","id":"193"},{"name":"Anteater","tier":"3","id":"105"},{"name":"Baboon","tier":"3","id":"171"},{"name":"Badger","tier":"3","id":"2"},{"name":"Bear","tier":"3","id":"140"},{"name":"Betta Fish","tier":"3","id":"214"},{"name":"Camel","tier":"3","id":"10"},{"name":"Capybara","tier":"3","id":"154"},{"name":"Cassowary","tier":"3","id":"133"},{"name":"Dodo","tier":"3","id":"21"},{"name":"Dog","tier":"3","id":"22"},{"name":"Dolphin","tier":"3","id":"23"},{"name":"Eel","tier":"3","id":"120"},{"name":"Elephant","tier":"3","id":"28"},{"name":"Emperor Tamarin","tier":"3","id":"197"},{"name":"Flea","tier":"3","id":"225"},{"name":"Flying Fish","tier":"3","id":"226"},{"name":"Flying Squirrel","tier":"3","id":"227"},{"name":"Giraffe","tier":"3","id":"33"},{"name":"Gold Fish","tier":"3","id":"121"},{"name":"Guineafowl","tier":"3","id":"228"},{"name":"Hatching Chick","tier":"3","id":"91"},{"name":"Hoopoe Bird","tier":"3","id":"235"},{"name":"Leech","tier":"3","id":"165"},{"name":"Meerkat","tier":"3","id":"203"},{"name":"Mole","tier":"3","id":"168"},{"name":"Musk Ox","tier":"3","id":"245"},{"name":"Okapi","tier":"3","id":"130"},{"name":"Osprey","tier":"3","id":"247"},{"name":"Owl","tier":"3","id":"95"},{"name":"Ox","tier":"3","id":"52"},{"name":"Pangolin","tier":"3","id":"249"},{"name":"Porcupine","tier":"3","id":"169"},{"name":"Pug","tier":"3","id":"145"},{"name":"Puppy","tier":"3","id":"97"},{"name":"Rabbit","tier":"3","id":"60"},{"name":"Raccoon","tier":"3","id":"158"},{"name":"Royal Flycatcher","tier":"3","id":"256"},{"name":"Sheep","tier":"3","id":"68"},{"name":"Surgeon Fish","tier":"3","id":"264"},{"name":"Toad","tier":"3","id":"162"},{"name":"Tropical Fish","tier":"3","id":"100"},{"name":"Wasp","tier":"3","id":"160"},{"name":"Weasel","tier":"3","id":"173"},{"name":"Woodpecker","tier":"3","id":"156"}],"tier4":[{"name":"Bison","tier":"4","id":"5"},{"name":"Blobfish","tier":"4","id":"150"},{"name":"Blowfish","tier":"4","id":"7"},{"name":"Buffalo","tier":"4","id":"8"},{"name":"Caterpillar","tier":"4","id":"12"},{"name":"Chameleon","tier":"4","id":"216"},{"name":"Clownfish","tier":"4","id":"117"},{"name":"Cockatoo","tier":"4","id":"218"},{"name":"Crow","tier":"4","id":"195"},{"name":"Cuttlefish","tier":"4","id":"176"},{"name":"Deer","tier":"4","id":"20"},{"name":"Doberman","tier":"4","id":"273"},{"name":"Donkey","tier":"4","id":"111"},{"name":"Dragonfly","tier":"4","id":"196"},{"name":"Falcon","tier":"4","id":"224"},{"name":"Gharial","tier":"4","id":"231"},{"name":"Hawk","tier":"4","id":"127"},{"name":"Hippo","tier":"4","id":"38"},{"name":"Jerboa","tier":"4","id":"199"},{"name":"Llama","tier":"4","id":"44"},{"name":"Lobster","tier":"4","id":"93"},{"name":"Lynx","tier":"4","id":"200"},{"name":"Manatee","tier":"4","id":"192"},{"name":"Manta Ray","tier":"4","id":"240"},{"name":"Microbe","tier":"4","id":"94"},{"name":"Orangutan","tier":"4","id":"157"},{"name":"Parrot","tier":"4","id":"53"},{"name":"Pelican","tier":"4","id":"129"},{"name":"Penguin","tier":"4","id":"56"},{"name":"Platypus","tier":"4","id":"159"},{"name":"Poison Dart Frog","tier":"4","id":"252"},{"name":"Praying Mantis","tier":"4","id":"126"},{"name":"Saiga Antelope","tier":"4","id":"257"},{"name":"Seagull","tier":"4","id":"128"},{"name":"Sealion","tier":"4","id":"175"},{"name":"Secretary Bird","tier":"4","id":"259"},{"name":"Skunk","tier":"4","id":"70"},{"name":"Slug","tier":"4","id":"262"},{"name":"Squirrel","tier":"4","id":"75"},{"name":"Starfish","tier":"4","id":"153"},{"name":"Tahr","tier":"4","id":"393"},{"name":"Turtle","tier":"4","id":"80"},{"name":"Vaquita","tier":"4","id":"265"},{"name":"Whale","tier":"4","id":"81"},{"name":"Whale Shark","tier":"4","id":"267"}],"tier5":[{"name":"Alpaca","tier":"5","id":"194"},{"name":"Armadillo","tier":"5","id":"166"},{"name":"Axolotl","tier":"5","id":"212"},{"name":"Beluga Whale","tier":"5","id":"182"},{"name":"Blue Ringed Octopus","tier":"5","id":"271"},{"name":"Chicken","tier":"5","id":"14"},{"name":"Cow","tier":"5","id":"15"},{"name":"Crane","tier":"5","id":"219"},{"name":"Crocodile","tier":"5","id":"19"},{"name":"Eagle","tier":"5","id":"27"},{"name":"Egyptian Vulture","tier":"5","id":"221"},{"name":"Emu","tier":"5","id":"223"},{"name":"Fire Ant","tier":"5","id":"274"},{"name":"Fox","tier":"5","id":"106"},{"name":"Goat","tier":"5","id":"34"},{"name":"Hamster","tier":"5","id":"110"},{"name":"Hyena","tier":"5","id":"167"},{"name":"Lion","tier":"5","id":"42"},{"name":"Macaque","tier":"5","id":"238"},{"name":"Monkey","tier":"5","id":"46"},{"name":"Moose","tier":"5","id":"202"},{"name":"Mosasaurus","tier":"5","id":"242"},{"name":"Nurse Shark","tier":"5","id":"276"},{"name":"Nyala","tier":"5","id":"246"},{"name":"Panther","tier":"5","id":"250"},{"name":"Polar Bear","tier":"5","id":"108"},{"name":"Poodle","tier":"5","id":"96"},{"name":"Rhino","tier":"5","id":"55"},{"name":"Rooster","tier":"5","id":"63"},{"name":"Scorpion","tier":"5","id":"65"},{"name":"Seal","tier":"5","id":"66"},{"name":"Shark","tier":"5","id":"69"},{"name":"Shoebill","tier":"5","id":"134"},{"name":"Siberian Husky","tier":"5","id":"146"},{"name":"Silver Fox","tier":"5","id":"261"},{"name":"Snapping Turtle","tier":"5","id":"277"},{"name":"Sting Ray","tier":"5","id":"178"},{"name":"Stonefish","tier":"5","id":"278"},{"name":"Sword Fish","tier":"5","id":"119"},{"name":"Triceratops","tier":"5","id":"142"},{"name":"Turkey","tier":"5","id":"79"},{"name":"Vulture","tier":"5","id":"135"},{"name":"Wolf","tier":"5","id":"170"},{"name":"Zebra","tier":"5","id":"155"}],"tier6":[{"name":"Anglerfish","tier":"6","id":"180"},{"name":"Bird of Paradise","tier":"6","id":"181"},{"name":"Boar","tier":"6","id":"103"},{"name":"Cat","tier":"6","id":"11"},{"name":"Catfish","tier":"6","id":"174"},{"name":"Cobra","tier":"6","id":"217"},{"name":"Dragon","tier":"6","id":"25"},{"name":"Elephant Seal","tier":"6","id":"222"},{"name":"Fly","tier":"6","id":"30"},{"name":"German Shepherd","tier":"6","id":"230"},{"name":"Gorilla","tier":"6","id":"36"},{"name":"Grizzly Bear","tier":"6","id":"275"},{"name":"Hammerhead Shark","tier":"6","id":"123"},{"name":"Highland Cow","tier":"6","id":"186"},{"name":"Komodo","tier":"6","id":"124"},{"name":"Leopard","tier":"6","id":"41"},{"name":"Lioness","tier":"6","id":"114"},{"name":"Lionfish","tier":"6","id":"201"},{"name":"Mammoth","tier":"6","id":"45"},{"name":"Mantis Shrimp","tier":"6","id":"190"},{"name":"Mongoose","tier":"6","id":"241"},{"name":"Octopus","tier":"6","id":"50"},{"name":"Orca","tier":"6","id":"116"},{"name":"Ostrich","tier":"6","id":"125"},{"name":"Oyster","tier":"6","id":"248"},{"name":"Piranha","tier":"6","id":"118"},{"name":"Pteranodon","tier":"6","id":"253"},{"name":"Puma","tier":"6","id":"254"},{"name":"Reindeer","tier":"6","id":"205"},{"name":"Sabertooth Tiger","tier":"6","id":"148"},{"name":"Sauropod","tier":"6","id":"98"},{"name":"Snake","tier":"6","id":"73"},{"name":"Spinosaurus","tier":"6","id":"143"},{"name":"Stegosaurus","tier":"6","id":"144"},{"name":"Tapir","tier":"6","id":"208"},{"name":"Tiger","tier":"6","id":"77"},{"name":"Tyrannosaurus","tier":"6","id":"78"},{"name":"Velociraptor","tier":"6","id":"115"},{"name":"Walrus","tier":"6","id":"209"},{"name":"Warthog","tier":"6","id":"266"},{"name":"White Tiger","tier":"6","id":"206"},{"name":"Wildebeest","tier":"6","id":"268"},{"name":"Wolverine","tier":"6","id":"269"}]}');var vQ=Bt.t(yQ,2);function _Q(n,t){1&n&&(m(0,"div",12),T(1," That name is not allowed. "),y())}function bQ(n,t){if(1&n&&(m(0,"div",13),ue(1,"input",14),m(2,"label",15),T(3),y(),y()),2&n){const e=t.$implicit;G(1),Y("id",e)("formControlName",e),G(1),Y("for",e),G(1),Bn(" ",e," ")}}function SQ(n,t){if(1&n&&(m(0,"div",13),ue(1,"input",14),m(2,"label",15),T(3),y(),y()),2&n){const e=t.$implicit;G(1),Y("id",e)("formControlName",e),G(1),Y("for",e),G(1),Bn(" ",e," ")}}function EQ(n,t){if(1&n&&(m(0,"div",13),ue(1,"input",14),m(2,"label",15),T(3),y(),y()),2&n){const e=t.$implicit;G(1),Y("id",e)("formControlName",e),G(1),Y("for",e),G(1),Bn(" ",e," ")}}function wQ(n,t){if(1&n&&(m(0,"div",13),ue(1,"input",14),m(2,"label",15),T(3),y(),y()),2&n){const e=t.$implicit;G(1),Y("id",e)("formControlName",e),G(1),Y("for",e),G(1),Bn(" ",e," ")}}function CQ(n,t){if(1&n&&(m(0,"div",13),ue(1,"input",14),m(2,"label",15),T(3),y(),y()),2&n){const e=t.$implicit;G(1),Y("id",e)("formControlName",e),G(1),Y("for",e),G(1),Bn(" ",e," ")}}function DQ(n,t){if(1&n&&(m(0,"div",13),ue(1,"input",14),m(2,"label",15),T(3),y(),y()),2&n){const e=t.$implicit;G(1),Y("id",e)("formControlName",e),G(1),Y("for",e),G(1),Bn(" ",e," ")}}function AQ(n,t){1&n&&(m(0,"div",12),T(1," Name is required. "),y())}let PQ=(()=>{class n{constructor(e){this.equipmentService=e,this.submitEvent=new at,this.cancelEvent=new at,this.loaded=!1}ngOnInit(){this.initCheckboxFormGroup(),this.formGroup.updateValueAndValidity()}initCheckboxFormGroup(){let e=new Pn({}),i=new Pn({}),s=new Pn({}),r=new Pn({}),o=new Pn({}),a=new Pn({});for(let u of this.getPets(1)){let h=new fe(this.formGroup.get("tier1Pets").value.includes(u));h.valueChanges.subscribe(f=>{this.processCheckboxChange(1,u,f)}),e.addControl(u,h)}for(let u of this.getPets(2)){let h=new fe(this.formGroup.get("tier2Pets").value.includes(u));h.valueChanges.subscribe(f=>{this.processCheckboxChange(2,u,f)}),i.addControl(u,h)}for(let u of this.getPets(3)){let h=new fe(this.formGroup.get("tier3Pets").value.includes(u));h.valueChanges.subscribe(f=>{this.processCheckboxChange(3,u,f)}),s.addControl(u,h)}for(let u of this.getPets(4)){let h=new fe(this.formGroup.get("tier4Pets").value.includes(u));h.valueChanges.subscribe(f=>{this.processCheckboxChange(4,u,f)}),r.addControl(u,h)}for(let u of this.getPets(5)){let h=new fe(this.formGroup.get("tier5Pets").value.includes(u));h.valueChanges.subscribe(f=>{this.processCheckboxChange(5,u,f)}),o.addControl(u,h)}for(let u of this.getPets(6)){let h=new fe(this.formGroup.get("tier6Pets").value.includes(u));h.valueChanges.subscribe(f=>{this.processCheckboxChange(6,u,f)}),a.addControl(u,h)}this.checkboxFormGroup=new Pn({tier1Pets:e,tier2Pets:i,tier3Pets:s,tier4Pets:r,tier5Pets:o,tier6Pets:a})}getCheckboxFormGroup(e){return this.checkboxFormGroup.get(`tier${e}Pets`)}getPets(e){let i=[];for(let[s,r]of this.petPackMap.get(e))i.push(...r);return i=[...new Set(i)],i}getCount(e){return this.formGroup.get(`tier${e}Pets`).value.length}processCheckboxChange(e,i,s){let r=this.formGroup.get(`tier${e}Pets`).value;s?r.push(i):(0,xe.remove)(r,o=>o===i),this.formGroup.get(`tier${e}Pets`).updateValueAndValidity()}submit(){this.submitEvent.emit(this.formGroup)}cancel(){confirm("Are you sure you want to cancel?")&&this.cancelEvent.emit(this.formGroup)}submitDisabled(){return this.formGroup.get("name").invalid}}return n.\u0275fac=function(e){return new(e||n)(V(Wk))},n.\u0275cmp=zi({type:n,selectors:[["app-custom-pack-form"]],inputs:{formGroup:"formGroup",petPackMap:"petPackMap"},outputs:{submitEvent:"submitEvent",cancelEvent:"cancelEvent"},decls:68,vars:34,consts:[[3,"formGroup"],[1,"row","mb-4"],[1,"col-12"],["for","name",1,"form-label"],["id","name","formControlName","name",1,"form-control"],["class","invalid",4,"ngIf"],[1,"row","mb-4",3,"formGroup"],[1,"row"],[1,"col-12","editor-grid"],["class","form-check",4,"ngFor","ngForOf"],[1,"btn","btn-primary","me-2",3,"disabled","click"],[1,"btn","btn-danger",3,"click"],[1,"invalid"],[1,"form-check"],["type","checkbox","value","",1,"form-check-input",3,"id","formControlName"],[1,"form-check-label",3,"for"]],template:function(e,i){1&e&&(m(0,"form",0),m(1,"div",1),m(2,"div",2),m(3,"label",3),T(4,"Pack Name"),y(),ue(5,"input",4),Je(6,_Q,2,0,"div",5),y(),y(),m(7,"div",6),m(8,"div",2),m(9,"h3"),T(10,"Tier 1 Pets "),m(11,"span"),T(12),y(),y(),m(13,"div",7),m(14,"div",8),Je(15,bQ,4,4,"div",9),y(),y(),y(),y(),m(16,"div",6),m(17,"div",2),m(18,"h3"),T(19,"Tier 2 Pets "),m(20,"span"),T(21),y(),y(),m(22,"div",7),m(23,"div",8),Je(24,SQ,4,4,"div",9),y(),y(),y(),y(),m(25,"div",6),m(26,"div",2),m(27,"h3"),T(28,"Tier 3 Pets "),m(29,"span"),T(30),y(),y(),m(31,"div",7),m(32,"div",8),Je(33,EQ,4,4,"div",9),y(),y(),y(),y(),m(34,"div",6),m(35,"div",2),m(36,"h3"),T(37,"Tier 4 Pets "),m(38,"span"),T(39),y(),y(),m(40,"div",7),m(41,"div",8),Je(42,wQ,4,4,"div",9),y(),y(),y(),y(),m(43,"div",6),m(44,"div",2),m(45,"h3"),T(46,"Tier 5 Pets "),m(47,"span"),T(48),y(),y(),m(49,"div",7),m(50,"div",8),Je(51,CQ,4,4,"div",9),y(),y(),y(),y(),m(52,"div",6),m(53,"div",2),m(54,"h3"),T(55,"Tier 6 Pets "),m(56,"span"),T(57),y(),y(),m(58,"div",7),m(59,"div",8),Je(60,DQ,4,4,"div",9),y(),y(),y(),y(),m(61,"div",7),m(62,"div",2),m(63,"button",10),qe("click",function(){return i.submit()}),T(64,"Submit Pack"),y(),m(65,"button",11),qe("click",function(){return i.cancel()}),T(66,"Cancel"),y(),Je(67,AQ,2,0,"div",5),y(),y(),y()),2&e&&(Y("formGroup",i.formGroup),G(6),Y("ngIf",null==i.formGroup.get("name").errors?null:i.formGroup.get("name").errors.forbiddenName),G(1),Y("formGroup",i.getCheckboxFormGroup(1)),G(4),As(10==i.getCount(1)?"valid":"invalid"),G(1),Bn("",i.getCount(1),"/10"),G(3),Y("ngForOf",i.getPets(1)),G(1),Y("formGroup",i.getCheckboxFormGroup(2)),G(4),As(10==i.getCount(2)?"valid":"invalid"),G(1),Bn("",i.getCount(2),"/10"),G(3),Y("ngForOf",i.getPets(2)),G(1),Y("formGroup",i.getCheckboxFormGroup(3)),G(4),As(10==i.getCount(3)?"valid":"invalid"),G(1),Bn("",i.getCount(3),"/10"),G(3),Y("ngForOf",i.getPets(3)),G(1),Y("formGroup",i.getCheckboxFormGroup(4)),G(4),As(10==i.getCount(4)?"valid":"invalid"),G(1),Bn("",i.getCount(4),"/10"),G(3),Y("ngForOf",i.getPets(4)),G(1),Y("formGroup",i.getCheckboxFormGroup(5)),G(4),As(10==i.getCount(5)?"valid":"invalid"),G(1),Bn("",i.getCount(5),"/10"),G(3),Y("ngForOf",i.getPets(5)),G(1),Y("formGroup",i.getCheckboxFormGroup(6)),G(4),As(10==i.getCount(6)?"valid":"invalid"),G(1),Bn("",i.getCount(6),"/10"),G(3),Y("ngForOf",i.getPets(6)),G(3),Y("disabled",i.submitDisabled()),G(4),Y("ngIf",i.submitDisabled()))},directives:[ZR,nc,Lo,Ro,tc,Ia,oh,mp,Mv],styles:[".editor-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(6,1fr);grid-gap:1rem}.invalid[_ngcontent-%COMP%]{color:red}.valid[_ngcontent-%COMP%]{color:#0ab40a}"]}),n})();function kQ(n,t){if(1&n){const e=Io();m(0,"div",2),m(1,"div",3),m(2,"app-custom-pack-form",4),qe("submitEvent",function(s){return Pi(e),Qt().submitEvent(s)})("cancelEvent",function(s){return Pi(e),Qt().cancelEvent(s)}),y(),y(),y()}if(2&n){const e=Qt();G(2),Y("formGroup",e.makeFormGroup(e.focusedGroup))("petPackMap",e.petPackMap)}}function TQ(n,t){1&n&&(m(0,"span",15),T(1,"Valid"),y())}function xQ(n,t){1&n&&(m(0,"span",16),T(1,"Invalid"),y())}function MQ(n,t){if(1&n){const e=Io();m(0,"tr"),m(1,"td",11),T(2),y(),m(3,"td",11),Je(4,TQ,2,0,"span",12),Je(5,xQ,2,0,"span",13),y(),m(6,"td"),m(7,"button",8),qe("click",function(){const r=Pi(e).$implicit;return Qt(2).editPack(r)}),T(8,"Edit"),y(),y(),m(9,"td"),m(10,"button",14),qe("click",function(){const r=Pi(e).$implicit;return Qt(2).deletePack(r)}),T(11,"Delete"),y(),y(),y()}if(2&n){const e=t.$implicit;G(2),Fi(e.get("name").value),G(2),Y("ngIf",e.valid),G(1),Y("ngIf",!e.valid)}}function IQ(n,t){if(1&n){const e=Io();m(0,"div"),m(1,"div",5),m(2,"div",3),m(3,"h3"),T(4,"Custom Packs"),y(),m(5,"table"),Je(6,MQ,12,3,"tr",6),y(),y(),y(),m(7,"div",7),m(8,"div",3),m(9,"button",8),qe("click",function(){return Pi(e),Qt().createNewPack()}),T(10,"Create New Pack"),y(),y(),y(),m(11,"div",5),m(12,"div",3),m(13,"h3"),T(14,"Import Custom Pack"),y(),m(15,"div",9),ue(16,"textarea",10),y(),y(),y(),m(17,"div",2),m(18,"div",3),m(19,"button",8),qe("click",function(){return Pi(e),Qt().importCustomPack()}),T(20,"Import"),y(),y(),y(),y()}if(2&n){const e=Qt();G(6),Y("ngForOf",e.customPacks.controls),G(9),Y("formGroup",e.importFormGroup)}}let OQ=(()=>{class n{constructor(e,i){this.petService=e,this.localStorageService=i,this.focusedGroup=null,this.importFormGroup=new Pn({code:new fe(null)}),this.buildPetPackMap()}ngOnInit(){this.customPacks=this.formGroup.get("customPacks")}buildPetPackMap(){this.petPackMap=new Map;for(let e=1;e<=6;e++){let i=new Map;i.set("Turtle",[]),i.set("Puppy",[]),i.set("Star",[]),i.set("Golden",[]),i.set("Custom",[]),this.petPackMap.set(e,i)}for(let[e,i]of this.petService.turtlePackPets)this.petPackMap.get(e).get("Turtle").push(...i);for(let[e,i]of this.petService.puppyPackPets)this.petPackMap.get(e).get("Puppy").push(...i);for(let[e,i]of this.petService.starPackPets)this.petPackMap.get(e).get("Star").push(...i);for(let[e,i]of this.petService.goldenPackPets)this.petPackMap.get(e).get("Golden").push(...i);for(let[e,i]of this.petService.customPackPets)this.petPackMap.get(e).get("Custom").push(...i);console.log(this.petPackMap)}createNewPack(){let e=this.createPack();this.focusedGroup=e}createPack(){return new Pn({name:new fe(null,[jC.required,this.forbiddenNameValidator()]),tier1Pets:new fe([],this.controlArrayLengthOf10()),tier2Pets:new fe([],this.controlArrayLengthOf10()),tier3Pets:new fe([],this.controlArrayLengthOf10()),tier4Pets:new fe([],this.controlArrayLengthOf10()),tier5Pets:new fe([],this.controlArrayLengthOf10()),tier6Pets:new fe([],this.controlArrayLengthOf10())})}makeFormGroup(e){return e}controlArrayLengthOf10(){return e=>10!==e.value.length?{length:!0}:null}submitEvent(e){this.customPacks.controls.includes(e)||this.customPacks.push(e),this.petService.buildCustomPackPets(this.customPacks),this.focusedGroup=null,this.localStorageService.setStorage(this.formGroup.value)}cancelEvent(e){this.focusedGroup=null}editPack(e){this.focusedGroup=e}deletePack(e){if(confirm("Are you sure you want to delete this pack?")){let i=this.customPacks.controls.indexOf(e);this.customPacks.removeAt(i),this.localStorageService.setStorage(this.formGroup.value)}}forbiddenNameValidator(){return e=>{var i,s;let r=["custom"];for(let o of this.customPacks.controls)e!=o.get("name")&&r.push(null===(i=o.get("name").value)||void 0===i?void 0:i.toLowerCase());return r.includes(null===(s=e.value)||void 0===s?void 0:s.toLowerCase())?{forbiddenName:!0}:null}}importCustomPack(){let e=this.importFormGroup.get("code").value;try{e=JSON.parse(e);let i={name:e.Title,tier1Pets:this.getMinions(e.Minions,1),tier2Pets:this.getMinions(e.Minions,2),tier3Pets:this.getMinions(e.Minions,3),tier4Pets:this.getMinions(e.Minions,4),tier5Pets:this.getMinions(e.Minions,5),tier6Pets:this.getMinions(e.Minions,6)};this.createNewPack(),this.focusedGroup.patchValue(i)}catch(i){alert("Invalid code"),console.error(i)}}getMinions(e,i){let s=vQ[`tier${i}`],r=[];for(let o of e)for(let a of s)a.id==o&&r.push(a.name);return r}}return n.\u0275fac=function(e){return new(e||n)(V(m_),V(_V))},n.\u0275cmp=zi({type:n,selectors:[["app-custom-pack-editor"]],inputs:{formGroup:"formGroup"},decls:2,vars:2,consts:[["class","row",4,"ngIf"],[4,"ngIf"],[1,"row"],[1,"col-12"],[3,"formGroup","petPackMap","submitEvent","cancelEvent"],[1,"row","mb-3"],[4,"ngFor","ngForOf"],[1,"row","mb-4"],[1,"btn","btn-primary",3,"click"],[1,"form-group",3,"formGroup"],["id","code","rows","3","formControlName","code",1,"form-control"],[1,"text"],["class","valid",4,"ngIf"],["class","invalid",4,"ngIf"],[1,"btn","btn-danger",3,"click"],[1,"valid"],[1,"invalid"]],template:function(e,i){1&e&&(Je(0,kQ,3,2,"div",0),Je(1,IQ,21,2,"div",1)),2&e&&(Y("ngIf",null!=i.focusedGroup),G(1),Y("ngIf",null==i.focusedGroup))},directives:[oh,PQ,nc,Lo,mp,Ro,tc,Ia],styles:[".valid[_ngcontent-%COMP%]{color:#4caf50}.invalid[_ngcontent-%COMP%]{color:#f44336}.text[_ngcontent-%COMP%]{font-size:1.5em}td[_ngcontent-%COMP%]{padding:.25em .5em}"]}),n})(),NQ=(()=>{class n{constructor(){}ngOnInit(){}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=zi({type:n,selectors:[["app-info"]],decls:64,vars:0,consts:[["src","./assets/info/pack.PNG","alt","pack"],["src","./assets/info/turn.PNG","alt","turn"],["src","./assets/info/toy.PNG","alt","toy"],["src","./assets/info/angler.PNG","alt","angler"],["src","./assets/info/zoom.PNG","alt","zoom"],["src","./assets/info/board.PNG","alt","board"],["src","./assets/info/pet.png","alt","pet"],["src","/assets/info/simulate.PNG","alt","simulate"],["src","/assets/info/outcome.PNG","alt","outcome"],["src","/assets/info/battles.PNG","alt","battles"],["src","/assets/info/logs.PNG","alt","logs"]],template:function(e,i){1&e&&(m(0,"p"),T(1," The SAP Calculator is an analysis tool that allows you to easily calculate the approximate odds of your team beating another team. The SAP Calculator simulates the defined battle 1000 times and determines the percentage of wins, draws and loses.\n"),y(),m(2,"p"),m(3,"b"),T(4,"Disclaimer: The SAP Calculator is not an official tool of the game and is not affiliated with the game's developers. The SAP Calculator is a fan-made tool, and is not intended to replace the official game."),y(),y(),m(5,"p"),T(6," The SAP Calculator engine is based on the official game engine, but it may not be 100% accurate. It is pretty darn close though, and should be completely accurate for nearly every possible battle.\n"),y(),m(7,"h1"),T(8,"Guide"),y(),ue(9,"img",0),m(10,"p"),T(11," Select the pack that the player and opponent are using. This determines the pets that are available to each player.\n"),y(),ue(12,"img",1),m(13,"ul"),m(14,"li"),T(15,"Turn: The turn the battle takes place. This will affect pets such as the Stork, Eagle, and Stegosaurus."),y(),m(16,"li"),T(17,"PGS - Player Gold Spent. Player gold spent the previous round. This will affect the Meerkat."),y(),m(18,"li"),T(19,"OGS - Opponent Gold Spent. Same as above but for the Opponent player."),y(),y(),ue(20,"img",2),m(21,"p"),T(22," Toy configuration.\n"),y(),ue(23,"img",3),m(24,"ul"),m(25,"li"),T(26,"Angler Mode: The opposite player's pets are available to be selected for each player."),y(),y(),m(27,"p"),T(28,"(More modes coming soon)"),y(),ue(29,"img",4),m(30,"p"),T(31,"Adjust the zoom level of the application."),y(),ue(32,"img",5),m(33,"p"),T(34," This is the board. The left side is the Player pets and the right side is the Opponent Pets. Each white box contains a pet and its' stats/equipment. The layout of the pets are identical to as they would be in battle. The right most Player pet is clashing with the left most Opponent pet.\n"),y(),ue(35,"img",6),m(36,"p"),T(37," This is a pet.\n"),y(),m(38,"ul"),m(39,"li"),T(40,"A: This select box is where you may choose the pet that will occupy this space."),y(),m(41,"li"),T(42,"B: This select box is where you may choose the pet's equipment."),y(),m(43,"li"),T(44,"C: These fields are where you may input the pet's stats. The gray field is attack and the red field is health."),y(),m(45,"li"),T(46,"D: This component determines the amount of exp the pet has. A pet may have 0-5 exp denoted by the number of boxes highlighted. The numbers (1, 2, 3) on top of the exp bar signify the level of the pet. 0-1 exp is level 1, 2-4 exp is level 2, and 5 exp is level 3. The x on the left will clear the exp bar leaving the pet at level 1 with 0 exp. "),y(),m(47,"li"),T(48,"E: This is a drag and drop tool. Use this to reorder your pets."),y(),y(),ue(49,"img",7),m(50,"ul"),m(51,"li"),T(52,"Simulate: Run the simulation."),y(),m(53,"li"),T(54,"Randomize: Randomize the Player's and Opponents's pets and equipment."),y(),y(),ue(55,"img",8),m(56,"p"),T(57," This is the outcome summary. It shows the number of wins, draws, and loses for the last simulation ran.\n"),y(),ue(58,"img",9),m(59,"p"),T(60," This is the Battles table. It is a table of all the battles that were simulated. You may filter the table by the outcome of the battle.\n"),y(),ue(61,"img",10),m(62,"p"),T(63," These are the logs of the last selected simulated battle. Logs that are highlighted green are logs from a pet on the Player's team and logs that are highlighted red are logs from a pet on the Opponent's team. Logs that are highlighted purple are random events. Note: Not everything is logged.\n"),y())},styles:["img[_ngcontent-%COMP%]{margin-bottom:.5em;max-width:100%;border:1px solid #bfbfbf}"]}),n})(),RQ=(()=>{class n{constructor(){this.formGroup=new Pn({calcCode:new fe(null)})}ngOnInit(){}submit(){let e="";e=this.importFunc(this.formGroup.value.calcCode)?"Import successful":"Import failed",alert(e)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=zi({type:n,selectors:[["app-import-calculator"]],inputs:{importFunc:"importFunc"},decls:6,vars:1,consts:[[1,"form-group",3,"formGroup"],["id","calcCode","rows","3","formControlName","calcCode",1,"form-control","mb-2"],[1,"warning","mb-2"],[1,"btn","btn-primary",3,"click"]],template:function(e,i){1&e&&(m(0,"div",0),ue(1,"textarea",1),m(2,"div",2),T(3," Warning: This will overwrite any existing custom packs. Any custom packs in the import will be added. "),y(),m(4,"button",3),qe("click",function(){return i.submit()}),T(5,"Import"),y(),y()),2&e&&Y("formGroup",i.formGroup)},directives:[nc,Lo,Ro,tc,Ia],styles:[""]}),n})();class bV{}class SV{}class qr{constructor(t){this.normalizedNames=new Map,this.lazyUpdate=null,t?this.lazyInit="string"==typeof t?()=>{this.headers=new Map,t.split("\n").forEach(e=>{const i=e.indexOf(":");if(i>0){const s=e.slice(0,i),r=s.toLowerCase(),o=e.slice(i+1).trim();this.maybeSetNormalizedName(s,r),this.headers.has(r)?this.headers.get(r).push(o):this.headers.set(r,[o])}})}:()=>{this.headers=new Map,Object.keys(t).forEach(e=>{let i=t[e];const s=e.toLowerCase();"string"==typeof i&&(i=[i]),i.length>0&&(this.headers.set(s,i),this.maybeSetNormalizedName(e,s))})}:this.headers=new Map}has(t){return this.init(),this.headers.has(t.toLowerCase())}get(t){this.init();const e=this.headers.get(t.toLowerCase());return e&&e.length>0?e[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(t){return this.init(),this.headers.get(t.toLowerCase())||null}append(t,e){return this.clone({name:t,value:e,op:"a"})}set(t,e){return this.clone({name:t,value:e,op:"s"})}delete(t,e){return this.clone({name:t,value:e,op:"d"})}maybeSetNormalizedName(t,e){this.normalizedNames.has(e)||this.normalizedNames.set(e,t)}init(){this.lazyInit&&(this.lazyInit instanceof qr?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(t=>this.applyUpdate(t)),this.lazyUpdate=null))}copyFrom(t){t.init(),Array.from(t.headers.keys()).forEach(e=>{this.headers.set(e,t.headers.get(e)),this.normalizedNames.set(e,t.normalizedNames.get(e))})}clone(t){const e=new qr;return e.lazyInit=this.lazyInit&&this.lazyInit instanceof qr?this.lazyInit:this,e.lazyUpdate=(this.lazyUpdate||[]).concat([t]),e}applyUpdate(t){const e=t.name.toLowerCase();switch(t.op){case"a":case"s":let i=t.value;if("string"==typeof i&&(i=[i]),0===i.length)return;this.maybeSetNormalizedName(t.name,e);const s=("a"===t.op?this.headers.get(e):void 0)||[];s.push(...i),this.headers.set(e,s);break;case"d":const r=t.value;if(r){let o=this.headers.get(e);if(!o)return;o=o.filter(a=>-1===r.indexOf(a)),0===o.length?(this.headers.delete(e),this.normalizedNames.delete(e)):this.headers.set(e,o)}else this.headers.delete(e),this.normalizedNames.delete(e)}}forEach(t){this.init(),Array.from(this.normalizedNames.keys()).forEach(e=>t(this.normalizedNames.get(e),this.headers.get(e)))}}class FQ{encodeKey(t){return EV(t)}encodeValue(t){return EV(t)}decodeKey(t){return decodeURIComponent(t)}decodeValue(t){return decodeURIComponent(t)}}const BQ=/%(\d[a-f0-9])/gi,$Q={40:"@","3A":":",24:"$","2C":",","3B":";","2B":"+","3D":"=","3F":"?","2F":"/"};function EV(n){return encodeURIComponent(n).replace(BQ,(t,e)=>{var i;return null!==(i=$Q[e])&&void 0!==i?i:t})}function wV(n){return`${n}`}class Ua{constructor(t={}){if(this.updates=null,this.cloneFrom=null,this.encoder=t.encoder||new FQ,t.fromString){if(t.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function(n,t){const e=new Map;return n.length>0&&n.replace(/^\?/,"").split("&").forEach(s=>{const r=s.indexOf("="),[o,a]=-1==r?[t.decodeKey(s),""]:[t.decodeKey(s.slice(0,r)),t.decodeValue(s.slice(r+1))],u=e.get(o)||[];u.push(a),e.set(o,u)}),e}(t.fromString,this.encoder)}else t.fromObject?(this.map=new Map,Object.keys(t.fromObject).forEach(e=>{const i=t.fromObject[e];this.map.set(e,Array.isArray(i)?i:[i])})):this.map=null}has(t){return this.init(),this.map.has(t)}get(t){this.init();const e=this.map.get(t);return e?e[0]:null}getAll(t){return this.init(),this.map.get(t)||null}keys(){return this.init(),Array.from(this.map.keys())}append(t,e){return this.clone({param:t,value:e,op:"a"})}appendAll(t){const e=[];return Object.keys(t).forEach(i=>{const s=t[i];Array.isArray(s)?s.forEach(r=>{e.push({param:i,value:r,op:"a"})}):e.push({param:i,value:s,op:"a"})}),this.clone(e)}set(t,e){return this.clone({param:t,value:e,op:"s"})}delete(t,e){return this.clone({param:t,value:e,op:"d"})}toString(){return this.init(),this.keys().map(t=>{const e=this.encoder.encodeKey(t);return this.map.get(t).map(i=>e+"="+this.encoder.encodeValue(i)).join("&")}).filter(t=>""!==t).join("&")}clone(t){const e=new Ua({encoder:this.encoder});return e.cloneFrom=this.cloneFrom||this,e.updates=(this.updates||[]).concat(t),e}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(t=>this.map.set(t,this.cloneFrom.map.get(t))),this.updates.forEach(t=>{switch(t.op){case"a":case"s":const e=("a"===t.op?this.map.get(t.param):void 0)||[];e.push(wV(t.value)),this.map.set(t.param,e);break;case"d":if(void 0===t.value){this.map.delete(t.param);break}{let i=this.map.get(t.param)||[];const s=i.indexOf(wV(t.value));-1!==s&&i.splice(s,1),i.length>0?this.map.set(t.param,i):this.map.delete(t.param)}}}),this.cloneFrom=this.updates=null)}}class HQ{constructor(){this.map=new Map}set(t,e){return this.map.set(t,e),this}get(t){return this.map.has(t)||this.map.set(t,t.defaultValue()),this.map.get(t)}delete(t){return this.map.delete(t),this}keys(){return this.map.keys()}}function CV(n){return"undefined"!=typeof ArrayBuffer&&n instanceof ArrayBuffer}function DV(n){return"undefined"!=typeof Blob&&n instanceof Blob}function AV(n){return"undefined"!=typeof FormData&&n instanceof FormData}class Zp{constructor(t,e,i,s){let r;if(this.url=e,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=t.toUpperCase(),function(n){switch(n){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||s?(this.body=void 0!==i?i:null,r=s):r=i,r&&(this.reportProgress=!!r.reportProgress,this.withCredentials=!!r.withCredentials,r.responseType&&(this.responseType=r.responseType),r.headers&&(this.headers=r.headers),r.context&&(this.context=r.context),r.params&&(this.params=r.params)),this.headers||(this.headers=new qr),this.context||(this.context=new HQ),this.params){const o=this.params.toString();if(0===o.length)this.urlWithParams=e;else{const a=e.indexOf("?");this.urlWithParams=e+(-1===a?"?":a<e.length-1?"&":"")+o}}else this.params=new Ua,this.urlWithParams=e}serializeBody(){return null===this.body?null:CV(this.body)||DV(this.body)||AV(this.body)||function(n){return"undefined"!=typeof URLSearchParams&&n instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof Ua?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||AV(this.body)?null:DV(this.body)?this.body.type||null:CV(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof Ua?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(t={}){var e;const i=t.method||this.method,s=t.url||this.url,r=t.responseType||this.responseType,o=void 0!==t.body?t.body:this.body,a=void 0!==t.withCredentials?t.withCredentials:this.withCredentials,u=void 0!==t.reportProgress?t.reportProgress:this.reportProgress;let h=t.headers||this.headers,f=t.params||this.params;const p=null!==(e=t.context)&&void 0!==e?e:this.context;return void 0!==t.setHeaders&&(h=Object.keys(t.setHeaders).reduce((v,_)=>v.set(_,t.setHeaders[_]),h)),t.setParams&&(f=Object.keys(t.setParams).reduce((v,_)=>v.set(_,t.setParams[_]),f)),new Zp(i,s,o,{params:f,headers:h,context:p,reportProgress:u,responseType:r,withCredentials:a})}}var hn=(()=>((hn=hn||{})[hn.Sent=0]="Sent",hn[hn.UploadProgress=1]="UploadProgress",hn[hn.ResponseHeader=2]="ResponseHeader",hn[hn.DownloadProgress=3]="DownloadProgress",hn[hn.Response=4]="Response",hn[hn.User=5]="User",hn))();class iT{constructor(t,e=200,i="OK"){this.headers=t.headers||new qr,this.status=void 0!==t.status?t.status:e,this.statusText=t.statusText||i,this.url=t.url||null,this.ok=this.status>=200&&this.status<300}}class sT extends iT{constructor(t={}){super(t),this.type=hn.ResponseHeader}clone(t={}){return new sT({headers:t.headers||this.headers,status:void 0!==t.status?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}}class K_ extends iT{constructor(t={}){super(t),this.type=hn.Response,this.body=void 0!==t.body?t.body:null}clone(t={}){return new K_({body:void 0!==t.body?t.body:this.body,headers:t.headers||this.headers,status:void 0!==t.status?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}}class PV extends iT{constructor(t){super(t,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${t.url||"(unknown url)"}`:`Http failure response for ${t.url||"(unknown url)"}: ${t.status} ${t.statusText}`,this.error=t.error||null}}function rT(n,t){return{body:t,headers:n.headers,context:n.context,observe:n.observe,params:n.params,reportProgress:n.reportProgress,responseType:n.responseType,withCredentials:n.withCredentials}}let kV=(()=>{class n{constructor(e){this.handler=e}request(e,i,s={}){let r;if(e instanceof Zp)r=e;else{let u,h;u=s.headers instanceof qr?s.headers:new qr(s.headers),s.params&&(h=s.params instanceof Ua?s.params:new Ua({fromObject:s.params})),r=new Zp(e,i,void 0!==s.body?s.body:null,{headers:u,context:s.context,params:h,reportProgress:s.reportProgress,responseType:s.responseType||"json",withCredentials:s.withCredentials})}const o=fc(r).pipe(function(n,t){return Jr(n,void 0,1)}(u=>this.handler.handle(u)));if(e instanceof Zp||"events"===s.observe)return o;const a=o.pipe(SF(u=>u instanceof K_));switch(s.observe||"body"){case"body":switch(r.responseType){case"arraybuffer":return a.pipe(us(u=>{if(null!==u.body&&!(u.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return u.body}));case"blob":return a.pipe(us(u=>{if(null!==u.body&&!(u.body instanceof Blob))throw new Error("Response is not a Blob.");return u.body}));case"text":return a.pipe(us(u=>{if(null!==u.body&&"string"!=typeof u.body)throw new Error("Response is not a string.");return u.body}));default:return a.pipe(us(u=>u.body))}case"response":return a;default:throw new Error(`Unreachable: unhandled observe type ${s.observe}}`)}}delete(e,i={}){return this.request("DELETE",e,i)}get(e,i={}){return this.request("GET",e,i)}head(e,i={}){return this.request("HEAD",e,i)}jsonp(e,i){return this.request("JSONP",e,{params:(new Ua).append(i,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(e,i={}){return this.request("OPTIONS",e,i)}patch(e,i,s={}){return this.request("PATCH",e,rT(s,i))}post(e,i,s={}){return this.request("POST",e,rT(s,i))}put(e,i,s={}){return this.request("PUT",e,rT(s,i))}}return n.\u0275fac=function(e){return new(e||n)(B(bV))},n.\u0275prov=se({token:n,factory:n.\u0275fac}),n})();class TV{constructor(t,e){this.next=t,this.interceptor=e}handle(t){return this.interceptor.intercept(t,this.next)}}const xV=new de("HTTP_INTERCEPTORS");let UQ=(()=>{class n{intercept(e,i){return i.handle(e)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=se({token:n,factory:n.\u0275fac}),n})();const jQ=/^\)\]\}',?\n/;let MV=(()=>{class n{constructor(e){this.xhrFactory=e}handle(e){if("JSONP"===e.method)throw new Error("Attempted to construct Jsonp request without HttpClientJsonpModule installed.");return new $e(i=>{const s=this.xhrFactory.build();if(s.open(e.method,e.urlWithParams),e.withCredentials&&(s.withCredentials=!0),e.headers.forEach((_,S)=>s.setRequestHeader(_,S.join(","))),e.headers.has("Accept")||s.setRequestHeader("Accept","application/json, text/plain, */*"),!e.headers.has("Content-Type")){const _=e.detectContentTypeHeader();null!==_&&s.setRequestHeader("Content-Type",_)}if(e.responseType){const _=e.responseType.toLowerCase();s.responseType="json"!==_?_:"text"}const r=e.serializeBody();let o=null;const a=()=>{if(null!==o)return o;const _=1223===s.status?204:s.status,S=s.statusText||"OK",D=new qr(s.getAllResponseHeaders()),C=function(n){return"responseURL"in n&&n.responseURL?n.responseURL:/^X-Request-URL:/m.test(n.getAllResponseHeaders())?n.getResponseHeader("X-Request-URL"):null}(s)||e.url;return o=new sT({headers:D,status:_,statusText:S,url:C}),o},u=()=>{let{headers:_,status:S,statusText:D,url:C}=a(),L=null;204!==S&&(L=void 0===s.response?s.responseText:s.response),0===S&&(S=L?200:0);let N=S>=200&&S<300;if("json"===e.responseType&&"string"==typeof L){const j=L;L=L.replace(jQ,"");try{L=""!==L?JSON.parse(L):null}catch(U){L=j,N&&(N=!1,L={error:U,text:L})}}N?(i.next(new K_({body:L,headers:_,status:S,statusText:D,url:C||void 0})),i.complete()):i.error(new PV({error:L,headers:_,status:S,statusText:D,url:C||void 0}))},h=_=>{const{url:S}=a(),D=new PV({error:_,status:s.status||0,statusText:s.statusText||"Unknown Error",url:S||void 0});i.error(D)};let f=!1;const p=_=>{f||(i.next(a()),f=!0);let S={type:hn.DownloadProgress,loaded:_.loaded};_.lengthComputable&&(S.total=_.total),"text"===e.responseType&&!!s.responseText&&(S.partialText=s.responseText),i.next(S)},v=_=>{let S={type:hn.UploadProgress,loaded:_.loaded};_.lengthComputable&&(S.total=_.total),i.next(S)};return s.addEventListener("load",u),s.addEventListener("error",h),s.addEventListener("timeout",h),s.addEventListener("abort",h),e.reportProgress&&(s.addEventListener("progress",p),null!==r&&s.upload&&s.upload.addEventListener("progress",v)),s.send(r),i.next({type:hn.Sent}),()=>{s.removeEventListener("error",h),s.removeEventListener("abort",h),s.removeEventListener("load",u),s.removeEventListener("timeout",h),e.reportProgress&&(s.removeEventListener("progress",p),null!==r&&s.upload&&s.upload.removeEventListener("progress",v)),s.readyState!==s.DONE&&s.abort()}})}}return n.\u0275fac=function(e){return new(e||n)(B(rR))},n.\u0275prov=se({token:n,factory:n.\u0275fac}),n})();const oT=new de("XSRF_COOKIE_NAME"),aT=new de("XSRF_HEADER_NAME");class IV{}let zQ=(()=>{class n{constructor(e,i,s){this.doc=e,this.platform=i,this.cookieName=s,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const e=this.doc.cookie||"";return e!==this.lastCookieString&&(this.parseCount++,this.lastToken=ZN(e,this.cookieName),this.lastCookieString=e),this.lastToken}}return n.\u0275fac=function(e){return new(e||n)(B(je),B(ih),B(oT))},n.\u0275prov=se({token:n,factory:n.\u0275fac}),n})(),lT=(()=>{class n{constructor(e,i){this.tokenService=e,this.headerName=i}intercept(e,i){const s=e.url.toLowerCase();if("GET"===e.method||"HEAD"===e.method||s.startsWith("http://")||s.startsWith("https://"))return i.handle(e);const r=this.tokenService.getToken();return null!==r&&!e.headers.has(this.headerName)&&(e=e.clone({headers:e.headers.set(this.headerName,r)})),i.handle(e)}}return n.\u0275fac=function(e){return new(e||n)(B(IV),B(aT))},n.\u0275prov=se({token:n,factory:n.\u0275fac}),n})(),KQ=(()=>{class n{constructor(e,i){this.backend=e,this.injector=i,this.chain=null}handle(e){if(null===this.chain){const i=this.injector.get(xV,[]);this.chain=i.reduceRight((s,r)=>new TV(s,r),this.backend)}return this.chain.handle(e)}}return n.\u0275fac=function(e){return new(e||n)(B(SV),B(St))},n.\u0275prov=se({token:n,factory:n.\u0275fac}),n})(),YQ=(()=>{class n{static disable(){return{ngModule:n,providers:[{provide:lT,useClass:UQ}]}}static withOptions(e={}){return{ngModule:n,providers:[e.cookieName?{provide:oT,useValue:e.cookieName}:[],e.headerName?{provide:aT,useValue:e.headerName}:[]]}}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=Wt({type:n}),n.\u0275inj=Lt({providers:[lT,{provide:xV,useExisting:lT,multi:!0},{provide:IV,useClass:zQ},{provide:oT,useValue:"XSRF-TOKEN"},{provide:aT,useValue:"X-XSRF-TOKEN"}]}),n})(),QQ=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=Wt({type:n}),n.\u0275inj=Lt({providers:[kV,{provide:bV,useClass:KQ},MV,{provide:SV,useExisting:MV}],imports:[[YQ.withOptions({cookieName:"XSRF-TOKEN",headerName:"X-XSRF-TOKEN"})]]}),n})();const ZQ=function(n){return["form-group","mb-3",n]};function JQ(n,t){if(1&n){const e=Io();m(0,"div"),m(1,"p"),T(2," An export code of the current calculator will automatically be sent to the developer. Please make sure the calculator is currently relevant to the bug you are reporting. Provide a description of the bug below. (Player should have won, pet's ability is wrong, etc.) Name is optional. Provide your Discord ID if you want me to follow up with you. "),y(),m(3,"div",1),m(4,"div",2),m(5,"label",3),T(6,"Name/Alias/Discord ID"),y(),ue(7,"input",4),y(),m(8,"div"),m(9,"label",5),T(10,"Description"),y(),ue(11,"textarea",6),y(),y(),m(12,"button",7),qe("click",function(){return Pi(e),Qt().submit()}),T(13,"Submit"),y(),y()}if(2&n){const e=Qt();G(3),Y("ngClass",function(n,t,e,i){return PO(W(),On(),n,t,e,i)}(2,ZQ,e.submitted?"was-validated":""))("formGroup",e.formGroup)}}function XQ(n,t){if(1&n){const e=Io();m(0,"div"),m(1,"h1"),T(2,"Thank you for the bug report!"),y(),m(3,"button",7),qe("click",function(){return Pi(e),Qt().back()}),T(4,"Report another bug :("),y(),y()}}let eZ=(()=>{class n{constructor(e){this.http=e,this.formGroup=new Pn({name:new fe(""),description:new fe(null,jC.required)}),this.reported=!1,this.submitted=!1}ngOnInit(){}submit(){if(this.submitted=!0,this.formGroup.invalid)return;let e=Object.assign(Object.assign({},this.formGroup.value),{code:JSON.stringify(this.calcFormGroup.value)});const i=new qr({"Content-Type":"application/json"});this.http.post("https://formspree.io/f/xrgnzkdq",{name:"SAP CALC",replyto:"robert.ley94@gmail.com",message:e},{headers:i}).subscribe(s=>{console.log(s)}),this.reported=!0}back(){this.formGroup.reset(),this.submitted=!1,this.reported=!1}}return n.\u0275fac=function(e){return new(e||n)(V(kV))},n.\u0275cmp=zi({type:n,selectors:[["app-report-a-bug"]],inputs:{calcFormGroup:"calcFormGroup"},decls:2,vars:2,consts:[[4,"ngIf"],[3,"ngClass","formGroup"],[1,"mb-3"],["for","name"],["type","text","id","name","formControlName","name",1,"form-control"],["for","description"],["rows","3","formControlName","description","required","",1,"form-control"],[1,"btn","btn-primary",3,"click"]],template:function(e,i){1&e&&(Je(0,JQ,14,4,"div",0),Je(1,XQ,5,0,"div",0)),2&e&&(Y("ngIf",!i.reported),G(1),Y("ngIf",i.reported))},directives:[oh,kC,nc,Lo,Ro,tc,Ia,qv],styles:[""]}),n})();const tZ=["customPackEditor"];function nZ(n,t){if(1&n&&(m(0,"option",118),T(1),y()),2&n){const e=t.$implicit;Y("value",e.get("name").value),G(1),Fi(e.get("name").value)}}function iZ(n,t){if(1&n&&(m(0,"option",118),T(1),y()),2&n){const e=t.$implicit;Y("value",e.get("name").value),G(1),Fi(e.get("name").value)}}function sZ(n,t){if(1&n&&(m(0,"option",34),T(1),y()),2&n){const e=t.$implicit;Y("ngValue",e),G(1),Fi(e)}}function rZ(n,t){if(1&n&&(m(0,"optgroup",119),Je(1,sZ,2,2,"option",120),y()),2&n){const e=t.$implicit;Y("label","Tier "+e.key),G(1),Y("ngForOf",e.value)}}function oZ(n,t){if(1&n&&(m(0,"option",34),T(1),y()),2&n){const e=t.$implicit;Y("ngValue",e),G(1),Fi(e)}}function aZ(n,t){if(1&n&&(m(0,"optgroup",119),Je(1,oZ,2,2,"option",120),y()),2&n){const e=t.$implicit;Y("label","Tier "+e.key),G(1),Y("ngForOf",e.value)}}function lZ(n,t){if(1&n&&(m(0,"div",121),m(1,"div",122),gd(),m(2,"svg",123),ue(3,"path",124),ue(4,"path",125),y(),y(),md(),ue(5,"app-pet-selector",126),y()),2&n){const e=t.$implicit,i=t.index,s=Qt();G(5),Y("pet",s.player["pet"+(4-i)])("player",s.player)("opponent",s.opponent)("index",4-i)("formGroup",s.makeFormGroup(e))("angler",s.formGroup.get("angler").value)("allPets",s.formGroup.get("allPets").value)("customPacks",s.formGroup.get("customPacks"))}}function cZ(n,t){if(1&n&&(m(0,"div",127),m(1,"div",122),gd(),m(2,"svg",123),ue(3,"path",124),ue(4,"path",125),y(),y(),md(),ue(5,"app-pet-selector",126),y()),2&n){const e=t.$implicit,i=t.index,s=Qt();G(5),Y("pet",s.opponent["pet"+i])("player",s.opponent)("opponent",s.player)("index",i)("formGroup",s.makeFormGroup(e))("angler",s.formGroup.get("angler").value)("allPets",s.formGroup.get("allPets").value)("customPacks",s.formGroup.get("customPacks"))}}function uZ(n,t){if(1&n&&(m(0,"div",77),m(1,"div",128),m(2,"label"),T(3,"Player Wins:"),y(),m(4,"span"),T(5),y(),m(6,"label"),T(7,"Opponent Wins:"),y(),m(8,"span"),T(9),y(),m(10,"label"),T(11,"Draws:"),y(),m(12,"span"),T(13),y(),y(),m(14,"div",129),m(15,"span",130),ue(16,"span",131),ue(17,"span",132),y(),y(),y()),2&n){const e=Qt();G(5),jf("",e.playerWinner," - ",e.winPercent,"%"),G(4),jf("",e.opponentWinner," - ",e.losePercent,"%"),G(4),jf("",e.draw," - ",e.drawPercent,"%"),G(3),Gf("width",e.getDrawWidth()),G(1),Gf("width",e.getLoseWidth())}}function hZ(n,t){if(1&n){const e=Io();m(0,"tr",133),qe("click",function(){const r=Pi(e).$implicit;return Qt().setViewBattle(r)}),m(1,"td"),T(2),y(),m(3,"td"),T(4),y(),m(5,"td",134),T(6),y(),y()}if(2&n){const e=t.$implicit,i=t.index,s=Qt();G(2),Fi(i),G(2),Fi(e.winner),G(2),Fi(s.getRandomEvents(e))}}const dZ=function(n,t){return[n,t]};function fZ(n,t){if(1&n&&(m(0,"div",78),m(1,"span",135),T(2),y(),y()),2&n){const e=t.$implicit,i=Qt();G(1),Y("ngClass",AO(2,dZ,i.getPlayerClass(e),e.randomEvent?"random-event":"")),G(1),Fi(e.message)}}let pZ=(()=>{class n{constructor(e,i,s,r,o,a,u,h){this.logService=e,this.abilityService=i,this.gameService=s,this.equipmentService=r,this.petService=o,this.toyService=a,this.startOfBattleService=u,this.localStorageService=h,this.version="0.5.15",this.sapVersion="0.31.9-145 BETA",this.title="sap-calculator",this.maxTurns=50,this.turns=0,this.battleStarted=!1,this.simulationBattleAmt=1e3,this.playerWinner=0,this.opponentWinner=0,this.draw=0,this.battles=[],this.simulated=!1,this.previousPackPlayer=null,this.previousPackOpponent=null,this.player=new dL(e,i,s),this.opponent=new dL(e,i,s),this.gameService.init(this.player,this.opponent),this.petService.init(),this.initFormGroup(),this.loadLocalStorage(),this.initApp()}printFormGroup(){console.log(this.formGroup)}ngOnInit(){this.toys=this.toyService.toys}ngAfterViewInit(){this.initModals()}loadLocalStorage(){if(this.localStorageService.getStorage())try{let i=JSON.parse(this.localStorageService.getStorage());this.loadCalculatorFromValue(i)}catch(i){console.log("error loading local storage",i),this.localStorageService.clearStorage()}}loadCalculatorFromValue(e){let i=e.customPacks;e.customPacks=[],this.formGroup.patchValue(e,{emitEvent:!1}),this.loadCustomPacks(i),this.gameService.gameApi.oldStork=this.formGroup.get("oldStork").value}initApp(){this.petService.buildCustomPackPets(this.formGroup.get("customPacks")),this.setFontSize(),this.initPlayerPets(),this.updatePlayerPack(this.player,this.formGroup.get("playerPack").value,!1),this.updatePlayerPack(this.opponent,this.formGroup.get("opponentPack").value,!1),this.updatePlayerToy(this.player,this.formGroup.get("playerToy").value),this.updatePlayerToy(this.opponent,this.formGroup.get("opponentToy").value),this.previousPackOpponent=this.opponent.pack,this.previousPackPlayer=this.player.pack}loadCustomPacks(e){let i=new wp([]);for(let s of e){let r=j8(s);i.push(r)}this.formGroup.setControl("customPacks",i)}initPlayerPets(){for(let e=0;e<5;e++){let i=this.formGroup.get("playerPets").controls[e];if(null==i.get("name").value)continue;let s=this.petService.createPet(i.value,this.player);this.player.setPet(e,s,!0)}for(let e=0;e<5;e++){let i=this.formGroup.get("opponentPets").controls[e];if(null==i.get("name").value)continue;let s=this.petService.createPet(i.value,this.opponent);this.opponent.setPet(e,s,!0)}}randomizePlayerPets(e){for(let i=0;i<5;i++)e.setPet(i,this.petService.getRandomPet(e),!0)}makeFormGroup(e){return e}initFormGroup(){var e,i,s,r,o,a;this.updatePreviousShopTier(11),this.updateGoldSpent(10,10),this.formGroup=new Pn({playerPack:new fe(this.player.pack),opponentPack:new fe(this.opponent.pack),playerToy:new fe(null===(e=this.player.toy)||void 0===e?void 0:e.name),playerToyLevel:new fe(null!==(s=null===(i=this.player.toy)||void 0===i?void 0:i.level)&&void 0!==s?s:1),opponentToy:new fe(null===(r=this.opponent.toy)||void 0===r?void 0:r.name),opponentToyLevel:new fe(null!==(a=null===(o=this.opponent.toy)||void 0===o?void 0:o.level)&&void 0!==a?a:1),turn:new fe(11),playerGoldSpent:new fe(10),opponentGoldSpent:new fe(10),angler:new fe(!1),allPets:new fe(!1),logFilter:new fe(null),playerPets:new wp([]),opponentPets:new wp([]),fontSize:new fe(13),customPacks:new wp([]),oldStork:new fe(!1)}),this.initPetForms(),this.formGroup.get("playerPack").valueChanges.subscribe(p=>{"Add Custom Pack"!=p?(this.previousPackPlayer=p,this.updatePlayerPack(this.player,p)):this.openCustomPackEditor()}),this.formGroup.get("opponentPack").valueChanges.subscribe(p=>{"Add Custom Pack"!=p?(this.previousPackOpponent=p,this.updatePlayerPack(this.opponent,p)):this.openCustomPackEditor()}),this.formGroup.get("playerToy").valueChanges.subscribe(p=>{this.updatePlayerToy(this.player,p)}),this.formGroup.get("opponentToy").valueChanges.subscribe(p=>{this.updatePlayerToy(this.opponent,p)}),this.formGroup.get("playerToyLevel").valueChanges.subscribe(p=>{this.updateToyLevel(this.player,p)}),this.formGroup.get("opponentToyLevel").valueChanges.subscribe(p=>{this.updateToyLevel(this.opponent,p)}),this.formGroup.get("turn").valueChanges.subscribe(p=>{this.updatePreviousShopTier(p)}),this.formGroup.get("playerGoldSpent").valueChanges.subscribe(p=>{this.updateGoldSpent(p,null)}),this.formGroup.get("opponentGoldSpent").valueChanges.subscribe(p=>{this.updateGoldSpent(null,p)}),this.formGroup.get("angler").valueChanges.subscribe(p=>{setTimeout(()=>{this.updateSelectorPets()})}),this.formGroup.get("oldStork").valueChanges.subscribe(p=>{this.gameService.gameApi.oldStork=p})}initPetForms(){let e=[0,1,2,3,4],i=e.map(a=>{var u,h,f,p,v,_,S,D,C;return new Pn({name:new fe(null===(u=this.player[`pet${a}`])||void 0===u?void 0:u.name),attack:new fe(null!==(f=null===(h=this.player[`pet${a}`])||void 0===h?void 0:h.attack)&&void 0!==f?f:0),health:new fe(null!==(v=null===(p=this.player[`pet${a}`])||void 0===p?void 0:p.health)&&void 0!==v?v:0),exp:new fe(null!==(S=null===(_=this.player[`pet${a}`])||void 0===_?void 0:_.exp)&&void 0!==S?S:0),equipment:new fe(null===(D=this.player[`pet${a}`])||void 0===D?void 0:D.equipment),belugaSwallowedPet:new fe(null===(C=this.player[`pet${a}`])||void 0===C?void 0:C.belugaSwallowedPet)})}),s=this.formGroup.get("playerPets");s.clear();for(let a of i)s.push(a);let r=e.map(a=>{var u,h,f,p,v,_,S,D,C;return new Pn({name:new fe(null===(u=this.opponent[`pet${a}`])||void 0===u?void 0:u.name),attack:new fe(null!==(f=null===(h=this.opponent[`pet${a}`])||void 0===h?void 0:h.attack)&&void 0!==f?f:0),health:new fe(null!==(v=null===(p=this.opponent[`pet${a}`])||void 0===p?void 0:p.health)&&void 0!==v?v:0),exp:new fe(null!==(S=null===(_=this.opponent[`pet${a}`])||void 0===_?void 0:_.exp)&&void 0!==S?S:0),equipment:new fe(null===(D=this.opponent[`pet${a}`])||void 0===D?void 0:D.equipment),belugaSwallowedPet:new fe(null===(C=this.opponent[`pet${a}`])||void 0===C?void 0:C.belugaSwallowedPet)})}),o=this.formGroup.get("opponentPets");o.clear();for(let a of r)o.push(a)}getPlayerPetsFormArray(){return Array.from(this.formGroup.get("playerPets").controls).reverse()}getOpponentPetsFormArray(){return Array.from(this.formGroup.get("opponentPets").controls)}updatePlayerPack(e,i,s=!0){let r;switch(e.pack=i,i){case"Turtle":r=this.petService.turtlePackPets;break;case"Puppy":r=this.petService.puppyPackPets;break;case"Star":r=this.petService.starPackPets;break;case"Golden":r=this.petService.goldenPackPets;break;default:r=this.petService.playerCustomPackPets.get(i)}e==this.player?this.gameService.setTierGroupPets(r,null):this.gameService.setTierGroupPets(null,r),s&&this.randomize(e)}updateSelectorPets(){this.petSelectors.forEach(e=>{e.initPets()})}updatePlayerToy(e,i){let s;e==this.player&&(s="playerToyLevel"),e==this.opponent&&(s="opponentToyLevel");let r=this.formGroup.get(s).value;e.toy=this.toyService.createToy(i,e,r),e.originalToy=e.toy}updatePreviousShopTier(e){let i=1;e>2&&(i=2),e>4&&(i=3),e>6&&(i=4),e>8&&(i=5),e>10&&(i=6),this.gameService.setPreviousShopTier(i),this.gameService.setTurnNumber(e)}updateGoldSpent(e,i){this.gameService.setGoldSpent(e,i)}updateToyLevel(e,i){e.toy&&(e.toy.level=i)}abilityCycle(){this.abilityService.executeHurtEvents(),this.executeFrequentEvents(),this.checkPetsAlive(),this.abilityService.executeFriendHurtEvents(),this.executeFrequentEvents(),this.checkPetsAlive(),this.abilityService.executeEnemyHurtEvents(),this.executeFrequentEvents(),this.checkPetsAlive(),this.abilityService.executeFaintEvents(),this.executeFrequentEvents(),this.checkPetsAlive(),this.abilityService.executeKnockOutEvents(),this.executeFrequentEvents(),this.checkPetsAlive(),this.abilityService.executeFriendAheadFaintsEvents(),this.executeFrequentEvents(),this.checkPetsAlive(),this.abilityService.executeFriendFaintsEvents(),this.executeFrequentEvents(),this.checkPetsAlive(),this.removeDeadPets(),this.abilityService.executeSpawnEvents(),this.abilityService.executeSummonedEvents(),this.abilityService.executeEnemySummonedEvents(),this.executeFrequentEvents(),this.checkPetsAlive()}executeFrequentEvents(){this.abilityService.executeFriendGainedPerkEvents(),this.abilityService.executeFriendGainedAilmentEvents(),this.abilityService.executeFriendlyToyBrokeEvents()}checkPetsAlive(){this.player.checkPetsAlive(),this.opponent.checkPetsAlive()}initToys(){var e,i;(null===(e=this.player.toy)||void 0===e?void 0:e.startOfBattle)&&this.toyService.setStartOfBattleEvent({callback:()=>{this.player.toy.startOfBattle(this.gameService.gameApi);let s=this.player.toy.level;for(let r of this.player.petArray)r instanceof ch&&(this.player.toy.level=r.level,this.player.toy.startOfBattle(this.gameService.gameApi,!0),this.player.toy.level=s)},priority:this.player.toy.tier}),(null===(i=this.opponent.toy)||void 0===i?void 0:i.startOfBattle)&&this.toyService.setStartOfBattleEvent({callback:()=>{this.opponent.toy.startOfBattle(this.gameService.gameApi);let s=this.opponent.toy.level;for(let r of this.opponent.petArray)r instanceof ch&&(this.opponent.toy.level=r.level,this.opponent.toy.startOfBattle(this.gameService.gameApi,!0),this.opponent.toy.level=s)},priority:this.opponent.toy.tier})}simulate(){this.localStorageService.setFormStorage(this.formGroup),this.resetSimulation(),this.setAbilityEquipments(this.player),this.setAbilityEquipments(this.opponent);for(let e=0;e<this.simulationBattleAmt;e++){for(this.initBattle(),this.startBattle(),this.initToys(),this.abilityService.initEndTurnEvents(this.player),this.abilityService.initEndTurnEvents(this.opponent),this.player.onionCheck(),this.opponent.onionCheck(),this.executeBeforeStartOfBattleEquipment(this.player),this.executeBeforeStartOfBattleEquipment(this.opponent),this.startOfBattleService.initStartOfBattleEvents(),this.startOfBattleService.executeToyPetEvents(),this.executeFrequentEvents(),this.toyService.executeStartOfBattleEvents(),this.executeFrequentEvents(),this.startOfBattleService.executeNonToyPetEvents(),this.executeFrequentEvents(),this.abilityService.executeSummonedEvents(),this.abilityService.executeEnemySummonedEvents(),this.abilityService.triggerTransformEvents(this.player),this.abilityService.triggerTransformEvents(this.opponent),this.abilityService.executeTransformEvents(),this.checkPetsAlive(),this.abilityService.hasAbilityCycleEvents||this.removeDeadPets();this.abilityService.hasAbilityCycleEvents;)this.abilityCycle();for(this.removeDeadPets(),this.pushPetsForwards(),this.logService.printState(this.player,this.opponent);this.battleStarted;)this.nextTurn();this.reset()}this.simulated=!0}removeDeadPets(){this.player.removeDeadPets(),this.opponent.removeDeadPets(),null==this.player.pet0&&this.abilityService.triggerEmptyFrontSpaceEvents(this.player),null==this.opponent.pet0&&this.abilityService.triggerEmptyFrontSpaceEvents(this.opponent),this.abilityService.executeEmptyFrontSpaceEvents()}startBattle(){this.reset(),this.battleStarted=!0,this.turns=0}resetSimulation(){this.playerWinner=0,this.opponentWinner=0,this.viewBattle=null,this.draw=0,this.battles=[],this.currBattle=null}initBattle(){this.logService.reset(),this.currBattle={winner:"draw",logs:this.logs},this.battles.push(this.currBattle)}reset(){this.player.resetPets(),this.opponent.resetPets()}nextTurn(){let e=!1,i=null;if(this.turns++,this.turns>=this.maxTurns&&(e=!0),!this.player.alive()&&this.opponent.alive()&&(i=this.opponent,this.currBattle.winner="opponent",this.opponentWinner++,e=!0),!this.opponent.alive()&&this.player.alive()&&(i=this.player,this.currBattle.winner="player",this.playerWinner++,e=!0),!this.opponent.alive()&&!this.player.alive()&&(this.draw++,e=!0),e)return this.endLog(i),void(this.battleStarted=!1);for(this.pushPetsForwards(),this.doBeforeAttackEquipment();this.abilityService.hasAbilityCycleEvents;)this.abilityCycle();if(this.checkPetsAlive(),this.removeDeadPets(),!this.player.alive()||!this.opponent.alive())return;this.pushPetsForwards();let s=this.chocolateCakePresent();for(s.cake?this.doChocolateCakeEvents(s):this.fight(),this.abilityCycle();this.abilityService.hasAbilityCycleEvents;)this.abilityCycle();this.player.checkGoldenSpawn(),this.opponent.checkGoldenSpawn(),this.logService.printState(this.player,this.opponent)}chocolateCakePresent(){var e,i;let s={player:!1,opponent:!1,cake:!1};return s.player=(null===(e=this.player.pet0)||void 0===e?void 0:e.equipment)instanceof f_,s.opponent=(null===(i=this.opponent.pet0)||void 0===i?void 0:i.equipment)instanceof f_,s.cake=s.player||s.opponent,s}doChocolateCakeEvents(e){let i=[];e.player&&i.push(this.player.pet0),e.opponent&&i.push(this.opponent.pet0),i=(0,xe.shuffle)(i),i.sort((s,r)=>s.attack<r.attack?1:r.attack<s.attack?-1:0);for(let s of i)s.equipment.callback(s)}setAbilityEquipments(e){var i;for(let s of e.petArray)s.equipment instanceof Ok&&(s.equipment.callback(s),s.eggplantTouched=!0),s.equipment instanceof Nk&&s.equipment.callback(s),"startOfBattle"==(null===(i=s.equipment)||void 0===i?void 0:i.equipmentClass)&&s.equipment.callback(s)}executeBeforeStartOfBattleEquipment(e){for(let i of e.petArray){let s=1,r="";if(i instanceof yn&&(s=i.level+1,r=` x${s} (Panther)`),i.equipment instanceof Mk&&(i.increaseAttack(4*s),i.increaseHealth(4*s),this.logService.createLog({message:`${i.name} gained ${4*s} attack and ${4*s} health (Pie)${r}`,type:"equipment",player:e})),i.equipment instanceof Ik)for(let o of e.petArray)i!=o&&(o.increaseAttack(2*s),o.increaseHealth(2*s),this.logService.createLog({message:`${o.name} gained ${2*s} attack and ${2*s} health (Pancake)${r}`,type:"equipment",player:e}))}}pushPetsForwards(){1==this.turns&&this.player.pet0&&this.opponent.pet0||(this.player.pushPetsForward(),this.opponent.pushPetsForward(),this.player.onionCheck(),this.opponent.onionCheck())}doBeforeAttackEquipment(){let e=this.player.pet0,i=this.opponent.pet0,s=e.equipment,r=i.equipment;if("snipe"==(null==s?void 0:s.equipmentClass)){let o=1;e instanceof fh&&s instanceof Tp&&(o=e.level);for(let a=0;a<o;a++)this.abilityService.setEqiupmentBeforeAttackEvent({callback:()=>{s.attackCallback(e,i)},priority:e.attack,player:this.player})}if("snipe"==(null==r?void 0:r.equipmentClass)){let o=1;i instanceof fh&&r instanceof Tp&&(o=i.level);for(let a=0;a<o;a++)this.abilityService.setEqiupmentBeforeAttackEvent({callback:()=>{r.attackCallback(i,e)},priority:i.attack,player:this.opponent})}this.abilityService.executeEqiupmentBeforeAttackEvents(),this.player.checkPetsAlive(),this.opponent.checkPetsAlive()}fight(){let e=this.player.pet0,i=this.opponent.pet0;e.beforeAttack&&this.abilityService.setBeforeAttackEvent({callback:e.beforeAttack.bind(e),priority:e.attack,player:this.player}),i.beforeAttack&&this.abilityService.setBeforeAttackEvent({callback:i.beforeAttack.bind(i),priority:i.attack,player:this.opponent}),this.abilityService.executeBeforeAttackEvents(),e.attackPet(i),i.attackPet(e),e.useAttackDefenseEquipment(),i.useAttackDefenseEquipment(),this.player.checkPetsAlive(),this.opponent.checkPetsAlive(),this.abilityService.executeAfterAttackEvents(),this.abilityService.executeFriendAheadAttacksEvents(),this.abilityService.executeFriendAttacksEvents()}endLog(e){let i;i=null==e?"Draw":e==this.player?"Player is the winner":"Opponent is the winner",this.logService.createLog({message:i,type:"board"})}get logs(){return this.logService.getLogs()}setViewBattle(e){this.viewBattle=e}getViewBattleLogs(){var e,i;return null!==(i=null===(e=this.viewBattle)||void 0===e?void 0:e.logs)&&void 0!==i?i:[]}getDrawWidth(){return`${this.losePercent+this.drawPercent}%`}getLoseWidth(){return`${this.losePercent}%`}getPlayerClass(e){return null==e.player?"log":e.player==this.player?"log-player":"log-opponent"}getRandomEvents(e){let i="",s=e.logs.filter(r=>1==r.randomEvent);for(let r of s)i+=r.message,r!=s[s.length-1]&&(i+="\n");return i}randomize(e){console.log("randomize",e),e?this.randomizePlayerPets(e):(this.randomizePlayerPets(this.player),this.randomizePlayerPets(this.opponent)),this.formGroup&&this.initPetForms(),setTimeout(()=>{this.petSelectors.forEach(i=>{i.initSelector()})})}zoomIn(){this.formGroup.get("fontSize").setValue(Math.min(this.formGroup.get("fontSize").value+1,20)),this.setFontSize()}zoomOut(){this.formGroup.get("fontSize").setValue(Math.max(this.formGroup.get("fontSize").value-1,8)),this.setFontSize()}setFontSize(){document.documentElement.style.fontSize=`${this.formGroup.get("fontSize").value}px`}clearCache(){this.localStorageService.clearStorage(),alert("Cache cleared. Refresh page to see changes.")}initModals(){this.customPackEditorModal=new cc(this.customPackEditor.nativeElement),this.customPackEditor.nativeElement.addEventListener("hidden.bs.modal",e=>{})}openCustomPackEditor(){this.customPackEditorModal.show(),this.formGroup.get("playerPack").setValue(this.previousPackPlayer,{emitEvent:!1}),this.formGroup.get("opponentPack").setValue(this.previousPackOpponent,{emitEvent:!1})}drop(e,i){let s=e.previousIndex,r=e.currentIndex,o=this.opponent;"player"==i&&(s=4-s,r=4-r,o=this.player),Z1(this.formGroup.get(`${i}Pets`).controls,s,r);let a=o.petArray;Z1(a,s,r),o.setPet(0,a[0],!0),o.setPet(1,a[1],!0),o.setPet(2,a[2],!0),o.setPet(3,a[3],!0),o.setPet(4,a[4],!0)}resetPlayer(e){let i=this.petSelectors.toArray().slice("player"==e?0:5,"player"==e?5:10);for(let s of i)s.removePet()}export(){this.simulate();let e=JSON.stringify(this.formGroup.value);navigator.clipboard.writeText(e).then(()=>{alert("Copied to clipboard")})}import(e){let i=!1,s=JSON.parse(e);try{this.loadCalculatorFromValue(s),this.initApp(),this.petSelectors.forEach(r=>{r.fixLoadEquipment()}),i=!0}catch(r){console.error(r)}return i}get filteredBattles(){return this.battles.filter(e=>{let i=this.formGroup.get("logFilter").value;return null==i||e.winner==i})}get winPercent(){return fD(this.playerWinner/this.simulationBattleAmt*100)}get drawPercent(){return fD(this.draw/this.simulationBattleAmt*100)}get losePercent(){return fD(this.opponentWinner/this.simulationBattleAmt*100)}get validCustomPacks(){let e=this.formGroup.get("customPacks"),i=[];for(let s of e.controls)s.valid&&i.push(s);return i}}return n.\u0275fac=function(e){return new(e||n)(V(p_),V(g_),V(ph),V(Wk),V(m_),V(pQ),V(gQ),V(_V))},n.\u0275cmp=zi({type:n,selectors:[["app-root"]],viewQuery:function(e,i){if(1&e&&(Jy(tZ,5),Jy(IL,5)),2&e){let s;Yl(s=Ql())&&(i.customPackEditor=s.first),Yl(s=Ql())&&(i.petSelectors=s)}},decls:247,vars:22,consts:[[1,"container-fluid","app-wrapper","flex-col",3,"formGroup"],["container",""],[1,"row","mt-2"],[1,"col-12","header"],[1,"d-flex","align-items-end"],[3,"click"],["data-bs-toggle","modal","data-bs-target","#info",1,"btn-link","info-link"],[1,"d-flex","flex-column","align-items-end"],["data-bs-toggle","modal","data-bs-target","#patchNotes",1,"btn-link"],[1,"row","battle-controller","border"],[1,"col-12","d-flex","justify-content-between","py-2"],[1,"d-flex","flex-wrap"],[1,"form-group","min-w-input","me-3"],["for","playerPack"],["id","playerPack","formControlName","playerPack",1,"form-control"],["value","Turtle"],["value","Puppy"],["value","Star"],["value","Golden"],["label","Custom Packs"],[3,"value",4,"ngFor","ngForOf"],["value","Add Custom Pack"],[1,"form-group","min-w-input","pe-3","border-end"],["id","opponentPack","formControlName","opponentPack",1,"form-control"],[1,"border-end","d-flex","pe-3"],[1,"form-group","small-w-input","ms-3"],["for","turn"],["id","turn","type","number","formControlName","turn","max","99",1,"form-control"],["for","playerGoldSpent","title","Player Gold Spent"],["id","turn","type","number","formControlName","playerGoldSpent","max","99",1,"form-control"],["for","opponentGoldSpent","title","Opponent Gold Spent"],["id","turn","type","number","formControlName","opponentGoldSpent","max","99",1,"form-control"],[1,"form-group","min-w-input","mx-3"],["id","playerToy","formControlName","playerToy",1,"form-control"],[3,"ngValue"],[3,"label",4,"ngFor","ngForOf"],[1,"form-group","me-3"],["for","playerToyLevel"],["id","playerToyLevel","formControlName","playerToyLevel",1,"form-control"],["id","opponentToy","formControlName","opponentToy",1,"form-control"],[1,"form-group","pe-3","border-end"],["for","opponentToyLevel"],["id","opponentToyLevel","formControlName","opponentToyLevel",1,"form-control"],[1,"flex-column"],["title","Opponent's pack pets are included in the pet pool.",1,"form-check","ms-3"],["type","checkbox","value","","id","angler","formControlName","angler",1,"form-check-input"],["for","angler",1,"form-check-label"],["title","All pets are included in the pet pool.",1,"form-check","ms-3"],["type","checkbox","value","","id","allPets","formControlName","allPets",1,"form-check-input"],["for","allPets",1,"form-check-label"],["title","Stork spawns with base stats.",1,"form-check","ms-3"],["type","checkbox","value","","id","oldStork","formControlName","oldStork",1,"form-check-input"],["for","oldStork",1,"form-check-label"],[1,"flex-col","zoom-container"],["for","zoom"],[1,"btn","btn-secondary","me-2",3,"click"],[1,"btn","btn-secondary",3,"click"],[1,"row","battle-row","pb-5","pt-3"],[1,"col-12","col-xl-6","px-4","mb-2","mb-xl-0"],[1,"d-flex","justify-content-between"],[1,"me-4"],[1,"btn","btn-secondary","mb-1",3,"click"],[1,"card","p-2","player-card"],["cdkDropList","","cdkDropListOrientation","horizontal",1,"row","row-cols-1","row-cols-md-5",3,"cdkDropListDropped"],["class","col drag-container mb-2 mb-md-0","cdkDrag","",4,"ngFor","ngForOf"],[1,"col-12","col-xl-6","px-4"],[1,"card","p-2","player-card","ml-auto"],["class","col drag-container mb-2 mb-sm-0","cdkDrag","",4,"ngFor","ngForOf"],[1,"row","button-bar","pt-3","pb-1","border"],[1,"col-12","d-flex","justify-content-between"],[1,"btn","btn-primary","me-2","mb-2",3,"click"],["data-bs-toggle","modal","data-bs-target","#reportABug",1,"btn","btn-secondary","me-2","mb-2"],[1,"btn","btn-secondary","me-2","mb-2",3,"click"],["data-bs-toggle","modal","data-bs-target","#import",1,"btn","btn-secondary","mb-2"],["class","row",4,"ngIf"],[1,"row","flex-1","bottom-container"],[1,"col-12","col-md-6","border","h-100","flex-col","pe-0"],[1,"row"],[1,"col-12"],["for","logFilter",1,"form-label"],[1,"form-check","form-check-inline"],["formControlName","logFilter","type","radio","name","logFilter","id","inlineRadio1",1,"form-check-input",3,"value"],["for","inlineRadio1",1,"form-check-label"],["formControlName","logFilter","type","radio","name","logFilter","id","inlineRadio2","value","player",1,"form-check-input"],["for","inlineRadio2",1,"form-check-label"],["formControlName","logFilter","type","radio","name","logFilter","id","inlineRadio3","value","opponent",1,"form-check-input"],["for","inlineRadio3",1,"form-check-label"],["formControlName","logFilter","type","radio","name","logFilter","id","inlineRadio4","value","draw",1,"form-check-input"],["for","inlineRadio4",1,"form-check-label"],[1,"battle-container","flex-1","scroll"],[1,"table"],[1,"battle-no"],["class","table-battle-row",3,"click",4,"ngFor","ngForOf"],[1,"col-12","col-md-6","border","h-100","flex-col"],[1,"row","log-container","flex-1","scroll"],["class","col-12",4,"ngFor","ngForOf"],["id","patchNotes","tabindex","-1","aria-labelledby","patchNotesLabel","aria-hidden","true",1,"modal","fade"],[1,"modal-dialog"],[1,"modal-content"],[1,"modal-header"],["id","patchNotesLabel",1,"modal-title","fs-5"],["type","button","data-bs-dismiss","modal","aria-label","Close",1,"btn-close"],[1,"modal-body"],[1,"modal-footer"],[1,"btn-link",3,"click"],["id","customPackEditor","tabindex","-1","aria-labelledby","customPackEditorLabel","aria-hidden","true",1,"modal","fade"],["customPackEditor",""],[1,"modal-dialog","modal-lg"],["id","customPackEditorLabel",1,"modal-title","fs-5"],[3,"formGroup"],["id","info","tabindex","-1","aria-labelledby","exampleModalLabel","aria-hidden","true",1,"modal","fade"],["id","exampleModalLabel",1,"modal-title","fs-5"],["id","import","tabindex","-1","aria-labelledby","importModalLabel","aria-hidden","true",1,"modal","fade"],["id","importModalLabel",1,"modal-title","fs-5"],[3,"importFunc"],["id","reportABug","tabindex","-1","aria-labelledby","reportABug","aria-hidden","true",1,"modal","fade"],["id","reportABug",1,"modal-title","fs-5"],[3,"calcFormGroup"],[3,"value"],[3,"label"],[3,"ngValue",4,"ngFor","ngForOf"],["cdkDrag","",1,"col","drag-container","mb-2","mb-md-0"],["cdkDragHandle","",1,"drag-handle"],["fill","currentColor","viewBox","0 0 24 24"],["d","M10 9h4V6h3l-5-5-5 5h3v3zm-1 1H6V7l-5 5 5 5v-3h3v-4zm14 2l-5-5v3h-3v4h3v3l5-5zm-9 3h-4v3H7l5 5 5-5h-3v-3z"],["d","M0 0h24v24H0z","fill","none"],[3,"pet","player","opponent","index","formGroup","angler","allPets","customPacks"],["cdkDrag","",1,"col","drag-container","mb-2","mb-sm-0"],[1,"col-12","stats"],[1,"col-12","py-2"],[1,"results-bar"],[1,"draw-bar"],[1,"lose-bar"],[1,"table-battle-row",3,"click"],[1,"pre"],[3,"ngClass"]],template:function(e,i){1&e&&(m(0,"div",0,1),m(2,"div",2),m(3,"div",3),m(4,"div",4),m(5,"h1",5),qe("click",function(){return i.printFormGroup()}),T(6,"SAP Calculator"),y(),m(7,"span",6),T(8,"Info/Guide"),y(),y(),m(9,"div",7),m(10,"span"),T(11),m(12,"span",8),T(13,"Patch Notes"),y(),y(),m(14,"span"),T(15),y(),y(),y(),y(),m(16,"div",9),m(17,"div",10),m(18,"div",11),m(19,"div",12),m(20,"label",13),T(21,"Player Pack"),y(),m(22,"select",14),m(23,"option",15),T(24,"Turtle"),y(),m(25,"option",16),T(26,"Puppy"),y(),m(27,"option",17),T(28,"Star"),y(),m(29,"option",18),T(30,"Golden"),y(),m(31,"optgroup",19),Je(32,nZ,2,2,"option",20),m(33,"option",21),T(34,"Add Custom Pack"),y(),y(),y(),y(),m(35,"div",22),m(36,"label",13),T(37,"Opponent Pack"),y(),m(38,"select",23),m(39,"option",15),T(40,"Turtle"),y(),m(41,"option",16),T(42,"Puppy"),y(),m(43,"option",17),T(44,"Star"),y(),m(45,"option",18),T(46,"Golden"),y(),m(47,"optgroup",19),Je(48,iZ,2,2,"option",20),m(49,"option",21),T(50,"Add Custom Pack"),y(),y(),y(),y(),m(51,"div",24),m(52,"div",25),m(53,"label",26),T(54,"Turn"),y(),ue(55,"input",27),y(),m(56,"div",25),m(57,"label",28),T(58,"PGS"),y(),ue(59,"input",29),y(),m(60,"div",25),m(61,"label",30),T(62,"OGS"),y(),ue(63,"input",31),y(),y(),m(64,"div",32),m(65,"label",13),T(66,"Player Toy"),y(),m(67,"select",33),m(68,"option",34),T(69,"None"),y(),Je(70,rZ,2,2,"optgroup",35),Xu(71,"keyvalue"),y(),y(),m(72,"div",36),m(73,"label",37),T(74,"Toy Level"),y(),m(75,"select",38),m(76,"option"),T(77,"1"),y(),m(78,"option"),T(79,"2"),y(),m(80,"option"),T(81,"3"),y(),y(),y(),m(82,"div",12),m(83,"label",13),T(84,"Opponent Toy"),y(),m(85,"select",39),m(86,"option",34),T(87,"None"),y(),Je(88,aZ,2,2,"optgroup",35),Xu(89,"keyvalue"),y(),y(),m(90,"div",40),m(91,"label",41),T(92,"Toy Level"),y(),m(93,"select",42),m(94,"option"),T(95,"1"),y(),m(96,"option"),T(97,"2"),y(),m(98,"option"),T(99,"3"),y(),y(),y(),m(100,"div",43),m(101,"div",44),ue(102,"input",45),m(103,"label",46),T(104," Angler "),y(),y(),m(105,"div",47),ue(106,"input",48),m(107,"label",49),T(108," All Pets "),y(),y(),y(),m(109,"div",43),m(110,"div",50),ue(111,"input",51),m(112,"label",52),T(113," Old Stork "),y(),y(),y(),y(),m(114,"div",53),m(115,"label",54),T(116,"Zoom"),y(),m(117,"div"),m(118,"button",55),qe("click",function(){return i.zoomIn()}),T(119,"+"),y(),m(120,"button",56),qe("click",function(){return i.zoomOut()}),T(121,"-"),y(),y(),y(),y(),y(),m(122,"div",57),m(123,"div",58),m(124,"div",59),m(125,"h2",60),T(126,"Player"),y(),m(127,"button",61),qe("click",function(){return i.resetPlayer("player")}),T(128,"Reset"),y(),y(),m(129,"div",62),m(130,"div",63),qe("cdkDropListDropped",function(r){return i.drop(r,"player")}),Je(131,lZ,6,8,"div",64),y(),y(),y(),m(132,"div",65),m(133,"div",59),m(134,"h2",60),T(135,"Opponent"),y(),m(136,"button",61),qe("click",function(){return i.resetPlayer("opponent")}),T(137,"Reset"),y(),y(),m(138,"div",66),m(139,"div",63),qe("cdkDropListDropped",function(r){return i.drop(r,"opponent")}),Je(140,cZ,6,8,"div",67),y(),y(),y(),y(),m(141,"div",68),m(142,"div",69),m(143,"div"),m(144,"button",70),qe("click",function(){return i.simulate()}),T(145,"Simulate"),y(),m(146,"button",70),qe("click",function(){return i.randomize()}),T(147,"Randomize"),y(),y(),m(148,"div"),m(149,"button",71),T(150,"Report A Bug"),y(),m(151,"button",72),qe("click",function(){return i.export()}),T(152,"Export Calculator"),y(),m(153,"button",73),T(154,"Import Calculator"),y(),y(),y(),y(),Je(155,uZ,18,10,"div",74),m(156,"div",75),m(157,"div",76),m(158,"h3"),T(159,"Battles"),y(),m(160,"div",77),m(161,"div",78),m(162,"label",79),T(163,"Filter Battles By Winner"),y(),y(),m(164,"div",78),m(165,"div",80),ue(166,"input",81),m(167,"label",82),T(168,"None"),y(),y(),m(169,"div",80),ue(170,"input",83),m(171,"label",84),T(172,"Player"),y(),y(),m(173,"div",80),ue(174,"input",85),m(175,"label",86),T(176,"Opponent"),y(),y(),m(177,"div",80),ue(178,"input",87),m(179,"label",88),T(180,"Draw"),y(),y(),y(),y(),m(181,"div",89),m(182,"table",90),m(183,"thead"),m(184,"tr"),m(185,"th",91),T(186,"Battle No."),y(),m(187,"th"),T(188,"Winner"),y(),m(189,"th"),T(190,"Random Events"),y(),y(),y(),m(191,"tbody"),Je(192,hZ,7,3,"tr",92),y(),y(),y(),y(),m(193,"div",93),m(194,"h3"),T(195,"Logs"),y(),m(196,"div",94),Je(197,fZ,3,5,"div",95),y(),y(),y(),y(),m(198,"div",96),m(199,"div",97),m(200,"div",98),m(201,"div",99),m(202,"h1",100),T(203,"Patch Notes"),y(),ue(204,"button",101),y(),m(205,"div",102),ue(206,"app-patch-notes"),y(),m(207,"div",103),m(208,"span",104),qe("click",function(){return i.clearCache()}),T(209,"Clear Cache"),y(),y(),y(),y(),y(),m(210,"div",105,106),m(212,"div",107),m(213,"div",98),m(214,"div",99),m(215,"h1",108),T(216,"Custom Pack Editor"),y(),ue(217,"button",101),y(),m(218,"div",102),ue(219,"app-custom-pack-editor",109),y(),y(),y(),y(),m(220,"div",110),m(221,"div",107),m(222,"div",98),m(223,"div",99),m(224,"h1",111),T(225,"Info"),y(),ue(226,"button",101),y(),m(227,"div",102),ue(228,"app-info"),y(),y(),y(),y(),m(229,"div",112),m(230,"div",107),m(231,"div",98),m(232,"div",99),m(233,"h1",113),T(234,"Import Calculator"),y(),ue(235,"button",101),y(),m(236,"div",102),ue(237,"app-import-calculator",114),y(),y(),y(),y(),m(238,"div",115),m(239,"div",107),m(240,"div",98),m(241,"div",99),m(242,"h1",116),T(243,"Report A Bug"),y(),ue(244,"button",101),y(),m(245,"div",102),ue(246,"app-report-a-bug",117),y(),y(),y(),y()),2&e&&(Y("formGroup",i.formGroup),G(11),Bn("Version: ",i.version," "),G(4),Bn("SAP Version: ",i.sapVersion,""),G(17),Y("ngForOf",i.validCustomPacks),G(16),Y("ngForOf",i.validCustomPacks),G(20),Y("ngValue",null),G(2),Y("ngForOf",eh(71,18,i.toys)),G(16),Y("ngValue",null),G(2),Y("ngForOf",eh(89,20,i.toys)),G(43),Y("ngForOf",i.getPlayerPetsFormArray()),G(9),Y("ngForOf",i.getOpponentPetsFormArray()),G(15),Y("ngIf",i.simulated),G(11),Y("value",null),G(26),Y("ngForOf",i.filteredBattles),G(5),Y("ngForOf",i.getViewBattleLogs()),G(22),Y("formGroup",i.formGroup),G(18),Y("importFunc",i.import.bind(i)),G(9),Y("calcFormGroup",i.formGroup))},directives:[nc,Lo,Dp,tc,Ia,cD,hD,mp,$v,Hv,Ro,Mv,YY,oh,rD,mQ,OQ,NQ,RQ,eZ,JY,QY,IL,kC],pipes:[MC],styles:[".app-wrapper[_ngcontent-%COMP%]{height:100vh}.header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:end}.flex-col[_ngcontent-%COMP%]{display:flex;flex-direction:column}.player-card[_ngcontent-%COMP%]{background-color:#e9c137;display:grid;grid-auto-rows:minmax(min-content,max-content);grid-template-columns:auto 1fr auto}.back[_ngcontent-%COMP%], .front[_ngcontent-%COMP%]{transform:rotate(180deg);writing-mode:vertical-lr;text-align:center}.battle-row[_ngcontent-%COMP%]{background-color:#5ebe09}.button-bar[_ngcontent-%COMP%], .battle-controller[_ngcontent-%COMP%]{background-color:#f5f5f5}.battle-controller[_ngcontent-%COMP%]   .min-w-input[_ngcontent-%COMP%]{min-width:100px}.small-w-input[_ngcontent-%COMP%]{width:60px}.stats[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{margin-right:.25em}.stats[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{margin-right:1em}.battle-no[_ngcontent-%COMP%]{width:1%;white-space:nowrap}.table-battle-row[_ngcontent-%COMP%]{cursor:pointer}.results-bar[_ngcontent-%COMP%], .draw-bar[_ngcontent-%COMP%], .lose-bar[_ngcontent-%COMP%]{display:inline-block}.draw-bar[_ngcontent-%COMP%], .lose-bar[_ngcontent-%COMP%]{height:100%;position:absolute;right:0}.results-bar[_ngcontent-%COMP%]{max-width:100%;border:.2em solid black;height:2em;width:30em;background-color:#0f0;position:relative}.draw-bar[_ngcontent-%COMP%]{background-color:#d3d3d3}.lose-bar[_ngcontent-%COMP%]{background-color:red}.log-player[_ngcontent-%COMP%]{background-color:#e4ffe0}.log-opponent[_ngcontent-%COMP%]{background-color:#ffe0e0}.log-container[_ngcontent-%COMP%]{display:flex;align-content:flex-start}.random-event[_ngcontent-%COMP%]{color:purple;font-weight:bold}.flex-1[_ngcontent-%COMP%]{flex:1}.bottom-container[_ngcontent-%COMP%]{min-height:30em}.bottom-container[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{min-height:15em}.scroll[_ngcontent-%COMP%]{overflow:scroll}.h-100[_ngcontent-%COMP%]{height:100%}.pre[_ngcontent-%COMP%]{white-space:pre}.btn-link[_ngcontent-%COMP%]{color:#0d6efd;cursor:pointer}.zoom-container[_ngcontent-%COMP%]{min-width:max-content}.zoom-container[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{width:2.5em}.cdk-drag-placeholder[_ngcontent-%COMP%]{opacity:0}.drag-container[_ngcontent-%COMP%]{position:relative}.drag-handle[_ngcontent-%COMP%]{width:1.25em;position:absolute;right:1em;z-index:1;opacity:.5;cursor:pointer}.info-link[_ngcontent-%COMP%]{margin-left:1em;margin-bottom:.5em}@media (max-width: 767.98px){.card[_ngcontent-%COMP%]{max-width:18em}.back[_ngcontent-%COMP%], .front[_ngcontent-%COMP%]{transform:initial;writing-mode:initial}.player-card[_ngcontent-%COMP%]{grid-template-columns:none}}.ml-auto[_ngcontent-%COMP%]{margin-left:auto}.bug-button[_ngcontent-%COMP%]{margin-right:.5em;margin-bottom:.25em}"]}),n})();class OV{}const qo="*";function NV(n,t=null){return{type:2,steps:n,options:t}}function RV(n){return{type:6,styles:n,offset:null}}function LV(n){Promise.resolve(null).then(n)}class Nh{constructor(t=0,e=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=t+e}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}onStart(t){this._onStartFns.push(t)}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){LV(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(t=>t()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}reset(){this._started=!1}setPosition(t){this._position=this.totalTime?t*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(i=>i()),e.length=0}}class FV{constructor(t){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=t;let e=0,i=0,s=0;const r=this.players.length;0==r?LV(()=>this._onFinish()):this.players.forEach(o=>{o.onDone(()=>{++e==r&&this._onFinish()}),o.onDestroy(()=>{++i==r&&this._onDestroy()}),o.onStart(()=>{++s==r&&this._onStart()})}),this.totalTime=this.players.reduce((o,a)=>Math.max(o,a.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}init(){this.players.forEach(t=>t.init())}onStart(t){this._onStartFns.push(t)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(t=>t()),this._onStartFns=[])}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(t=>t.play())}pause(){this.players.forEach(t=>t.pause())}restart(){this.players.forEach(t=>t.restart())}finish(){this._onFinish(),this.players.forEach(t=>t.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(t=>t.destroy()),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}reset(){this.players.forEach(t=>t.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(t){const e=t*this.totalTime;this.players.forEach(i=>{const s=i.totalTime?Math.min(1,e/i.totalTime):1;i.setPosition(s)})}getPosition(){const t=this.players.reduce((e,i)=>null===e||i.totalTime>e.totalTime?i:e,null);return null!=t?t.getPosition():0}beforeDestroy(){this.players.forEach(t=>{t.beforeDestroy&&t.beforeDestroy()})}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(i=>i()),e.length=0}}function VV(){return"undefined"!=typeof window&&void 0!==window.document}function uT(){return"undefined"!=typeof process&&"[object process]"==={}.toString.call(process)}function ja(n){switch(n.length){case 0:return new Nh;case 1:return n[0];default:return new FV(n)}}function BV(n,t,e,i,s={},r={}){const o=[],a=[];let u=-1,h=null;if(i.forEach(f=>{const p=f.offset,v=p==u,_=v&&h||{};Object.keys(f).forEach(S=>{let D=S,C=f[S];if("offset"!==S)switch(D=t.normalizePropertyName(D,o),C){case"!":C=s[S];break;case qo:C=r[S];break;default:C=t.normalizeStyleValue(S,D,C,o)}_[D]=C}),v||a.push(_),h=_,u=p}),o.length){const f="\n - ";throw new Error(`Unable to animate due to the following errors:${f}${o.join(f)}`)}return a}function hT(n,t,e,i){switch(t){case"start":n.onStart(()=>i(e&&dT(e,"start",n)));break;case"done":n.onDone(()=>i(e&&dT(e,"done",n)));break;case"destroy":n.onDestroy(()=>i(e&&dT(e,"destroy",n)))}}function dT(n,t,e){const i=e.totalTime,r=fT(n.element,n.triggerName,n.fromState,n.toState,t||n.phaseName,null==i?n.totalTime:i,!!e.disabled),o=n._data;return null!=o&&(r._data=o),r}function fT(n,t,e,i,s="",r=0,o){return{element:n,triggerName:t,fromState:e,toState:i,phaseName:s,totalTime:r,disabled:!!o}}function as(n,t,e){let i;return n instanceof Map?(i=n.get(t),i||n.set(t,i=e)):(i=n[t],i||(i=n[t]=e)),i}function $V(n){const t=n.indexOf(":");return[n.substring(1,t),n.substr(t+1)]}let pT=(n,t)=>!1,gT=(n,t)=>!1,HV=(n,t,e)=>[];const qV=uT();(qV||"undefined"!=typeof Element)&&(pT=VV()?(n,t)=>{for(;t&&t!==document.documentElement;){if(t===n)return!0;t=t.parentNode||t.host}return!1}:(n,t)=>n.contains(t),gT=(()=>{if(qV||Element.prototype.matches)return(n,t)=>n.matches(t);{const n=Element.prototype,t=n.matchesSelector||n.mozMatchesSelector||n.msMatchesSelector||n.oMatchesSelector||n.webkitMatchesSelector;return t?(e,i)=>t.apply(e,[i]):gT}})(),HV=(n,t,e)=>{let i=[];if(e){const s=n.querySelectorAll(t);for(let r=0;r<s.length;r++)i.push(s[r])}else{const s=n.querySelector(t);s&&i.push(s)}return i});let gc=null,GV=!1;function mT(n){gc||(gc=("undefined"!=typeof document?document.body:null)||{},GV=!!gc.style&&"WebkitAppearance"in gc.style);let t=!0;return gc.style&&!function(n){return"ebkit"==n.substring(1,6)}(n)&&(t=n in gc.style,!t&&GV&&(t="Webkit"+n.charAt(0).toUpperCase()+n.substr(1)in gc.style)),t}const yT=gT,vT=pT,_T=HV;function UV(n){const t={};return Object.keys(n).forEach(e=>{const i=e.replace(/([a-z])([A-Z])/g,"$1-$2");t[i]=n[e]}),t}let jV=(()=>{class n{validateStyleProperty(e){return mT(e)}matchesElement(e,i){return yT(e,i)}containsElement(e,i){return vT(e,i)}query(e,i,s){return _T(e,i,s)}computeStyle(e,i,s){return s||""}animate(e,i,s,r,o,a=[],u){return new Nh(s,r)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=se({token:n,factory:n.\u0275fac}),n})(),bT=(()=>{class n{}return n.NOOP=new jV,n})();const ST="ng-enter",Y_="ng-leave",Q_="ng-trigger",Z_=".ng-trigger",zV="ng-animating",ET=".ng-animating";function mc(n){if("number"==typeof n)return n;const t=n.match(/^(-?[\.\d]+)(m?s)/);return!t||t.length<2?0:wT(parseFloat(t[1]),t[2])}function wT(n,t){return"s"===t?1e3*n:n}function J_(n,t,e){return n.hasOwnProperty("duration")?n:function(n,t,e){let s,r=0,o="";if("string"==typeof n){const a=n.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===a)return t.push(`The provided timing value "${n}" is invalid.`),{duration:0,delay:0,easing:""};s=wT(parseFloat(a[1]),a[2]);const u=a[3];null!=u&&(r=wT(parseFloat(u),a[4]));const h=a[5];h&&(o=h)}else s=n;if(!e){let a=!1,u=t.length;s<0&&(t.push("Duration values below 0 are not allowed for this animation step."),a=!0),r<0&&(t.push("Delay values below 0 are not allowed for this animation step."),a=!0),a&&t.splice(u,0,`The provided timing value "${n}" is invalid.`)}return{duration:s,delay:r,easing:o}}(n,t,e)}function Rh(n,t={}){return Object.keys(n).forEach(e=>{t[e]=n[e]}),t}function Wa(n,t,e={}){if(t)for(let i in n)e[i]=n[i];else Rh(n,e);return e}function YV(n,t,e){return e?t+":"+e+";":""}function QV(n){let t="";for(let e=0;e<n.style.length;e++){const i=n.style.item(e);t+=YV(0,i,n.style.getPropertyValue(i))}for(const e in n.style)n.style.hasOwnProperty(e)&&!e.startsWith("_")&&(t+=YV(0,wZ(e),n.style[e]));n.setAttribute("style",t)}function Gr(n,t,e){n.style&&(Object.keys(t).forEach(i=>{const s=DT(i);e&&!e.hasOwnProperty(i)&&(e[i]=n.style[s]),n.style[s]=t[i]}),uT()&&QV(n))}function yc(n,t){n.style&&(Object.keys(t).forEach(e=>{const i=DT(e);n.style[i]=""}),uT()&&QV(n))}function Jp(n){return Array.isArray(n)?1==n.length?n[0]:NV(n):n}const CT=new RegExp("{{\\s*(.+?)\\s*}}","g");function ZV(n){let t=[];if("string"==typeof n){let e;for(;e=CT.exec(n);)t.push(e[1]);CT.lastIndex=0}return t}function X_(n,t,e){const i=n.toString(),s=i.replace(CT,(r,o)=>{let a=t[o];return t.hasOwnProperty(o)||(e.push(`Please provide a value for the animation param ${o}`),a=""),a.toString()});return s==i?n:s}function eb(n){const t=[];let e=n.next();for(;!e.done;)t.push(e.value),e=n.next();return t}const EZ=/-+([a-z0-9])/g;function DT(n){return n.replace(EZ,(...t)=>t[1].toUpperCase())}function wZ(n){return n.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}function JV(n,t){return 0===n||0===t}function XV(n,t,e){const i=Object.keys(e);if(i.length&&t.length){let r=t[0],o=[];if(i.forEach(a=>{r.hasOwnProperty(a)||o.push(a),r[a]=e[a]}),o.length)for(var s=1;s<t.length;s++){let a=t[s];o.forEach(function(u){a[u]=AT(n,u)})}}return t}function ls(n,t,e){switch(t.type){case 7:return n.visitTrigger(t,e);case 0:return n.visitState(t,e);case 1:return n.visitTransition(t,e);case 2:return n.visitSequence(t,e);case 3:return n.visitGroup(t,e);case 4:return n.visitAnimate(t,e);case 5:return n.visitKeyframes(t,e);case 6:return n.visitStyle(t,e);case 8:return n.visitReference(t,e);case 9:return n.visitAnimateChild(t,e);case 10:return n.visitAnimateRef(t,e);case 11:return n.visitQuery(t,e);case 12:return n.visitStagger(t,e);default:throw new Error(`Unable to resolve animation metadata node #${t.type}`)}}function AT(n,t){return window.getComputedStyle(n)[t]}function CZ(n,t){const e=[];return"string"==typeof n?n.split(/\s*,\s*/).forEach(i=>function(n,t,e){if(":"==n[0]){const u=function(n,t){switch(n){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(e,i)=>parseFloat(i)>parseFloat(e);case":decrement":return(e,i)=>parseFloat(i)<parseFloat(e);default:return t.push(`The transition alias value "${n}" is not supported`),"* => *"}}(n,e);if("function"==typeof u)return void t.push(u);n=u}const i=n.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==i||i.length<4)return e.push(`The provided transition expression "${n}" is not supported`),t;const s=i[1],r=i[2],o=i[3];t.push(eB(s,o));"<"==r[0]&&!("*"==s&&"*"==o)&&t.push(eB(o,s))}(i,e,t)):e.push(n),e}const nb=new Set(["true","1"]),ib=new Set(["false","0"]);function eB(n,t){const e=nb.has(n)||ib.has(n),i=nb.has(t)||ib.has(t);return(s,r)=>{let o="*"==n||n==s,a="*"==t||t==r;return!o&&e&&"boolean"==typeof s&&(o=s?nb.has(n):ib.has(n)),!a&&i&&"boolean"==typeof r&&(a=r?nb.has(t):ib.has(t)),o&&a}}const PZ=new RegExp("s*:selfs*,?","g");function PT(n,t,e){return new kZ(n).build(t,e)}class kZ{constructor(t){this._driver=t}build(t,e){const i=new MZ(e);return this._resetContextStyleTimingState(i),ls(this,Jp(t),i)}_resetContextStyleTimingState(t){t.currentQuerySelector="",t.collectedStyles={},t.collectedStyles[""]={},t.currentTime=0}visitTrigger(t,e){let i=e.queryCount=0,s=e.depCount=0;const r=[],o=[];return"@"==t.name.charAt(0)&&e.errors.push("animation triggers cannot be prefixed with an `@` sign (e.g. trigger('@foo', [...]))"),t.definitions.forEach(a=>{if(this._resetContextStyleTimingState(e),0==a.type){const u=a,h=u.name;h.toString().split(/\s*,\s*/).forEach(f=>{u.name=f,r.push(this.visitState(u,e))}),u.name=h}else if(1==a.type){const u=this.visitTransition(a,e);i+=u.queryCount,s+=u.depCount,o.push(u)}else e.errors.push("only state() and transition() definitions can sit inside of a trigger()")}),{type:7,name:t.name,states:r,transitions:o,queryCount:i,depCount:s,options:null}}visitState(t,e){const i=this.visitStyle(t.styles,e),s=t.options&&t.options.params||null;if(i.containsDynamicStyles){const r=new Set,o=s||{};if(i.styles.forEach(a=>{if(sb(a)){const u=a;Object.keys(u).forEach(h=>{ZV(u[h]).forEach(f=>{o.hasOwnProperty(f)||r.add(f)})})}}),r.size){const a=eb(r.values());e.errors.push(`state("${t.name}", ...) must define default values for all the following style substitutions: ${a.join(", ")}`)}}return{type:0,name:t.name,style:i,options:s?{params:s}:null}}visitTransition(t,e){e.queryCount=0,e.depCount=0;const i=ls(this,Jp(t.animation),e);return{type:1,matchers:CZ(t.expr,e.errors),animation:i,queryCount:e.queryCount,depCount:e.depCount,options:vc(t.options)}}visitSequence(t,e){return{type:2,steps:t.steps.map(i=>ls(this,i,e)),options:vc(t.options)}}visitGroup(t,e){const i=e.currentTime;let s=0;const r=t.steps.map(o=>{e.currentTime=i;const a=ls(this,o,e);return s=Math.max(s,e.currentTime),a});return e.currentTime=s,{type:3,steps:r,options:vc(t.options)}}visitAnimate(t,e){const i=function(n,t){let e=null;if(n.hasOwnProperty("duration"))e=n;else if("number"==typeof n)return kT(J_(n,t).duration,0,"");const i=n;if(i.split(/\s+/).some(r=>"{"==r.charAt(0)&&"{"==r.charAt(1))){const r=kT(0,0,"");return r.dynamic=!0,r.strValue=i,r}return e=e||J_(i,t),kT(e.duration,e.delay,e.easing)}(t.timings,e.errors);e.currentAnimateTimings=i;let s,r=t.styles?t.styles:RV({});if(5==r.type)s=this.visitKeyframes(r,e);else{let o=t.styles,a=!1;if(!o){a=!0;const h={};i.easing&&(h.easing=i.easing),o=RV(h)}e.currentTime+=i.duration+i.delay;const u=this.visitStyle(o,e);u.isEmptyStep=a,s=u}return e.currentAnimateTimings=null,{type:4,timings:i,style:s,options:null}}visitStyle(t,e){const i=this._makeStyleAst(t,e);return this._validateStyleAst(i,e),i}_makeStyleAst(t,e){const i=[];Array.isArray(t.styles)?t.styles.forEach(o=>{"string"==typeof o?o==qo?i.push(o):e.errors.push(`The provided style string value ${o} is not allowed.`):i.push(o)}):i.push(t.styles);let s=!1,r=null;return i.forEach(o=>{if(sb(o)){const a=o,u=a.easing;if(u&&(r=u,delete a.easing),!s)for(let h in a)if(a[h].toString().indexOf("{{")>=0){s=!0;break}}}),{type:6,styles:i,easing:r,offset:t.offset,containsDynamicStyles:s,options:null}}_validateStyleAst(t,e){const i=e.currentAnimateTimings;let s=e.currentTime,r=e.currentTime;i&&r>0&&(r-=i.duration+i.delay),t.styles.forEach(o=>{"string"!=typeof o&&Object.keys(o).forEach(a=>{if(!this._driver.validateStyleProperty(a))return void e.errors.push(`The provided animation property "${a}" is not a supported CSS property for animations`);const u=e.collectedStyles[e.currentQuerySelector],h=u[a];let f=!0;h&&(r!=s&&r>=h.startTime&&s<=h.endTime&&(e.errors.push(`The CSS property "${a}" that exists between the times of "${h.startTime}ms" and "${h.endTime}ms" is also being animated in a parallel animation between the times of "${r}ms" and "${s}ms"`),f=!1),r=h.startTime),f&&(u[a]={startTime:r,endTime:s}),e.options&&function(n,t,e){const i=t.params||{},s=ZV(n);s.length&&s.forEach(r=>{i.hasOwnProperty(r)||e.push(`Unable to resolve the local animation param ${r} in the given list of values`)})}(o[a],e.options,e.errors)})})}visitKeyframes(t,e){const i={type:5,styles:[],options:null};if(!e.currentAnimateTimings)return e.errors.push("keyframes() must be placed inside of a call to animate()"),i;let r=0;const o=[];let a=!1,u=!1,h=0;const f=t.steps.map(L=>{const N=this._makeStyleAst(L,e);let j=null!=N.offset?N.offset:function(n){if("string"==typeof n)return null;let t=null;if(Array.isArray(n))n.forEach(e=>{if(sb(e)&&e.hasOwnProperty("offset")){const i=e;t=parseFloat(i.offset),delete i.offset}});else if(sb(n)&&n.hasOwnProperty("offset")){const e=n;t=parseFloat(e.offset),delete e.offset}return t}(N.styles),U=0;return null!=j&&(r++,U=N.offset=j),u=u||U<0||U>1,a=a||U<h,h=U,o.push(U),N});u&&e.errors.push("Please ensure that all keyframe offsets are between 0 and 1"),a&&e.errors.push("Please ensure that all keyframe offsets are in order");const p=t.steps.length;let v=0;r>0&&r<p?e.errors.push("Not all style() steps within the declared keyframes() contain offsets"):0==r&&(v=1/(p-1));const _=p-1,S=e.currentTime,D=e.currentAnimateTimings,C=D.duration;return f.forEach((L,N)=>{const j=v>0?N==_?1:v*N:o[N],U=j*C;e.currentTime=S+D.delay+U,D.duration=U,this._validateStyleAst(L,e),L.offset=j,i.styles.push(L)}),i}visitReference(t,e){return{type:8,animation:ls(this,Jp(t.animation),e),options:vc(t.options)}}visitAnimateChild(t,e){return e.depCount++,{type:9,options:vc(t.options)}}visitAnimateRef(t,e){return{type:10,animation:this.visitReference(t.animation,e),options:vc(t.options)}}visitQuery(t,e){const i=e.currentQuerySelector,s=t.options||{};e.queryCount++,e.currentQuery=t;const[r,o]=function(n){const t=!!n.split(/\s*,\s*/).find(e=>":self"==e);return t&&(n=n.replace(PZ,"")),n=n.replace(/@\*/g,Z_).replace(/@\w+/g,e=>Z_+"-"+e.substr(1)).replace(/:animating/g,ET),[n,t]}(t.selector);e.currentQuerySelector=i.length?i+" "+r:r,as(e.collectedStyles,e.currentQuerySelector,{});const a=ls(this,Jp(t.animation),e);return e.currentQuery=null,e.currentQuerySelector=i,{type:11,selector:r,limit:s.limit||0,optional:!!s.optional,includeSelf:o,animation:a,originalSelector:t.selector,options:vc(t.options)}}visitStagger(t,e){e.currentQuery||e.errors.push("stagger() can only be used inside of query()");const i="full"===t.timings?{duration:0,delay:0,easing:"full"}:J_(t.timings,e.errors,!0);return{type:12,animation:ls(this,Jp(t.animation),e),timings:i,options:null}}}class MZ{constructor(t){this.errors=t,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles={},this.options=null}}function sb(n){return!Array.isArray(n)&&"object"==typeof n}function vc(n){return n?(n=Rh(n)).params&&(n.params=function(n){return n?Rh(n):null}(n.params)):n={},n}function kT(n,t,e){return{duration:n,delay:t,easing:e}}function TT(n,t,e,i,s,r,o=null,a=!1){return{type:1,element:n,keyframes:t,preStyleProps:e,postStyleProps:i,duration:s,delay:r,totalTime:s+r,easing:o,subTimeline:a}}class rb{constructor(){this._map=new Map}consume(t){let e=this._map.get(t);return e?this._map.delete(t):e=[],e}append(t,e){let i=this._map.get(t);i||this._map.set(t,i=[]),i.push(...e)}has(t){return this._map.has(t)}clear(){this._map.clear()}}const LZ=new RegExp(":enter","g"),VZ=new RegExp(":leave","g");function xT(n,t,e,i,s,r={},o={},a,u,h=[]){return(new BZ).buildKeyframes(n,t,e,i,s,r,o,a,u,h)}class BZ{buildKeyframes(t,e,i,s,r,o,a,u,h,f=[]){h=h||new rb;const p=new MT(t,e,h,s,r,f,[]);p.options=u,p.currentTimeline.setStyles([o],null,p.errors,u),ls(this,i,p);const v=p.timelines.filter(_=>_.containsAnimation());if(v.length&&Object.keys(a).length){const _=v[v.length-1];_.allowOnlyTimelineStyles()||_.setStyles([a],null,p.errors,u)}return v.length?v.map(_=>_.buildKeyframes()):[TT(e,[],[],[],0,0,"",!1)]}visitTrigger(t,e){}visitState(t,e){}visitTransition(t,e){}visitAnimateChild(t,e){const i=e.subInstructions.consume(e.element);if(i){const s=e.createSubContext(t.options),r=e.currentTimeline.currentTime,o=this._visitSubInstructions(i,s,s.options);r!=o&&e.transformIntoNewTimeline(o)}e.previousNode=t}visitAnimateRef(t,e){const i=e.createSubContext(t.options);i.transformIntoNewTimeline(),this.visitReference(t.animation,i),e.transformIntoNewTimeline(i.currentTimeline.currentTime),e.previousNode=t}_visitSubInstructions(t,e,i){let r=e.currentTimeline.currentTime;const o=null!=i.duration?mc(i.duration):null,a=null!=i.delay?mc(i.delay):null;return 0!==o&&t.forEach(u=>{const h=e.appendInstructionToTimeline(u,o,a);r=Math.max(r,h.duration+h.delay)}),r}visitReference(t,e){e.updateOptions(t.options,!0),ls(this,t.animation,e),e.previousNode=t}visitSequence(t,e){const i=e.subContextCount;let s=e;const r=t.options;if(r&&(r.params||r.delay)&&(s=e.createSubContext(r),s.transformIntoNewTimeline(),null!=r.delay)){6==s.previousNode.type&&(s.currentTimeline.snapshotCurrentStyles(),s.previousNode=ob);const o=mc(r.delay);s.delayNextStep(o)}t.steps.length&&(t.steps.forEach(o=>ls(this,o,s)),s.currentTimeline.applyStylesToKeyframe(),s.subContextCount>i&&s.transformIntoNewTimeline()),e.previousNode=t}visitGroup(t,e){const i=[];let s=e.currentTimeline.currentTime;const r=t.options&&t.options.delay?mc(t.options.delay):0;t.steps.forEach(o=>{const a=e.createSubContext(t.options);r&&a.delayNextStep(r),ls(this,o,a),s=Math.max(s,a.currentTimeline.currentTime),i.push(a.currentTimeline)}),i.forEach(o=>e.currentTimeline.mergeTimelineCollectedStyles(o)),e.transformIntoNewTimeline(s),e.previousNode=t}_visitTiming(t,e){if(t.dynamic){const i=t.strValue;return J_(e.params?X_(i,e.params,e.errors):i,e.errors)}return{duration:t.duration,delay:t.delay,easing:t.easing}}visitAnimate(t,e){const i=e.currentAnimateTimings=this._visitTiming(t.timings,e),s=e.currentTimeline;i.delay&&(e.incrementTime(i.delay),s.snapshotCurrentStyles());const r=t.style;5==r.type?this.visitKeyframes(r,e):(e.incrementTime(i.duration),this.visitStyle(r,e),s.applyStylesToKeyframe()),e.currentAnimateTimings=null,e.previousNode=t}visitStyle(t,e){const i=e.currentTimeline,s=e.currentAnimateTimings;!s&&i.getCurrentStyleProperties().length&&i.forwardFrame();const r=s&&s.easing||t.easing;t.isEmptyStep?i.applyEmptyStep(r):i.setStyles(t.styles,r,e.errors,e.options),e.previousNode=t}visitKeyframes(t,e){const i=e.currentAnimateTimings,s=e.currentTimeline.duration,r=i.duration,a=e.createSubContext().currentTimeline;a.easing=i.easing,t.styles.forEach(u=>{a.forwardTime((u.offset||0)*r),a.setStyles(u.styles,u.easing,e.errors,e.options),a.applyStylesToKeyframe()}),e.currentTimeline.mergeTimelineCollectedStyles(a),e.transformIntoNewTimeline(s+r),e.previousNode=t}visitQuery(t,e){const i=e.currentTimeline.currentTime,s=t.options||{},r=s.delay?mc(s.delay):0;r&&(6===e.previousNode.type||0==i&&e.currentTimeline.getCurrentStyleProperties().length)&&(e.currentTimeline.snapshotCurrentStyles(),e.previousNode=ob);let o=i;const a=e.invokeQuery(t.selector,t.originalSelector,t.limit,t.includeSelf,!!s.optional,e.errors);e.currentQueryTotal=a.length;let u=null;a.forEach((h,f)=>{e.currentQueryIndex=f;const p=e.createSubContext(t.options,h);r&&p.delayNextStep(r),h===e.element&&(u=p.currentTimeline),ls(this,t.animation,p),p.currentTimeline.applyStylesToKeyframe(),o=Math.max(o,p.currentTimeline.currentTime)}),e.currentQueryIndex=0,e.currentQueryTotal=0,e.transformIntoNewTimeline(o),u&&(e.currentTimeline.mergeTimelineCollectedStyles(u),e.currentTimeline.snapshotCurrentStyles()),e.previousNode=t}visitStagger(t,e){const i=e.parentContext,s=e.currentTimeline,r=t.timings,o=Math.abs(r.duration),a=o*(e.currentQueryTotal-1);let u=o*e.currentQueryIndex;switch(r.duration<0?"reverse":r.easing){case"reverse":u=a-u;break;case"full":u=i.currentStaggerTime}const f=e.currentTimeline;u&&f.delayNextStep(u);const p=f.currentTime;ls(this,t.animation,e),e.previousNode=t,i.currentStaggerTime=s.currentTime-p+(s.startTime-i.currentTimeline.startTime)}}const ob={};class MT{constructor(t,e,i,s,r,o,a,u){this._driver=t,this.element=e,this.subInstructions=i,this._enterClassName=s,this._leaveClassName=r,this.errors=o,this.timelines=a,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=ob,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=u||new ab(this._driver,e,0),a.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(t,e){if(!t)return;const i=t;let s=this.options;null!=i.duration&&(s.duration=mc(i.duration)),null!=i.delay&&(s.delay=mc(i.delay));const r=i.params;if(r){let o=s.params;o||(o=this.options.params={}),Object.keys(r).forEach(a=>{(!e||!o.hasOwnProperty(a))&&(o[a]=X_(r[a],o,this.errors))})}}_copyOptions(){const t={};if(this.options){const e=this.options.params;if(e){const i=t.params={};Object.keys(e).forEach(s=>{i[s]=e[s]})}}return t}createSubContext(t=null,e,i){const s=e||this.element,r=new MT(this._driver,s,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(s,i||0));return r.previousNode=this.previousNode,r.currentAnimateTimings=this.currentAnimateTimings,r.options=this._copyOptions(),r.updateOptions(t),r.currentQueryIndex=this.currentQueryIndex,r.currentQueryTotal=this.currentQueryTotal,r.parentContext=this,this.subContextCount++,r}transformIntoNewTimeline(t){return this.previousNode=ob,this.currentTimeline=this.currentTimeline.fork(this.element,t),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(t,e,i){const s={duration:null!=e?e:t.duration,delay:this.currentTimeline.currentTime+(null!=i?i:0)+t.delay,easing:""},r=new $Z(this._driver,t.element,t.keyframes,t.preStyleProps,t.postStyleProps,s,t.stretchStartingKeyframe);return this.timelines.push(r),s}incrementTime(t){this.currentTimeline.forwardTime(this.currentTimeline.duration+t)}delayNextStep(t){t>0&&this.currentTimeline.delayNextStep(t)}invokeQuery(t,e,i,s,r,o){let a=[];if(s&&a.push(this.element),t.length>0){t=(t=t.replace(LZ,"."+this._enterClassName)).replace(VZ,"."+this._leaveClassName);let h=this._driver.query(this.element,t,1!=i);0!==i&&(h=i<0?h.slice(h.length+i,h.length):h.slice(0,i)),a.push(...h)}return!r&&0==a.length&&o.push(`\`query("${e}")\` returned zero elements. (Use \`query("${e}", { optional: true })\` if you wish to allow this.)`),a}}class ab{constructor(t,e,i,s){this._driver=t,this.element=e,this.startTime=i,this._elementTimelineStylesLookup=s,this.duration=0,this._previousKeyframe={},this._currentKeyframe={},this._keyframes=new Map,this._styleSummary={},this._pendingStyles={},this._backFill={},this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._localTimelineStyles=Object.create(this._backFill,{}),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(e),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(e,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.getCurrentStyleProperties().length>0;default:return!0}}getCurrentStyleProperties(){return Object.keys(this._currentKeyframe)}get currentTime(){return this.startTime+this.duration}delayNextStep(t){const e=1==this._keyframes.size&&Object.keys(this._pendingStyles).length;this.duration||e?(this.forwardTime(this.currentTime+t),e&&this.snapshotCurrentStyles()):this.startTime+=t}fork(t,e){return this.applyStylesToKeyframe(),new ab(this._driver,t,e||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=Object.create(this._backFill,{}),this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(t){this.applyStylesToKeyframe(),this.duration=t,this._loadKeyframe()}_updateStyle(t,e){this._localTimelineStyles[t]=e,this._globalTimelineStyles[t]=e,this._styleSummary[t]={time:this.currentTime,value:e}}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(t){t&&(this._previousKeyframe.easing=t),Object.keys(this._globalTimelineStyles).forEach(e=>{this._backFill[e]=this._globalTimelineStyles[e]||qo,this._currentKeyframe[e]=qo}),this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(t,e,i,s){e&&(this._previousKeyframe.easing=e);const r=s&&s.params||{},o=function(n,t){const e={};let i;return n.forEach(s=>{"*"===s?(i=i||Object.keys(t),i.forEach(r=>{e[r]=qo})):Wa(s,!1,e)}),e}(t,this._globalTimelineStyles);Object.keys(o).forEach(a=>{const u=X_(o[a],r,i);this._pendingStyles[a]=u,this._localTimelineStyles.hasOwnProperty(a)||(this._backFill[a]=this._globalTimelineStyles.hasOwnProperty(a)?this._globalTimelineStyles[a]:qo),this._updateStyle(a,u)})}applyStylesToKeyframe(){const t=this._pendingStyles,e=Object.keys(t);0!=e.length&&(this._pendingStyles={},e.forEach(i=>{this._currentKeyframe[i]=t[i]}),Object.keys(this._localTimelineStyles).forEach(i=>{this._currentKeyframe.hasOwnProperty(i)||(this._currentKeyframe[i]=this._localTimelineStyles[i])}))}snapshotCurrentStyles(){Object.keys(this._localTimelineStyles).forEach(t=>{const e=this._localTimelineStyles[t];this._pendingStyles[t]=e,this._updateStyle(t,e)})}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const t=[];for(let e in this._currentKeyframe)t.push(e);return t}mergeTimelineCollectedStyles(t){Object.keys(t._styleSummary).forEach(e=>{const i=this._styleSummary[e],s=t._styleSummary[e];(!i||s.time>i.time)&&this._updateStyle(e,s.value)})}buildKeyframes(){this.applyStylesToKeyframe();const t=new Set,e=new Set,i=1===this._keyframes.size&&0===this.duration;let s=[];this._keyframes.forEach((a,u)=>{const h=Wa(a,!0);Object.keys(h).forEach(f=>{const p=h[f];"!"==p?t.add(f):p==qo&&e.add(f)}),i||(h.offset=u/this.duration),s.push(h)});const r=t.size?eb(t.values()):[],o=e.size?eb(e.values()):[];if(i){const a=s[0],u=Rh(a);a.offset=0,u.offset=1,s=[a,u]}return TT(this.element,s,r,o,this.duration,this.startTime,this.easing,!1)}}class $Z extends ab{constructor(t,e,i,s,r,o,a=!1){super(t,e,o.delay),this.keyframes=i,this.preStyleProps=s,this.postStyleProps=r,this._stretchStartingKeyframe=a,this.timings={duration:o.duration,delay:o.delay,easing:o.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let t=this.keyframes,{delay:e,duration:i,easing:s}=this.timings;if(this._stretchStartingKeyframe&&e){const r=[],o=i+e,a=e/o,u=Wa(t[0],!1);u.offset=0,r.push(u);const h=Wa(t[0],!1);h.offset=iB(a),r.push(h);const f=t.length-1;for(let p=1;p<=f;p++){let v=Wa(t[p],!1);v.offset=iB((e+v.offset*i)/o),r.push(v)}i=o,e=0,s="",t=r}return TT(this.element,t,this.preStyleProps,this.postStyleProps,i,e,s,!0)}}function iB(n,t=3){const e=Math.pow(10,t-1);return Math.round(n*e)/e}class IT{}class qZ extends IT{normalizePropertyName(t,e){return DT(t)}normalizeStyleValue(t,e,i,s){let r="";const o=i.toString().trim();if(GZ[e]&&0!==i&&"0"!==i)if("number"==typeof i)r="px";else{const a=i.match(/^[+-]?[\d\.]+([a-z]*)$/);a&&0==a[1].length&&s.push(`Please provide a CSS unit value for ${t}:${i}`)}return o+r}}const GZ=(()=>function(n){const t={};return n.forEach(e=>t[e]=!0),t}("width,height,minWidth,minHeight,maxWidth,maxHeight,left,top,bottom,right,fontSize,outlineWidth,outlineOffset,paddingTop,paddingLeft,paddingBottom,paddingRight,marginTop,marginLeft,marginBottom,marginRight,borderRadius,borderWidth,borderTopWidth,borderLeftWidth,borderRightWidth,borderBottomWidth,textIndent,perspective".split(",")))();function sB(n,t,e,i,s,r,o,a,u,h,f,p,v){return{type:0,element:n,triggerName:t,isRemovalTransition:s,fromState:e,fromStyles:r,toState:i,toStyles:o,timelines:a,queriedElements:u,preStyleProps:h,postStyleProps:f,totalTime:p,errors:v}}const OT={};class rB{constructor(t,e,i){this._triggerName=t,this.ast=e,this._stateStyles=i}match(t,e,i,s){return function(n,t,e,i,s){return n.some(r=>r(t,e,i,s))}(this.ast.matchers,t,e,i,s)}buildStyles(t,e,i){const s=this._stateStyles["*"],r=this._stateStyles[t],o=s?s.buildStyles(e,i):{};return r?r.buildStyles(e,i):o}build(t,e,i,s,r,o,a,u,h,f){const p=[],v=this.ast.options&&this.ast.options.params||OT,S=this.buildStyles(i,a&&a.params||OT,p),D=u&&u.params||OT,C=this.buildStyles(s,D,p),L=new Set,N=new Map,j=new Map,U="void"===s,ee={params:Object.assign(Object.assign({},v),D)},ae=f?[]:xT(t,e,this.ast.animation,r,o,S,C,ee,h,p);let Ee=0;if(ae.forEach(Xe=>{Ee=Math.max(Xe.duration+Xe.delay,Ee)}),p.length)return sB(e,this._triggerName,i,s,U,S,C,[],[],N,j,Ee,p);ae.forEach(Xe=>{const Ze=Xe.element,xt=as(N,Ze,{});Xe.preStyleProps.forEach(wt=>xt[wt]=!0);const sn=as(j,Ze,{});Xe.postStyleProps.forEach(wt=>sn[wt]=!0),Ze!==e&&L.add(Ze)});const ot=eb(L.values());return sB(e,this._triggerName,i,s,U,S,C,ae,ot,N,j,Ee)}}class WZ{constructor(t,e,i){this.styles=t,this.defaultParams=e,this.normalizer=i}buildStyles(t,e){const i={},s=Rh(this.defaultParams);return Object.keys(t).forEach(r=>{const o=t[r];null!=o&&(s[r]=o)}),this.styles.styles.forEach(r=>{if("string"!=typeof r){const o=r;Object.keys(o).forEach(a=>{let u=o[a];u.length>1&&(u=X_(u,s,e));const h=this.normalizer.normalizePropertyName(a,e);u=this.normalizer.normalizeStyleValue(a,h,u,e),i[h]=u})}}),i}}class KZ{constructor(t,e,i){this.name=t,this.ast=e,this._normalizer=i,this.transitionFactories=[],this.states={},e.states.forEach(s=>{this.states[s.name]=new WZ(s.style,s.options&&s.options.params||{},i)}),oB(this.states,"true","1"),oB(this.states,"false","0"),e.transitions.forEach(s=>{this.transitionFactories.push(new rB(t,s,this.states))}),this.fallbackTransition=function(n,t,e){return new rB(n,{type:1,animation:{type:2,steps:[],options:null},matchers:[(o,a)=>!0],options:null,queryCount:0,depCount:0},t)}(t,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(t,e,i,s){return this.transitionFactories.find(o=>o.match(t,e,i,s))||null}matchStyles(t,e,i){return this.fallbackTransition.buildStyles(t,e,i)}}function oB(n,t,e){n.hasOwnProperty(t)?n.hasOwnProperty(e)||(n[e]=n[t]):n.hasOwnProperty(e)&&(n[t]=n[e])}const QZ=new rb;class ZZ{constructor(t,e,i){this.bodyNode=t,this._driver=e,this._normalizer=i,this._animations={},this._playersById={},this.players=[]}register(t,e){const i=[],s=PT(this._driver,e,i);if(i.length)throw new Error(`Unable to build the animation due to the following errors: ${i.join("\n")}`);this._animations[t]=s}_buildPlayer(t,e,i){const s=t.element,r=BV(0,this._normalizer,0,t.keyframes,e,i);return this._driver.animate(s,r,t.duration,t.delay,t.easing,[],!0)}create(t,e,i={}){const s=[],r=this._animations[t];let o;const a=new Map;if(r?(o=xT(this._driver,e,r,ST,Y_,{},{},i,QZ,s),o.forEach(f=>{const p=as(a,f.element,{});f.postStyleProps.forEach(v=>p[v]=null)})):(s.push("The requested animation doesn't exist or has already been destroyed"),o=[]),s.length)throw new Error(`Unable to create the animation due to the following errors: ${s.join("\n")}`);a.forEach((f,p)=>{Object.keys(f).forEach(v=>{f[v]=this._driver.computeStyle(p,v,qo)})});const h=ja(o.map(f=>{const p=a.get(f.element);return this._buildPlayer(f,{},p)}));return this._playersById[t]=h,h.onDestroy(()=>this.destroy(t)),this.players.push(h),h}destroy(t){const e=this._getPlayer(t);e.destroy(),delete this._playersById[t];const i=this.players.indexOf(e);i>=0&&this.players.splice(i,1)}_getPlayer(t){const e=this._playersById[t];if(!e)throw new Error(`Unable to find the timeline player referenced by ${t}`);return e}listen(t,e,i,s){const r=fT(e,"","","");return hT(this._getPlayer(t),i,r,s),()=>{}}command(t,e,i,s){if("register"==i)return void this.register(t,s[0]);if("create"==i)return void this.create(t,e,s[0]||{});const r=this._getPlayer(t);switch(i){case"play":r.play();break;case"pause":r.pause();break;case"reset":r.reset();break;case"restart":r.restart();break;case"finish":r.finish();break;case"init":r.init();break;case"setPosition":r.setPosition(parseFloat(s[0]));break;case"destroy":this.destroy(t)}}}const aB="ng-animate-queued",lB="ng-animate-disabled",cB=".ng-animate-disabled",tJ=[],uB={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},nJ={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},$s="__ng_removed";class NT{constructor(t,e=""){this.namespaceId=e;const i=t&&t.hasOwnProperty("value");if(this.value=function(n){return null!=n?n:null}(i?t.value:t),i){const r=Rh(t);delete r.value,this.options=r}else this.options={};this.options.params||(this.options.params={})}get params(){return this.options.params}absorbOptions(t){const e=t.params;if(e){const i=this.options.params;Object.keys(e).forEach(s=>{null==i[s]&&(i[s]=e[s])})}}}const Xp="void",RT=new NT(Xp);class iJ{constructor(t,e,i){this.id=t,this.hostElement=e,this._engine=i,this.players=[],this._triggers={},this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+t,Hs(e,this._hostClassName)}listen(t,e,i,s){if(!this._triggers.hasOwnProperty(e))throw new Error(`Unable to listen on the animation trigger event "${i}" because the animation trigger "${e}" doesn't exist!`);if(null==i||0==i.length)throw new Error(`Unable to listen on the animation trigger "${e}" because the provided event is undefined!`);if(!function(n){return"start"==n||"done"==n}(i))throw new Error(`The provided animation trigger event "${i}" for the animation trigger "${e}" is not supported!`);const r=as(this._elementListeners,t,[]),o={name:e,phase:i,callback:s};r.push(o);const a=as(this._engine.statesByElement,t,{});return a.hasOwnProperty(e)||(Hs(t,Q_),Hs(t,Q_+"-"+e),a[e]=RT),()=>{this._engine.afterFlush(()=>{const u=r.indexOf(o);u>=0&&r.splice(u,1),this._triggers[e]||delete a[e]})}}register(t,e){return!this._triggers[t]&&(this._triggers[t]=e,!0)}_getTrigger(t){const e=this._triggers[t];if(!e)throw new Error(`The provided animation trigger "${t}" has not been registered!`);return e}trigger(t,e,i,s=!0){const r=this._getTrigger(e),o=new LT(this.id,e,t);let a=this._engine.statesByElement.get(t);a||(Hs(t,Q_),Hs(t,Q_+"-"+e),this._engine.statesByElement.set(t,a={}));let u=a[e];const h=new NT(i,this.id);if(!(i&&i.hasOwnProperty("value"))&&u&&h.absorbOptions(u.options),a[e]=h,u||(u=RT),h.value!==Xp&&u.value===h.value){if(!function(n,t){const e=Object.keys(n),i=Object.keys(t);if(e.length!=i.length)return!1;for(let s=0;s<e.length;s++){const r=e[s];if(!t.hasOwnProperty(r)||n[r]!==t[r])return!1}return!0}(u.params,h.params)){const D=[],C=r.matchStyles(u.value,u.params,D),L=r.matchStyles(h.value,h.params,D);D.length?this._engine.reportError(D):this._engine.afterFlush(()=>{yc(t,C),Gr(t,L)})}return}const v=as(this._engine.playersByElement,t,[]);v.forEach(D=>{D.namespaceId==this.id&&D.triggerName==e&&D.queued&&D.destroy()});let _=r.matchTransition(u.value,h.value,t,h.params),S=!1;if(!_){if(!s)return;_=r.fallbackTransition,S=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:t,triggerName:e,transition:_,fromState:u,toState:h,player:o,isFallbackTransition:S}),S||(Hs(t,aB),o.onStart(()=>{Lh(t,aB)})),o.onDone(()=>{let D=this.players.indexOf(o);D>=0&&this.players.splice(D,1);const C=this._engine.playersByElement.get(t);if(C){let L=C.indexOf(o);L>=0&&C.splice(L,1)}}),this.players.push(o),v.push(o),o}deregister(t){delete this._triggers[t],this._engine.statesByElement.forEach((e,i)=>{delete e[t]}),this._elementListeners.forEach((e,i)=>{this._elementListeners.set(i,e.filter(s=>s.name!=t))})}clearElementCache(t){this._engine.statesByElement.delete(t),this._elementListeners.delete(t);const e=this._engine.playersByElement.get(t);e&&(e.forEach(i=>i.destroy()),this._engine.playersByElement.delete(t))}_signalRemovalForInnerTriggers(t,e){const i=this._engine.driver.query(t,Z_,!0);i.forEach(s=>{if(s[$s])return;const r=this._engine.fetchNamespacesByElement(s);r.size?r.forEach(o=>o.triggerLeaveAnimation(s,e,!1,!0)):this.clearElementCache(s)}),this._engine.afterFlushAnimationsDone(()=>i.forEach(s=>this.clearElementCache(s)))}triggerLeaveAnimation(t,e,i,s){const r=this._engine.statesByElement.get(t);if(r){const o=[];if(Object.keys(r).forEach(a=>{if(this._triggers[a]){const u=this.trigger(t,a,Xp,s);u&&o.push(u)}}),o.length)return this._engine.markElementAsRemoved(this.id,t,!0,e),i&&ja(o).onDone(()=>this._engine.processLeaveNode(t)),!0}return!1}prepareLeaveAnimationListeners(t){const e=this._elementListeners.get(t),i=this._engine.statesByElement.get(t);if(e&&i){const s=new Set;e.forEach(r=>{const o=r.name;if(s.has(o))return;s.add(o);const u=this._triggers[o].fallbackTransition,h=i[o]||RT,f=new NT(Xp),p=new LT(this.id,o,t);this._engine.totalQueuedPlayers++,this._queue.push({element:t,triggerName:o,transition:u,fromState:h,toState:f,player:p,isFallbackTransition:!0})})}}removeNode(t,e){const i=this._engine;if(t.childElementCount&&this._signalRemovalForInnerTriggers(t,e),this.triggerLeaveAnimation(t,e,!0))return;let s=!1;if(i.totalAnimations){const r=i.players.length?i.playersByQueriedElement.get(t):[];if(r&&r.length)s=!0;else{let o=t;for(;o=o.parentNode;)if(i.statesByElement.get(o)){s=!0;break}}}if(this.prepareLeaveAnimationListeners(t),s)i.markElementAsRemoved(this.id,t,!1,e);else{const r=t[$s];(!r||r===uB)&&(i.afterFlush(()=>this.clearElementCache(t)),i.destroyInnerAnimations(t),i._onRemovalComplete(t,e))}}insertNode(t,e){Hs(t,this._hostClassName)}drainQueuedTransitions(t){const e=[];return this._queue.forEach(i=>{const s=i.player;if(s.destroyed)return;const r=i.element,o=this._elementListeners.get(r);o&&o.forEach(a=>{if(a.name==i.triggerName){const u=fT(r,i.triggerName,i.fromState.value,i.toState.value);u._data=t,hT(i.player,a.phase,u,a.callback)}}),s.markedForDestroy?this._engine.afterFlush(()=>{s.destroy()}):e.push(i)}),this._queue=[],e.sort((i,s)=>{const r=i.transition.ast.depCount,o=s.transition.ast.depCount;return 0==r||0==o?r-o:this._engine.driver.containsElement(i.element,s.element)?1:-1})}destroy(t){this.players.forEach(e=>e.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,t)}elementContainsData(t){let e=!1;return this._elementListeners.has(t)&&(e=!0),e=!!this._queue.find(i=>i.element===t)||e,e}}class sJ{constructor(t,e,i){this.bodyNode=t,this.driver=e,this._normalizer=i,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(s,r)=>{}}_onRemovalComplete(t,e){this.onRemovalComplete(t,e)}get queuedPlayers(){const t=[];return this._namespaceList.forEach(e=>{e.players.forEach(i=>{i.queued&&t.push(i)})}),t}createNamespace(t,e){const i=new iJ(t,e,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,e)?this._balanceNamespaceList(i,e):(this.newHostElements.set(e,i),this.collectEnterElement(e)),this._namespaceLookup[t]=i}_balanceNamespaceList(t,e){const i=this._namespaceList.length-1;if(i>=0){let s=!1;for(let r=i;r>=0;r--)if(this.driver.containsElement(this._namespaceList[r].hostElement,e)){this._namespaceList.splice(r+1,0,t),s=!0;break}s||this._namespaceList.splice(0,0,t)}else this._namespaceList.push(t);return this.namespacesByHostElement.set(e,t),t}register(t,e){let i=this._namespaceLookup[t];return i||(i=this.createNamespace(t,e)),i}registerTrigger(t,e,i){let s=this._namespaceLookup[t];s&&s.register(e,i)&&this.totalAnimations++}destroy(t,e){if(!t)return;const i=this._fetchNamespace(t);this.afterFlush(()=>{this.namespacesByHostElement.delete(i.hostElement),delete this._namespaceLookup[t];const s=this._namespaceList.indexOf(i);s>=0&&this._namespaceList.splice(s,1)}),this.afterFlushAnimationsDone(()=>i.destroy(e))}_fetchNamespace(t){return this._namespaceLookup[t]}fetchNamespacesByElement(t){const e=new Set,i=this.statesByElement.get(t);if(i){const s=Object.keys(i);for(let r=0;r<s.length;r++){const o=i[s[r]].namespaceId;if(o){const a=this._fetchNamespace(o);a&&e.add(a)}}}return e}trigger(t,e,i,s){if(lb(e)){const r=this._fetchNamespace(t);if(r)return r.trigger(e,i,s),!0}return!1}insertNode(t,e,i,s){if(!lb(e))return;const r=e[$s];if(r&&r.setForRemoval){r.setForRemoval=!1,r.setForMove=!0;const o=this.collectedLeaveElements.indexOf(e);o>=0&&this.collectedLeaveElements.splice(o,1)}if(t){const o=this._fetchNamespace(t);o&&o.insertNode(e,i)}s&&this.collectEnterElement(e)}collectEnterElement(t){this.collectedEnterElements.push(t)}markElementAsDisabled(t,e){e?this.disabledNodes.has(t)||(this.disabledNodes.add(t),Hs(t,lB)):this.disabledNodes.has(t)&&(this.disabledNodes.delete(t),Lh(t,lB))}removeNode(t,e,i,s){if(lb(e)){const r=t?this._fetchNamespace(t):null;if(r?r.removeNode(e,s):this.markElementAsRemoved(t,e,!1,s),i){const o=this.namespacesByHostElement.get(e);o&&o.id!==t&&o.removeNode(e,s)}}else this._onRemovalComplete(e,s)}markElementAsRemoved(t,e,i,s){this.collectedLeaveElements.push(e),e[$s]={namespaceId:t,setForRemoval:s,hasAnimation:i,removedBeforeQueried:!1}}listen(t,e,i,s,r){return lb(e)?this._fetchNamespace(t).listen(e,i,s,r):()=>{}}_buildInstruction(t,e,i,s,r){return t.transition.build(this.driver,t.element,t.fromState.value,t.toState.value,i,s,t.fromState.options,t.toState.options,e,r)}destroyInnerAnimations(t){let e=this.driver.query(t,Z_,!0);e.forEach(i=>this.destroyActiveAnimationsForElement(i)),0!=this.playersByQueriedElement.size&&(e=this.driver.query(t,ET,!0),e.forEach(i=>this.finishActiveQueriedAnimationOnElement(i)))}destroyActiveAnimationsForElement(t){const e=this.playersByElement.get(t);e&&e.forEach(i=>{i.queued?i.markedForDestroy=!0:i.destroy()})}finishActiveQueriedAnimationOnElement(t){const e=this.playersByQueriedElement.get(t);e&&e.forEach(i=>i.finish())}whenRenderingDone(){return new Promise(t=>{if(this.players.length)return ja(this.players).onDone(()=>t());t()})}processLeaveNode(t){const e=t[$s];if(e&&e.setForRemoval){if(t[$s]=uB,e.namespaceId){this.destroyInnerAnimations(t);const i=this._fetchNamespace(e.namespaceId);i&&i.clearElementCache(t)}this._onRemovalComplete(t,e.setForRemoval)}this.driver.matchesElement(t,cB)&&this.markElementAsDisabled(t,!1),this.driver.query(t,cB,!0).forEach(i=>{this.markElementAsDisabled(i,!1)})}flush(t=-1){let e=[];if(this.newHostElements.size&&(this.newHostElements.forEach((i,s)=>this._balanceNamespaceList(i,s)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let i=0;i<this.collectedEnterElements.length;i++)Hs(this.collectedEnterElements[i],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const i=[];try{e=this._flushAnimations(i,t)}finally{for(let s=0;s<i.length;s++)i[s]()}}else for(let i=0;i<this.collectedLeaveElements.length;i++)this.processLeaveNode(this.collectedLeaveElements[i]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(i=>i()),this._flushFns=[],this._whenQuietFns.length){const i=this._whenQuietFns;this._whenQuietFns=[],e.length?ja(e).onDone(()=>{i.forEach(s=>s())}):i.forEach(s=>s())}}reportError(t){throw new Error(`Unable to process animations due to the following failed trigger transitions\n ${t.join("\n")}`)}_flushAnimations(t,e){const i=new rb,s=[],r=new Map,o=[],a=new Map,u=new Map,h=new Map,f=new Set;this.disabledNodes.forEach(Q=>{f.add(Q);const ie=this.driver.query(Q,".ng-animate-queued",!0);for(let we=0;we<ie.length;we++)f.add(ie[we])});const p=this.bodyNode,v=Array.from(this.statesByElement.keys()),_=fB(v,this.collectedEnterElements),S=new Map;let D=0;_.forEach((Q,ie)=>{const we=ST+D++;S.set(ie,we),Q.forEach(Be=>Hs(Be,we))});const C=[],L=new Set,N=new Set;for(let Q=0;Q<this.collectedLeaveElements.length;Q++){const ie=this.collectedLeaveElements[Q],we=ie[$s];we&&we.setForRemoval&&(C.push(ie),L.add(ie),we.hasAnimation?this.driver.query(ie,".ng-star-inserted",!0).forEach(Be=>L.add(Be)):N.add(ie))}const j=new Map,U=fB(v,Array.from(L));U.forEach((Q,ie)=>{const we=Y_+D++;j.set(ie,we),Q.forEach(Be=>Hs(Be,we))}),t.push(()=>{_.forEach((Q,ie)=>{const we=S.get(ie);Q.forEach(Be=>Lh(Be,we))}),U.forEach((Q,ie)=>{const we=j.get(ie);Q.forEach(Be=>Lh(Be,we))}),C.forEach(Q=>{this.processLeaveNode(Q)})});const ee=[],ae=[];for(let Q=this._namespaceList.length-1;Q>=0;Q--)this._namespaceList[Q].drainQueuedTransitions(e).forEach(we=>{const Be=we.player,jt=we.element;if(ee.push(Be),this.collectedEnterElements.length){const ti=jt[$s];if(ti&&ti.setForMove)return void Be.destroy()}const Gi=!p||!this.driver.containsElement(p,jt),vn=j.get(jt),cs=S.get(jt),yt=this._buildInstruction(we,i,cs,vn,Gi);if(yt.errors&&yt.errors.length)ae.push(yt);else{if(Gi)return Be.onStart(()=>yc(jt,yt.fromStyles)),Be.onDestroy(()=>Gr(jt,yt.toStyles)),void s.push(Be);if(we.isFallbackTransition)return Be.onStart(()=>yc(jt,yt.fromStyles)),Be.onDestroy(()=>Gr(jt,yt.toStyles)),void s.push(Be);yt.timelines.forEach(ti=>ti.stretchStartingKeyframe=!0),i.append(jt,yt.timelines),o.push({instruction:yt,player:Be,element:jt}),yt.queriedElements.forEach(ti=>as(a,ti,[]).push(Be)),yt.preStyleProps.forEach((ti,jr)=>{const qs=Object.keys(ti);if(qs.length){let yr=u.get(jr);yr||u.set(jr,yr=new Set),qs.forEach(eg=>yr.add(eg))}}),yt.postStyleProps.forEach((ti,jr)=>{const qs=Object.keys(ti);let yr=h.get(jr);yr||h.set(jr,yr=new Set),qs.forEach(eg=>yr.add(eg))})}});if(ae.length){const Q=[];ae.forEach(ie=>{Q.push(`@${ie.triggerName} has failed due to:\n`),ie.errors.forEach(we=>Q.push(`- ${we}\n`))}),ee.forEach(ie=>ie.destroy()),this.reportError(Q)}const Ee=new Map,ot=new Map;o.forEach(Q=>{const ie=Q.element;i.has(ie)&&(ot.set(ie,ie),this._beforeAnimationBuild(Q.player.namespaceId,Q.instruction,Ee))}),s.forEach(Q=>{const ie=Q.element;this._getPreviousPlayers(ie,!1,Q.namespaceId,Q.triggerName,null).forEach(Be=>{as(Ee,ie,[]).push(Be),Be.destroy()})});const Xe=C.filter(Q=>gB(Q,u,h)),Ze=new Map;dB(Ze,this.driver,N,h,qo).forEach(Q=>{gB(Q,u,h)&&Xe.push(Q)});const sn=new Map;_.forEach((Q,ie)=>{dB(sn,this.driver,new Set(Q),u,"!")}),Xe.forEach(Q=>{const ie=Ze.get(Q),we=sn.get(Q);Ze.set(Q,Object.assign(Object.assign({},ie),we))});const wt=[],Hi=[],qi={};o.forEach(Q=>{const{element:ie,player:we,instruction:Be}=Q;if(i.has(ie)){if(f.has(ie))return we.onDestroy(()=>Gr(ie,Be.toStyles)),we.disabled=!0,we.overrideTotalTime(Be.totalTime),void s.push(we);let jt=qi;if(ot.size>1){let vn=ie;const cs=[];for(;vn=vn.parentNode;){const yt=ot.get(vn);if(yt){jt=yt;break}cs.push(vn)}cs.forEach(yt=>ot.set(yt,jt))}const Gi=this._buildAnimation(we.namespaceId,Be,Ee,r,sn,Ze);if(we.setRealPlayer(Gi),jt===qi)wt.push(we);else{const vn=this.playersByElement.get(jt);vn&&vn.length&&(we.parentPlayer=ja(vn)),s.push(we)}}else yc(ie,Be.fromStyles),we.onDestroy(()=>Gr(ie,Be.toStyles)),Hi.push(we),f.has(ie)&&s.push(we)}),Hi.forEach(Q=>{const ie=r.get(Q.element);if(ie&&ie.length){const we=ja(ie);Q.setRealPlayer(we)}}),s.forEach(Q=>{Q.parentPlayer?Q.syncPlayerEvents(Q.parentPlayer):Q.destroy()});for(let Q=0;Q<C.length;Q++){const ie=C[Q],we=ie[$s];if(Lh(ie,Y_),we&&we.hasAnimation)continue;let Be=[];if(a.size){let Gi=a.get(ie);Gi&&Gi.length&&Be.push(...Gi);let vn=this.driver.query(ie,ET,!0);for(let cs=0;cs<vn.length;cs++){let yt=a.get(vn[cs]);yt&&yt.length&&Be.push(...yt)}}const jt=Be.filter(Gi=>!Gi.destroyed);jt.length?lJ(this,ie,jt):this.processLeaveNode(ie)}return C.length=0,wt.forEach(Q=>{this.players.push(Q),Q.onDone(()=>{Q.destroy();const ie=this.players.indexOf(Q);this.players.splice(ie,1)}),Q.play()}),wt}elementContainsData(t,e){let i=!1;const s=e[$s];return s&&s.setForRemoval&&(i=!0),this.playersByElement.has(e)&&(i=!0),this.playersByQueriedElement.has(e)&&(i=!0),this.statesByElement.has(e)&&(i=!0),this._fetchNamespace(t).elementContainsData(e)||i}afterFlush(t){this._flushFns.push(t)}afterFlushAnimationsDone(t){this._whenQuietFns.push(t)}_getPreviousPlayers(t,e,i,s,r){let o=[];if(e){const a=this.playersByQueriedElement.get(t);a&&(o=a)}else{const a=this.playersByElement.get(t);if(a){const u=!r||r==Xp;a.forEach(h=>{h.queued||!u&&h.triggerName!=s||o.push(h)})}}return(i||s)&&(o=o.filter(a=>!(i&&i!=a.namespaceId||s&&s!=a.triggerName))),o}_beforeAnimationBuild(t,e,i){const r=e.element,o=e.isRemovalTransition?void 0:t,a=e.isRemovalTransition?void 0:e.triggerName;for(const u of e.timelines){const h=u.element,f=h!==r,p=as(i,h,[]);this._getPreviousPlayers(h,f,o,a,e.toState).forEach(_=>{const S=_.getRealPlayer();S.beforeDestroy&&S.beforeDestroy(),_.destroy(),p.push(_)})}yc(r,e.fromStyles)}_buildAnimation(t,e,i,s,r,o){const a=e.triggerName,u=e.element,h=[],f=new Set,p=new Set,v=e.timelines.map(S=>{const D=S.element;f.add(D);const C=D[$s];if(C&&C.removedBeforeQueried)return new Nh(S.duration,S.delay);const L=D!==u,N=function(n){const t=[];return pB(n,t),t}((i.get(D)||tJ).map(Ee=>Ee.getRealPlayer())).filter(Ee=>!!Ee.element&&Ee.element===D),j=r.get(D),U=o.get(D),ee=BV(0,this._normalizer,0,S.keyframes,j,U),ae=this._buildPlayer(S,ee,N);if(S.subTimeline&&s&&p.add(D),L){const Ee=new LT(t,a,D);Ee.setRealPlayer(ae),h.push(Ee)}return ae});h.forEach(S=>{as(this.playersByQueriedElement,S.element,[]).push(S),S.onDone(()=>function(n,t,e){let i;if(n instanceof Map){if(i=n.get(t),i){if(i.length){const s=i.indexOf(e);i.splice(s,1)}0==i.length&&n.delete(t)}}else if(i=n[t],i){if(i.length){const s=i.indexOf(e);i.splice(s,1)}0==i.length&&delete n[t]}return i}(this.playersByQueriedElement,S.element,S))}),f.forEach(S=>Hs(S,zV));const _=ja(v);return _.onDestroy(()=>{f.forEach(S=>Lh(S,zV)),Gr(u,e.toStyles)}),p.forEach(S=>{as(s,S,[]).push(_)}),_}_buildPlayer(t,e,i){return e.length>0?this.driver.animate(t.element,e,t.duration,t.delay,t.easing,i):new Nh(t.duration,t.delay)}}class LT{constructor(t,e,i){this.namespaceId=t,this.triggerName=e,this.element=i,this._player=new Nh,this._containsRealPlayer=!1,this._queuedCallbacks={},this.destroyed=!1,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(t){this._containsRealPlayer||(this._player=t,Object.keys(this._queuedCallbacks).forEach(e=>{this._queuedCallbacks[e].forEach(i=>hT(t,e,void 0,i))}),this._queuedCallbacks={},this._containsRealPlayer=!0,this.overrideTotalTime(t.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(t){this.totalTime=t}syncPlayerEvents(t){const e=this._player;e.triggerCallback&&t.onStart(()=>e.triggerCallback("start")),t.onDone(()=>this.finish()),t.onDestroy(()=>this.destroy())}_queueEvent(t,e){as(this._queuedCallbacks,t,[]).push(e)}onDone(t){this.queued&&this._queueEvent("done",t),this._player.onDone(t)}onStart(t){this.queued&&this._queueEvent("start",t),this._player.onStart(t)}onDestroy(t){this.queued&&this._queueEvent("destroy",t),this._player.onDestroy(t)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(t){this.queued||this._player.setPosition(t)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(t){const e=this._player;e.triggerCallback&&e.triggerCallback(t)}}function lb(n){return n&&1===n.nodeType}function hB(n,t){const e=n.style.display;return n.style.display=null!=t?t:"none",e}function dB(n,t,e,i,s){const r=[];e.forEach(u=>r.push(hB(u)));const o=[];i.forEach((u,h)=>{const f={};u.forEach(p=>{const v=f[p]=t.computeStyle(h,p,s);(!v||0==v.length)&&(h[$s]=nJ,o.push(h))}),n.set(h,f)});let a=0;return e.forEach(u=>hB(u,r[a++])),o}function fB(n,t){const e=new Map;if(n.forEach(a=>e.set(a,[])),0==t.length)return e;const s=new Set(t),r=new Map;function o(a){if(!a)return 1;let u=r.get(a);if(u)return u;const h=a.parentNode;return u=e.has(h)?h:s.has(h)?1:o(h),r.set(a,u),u}return t.forEach(a=>{const u=o(a);1!==u&&e.get(u).push(a)}),e}const cb="$$classes";function Hs(n,t){if(n.classList)n.classList.add(t);else{let e=n[cb];e||(e=n[cb]={}),e[t]=!0}}function Lh(n,t){if(n.classList)n.classList.remove(t);else{let e=n[cb];e&&delete e[t]}}function lJ(n,t,e){ja(e).onDone(()=>n.processLeaveNode(t))}function pB(n,t){for(let e=0;e<n.length;e++){const i=n[e];i instanceof FV?pB(i.players,t):t.push(i)}}function gB(n,t,e){const i=e.get(n);if(!i)return!1;let s=t.get(n);return s?i.forEach(r=>s.add(r)):t.set(n,i),e.delete(n),!0}class ub{constructor(t,e,i){this.bodyNode=t,this._driver=e,this._normalizer=i,this._triggerCache={},this.onRemovalComplete=(s,r)=>{},this._transitionEngine=new sJ(t,e,i),this._timelineEngine=new ZZ(t,e,i),this._transitionEngine.onRemovalComplete=(s,r)=>this.onRemovalComplete(s,r)}registerTrigger(t,e,i,s,r){const o=t+"-"+s;let a=this._triggerCache[o];if(!a){const u=[],h=PT(this._driver,r,u);if(u.length)throw new Error(`The animation trigger "${s}" has failed to build due to the following errors:\n - ${u.join("\n - ")}`);a=function(n,t,e){return new KZ(n,t,e)}(s,h,this._normalizer),this._triggerCache[o]=a}this._transitionEngine.registerTrigger(e,s,a)}register(t,e){this._transitionEngine.register(t,e)}destroy(t,e){this._transitionEngine.destroy(t,e)}onInsert(t,e,i,s){this._transitionEngine.insertNode(t,e,i,s)}onRemove(t,e,i,s){this._transitionEngine.removeNode(t,e,s||!1,i)}disableAnimations(t,e){this._transitionEngine.markElementAsDisabled(t,e)}process(t,e,i,s){if("@"==i.charAt(0)){const[r,o]=$V(i);this._timelineEngine.command(r,e,o,s)}else this._transitionEngine.trigger(t,e,i,s)}listen(t,e,i,s,r){if("@"==i.charAt(0)){const[o,a]=$V(i);return this._timelineEngine.listen(o,e,a,r)}return this._transitionEngine.listen(t,e,i,s,r)}flush(t=-1){this._transitionEngine.flush(t)}get players(){return this._transitionEngine.players.concat(this._timelineEngine.players)}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}}function mB(n,t){let e=null,i=null;return Array.isArray(t)&&t.length?(e=FT(t[0]),t.length>1&&(i=FT(t[t.length-1]))):t&&(e=FT(t)),e||i?new hJ(n,e,i):null}let hJ=(()=>{class n{constructor(e,i,s){this._element=e,this._startStyles=i,this._endStyles=s,this._state=0;let r=n.initialStylesByElement.get(e);r||n.initialStylesByElement.set(e,r={}),this._initialStyles=r}start(){this._state<1&&(this._startStyles&&Gr(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(Gr(this._element,this._initialStyles),this._endStyles&&(Gr(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(n.initialStylesByElement.delete(this._element),this._startStyles&&(yc(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(yc(this._element,this._endStyles),this._endStyles=null),Gr(this._element,this._initialStyles),this._state=3)}}return n.initialStylesByElement=new WeakMap,n})();function FT(n){let t=null;const e=Object.keys(n);for(let i=0;i<e.length;i++){const s=e[i];dJ(s)&&(t=t||{},t[s]=n[s])}return t}function dJ(n){return"display"===n||"position"===n}const yB="animation",vB="animationend";class gJ{constructor(t,e,i,s,r,o,a){this._element=t,this._name=e,this._duration=i,this._delay=s,this._easing=r,this._fillMode=o,this._onDoneFn=a,this._finished=!1,this._destroyed=!1,this._startTime=0,this._position=0,this._eventFn=u=>this._handleCallback(u)}apply(){(function(n,t){const e=BT(n,"").trim();let i=0;e.length&&(function(n,t){let e=0;for(let i=0;i<n.length;i++)","===n.charAt(i)&&e++;return e}(e)+1,t=`${e}, ${t}`),hb(n,"",t)})(this._element,`${this._duration}ms ${this._easing} ${this._delay}ms 1 normal ${this._fillMode} ${this._name}`),SB(this._element,this._eventFn,!1),this._startTime=Date.now()}pause(){_B(this._element,this._name,"paused")}resume(){_B(this._element,this._name,"running")}setPosition(t){const e=bB(this._element,this._name);this._position=t*this._duration,hb(this._element,"Delay",`-${this._position}ms`,e)}getPosition(){return this._position}_handleCallback(t){const e=t._ngTestManualTimestamp||Date.now(),i=1e3*parseFloat(t.elapsedTime.toFixed(3));t.animationName==this._name&&Math.max(e-this._startTime,0)>=this._delay&&i>=this._duration&&this.finish()}finish(){this._finished||(this._finished=!0,this._onDoneFn(),SB(this._element,this._eventFn,!0))}destroy(){this._destroyed||(this._destroyed=!0,this.finish(),function(n,t){const i=BT(n,"").split(","),s=VT(i,t);s>=0&&(i.splice(s,1),hb(n,"",i.join(",")))}(this._element,this._name))}}function _B(n,t,e){hb(n,"PlayState",e,bB(n,t))}function bB(n,t){const e=BT(n,"");return e.indexOf(",")>0?VT(e.split(","),t):VT([e],t)}function VT(n,t){for(let e=0;e<n.length;e++)if(n[e].indexOf(t)>=0)return e;return-1}function SB(n,t,e){e?n.removeEventListener(vB,t):n.addEventListener(vB,t)}function hb(n,t,e,i){const s=yB+t;if(null!=i){const r=n.style[s];if(r.length){const o=r.split(",");o[i]=e,e=o.join(",")}}n.style[s]=e}function BT(n,t){return n.style[yB+t]||""}class EB{constructor(t,e,i,s,r,o,a,u){this.element=t,this.keyframes=e,this.animationName=i,this._duration=s,this._delay=r,this._finalStyles=a,this._specialStyles=u,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this.currentSnapshot={},this._state=0,this.easing=o||"linear",this.totalTime=s+r,this._buildStyler()}onStart(t){this._onStartFns.push(t)}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}destroy(){this.init(),!(this._state>=4)&&(this._state=4,this._styler.destroy(),this._flushStartFns(),this._flushDoneFns(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}_flushDoneFns(){this._onDoneFns.forEach(t=>t()),this._onDoneFns=[]}_flushStartFns(){this._onStartFns.forEach(t=>t()),this._onStartFns=[]}finish(){this.init(),!(this._state>=3)&&(this._state=3,this._styler.finish(),this._flushStartFns(),this._specialStyles&&this._specialStyles.finish(),this._flushDoneFns())}setPosition(t){this._styler.setPosition(t)}getPosition(){return this._styler.getPosition()}hasStarted(){return this._state>=2}init(){this._state>=1||(this._state=1,this._styler.apply(),this._delay&&this._styler.pause())}play(){this.init(),this.hasStarted()||(this._flushStartFns(),this._state=2,this._specialStyles&&this._specialStyles.start()),this._styler.resume()}pause(){this.init(),this._styler.pause()}restart(){this.reset(),this.play()}reset(){this._state=0,this._styler.destroy(),this._buildStyler(),this._styler.apply()}_buildStyler(){this._styler=new gJ(this.element,this.animationName,this._duration,this._delay,this.easing,"forwards",()=>this.finish())}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(i=>i()),e.length=0}beforeDestroy(){this.init();const t={};if(this.hasStarted()){const e=this._state>=3;Object.keys(this._finalStyles).forEach(i=>{"offset"!=i&&(t[i]=e?this._finalStyles[i]:AT(this.element,i))})}this.currentSnapshot=t}}class SJ extends Nh{constructor(t,e){super(),this.element=t,this._startingStyles={},this.__initialized=!1,this._styles=UV(e)}init(){this.__initialized||!this._startingStyles||(this.__initialized=!0,Object.keys(this._styles).forEach(t=>{this._startingStyles[t]=this.element.style[t]}),super.init())}play(){!this._startingStyles||(this.init(),Object.keys(this._styles).forEach(t=>this.element.style.setProperty(t,this._styles[t])),super.play())}destroy(){!this._startingStyles||(Object.keys(this._startingStyles).forEach(t=>{const e=this._startingStyles[t];e?this.element.style.setProperty(t,e):this.element.style.removeProperty(t)}),this._startingStyles=null,super.destroy())}}class CB{constructor(){this._count=0}validateStyleProperty(t){return mT(t)}matchesElement(t,e){return yT(t,e)}containsElement(t,e){return vT(t,e)}query(t,e,i){return _T(t,e,i)}computeStyle(t,e,i){return window.getComputedStyle(t)[e]}buildKeyframeElement(t,e,i){i=i.map(a=>UV(a));let s=`@keyframes ${e} {\n`,r="";i.forEach(a=>{r=" ";const u=parseFloat(a.offset);s+=`${r}${100*u}% {\n`,r+=" ",Object.keys(a).forEach(h=>{const f=a[h];switch(h){case"offset":return;case"easing":return void(f&&(s+=`${r}animation-timing-function: ${f};\n`));default:return void(s+=`${r}${h}: ${f};\n`)}}),s+=`${r}}\n`}),s+="}\n";const o=document.createElement("style");return o.textContent=s,o}animate(t,e,i,s,r,o=[],a){const u=o.filter(C=>C instanceof EB),h={};JV(i,s)&&u.forEach(C=>{let L=C.currentSnapshot;Object.keys(L).forEach(N=>h[N]=L[N])});const f=function(n){let t={};return n&&(Array.isArray(n)?n:[n]).forEach(i=>{Object.keys(i).forEach(s=>{"offset"==s||"easing"==s||(t[s]=i[s])})}),t}(e=XV(t,e,h));if(0==i)return new SJ(t,f);const p="gen_css_kf_"+this._count++,v=this.buildKeyframeElement(t,p,e);(function(n){var t;const e=null===(t=n.getRootNode)||void 0===t?void 0:t.call(n);return"undefined"!=typeof ShadowRoot&&e instanceof ShadowRoot?e:document.head})(t).appendChild(v);const S=mB(t,e),D=new EB(t,e,p,i,s,r,f,S);return D.onDestroy(()=>function(n){n.parentNode.removeChild(n)}(v)),D}}class AB{constructor(t,e,i,s){this.element=t,this.keyframes=e,this.options=i,this._specialStyles=s,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this.time=0,this.parentPlayer=null,this.currentSnapshot={},this._duration=i.duration,this._delay=i.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const t=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,t,this.options),this._finalKeyframe=t.length?t[t.length-1]:{},this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_triggerWebAnimation(t,e,i){return t.animate(e,i)}onStart(t){this._onStartFns.push(t)}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(t=>t()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}setPosition(t){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=t*this.time}getPosition(){return this.domPlayer.currentTime/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const t={};this.hasStarted()&&Object.keys(this._finalKeyframe).forEach(e=>{"offset"!=e&&(t[e]=this._finished?this._finalKeyframe[e]:AT(this.element,e))}),this.currentSnapshot=t}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(i=>i()),e.length=0}}class AJ{constructor(){this._isNativeImpl=/\{\s*\[native\s+code\]\s*\}/.test(PB().toString()),this._cssKeyframesDriver=new CB}validateStyleProperty(t){return mT(t)}matchesElement(t,e){return yT(t,e)}containsElement(t,e){return vT(t,e)}query(t,e,i){return _T(t,e,i)}computeStyle(t,e,i){return window.getComputedStyle(t)[e]}overrideWebAnimationsSupport(t){this._isNativeImpl=t}animate(t,e,i,s,r,o=[],a){if(!a&&!this._isNativeImpl)return this._cssKeyframesDriver.animate(t,e,i,s,r,o);const f={duration:i,delay:s,fill:0==s?"both":"forwards"};r&&(f.easing=r);const p={},v=o.filter(S=>S instanceof AB);JV(i,s)&&v.forEach(S=>{let D=S.currentSnapshot;Object.keys(D).forEach(C=>p[C]=D[C])});const _=mB(t,e=XV(t,e=e.map(S=>Wa(S,!1)),p));return new AB(t,e,f,_)}}function PB(){return VV()&&Element.prototype.animate||{}}let kJ=(()=>{class n extends OV{constructor(e,i){super(),this._nextAnimationId=0,this._renderer=e.createRenderer(i.body,{id:"0",encapsulation:$t.None,styles:[],data:{animation:[]}})}build(e){const i=this._nextAnimationId.toString();this._nextAnimationId++;const s=Array.isArray(e)?NV(e):e;return kB(this._renderer,null,i,"register",[s]),new TJ(i,this._renderer)}}return n.\u0275fac=function(e){return new(e||n)(B(Ul),B(je))},n.\u0275prov=se({token:n,factory:n.\u0275fac}),n})();class TJ extends class{}{constructor(t,e){super(),this._id=t,this._renderer=e}create(t,e){return new xJ(this._id,t,e||{},this._renderer)}}class xJ{constructor(t,e,i,s){this.id=t,this.element=e,this._renderer=s,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",i)}_listen(t,e){return this._renderer.listen(this.element,`@@${this.id}:${t}`,e)}_command(t,...e){return kB(this._renderer,this.element,this.id,t,e)}onDone(t){this._listen("done",t)}onStart(t){this._listen("start",t)}onDestroy(t){this._listen("destroy",t)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(t){this._command("setPosition",t)}getPosition(){var t,e;return null!==(e=null===(t=this._renderer.engine.players[+this.id])||void 0===t?void 0:t.getPosition())&&void 0!==e?e:0}}function kB(n,t,e,i,s){return n.setProperty(t,`@@${e}:${i}`,s)}const TB="@.disabled";let MJ=(()=>{class n{constructor(e,i,s){this.delegate=e,this.engine=i,this._zone=s,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),i.onRemovalComplete=(r,o)=>{o&&o.parentNode(r)&&o.removeChild(r.parentNode,r)}}createRenderer(e,i){const r=this.delegate.createRenderer(e,i);if(!(e&&i&&i.data&&i.data.animation)){let f=this._rendererCache.get(r);return f||(f=new xB("",r,this.engine),this._rendererCache.set(r,f)),f}const o=i.id,a=i.id+"-"+this._currentId;this._currentId++,this.engine.register(a,e);const u=f=>{Array.isArray(f)?f.forEach(u):this.engine.registerTrigger(o,a,e,f.name,f)};return i.data.animation.forEach(u),new IJ(this,a,r,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){this.promise.then(()=>{this._microtaskId++})}scheduleListenerCallback(e,i,s){e>=0&&e<this._microtaskId?this._zone.run(()=>i(s)):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(r=>{const[o,a]=r;o(a)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([i,s]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}return n.\u0275fac=function(e){return new(e||n)(B(Ul),B(ub),B(Fe))},n.\u0275prov=se({token:n,factory:n.\u0275fac}),n})();class xB{constructor(t,e,i){this.namespaceId=t,this.delegate=e,this.engine=i,this.destroyNode=this.delegate.destroyNode?s=>e.destroyNode(s):null}get data(){return this.delegate.data}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy()}createElement(t,e){return this.delegate.createElement(t,e)}createComment(t){return this.delegate.createComment(t)}createText(t){return this.delegate.createText(t)}appendChild(t,e){this.delegate.appendChild(t,e),this.engine.onInsert(this.namespaceId,e,t,!1)}insertBefore(t,e,i,s=!0){this.delegate.insertBefore(t,e,i),this.engine.onInsert(this.namespaceId,e,t,s)}removeChild(t,e,i){this.engine.onRemove(this.namespaceId,e,this.delegate,i)}selectRootElement(t,e){return this.delegate.selectRootElement(t,e)}parentNode(t){return this.delegate.parentNode(t)}nextSibling(t){return this.delegate.nextSibling(t)}setAttribute(t,e,i,s){this.delegate.setAttribute(t,e,i,s)}removeAttribute(t,e,i){this.delegate.removeAttribute(t,e,i)}addClass(t,e){this.delegate.addClass(t,e)}removeClass(t,e){this.delegate.removeClass(t,e)}setStyle(t,e,i,s){this.delegate.setStyle(t,e,i,s)}removeStyle(t,e,i){this.delegate.removeStyle(t,e,i)}setProperty(t,e,i){"@"==e.charAt(0)&&e==TB?this.disableAnimations(t,!!i):this.delegate.setProperty(t,e,i)}setValue(t,e){this.delegate.setValue(t,e)}listen(t,e,i){return this.delegate.listen(t,e,i)}disableAnimations(t,e){this.engine.disableAnimations(t,e)}}class IJ extends xB{constructor(t,e,i,s){super(e,i,s),this.factory=t,this.namespaceId=e}setProperty(t,e,i){"@"==e.charAt(0)?"."==e.charAt(1)&&e==TB?this.disableAnimations(t,i=void 0===i||!!i):this.engine.process(this.namespaceId,t,e.substr(1),i):this.delegate.setProperty(t,e,i)}listen(t,e,i){if("@"==e.charAt(0)){const s=function(n){switch(n){case"body":return document.body;case"document":return document;case"window":return window;default:return n}}(t);let r=e.substr(1),o="";return"@"!=r.charAt(0)&&([r,o]=function(n){const t=n.indexOf(".");return[n.substring(0,t),n.substr(t+1)]}(r)),this.engine.listen(this.namespaceId,s,r,o,a=>{this.factory.scheduleListenerCallback(a._data||-1,i,a)})}return this.delegate.listen(t,e,i)}}let RJ=(()=>{class n extends ub{constructor(e,i,s){super(e.body,i,s)}ngOnDestroy(){this.flush()}}return n.\u0275fac=function(e){return new(e||n)(B(je),B(bT),B(IT))},n.\u0275prov=se({token:n,factory:n.\u0275fac}),n})();const MB=new de("AnimationModuleType"),IB=[{provide:OV,useClass:kJ},{provide:IT,useFactory:function(){return new qZ}},{provide:ub,useClass:RJ},{provide:Ul,useFactory:function(n,t,e){return new MJ(n,t,e)},deps:[Tv,ub,Fe]}],OB=[{provide:bT,useFactory:function(){return"function"==typeof PB()?new AJ:new CB}},{provide:MB,useValue:"BrowserAnimations"},...IB],NB=[{provide:bT,useClass:jV},{provide:MB,useValue:"NoopAnimations"},...IB];let BJ=(()=>{class n{static withConfig(e){return{ngModule:n,providers:e.disableAnimations?NB:OB}}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=Wt({type:n}),n.\u0275inj=Lt({providers:OB,imports:[GC]}),n})(),$J=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=Wt({type:n,bootstrap:[pZ]}),n.\u0275inj=Lt({providers:[],imports:[[GC,q8,nR,G8,BJ,XY,QQ]]}),n})();(function(){if(aN)throw new Error("Cannot enable prod mode after platform setup.");oN=!1})(),j6().bootstrapModule($J).catch(n=>console.error(n))}},Vt=>{Vt(Vt.s=506)}]);