var Ite=Object.defineProperty,Ote=Object.defineProperties,Nte=Object.getOwnPropertyDescriptors,eH=Object.getOwnPropertySymbols,Rte=Object.prototype.hasOwnProperty,Lte=Object.prototype.propertyIsEnumerable,tH=(Wt,At,zt)=>At in Wt?Ite(Wt,At,{enumerable:!0,configurable:!0,writable:!0,value:zt}):Wt[At]=zt,hn=(Wt,At)=>{for(var zt in At||(At={}))Rte.call(At,zt)&&tH(Wt,zt,At[zt]);if(eH)for(var zt of eH(At))Lte.call(At,zt)&&tH(Wt,zt,At[zt]);return Wt},eS=(Wt,At)=>Ote(Wt,Nte(At));(self.webpackChunksap_calculator=self.webpackChunksap_calculator||[]).push([[179],{255:Wt=>{function At(zt){return Promise.resolve().then(()=>{var Qn=new Error("Cannot find module '"+zt+"'");throw Qn.code="MODULE_NOT_FOUND",Qn})}At.keys=()=>[],At.resolve=At,At.id=255,Wt.exports=At},815:function(Wt,At,zt){var Qn;Wt=zt.nmd(Wt),function(){var M,Ni="Expected a function",il="__lodash_hash_undefined__",Xr="__lodash_placeholder__",so=1/0,Cr=9007199254740991,ys=4294967295,tS=[["ary",128],["bind",1],["bindKey",2],["curry",8],["curryRight",16],["flip",512],["partial",32],["partialRight",64],["rearg",256]],Xo="[object Arguments]",rl="[object Array]",ea="[object Boolean]",ol="[object Date]",ta="[object Error]",xc="[object Function]",Cg="[object GeneratorFunction]",Jn="[object Map]",al="[object Number]",Nn="[object Object]",nS="[object Promise]",Oc="[object RegExp]",Ki="[object Set]",ro="[object String]",Nc="[object Symbol]",Rc="[object WeakMap]",ia="[object ArrayBuffer]",kr="[object DataView]",Lc="[object Float32Array]",Kh="[object Float64Array]",Yh="[object Int8Array]",Qh="[object Int16Array]",Jh="[object Int32Array]",Zh="[object Uint8Array]",Dg="[object Uint8ClampedArray]",Xh="[object Uint16Array]",ed="[object Uint32Array]",rS=/\b__p \+= '';/g,oS=/\b(__p \+=) '' \+/g,aS=/(__e\(.*?\)|\b__t\)) \+\n'';/g,st=/&(?:amp|lt|gt|quot|#39);/g,Bc=/[&<>"']/g,Ve=RegExp(st.source),td=RegExp(Bc.source),lS=/<%-([\s\S]+?)%>/g,_t=/<%([\s\S]+?)%>/g,he=/<%=([\s\S]+?)%>/g,Pg=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,_I=/^\w*$/,Dr=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Ag=/[\\^$.*+?()[\]{}|]/g,id=RegExp(Ag.source),Ae=/^\s+/,Ri=/\s/,cS=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,bI=/\{\n\/\* \[wrapped with (.+)\] \*/,SI=/,? & /,Vc=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,pn=/[()=,{}\[\]\/\s]/,EI=/\\(\\)?/g,uS=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,hS=/\w*$/,Js=/^[-+]0x[0-9a-f]+$/i,wI=/^0b[01]+$/i,CI=/^\[object .+?Constructor\]$/,kI=/^0o[0-7]+$/i,DI=/^(?:0|[1-9]\d*)$/,dS=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,nd=/($^)/,fS=/['\n\r\u2028\u2029\\]/g,sd="\\ud800-\\udfff",pS="\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff",gS="\\u2700-\\u27bf",le="a-z\\xdf-\\xf6\\xf8-\\xff",xg="A-Z\\xc0-\\xd6\\xd8-\\xde",Mg="\\ufe0e\\ufe0f",rd="\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",od="["+sd+"]",ad="["+rd+"]",$c="["+pS+"]",me="\\d+",ld="["+gS+"]",Ig="["+le+"]",Xs="[^"+sd+rd+me+gS+le+xg+"]",Fc="\\ud83c[\\udffb-\\udfff]",er="[^"+sd+"]",Yi="(?:\\ud83c[\\udde6-\\uddff]){2}",Og="[\\ud800-\\udbff][\\udc00-\\udfff]",ll="["+xg+"]",Ng="(?:"+Ig+"|"+Xs+")",mS="(?:"+ll+"|"+Xs+")",Rg="(?:['\u2019](?:d|ll|m|re|s|t|ve))?",vS="(?:['\u2019](?:D|LL|M|RE|S|T|VE))?",ot="(?:"+$c+"|"+Fc+")?",yS="["+Mg+"]?",cl=yS+ot+"(?:\\u200d(?:"+[er,Yi,Og].join("|")+")"+yS+ot+")*",cd="(?:"+[ld,Yi,Og].join("|")+")"+cl,ud="(?:"+[er+$c+"?",$c,Yi,Og,od].join("|")+")",Lg=RegExp("['\u2019]","g"),_S=RegExp($c,"g"),Zn=RegExp(Fc+"(?="+Fc+")|"+ud+cl,"g"),ul=RegExp([ll+"?"+Ig+"+"+Rg+"(?="+[ad,ll,"$"].join("|")+")",mS+"+"+vS+"(?="+[ad,ll+Ng,"$"].join("|")+")",ll+"?"+Ng+"+"+Rg,ll+"+"+vS,"\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])","\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",me,cd].join("|"),"g"),bS=RegExp("[\\u200d"+sd+pS+Mg+"]"),Xn=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,SS=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],Bg=-1,Ct={};Ct[Lc]=Ct[Kh]=Ct[Yh]=Ct[Qh]=Ct[Jh]=Ct[Zh]=Ct[Dg]=Ct[Xh]=Ct[ed]=!0,Ct[Xo]=Ct[rl]=Ct[ia]=Ct[ea]=Ct[kr]=Ct[ol]=Ct[ta]=Ct[xc]=Ct[Jn]=Ct[al]=Ct[Nn]=Ct[Oc]=Ct[Ki]=Ct[ro]=Ct[Rc]=!1;var St={};St[Xo]=St[rl]=St[ia]=St[kr]=St[ea]=St[ol]=St[Lc]=St[Kh]=St[Yh]=St[Qh]=St[Jh]=St[Jn]=St[al]=St[Nn]=St[Oc]=St[Ki]=St[ro]=St[Nc]=St[Zh]=St[Dg]=St[Xh]=St[ed]=!0,St[ta]=St[xc]=St[Rc]=!1;var ce={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},Qi=parseFloat,wi=parseInt,tr="object"==typeof global&&global&&global.Object===Object&&global,oo="object"==typeof self&&self&&self.Object===Object&&self,gt=tr||oo||Function("return this")(),$g=At&&!At.nodeType&&At,Ci=$g&&Wt&&!Wt.nodeType&&Wt,ee=Ci&&Ci.exports===$g,$e=ee&&tr.process,Xe=function(){try{return Ci&&Ci.require&&Ci.require("util").types||$e&&$e.binding&&$e.binding("util")}catch(F){}}(),Ji=Xe&&Xe.isArrayBuffer,Pr=Xe&&Xe.isDate,ri=Xe&&Xe.isMap,Ar=Xe&&Xe.isRegExp,Lt=Xe&&Xe.isSet,ra=Xe&&Xe.isTypedArray;function ui(R,F,B){switch(B.length){case 0:return R.call(F);case 1:return R.call(F,B[0]);case 2:return R.call(F,B[0],B[1]);case 3:return R.call(F,B[0],B[1],B[2])}return R.apply(F,B)}function Ne(R,F,B,se){for(var Te=-1,at=null==R?0:R.length;++Te<at;){var Qt=R[Te];F(se,Qt,B(Qt),R)}return se}function Li(R,F){for(var B=-1,se=null==R?0:R.length;++B<se&&!1!==F(R[B],B,R););return R}function oa(R,F){for(var B=null==R?0:R.length;B--&&!1!==F(R[B],B,R););return R}function Hc(R,F){for(var B=-1,se=null==R?0:R.length;++B<se;)if(!F(R[B],B,R))return!1;return!0}function mn(R,F){for(var B=-1,se=null==R?0:R.length,Te=0,at=[];++B<se;){var Qt=R[B];F(Qt,B,R)&&(at[Te++]=Qt)}return at}function hi(R,F){return!(null==R||!R.length)&&Yt(R,F,0)>-1}function ao(R,F,B){for(var se=-1,Te=null==R?0:R.length;++se<Te;)if(B(F,R[se]))return!0;return!1}function dt(R,F){for(var B=-1,se=null==R?0:R.length,Te=Array(se);++B<se;)Te[B]=F(R[B],B,R);return Te}function di(R,F){for(var B=-1,se=F.length,Te=R.length;++B<se;)R[Te+B]=F[B];return R}function mt(R,F,B,se){var Te=-1,at=null==R?0:R.length;for(se&&at&&(B=R[++Te]);++Te<at;)B=F(B,R[Te],Te,R);return B}function wS(R,F,B,se){var Te=null==R?0:R.length;for(se&&Te&&(B=R[--Te]);Te--;)B=F(B,R[Te],Te,R);return B}function hd(R,F){for(var B=-1,se=null==R?0:R.length;++B<se;)if(F(R[B],B,R))return!0;return!1}var qc=fl("length");function dl(R,F,B){var se;return B(R,function(Te,at,Qt){if(F(Te,at,Qt))return se=at,!1}),se}function _s(R,F,B,se){for(var Te=R.length,at=B+(se?1:-1);se?at--:++at<Te;)if(F(R[at],at,R))return at;return-1}function Yt(R,F,B){return F==F?function(R,F,B){for(var se=B-1,Te=R.length;++se<Te;)if(R[se]===F)return se;return-1}(R,F,B):_s(R,es,B)}function CS(R,F,B,se){for(var Te=B-1,at=R.length;++Te<at;)if(se(R[Te],F))return Te;return-1}function es(R){return R!=R}function Rn(R,F){var B=null==R?0:R.length;return B?fd(R,F)/B:NaN}function fl(R){return function(F){return null==F?M:F[R]}}function aa(R){return function(F){return null==R?M:R[F]}}function pl(R,F,B,se,Te){return Te(R,function(at,Qt,Dt){B=se?(se=!1,at):F(B,at,Qt,Dt)}),B}function fd(R,F){for(var B,se=-1,Te=R.length;++se<Te;){var at=F(R[se]);at!==M&&(B=B===M?at:B+at)}return B}function Fg(R,F){for(var B=-1,se=Array(R);++B<R;)se[B]=F(B);return se}function Hg(R){return R&&R.slice(0,md(R)+1).replace(Ae,"")}function Ln(R){return function(F){return R(F)}}function qg(R,F){return dt(F,function(B){return R[B]})}function Gc(R,F){return R.has(F)}function DS(R,F){for(var B=-1,se=R.length;++B<se&&Yt(F,R[B],0)>-1;);return B}function PS(R,F){for(var B=R.length;B--&&Yt(F,R[B],0)>-1;);return B}function MI(R,F){for(var B=R.length,se=0;B--;)R[B]===F&&++se;return se}var II=aa({\u00c0:"A",\u00c1:"A",\u00c2:"A",\u00c3:"A",\u00c4:"A",\u00c5:"A",\u00e0:"a",\u00e1:"a",\u00e2:"a",\u00e3:"a",\u00e4:"a",\u00e5:"a",\u00c7:"C",\u00e7:"c",\u00d0:"D",\u00f0:"d",\u00c8:"E",\u00c9:"E",\u00ca:"E",\u00cb:"E",\u00e8:"e",\u00e9:"e",\u00ea:"e",\u00eb:"e",\u00cc:"I",\u00cd:"I",\u00ce:"I",\u00cf:"I",\u00ec:"i",\u00ed:"i",\u00ee:"i",\u00ef:"i",\u00d1:"N",\u00f1:"n",\u00d2:"O",\u00d3:"O",\u00d4:"O",\u00d5:"O",\u00d6:"O",\u00d8:"O",\u00f2:"o",\u00f3:"o",\u00f4:"o",\u00f5:"o",\u00f6:"o",\u00f8:"o",\u00d9:"U",\u00da:"U",\u00db:"U",\u00dc:"U",\u00f9:"u",\u00fa:"u",\u00fb:"u",\u00fc:"u",\u00dd:"Y",\u00fd:"y",\u00ff:"y",\u00c6:"Ae",\u00e6:"ae",\u00de:"Th",\u00fe:"th",\u00df:"ss",\u0100:"A",\u0102:"A",\u0104:"A",\u0101:"a",\u0103:"a",\u0105:"a",\u0106:"C",\u0108:"C",\u010a:"C",\u010c:"C",\u0107:"c",\u0109:"c",\u010b:"c",\u010d:"c",\u010e:"D",\u0110:"D",\u010f:"d",\u0111:"d",\u0112:"E",\u0114:"E",\u0116:"E",\u0118:"E",\u011a:"E",\u0113:"e",\u0115:"e",\u0117:"e",\u0119:"e",\u011b:"e",\u011c:"G",\u011e:"G",\u0120:"G",\u0122:"G",\u011d:"g",\u011f:"g",\u0121:"g",\u0123:"g",\u0124:"H",\u0126:"H",\u0125:"h",\u0127:"h",\u0128:"I",\u012a:"I",\u012c:"I",\u012e:"I",\u0130:"I",\u0129:"i",\u012b:"i",\u012d:"i",\u012f:"i",\u0131:"i",\u0134:"J",\u0135:"j",\u0136:"K",\u0137:"k",\u0138:"k",\u0139:"L",\u013b:"L",\u013d:"L",\u013f:"L",\u0141:"L",\u013a:"l",\u013c:"l",\u013e:"l",\u0140:"l",\u0142:"l",\u0143:"N",\u0145:"N",\u0147:"N",\u014a:"N",\u0144:"n",\u0146:"n",\u0148:"n",\u014b:"n",\u014c:"O",\u014e:"O",\u0150:"O",\u014d:"o",\u014f:"o",\u0151:"o",\u0154:"R",\u0156:"R",\u0158:"R",\u0155:"r",\u0157:"r",\u0159:"r",\u015a:"S",\u015c:"S",\u015e:"S",\u0160:"S",\u015b:"s",\u015d:"s",\u015f:"s",\u0161:"s",\u0162:"T",\u0164:"T",\u0166:"T",\u0163:"t",\u0165:"t",\u0167:"t",\u0168:"U",\u016a:"U",\u016c:"U",\u016e:"U",\u0170:"U",\u0172:"U",\u0169:"u",\u016b:"u",\u016d:"u",\u016f:"u",\u0171:"u",\u0173:"u",\u0174:"W",\u0175:"w",\u0176:"Y",\u0177:"y",\u0178:"Y",\u0179:"Z",\u017b:"Z",\u017d:"Z",\u017a:"z",\u017c:"z",\u017e:"z",\u0132:"IJ",\u0133:"ij",\u0152:"Oe",\u0153:"oe",\u0149:"'n",\u017f:"s"}),OI=aa({"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"});function NI(R){return"\\"+ce[R]}function gl(R){return bS.test(R)}function Gg(R){var F=-1,B=Array(R.size);return R.forEach(function(se,Te){B[++F]=[Te,se]}),B}function pd(R,F){return function(B){return R(F(B))}}function bs(R,F){for(var B=-1,se=R.length,Te=0,at=[];++B<se;){var Qt=R[B];(Qt===F||Qt===Xr)&&(R[B]=Xr,at[Te++]=B)}return at}function gd(R){var F=-1,B=Array(R.size);return R.forEach(function(se){B[++F]=se}),B}function co(R){return gl(R)?function(R){for(var F=Zn.lastIndex=0;Zn.test(R);)++F;return F}(R):qc(R)}function kt(R){return gl(R)?function(R){return R.match(Zn)||[]}(R):function(R){return R.split("")}(R)}function md(R){for(var F=R.length;F--&&Ri.test(R.charAt(F)););return F}var AS=aa({"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"}),la=function R(F){var c,B=(F=null==F?gt:la.defaults(gt.Object(),F,la.pick(gt,SS))).Array,se=F.Date,Te=F.Error,at=F.Function,Qt=F.Math,Dt=F.Object,Mt=F.RegExp,FI=F.String,vn=F.TypeError,Uc=B.prototype,ca=Dt.prototype,vd=F["__core-js_shared__"],uo=at.prototype.toString,Be=ca.hasOwnProperty,MS=0,jc=(c=/[^.]+$/.exec(vd&&vd.keys&&vd.keys.IE_PROTO||""))?"Symbol(src)_1."+c:"",ir=ca.toString,yn=uo.call(Dt),Wg=gt._,yd=Mt("^"+uo.call(Be).replace(Ag,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Wc=ee?F.Buffer:M,Bi=F.Symbol,ml=F.Uint8Array,zc=Wc?Wc.allocUnsafe:M,we=pd(Dt.getPrototypeOf,Dt),IS=Dt.create,zg=ca.propertyIsEnumerable,Kc=Uc.splice,Kg=Bi?Bi.isConcatSpreadable:M,ua=Bi?Bi.iterator:M,ho=Bi?Bi.toStringTag:M,Yc=function(){try{var c=Io(Dt,"defineProperty");return c({},"",{}),c}catch(u){}}(),W=F.clearTimeout!==gt.clearTimeout&&F.clearTimeout,it=se&&se.now!==gt.Date.now&&se.now,Bn=F.setTimeout!==gt.setTimeout&&F.setTimeout,Ut=Qt.ceil,vl=Qt.floor,fo=Dt.getOwnPropertySymbols,Ss=Wc?Wc.isBuffer:M,Qc=F.isFinite,_d=Uc.join,HI=pd(Dt.keys,Dt),oi=Qt.max,ai=Qt.min,Jc=se.now,Vi=F.parseInt,is=Qt.random,Yg=Uc.reverse,Tr=Io(F,"DataView"),_n=Io(F,"Map"),bd=Io(F,"Promise"),po=Io(F,"Set"),yl=Io(F,"WeakMap"),_l=Io(Dt,"create"),ha=yl&&new yl,xr={},Qg=Rr(Tr),Sd=Rr(_n),OS=Rr(bd),Jg=Rr(po),Zc=Rr(yl),bl=Bi?Bi.prototype:M,da=bl?bl.valueOf:M,Ed=bl?bl.toString:M;function C(c){if(Ft(c)&&!fe(c)&&!(c instanceof be)){if(c instanceof Vn)return c;if(Be.call(c,"__wrapped__"))return rf(c)}return new Vn(c)}var nr=function(){function c(){}return function(u){if(!$t(u))return{};if(IS)return IS(u);c.prototype=u;var d=new c;return c.prototype=M,d}}();function Xc(){}function Vn(c,u){this.__wrapped__=c,this.__actions__=[],this.__chain__=!!u,this.__index__=0,this.__values__=M}function be(c){this.__wrapped__=c,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=ys,this.__views__=[]}function go(c){var u=-1,d=null==c?0:c.length;for(this.clear();++u<d;){var g=c[u];this.set(g[0],g[1])}}function $n(c){var u=-1,d=null==c?0:c.length;for(this.clear();++u<d;){var g=c[u];this.set(g[0],g[1])}}function bn(c){var u=-1,d=null==c?0:c.length;for(this.clear();++u<d;){var g=c[u];this.set(g[0],g[1])}}function mo(c){var u=-1,d=null==c?0:c.length;for(this.__data__=new bn;++u<d;)this.add(c[u])}function Zi(c){var u=this.__data__=new $n(c);this.size=u.size}function vo(c,u){var d=fe(c),g=!d&&Ps(c),b=!d&&!g&&As(c),D=!d&&!g&&!b&&Ul(c),x=d||g||b||D,O=x?Fg(c.length,FI):[],L=O.length;for(var U in c)(u||Be.call(c,U))&&(!x||!("length"==U||b&&("offset"==U||"parent"==U)||D&&("buffer"==U||"byteLength"==U||"byteOffset"==U)||rs(U,L)))&&O.push(U);return O}function im(c){var u=c.length;return u?c[Nd(0,u-1)]:M}function fa(c,u){return Su(fi(c),sr(u,0,c.length))}function Ad(c){return Su(fi(c))}function pa(c,u,d){(d!==M&&!de(c[u],d)||d===M&&!(u in c))&&Sn(c,u,d)}function nu(c,u,d){var g=c[u];(!Be.call(c,u)||!de(g,d)||d===M&&!(u in c))&&Sn(c,u,d)}function El(c,u){for(var d=c.length;d--;)if(de(c[d][0],u))return d;return-1}function nm(c,u,d,g){return rr(c,function(b,D,x){u(g,b,d(b),x)}),g}function sm(c,u){return c&&li(u,_i(u),c)}function Sn(c,u,d){"__proto__"==u&&Yc?Yc(c,u,{configurable:!0,enumerable:!0,value:d,writable:!0}):c[u]=d}function wl(c,u){for(var d=-1,g=u.length,b=B(g),D=null==c;++d<g;)b[d]=D?M:zl(c,u[d]);return b}function sr(c,u,d){return c==c&&(d!==M&&(c=c<=d?c:d),u!==M&&(c=c>=u?c:u)),c}function $i(c,u,d,g,b,D){var x,O=1&u,L=2&u,U=4&u;if(d&&(x=b?d(c,g,b,D):d(c)),x!==M)return x;if(!$t(c))return c;var j=fe(c);if(j){if(x=function(c){var u=c.length,d=new c.constructor(u);return u&&"string"==typeof c[0]&&Be.call(c,"index")&&(d.index=c.index,d.input=c.input),d}(c),!O)return fi(c,x)}else{var z=yi(c),X=z==xc||z==Cg;if(As(c))return vm(c,O);if(z==Nn||z==Xo||X&&!b){if(x=L||X?{}:yu(c),!O)return L?function(c,u){return li(c,Am(c),u)}(c,function(c,u){return c&&li(u,qi(u),c)}(x,c)):function(c,u){return li(c,Ol(c),u)}(c,sm(x,c))}else{if(!St[z])return b?c:{};x=function(c,u,d){var g=c.constructor;switch(u){case ia:return $(c);case ea:case ol:return new g(+c);case kr:return function(c,u){var d=u?$(c.buffer):c.buffer;return new c.constructor(d,c.byteOffset,c.byteLength)}(c,d);case Lc:case Kh:case Yh:case Qh:case Jh:case Zh:case Dg:case Xh:case ed:return Sa(c,d);case Jn:return new g;case al:case ro:return new g(c);case Oc:return function(c){var u=new c.constructor(c.source,hS.exec(c));return u.lastIndex=c.lastIndex,u}(c);case Ki:return new g;case Nc:return function(c){return da?Dt(da.call(c)):{}}(c)}}(c,z,O)}}D||(D=new Zi);var ue=D.get(c);if(ue)return ue;D.set(c,x),iw(c)?c.forEach(function(Ce){x.add($i(Ce,u,d,Ce,c,D))}):ZE(c)&&c.forEach(function(Ce,qe){x.set(qe,$i(Ce,u,d,qe,c,D))});var He=j?M:(U?L?Wd:jd:L?qi:_i)(c);return Li(He||c,function(Ce,qe){He&&(Ce=c[qe=Ce]),nu(x,qe,$i(Ce,u,d,qe,c,D))}),x}function rm(c,u,d){var g=d.length;if(null==c)return!g;for(c=Dt(c);g--;){var b=d[g],x=c[b];if(x===M&&!(b in c)||!(0,u[b])(x))return!1}return!0}function Td(c,u,d){if("function"!=typeof c)throw new vn(Ni);return Ca(function(){c.apply(M,d)},u)}function ga(c,u,d,g){var b=-1,D=hi,x=!0,O=c.length,L=[],U=u.length;if(!O)return L;d&&(u=dt(u,Ln(d))),g?(D=ao,x=!1):u.length>=200&&(D=Gc,x=!1,u=new mo(u));e:for(;++b<O;){var j=c[b],z=null==d?j:d(j);if(j=g||0!==j?j:0,x&&z==z){for(var X=U;X--;)if(u[X]===z)continue e;L.push(j)}else D(u,z,g)||L.push(j)}return L}C.templateSettings={escape:lS,evaluate:_t,interpolate:he,variable:"",imports:{_:C}},(C.prototype=Xc.prototype).constructor=C,(Vn.prototype=nr(Xc.prototype)).constructor=Vn,(be.prototype=nr(Xc.prototype)).constructor=be,go.prototype.clear=function(){this.__data__=_l?_l(null):{},this.size=0},go.prototype.delete=function(c){var u=this.has(c)&&delete this.__data__[c];return this.size-=u?1:0,u},go.prototype.get=function(c){var u=this.__data__;if(_l){var d=u[c];return d===il?M:d}return Be.call(u,c)?u[c]:M},go.prototype.has=function(c){var u=this.__data__;return _l?u[c]!==M:Be.call(u,c)},go.prototype.set=function(c,u){var d=this.__data__;return this.size+=this.has(c)?0:1,d[c]=_l&&u===M?il:u,this},$n.prototype.clear=function(){this.__data__=[],this.size=0},$n.prototype.delete=function(c){var u=this.__data__,d=El(u,c);return!(d<0||(d==u.length-1?u.pop():Kc.call(u,d,1),--this.size,0))},$n.prototype.get=function(c){var u=this.__data__,d=El(u,c);return d<0?M:u[d][1]},$n.prototype.has=function(c){return El(this.__data__,c)>-1},$n.prototype.set=function(c,u){var d=this.__data__,g=El(d,c);return g<0?(++this.size,d.push([c,u])):d[g][1]=u,this},bn.prototype.clear=function(){this.size=0,this.__data__={hash:new go,map:new(_n||$n),string:new go}},bn.prototype.delete=function(c){var u=Il(this,c).delete(c);return this.size-=u?1:0,u},bn.prototype.get=function(c){return Il(this,c).get(c)},bn.prototype.has=function(c){return Il(this,c).has(c)},bn.prototype.set=function(c,u){var d=Il(this,c),g=d.size;return d.set(c,u),this.size+=d.size==g?0:1,this},mo.prototype.add=mo.prototype.push=function(c){return this.__data__.set(c,il),this},mo.prototype.has=function(c){return this.__data__.has(c)},Zi.prototype.clear=function(){this.__data__=new $n,this.size=0},Zi.prototype.delete=function(c){var u=this.__data__,d=u.delete(c);return this.size=u.size,d},Zi.prototype.get=function(c){return this.__data__.get(c)},Zi.prototype.has=function(c){return this.__data__.has(c)},Zi.prototype.set=function(c,u){var d=this.__data__;if(d instanceof $n){var g=d.__data__;if(!_n||g.length<199)return g.push([c,u]),this.size=++d.size,this;d=this.__data__=new bn(g)}return d.set(c,u),this.size=d.size,this};var rr=fu(Fi),xd=fu(Xi,!0);function qS(c,u){var d=!0;return rr(c,function(g,b,D){return d=!!u(g,b,D)}),d}function ru(c,u,d){for(var g=-1,b=c.length;++g<b;){var D=c[g],x=u(D);if(null!=x&&(O===M?x==x&&!jn(x):d(x,O)))var O=x,L=D}return L}function ma(c,u){var d=[];return rr(c,function(g,b,D){u(g,b,D)&&d.push(g)}),d}function vi(c,u,d,g,b){var D=-1,x=c.length;for(d||(d=wa),b||(b=[]);++D<x;){var O=c[D];u>0&&d(O)?u>1?vi(O,u-1,d,g,b):di(b,O):g||(b[b.length]=O)}return b}var au=Al(),Md=Al(!0);function Fi(c,u){return c&&au(c,u,_i)}function Xi(c,u){return c&&Md(c,u,_i)}function va(c,u){return mn(u,function(d){return Un(c[d])})}function or(c,u){for(var d=0,g=(u=Do(u,c)).length;null!=c&&d<g;)c=c[os(u[d++])];return d&&d==g?c:M}function yo(c,u,d){var g=u(c);return fe(c)?g:di(g,d(c))}function ti(c){return null==c?c===M?"[object Undefined]":"[object Null]":ho&&ho in Dt(c)?function(c){var u=Be.call(c,ho),d=c[ho];try{c[ho]=M;var g=!0}catch(D){}var b=ir.call(c);return g&&(u?c[ho]=d:delete c[ho]),b}(c):function(c){return ir.call(c)}(c)}function Or(c,u){return c>u}function Cl(c,u){return null!=c&&Be.call(c,u)}function Id(c,u){return null!=c&&u in Dt(c)}function om(c,u,d){for(var g=d?ao:hi,b=c[0].length,D=c.length,x=D,O=B(D),L=1/0,U=[];x--;){var j=c[x];x&&u&&(j=dt(j,Ln(u))),L=ai(j.length,L),O[x]=!d&&(u||b>=120&&j.length>=120)?new mo(x&&j):M}j=c[0];var z=-1,X=O[0];e:for(;++z<b&&U.length<L;){var ue=j[z],Se=u?u(ue):ue;if(ue=d||0!==ue?ue:0,!(X?Gc(X,Se):g(U,Se,d))){for(x=D;--x;){var He=O[x];if(!(He?Gc(He,Se):g(c[x],Se,d)))continue e}X&&X.push(Se),U.push(ue)}}return U}function kl(c,u,d){var g=null==(c=Lm(c,u=Do(u,c)))?c:c[os(Cn(u))];return null==g?M:ui(g,c,d)}function GS(c){return Ft(c)&&ti(c)==Xo}function lu(c,u,d,g,b){return c===u||(null==c||null==u||!Ft(c)&&!Ft(u)?c!=c&&u!=u:function(c,u,d,g,b,D){var x=fe(c),O=fe(u),L=x?rl:yi(c),U=O?rl:yi(u),j=(L=L==Xo?Nn:L)==Nn,z=(U=U==Xo?Nn:U)==Nn,X=L==U;if(X&&As(c)){if(!As(u))return!1;x=!0,j=!1}if(X&&!j)return D||(D=new Zi),x||Ul(c)?Ud(c,u,d,g,b,D):function(c,u,d,g,b,D,x){switch(d){case kr:if(c.byteLength!=u.byteLength||c.byteOffset!=u.byteOffset)return!1;c=c.buffer,u=u.buffer;case ia:return!(c.byteLength!=u.byteLength||!D(new ml(c),new ml(u)));case ea:case ol:case al:return de(+c,+u);case ta:return c.name==u.name&&c.message==u.message;case Oc:case ro:return c==u+"";case Jn:var O=Gg;case Ki:if(O||(O=gd),c.size!=u.size&&!(1&g))return!1;var U=x.get(c);if(U)return U==u;g|=2,x.set(c,u);var j=Ud(O(c),O(u),g,b,D,x);return x.delete(c),j;case Nc:if(da)return da.call(c)==da.call(u)}return!1}(c,u,L,d,g,b,D);if(!(1&d)){var ue=j&&Be.call(c,"__wrapped__"),Se=z&&Be.call(u,"__wrapped__");if(ue||Se){var He=ue?c.value():c,Ce=Se?u.value():u;return D||(D=new Zi),b(He,Ce,d,g,D)}}return!!X&&(D||(D=new Zi),function(c,u,d,g,b,D){var x=1&d,O=jd(c),L=O.length;if(L!=jd(u).length&&!x)return!1;for(var z=L;z--;){var X=O[z];if(!(x?X in u:Be.call(u,X)))return!1}var ue=D.get(c),Se=D.get(u);if(ue&&Se)return ue==u&&Se==c;var He=!0;D.set(c,u),D.set(u,c);for(var Ce=x;++z<L;){var qe=c[X=O[z]],et=u[X];if(g)var sn=x?g(et,qe,X,u,c,D):g(qe,et,X,c,u,D);if(!(sn===M?qe===et||b(qe,et,d,g,D):sn)){He=!1;break}Ce||(Ce="constructor"==X)}if(He&&!Ce){var Ai=c.constructor,Wn=u.constructor;Ai!=Wn&&"constructor"in c&&"constructor"in u&&!("function"==typeof Ai&&Ai instanceof Ai&&"function"==typeof Wn&&Wn instanceof Wn)&&(He=!1)}return D.delete(c),D.delete(u),He}(c,u,d,g,b,D))}(c,u,d,g,lu,b))}function lm(c,u,d,g){var b=d.length,D=b,x=!g;if(null==c)return!D;for(c=Dt(c);b--;){var O=d[b];if(x&&O[2]?O[1]!==c[O[0]]:!(O[0]in c))return!1}for(;++b<D;){var L=(O=d[b])[0],U=c[L],j=O[1];if(x&&O[2]){if(U===M&&!(L in c))return!1}else{var z=new Zi;if(g)var X=g(U,j,L,c,u,z);if(!(X===M?lu(j,U,3,g,z):X))return!1}}return!0}function jS(c){return!(!$t(c)||function(c){return!!jc&&jc in c}(c))&&(Un(c)?yd:CI).test(Rr(c))}function WS(c){return"function"==typeof c?c:null==c?Gi:"object"==typeof c?fe(c)?cu(c[0],c[1]):ii(c):Vo(c)}function cm(c){if(!Rl(c))return HI(c);var u=[];for(var d in Dt(c))Be.call(c,d)&&"constructor"!=d&&u.push(d);return u}function bo(c,u){return c<u}function zS(c,u){var d=-1,g=tn(c)?B(c.length):[];return rr(c,function(b,D,x){g[++d]=u(b,D,x)}),g}function ii(c){var u=zd(c);return 1==u.length&&u[0][2]?Im(u[0][0],u[0][1]):function(d){return d===c||lm(d,c,u)}}function cu(c,u){return Jd(c)&&Mm(u)?Im(os(c),u):function(d){var g=zl(d,c);return g===M&&g===u?Ou(d,c):lu(u,g,3)}}function So(c,u,d,g,b){c!==u&&au(u,function(D,x){if(b||(b=new Zi),$t(D))!function(c,u,d,g,b,D,x){var O=_u(c,d),L=_u(u,d),U=x.get(L);if(U)pa(c,d,U);else{var j=D?D(O,L,d+"",c,u,x):M,z=j===M;if(z){var X=fe(L),ue=!X&&As(L),Se=!X&&!ue&&Ul(L);j=L,X||ue||Se?fe(O)?j=O:Vt(O)?j=fi(O):ue?(z=!1,j=vm(L,!0)):Se?(z=!1,j=Sa(L,!0)):j=[]:Iu(L)||Ps(L)?(j=O,Ps(O)?j=Ev(O):(!$t(O)||Un(O))&&(j=yu(L))):z=!1}z&&(x.set(L,j),b(j,L,g,D,x),x.delete(L)),pa(c,d,j)}}(c,u,x,d,So,g,b);else{var O=g?g(_u(c,x),D,x+"",c,u,b):M;O===M&&(O=D),pa(c,x,O)}},qi)}function um(c,u){var d=c.length;if(d)return rs(u+=u<0?d:0,d)?c[u]:M}function En(c,u,d){u=u.length?dt(u,function(D){return fe(D)?function(x){return or(x,1===D.length?D[0]:D)}:D}):[Gi];var g=-1;return u=dt(u,Ln(ve())),function(R,F){var B=R.length;for(R.sort(function(D,x){return function(c,u,d){for(var g=-1,b=c.criteria,D=u.criteria,x=b.length,O=d.length;++g<x;){var L=_m(b[g],D[g]);if(L)return g>=O?L:L*("desc"==d[g]?-1:1)}return c.index-u.index}(D,x,d)});B--;)R[B]=R[B].value;return R}(zS(c,function(D,x,O){return{criteria:dt(u,function(U){return U(D)}),index:++g,value:D}}))}function Dl(c,u,d){for(var g=-1,b=u.length,D={};++g<b;){var x=u[g],O=or(c,x);d(O,x)&&wo(D,Do(x,c),O)}return D}function ws(c,u,d,g){var b=g?CS:Yt,D=-1,x=u.length,O=c;for(c===u&&(u=fi(u)),d&&(O=dt(c,Ln(d)));++D<x;)for(var L=0,U=u[D],j=d?d(U):U;(L=b(O,j,L,g))>-1;)O!==c&&Kc.call(O,L,1),Kc.call(c,L,1);return c}function Od(c,u){for(var d=c?u.length:0,g=d-1;d--;){var b=u[d];if(d==g||b!==D){var D=b;rs(b)?Kc.call(c,b,1):gm(c,b)}}return c}function Nd(c,u){return c+vl(is()*(u-c+1))}function hm(c,u){var d="";if(!c||u<1||u>Cr)return d;do{u%2&&(d+=c),(u=vl(u/2))&&(c+=c)}while(u);return d}function Ke(c,u){return bu(Rm(c,u,Gi),c+"")}function dm(c){return im(xa(c))}function wn(c,u){var d=xa(c);return Su(d,sr(u,0,d.length))}function wo(c,u,d,g){if(!$t(c))return c;for(var b=-1,D=(u=Do(u,c)).length,x=D-1,O=c;null!=O&&++b<D;){var L=os(u[b]),U=d;if("__proto__"===L||"constructor"===L||"prototype"===L)return c;if(b!=x){var j=O[L];(U=g?g(j,L,O):M)===M&&(U=$t(j)?j:rs(u[b+1])?[]:{})}nu(O,L,U),O=O[L]}return c}var Co=ha?function(c,u){return ha.set(c,u),c}:Gi,JI=Yc?function(c,u){return Yc(c,"toString",{configurable:!0,enumerable:!1,value:Ff(u),writable:!0})}:Gi;function fm(c){return Su(xa(c))}function Fn(c,u,d){var g=-1,b=c.length;u<0&&(u=-u>b?0:b+u),(d=d>b?b:d)<0&&(d+=b),b=u>d?0:d-u>>>0,u>>>=0;for(var D=B(b);++g<b;)D[g]=c[g+u];return D}function YS(c,u){var d;return rr(c,function(g,b,D){return!(d=u(g,b,D))}),!!d}function uu(c,u,d){var g=0,b=null==c?g:c.length;if("number"==typeof u&&u==u&&b<=2147483647){for(;g<b;){var D=g+b>>>1,x=c[D];null!==x&&!jn(x)&&(d?x<=u:x<u)?g=D+1:b=D}return b}return Rd(c,u,Gi,d)}function Rd(c,u,d,g){var b=0,D=null==c?0:c.length;if(0===D)return 0;for(var x=(u=d(u))!=u,O=null===u,L=jn(u),U=u===M;b<D;){var j=vl((b+D)/2),z=d(c[j]),X=z!==M,ue=null===z,Se=z==z,He=jn(z);if(x)var Ce=g||Se;else Ce=U?Se&&(g||X):O?Se&&X&&(g||!ue):L?Se&&X&&!ue&&(g||!He):!ue&&!He&&(g?z<=u:z<u);Ce?b=j+1:D=j}return ai(D,4294967294)}function pm(c,u){for(var d=-1,g=c.length,b=0,D=[];++d<g;){var x=c[d],O=u?u(x):x;if(!d||!de(O,L)){var L=O;D[b++]=0===x?0:x}}return D}function ya(c){return"number"==typeof c?c:jn(c)?NaN:+c}function Hi(c){if("string"==typeof c)return c;if(fe(c))return dt(c,Hi)+"";if(jn(c))return Ed?Ed.call(c):"";var u=c+"";return"0"==u&&1/c==-so?"-0":u}function ns(c,u,d){var g=-1,b=hi,D=c.length,x=!0,O=[],L=O;if(d)x=!1,b=ao;else if(D>=200){var U=u?null:eE(c);if(U)return gd(U);x=!1,b=Gc,L=new mo}else L=u?[]:O;e:for(;++g<D;){var j=c[g],z=u?u(j):j;if(j=d||0!==j?j:0,x&&z==z){for(var X=L.length;X--;)if(L[X]===z)continue e;u&&L.push(z),O.push(j)}else b(L,z,d)||(L!==O&&L.push(z),O.push(j))}return O}function gm(c,u){return null==(c=Lm(c,u=Do(u,c)))||delete c[os(Cn(u))]}function _a(c,u,d,g){return wo(c,u,d(or(c,u)),g)}function ba(c,u,d,g){for(var b=c.length,D=g?b:-1;(g?D--:++D<b)&&u(c[D],D,c););return d?Fn(c,g?0:D,g?D+1:b):Fn(c,g?D+1:0,g?b:D)}function ko(c,u){var d=c;return d instanceof be&&(d=d.value()),mt(u,function(g,b){return b.func.apply(b.thisArg,di([g],b.args))},d)}function Ld(c,u,d){var g=c.length;if(g<2)return g?ns(c[0]):[];for(var b=-1,D=B(g);++b<g;)for(var x=c[b],O=-1;++O<g;)O!=b&&(D[b]=ga(D[b]||x,c[O],u,d));return ns(vi(D,1),u,d)}function mm(c,u,d){for(var g=-1,b=c.length,D=u.length,x={};++g<b;)d(x,c[g],g<D?u[g]:M);return x}function Bd(c){return Vt(c)?c:[]}function Pl(c){return"function"==typeof c?c:Gi}function Do(c,u){return fe(c)?c:Jd(c,u)?[c]:nf(lt(c))}var Vd=Ke;function Hn(c,u,d){var g=c.length;return d=d===M?g:d,!u&&d>=g?c:Fn(c,u,d)}var Po=W||function(c){return gt.clearTimeout(c)};function vm(c,u){if(u)return c.slice();var d=c.length,g=zc?zc(d):new c.constructor(d);return c.copy(g),g}function $(c){var u=new c.constructor(c.byteLength);return new ml(u).set(new ml(c)),u}function Sa(c,u){var d=u?$(c.buffer):c.buffer;return new c.constructor(d,c.byteOffset,c.length)}function _m(c,u){if(c!==u){var d=c!==M,g=null===c,b=c==c,D=jn(c),x=u!==M,O=null===u,L=u==u,U=jn(u);if(!O&&!U&&!D&&c>u||D&&x&&L&&!O&&!U||g&&x&&L||!d&&L||!b)return 1;if(!g&&!D&&!U&&c<u||U&&d&&b&&!g&&!D||O&&d&&b||!x&&b||!L)return-1}return 0}function $d(c,u,d,g){for(var b=-1,D=c.length,x=d.length,O=-1,L=u.length,U=oi(D-x,0),j=B(L+U),z=!g;++O<L;)j[O]=u[O];for(;++b<x;)(z||b<D)&&(j[d[b]]=c[b]);for(;U--;)j[O++]=c[b++];return j}function JS(c,u,d,g){for(var b=-1,D=c.length,x=-1,O=d.length,L=-1,U=u.length,j=oi(D-O,0),z=B(j+U),X=!g;++b<j;)z[b]=c[b];for(var ue=b;++L<U;)z[ue+L]=u[L];for(;++x<O;)(X||b<D)&&(z[ue+d[x]]=c[b++]);return z}function fi(c,u){var d=-1,g=c.length;for(u||(u=B(g));++d<g;)u[d]=c[d];return u}function li(c,u,d,g){var b=!d;d||(d={});for(var D=-1,x=u.length;++D<x;){var O=u[D],L=g?g(d[O],c[O],O,d,c):M;L===M&&(L=c[O]),b?Sn(d,O,L):nu(d,O,L)}return d}function du(c,u){return function(d,g){var b=fe(d)?Ne:nm,D=u?u():{};return b(d,c,ve(g,2),D)}}function xo(c){return Ke(function(u,d){var g=-1,b=d.length,D=b>1?d[b-1]:M,x=b>2?d[2]:M;for(D=c.length>3&&"function"==typeof D?(b--,D):M,x&&Pi(d[0],d[1],x)&&(D=b<3?M:D,b=1),u=Dt(u);++g<b;){var O=d[g];O&&c(u,O,g,D)}return u})}function fu(c,u){return function(d,g){if(null==d)return d;if(!tn(d))return c(d,g);for(var b=d.length,D=u?b:-1,x=Dt(d);(u?D--:++D<b)&&!1!==g(x[D],D,x););return d}}function Al(c){return function(u,d,g){for(var b=-1,D=Dt(u),x=g(u),O=x.length;O--;){var L=x[c?O:++b];if(!1===d(D[L],L,D))break}return u}}function Em(c){return function(u){var d=gl(u=lt(u))?kt(u):M,g=d?d[0]:u.charAt(0),b=d?Hn(d,1).join(""):u.slice(1);return g[c]()+b}}function Ea(c){return function(u){return mt(Vf(Mf(u).replace(Lg,"")),c,"")}}function Cs(c){return function(){var u=arguments;switch(u.length){case 0:return new c;case 1:return new c(u[0]);case 2:return new c(u[0],u[1]);case 3:return new c(u[0],u[1],u[2]);case 4:return new c(u[0],u[1],u[2],u[3]);case 5:return new c(u[0],u[1],u[2],u[3],u[4]);case 6:return new c(u[0],u[1],u[2],u[3],u[4],u[5]);case 7:return new c(u[0],u[1],u[2],u[3],u[4],u[5],u[6])}var d=nr(c.prototype),g=c.apply(d,u);return $t(g)?g:d}}function wm(c){return function(u,d,g){var b=Dt(u);if(!tn(u)){var D=ve(d,3);u=_i(u),d=function(O){return D(b[O],O,b)}}var x=c(u,d,g);return x>-1?b[D?u[x]:x]:M}}function ZS(c){return ss(function(u){var d=u.length,g=d,b=Vn.prototype.thru;for(c&&u.reverse();g--;){var D=u[g];if("function"!=typeof D)throw new vn(Ni);if(b&&!x&&"wrapper"==vu(D))var x=new Vn([],!0)}for(g=x?g:d;++g<d;){var O=vu(D=u[g]),L="wrapper"==O?mu(D):M;x=L&&Xd(L[0])&&424==L[1]&&!L[4].length&&1==L[9]?x[vu(L[0])].apply(x,L[3]):1==D.length&&Xd(D)?x[O]():x.thru(D)}return function(){var U=arguments,j=U[0];if(x&&1==U.length&&fe(j))return x.plant(j).value();for(var z=0,X=d?u[z].apply(this,U):j;++z<d;)X=u[z].call(this,X);return X}})}function xl(c,u,d,g,b,D,x,O,L,U){var j=128&u,z=1&u,X=2&u,ue=24&u,Se=512&u,He=X?M:Cs(c);return function Ce(){for(var qe=arguments.length,et=B(qe),sn=qe;sn--;)et[sn]=arguments[sn];if(ue)var Ai=Mo(Ce),Wn=MI(et,Ai);if(g&&(et=$d(et,g,b,ue)),D&&(et=JS(et,D,x,ue)),qe-=Wn,ue&&qe<U){var ct=bs(et,Ai);return en(c,u,xl,Ce.placeholder,d,et,ct,O,L,U-qe)}var Ms=z?d:this,$r=X?Ms[c]:c;return qe=et.length,O?et=Bm(et,O):Se&&qe>1&&et.reverse(),j&&L<qe&&(et.length=L),this&&this!==gt&&this instanceof Ce&&($r=He||Cs($r)),$r.apply(Ms,et)}}function Cm(c,u){return function(d,g){return function(c,u,d,g){return Fi(c,function(b,D,x){u(g,d(b),D,x)}),g}(d,c,u(g),{})}}function Fd(c,u){return function(d,g){var b;if(d===M&&g===M)return u;if(d!==M&&(b=d),g!==M){if(b===M)return g;"string"==typeof d||"string"==typeof g?(d=Hi(d),g=Hi(g)):(d=ya(d),g=ya(g)),b=c(d,g)}return b}}function Hd(c){return ss(function(u){return u=dt(u,Ln(ve())),Ke(function(d){var g=this;return c(u,function(b){return ui(b,g,d)})})})}function pu(c,u){var d=(u=u===M?" ":Hi(u)).length;if(d<2)return d?hm(u,c):u;var g=hm(u,Ut(c/co(u)));return gl(u)?Hn(kt(g),0,c).join(""):g.slice(0,c)}function km(c){return function(u,d,g){return g&&"number"!=typeof g&&Pi(u,d,g)&&(d=g=M),u=Ts(u),d===M?(d=u,u=0):d=Ts(d),function(c,u,d,g){for(var b=-1,D=oi(Ut((u-c)/(d||1)),0),x=B(D);D--;)x[g?D:++b]=c,c+=d;return x}(u,d,g=g===M?u<d?1:-1:Ts(g),c)}}function qd(c){return function(u,d){return"string"==typeof u&&"string"==typeof d||(u=nn(u),d=nn(d)),c(u,d)}}function en(c,u,d,g,b,D,x,O,L,U){var j=8&u;u|=j?32:64,4&(u&=~(j?64:32))||(u&=-4);var He=[c,u,b,j?D:M,j?x:M,j?M:D,j?M:x,O,L,U],Ce=d.apply(M,He);return Xd(c)&&Nr(Ce,He),Ce.placeholder=g,Vm(Ce,c,u)}function Gd(c){var u=Qt[c];return function(d,g){if(d=nn(d),(g=null==g?0:ai(Ie(g),292))&&Qc(d)){var b=(lt(d)+"e").split("e");return+((b=(lt(u(b[0]+"e"+(+b[1]+g)))+"e").split("e"))[0]+"e"+(+b[1]-g))}return u(d)}}var eE=po&&1/gd(new po([,-0]))[1]==so?function(c){return new po(c)}:Gf;function Dm(c){return function(u){var d=yi(u);return d==Jn?Gg(u):d==Ki?function(R){var F=-1,B=Array(R.size);return R.forEach(function(se){B[++F]=[se,se]}),B}(u):function(R,F){return dt(F,function(B){return[B,R[B]]})}(u,c(u))}}function qn(c,u,d,g,b,D,x,O){var L=2&u;if(!L&&"function"!=typeof c)throw new vn(Ni);var U=g?g.length:0;if(U||(u&=-97,g=b=M),x=x===M?x:oi(Ie(x),0),O=O===M?O:Ie(O),U-=b?b.length:0,64&u){var j=g,z=b;g=b=M}var X=L?M:mu(c),ue=[c,u,d,g,b,j,z,D,x,O];if(X&&function(c,u){var d=c[1],g=u[1],b=d|g;if(!(b<131||(128==g&&8==d||128==g&&256==d&&c[7].length<=u[8]||384==g&&u[7].length<=u[8]&&8==d)))return c;1&g&&(c[2]=u[2],b|=1&d?0:4);var O=u[3];if(O){var L=c[3];c[3]=L?$d(L,O,u[4]):O,c[4]=L?bs(c[3],Xr):u[4]}(O=u[5])&&(c[5]=(L=c[5])?JS(L,O,u[6]):O,c[6]=L?bs(c[5],Xr):u[6]),(O=u[7])&&(c[7]=O),128&g&&(c[8]=null==c[8]?u[8]:ai(c[8],u[8])),null==c[9]&&(c[9]=u[9]),c[0]=u[0],c[1]=b}(ue,X),c=ue[0],u=ue[1],d=ue[2],g=ue[3],b=ue[4],!(O=ue[9]=ue[9]===M?L?0:c.length:oi(ue[9]-U,0))&&24&u&&(u&=-25),u&&1!=u)Se=8==u||16==u?function(c,u,d){var g=Cs(c);return function b(){for(var D=arguments.length,x=B(D),O=D,L=Mo(b);O--;)x[O]=arguments[O];var U=D<3&&x[0]!==L&&x[D-1]!==L?[]:bs(x,L);return(D-=U.length)<d?en(c,u,xl,b.placeholder,M,x,U,M,M,d-D):ui(this&&this!==gt&&this instanceof b?g:c,this,x)}}(c,u,O):32!=u&&33!=u||b.length?xl.apply(M,ue):function(c,u,d,g){var b=1&u,D=Cs(c);return function x(){for(var O=-1,L=arguments.length,U=-1,j=g.length,z=B(j+L),X=this&&this!==gt&&this instanceof x?D:c;++U<j;)z[U]=g[U];for(;L--;)z[U++]=arguments[++O];return ui(X,b?d:this,z)}}(c,u,d,g);else var Se=function(c,u,d){var g=1&u,b=Cs(c);return function D(){return(this&&this!==gt&&this instanceof D?b:c).apply(g?d:this,arguments)}}(c,u,d);return Vm((X?Co:Nr)(Se,ue),c,u)}function ki(c,u,d,g){return c===M||de(c,ca[d])&&!Be.call(g,d)?u:c}function gu(c,u,d,g,b,D){return $t(c)&&$t(u)&&(D.set(u,c),So(c,u,M,gu,D),D.delete(u)),c}function Pm(c){return Iu(c)?M:c}function Ud(c,u,d,g,b,D){var x=1&d,O=c.length,L=u.length;if(O!=L&&!(x&&L>O))return!1;var U=D.get(c),j=D.get(u);if(U&&j)return U==u&&j==c;var z=-1,X=!0,ue=2&d?new mo:M;for(D.set(c,u),D.set(u,c);++z<O;){var Se=c[z],He=u[z];if(g)var Ce=x?g(He,Se,z,u,c,D):g(Se,He,z,c,u,D);if(Ce!==M){if(Ce)continue;X=!1;break}if(ue){if(!hd(u,function(qe,et){if(!Gc(ue,et)&&(Se===qe||b(Se,qe,d,g,D)))return ue.push(et)})){X=!1;break}}else if(Se!==He&&!b(Se,He,d,g,D)){X=!1;break}}return D.delete(c),D.delete(u),X}function ss(c){return bu(Rm(c,M,Vl),c+"")}function jd(c){return yo(c,_i,Ol)}function Wd(c){return yo(c,qi,Am)}var mu=ha?function(c){return ha.get(c)}:Gf;function vu(c){for(var u=c.name+"",d=xr[u],g=Be.call(xr,u)?d.length:0;g--;){var b=d[g],D=b.func;if(null==D||D==c)return b.name}return u}function Mo(c){return(Be.call(C,"placeholder")?C:c).placeholder}function ve(){var c=C.iteratee||Bo;return c=c===Bo?WS:c,arguments.length?c(arguments[0],arguments[1]):c}function Il(c,u){var d=c.__data__;return function(c){var u=typeof c;return"string"==u||"number"==u||"symbol"==u||"boolean"==u?"__proto__"!==c:null===c}(u)?d["string"==typeof u?"string":"hash"]:d.map}function zd(c){for(var u=_i(c),d=u.length;d--;){var g=u[d],b=c[g];u[d]=[g,b,Mm(b)]}return u}function Io(c,u){var d=function(R,F){return null==R?M:R[F]}(c,u);return jS(d)?d:M}var Ol=fo?function(c){return null==c?[]:(c=Dt(c),mn(fo(c),function(u){return zg.call(c,u)}))}:Vr,Am=fo?function(c){for(var u=[];c;)di(u,Ol(c)),c=we(c);return u}:Vr,yi=ti;function Yd(c,u,d){for(var g=-1,b=(u=Do(u,c)).length,D=!1;++g<b;){var x=os(u[g]);if(!(D=null!=c&&d(c,x)))break;c=c[x]}return D||++g!=b?D:!!(b=null==c?0:c.length)&&Ef(b)&&rs(x,b)&&(fe(c)||Ps(c))}function yu(c){return"function"!=typeof c.constructor||Rl(c)?{}:nr(we(c))}function wa(c){return fe(c)||Ps(c)||!!(Kg&&c&&c[Kg])}function rs(c,u){var d=typeof c;return!!(u=null==u?Cr:u)&&("number"==d||"symbol"!=d&&DI.test(c))&&c>-1&&c%1==0&&c<u}function Pi(c,u,d){if(!$t(d))return!1;var g=typeof u;return!!("number"==g?tn(d)&&rs(u,d.length):"string"==g&&u in d)&&de(d[u],c)}function Jd(c,u){if(fe(c))return!1;var d=typeof c;return!("number"!=d&&"symbol"!=d&&"boolean"!=d&&null!=c&&!jn(c))||_I.test(c)||!Pg.test(c)||null!=u&&c in Dt(u)}function Xd(c){var u=vu(c),d=C[u];if("function"!=typeof d||!(u in be.prototype))return!1;if(c===d)return!0;var g=mu(d);return!!g&&c===g[0]}(Tr&&yi(new Tr(new ArrayBuffer(1)))!=kr||_n&&yi(new _n)!=Jn||bd&&yi(bd.resolve())!=nS||po&&yi(new po)!=Ki||yl&&yi(new yl)!=Rc)&&(yi=function(c){var u=ti(c),d=u==Nn?c.constructor:M,g=d?Rr(d):"";if(g)switch(g){case Qg:return kr;case Sd:return Jn;case OS:return nS;case Jg:return Ki;case Zc:return Rc}return u});var iE=vd?Un:jf;function Rl(c){var u=c&&c.constructor;return c===("function"==typeof u&&u.prototype||ca)}function Mm(c){return c==c&&!$t(c)}function Im(c,u){return function(d){return null!=d&&d[c]===u&&(u!==M||c in Dt(d))}}function Rm(c,u,d){return u=oi(u===M?c.length-1:u,0),function(){for(var g=arguments,b=-1,D=oi(g.length-u,0),x=B(D);++b<D;)x[b]=g[u+b];b=-1;for(var O=B(u+1);++b<u;)O[b]=g[b];return O[u]=d(x),ui(c,this,O)}}function Lm(c,u){return u.length<2?c:or(c,Fn(u,0,-1))}function Bm(c,u){for(var d=c.length,g=ai(u.length,d),b=fi(c);g--;){var D=u[g];c[g]=rs(D,d)?b[D]:M}return c}function _u(c,u){if(("constructor"!==u||"function"!=typeof c[u])&&"__proto__"!=u)return c[u]}var Nr=Ll(Co),Ca=Bn||function(c,u){return gt.setTimeout(c,u)},bu=Ll(JI);function Vm(c,u,d){var g=u+"";return bu(c,function(c,u){var d=u.length;if(!d)return c;var g=d-1;return u[g]=(d>1?"& ":"")+u[g],u=u.join(d>2?", ":" "),c.replace(cS,"{\n/* [wrapped with "+u+"] */\n")}(g,function(c,u){return Li(tS,function(d){var g="_."+d[0];u&d[1]&&!hi(c,g)&&c.push(g)}),c.sort()}(function(c){var u=c.match(bI);return u?u[1].split(SI):[]}(g),d)))}function Ll(c){var u=0,d=0;return function(){var g=Jc(),b=16-(g-d);if(d=g,b>0){if(++u>=800)return arguments[0]}else u=0;return c.apply(M,arguments)}}function Su(c,u){var d=-1,g=c.length,b=g-1;for(u=u===M?g:u;++d<u;){var D=Nd(d,b),x=c[D];c[D]=c[d],c[d]=x}return c.length=u,c}var u,d,nf=(u=Gl(function(c){var u=[];return 46===c.charCodeAt(0)&&u.push(""),c.replace(Dr,function(d,g,b,D){u.push(b?D.replace(EI,"$1"):g||d)}),u},function(g){return 500===d.size&&d.clear(),g}),d=u.cache,u);function os(c){if("string"==typeof c||jn(c))return c;var u=c+"";return"0"==u&&1/c==-so?"-0":u}function Rr(c){if(null!=c){try{return uo.call(c)}catch(u){}try{return c+""}catch(u){}}return""}function rf(c){if(c instanceof be)return c.clone();var u=new Vn(c.__wrapped__,c.__chain__);return u.__actions__=fi(c.__actions__),u.__index__=c.__index__,u.__values__=c.__values__,u}var of=Ke(function(c,u){return Vt(c)?ga(c,vi(u,1,Vt,!0)):[]}),af=Ke(function(c,u){var d=Cn(u);return Vt(d)&&(d=M),Vt(c)?ga(c,vi(u,1,Vt,!0),ve(d,2)):[]}),lf=Ke(function(c,u){var d=Cn(u);return Vt(d)&&(d=M),Vt(c)?ga(c,vi(u,1,Vt,!0),M,d):[]});function cf(c,u,d){var g=null==c?0:c.length;if(!g)return-1;var b=null==d?0:Ie(d);return b<0&&(b=oi(g+b,0)),_s(c,ve(u,3),b)}function Cu(c,u,d){var g=null==c?0:c.length;if(!g)return-1;var b=g-1;return d!==M&&(b=Ie(d),b=d<0?oi(g+b,0):ai(b,g-1)),_s(c,ve(u,3),b,!0)}function Vl(c){return null!=c&&c.length?vi(c,1):[]}function Hm(c){return c&&c.length?c[0]:M}var ku=Ke(function(c){var u=dt(c,Bd);return u.length&&u[0]===c[0]?om(u):[]}),hf=Ke(function(c){var u=Cn(c),d=dt(c,Bd);return u===Cn(d)?u=M:d.pop(),d.length&&d[0]===c[0]?om(d,ve(u,2)):[]}),qm=Ke(function(c){var u=Cn(c),d=dt(c,Bd);return(u="function"==typeof u?u:M)&&d.pop(),d.length&&d[0]===c[0]?om(d,M,u):[]});function Cn(c){var u=null==c?0:c.length;return u?c[u-1]:M}var cE=Ke(Um);function Um(c,u){return c&&c.length&&u&&u.length?ws(c,u):c}var kn=ss(function(c,u){var d=null==c?0:c.length,g=wl(c,u);return Od(c,dt(u,function(b){return rs(b,d)?+b:b}).sort(_m)),g});function Du(c){return null==c?c:Yg.call(c)}var Ds=Ke(function(c){return ns(vi(c,1,Vt,!0))}),Fl=Ke(function(c){var u=Cn(c);return Vt(u)&&(u=M),ns(vi(c,1,Vt,!0),ve(u,2))}),zm=Ke(function(c){var u=Cn(c);return u="function"==typeof u?u:M,ns(vi(c,1,Vt,!0),M,u)});function Qm(c){if(!c||!c.length)return[];var u=0;return c=mn(c,function(d){if(Vt(d))return u=oi(d.length,u),!0}),Fg(u,function(d){return dt(c,fl(d))})}function EE(c,u){if(!c||!c.length)return[];var d=Qm(c);return null==u?d:dt(d,function(g){return ui(u,M,g)})}var df=Ke(function(c,u){return Vt(c)?ga(c,u):[]}),ff=Ke(function(c){return Ld(mn(c,Vt))}),pf=Ke(function(c){var u=Cn(c);return Vt(u)&&(u=M),Ld(mn(c,Vt),ve(u,2))}),iO=Ke(function(c){var u=Cn(c);return u="function"==typeof u?u:M,Ld(mn(c,Vt),M,u)}),nO=Ke(Qm),CE=Ke(function(c){var u=c.length,d=u>1?c[u-1]:M;return d="function"==typeof d?(c.pop(),d):M,EE(c,d)});function Zm(c){var u=C(c);return u.__chain__=!0,u}function Hl(c,u){return u(c)}var Pu=ss(function(c){var u=c.length,d=u?c[0]:0,g=this.__wrapped__,b=function(D){return wl(D,c)};return!(u>1||this.__actions__.length)&&g instanceof be&&rs(d)?((g=g.slice(d,+d+(u?1:0))).__actions__.push({func:Hl,args:[b],thisArg:M}),new Vn(g,this.__chain__).thru(function(D){return u&&!D.length&&D.push(M),D})):this.thru(b)}),tv=du(function(c,u,d){Be.call(c,d)?++c[d]:Sn(c,d,1)}),ME=wm(cf),IE=wm(Cu);function ka(c,u){return(fe(c)?Li:rr)(c,ve(u,3))}function iv(c,u){return(fe(c)?oa:xd)(c,ve(u,3))}var nv=du(function(c,u,d){Be.call(c,d)?c[d].push(u):Sn(c,d,[u])}),sv=Ke(function(c,u,d){var g=-1,b="function"==typeof u,D=tn(c)?B(c.length):[];return rr(c,function(x){D[++g]=b?ui(u,x,d):kl(x,u,d)}),D}),NE=du(function(c,u,d){Sn(c,d,u)});function vf(c,u){return(fe(c)?dt:zS)(c,ve(u,3))}var Au=du(function(c,u,d){c[d?0:1].push(u)},function(){return[[],[]]}),FE=Ke(function(c,u){if(null==c)return[];var d=u.length;return d>1&&Pi(c,u[0],u[1])?u=[]:d>2&&Pi(u[0],u[1],u[2])&&(u=[u[0]]),En(c,vi(u,1),[])}),ql=it||function(){return gt.Date.now()};function yf(c,u,d){return u=d?M:u,qn(c,128,M,M,M,M,u=c&&null==u?c.length:u)}function av(c,u){var d;if("function"!=typeof u)throw new vn(Ni);return c=Ie(c),function(){return--c>0&&(d=u.apply(this,arguments)),c<=1&&(u=M),d}}var _f=Ke(function(c,u,d){var g=1;if(d.length){var b=bs(d,Mo(_f));g|=32}return qn(c,g,u,d,b)}),lv=Ke(function(c,u,d){var g=3;if(d.length){var b=bs(d,Mo(lv));g|=32}return qn(u,g,c,d,b)});function HE(c,u,d){var g,b,D,x,O,L,U=0,j=!1,z=!1,X=!0;if("function"!=typeof c)throw new vn(Ni);function ue(ct){var Ms=g,$r=b;return g=b=M,U=ct,x=c.apply($r,Ms)}function Se(ct){return U=ct,O=Ca(qe,u),j?ue(ct):x}function Ce(ct){var Ms=ct-L;return L===M||Ms>=u||Ms<0||z&&ct-U>=D}function qe(){var ct=ql();if(Ce(ct))return et(ct);O=Ca(qe,function(ct){var jw=u-(ct-L);return z?ai(jw,D-(ct-U)):jw}(ct))}function et(ct){return O=M,X&&g?ue(ct):(g=b=M,x)}function Wn(){var ct=ql(),Ms=Ce(ct);if(g=arguments,b=this,L=ct,Ms){if(O===M)return Se(L);if(z)return Po(O),O=Ca(qe,u),ue(L)}return O===M&&(O=Ca(qe,u)),x}return u=nn(u)||0,$t(d)&&(j=!!d.leading,D=(z="maxWait"in d)?oi(nn(d.maxWait)||0,u):D,X="trailing"in d?!!d.trailing:X),Wn.cancel=function(){O!==M&&Po(O),U=0,g=L=b=O=M},Wn.flush=function(){return O===M?x:et(ql())},Wn}var aO=Ke(function(c,u){return Td(c,1,u)}),cv=Ke(function(c,u,d){return Td(c,nn(u)||0,d)});function Gl(c,u){if("function"!=typeof c||null!=u&&"function"!=typeof u)throw new vn(Ni);var d=function(){var g=arguments,b=u?u.apply(this,g):g[0],D=d.cache;if(D.has(b))return D.get(b);var x=c.apply(this,g);return d.cache=D.set(b,x)||D,x};return d.cache=new(Gl.Cache||bn),d}function bf(c){if("function"!=typeof c)throw new vn(Ni);return function(){var u=arguments;switch(u.length){case 0:return!c.call(this);case 1:return!c.call(this,u[0]);case 2:return!c.call(this,u[0],u[1]);case 3:return!c.call(this,u[0],u[1],u[2])}return!c.apply(this,u)}}Gl.Cache=bn;var qE=Vd(function(c,u){var d=(u=1==u.length&&fe(u[0])?dt(u[0],Ln(ve())):dt(vi(u,1),Ln(ve()))).length;return Ke(function(g){for(var b=-1,D=ai(g.length,d);++b<D;)g[b]=u[b].call(this,g[b]);return ui(c,this,g)})}),Tu=Ke(function(c,u){var d=bs(u,Mo(Tu));return qn(c,32,M,u,d)}),hv=Ke(function(c,u){var d=bs(u,Mo(hv));return qn(c,64,M,u,d)}),GE=ss(function(c,u){return qn(c,256,M,M,M,u)});function de(c,u){return c===u||c!=c&&u!=u}var q=qd(Or),pv=qd(function(c,u){return c>=u}),Ps=GS(function(){return arguments}())?GS:function(c){return Ft(c)&&Be.call(c,"callee")&&!zg.call(c,"callee")},fe=B.isArray,gv=Ji?Ln(Ji):function(c){return Ft(c)&&ti(c)==ia};function tn(c){return null!=c&&Ef(c.length)&&!Un(c)}function Vt(c){return Ft(c)&&tn(c)}var As=Ss||jf,mv=Pr?Ln(Pr):function(c){return Ft(c)&&ti(c)==ol};function cs(c){if(!Ft(c))return!1;var u=ti(c);return u==ta||"[object DOMException]"==u||"string"==typeof c.message&&"string"==typeof c.name&&!Iu(c)}function Un(c){if(!$t(c))return!1;var u=ti(c);return u==xc||u==Cg||"[object AsyncFunction]"==u||"[object Proxy]"==u}function Mu(c){return"number"==typeof c&&c==Ie(c)}function Ef(c){return"number"==typeof c&&c>-1&&c%1==0&&c<=Cr}function $t(c){var u=typeof c;return null!=c&&("object"==u||"function"==u)}function Ft(c){return null!=c&&"object"==typeof c}var ZE=ri?Ln(ri):function(c){return Ft(c)&&yi(c)==Jn};function tw(c){return"number"==typeof c||Ft(c)&&ti(c)==al}function Iu(c){if(!Ft(c)||ti(c)!=Nn)return!1;var u=we(c);if(null===u)return!0;var d=Be.call(u,"constructor")&&u.constructor;return"function"==typeof d&&d instanceof d&&uo.call(d)==yn}var bv=Ar?Ln(Ar):function(c){return Ft(c)&&ti(c)==Oc},iw=Lt?Ln(Lt):function(c){return Ft(c)&&yi(c)==Ki};function Cf(c){return"string"==typeof c||!fe(c)&&Ft(c)&&ti(c)==ro}function jn(c){return"symbol"==typeof c||Ft(c)&&ti(c)==Nc}var Ul=ra?Ln(ra):function(c){return Ft(c)&&Ef(c.length)&&!!Ct[ti(c)]},Lr=qd(bo),kf=qd(function(c,u){return c<=u});function Sv(c){if(!c)return[];if(tn(c))return Cf(c)?kt(c):fi(c);if(ua&&c[ua])return function(R){for(var F,B=[];!(F=R.next()).done;)B.push(F.value);return B}(c[ua]());var u=yi(c);return(u==Jn?Gg:u==Ki?gd:xa)(c)}function Ts(c){return c?(c=nn(c))===so||c===-so?17976931348623157e292*(c<0?-1:1):c==c?c:0:0===c?c:0}function Ie(c){var u=Ts(c),d=u%1;return u==u?d?u-d:u:0}function Df(c){return c?sr(Ie(c),0,ys):0}function nn(c){if("number"==typeof c)return c;if(jn(c))return NaN;if($t(c)){var u="function"==typeof c.valueOf?c.valueOf():c;c=$t(u)?u+"":u}if("string"!=typeof c)return 0===c?c:+c;c=Hg(c);var d=wI.test(c);return d||kI.test(c)?wi(c.slice(2),d?2:8):Js.test(c)?NaN:+c}function Ev(c){return li(c,qi(c))}function lt(c){return null==c?"":Hi(c)}var nw=xo(function(c,u){if(Rl(u)||tn(u))li(u,_i(u),c);else for(var d in u)Be.call(u,d)&&nu(c,d,u[d])}),sw=xo(function(c,u){li(u,qi(u),c)}),Da=xo(function(c,u,d,g){li(u,qi(u),c,g)}),rw=xo(function(c,u,d,g){li(u,_i(u),c,g)}),wv=ss(wl),aw=Ke(function(c,u){c=Dt(c);var d=-1,g=u.length,b=g>2?u[2]:M;for(b&&Pi(u[0],u[1],b)&&(g=1);++d<g;)for(var D=u[d],x=qi(D),O=-1,L=x.length;++O<L;){var U=x[O],j=c[U];(j===M||de(j,ca[U])&&!Be.call(c,U))&&(c[U]=D[U])}return c}),jl=Ke(function(c){return c.push(M,gu),ui(Tv,M,c)});function zl(c,u,d){var g=null==c?M:or(c,u);return g===M?d:g}function Ou(c,u){return null!=c&&Yd(c,u,Id)}var Nu=Cm(function(c,u,d){null!=u&&"function"!=typeof u.toString&&(u=ir.call(u)),c[u]=d},Ff(Gi)),cw=Cm(function(c,u,d){null!=u&&"function"!=typeof u.toString&&(u=ir.call(u)),Be.call(c,u)?c[u].push(d):c[u]=[d]},ve),Dv=Ke(kl);function _i(c){return tn(c)?vo(c):cm(c)}function qi(c){return tn(c)?vo(c,!0):function(c){if(!$t(c))return function(c){var u=[];if(null!=c)for(var d in Dt(c))u.push(d);return u}(c);var u=Rl(c),d=[];for(var g in c)"constructor"==g&&(u||!Be.call(c,g))||d.push(g);return d}(c)}var Av=xo(function(c,u,d){So(c,u,d)}),Tv=xo(function(c,u,d,g){So(c,u,d,g)}),hw=ss(function(c,u){var d={};if(null==c)return d;var g=!1;u=dt(u,function(D){return D=Do(D,c),g||(g=D.length>1),D}),li(c,Wd(c),d),g&&(d=$i(d,7,Pm));for(var b=u.length;b--;)gm(d,u[b]);return d}),dw=ss(function(c,u){return null==c?{}:function(c,u){return Dl(c,u,function(d,g){return Ou(c,g)})}(c,u)});function xv(c,u){if(null==c)return{};var d=dt(Wd(c),function(g){return[g]});return u=ve(u),Dl(c,d,function(g,b){return u(g,b[0])})}var fw=Dm(_i),Iv=Dm(qi);function xa(c){return null==c?[]:qg(c,_i(c))}var yw=Ea(function(c,u,d){return u=u.toLowerCase(),c+(d?xf(u):u)});function xf(c){return Lu(lt(c).toLowerCase())}function Mf(c){return(c=lt(c))&&c.replace(dS,II).replace(_S,"")}var bw=Ea(function(c,u,d){return c+(d?"-":"")+u.toLowerCase()}),Sw=Ea(function(c,u,d){return c+(d?" ":"")+u.toLowerCase()}),yO=Em("toLowerCase"),Dw=Ea(function(c,u,d){return c+(d?"_":"")+u.toLowerCase()}),Nf=Ea(function(c,u,d){return c+(d?" ":"")+Lu(u)}),Vv=Ea(function(c,u,d){return c+(d?" ":"")+u.toUpperCase()}),Lu=Em("toUpperCase");function Vf(c,u,d){return c=lt(c),(u=d?M:u)===M?function(R){return Xn.test(R)}(c)?function(R){return R.match(ul)||[]}(c):function(R){return R.match(Vc)||[]}(c):c.match(u)||[]}var $f=Ke(function(c,u){try{return ui(c,M,u)}catch(d){return cs(d)?d:new Te(d)}}),$v=ss(function(c,u){return Li(u,function(d){d=os(d),Sn(c,d,_f(c[d],c))}),c});function Ff(c){return function(){return c}}var bO=ZS(),Ma=ZS(!0);function Gi(c){return c}function Bo(c){return WS("function"==typeof c?c:$i(c,1))}var Hf=Ke(function(c,u){return function(d){return kl(d,c,u)}}),Fv=Ke(function(c,u){return function(d){return kl(c,d,u)}});function qf(c,u,d){var g=_i(u),b=va(u,g);null==d&&(!$t(u)||!b.length&&g.length)&&(d=u,u=c,c=this,b=va(u,_i(u)));var D=!($t(d)&&"chain"in d&&!d.chain),x=Un(c);return Li(b,function(O){var L=u[O];c[O]=L,x&&(c.prototype[O]=function(){var U=this.__chain__;if(D||U){var j=c(this.__wrapped__),z=j.__actions__=fi(this.__actions__);return z.push({func:L,args:arguments,thisArg:c}),j.__chain__=U,j}return L.apply(c,di([this.value()],arguments))})}),c}function Gf(){}var Ow=Hd(dt),Nw=Hd(Hc),qv=Hd(hd);function Vo(c){return Jd(c)?fl(os(c)):function(c){return function(u){return or(u,c)}}(c)}var Rw=km(),Lw=km(!0);function Vr(){return[]}function jf(){return!1}var Pt=Fd(function(c,u){return c+u},0),Wf=Gd("ceil"),EO=Fd(function(c,u){return c/u},1),cr=Gd("floor"),Wv=Fd(function(c,u){return c*u},1),zv=Gd("round"),Kv=Fd(function(c,u){return c-u},0);return C.after=function(c,u){if("function"!=typeof u)throw new vn(Ni);return c=Ie(c),function(){if(--c<1)return u.apply(this,arguments)}},C.ary=yf,C.assign=nw,C.assignIn=sw,C.assignInWith=Da,C.assignWith=rw,C.at=wv,C.before=av,C.bind=_f,C.bindAll=$v,C.bindKey=lv,C.castArray=function(){if(!arguments.length)return[];var c=arguments[0];return fe(c)?c:[c]},C.chain=Zm,C.chunk=function(c,u,d){u=(d?Pi(c,u,d):u===M)?1:oi(Ie(u),0);var g=null==c?0:c.length;if(!g||u<1)return[];for(var b=0,D=0,x=B(Ut(g/u));b<g;)x[D++]=Fn(c,b,b+=u);return x},C.compact=function(c){for(var u=-1,d=null==c?0:c.length,g=0,b=[];++u<d;){var D=c[u];D&&(b[g++]=D)}return b},C.concat=function(){var c=arguments.length;if(!c)return[];for(var u=B(c-1),d=arguments[0],g=c;g--;)u[g-1]=arguments[g];return di(fe(d)?fi(d):[d],vi(u,1))},C.cond=function(c){var u=null==c?0:c.length,d=ve();return c=u?dt(c,function(g){if("function"!=typeof g[1])throw new vn(Ni);return[d(g[0]),g[1]]}):[],Ke(function(g){for(var b=-1;++b<u;){var D=c[b];if(ui(D[0],this,g))return ui(D[1],this,g)}})},C.conforms=function(c){return function(c){var u=_i(c);return function(d){return rm(d,c,u)}}($i(c,1))},C.constant=Ff,C.countBy=tv,C.create=function(c,u){var d=nr(c);return null==u?d:sm(d,u)},C.curry=function Lo(c,u,d){var g=qn(c,8,M,M,M,M,M,u=d?M:u);return g.placeholder=Lo.placeholder,g},C.curryRight=function as(c,u,d){var g=qn(c,16,M,M,M,M,M,u=d?M:u);return g.placeholder=as.placeholder,g},C.debounce=HE,C.defaults=aw,C.defaultsDeep=jl,C.defer=aO,C.delay=cv,C.difference=of,C.differenceBy=af,C.differenceWith=lf,C.drop=function(c,u,d){var g=null==c?0:c.length;return g?Fn(c,(u=d||u===M?1:Ie(u))<0?0:u,g):[]},C.dropRight=function(c,u,d){var g=null==c?0:c.length;return g?Fn(c,0,(u=g-(u=d||u===M?1:Ie(u)))<0?0:u):[]},C.dropRightWhile=function(c,u){return c&&c.length?ba(c,ve(u,3),!0,!0):[]},C.dropWhile=function(c,u){return c&&c.length?ba(c,ve(u,3),!0):[]},C.fill=function(c,u,d,g){var b=null==c?0:c.length;return b?(d&&"number"!=typeof d&&Pi(c,u,d)&&(d=0,g=b),function(c,u,d,g){var b=c.length;for((d=Ie(d))<0&&(d=-d>b?0:b+d),(g=g===M||g>b?b:Ie(g))<0&&(g+=b),g=d>g?0:Df(g);d<g;)c[d++]=u;return c}(c,u,d,g)):[]},C.filter=function(c,u){return(fe(c)?mn:ma)(c,ve(u,3))},C.flatMap=function(c,u){return vi(vf(c,u),1)},C.flatMapDeep=function(c,u){return vi(vf(c,u),so)},C.flatMapDepth=function(c,u,d){return d=d===M?1:Ie(d),vi(vf(c,u),d)},C.flatten=Vl,C.flattenDeep=function(c){return null!=c&&c.length?vi(c,so):[]},C.flattenDepth=function(c,u){return null!=c&&c.length?vi(c,u=u===M?1:Ie(u)):[]},C.flip=function(c){return qn(c,512)},C.flow=bO,C.flowRight=Ma,C.fromPairs=function(c){for(var u=-1,d=null==c?0:c.length,g={};++u<d;){var b=c[u];g[b[0]]=b[1]}return g},C.functions=function(c){return null==c?[]:va(c,_i(c))},C.functionsIn=function(c){return null==c?[]:va(c,qi(c))},C.groupBy=nv,C.initial=function(c){return null!=c&&c.length?Fn(c,0,-1):[]},C.intersection=ku,C.intersectionBy=hf,C.intersectionWith=qm,C.invert=Nu,C.invertBy=cw,C.invokeMap=sv,C.iteratee=Bo,C.keyBy=NE,C.keys=_i,C.keysIn=qi,C.map=vf,C.mapKeys=function(c,u){var d={};return u=ve(u,3),Fi(c,function(g,b,D){Sn(d,u(g,b,D),g)}),d},C.mapValues=function(c,u){var d={};return u=ve(u,3),Fi(c,function(g,b,D){Sn(d,b,u(g,b,D))}),d},C.matches=function(c){return ii($i(c,1))},C.matchesProperty=function(c,u){return cu(c,$i(u,1))},C.memoize=Gl,C.merge=Av,C.mergeWith=Tv,C.method=Hf,C.methodOf=Fv,C.mixin=qf,C.negate=bf,C.nthArg=function(c){return c=Ie(c),Ke(function(u){return um(u,c)})},C.omit=hw,C.omitBy=function(c,u){return xv(c,bf(ve(u)))},C.once=function(c){return av(2,c)},C.orderBy=function(c,u,d,g){return null==c?[]:(fe(u)||(u=null==u?[]:[u]),fe(d=g?M:d)||(d=null==d?[]:[d]),En(c,u,d))},C.over=Ow,C.overArgs=qE,C.overEvery=Nw,C.overSome=qv,C.partial=Tu,C.partialRight=hv,C.partition=Au,C.pick=dw,C.pickBy=xv,C.property=Vo,C.propertyOf=function(c){return function(u){return null==c?M:or(c,u)}},C.pull=cE,C.pullAll=Um,C.pullAllBy=function(c,u,d){return c&&c.length&&u&&u.length?ws(c,u,ve(d,2)):c},C.pullAllWith=function(c,u,d){return c&&c.length&&u&&u.length?ws(c,u,M,d):c},C.pullAt=kn,C.range=Rw,C.rangeRight=Lw,C.rearg=GE,C.reject=function(c,u){return(fe(c)?mn:ma)(c,bf(ve(u,3)))},C.remove=function(c,u){var d=[];if(!c||!c.length)return d;var g=-1,b=[],D=c.length;for(u=ve(u,3);++g<D;){var x=c[g];u(x,g,c)&&(d.push(x),b.push(g))}return Od(c,b),d},C.rest=function(c,u){if("function"!=typeof c)throw new vn(Ni);return Ke(c,u=u===M?u:Ie(u))},C.reverse=Du,C.sampleSize=function(c,u,d){return u=(d?Pi(c,u,d):u===M)?1:Ie(u),(fe(c)?fa:wn)(c,u)},C.set=function(c,u,d){return null==c?c:wo(c,u,d)},C.setWith=function(c,u,d,g){return g="function"==typeof g?g:M,null==c?c:wo(c,u,d,g)},C.shuffle=function(c){return(fe(c)?Ad:fm)(c)},C.slice=function(c,u,d){var g=null==c?0:c.length;return g?(d&&"number"!=typeof d&&Pi(c,u,d)?(u=0,d=g):(u=null==u?0:Ie(u),d=d===M?g:Ie(d)),Fn(c,u,d)):[]},C.sortBy=FE,C.sortedUniq=function(c){return c&&c.length?pm(c):[]},C.sortedUniqBy=function(c,u){return c&&c.length?pm(c,ve(u,2)):[]},C.split=function(c,u,d){return d&&"number"!=typeof d&&Pi(c,u,d)&&(u=d=M),(d=d===M?ys:d>>>0)?(c=lt(c))&&("string"==typeof u||null!=u&&!bv(u))&&!(u=Hi(u))&&gl(c)?Hn(kt(c),0,d):c.split(u,d):[]},C.spread=function(c,u){if("function"!=typeof c)throw new vn(Ni);return u=null==u?0:oi(Ie(u),0),Ke(function(d){var g=d[u],b=Hn(d,0,u);return g&&di(b,g),ui(c,this,b)})},C.tail=function(c){var u=null==c?0:c.length;return u?Fn(c,1,u):[]},C.take=function(c,u,d){return c&&c.length?Fn(c,0,(u=d||u===M?1:Ie(u))<0?0:u):[]},C.takeRight=function(c,u,d){var g=null==c?0:c.length;return g?Fn(c,(u=g-(u=d||u===M?1:Ie(u)))<0?0:u,g):[]},C.takeRightWhile=function(c,u){return c&&c.length?ba(c,ve(u,3),!1,!0):[]},C.takeWhile=function(c,u){return c&&c.length?ba(c,ve(u,3)):[]},C.tap=function(c,u){return u(c),c},C.throttle=function(c,u,d){var g=!0,b=!0;if("function"!=typeof c)throw new vn(Ni);return $t(d)&&(g="leading"in d?!!d.leading:g,b="trailing"in d?!!d.trailing:b),HE(c,u,{leading:g,maxWait:u,trailing:b})},C.thru=Hl,C.toArray=Sv,C.toPairs=fw,C.toPairsIn=Iv,C.toPath=function(c){return fe(c)?dt(c,os):jn(c)?[c]:fi(nf(lt(c)))},C.toPlainObject=Ev,C.transform=function(c,u,d){var g=fe(c),b=g||As(c)||Ul(c);if(u=ve(u,4),null==d){var D=c&&c.constructor;d=b?g?new D:[]:$t(c)&&Un(D)?nr(we(c)):{}}return(b?Li:Fi)(c,function(x,O,L){return u(d,x,O,L)}),d},C.unary=function(c){return yf(c,1)},C.union=Ds,C.unionBy=Fl,C.unionWith=zm,C.uniq=function(c){return c&&c.length?ns(c):[]},C.uniqBy=function(c,u){return c&&c.length?ns(c,ve(u,2)):[]},C.uniqWith=function(c,u){return u="function"==typeof u?u:M,c&&c.length?ns(c,M,u):[]},C.unset=function(c,u){return null==c||gm(c,u)},C.unzip=Qm,C.unzipWith=EE,C.update=function(c,u,d){return null==c?c:_a(c,u,Pl(d))},C.updateWith=function(c,u,d,g){return g="function"==typeof g?g:M,null==c?c:_a(c,u,Pl(d),g)},C.values=xa,C.valuesIn=function(c){return null==c?[]:qg(c,qi(c))},C.without=df,C.words=Vf,C.wrap=function(c,u){return Tu(Pl(u),c)},C.xor=ff,C.xorBy=pf,C.xorWith=iO,C.zip=nO,C.zipObject=function(c,u){return mm(c||[],u||[],nu)},C.zipObjectDeep=function(c,u){return mm(c||[],u||[],wo)},C.zipWith=CE,C.entries=fw,C.entriesIn=Iv,C.extend=sw,C.extendWith=Da,qf(C,C),C.add=Pt,C.attempt=$f,C.camelCase=yw,C.capitalize=xf,C.ceil=Wf,C.clamp=function(c,u,d){return d===M&&(d=u,u=M),d!==M&&(d=(d=nn(d))==d?d:0),u!==M&&(u=(u=nn(u))==u?u:0),sr(nn(c),u,d)},C.clone=function(c){return $i(c,4)},C.cloneDeep=function(c){return $i(c,5)},C.cloneDeepWith=function(c,u){return $i(c,5,u="function"==typeof u?u:M)},C.cloneWith=function(c,u){return $i(c,4,u="function"==typeof u?u:M)},C.conformsTo=function(c,u){return null==u||rm(c,u,_i(u))},C.deburr=Mf,C.defaultTo=function(c,u){return null==c||c!=c?u:c},C.divide=EO,C.endsWith=function(c,u,d){c=lt(c),u=Hi(u);var g=c.length,b=d=d===M?g:sr(Ie(d),0,g);return(d-=u.length)>=0&&c.slice(d,b)==u},C.eq=de,C.escape=function(c){return(c=lt(c))&&td.test(c)?c.replace(Bc,OI):c},C.escapeRegExp=function(c){return(c=lt(c))&&id.test(c)?c.replace(Ag,"\\$&"):c},C.every=function(c,u,d){var g=fe(c)?Hc:qS;return d&&Pi(c,u,d)&&(u=M),g(c,ve(u,3))},C.find=ME,C.findIndex=cf,C.findKey=function(c,u){return dl(c,ve(u,3),Fi)},C.findLast=IE,C.findLastIndex=Cu,C.findLastKey=function(c,u){return dl(c,ve(u,3),Xi)},C.floor=cr,C.forEach=ka,C.forEachRight=iv,C.forIn=function(c,u){return null==c?c:au(c,ve(u,3),qi)},C.forInRight=function(c,u){return null==c?c:Md(c,ve(u,3),qi)},C.forOwn=function(c,u){return c&&Fi(c,ve(u,3))},C.forOwnRight=function(c,u){return c&&Xi(c,ve(u,3))},C.get=zl,C.gt=q,C.gte=pv,C.has=function(c,u){return null!=c&&Yd(c,u,Cl)},C.hasIn=Ou,C.head=Hm,C.identity=Gi,C.includes=function(c,u,d,g){c=tn(c)?c:xa(c),d=d&&!g?Ie(d):0;var b=c.length;return d<0&&(d=oi(b+d,0)),Cf(c)?d<=b&&c.indexOf(u,d)>-1:!!b&&Yt(c,u,d)>-1},C.indexOf=function(c,u,d){var g=null==c?0:c.length;if(!g)return-1;var b=null==d?0:Ie(d);return b<0&&(b=oi(g+b,0)),Yt(c,u,b)},C.inRange=function(c,u,d){return u=Ts(u),d===M?(d=u,u=0):d=Ts(d),function(c,u,d){return c>=ai(u,d)&&c<oi(u,d)}(c=nn(c),u,d)},C.invoke=Dv,C.isArguments=Ps,C.isArray=fe,C.isArrayBuffer=gv,C.isArrayLike=tn,C.isArrayLikeObject=Vt,C.isBoolean=function(c){return!0===c||!1===c||Ft(c)&&ti(c)==ea},C.isBuffer=As,C.isDate=mv,C.isElement=function(c){return Ft(c)&&1===c.nodeType&&!Iu(c)},C.isEmpty=function(c){if(null==c)return!0;if(tn(c)&&(fe(c)||"string"==typeof c||"function"==typeof c.splice||As(c)||Ul(c)||Ps(c)))return!c.length;var u=yi(c);if(u==Jn||u==Ki)return!c.size;if(Rl(c))return!cm(c).length;for(var d in c)if(Be.call(c,d))return!1;return!0},C.isEqual=function(c,u){return lu(c,u)},C.isEqualWith=function(c,u,d){var g=(d="function"==typeof d?d:M)?d(c,u):M;return g===M?lu(c,u,M,d):!!g},C.isError=cs,C.isFinite=function(c){return"number"==typeof c&&Qc(c)},C.isFunction=Un,C.isInteger=Mu,C.isLength=Ef,C.isMap=ZE,C.isMatch=function(c,u){return c===u||lm(c,u,zd(u))},C.isMatchWith=function(c,u,d){return d="function"==typeof d?d:M,lm(c,u,zd(u),d)},C.isNaN=function(c){return tw(c)&&c!=+c},C.isNative=function(c){if(iE(c))throw new Te("Unsupported core-js use. Try https://npms.io/search?q=ponyfill.");return jS(c)},C.isNil=function(c){return null==c},C.isNull=function(c){return null===c},C.isNumber=tw,C.isObject=$t,C.isObjectLike=Ft,C.isPlainObject=Iu,C.isRegExp=bv,C.isSafeInteger=function(c){return Mu(c)&&c>=-Cr&&c<=Cr},C.isSet=iw,C.isString=Cf,C.isSymbol=jn,C.isTypedArray=Ul,C.isUndefined=function(c){return c===M},C.isWeakMap=function(c){return Ft(c)&&yi(c)==Rc},C.isWeakSet=function(c){return Ft(c)&&"[object WeakSet]"==ti(c)},C.join=function(c,u){return null==c?"":_d.call(c,u)},C.kebabCase=bw,C.last=Cn,C.lastIndexOf=function(c,u,d){var g=null==c?0:c.length;if(!g)return-1;var b=g;return d!==M&&(b=(b=Ie(d))<0?oi(g+b,0):ai(b,g-1)),u==u?function(R,F,B){for(var se=B+1;se--;)if(R[se]===F)return se;return se}(c,u,b):_s(c,es,b,!0)},C.lowerCase=Sw,C.lowerFirst=yO,C.lt=Lr,C.lte=kf,C.max=function(c){return c&&c.length?ru(c,Gi,Or):M},C.maxBy=function(c,u){return c&&c.length?ru(c,ve(u,2),Or):M},C.mean=function(c){return Rn(c,Gi)},C.meanBy=function(c,u){return Rn(c,ve(u,2))},C.min=function(c){return c&&c.length?ru(c,Gi,bo):M},C.minBy=function(c,u){return c&&c.length?ru(c,ve(u,2),bo):M},C.stubArray=Vr,C.stubFalse=jf,C.stubObject=function(){return{}},C.stubString=function(){return""},C.stubTrue=function(){return!0},C.multiply=Wv,C.nth=function(c,u){return c&&c.length?um(c,Ie(u)):M},C.noConflict=function(){return gt._===this&&(gt._=Wg),this},C.noop=Gf,C.now=ql,C.pad=function(c,u,d){c=lt(c);var g=(u=Ie(u))?co(c):0;if(!u||g>=u)return c;var b=(u-g)/2;return pu(vl(b),d)+c+pu(Ut(b),d)},C.padEnd=function(c,u,d){c=lt(c);var g=(u=Ie(u))?co(c):0;return u&&g<u?c+pu(u-g,d):c},C.padStart=function(c,u,d){c=lt(c);var g=(u=Ie(u))?co(c):0;return u&&g<u?pu(u-g,d)+c:c},C.parseInt=function(c,u,d){return d||null==u?u=0:u&&(u=+u),Vi(lt(c).replace(Ae,""),u||0)},C.random=function(c,u,d){if(d&&"boolean"!=typeof d&&Pi(c,u,d)&&(u=d=M),d===M&&("boolean"==typeof u?(d=u,u=M):"boolean"==typeof c&&(d=c,c=M)),c===M&&u===M?(c=0,u=1):(c=Ts(c),u===M?(u=c,c=0):u=Ts(u)),c>u){var g=c;c=u,u=g}if(d||c%1||u%1){var b=is();return ai(c+b*(u-c+Qi("1e-"+((b+"").length-1))),u)}return Nd(c,u)},C.reduce=function(c,u,d){var g=fe(c)?mt:pl,b=arguments.length<3;return g(c,ve(u,4),d,b,rr)},C.reduceRight=function(c,u,d){var g=fe(c)?wS:pl,b=arguments.length<3;return g(c,ve(u,4),d,b,xd)},C.repeat=function(c,u,d){return u=(d?Pi(c,u,d):u===M)?1:Ie(u),hm(lt(c),u)},C.replace=function(){var c=arguments,u=lt(c[0]);return c.length<3?u:u.replace(c[1],c[2])},C.result=function(c,u,d){var g=-1,b=(u=Do(u,c)).length;for(b||(b=1,c=M);++g<b;){var D=null==c?M:c[os(u[g])];D===M&&(g=b,D=d),c=Un(D)?D.call(c):D}return c},C.round=zv,C.runInContext=R,C.sample=function(c){return(fe(c)?im:dm)(c)},C.size=function(c){if(null==c)return 0;if(tn(c))return Cf(c)?co(c):c.length;var u=yi(c);return u==Jn||u==Ki?c.size:cm(c).length},C.snakeCase=Dw,C.some=function(c,u,d){var g=fe(c)?hd:YS;return d&&Pi(c,u,d)&&(u=M),g(c,ve(u,3))},C.sortedIndex=function(c,u){return uu(c,u)},C.sortedIndexBy=function(c,u,d){return Rd(c,u,ve(d,2))},C.sortedIndexOf=function(c,u){var d=null==c?0:c.length;if(d){var g=uu(c,u);if(g<d&&de(c[g],u))return g}return-1},C.sortedLastIndex=function(c,u){return uu(c,u,!0)},C.sortedLastIndexBy=function(c,u,d){return Rd(c,u,ve(d,2),!0)},C.sortedLastIndexOf=function(c,u){if(null!=c&&c.length){var g=uu(c,u,!0)-1;if(de(c[g],u))return g}return-1},C.startCase=Nf,C.startsWith=function(c,u,d){return c=lt(c),d=null==d?0:sr(Ie(d),0,c.length),u=Hi(u),c.slice(d,d+u.length)==u},C.subtract=Kv,C.sum=function(c){return c&&c.length?fd(c,Gi):0},C.sumBy=function(c,u){return c&&c.length?fd(c,ve(u,2)):0},C.template=function(c,u,d){var g=C.templateSettings;d&&Pi(c,u,d)&&(u=M),c=lt(c),u=Da({},u,g,ki);var O,L,b=Da({},u.imports,g.imports,ki),D=_i(b),x=qg(b,D),U=0,j=u.interpolate||nd,z="__p += '",X=Mt((u.escape||nd).source+"|"+j.source+"|"+(j===he?uS:nd).source+"|"+(u.evaluate||nd).source+"|$","g"),ue="//# sourceURL="+(Be.call(u,"sourceURL")?(u.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++Bg+"]")+"\n";c.replace(X,function(Ce,qe,et,sn,Ai,Wn){return et||(et=sn),z+=c.slice(U,Wn).replace(fS,NI),qe&&(O=!0,z+="' +\n__e("+qe+") +\n'"),Ai&&(L=!0,z+="';\n"+Ai+";\n__p += '"),et&&(z+="' +\n((__t = ("+et+")) == null ? '' : __t) +\n'"),U=Wn+Ce.length,Ce}),z+="';\n";var Se=Be.call(u,"variable")&&u.variable;if(Se){if(pn.test(Se))throw new Te("Invalid `variable` option passed into `_.template`")}else z="with (obj) {\n"+z+"\n}\n";z=(L?z.replace(rS,""):z).replace(oS,"$1").replace(aS,"$1;"),z="function("+(Se||"obj")+") {\n"+(Se?"":"obj || (obj = {});\n")+"var __t, __p = ''"+(O?", __e = _.escape":"")+(L?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+z+"return __p\n}";var He=$f(function(){return at(D,ue+"return "+z).apply(M,x)});if(He.source=z,cs(He))throw He;return He},C.times=function(c,u){if((c=Ie(c))<1||c>Cr)return[];var d=ys,g=ai(c,ys);u=ve(u),c-=ys;for(var b=Fg(g,u);++d<c;)u(d);return b},C.toFinite=Ts,C.toInteger=Ie,C.toLength=Df,C.toLower=function(c){return lt(c).toLowerCase()},C.toNumber=nn,C.toSafeInteger=function(c){return c?sr(Ie(c),-Cr,Cr):0===c?c:0},C.toString=lt,C.toUpper=function(c){return lt(c).toUpperCase()},C.trim=function(c,u,d){if((c=lt(c))&&(d||u===M))return Hg(c);if(!c||!(u=Hi(u)))return c;var g=kt(c),b=kt(u);return Hn(g,DS(g,b),PS(g,b)+1).join("")},C.trimEnd=function(c,u,d){if((c=lt(c))&&(d||u===M))return c.slice(0,md(c)+1);if(!c||!(u=Hi(u)))return c;var g=kt(c);return Hn(g,0,PS(g,kt(u))+1).join("")},C.trimStart=function(c,u,d){if((c=lt(c))&&(d||u===M))return c.replace(Ae,"");if(!c||!(u=Hi(u)))return c;var g=kt(c);return Hn(g,DS(g,kt(u))).join("")},C.truncate=function(c,u){var d=30,g="...";if($t(u)){var b="separator"in u?u.separator:b;d="length"in u?Ie(u.length):d,g="omission"in u?Hi(u.omission):g}var D=(c=lt(c)).length;if(gl(c)){var x=kt(c);D=x.length}if(d>=D)return c;var O=d-co(g);if(O<1)return g;var L=x?Hn(x,0,O).join(""):c.slice(0,O);if(b===M)return L+g;if(x&&(O+=L.length-O),bv(b)){if(c.slice(O).search(b)){var U,j=L;for(b.global||(b=Mt(b.source,lt(hS.exec(b))+"g")),b.lastIndex=0;U=b.exec(j);)var z=U.index;L=L.slice(0,z===M?O:z)}}else if(c.indexOf(Hi(b),O)!=O){var X=L.lastIndexOf(b);X>-1&&(L=L.slice(0,X))}return L+g},C.unescape=function(c){return(c=lt(c))&&Ve.test(c)?c.replace(st,AS):c},C.uniqueId=function(c){var u=++MS;return lt(c)+u},C.upperCase=Vv,C.upperFirst=Lu,C.each=ka,C.eachRight=iv,C.first=Hm,qf(C,function(){var c={};return Fi(C,function(u,d){Be.call(C.prototype,d)||(c[d]=u)}),c}(),{chain:!1}),C.VERSION="4.17.21",Li(["bind","bindKey","curry","curryRight","partial","partialRight"],function(c){C[c].placeholder=C}),Li(["drop","take"],function(c,u){be.prototype[c]=function(d){d=d===M?1:oi(Ie(d),0);var g=this.__filtered__&&!u?new be(this):this.clone();return g.__filtered__?g.__takeCount__=ai(d,g.__takeCount__):g.__views__.push({size:ai(d,ys),type:c+(g.__dir__<0?"Right":"")}),g},be.prototype[c+"Right"]=function(d){return this.reverse()[c](d).reverse()}}),Li(["filter","map","takeWhile"],function(c,u){var d=u+1,g=1==d||3==d;be.prototype[c]=function(b){var D=this.clone();return D.__iteratees__.push({iteratee:ve(b,3),type:d}),D.__filtered__=D.__filtered__||g,D}}),Li(["head","last"],function(c,u){var d="take"+(u?"Right":"");be.prototype[c]=function(){return this[d](1).value()[0]}}),Li(["initial","tail"],function(c,u){var d="drop"+(u?"":"Right");be.prototype[c]=function(){return this.__filtered__?new be(this):this[d](1)}}),be.prototype.compact=function(){return this.filter(Gi)},be.prototype.find=function(c){return this.filter(c).head()},be.prototype.findLast=function(c){return this.reverse().find(c)},be.prototype.invokeMap=Ke(function(c,u){return"function"==typeof c?new be(this):this.map(function(d){return kl(d,c,u)})}),be.prototype.reject=function(c){return this.filter(bf(ve(c)))},be.prototype.slice=function(c,u){c=Ie(c);var d=this;return d.__filtered__&&(c>0||u<0)?new be(d):(c<0?d=d.takeRight(-c):c&&(d=d.drop(c)),u!==M&&(d=(u=Ie(u))<0?d.dropRight(-u):d.take(u-c)),d)},be.prototype.takeRightWhile=function(c){return this.reverse().takeWhile(c).reverse()},be.prototype.toArray=function(){return this.take(ys)},Fi(be.prototype,function(c,u){var d=/^(?:filter|find|map|reject)|While$/.test(u),g=/^(?:head|last)$/.test(u),b=C[g?"take"+("last"==u?"Right":""):u],D=g||/^find/.test(u);!b||(C.prototype[u]=function(){var x=this.__wrapped__,O=g?[1]:arguments,L=x instanceof be,U=O[0],j=L||fe(x),z=function(qe){var et=b.apply(C,di([qe],O));return g&&X?et[0]:et};j&&d&&"function"==typeof U&&1!=U.length&&(L=j=!1);var X=this.__chain__,ue=!!this.__actions__.length,Se=D&&!X,He=L&&!ue;if(!D&&j){x=He?x:new be(this);var Ce=c.apply(x,O);return Ce.__actions__.push({func:Hl,args:[z],thisArg:M}),new Vn(Ce,X)}return Se&&He?c.apply(this,O):(Ce=this.thru(z),Se?g?Ce.value()[0]:Ce.value():Ce)})}),Li(["pop","push","shift","sort","splice","unshift"],function(c){var u=Uc[c],d=/^(?:push|sort|unshift)$/.test(c)?"tap":"thru",g=/^(?:pop|shift)$/.test(c);C.prototype[c]=function(){var b=arguments;if(g&&!this.__chain__){var D=this.value();return u.apply(fe(D)?D:[],b)}return this[d](function(x){return u.apply(fe(x)?x:[],b)})}}),Fi(be.prototype,function(c,u){var d=C[u];if(d){var g=d.name+"";Be.call(xr,g)||(xr[g]=[]),xr[g].push({name:u,func:d})}}),xr[xl(M,2).name]=[{name:"wrapper",func:M}],be.prototype.clone=function(){var c=new be(this.__wrapped__);return c.__actions__=fi(this.__actions__),c.__dir__=this.__dir__,c.__filtered__=this.__filtered__,c.__iteratees__=fi(this.__iteratees__),c.__takeCount__=this.__takeCount__,c.__views__=fi(this.__views__),c},be.prototype.reverse=function(){if(this.__filtered__){var c=new be(this);c.__dir__=-1,c.__filtered__=!0}else(c=this.clone()).__dir__*=-1;return c},be.prototype.value=function(){var c=this.__wrapped__.value(),u=this.__dir__,d=fe(c),g=u<0,b=d?c.length:0,D=function(c,u,d){for(var g=-1,b=d.length;++g<b;){var D=d[g],x=D.size;switch(D.type){case"drop":c+=x;break;case"dropRight":u-=x;break;case"take":u=ai(u,c+x);break;case"takeRight":c=oi(c,u-x)}}return{start:c,end:u}}(0,b,this.__views__),x=D.start,O=D.end,L=O-x,U=g?O:x-1,j=this.__iteratees__,z=j.length,X=0,ue=ai(L,this.__takeCount__);if(!d||!g&&b==L&&ue==L)return ko(c,this.__actions__);var Se=[];e:for(;L--&&X<ue;){for(var He=-1,Ce=c[U+=u];++He<z;){var qe=j[He],sn=qe.type,Ai=(0,qe.iteratee)(Ce);if(2==sn)Ce=Ai;else if(!Ai){if(1==sn)continue e;break e}}Se[X++]=Ce}return Se},C.prototype.at=Pu,C.prototype.chain=function(){return Zm(this)},C.prototype.commit=function(){return new Vn(this.value(),this.__chain__)},C.prototype.next=function(){this.__values__===M&&(this.__values__=Sv(this.value()));var c=this.__index__>=this.__values__.length;return{done:c,value:c?M:this.__values__[this.__index__++]}},C.prototype.plant=function(c){for(var u,d=this;d instanceof Xc;){var g=rf(d);g.__index__=0,g.__values__=M,u?b.__wrapped__=g:u=g;var b=g;d=d.__wrapped__}return b.__wrapped__=c,u},C.prototype.reverse=function(){var c=this.__wrapped__;if(c instanceof be){var u=c;return this.__actions__.length&&(u=new be(this)),(u=u.reverse()).__actions__.push({func:Hl,args:[Du],thisArg:M}),new Vn(u,this.__chain__)}return this.thru(Du)},C.prototype.toJSON=C.prototype.valueOf=C.prototype.value=function(){return ko(this.__wrapped__,this.__actions__)},C.prototype.first=C.prototype.head,ua&&(C.prototype[ua]=function(){return this}),C}();gt._=la,(Qn=function(){return la}.call(At,zt,At,Wt))!==M&&(Wt.exports=Qn)}.call(this)},15:(Wt,At,zt)=>{"use strict";var Qn={};function M(n){return"function"==typeof n}zt.r(Qn),zt.d(Qn,{afterMain:()=>XB,afterRead:()=>QB,afterWrite:()=>iV,applyStyles:()=>Ax,arrow:()=>uV,auto:()=>Z_,basePlacements:()=>Eh,beforeMain:()=>JB,beforeRead:()=>KB,beforeWrite:()=>eV,bottom:()=>us,clippingParents:()=>WB,computeStyles:()=>Ix,createPopper:()=>$x,createPopperBase:()=>e9,createPopperLite:()=>n9,detectOverflow:()=>Ah,end:()=>wh,eventListeners:()=>Ox,flip:()=>mV,hide:()=>_V,left:()=>In,main:()=>ZB,modifierPhases:()=>nV,offset:()=>bV,placements:()=>Dx,popper:()=>Ch,popperGenerator:()=>nb,popperOffsets:()=>Vx,preventOverflow:()=>SV,read:()=>YB,reference:()=>zB,right:()=>hs,start:()=>fc,top:()=>Mn,variationPlacements:()=>kx,viewport:()=>Cx,write:()=>tV});let jh=!1;const dn={Promise:void 0,set useDeprecatedSynchronousErrorHandling(n){if(n){const t=new Error;console.warn("DEPRECATED! RxJS was set to use deprecated synchronous error handling behavior by code at: \n"+t.stack)}else jh&&console.log("RxJS: Back to a better error behavior. Thank you. <3");jh=n},get useDeprecatedSynchronousErrorHandling(){return jh}};function Jo(n){setTimeout(()=>{throw n},0)}const Ni={closed:!0,next(n){},error(n){if(dn.useDeprecatedSynchronousErrorHandling)throw n;Jo(n)},complete(){}},tl=Array.isArray||(n=>n&&"number"==typeof n.length);function il(n){return null!==n&&"object"==typeof n}const Xr=(()=>{function n(t){return Error.call(this),this.message=t?`${t.length} errors occurred during unsubscription:\n${t.map((e,i)=>`${i+1}) ${e.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=t,this}return n.prototype=Object.create(Error.prototype),n})();class Ze{constructor(t){this.closed=!1,this._parentOrParents=null,this._subscriptions=null,t&&(this._ctorUnsubscribe=!0,this._unsubscribe=t)}unsubscribe(){let t;if(this.closed)return;let{_parentOrParents:e,_ctorUnsubscribe:i,_unsubscribe:s,_subscriptions:r}=this;if(this.closed=!0,this._parentOrParents=null,this._subscriptions=null,e instanceof Ze)e.remove(this);else if(null!==e)for(let o=0;o<e.length;++o)e[o].remove(this);if(M(s)){i&&(this._unsubscribe=void 0);try{s.call(this)}catch(o){t=o instanceof Xr?Wh(o.errors):[o]}}if(tl(r)){let o=-1,a=r.length;for(;++o<a;){const l=r[o];if(il(l))try{l.unsubscribe()}catch(h){t=t||[],h instanceof Xr?t=t.concat(Wh(h.errors)):t.push(h)}}}if(t)throw new Xr(t)}add(t){let e=t;if(!t)return Ze.EMPTY;switch(typeof t){case"function":e=new Ze(t);case"object":if(e===this||e.closed||"function"!=typeof e.unsubscribe)return e;if(this.closed)return e.unsubscribe(),e;if(!(e instanceof Ze)){const r=e;e=new Ze,e._subscriptions=[r]}break;default:throw new Error("unrecognized teardown "+t+" added to Subscription.")}let{_parentOrParents:i}=e;if(null===i)e._parentOrParents=this;else if(i instanceof Ze){if(i===this)return e;e._parentOrParents=[i,this]}else{if(-1!==i.indexOf(this))return e;i.push(this)}const s=this._subscriptions;return null===s?this._subscriptions=[e]:s.push(e),e}remove(t){const e=this._subscriptions;if(e){const i=e.indexOf(t);-1!==i&&e.splice(i,1)}}}var n;function Wh(n){return n.reduce((t,e)=>t.concat(e instanceof Xr?e.errors:e),[])}Ze.EMPTY=((n=new Ze).closed=!0,n);const Ys="function"==typeof Symbol?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random();class xt extends Ze{constructor(t,e,i){switch(super(),this.syncErrorValue=null,this.syncErrorThrown=!1,this.syncErrorThrowable=!1,this.isStopped=!1,arguments.length){case 0:this.destination=Ni;break;case 1:if(!t){this.destination=Ni;break}if("object"==typeof t){t instanceof xt?(this.syncErrorThrowable=t.syncErrorThrowable,this.destination=t,t.add(this)):(this.syncErrorThrowable=!0,this.destination=new fn(this,t));break}default:this.syncErrorThrowable=!0,this.destination=new fn(this,t,e,i)}}[Ys](){return this}static create(t,e,i){const s=new xt(t,e,i);return s.syncErrorThrowable=!1,s}next(t){this.isStopped||this._next(t)}error(t){this.isStopped||(this.isStopped=!0,this._error(t))}complete(){this.isStopped||(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe())}_next(t){this.destination.next(t)}_error(t){this.destination.error(t),this.unsubscribe()}_complete(){this.destination.complete(),this.unsubscribe()}_unsubscribeAndRecycle(){const{_parentOrParents:t}=this;return this._parentOrParents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parentOrParents=t,this}}class fn extends xt{constructor(t,e,i,s){super(),this._parentSubscriber=t;let r,o=this;M(e)?r=e:e&&(r=e.next,i=e.error,s=e.complete,e!==Ni&&(o=Object.create(e),M(o.unsubscribe)&&this.add(o.unsubscribe.bind(o)),o.unsubscribe=this.unsubscribe.bind(this))),this._context=o,this._next=r,this._error=i,this._complete=s}next(t){if(!this.isStopped&&this._next){const{_parentSubscriber:e}=this;dn.useDeprecatedSynchronousErrorHandling&&e.syncErrorThrowable?this.__tryOrSetError(e,this._next,t)&&this.unsubscribe():this.__tryOrUnsub(this._next,t)}}error(t){if(!this.isStopped){const{_parentSubscriber:e}=this,{useDeprecatedSynchronousErrorHandling:i}=dn;if(this._error)i&&e.syncErrorThrowable?(this.__tryOrSetError(e,this._error,t),this.unsubscribe()):(this.__tryOrUnsub(this._error,t),this.unsubscribe());else if(e.syncErrorThrowable)i?(e.syncErrorValue=t,e.syncErrorThrown=!0):Jo(t),this.unsubscribe();else{if(this.unsubscribe(),i)throw t;Jo(t)}}}complete(){if(!this.isStopped){const{_parentSubscriber:t}=this;if(this._complete){const e=()=>this._complete.call(this._context);dn.useDeprecatedSynchronousErrorHandling&&t.syncErrorThrowable?(this.__tryOrSetError(t,e),this.unsubscribe()):(this.__tryOrUnsub(e),this.unsubscribe())}else this.unsubscribe()}}__tryOrUnsub(t,e){try{t.call(this._context,e)}catch(i){if(this.unsubscribe(),dn.useDeprecatedSynchronousErrorHandling)throw i;Jo(i)}}__tryOrSetError(t,e,i){if(!dn.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{e.call(this._context,i)}catch(s){return dn.useDeprecatedSynchronousErrorHandling?(t.syncErrorValue=s,t.syncErrorThrown=!0,!0):(Jo(s),!0)}return!1}_unsubscribe(){const{_parentSubscriber:t}=this;this._context=null,this._parentSubscriber=null,t.unsubscribe()}}const zi="function"==typeof Symbol&&Symbol.observable||"@@observable";function to(n){return n}let ze=(()=>{class n{constructor(e){this._isScalar=!1,e&&(this._subscribe=e)}lift(e){const i=new n;return i.source=this,i.operator=e,i}subscribe(e,i,s){const{operator:r}=this,o=function(n,t,e){if(n){if(n instanceof xt)return n;if(n[Ys])return n[Ys]()}return n||t||e?new xt(n,t,e):new xt(Ni)}(e,i,s);if(o.add(r?r.call(o,this.source):this.source||dn.useDeprecatedSynchronousErrorHandling&&!o.syncErrorThrowable?this._subscribe(o):this._trySubscribe(o)),dn.useDeprecatedSynchronousErrorHandling&&o.syncErrorThrowable&&(o.syncErrorThrowable=!1,o.syncErrorThrown))throw o.syncErrorValue;return o}_trySubscribe(e){try{return this._subscribe(e)}catch(i){dn.useDeprecatedSynchronousErrorHandling&&(e.syncErrorThrown=!0,e.syncErrorValue=i),function(n){for(;n;){const{closed:t,destination:e,isStopped:i}=n;if(t||i)return!1;n=e&&e instanceof xt?e:null}return!0}(e)?e.error(i):console.warn(i)}}forEach(e,i){return new(i=Zo(i))((s,r)=>{let o;o=this.subscribe(a=>{try{e(a)}catch(l){r(l),o&&o.unsubscribe()}},r,s)})}_subscribe(e){const{source:i}=this;return i&&i.subscribe(e)}[zi](){return this}pipe(...e){return 0===e.length?this:function(n){return 0===n.length?to:1===n.length?n[0]:function(e){return n.reduce((i,s)=>s(i),e)}}(e)(this)}toPromise(e){return new(e=Zo(e))((i,s)=>{let r;this.subscribe(o=>r=o,o=>s(o),()=>i(r))})}}return n.create=t=>new n(t),n})();function Zo(n){if(n||(n=dn.Promise||Promise),!n)throw new Error("no Promise impl found");return n}const no=(()=>{function n(){return Error.call(this),this.message="object unsubscribed",this.name="ObjectUnsubscribedError",this}return n.prototype=Object.create(Error.prototype),n})();class bg extends Ze{constructor(t,e){super(),this.subject=t,this.subscriber=e,this.closed=!1}unsubscribe(){if(this.closed)return;this.closed=!0;const t=this.subject,e=t.observers;if(this.subject=null,!e||0===e.length||t.isStopped||t.closed)return;const i=e.indexOf(this.subscriber);-1!==i&&e.splice(i,1)}}class Sg extends xt{constructor(t){super(t),this.destination=t}}let Qe=(()=>{class n extends ze{constructor(){super(),this.observers=[],this.closed=!1,this.isStopped=!1,this.hasError=!1,this.thrownError=null}[Ys](){return new Sg(this)}lift(e){const i=new zh(this,this);return i.operator=e,i}next(e){if(this.closed)throw new no;if(!this.isStopped){const{observers:i}=this,s=i.length,r=i.slice();for(let o=0;o<s;o++)r[o].next(e)}}error(e){if(this.closed)throw new no;this.hasError=!0,this.thrownError=e,this.isStopped=!0;const{observers:i}=this,s=i.length,r=i.slice();for(let o=0;o<s;o++)r[o].error(e);this.observers.length=0}complete(){if(this.closed)throw new no;this.isStopped=!0;const{observers:e}=this,i=e.length,s=e.slice();for(let r=0;r<i;r++)s[r].complete();this.observers.length=0}unsubscribe(){this.isStopped=!0,this.closed=!0,this.observers=null}_trySubscribe(e){if(this.closed)throw new no;return super._trySubscribe(e)}_subscribe(e){if(this.closed)throw new no;return this.hasError?(e.error(this.thrownError),Ze.EMPTY):this.isStopped?(e.complete(),Ze.EMPTY):(this.observers.push(e),new bg(this,e))}asObservable(){const e=new ze;return e.source=this,e}}return n.create=(t,e)=>new zh(t,e),n})();class zh extends Qe{constructor(t,e){super(),this.destination=t,this.source=e}next(t){const{destination:e}=this;e&&e.next&&e.next(t)}error(t){const{destination:e}=this;e&&e.error&&this.destination.error(t)}complete(){const{destination:t}=this;t&&t.complete&&this.destination.complete()}_subscribe(t){const{source:e}=this;return e?this.source.subscribe(t):Ze.EMPTY}}function sl(n){return n&&"function"==typeof n.schedule}function vs(n,t){return function(i){if("function"!=typeof n)throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return i.lift(new so(n,t))}}class so{constructor(t,e){this.project=t,this.thisArg=e}call(t,e){return e.subscribe(new Cr(t,this.project,this.thisArg))}}class Cr extends xt{constructor(t,e,i){super(t),this.project=e,this.count=0,this.thisArg=i||this}_next(t){let e;try{e=this.project.call(this.thisArg,t,this.count++)}catch(i){return void this.destination.error(i)}this.destination.next(e)}}const Eg=n=>t=>{for(let e=0,i=n.length;e<i&&!t.closed;e++)t.next(n[e]);t.complete()},Tc="function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator",rl=n=>n&&"number"==typeof n.length&&"function"!=typeof n;function wg(n){return!!n&&"function"!=typeof n.subscribe&&"function"==typeof n.then}const ea=n=>{if(n&&"function"==typeof n[zi])return(n=>t=>{const e=n[zi]();if("function"!=typeof e.subscribe)throw new TypeError("Provided object does not correctly implement Symbol.observable");return e.subscribe(t)})(n);if(rl(n))return Eg(n);if(wg(n))return(n=>t=>(n.then(e=>{t.closed||(t.next(e),t.complete())},e=>t.error(e)).then(null,Jo),t))(n);if(n&&"function"==typeof n[Tc])return(n=>t=>{const e=n[Tc]();for(;;){let i;try{i=e.next()}catch(s){return t.error(s),t}if(i.done){t.complete();break}if(t.next(i.value),t.closed)break}return"function"==typeof e.return&&t.add(()=>{e.return&&e.return()}),t})(n);{const e=`You provided ${il(n)?"an invalid object":`'${n}'`} where a stream was expected. You can provide an Observable, Promise, Array, or Iterable.`;throw new TypeError(e)}};function ta(n,t){return new ze(e=>{const i=new Ze;let s=0;return i.add(t.schedule(function(){s!==n.length?(e.next(n[s++]),e.closed||i.add(this.schedule())):e.complete()})),i})}function Mc(n,t){return t?function(n,t){if(null!=n){if(function(n){return n&&"function"==typeof n[zi]}(n))return function(n,t){return new ze(e=>{const i=new Ze;return i.add(t.schedule(()=>{const s=n[zi]();i.add(s.subscribe({next(r){i.add(t.schedule(()=>e.next(r)))},error(r){i.add(t.schedule(()=>e.error(r)))},complete(){i.add(t.schedule(()=>e.complete()))}}))})),i})}(n,t);if(wg(n))return function(n,t){return new ze(e=>{const i=new Ze;return i.add(t.schedule(()=>n.then(s=>{i.add(t.schedule(()=>{e.next(s),i.add(t.schedule(()=>e.complete()))}))},s=>{i.add(t.schedule(()=>e.error(s)))}))),i})}(n,t);if(rl(n))return ta(n,t);if(function(n){return n&&"function"==typeof n[Tc]}(n)||"string"==typeof n)return function(n,t){if(!n)throw new Error("Iterable cannot be null");return new ze(e=>{const i=new Ze;let s;return i.add(()=>{s&&"function"==typeof s.return&&s.return()}),i.add(t.schedule(()=>{s=n[Tc](),i.add(t.schedule(function(){if(e.closed)return;let r,o;try{const a=s.next();r=a.value,o=a.done}catch(a){return void e.error(a)}o?e.complete():(e.next(r),this.schedule())}))})),i})}(n,t)}throw new TypeError((null!==n&&typeof n||n)+" is not observable")}(n,t):n instanceof ze?n:new ze(ea(n))}class Nn extends xt{constructor(t){super(),this.parent=t}_next(t){this.parent.notifyNext(t)}_error(t){this.parent.notifyError(t),this.unsubscribe()}_complete(){this.parent.notifyComplete(),this.unsubscribe()}}class Ic extends xt{notifyNext(t){this.destination.next(t)}notifyError(t){this.destination.error(t)}notifyComplete(){this.destination.complete()}}function Ki(n,t){if(t.closed)return;if(n instanceof ze)return n.subscribe(t);let e;try{e=ea(n)(t)}catch(i){t.error(i)}return e}function ro(n,t,e=Number.POSITIVE_INFINITY){return"function"==typeof t?i=>i.pipe(ro((s,r)=>Mc(n(s,r)).pipe(vs((o,a)=>t(s,o,r,a))),e)):("number"==typeof t&&(e=t),i=>i.lift(new Nc(n,e)))}class Nc{constructor(t,e=Number.POSITIVE_INFINITY){this.project=t,this.concurrent=e}call(t,e){return e.subscribe(new sS(t,this.project,this.concurrent))}}class sS extends Ic{constructor(t,e,i=Number.POSITIVE_INFINITY){super(t),this.project=e,this.concurrent=i,this.hasCompleted=!1,this.buffer=[],this.active=0,this.index=0}_next(t){this.active<this.concurrent?this._tryNext(t):this.buffer.push(t)}_tryNext(t){let e;const i=this.index++;try{e=this.project(t,i)}catch(s){return void this.destination.error(s)}this.active++,this._innerSub(e)}_innerSub(t){const e=new Nn(this),i=this.destination;i.add(e);const s=Ki(t,e);s!==e&&i.add(s)}_complete(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&this.destination.complete(),this.unsubscribe()}notifyNext(t){this.destination.next(t)}notifyComplete(){const t=this.buffer;this.active--,t.length>0?this._next(t.shift()):0===this.active&&this.hasCompleted&&this.destination.complete()}}function kg(n=Number.POSITIVE_INFINITY){return ro(to,n)}function ia(n,t){return t?ta(n,t):new ze(Eg(n))}function kr(...n){let t=Number.POSITIVE_INFINITY,e=null,i=n[n.length-1];return sl(i)?(e=n.pop(),n.length>1&&"number"==typeof n[n.length-1]&&(t=n.pop())):"number"==typeof i&&(t=n.pop()),null===e&&1===n.length&&n[0]instanceof ze?n[0]:kg(t)(ia(n,e))}function Lc(){return function(t){return t.lift(new Kh(t))}}class Kh{constructor(t){this.connectable=t}call(t,e){const{connectable:i}=this;i._refCount++;const s=new Yh(t,i),r=e.subscribe(s);return s.closed||(s.connection=i.connect()),r}}class Yh extends xt{constructor(t,e){super(t),this.connectable=e}_unsubscribe(){const{connectable:t}=this;if(!t)return void(this.connection=null);this.connectable=null;const e=t._refCount;if(e<=0)return void(this.connection=null);if(t._refCount=e-1,e>1)return void(this.connection=null);const{connection:i}=this,s=t._connection;this.connection=null,s&&(!i||s===i)&&s.unsubscribe()}}class Qh extends ze{constructor(t,e){super(),this.source=t,this.subjectFactory=e,this._refCount=0,this._isComplete=!1}_subscribe(t){return this.getSubject().subscribe(t)}getSubject(){const t=this._subject;return(!t||t.isStopped)&&(this._subject=this.subjectFactory()),this._subject}connect(){let t=this._connection;return t||(this._isComplete=!1,t=this._connection=new Ze,t.add(this.source.subscribe(new Zh(this.getSubject(),this))),t.closed&&(this._connection=null,t=Ze.EMPTY)),t}refCount(){return Lc()(this)}}const Jh=(()=>{const n=Qh.prototype;return{operator:{value:null},_refCount:{value:0,writable:!0},_subject:{value:null,writable:!0},_connection:{value:null,writable:!0},_subscribe:{value:n._subscribe},_isComplete:{value:n._isComplete,writable:!0},getSubject:{value:n.getSubject},connect:{value:n.connect},refCount:{value:n.refCount}}})();class Zh extends Sg{constructor(t,e){super(t),this.connectable=e}_error(t){this._unsubscribe(),super._error(t)}_complete(){this.connectable._isComplete=!0,this._unsubscribe(),super._complete()}_unsubscribe(){const t=this.connectable;if(t){this.connectable=null;const e=t._connection;t._refCount=0,t._subject=null,t._connection=null,e&&e.unsubscribe()}}}function oS(){return new Qe}function st(n){for(let t in n)if(n[t]===st)return t;throw Error("Could not find renamed property on target object.")}function Bc(n,t){for(const e in t)t.hasOwnProperty(e)&&!n.hasOwnProperty(e)&&(n[e]=t[e])}function Ve(n){if("string"==typeof n)return n;if(Array.isArray(n))return"["+n.map(Ve).join(", ")+"]";if(null==n)return""+n;if(n.overriddenName)return`${n.overriddenName}`;if(n.name)return`${n.name}`;const t=n.toString();if(null==t)return""+t;const e=t.indexOf("\n");return-1===e?t:t.substring(0,e)}function td(n,t){return null==n||""===n?null===t?"":t:null==t||""===t?n:n+" "+t}const lS=st({__forward_ref__:st});function _t(n){return n.__forward_ref__=_t,n.toString=function(){return Ve(this())},n}function he(n){return Pg(n)?n():n}function Pg(n){return"function"==typeof n&&n.hasOwnProperty(lS)&&n.__forward_ref__===_t}class Dr extends Error{constructor(t,e){super(function(n,t){return`${n?`NG0${n}: `:""}${t}`}(t,e)),this.code=t}}function Ae(n){return"string"==typeof n?n:null==n?"":String(n)}function Ri(n){return"function"==typeof n?n.name||n.toString():"object"==typeof n&&null!=n&&"function"==typeof n.type?n.type.name||n.type.toString():Ae(n)}function Vc(n,t){const e=t?` in ${t}`:"";throw new Dr("201",`No provider for ${Ri(n)} found${e}`)}function gn(n,t){null==n&&function(n,t,e,i){throw new Error(`ASSERTION ERROR: ${n}`+(null==i?"":` [Expected=> ${e} ${i} ${t} <=Actual]`))}(t,n,null,"!=")}function le(n){return{token:n.token,providedIn:n.providedIn||null,factory:n.factory,value:void 0}}function Gt(n){return{providers:n.providers||[],imports:n.imports||[]}}function Zs(n){return Tg(n,na)||Tg(n,ad)}function Tg(n,t){return n.hasOwnProperty(t)?n[t]:null}function rd(n){return n&&(n.hasOwnProperty(od)||n.hasOwnProperty($c))?n[od]:null}const na=st({\u0275prov:st}),od=st({\u0275inj:st}),ad=st({ngInjectableDef:st}),$c=st({ngInjectorDef:st});var me=(()=>((me=me||{})[me.Default=0]="Default",me[me.Host=1]="Host",me[me.Self=2]="Self",me[me.SkipSelf=4]="SkipSelf",me[me.Optional=8]="Optional",me))();let ld;function Xs(n){const t=ld;return ld=n,t}function Fc(n,t,e){const i=Zs(n);return i&&"root"==i.providedIn?void 0===i.value?i.value=i.factory():i.value:e&me.Optional?null:void 0!==t?t:void Vc(Ve(n),"Injector")}function er(n){return{toString:n}.toString()}var Yi=(()=>((Yi=Yi||{})[Yi.OnPush=0]="OnPush",Yi[Yi.Default=1]="Default",Yi))(),Kt=(()=>((Kt=Kt||{})[Kt.Emulated=0]="Emulated",Kt[Kt.None=2]="None",Kt[Kt.ShadowDom=3]="ShadowDom",Kt))();const Ng="undefined"!=typeof globalThis&&globalThis,mS="undefined"!=typeof window&&window,Rg="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,ot=Ng||"undefined"!=typeof global&&global||mS||Rg,sa={},pt=[],cl=st({\u0275cmp:st}),cd=st({\u0275dir:st}),ud=st({\u0275pipe:st}),Lg=st({\u0275mod:st}),_S=st({\u0275loc:st}),Zn=st({\u0275fac:st}),ul=st({__NG_ELEMENT_ID__:st});let bS=0;function Xn(n){return er(()=>{const e={},i={type:n.type,providersResolver:null,decls:n.decls,vars:n.vars,factory:null,template:n.template||null,consts:n.consts||null,ngContentSelectors:n.ngContentSelectors,hostBindings:n.hostBindings||null,hostVars:n.hostVars||0,hostAttrs:n.hostAttrs||null,contentQueries:n.contentQueries||null,declaredInputs:e,inputs:null,outputs:null,exportAs:n.exportAs||null,onPush:n.changeDetection===Yi.OnPush,directiveDefs:null,pipeDefs:null,selectors:n.selectors||pt,viewQuery:n.viewQuery||null,features:n.features||null,data:n.data||{},encapsulation:n.encapsulation||Kt.Emulated,id:"c",styles:n.styles||pt,_:null,setInput:null,schemas:n.schemas||null,tView:null},s=n.directives,r=n.features,o=n.pipes;return i.id+=bS++,i.inputs=Vg(n.inputs,e),i.outputs=Vg(n.outputs),r&&r.forEach(a=>a(i)),i.directiveDefs=s?()=>("function"==typeof s?s():s).map(Bg):null,i.pipeDefs=o?()=>("function"==typeof o?o():o).map(Ct):null,i})}function Bg(n){return wi(n)||function(n){return n[cd]||null}(n)}function Ct(n){return function(n){return n[ud]||null}(n)}const St={};function Xt(n){return er(()=>{const t={type:n.type,bootstrap:n.bootstrap||pt,declarations:n.declarations||pt,imports:n.imports||pt,exports:n.exports||pt,transitiveCompileScopes:null,schemas:n.schemas||null,id:n.id||null};return null!=n.id&&(St[n.id]=n.type),t})}function Vg(n,t){if(null==n)return sa;const e={};for(const i in n)if(n.hasOwnProperty(i)){let s=n[i],r=s;Array.isArray(s)&&(r=s[1],s=s[0]),e[s]=i,t&&(t[s]=r)}return e}const ce=Xn;function Qi(n){return{type:n.type,name:n.name,factory:null,pure:!1!==n.pure,onDestroy:n.type.prototype.ngOnDestroy||null}}function wi(n){return n[cl]||null}function gt(n,t){const e=n[Lg]||null;if(!e&&!0===t)throw new Error(`Type ${Ve(n)} does not have '\u0275mod' property.`);return e}function es(n){return Array.isArray(n)&&"object"==typeof n[1]}function Rn(n){return Array.isArray(n)&&!0===n[1]}function fl(n){return 0!=(8&n.flags)}function aa(n){return 2==(2&n.flags)}function pl(n){return 1==(1&n.flags)}function ts(n){return null!==n.template}function fd(n){return 0!=(512&n[2])}function lo(n,t){return n.hasOwnProperty(Zn)?n[Zn]:null}class co{constructor(t,e,i){this.previousValue=t,this.currentValue=e,this.firstChange=i}isFirstChange(){return this.firstChange}}function kt(){return md}function md(n){return n.type.prototype.ngOnChanges&&(n.setInput=TS),AS}function AS(){const n=jg(this),t=null==n?void 0:n.current;if(t){const e=n.previous;if(e===sa)n.previous=t;else for(let i in t)e[i]=t[i];n.current=null,this.ngOnChanges(t)}}function TS(n,t,e,i){const s=jg(n)||function(n,t){return n[Ug]=t}(n,{previous:sa,current:null}),r=s.current||(s.current={}),o=s.previous,a=this.declaredInputs[e],l=o[a];r[a]=new co(l&&l.currentValue,t,o===sa),n[i]=t}kt.ngInherit=!0;const Ug="__ngSimpleChanges__";function jg(n){return n[Ug]||null}const B="http://www.w3.org/2000/svg";let Te;function Mt(n){return!!n.listen}const vn={createRenderer:(n,t)=>void 0!==Te?Te:"undefined"!=typeof document?document:void 0};function ei(n){for(;Array.isArray(n);)n=n[0];return n}function uo(n,t){return ei(t[n])}function Be(n,t){return ei(t[n.index])}function jc(n,t){return n.data[t]}function yn(n,t){const e=t[n];return es(e)?e:e[0]}function Wg(n){return 4==(4&n[2])}function yd(n){return 128==(128&n[2])}function Bi(n,t){return null==t?null:n[t]}function ml(n){n[18]=0}function zc(n,t){n[5]+=t;let e=n,i=n[3];for(;null!==i&&(1===t&&1===e[5]||-1===t&&0===e[5]);)i[5]+=t,e=i,i=i[3]}const we={lFrame:da(null),bindingsEnabled:!0,isInCheckNoChangesMode:!1};function ua(){return we.bindingsEnabled}function W(){return we.lFrame.lView}function it(){return we.lFrame.tView}function Bn(n){return we.lFrame.contextLView=n,n[8]}function Ut(){let n=vl();for(;null!==n&&64===n.type;)n=n.parent;return n}function vl(){return we.lFrame.currentTNode}function Ss(n,t){const e=we.lFrame;e.currentTNode=n,e.isParent=t}function Qc(){return we.lFrame.isParent}function ai(){return we.isInCheckNoChangesMode}function Jc(n){we.isInCheckNoChangesMode=n}function Vi(){const n=we.lFrame;let t=n.bindingRootIndex;return-1===t&&(t=n.bindingRootIndex=n.tView.bindingStartIndex),t}function is(){return we.lFrame.bindingIndex}function Tr(){return we.lFrame.bindingIndex++}function _n(n){const t=we.lFrame,e=t.bindingIndex;return t.bindingIndex=t.bindingIndex+n,e}function yl(n,t){const e=we.lFrame;e.bindingIndex=e.bindingRootIndex=n,ha(t)}function ha(n){we.lFrame.currentDirectiveIndex=n}function Qg(){return we.lFrame.currentQueryIndex}function Sd(n){we.lFrame.currentQueryIndex=n}function OS(n){const t=n[1];return 2===t.type?t.declTNode:1===t.type?n[6]:null}function Jg(n,t,e){if(e&me.SkipSelf){let s=t,r=n;for(;!(s=s.parent,null!==s||e&me.Host||(s=OS(r),null===s||(r=r[15],10&s.type))););if(null===s)return!1;t=s,n=r}const i=we.lFrame=bl();return i.currentTNode=t,i.lView=n,!0}function Zc(n){const t=bl(),e=n[1];we.lFrame=t,t.currentTNode=e.firstChild,t.lView=n,t.tView=e,t.contextLView=n,t.bindingIndex=e.bindingStartIndex,t.inI18n=!1}function bl(){const n=we.lFrame,t=null===n?null:n.child;return null===t?da(n):t}function da(n){const t={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:n,child:null,inI18n:!1};return null!==n&&(n.child=t),t}function Ed(){const n=we.lFrame;return we.lFrame=n.parent,n.currentTNode=null,n.lView=null,n}const C=Ed;function nr(){const n=Ed();n.isParent=!0,n.tView=null,n.selectedIndex=-1,n.contextLView=null,n.elementDepthCount=0,n.currentDirectiveIndex=-1,n.currentNamespace=null,n.bindingRootIndex=-1,n.bindingIndex=-1,n.currentQueryIndex=0}function be(){return we.lFrame.selectedIndex}function Mr(n){we.lFrame.selectedIndex=n}function Bt(){const n=we.lFrame;return jc(n.tView,n.selectedIndex)}function wd(){we.lFrame.currentNamespace=B}function Cd(){we.lFrame.currentNamespace=null}function eu(n,t){for(let e=t.directiveStart,i=t.directiveEnd;e<i;e++){const r=n.data[e].type.prototype,{ngAfterContentInit:o,ngAfterContentChecked:a,ngAfterViewInit:l,ngAfterViewChecked:h,ngOnDestroy:f}=r;o&&(n.contentHooks||(n.contentHooks=[])).push(-e,o),a&&((n.contentHooks||(n.contentHooks=[])).push(e,a),(n.contentCheckHooks||(n.contentCheckHooks=[])).push(e,a)),l&&(n.viewHooks||(n.viewHooks=[])).push(-e,l),h&&((n.viewHooks||(n.viewHooks=[])).push(e,h),(n.viewCheckHooks||(n.viewCheckHooks=[])).push(e,h)),null!=f&&(n.destroyHooks||(n.destroyHooks=[])).push(e,f)}}function $n(n,t,e){Zg(n,t,3,e)}function tu(n,t,e,i){(3&n[2])===e&&Zg(n,t,e,i)}function kd(n,t){let e=n[2];(3&e)===t&&(e&=2047,e+=1,n[2]=e)}function Zg(n,t,e,i){const r=null!=i?i:-1,o=t.length-1;let a=0;for(let l=void 0!==i?65535&n[18]:0;l<o;l++)if("number"==typeof t[l+1]){if(a=t[l],null!=i&&a>=i)break}else t[l]<0&&(n[18]+=65536),(a<r||-1==r)&&(BS(n,e,t,l),n[18]=(4294901760&n[18])+l+2),l++}function BS(n,t,e,i){const s=e[i]<0,r=e[i+1],a=n[s?-e[i]:e[i]];if(s){if(n[2]>>11<n[18]>>16&&(3&n[2])===t){n[2]+=2048;try{r.call(a)}finally{}}}else try{r.call(a)}finally{}}class bn{constructor(t,e,i){this.factory=t,this.resolving=!1,this.canSeeViewProviders=e,this.injectImpl=i}}function Zi(n,t,e){const i=Mt(n);let s=0;for(;s<e.length;){const r=e[s];if("number"==typeof r){if(0!==r)break;s++;const o=e[s++],a=e[s++],l=e[s++];i?n.setAttribute(t,a,l,o):t.setAttributeNS(o,a,l)}else{const o=r,a=e[++s];Pd(o)?i&&n.setProperty(t,o,a):i?n.setAttribute(t,o,a):t.setAttribute(o,a),s++}}return s}function Xg(n){return 3===n||4===n||6===n}function Pd(n){return 64===n.charCodeAt(0)}function iu(n,t){if(null!==t&&0!==t.length)if(null===n||0===n.length)n=t.slice();else{let e=-1;for(let i=0;i<t.length;i++){const s=t[i];"number"==typeof s?e=s:0===e||em(n,e,s,null,-1===e||2===e?t[++i]:null)}}return n}function em(n,t,e,i,s){let r=0,o=n.length;if(-1===t)o=-1;else for(;r<n.length;){const a=n[r++];if("number"==typeof a){if(a===t){o=-1;break}if(a>t){o=r-1;break}}}for(;r<n.length;){const a=n[r];if("number"==typeof a)break;if(a===e){if(null===i)return void(null!==s&&(n[r+1]=s));if(i===n[r+1])return void(n[r+2]=s)}r++,null!==i&&r++,null!==s&&r++}-1!==o&&(n.splice(o,0,t),r=o+1),n.splice(r++,0,e),null!==i&&n.splice(r++,0,i),null!==s&&n.splice(r++,0,s)}function tm(n){return-1!==n}function vo(n){return 32767&n}function fa(n,t){let e=function(n){return n>>16}(n),i=t;for(;e>0;)i=i[15],e--;return i}let Ad=!0;function pa(n){const t=Ad;return Ad=n,t}let sm=0;function Sn(n,t){const e=sr(n,t);if(-1!==e)return e;const i=t[1];i.firstCreatePass&&(n.injectorIndex=t.length,wl(i.data,n),wl(t,null),wl(i.blueprint,null));const s=$i(n,t),r=n.injectorIndex;if(tm(s)){const o=vo(s),a=fa(s,t),l=a[1].data;for(let h=0;h<8;h++)t[r+h]=a[o+h]|l[o+h]}return t[r+8]=s,r}function wl(n,t){n.push(0,0,0,0,0,0,0,0,t)}function sr(n,t){return-1===n.injectorIndex||n.parent&&n.parent.injectorIndex===n.injectorIndex||null===t[n.injectorIndex+8]?-1:n.injectorIndex}function $i(n,t){if(n.parent&&-1!==n.parent.injectorIndex)return n.parent.injectorIndex;let e=0,i=null,s=t;for(;null!==s;){const r=s[1],o=r.type;if(i=2===o?r.declTNode:1===o?s[6]:null,null===i)return-1;if(e++,s=s[15],-1!==i.injectorIndex)return i.injectorIndex|e<<16}return-1}function su(n,t,e){!function(n,t,e){let i;"string"==typeof e?i=e.charCodeAt(0)||0:e.hasOwnProperty(ul)&&(i=e[ul]),null==i&&(i=e[ul]=sm++);const s=255&i;t.data[n+(s>>5)]|=1<<s}(n,t,e)}function Td(n,t,e){if(e&me.Optional)return n;Vc(t,"NodeInjector")}function ga(n,t,e,i){if(e&me.Optional&&void 0===i&&(i=null),0==(e&(me.Self|me.Host))){const s=n[9],r=Xs(void 0);try{return s?s.get(t,i,e&me.Optional):Fc(t,i,e&me.Optional)}finally{Xs(r)}}return Td(i,t,e)}function rr(n,t,e,i=me.Default,s){if(null!==n){const r=function(n){if("string"==typeof n)return n.charCodeAt(0)||0;const t=n.hasOwnProperty(ul)?n[ul]:void 0;return"number"==typeof t?t>=0?255&t:qS:t}(e);if("function"==typeof r){if(!Jg(t,n,i))return i&me.Host?Td(s,e,i):ga(t,e,i,s);try{const o=r(i);if(null!=o||i&me.Optional)return o;Vc(e)}finally{C()}}else if("number"==typeof r){let o=null,a=sr(n,t),l=-1,h=i&me.Host?t[16][6]:null;for((-1===a||i&me.SkipSelf)&&(l=-1===a?$i(n,t):t[a+8],-1!==l&&Md(i,!1)?(o=t[1],a=vo(l),t=fa(l,t)):a=-1);-1!==a;){const f=t[1];if(au(r,a,f.data)){const p=ru(a,t,e,o,i,h);if(p!==xd)return p}l=t[a+8],-1!==l&&Md(i,t[1].data[a+8]===h)&&au(r,a,t)?(o=f,a=vo(l),t=fa(l,t)):a=-1}}}return ga(t,e,i,s)}const xd={};function qS(){return new Fi(Ut(),W())}function ru(n,t,e,i,s,r){const o=t[1],a=o.data[n+8],f=ou(a,o,e,null==i?aa(a)&&Ad:i!=o&&0!=(3&a.type),s&me.Host&&r===a);return null!==f?ma(t,o,f,a):xd}function ou(n,t,e,i,s){const r=n.providerIndexes,o=t.data,a=1048575&r,l=n.directiveStart,f=r>>20,y=s?a+f:n.directiveEnd;for(let _=i?a:a+f;_<y;_++){const w=o[_];if(_<l&&e===w||_>=l&&w.type===e)return _}if(s){const _=o[l];if(_&&ts(_)&&_.type===e)return l}return null}function ma(n,t,e,i){let s=n[e];const r=t.data;if(function(n){return n instanceof bn}(s)){const o=s;o.resolving&&function(n,t){throw new Dr("200",`Circular dependency in DI detected for ${n}`)}(Ri(r[e]));const a=pa(o.canSeeViewProviders);o.resolving=!0;const l=o.injectImpl?Xs(o.injectImpl):null;Jg(n,i,me.Default);try{s=n[e]=o.factory(void 0,r,n,i),t.firstCreatePass&&e>=i.directiveStart&&function(n,t,e){const{ngOnChanges:i,ngOnInit:s,ngDoCheck:r}=t.type.prototype;if(i){const o=md(t);(e.preOrderHooks||(e.preOrderHooks=[])).push(n,o),(e.preOrderCheckHooks||(e.preOrderCheckHooks=[])).push(n,o)}s&&(e.preOrderHooks||(e.preOrderHooks=[])).push(0-n,s),r&&((e.preOrderHooks||(e.preOrderHooks=[])).push(n,r),(e.preOrderCheckHooks||(e.preOrderCheckHooks=[])).push(n,r))}(e,r[e],t)}finally{null!==l&&Xs(l),pa(a),o.resolving=!1,C()}}return s}function au(n,t,e){return!!(e[t+(n>>5)]&1<<n)}function Md(n,t){return!(n&me.Self||n&me.Host&&t)}class Fi{constructor(t,e){this._tNode=t,this._lView=e}get(t,e,i){return rr(this._tNode,this._lView,t,i,e)}}function Xi(n){return er(()=>{const t=n.prototype.constructor,e=t[Zn]||va(t),i=Object.prototype;let s=Object.getPrototypeOf(n.prototype).constructor;for(;s&&s!==i;){const r=s[Zn]||va(s);if(r&&r!==e)return r;s=Object.getPrototypeOf(s)}return r=>new r})}function va(n){return Pg(n)?()=>{const t=va(he(n));return t&&t()}:lo(n)}const ti="__parameters__";function _o(n,t,e){return er(()=>{const i=function(n){return function(...e){if(n){const i=n(...e);for(const s in i)this[s]=i[s]}}}(t);function s(...r){if(this instanceof s)return i.apply(this,r),this;const o=new s(...r);return a.annotation=o,a;function a(l,h,f){const p=l.hasOwnProperty(ti)?l[ti]:Object.defineProperty(l,ti,{value:[]})[ti];for(;p.length<=f;)p.push(null);return(p[f]=p[f]||[]).push(o),l}}return e&&(s.prototype=Object.create(e.prototype)),s.prototype.ngMetadataName=n,s.annotationCls=s,s})}class pe{constructor(t,e){this._desc=t,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof e?this.__NG_ELEMENT_ID__=e:void 0!==e&&(this.\u0275prov=le({token:this,providedIn:e.providedIn||"root",factory:e.factory}))}toString(){return`InjectionToken ${this._desc}`}}function En(n,t){void 0===t&&(t=n);for(let e=0;e<n.length;e++){let i=n[e];Array.isArray(i)?(t===n&&(t=n.slice(0,e)),En(i,t)):t!==n&&t.push(i)}return t}function Es(n,t){n.forEach(e=>Array.isArray(e)?Es(e,t):t(e))}function Dl(n,t,e){t>=n.length?n.push(e):n.splice(t,0,e)}function Eo(n,t){return t>=n.length-1?n.pop():n.splice(t,1)[0]}function wn(n,t,e){let i=Co(n,t);return i>=0?n[1|i]=e:(i=~i,function(n,t,e,i){let s=n.length;if(s==t)n.push(e,i);else if(1===s)n.push(i,n[0]),n[0]=e;else{for(s--,n.push(n[s-1],n[s]);s>t;)n[s]=n[s-2],s--;n[t]=e,n[t+1]=i}}(n,i,t,e)),i}function wo(n,t){const e=Co(n,t);if(e>=0)return n[1|e]}function Co(n,t){return function(n,t,e){let i=0,s=n.length>>e;for(;s!==i;){const r=i+(s-i>>1),o=n[r<<e];if(t===o)return r<<e;o>t?s=r:i=r+1}return~(s<<e)}(n,t,1)}const _a={},ba="__NG_DI_FLAG__",ko="ngTempTokenPath",mm=/\n/gm,Pl="__source",Vd=st({provide:String,useValue:st});let Hn;function Po(n){const t=Hn;return Hn=n,t}function vm(n,t=me.Default){if(void 0===Hn)throw new Error("inject() must be called from an injection context");return null===Hn?Fc(n,void 0,t):Hn.get(n,t&me.Optional?null:void 0,t)}function $(n,t=me.Default){return(ld||vm)(he(n),t)}const QS=$;function Ao(n){const t=[];for(let e=0;e<n.length;e++){const i=he(n[e]);if(Array.isArray(i)){if(0===i.length)throw new Error("Arguments array must have arguments.");let s,r=me.Default;for(let o=0;o<i.length;o++){const a=i[o],l=_m(a);"number"==typeof l?-1===l?s=a.token:r|=l:s=a}t.push($(s,r))}else t.push($(i))}return t}function Sa(n,t){return n[ba]=t,n.prototype[ba]=t,n}function _m(n){return n[ba]}function bm(n,t,e,i){const s=n[ko];throw t[Pl]&&s.unshift(t[Pl]),n.message=function(n,t,e,i=null){n=n&&"\n"===n.charAt(0)&&"\u0275"==n.charAt(1)?n.substr(2):n;let s=Ve(t);if(Array.isArray(t))s=t.map(Ve).join(" -> ");else if("object"==typeof t){let r=[];for(let o in t)if(t.hasOwnProperty(o)){let a=t[o];r.push(o+":"+("string"==typeof a?JSON.stringify(a):Ve(a)))}s=`{${r.join(", ")}}`}return`${e}${i?"("+i+")":""}[${s}]: ${n.replace(mm,"\n  ")}`}("\n"+n.message,s,e,i),n.ngTokenPath=s,n[ko]=null,n}const fi=Sa(_o("Inject",n=>({token:n})),-1),li=Sa(_o("Optional"),8),To=Sa(_o("SkipSelf"),4);var en=(()=>((en=en||{})[en.Important=1]="Important",en[en.DashCase=2]="DashCase",en))();const Ud="__ngContext__";function Di(n,t){n[Ud]=t}function ss(n){const t=function(n){return n[Ud]||null}(n);return t?Array.isArray(t)?t:t.lView:null}function Ol(n,t){return undefined(n,t)}function Nl(n){const t=n[3];return Rn(t)?t[3]:t}function Qd(n){return xm(n[13])}function yu(n){return xm(n[4])}function xm(n){for(;null!==n&&!Rn(n);)n=n[4];return n}function wa(n,t,e,i,s){if(null!=i){let r,o=!1;Rn(i)?r=i:es(i)&&(o=!0,i=i[0]);const a=ei(i);0===n&&null!==e?null==s?Ca(t,e,a):Nr(t,e,a,s||null,!0):1===n&&null!==e?Nr(t,e,a,s||null,!0):2===n?function(n,t,e){const i=Ll(n,t);i&&function(n,t,e,i){Mt(n)?n.removeChild(t,e,i):t.removeChild(e)}(n,i,t,e)}(t,a,o):3===n&&t.destroyNode(a),null!=r&&function(n,t,e,i,s){const r=e[7];r!==ei(e)&&wa(t,n,i,r,s);for(let a=10;a<e.length;a++){const l=e[a];Bl(l[1],l,n,t,i,r)}}(t,n,r,e,s)}}function Zd(n,t,e){return Mt(n)?n.createElement(t,e):null===e?n.createElement(t):n.createElementNS(e,t)}function Om(n,t){const e=n[9],i=e.indexOf(t),s=t[3];1024&t[2]&&(t[2]&=-1025,zc(s,-1)),e.splice(i,1)}function ef(n,t){if(n.length<=10)return;const e=10+t,i=n[e];if(i){const s=i[17];null!==s&&s!==n&&Om(s,i),t>0&&(n[e-1][4]=i[4]);const r=Eo(n,10+t);!function(n,t){Bl(n,t,t[11],2,null,null),t[0]=null,t[6]=null}(i[1],i);const o=r[19];null!==o&&o.detachView(r[1]),i[3]=null,i[4]=null,i[2]&=-129}return i}function Nm(n,t){if(!(256&t[2])){const e=t[11];Mt(e)&&e.destroyNode&&Bl(n,t,e,3,null,null),function(n){let t=n[13];if(!t)return tf(n[1],n);for(;t;){let e=null;if(es(t))e=t[13];else{const i=t[10];i&&(e=i)}if(!e){for(;t&&!t[4]&&t!==n;)es(t)&&tf(t[1],t),t=t[3];null===t&&(t=n),es(t)&&tf(t[1],t),e=t&&t[4]}t=e}}(t)}}function tf(n,t){if(!(256&t[2])){t[2]&=-129,t[2]|=256,function(n,t){let e;if(null!=n&&null!=(e=n.destroyHooks))for(let i=0;i<e.length;i+=2){const s=t[e[i]];if(!(s instanceof bn)){const r=e[i+1];if(Array.isArray(r))for(let o=0;o<r.length;o+=2){const a=s[r[o]],l=r[o+1];try{l.call(a)}finally{}}else try{r.call(s)}finally{}}}}(n,t),function(n,t){const e=n.cleanup,i=t[7];let s=-1;if(null!==e)for(let r=0;r<e.length-1;r+=2)if("string"==typeof e[r]){const o=e[r+1],a="function"==typeof o?o(t):ei(t[o]),l=i[s=e[r+2]],h=e[r+3];"boolean"==typeof h?a.removeEventListener(e[r],l,h):h>=0?i[s=h]():i[s=-h].unsubscribe(),r+=2}else{const o=i[s=e[r+1]];e[r].call(o)}if(null!==i){for(let r=s+1;r<i.length;r++)i[r]();t[7]=null}}(n,t),1===t[1].type&&Mt(t[11])&&t[11].destroy();const e=t[17];if(null!==e&&Rn(t[3])){e!==t[3]&&Om(e,t);const i=t[19];null!==i&&i.detachView(n)}}}function Bm(n,t,e){return function(n,t,e){let i=t;for(;null!==i&&40&i.type;)i=(t=i).parent;if(null===i)return e[0];if(2&i.flags){const s=n.data[i.directiveStart].encapsulation;if(s===Kt.None||s===Kt.Emulated)return null}return Be(i,e)}(n,t.parent,e)}function Nr(n,t,e,i,s){Mt(n)?n.insertBefore(t,e,i,s):t.insertBefore(e,i,s)}function Ca(n,t,e){Mt(n)?n.appendChild(t,e):t.appendChild(e)}function bu(n,t,e,i,s){null!==i?Nr(n,t,e,i,s):Ca(n,t,e)}function Ll(n,t){return Mt(n)?n.parentNode(t):t.parentNode}let Rr=function(n,t,e){return 40&n.type?Be(n,e):null};function Eu(n,t,e,i){const s=Bm(n,i,t),r=t[11],a=function(n,t,e){return Rr(n,t,e)}(i.parent||t[6],i,t);if(null!=s)if(Array.isArray(e))for(let l=0;l<e.length;l++)bu(r,s,e[l],a,!1);else bu(r,s,e,a,!1)}function wu(n,t){if(null!==t){const e=t.type;if(3&e)return Be(t,n);if(4&e)return of(-1,n[t.index]);if(8&e){const i=t.child;if(null!==i)return wu(n,i);{const s=n[t.index];return Rn(s)?of(-1,s):ei(s)}}if(32&e)return Ol(t,n)()||ei(n[t.index]);{const i=$m(n,t);return null!==i?Array.isArray(i)?i[0]:wu(Nl(n[16]),i):wu(n,t.next)}}return null}function $m(n,t){return null!==t?n[16][6].projection[t.projection]:null}function of(n,t){const e=10+n+1;if(e<t.length){const i=t[e],s=i[1].firstChild;if(null!==s)return wu(i,s)}return t[7]}function lf(n,t,e,i,s,r,o){for(;null!=e;){const a=i[e.index],l=e.type;if(o&&0===t&&(a&&Di(ei(a),i),e.flags|=4),64!=(64&e.flags))if(8&l)lf(n,t,e.child,i,s,r,!1),wa(t,n,s,a,r);else if(32&l){const h=Ol(e,i);let f;for(;f=h();)wa(t,n,s,f,r);wa(t,n,s,a,r)}else 16&l?Fm(n,t,i,e,s,r):wa(t,n,s,a,r);e=o?e.projectionNext:e.next}}function Bl(n,t,e,i,s,r){lf(e,i,n.firstChild,t,s,r,!1)}function Fm(n,t,e,i,s,r){const o=e[16],l=o[6].projection[i.projection];if(Array.isArray(l))for(let h=0;h<l.length;h++)wa(t,n,s,l[h],r);else lf(n,t,l,o[3],s,r,!0)}function cf(n,t,e){Mt(n)?n.setAttribute(t,"style",e):t.style.cssText=e}function Cu(n,t,e){Mt(n)?""===e?n.removeAttribute(t,"class"):n.setAttribute(t,"class",e):t.className=e}function kn(n){return n instanceof class{constructor(t){this.changingThisBreaksApplicationSecurity=t}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}?n.changingThisBreaksApplicationSecurity:n}function Au(n){return n.ngOriginalError}function LE(n,...t){n.error(...t)}class Ro{constructor(){this._console=console}handleError(t){const e=this._findOriginalError(t),i=this._findContext(t),s=function(n){return n&&n.ngErrorLogger||LE}(t);s(this._console,"ERROR",t),e&&s(this._console,"ORIGINAL ERROR",e),i&&s(this._console,"ERROR CONTEXT",i)}_findContext(t){return t?function(n){return n.ngDebugContext}(t)||this._findContext(Au(t)):null}_findOriginalError(t){let e=t&&Au(t);for(;e&&Au(e);)e=Au(e);return e||null}}const yf=(()=>("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(ot))();function as(n){return n instanceof Function?n():n}function Gl(n,t,e){let i=n.length;for(;;){const s=n.indexOf(t,e);if(-1===s)return s;if(0===s||n.charCodeAt(s-1)<=32){const r=t.length;if(s+r===i||n.charCodeAt(s+r)<=32)return s}e=s+1}}const uv="ng-template";function qE(n,t,e){let i=0;for(;i<n.length;){let s=n[i++];if(e&&"class"===s){if(s=n[i],-1!==Gl(s.toLowerCase(),t,0))return!0}else if(1===s){for(;i<n.length&&"string"==typeof(s=n[i++]);)if(s.toLowerCase()===t)return!0;return!1}}return!1}function Tu(n){return 4===n.type&&n.value!==uv}function hv(n,t,e){return t===(4!==n.type||e?n.value:uv)}function GE(n,t,e){let i=4;const s=n.attrs||[],r=function(n){for(let t=0;t<n.length;t++)if(Xg(n[t]))return t;return n.length}(s);let o=!1;for(let a=0;a<t.length;a++){const l=t[a];if("number"!=typeof l){if(!o)if(4&i){if(i=2|1&i,""!==l&&!hv(n,l,e)||""===l&&1===t.length){if(ls(i))return!1;o=!0}}else{const h=8&i?l:t[++a];if(8&i&&null!==n.attrs){if(!qE(n.attrs,h,e)){if(ls(i))return!1;o=!0}continue}const p=UE(8&i?"class":l,s,Tu(n),e);if(-1===p){if(ls(i))return!1;o=!0;continue}if(""!==h){let y;y=p>r?"":s[p+1].toLowerCase();const _=8&i?y:null;if(_&&-1!==Gl(_,h,0)||2&i&&h!==y){if(ls(i))return!1;o=!0}}}}else{if(!o&&!ls(i)&&!ls(l))return!1;if(o&&ls(l))continue;o=!1,i=l|1&i}}return ls(i)||o}function ls(n){return 0==(1&n)}function UE(n,t,e,i){if(null===t)return-1;let s=0;if(i||!e){let r=!1;for(;s<t.length;){const o=t[s];if(o===n)return s;if(3===o||6===o)r=!0;else{if(1===o||2===o){let a=t[++s];for(;"string"==typeof a;)a=t[++s];continue}if(4===o)break;if(0===o){s+=4;continue}}s+=r?1:2}return-1}return function(n,t){let e=n.indexOf(4);if(e>-1)for(e++;e<n.length;){const i=n[e];if("number"==typeof i)return-1;if(i===t)return e;e++}return-1}(t,n)}function dv(n,t,e=!1){for(let i=0;i<t.length;i++)if(GE(n,t[i],e))return!0;return!1}function fv(n,t){return n?":not("+t.trim()+")":t}function YE(n){let t=n[0],e=1,i=2,s="",r=!1;for(;e<n.length;){let o=n[e];if("string"==typeof o)if(2&i){const a=n[++e];s+="["+o+(a.length>0?'="'+a+'"':"")+"]"}else 8&i?s+="."+o:4&i&&(s+=" "+o);else""!==s&&!ls(o)&&(t+=fv(r,s),s=""),i=o,r=r||!ls(i);e++}return""!==s&&(t+=fv(r,s)),t}const de={};function q(n){pv(it(),W(),be()+n,ai())}function pv(n,t,e,i){if(!i)if(3==(3&t[2])){const r=n.preOrderCheckHooks;null!==r&&$n(t,r,e)}else{const r=n.preOrderHooks;null!==r&&tu(t,r,0,e)}Mr(e)}function Ps(n,t){return n<<17|t<<2}function fe(n){return n>>17&32767}function Vt(n){return 2|n}function ar(n){return(131068&n)>>2}function As(n,t){return-131069&n|t<<2}function Sf(n){return 1|n}function wv(n,t){const e=n.contentQueries;if(null!==e)for(let i=0;i<e.length;i+=2){const s=e[i],r=e[i+1];if(-1!==r){const o=n.data[r];Sd(s),o.contentQueries(2,t[r],r)}}}function jl(n,t,e,i,s,r,o,a,l,h){const f=t.blueprint.slice();return f[0]=s,f[2]=140|i,ml(f),f[3]=f[15]=n,f[8]=e,f[10]=o||n&&n[10],f[11]=a||n&&n[11],f[12]=l||n&&n[12]||null,f[9]=h||n&&n[9]||null,f[6]=r,f[16]=2==t.type?n[16]:f,f}function Pa(n,t,e,i,s){let r=n.data[t];if(null===r)r=function(n,t,e,i,s){const r=vl(),o=Qc(),l=n.data[t]=function(n,t,e,i,s,r){return{type:e,index:i,insertBeforeIndex:null,injectorIndex:t?t.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:s,attrs:r,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:t,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,o?r:r&&r.parent,e,t,i,s);return null===n.firstChild&&(n.firstChild=l),null!==r&&(o?null==r.child&&null!==l.parent&&(r.child=l):null===r.next&&(r.next=l)),l}(n,t,e,i,s),we.lFrame.inI18n&&(r.flags|=64);else if(64&r.type){r.type=e,r.value=i,r.attrs=s;const o=function(){const n=we.lFrame,t=n.currentTNode;return n.isParent?t:t.parent}();r.injectorIndex=null===o?-1:o.injectorIndex}return Ss(r,!0),r}function Aa(n,t,e,i){if(0===e)return-1;const s=t.length;for(let r=0;r<e;r++)t.push(i),n.blueprint.push(i),n.data.push(null);return s}function Wl(n,t,e){Zc(t);try{const i=n.viewQuery;null!==i&&Bf(1,i,e);const s=n.template;null!==s&&Cv(n,t,s,1,e),n.firstCreatePass&&(n.firstCreatePass=!1),n.staticContentQueries&&wv(n,t),n.staticViewQueries&&Bf(2,n.viewQuery,e);const r=n.components;null!==r&&function(n,t){for(let e=0;e<t.length;e++)kw(n,t[e])}(t,r)}catch(i){throw n.firstCreatePass&&(n.incompleteFirstPass=!0,n.firstCreatePass=!1),i}finally{t[2]&=-5,nr()}}function Ta(n,t,e,i){const s=t[2];if(256==(256&s))return;Zc(t);const r=ai();try{ml(t),function(n){we.lFrame.bindingIndex=n}(n.bindingStartIndex),null!==e&&Cv(n,t,e,2,i);const o=3==(3&s);if(!r)if(o){const h=n.preOrderCheckHooks;null!==h&&$n(t,h,null)}else{const h=n.preOrderHooks;null!==h&&tu(t,h,0,null),kd(t,0)}if(function(n){for(let t=Qd(n);null!==t;t=yu(t)){if(!t[2])continue;const e=t[9];for(let i=0;i<e.length;i++){const s=e[i],r=s[3];0==(1024&s[2])&&zc(r,1),s[2]|=1024}}}(t),function(n){for(let t=Qd(n);null!==t;t=yu(t))for(let e=10;e<t.length;e++){const i=t[e],s=i[1];yd(i)&&Ta(s,i,s.template,i[8])}}(t),null!==n.contentQueries&&wv(n,t),!r)if(o){const h=n.contentCheckHooks;null!==h&&$n(t,h)}else{const h=n.contentHooks;null!==h&&tu(t,h,1),kd(t,1)}!function(n,t){const e=n.hostBindingOpCodes;if(null!==e)try{for(let i=0;i<e.length;i++){const s=e[i];if(s<0)Mr(~s);else{const r=s,o=e[++i],a=e[++i];yl(o,r),a(2,t[r])}}}finally{Mr(-1)}}(n,t);const a=n.components;null!==a&&function(n,t){for(let e=0;e<t.length;e++)Cw(n,t[e])}(t,a);const l=n.viewQuery;if(null!==l&&Bf(2,l,i),!r)if(o){const h=n.viewCheckHooks;null!==h&&$n(t,h)}else{const h=n.viewHooks;null!==h&&tu(t,h,2),kd(t,2)}!0===n.firstUpdatePass&&(n.firstUpdatePass=!1),r||(t[2]&=-73),1024&t[2]&&(t[2]&=-1025,zc(t[3],-1))}finally{nr()}}function lw(n,t,e,i){const s=t[10],r=!ai(),o=Wg(t);try{r&&!o&&s.begin&&s.begin(),o&&Wl(n,t,i),Ta(n,t,e,i)}finally{r&&!o&&s.end&&s.end()}}function Cv(n,t,e,i,s){const r=be(),o=2&i;try{Mr(-1),o&&t.length>20&&pv(n,t,20,ai()),e(i,s)}finally{Mr(r)}}function zl(n,t,e){!ua()||(function(n,t,e,i){const s=e.directiveStart,r=e.directiveEnd;n.firstCreatePass||Sn(e,t),Di(i,t);const o=e.initialInputs;for(let a=s;a<r;a++){const l=n.data[a],h=ts(l);h&&_w(t,e,l);const f=ma(t,n,a,e);Di(f,t),null!==o&&bw(0,a-s,f,l,0,o),h&&(yn(e.index,t)[8]=f)}}(n,t,e,Be(e,t)),128==(128&e.flags)&&function(n,t,e){const i=e.directiveStart,s=e.directiveEnd,o=e.index,a=we.lFrame.currentDirectiveIndex;try{Mr(o);for(let l=i;l<s;l++){const h=n.data[l],f=t[l];ha(l),(null!==h.hostBindings||0!==h.hostVars||null!==h.hostAttrs)&&Nv(h,f)}}finally{Mr(-1),ha(a)}}(n,t,e))}function Af(n,t,e=Be){const i=t.localNames;if(null!==i){let s=t.index+1;for(let r=0;r<i.length;r+=2){const o=i[r+1],a=-1===o?e(t,n):n[o];n[s++]=a}}}function Ou(n){const t=n.tView;return null===t||t.incompleteFirstPass?n.tView=Nu(1,null,n.template,n.decls,n.vars,n.directiveDefs,n.pipeDefs,n.viewQuery,n.schemas,n.consts):t}function Nu(n,t,e,i,s,r,o,a,l,h){const f=20+i,p=f+s,y=function(n,t){const e=[];for(let i=0;i<t;i++)e.push(i<n?null:de);return e}(f,p),_="function"==typeof h?h():h;return y[1]={type:n,blueprint:y,template:e,queries:null,viewQuery:a,declTNode:t,data:y.slice().fill(null,f),bindingStartIndex:f,expandoStartIndex:p,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof r?r():r,pipeRegistry:"function"==typeof o?o():o,firstChild:null,schemas:l,consts:_,incompleteFirstPass:!1}}function Pv(n,t,e,i){const s=Vv(t);null===e?s.push(i):(s.push(e),n.firstCreatePass&&Lu(n).push(i,s.length-1))}function Av(n,t,e){for(let i in n)if(n.hasOwnProperty(i)){const s=n[i];(e=null===e?{}:e).hasOwnProperty(i)?e[i].push(t,s):e[i]=[t,s]}return e}function Dn(n,t,e,i,s,r,o,a){const l=Be(t,e);let f,h=t.inputs;!a&&null!=h&&(f=h[i])?($v(n,e,f,i,s),aa(t)&&function(n,t){const e=yn(t,n);16&e[2]||(e[2]|=64)}(e,t.index)):3&t.type&&(i=function(n){return"class"===n?"className":"for"===n?"htmlFor":"formaction"===n?"formAction":"innerHtml"===n?"innerHTML":"readonly"===n?"readOnly":"tabindex"===n?"tabIndex":n}(i),s=null!=o?o(s,t.value||"",i):s,Mt(r)?r.setProperty(l,i,s):Pd(i)||(l.setProperty?l.setProperty(i,s):l[i]=s))}function Tf(n,t,e,i){let s=!1;if(ua()){const r=function(n,t,e){const i=n.directiveRegistry;let s=null;if(i)for(let r=0;r<i.length;r++){const o=i[r];dv(e,o.selectors,!1)&&(s||(s=[]),su(Sn(e,t),n,o.type),ts(o)?(Rv(n,e),s.unshift(o)):s.push(o))}return s}(n,t,e),o=null===i?null:{"":-1};if(null!==r){s=!0,xf(e,n.data.length,r.length);for(let f=0;f<r.length;f++){const p=r[f];p.providersResolver&&p.providersResolver(p)}let a=!1,l=!1,h=Aa(n,t,r.length,null);for(let f=0;f<r.length;f++){const p=r[f];e.mergedAttrs=iu(e.mergedAttrs,p.hostAttrs),Mf(n,e,t,h,p),yw(h,p,o),null!==p.contentQueries&&(e.flags|=8),(null!==p.hostBindings||null!==p.hostAttrs||0!==p.hostVars)&&(e.flags|=128);const y=p.type.prototype;!a&&(y.ngOnChanges||y.ngOnInit||y.ngDoCheck)&&((n.preOrderHooks||(n.preOrderHooks=[])).push(e.index),a=!0),!l&&(y.ngOnChanges||y.ngDoCheck)&&((n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(e.index),l=!0),h++}!function(n,t){const i=t.directiveEnd,s=n.data,r=t.attrs,o=[];let a=null,l=null;for(let h=t.directiveStart;h<i;h++){const f=s[h],p=f.inputs,y=null===r||Tu(t)?null:Sw(p,r);o.push(y),a=Av(p,h,a),l=Av(f.outputs,h,l)}null!==a&&(a.hasOwnProperty("class")&&(t.flags|=16),a.hasOwnProperty("style")&&(t.flags|=32)),t.initialInputs=o,t.inputs=a,t.outputs=l}(n,e)}o&&function(n,t,e){if(t){const i=n.localNames=[];for(let s=0;s<t.length;s+=2){const r=e[t[s+1]];if(null==r)throw new Dr("301",`Export of name '${t[s+1]}' not found!`);i.push(t[s],r)}}}(e,i,o)}return e.mergedAttrs=iu(e.mergedAttrs,e.attrs),s}function Ov(n,t,e,i,s,r){const o=r.hostBindings;if(o){let a=n.hostBindingOpCodes;null===a&&(a=n.hostBindingOpCodes=[]);const l=~t.index;(function(n){let t=n.length;for(;t>0;){const e=n[--t];if("number"==typeof e&&e<0)return e}return 0})(a)!=l&&a.push(l),a.push(i,s,o)}}function Nv(n,t){null!==n.hostBindings&&n.hostBindings(1,t)}function Rv(n,t){t.flags|=2,(n.components||(n.components=[])).push(t.index)}function yw(n,t,e){if(e){if(t.exportAs)for(let i=0;i<t.exportAs.length;i++)e[t.exportAs[i]]=n;ts(t)&&(e[""]=n)}}function xf(n,t,e){n.flags|=1,n.directiveStart=t,n.directiveEnd=t+e,n.providerIndexes=t}function Mf(n,t,e,i,s){n.data[i]=s;const r=s.factory||(s.factory=lo(s.type)),o=new bn(r,ts(s),null);n.blueprint[i]=o,e[i]=o,Ov(n,t,0,i,Aa(n,e,s.hostVars,de),s)}function _w(n,t,e){const i=Be(t,n),s=Ou(e),r=n[10],o=Ru(n,jl(n,s,null,e.onPush?64:16,i,t,r,r.createRenderer(i,e),null,null));n[t.index]=o}function xs(n,t,e,i,s,r){const o=Be(n,t);!function(n,t,e,i,s,r,o){if(null==r)Mt(n)?n.removeAttribute(t,s,e):t.removeAttribute(s);else{const a=null==o?Ae(r):o(r,i||"",s);Mt(n)?n.setAttribute(t,s,a,e):e?t.setAttributeNS(e,s,a):t.setAttribute(s,a)}}(t[11],o,r,n.value,e,i,s)}function bw(n,t,e,i,s,r){const o=r[t];if(null!==o){const a=i.setInput;for(let l=0;l<o.length;){const h=o[l++],f=o[l++],p=o[l++];null!==a?i.setInput(e,p,h,f):e[f]=p}}}function Sw(n,t){let e=null,i=0;for(;i<t.length;){const s=t[i];if(0!==s)if(5!==s){if("number"==typeof s)break;n.hasOwnProperty(s)&&(null===e&&(e=[]),e.push(s,n[s],t[i+1])),i+=2}else i+=2;else i+=4}return e}function Lv(n,t,e,i){return new Array(n,!0,!1,t,null,0,i,e,null,null)}function Cw(n,t){const e=yn(t,n);if(yd(e)){const i=e[1];80&e[2]?Ta(i,e,i.template,e[8]):e[5]>0&&Of(e)}}function Of(n){for(let i=Qd(n);null!==i;i=yu(i))for(let s=10;s<i.length;s++){const r=i[s];if(1024&r[2]){const o=r[1];Ta(o,r,o.template,r[8])}else r[5]>0&&Of(r)}const e=n[1].components;if(null!==e)for(let i=0;i<e.length;i++){const s=yn(e[i],n);yd(s)&&s[5]>0&&Of(s)}}function kw(n,t){const e=yn(t,n),i=e[1];(function(n,t){for(let e=t.length;e<n.blueprint.length;e++)t.push(n.blueprint[e])})(i,e),Wl(i,e,e[8])}function Ru(n,t){return n[13]?n[14][4]=t:n[13]=t,n[14]=t,t}function Nf(n){for(;n;){n[2]|=64;const t=Nl(n);if(fd(n)&&!t)return n;n=t}return null}function Lf(n,t,e){const i=t[10];i.begin&&i.begin();try{Ta(n,t,n.template,e)}catch(s){throw $f(t,s),s}finally{i.end&&i.end()}}function Bv(n){!function(n){for(let t=0;t<n.components.length;t++){const e=n.components[t],i=ss(e),s=i[1];lw(s,i,s.template,e)}}(n[8])}function Bf(n,t,e){Sd(0),t(n,e)}const xw=(()=>Promise.resolve(null))();function Vv(n){return n[7]||(n[7]=[])}function Lu(n){return n.cleanup||(n.cleanup=[])}function $f(n,t){const e=n[9],i=e?e.get(Ro,null):null;i&&i.handleError(t)}function $v(n,t,e,i,s){for(let r=0;r<e.length;){const o=e[r++],a=e[r++],l=t[o],h=n.data[o];null!==h.setInput?h.setInput(l,s,i,a):l[a]=s}}function lr(n,t,e){const i=uo(t,n);!function(n,t,e){Mt(n)?n.setValue(t,e):t.textContent=e}(n[11],i,e)}function Bu(n,t,e){let i=e?n.styles:null,s=e?n.classes:null,r=0;if(null!==t)for(let o=0;o<t.length;o++){const a=t[o];"number"==typeof a?r=a:1==r?s=td(s,a):2==r&&(i=td(i,a+": "+t[++o]+";"))}e?n.styles=i:n.stylesWithoutHost=i,e?n.classes=s:n.classesWithoutHost=s}const Ma=new pe("INJECTOR",-1);class Gi{get(t,e=_a){if(e===_a){const i=new Error(`NullInjectorError: No provider for ${Ve(t)}!`);throw i.name="NullInjectorError",i}return e}}const Bo=new pe("Set Injector scope."),Kl={},Iw={};let Hf;function Fv(){return void 0===Hf&&(Hf=new Gi),Hf}function Hv(n,t=null,e=null,i){return new Gf(n,e,t||Fv(),i)}class Gf{constructor(t,e,i,s=null){this.parent=i,this.records=new Map,this.injectorDefTypes=new Set,this.onDestroy=new Set,this._destroyed=!1;const r=[];e&&Es(e,a=>this.processProvider(a,t,e)),Es([t],a=>this.processInjectorType(a,[],r)),this.records.set(Ma,Vo(void 0,this));const o=this.records.get(Bo);this.scope=null!=o?o.value:null,this.source=s||("object"==typeof t?null:Ve(t))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{this.onDestroy.forEach(t=>t.ngOnDestroy())}finally{this.records.clear(),this.onDestroy.clear(),this.injectorDefTypes.clear()}}get(t,e=_a,i=me.Default){this.assertNotDestroyed();const s=Po(this),r=Xs(void 0);try{if(!(i&me.SkipSelf)){let a=this.records.get(t);if(void 0===a){const l=function(n){return"function"==typeof n||"object"==typeof n&&n instanceof pe}(t)&&Zs(t);a=l&&this.injectableDefInScope(l)?Vo(Uf(t),Kl):null,this.records.set(t,a)}if(null!=a)return this.hydrate(t,a)}return(i&me.Self?Fv():this.parent).get(t,e=i&me.Optional&&e===_a?null:e)}catch(o){if("NullInjectorError"===o.name){if((o[ko]=o[ko]||[]).unshift(Ve(t)),s)throw o;return bm(o,t,"R3InjectorError",this.source)}throw o}finally{Xs(r),Po(s)}}_resolveInjectorDefTypes(){this.injectorDefTypes.forEach(t=>this.get(t))}toString(){const t=[];return this.records.forEach((i,s)=>t.push(Ve(s))),`R3Injector[${t.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Error("Injector has already been destroyed.")}processInjectorType(t,e,i){if(!(t=he(t)))return!1;let s=rd(t);const r=null==s&&t.ngModule||void 0,o=void 0===r?t:r,a=-1!==i.indexOf(o);if(void 0!==r&&(s=rd(r)),null==s)return!1;if(null!=s.imports&&!a){let f;i.push(o);try{Es(s.imports,p=>{this.processInjectorType(p,e,i)&&(void 0===f&&(f=[]),f.push(p))})}finally{}if(void 0!==f)for(let p=0;p<f.length;p++){const{ngModule:y,providers:_}=f[p];Es(_,w=>this.processProvider(w,y,_||pt))}}this.injectorDefTypes.add(o);const l=lo(o)||(()=>new o);this.records.set(o,Vo(l,Kl));const h=s.providers;if(null!=h&&!a){const f=t;Es(h,p=>this.processProvider(p,f,h))}return void 0!==r&&void 0!==t.providers}processProvider(t,e,i){let s=Vr(t=he(t))?t:he(t&&t.provide);const r=function(n,t,e){return Gv(n)?Vo(void 0,n.useValue):Vo(qv(n),Kl)}(t);if(Vr(t)||!0!==t.multi)this.records.get(s);else{let o=this.records.get(s);o||(o=Vo(void 0,Kl,!0),o.factory=()=>Ao(o.multi),this.records.set(s,o)),s=t,o.multi.push(t)}this.records.set(s,r)}hydrate(t,e){return e.value===Kl&&(e.value=Iw,e.value=e.factory()),"object"==typeof e.value&&e.value&&function(n){return null!==n&&"object"==typeof n&&"function"==typeof n.ngOnDestroy}(e.value)&&this.onDestroy.add(e.value),e.value}injectableDefInScope(t){if(!t.providedIn)return!1;const e=he(t.providedIn);return"string"==typeof e?"any"===e||e===this.scope:this.injectorDefTypes.has(e)}}function Uf(n){const t=Zs(n),e=null!==t?t.factory:lo(n);if(null!==e)return e;if(n instanceof pe)throw new Error(`Token ${Ve(n)} is missing a \u0275prov definition.`);if(n instanceof Function)return function(n){const t=n.length;if(t>0){const i=function(n,t){const e=[];for(let i=0;i<n;i++)e.push(t);return e}(t,"?");throw new Error(`Can't resolve all parameters for ${Ve(n)}: (${i.join(", ")}).`)}const e=function(n){const t=n&&(n[na]||n[ad]);if(t){const e=function(n){if(n.hasOwnProperty("name"))return n.name;const t=(""+n).match(/^function\s*([^\s(]+)/);return null===t?"":t[1]}(n);return console.warn(`DEPRECATED: DI is instantiating a token "${e}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${e}" class.`),t}return null}(n);return null!==e?()=>e.factory(n):()=>new n}(n);throw new Error("unreachable")}function qv(n,t,e){let i;if(Vr(n)){const s=he(n);return lo(s)||Uf(s)}if(Gv(n))i=()=>he(n.useValue);else if(function(n){return!(!n||!n.useFactory)}(n))i=()=>n.useFactory(...Ao(n.deps||[]));else if(function(n){return!(!n||!n.useExisting)}(n))i=()=>$(he(n.useExisting));else{const s=he(n&&(n.useClass||n.provide));if(!function(n){return!!n.deps}(n))return lo(s)||Uf(s);i=()=>new s(...Ao(n.deps))}return i}function Vo(n,t,e=!1){return{factory:n,value:t,multi:e?[]:void 0}}function Gv(n){return null!==n&&"object"==typeof n&&Vd in n}function Vr(n){return"function"==typeof n}const Uv=function(n,t,e){return function(n,t=null,e=null,i){const s=Hv(n,t,e,i);return s._resolveInjectorDefTypes(),s}({name:e},t,n,e)};let Pt=(()=>{class n{static create(e,i){return Array.isArray(e)?Uv(e,i,""):Uv(e.providers,e.parent,e.name||"")}}return n.THROW_IF_NOT_FOUND=_a,n.NULL=new Gi,n.\u0275prov=le({token:n,providedIn:"any",factory:()=>$(Ma)}),n.__NG_ELEMENT_ID__=-1,n})();function iH(n,t){eu(ss(n)[1],Ut())}function It(n){let t=function(n){return Object.getPrototypeOf(n.prototype).constructor}(n.type),e=!0;const i=[n];for(;t;){let s;if(ts(n))s=t.\u0275cmp||t.\u0275dir;else{if(t.\u0275cmp)throw new Error("Directives cannot inherit Components");s=t.\u0275dir}if(s){if(e){i.push(s);const o=n;o.inputs=Ww(n.inputs),o.declaredInputs=Ww(n.declaredInputs),o.outputs=Ww(n.outputs);const a=s.hostBindings;a&&oH(n,a);const l=s.viewQuery,h=s.contentQueries;if(l&&sH(n,l),h&&rH(n,h),Bc(n.inputs,s.inputs),Bc(n.declaredInputs,s.declaredInputs),Bc(n.outputs,s.outputs),ts(s)&&s.data.animation){const f=n.data;f.animation=(f.animation||[]).concat(s.data.animation)}}const r=s.features;if(r)for(let o=0;o<r.length;o++){const a=r[o];a&&a.ngInherit&&a(n),a===It&&(e=!1)}}t=Object.getPrototypeOf(t)}!function(n){let t=0,e=null;for(let i=n.length-1;i>=0;i--){const s=n[i];s.hostVars=t+=s.hostVars,s.hostAttrs=iu(s.hostAttrs,e=iu(e,s.hostAttrs))}}(i)}function Ww(n){return n===sa?{}:n===pt?[]:n}function sH(n,t){const e=n.viewQuery;n.viewQuery=e?(i,s)=>{t(i,s),e(i,s)}:t}function rH(n,t){const e=n.contentQueries;n.contentQueries=e?(i,s,r)=>{t(i,s,r),e(i,s,r)}:t}function oH(n,t){const e=n.hostBindings;n.hostBindings=e?(i,s)=>{t(i,s),e(i,s)}:t}let Yv=null;function Vu(){if(!Yv){const n=ot.Symbol;if(n&&n.iterator)Yv=n.iterator;else{const t=Object.getOwnPropertyNames(Map.prototype);for(let e=0;e<t.length;++e){const i=t[e];"entries"!==i&&"size"!==i&&Map.prototype[i]===Map.prototype.entries&&(Yv=i)}}}return Yv}class ur{constructor(t){this.wrapped=t}static wrap(t){return new ur(t)}static unwrap(t){return ur.isWrapped(t)?t.wrapped:t}static isWrapped(t){return t instanceof ur}}function Yf(n){return!!zw(n)&&(Array.isArray(n)||!(n instanceof Map)&&Vu()in n)}function zw(n){return null!==n&&("function"==typeof n||"object"==typeof n)}function Fr(n,t,e){return n[t]=e}function rn(n,t,e){return!Object.is(n[t],e)&&(n[t]=e,!0)}function Yl(n,t,e,i){const s=rn(n,t,e);return rn(n,t+1,i)||s}function hr(n,t,e,i){const s=W();return rn(s,Tr(),t)&&(it(),xs(Bt(),s,n,t,e,i)),hr}function Fu(n,t,e,i){return rn(n,Tr(),e)?t+Ae(e)+i:de}function Re(n,t,e,i,s,r,o,a){const l=W(),h=it(),f=n+20,p=h.firstCreatePass?function(n,t,e,i,s,r,o,a,l){const h=t.consts,f=Pa(t,n,4,o||null,Bi(h,a));Tf(t,e,f,Bi(h,l)),eu(t,f);const p=f.tViews=Nu(2,f,i,s,r,t.directiveRegistry,t.pipeRegistry,null,t.schemas,h);return null!==t.queries&&(t.queries.template(t,f),p.queries=t.queries.embeddedTView(f)),f}(f,h,l,t,e,i,s,r,o):h.data[f];Ss(p,!1);const y=l[11].createComment("");Eu(h,l,y,p),Di(y,l),Ru(l,l[f]=Lv(y,l,y,p)),pl(p)&&zl(h,l,p),null!=o&&Af(l,p,a)}function V(n,t=me.Default){const e=W();return null===e?$(n,t):rr(Ut(),e,he(n),t)}function K(n,t,e){const i=W();return rn(i,Tr(),t)&&Dn(it(),Bt(),i,n,t,i[11],e,!1),K}function Zw(n,t,e,i,s){const o=s?"class":"style";$v(n,e,t.inputs[o],o,i)}function m(n,t,e,i){const s=W(),r=it(),o=20+n,a=s[11],l=s[o]=Zd(a,t,we.lFrame.currentNamespace),h=r.firstCreatePass?function(n,t,e,i,s,r,o){const a=t.consts,h=Pa(t,n,2,s,Bi(a,r));return Tf(t,e,h,Bi(a,o)),null!==h.attrs&&Bu(h,h.attrs,!1),null!==h.mergedAttrs&&Bu(h,h.mergedAttrs,!0),null!==t.queries&&t.queries.elementStart(t,h),h}(o,r,s,0,t,e,i):r.data[o];Ss(h,!0);const f=h.mergedAttrs;null!==f&&Zi(a,l,f);const p=h.classes;null!==p&&Cu(a,l,p);const y=h.styles;null!==y&&cf(a,l,y),64!=(64&h.flags)&&Eu(r,s,l,h),0===we.lFrame.elementDepthCount&&Di(l,s),we.lFrame.elementDepthCount++,pl(h)&&(zl(r,s,h),function(n,t,e){if(fl(t)){const s=t.directiveEnd;for(let r=t.directiveStart;r<s;r++){const o=n.data[r];o.contentQueries&&o.contentQueries(1,e[r],r)}}}(r,h,s)),null!==i&&Af(s,h)}function v(){let n=Ut();Qc()?we.lFrame.isParent=!1:(n=n.parent,Ss(n,!1));const t=n;we.lFrame.elementDepthCount--;const e=it();e.firstCreatePass&&(eu(e,n),fl(n)&&e.queries.elementEnd(n)),null!=t.classesWithoutHost&&function(n){return 0!=(16&n.flags)}(t)&&Zw(e,t,W(),t.classesWithoutHost,!0),null!=t.stylesWithoutHost&&function(n){return 0!=(32&n.flags)}(t)&&Zw(e,t,W(),t.stylesWithoutHost,!1)}function re(n,t,e,i){m(n,t,e,i),v()}function $o(){return W()}function Zv(n){return!!n&&"function"==typeof n.then}const Xw=function(n){return!!n&&"function"==typeof n.subscribe};function Ge(n,t,e,i){const s=W(),r=it(),o=Ut();return function(n,t,e,i,s,r,o,a){const l=pl(i),f=n.firstCreatePass&&Lu(n),p=t[8],y=Vv(t);let _=!0;if(3&i.type||a){const P=Be(i,t),N=a?a(P):P,I=y.length,H=a?G=>a(ei(G[i.index])):i.index;if(Mt(e)){let G=null;if(!a&&l&&(G=function(n,t,e,i){const s=n.cleanup;if(null!=s)for(let r=0;r<s.length-1;r+=2){const o=s[r];if(o===e&&s[r+1]===i){const a=t[7],l=s[r+2];return a.length>l?a[l]:null}"string"==typeof o&&(r+=2)}return null}(n,t,s,i.index)),null!==G)(G.__ngLastListenerFn__||G).__ngNextListenerFn__=r,G.__ngLastListenerFn__=r,_=!1;else{r=eC(i,t,p,r,!1);const Q=e.listen(N,s,r);y.push(r,Q),f&&f.push(s,H,I,I+1)}}else r=eC(i,t,p,r,!0),N.addEventListener(s,r,o),y.push(r),f&&f.push(s,H,I,o)}else r=eC(i,t,p,r,!1);const w=i.outputs;let T;if(_&&null!==w&&(T=w[s])){const P=T.length;if(P)for(let N=0;N<P;N+=2){const te=t[T[N]][T[N+1]].subscribe(r),ae=y.length;y.push(r,te),f&&f.push(s,i.index,ae,-(ae+1))}}}(r,s,s[11],o,n,t,!!e,i),Ge}function eN(n,t,e,i){try{return!1!==e(i)}catch(s){return $f(n,s),!1}}function eC(n,t,e,i,s){return function r(o){if(o===Function)return i;const a=2&n.flags?yn(n.index,t):t;0==(32&t[2])&&Nf(a);let l=eN(t,0,i,o),h=r.__ngNextListenerFn__;for(;h;)l=eN(t,0,h,o)&&l,h=h.__ngNextListenerFn__;return s&&!1===l&&(o.preventDefault(),o.returnValue=!1),l}}function Tt(n=1){return function(n){return(we.lFrame.contextLView=function(n,t){for(;n>0;)t=t[15],n--;return t}(n,we.lFrame.contextLView))[8]}(n)}function Jf(n,t,e,i,s){const r=W(),o=Fu(r,t,e,i);return o!==de&&Dn(it(),Bt(),r,n,o,r[11],s,!1),Jf}function dN(n,t,e,i,s){const r=n[e+1],o=null===t;let a=i?fe(r):ar(r),l=!1;for(;0!==a&&(!1===l||o);){const f=n[a+1];jH(n[a],t)&&(l=!0,n[a+1]=i?Sf(f):Vt(f)),a=i?fe(f):ar(f)}l&&(n[e+1]=i?Vt(r):Sf(r))}function jH(n,t){return null===n||null==t||(Array.isArray(n)?n[1]:n)===t||!(!Array.isArray(n)||"string"!=typeof t)&&Co(n,t)>=0}const bi={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function fN(n){return n.substring(bi.key,bi.keyEnd)}function pN(n,t){const e=bi.textEnd;return e===t?-1:(t=bi.keyEnd=function(n,t,e){for(;t<e&&n.charCodeAt(t)>32;)t++;return t}(n,bi.key=t,e),Yu(n,t,e))}function Yu(n,t,e){for(;t<e&&n.charCodeAt(t)<=32;)t++;return t}function Zf(n,t,e){return dr(n,t,e,!1),Zf}function Ql(n,t){return dr(n,t,null,!0),Ql}function Os(n){!function(n,t,e,i){const s=it(),r=_n(2);s.firstUpdatePass&&bN(s,null,r,i);const o=W();if(e!==de&&rn(o,r,e)){const a=s.data[be()];if(CN(a,i)&&!_N(s,r)){let l=i?a.classesWithoutHost:a.stylesWithoutHost;null!==l&&(e=td(l,e||"")),Zw(s,a,o,e,i)}else!function(n,t,e,i,s,r,o,a){s===de&&(s=pt);let l=0,h=0,f=0<s.length?s[0]:null,p=0<r.length?r[0]:null;for(;null!==f||null!==p;){const y=l<s.length?s[l+1]:void 0,_=h<r.length?r[h+1]:void 0;let T,w=null;f===p?(l+=2,h+=2,y!==_&&(w=p,T=_)):null===p||null!==f&&f<p?(l+=2,w=f):(h+=2,w=p,T=_),null!==w&&EN(n,t,e,i,w,T,o,a),f=l<s.length?s[l]:null,p=h<r.length?r[h]:null}}(s,a,o,o[11],o[r+1],o[r+1]=function(n,t,e){if(null==e||""===e)return pt;const i=[],s=kn(e);if(Array.isArray(s))for(let r=0;r<s.length;r++)n(i,s[r],!0);else if("object"==typeof s)for(const r in s)s.hasOwnProperty(r)&&n(i,r,s[r]);else"string"==typeof s&&t(i,s);return i}(n,t,e),i,r)}}(wn,qr,n,!0)}function qr(n,t){for(let e=function(n){return function(n){bi.key=0,bi.keyEnd=0,bi.value=0,bi.valueEnd=0,bi.textEnd=n.length}(n),pN(n,Yu(n,0,bi.textEnd))}(t);e>=0;e=pN(t,e))wn(n,fN(t),!0)}function dr(n,t,e,i){const s=W(),r=it(),o=_n(2);r.firstUpdatePass&&bN(r,n,o,i),t!==de&&rn(s,o,t)&&EN(r,r.data[be()],s,s[11],n,s[o+1]=function(n,t){return null==n||("string"==typeof t?n+=t:"object"==typeof n&&(n=Ve(kn(n)))),n}(t,e),i,o)}function _N(n,t){return t>=n.expandoStartIndex}function bN(n,t,e,i){const s=n.data;if(null===s[e+1]){const r=s[be()],o=_N(n,e);CN(r,i)&&null===t&&!o&&(t=!1),t=function(n,t,e,i){const s=function(n){const t=we.lFrame.currentDirectiveIndex;return-1===t?null:n[t]}(n);let r=i?t.residualClasses:t.residualStyles;if(null===s)0===(i?t.classBindings:t.styleBindings)&&(e=Xf(e=tC(null,n,t,e,i),t.attrs,i),r=null);else{const o=t.directiveStylingLast;if(-1===o||n[o]!==s)if(e=tC(s,n,t,e,i),null===r){let l=function(n,t,e){const i=e?t.classBindings:t.styleBindings;if(0!==ar(i))return n[fe(i)]}(n,t,i);void 0!==l&&Array.isArray(l)&&(l=tC(null,n,t,l[1],i),l=Xf(l,t.attrs,i),function(n,t,e,i){n[fe(e?t.classBindings:t.styleBindings)]=i}(n,t,i,l))}else r=function(n,t,e){let i;const s=t.directiveEnd;for(let r=1+t.directiveStylingLast;r<s;r++)i=Xf(i,n[r].hostAttrs,e);return Xf(i,t.attrs,e)}(n,t,i)}return void 0!==r&&(i?t.residualClasses=r:t.residualStyles=r),e}(s,r,t,i),function(n,t,e,i,s,r){let o=r?t.classBindings:t.styleBindings,a=fe(o),l=ar(o);n[i]=e;let f,h=!1;if(Array.isArray(e)){const p=e;f=p[1],(null===f||Co(p,f)>0)&&(h=!0)}else f=e;if(s)if(0!==l){const y=fe(n[a+1]);n[i+1]=Ps(y,a),0!==y&&(n[y+1]=As(n[y+1],i)),n[a+1]=function(n,t){return 131071&n|t<<17}(n[a+1],i)}else n[i+1]=Ps(a,0),0!==a&&(n[a+1]=As(n[a+1],i)),a=i;else n[i+1]=Ps(l,0),0===a?a=i:n[l+1]=As(n[l+1],i),l=i;h&&(n[i+1]=Vt(n[i+1])),dN(n,f,i,!0),dN(n,f,i,!1),function(n,t,e,i,s){const r=s?n.residualClasses:n.residualStyles;null!=r&&"string"==typeof t&&Co(r,t)>=0&&(e[i+1]=Sf(e[i+1]))}(t,f,n,i,r),o=Ps(a,l),r?t.classBindings=o:t.styleBindings=o}(s,r,t,e,o,i)}}function tC(n,t,e,i,s){let r=null;const o=e.directiveEnd;let a=e.directiveStylingLast;for(-1===a?a=e.directiveStart:a++;a<o&&(r=t[a],i=Xf(i,r.hostAttrs,s),r!==n);)a++;return null!==n&&(e.directiveStylingLast=a),i}function Xf(n,t,e){const i=e?1:2;let s=-1;if(null!==t)for(let r=0;r<t.length;r++){const o=t[r];"number"==typeof o?s=o:s===i&&(Array.isArray(n)||(n=void 0===n?[]:["",n]),wn(n,o,!!e||t[++r]))}return void 0===n?null:n}function EN(n,t,e,i,s,r,o,a){if(!(3&t.type))return;const l=n.data,h=l[a+1];Xv(function(n){return 1==(1&n)}(h)?wN(l,t,e,s,ar(h),o):void 0)||(Xv(r)||function(n){return 2==(2&n)}(h)&&(r=wN(l,null,e,s,a,o)),function(n,t,e,i,s){const r=Mt(n);if(t)s?r?n.addClass(e,i):e.classList.add(i):r?n.removeClass(e,i):e.classList.remove(i);else{let o=-1===i.indexOf("-")?void 0:en.DashCase;if(null==s)r?n.removeStyle(e,i,o):e.style.removeProperty(i);else{const a="string"==typeof s&&s.endsWith("!important");a&&(s=s.slice(0,-10),o|=en.Important),r?n.setStyle(e,i,s,o):e.style.setProperty(i,s,a?"important":"")}}}(i,o,uo(be(),e),s,r))}function wN(n,t,e,i,s,r){const o=null===t;let a;for(;s>0;){const l=n[s],h=Array.isArray(l),f=h?l[1]:l,p=null===f;let y=e[s+1];y===de&&(y=p?pt:void 0);let _=p?wo(y,i):f===i?y:void 0;if(h&&!Xv(_)&&(_=wo(l,i)),Xv(_)&&(a=_,o))return a;const w=n[s+1];s=o?fe(w):ar(w)}if(null!==t){let l=r?t.residualClasses:t.residualStyles;null!=l&&(a=wo(l,i))}return a}function Xv(n){return void 0!==n}function CN(n,t){return 0!=(n.flags&(t?16:32))}function k(n,t=""){const e=W(),i=it(),s=n+20,r=i.firstCreatePass?Pa(i,s,1,t,null):i.data[s],o=e[s]=function(n,t){return Mt(n)?n.createText(t):n.createTextNode(t)}(e[11],t);Eu(i,e,o,r),Ss(r,!1)}function on(n){return Ti("",n,""),on}function Ti(n,t,e){const i=W(),s=Fu(i,n,t,e);return s!==de&&lr(i,be(),s),Ti}function ep(n,t,e,i,s){const r=W(),o=function(n,t,e,i,s,r){const a=Yl(n,is(),e,s);return _n(2),a?t+Ae(e)+i+Ae(s)+r:de}(r,n,t,e,i,s);return o!==de&&lr(r,be(),o),ep}const Jl=void 0;var kq=["en",[["a","p"],["AM","PM"],Jl],[["AM","PM"],Jl,Jl],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Jl,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Jl,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Jl,"{1} 'at' {0}",Jl],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function(n){const t=Math.floor(Math.abs(n)),e=n.toString().replace(/^[^.]*\.?/,"").length;return 1===t&&0===e?1:5}];let Qu={};function UN(n){return n in Qu||(Qu[n]=ot.ng&&ot.ng.common&&ot.ng.common.locales&&ot.ng.common.locales[n]),Qu[n]}var ne=(()=>((ne=ne||{})[ne.LocaleId=0]="LocaleId",ne[ne.DayPeriodsFormat=1]="DayPeriodsFormat",ne[ne.DayPeriodsStandalone=2]="DayPeriodsStandalone",ne[ne.DaysFormat=3]="DaysFormat",ne[ne.DaysStandalone=4]="DaysStandalone",ne[ne.MonthsFormat=5]="MonthsFormat",ne[ne.MonthsStandalone=6]="MonthsStandalone",ne[ne.Eras=7]="Eras",ne[ne.FirstDayOfWeek=8]="FirstDayOfWeek",ne[ne.WeekendRange=9]="WeekendRange",ne[ne.DateFormat=10]="DateFormat",ne[ne.TimeFormat=11]="TimeFormat",ne[ne.DateTimeFormat=12]="DateTimeFormat",ne[ne.NumberSymbols=13]="NumberSymbols",ne[ne.NumberFormats=14]="NumberFormats",ne[ne.CurrencyCode=15]="CurrencyCode",ne[ne.CurrencySymbol=16]="CurrencySymbol",ne[ne.CurrencyName=17]="CurrencyName",ne[ne.Currencies=18]="Currencies",ne[ne.Directionality=19]="Directionality",ne[ne.PluralCase=20]="PluralCase",ne[ne.ExtraData=21]="ExtraData",ne))();const ey="en-US";let jN=ey;function iC(n){gn(n,"Expected localeId to be defined"),"string"==typeof n&&(jN=n.toLowerCase().replace(/_/g,"-"))}function rC(n,t,e,i,s){if(n=he(n),Array.isArray(n))for(let r=0;r<n.length;r++)rC(n[r],t,e,i,s);else{const r=it(),o=W();let a=Vr(n)?n:he(n.provide),l=qv(n);const h=Ut(),f=1048575&h.providerIndexes,p=h.directiveStart,y=h.providerIndexes>>20;if(Vr(n)||!n.multi){const _=new bn(l,s,V),w=aC(a,t,s?f:f+y,p);-1===w?(su(Sn(h,o),r,a),oC(r,n,t.length),t.push(a),h.directiveStart++,h.directiveEnd++,s&&(h.providerIndexes+=1048576),e.push(_),o.push(_)):(e[w]=_,o[w]=_)}else{const _=aC(a,t,f+y,p),w=aC(a,t,f,f+y),T=_>=0&&e[_],P=w>=0&&e[w];if(s&&!P||!s&&!T){su(Sn(h,o),r,a);const N=function(n,t,e,i,s){const r=new bn(n,e,V);return r.multi=[],r.index=t,r.componentProviders=0,gR(r,s,i&&!e),r}(s?E4:S4,e.length,s,i,l);!s&&P&&(e[w].providerFactory=N),oC(r,n,t.length,0),t.push(a),h.directiveStart++,h.directiveEnd++,s&&(h.providerIndexes+=1048576),e.push(N),o.push(N)}else oC(r,n,_>-1?_:w,gR(e[s?w:_],l,!s&&i));!s&&i&&P&&e[w].componentProviders++}}}function oC(n,t,e,i){const s=Vr(t);if(s||function(n){return!!n.useClass}(t)){const o=(t.useClass||t).prototype.ngOnDestroy;if(o){const a=n.destroyHooks||(n.destroyHooks=[]);if(!s&&t.multi){const l=a.indexOf(e);-1===l?a.push(e,[i,o]):a[l+1].push(i,o)}else a.push(e,o)}}}function gR(n,t,e){return e&&n.componentProviders++,n.multi.push(t)-1}function aC(n,t,e,i){for(let s=e;s<i;s++)if(t[s]===n)return s;return-1}function S4(n,t,e,i){return lC(this.multi,[])}function E4(n,t,e,i){const s=this.multi;let r;if(this.providerFactory){const o=this.providerFactory.componentProviders,a=ma(e,e[1],this.providerFactory.index,i);r=a.slice(0,o),lC(s,r);for(let l=o;l<a.length;l++)r.push(a[l])}else r=[],lC(s,r);return r}function lC(n,t){for(let e=0;e<n.length;e++)t.push((0,n[e])());return t}function rt(n,t=[]){return e=>{e.providersResolver=(i,s)=>function(n,t,e){const i=it();if(i.firstCreatePass){const s=ts(n);rC(e,i.data,i.blueprint,s,!0),rC(t,i.data,i.blueprint,s,!1)}}(i,s?s(n):n,t)}}class mR{}const yR="ngComponent";class k4{resolveComponentFactory(t){throw function(n){const t=Error(`No component factory found for ${Ve(n)}. Did you add it to @NgModule.entryComponents?`);return t[yR]=n,t}(t)}}let Zu=(()=>{class n{}return n.NULL=new k4,n})();function ry(...n){}function Xu(n,t){return new Ot(Be(n,t))}const A4=function(){return Xu(Ut(),W())};let Ot=(()=>{class n{constructor(e){this.nativeElement=e}}return n.__NG_ELEMENT_ID__=A4,n})();function _R(n){return n instanceof Ot?n.nativeElement:n}class Zl{}let Xl=(()=>{class n{}return n.__NG_ELEMENT_ID__=()=>x4(),n})();const x4=function(){const n=W(),e=yn(Ut().index,n);return function(n){return n[11]}(es(e)?e:n)};let uC=(()=>{class n{}return n.\u0275prov=le({token:n,providedIn:"root",factory:()=>null}),n})();class oy{constructor(t){this.full=t,this.major=t.split(".")[0],this.minor=t.split(".")[1],this.patch=t.split(".").slice(2).join(".")}}const bR=new oy("12.2.17");class SR{constructor(){}supports(t){return Yf(t)}create(t){return new N4(t)}}const O4=(n,t)=>t;class N4{constructor(t){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=t||O4}forEachItem(t){let e;for(e=this._itHead;null!==e;e=e._next)t(e)}forEachOperation(t){let e=this._itHead,i=this._removalsHead,s=0,r=null;for(;e||i;){const o=!i||e&&e.currentIndex<wR(i,s,r)?e:i,a=wR(o,s,r),l=o.currentIndex;if(o===i)s--,i=i._nextRemoved;else if(e=e._next,null==o.previousIndex)s++;else{r||(r=[]);const h=a-s,f=l-s;if(h!=f){for(let y=0;y<h;y++){const _=y<r.length?r[y]:r[y]=0,w=_+y;f<=w&&w<h&&(r[y]=_+1)}r[o.previousIndex]=f-h}}a!==l&&t(o,a,l)}}forEachPreviousItem(t){let e;for(e=this._previousItHead;null!==e;e=e._nextPrevious)t(e)}forEachAddedItem(t){let e;for(e=this._additionsHead;null!==e;e=e._nextAdded)t(e)}forEachMovedItem(t){let e;for(e=this._movesHead;null!==e;e=e._nextMoved)t(e)}forEachRemovedItem(t){let e;for(e=this._removalsHead;null!==e;e=e._nextRemoved)t(e)}forEachIdentityChange(t){let e;for(e=this._identityChangesHead;null!==e;e=e._nextIdentityChange)t(e)}diff(t){if(null==t&&(t=[]),!Yf(t))throw new Error(`Error trying to diff '${Ve(t)}'. Only arrays and iterables are allowed`);return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let s,r,o,e=this._itHead,i=!1;if(Array.isArray(t)){this.length=t.length;for(let a=0;a<this.length;a++)r=t[a],o=this._trackByFn(a,r),null!==e&&Object.is(e.trackById,o)?(i&&(e=this._verifyReinsertion(e,r,o,a)),Object.is(e.item,r)||this._addIdentityChange(e,r)):(e=this._mismatch(e,r,o,a),i=!0),e=e._next}else s=0,function(n,t){if(Array.isArray(n))for(let e=0;e<n.length;e++)t(n[e]);else{const e=n[Vu()]();let i;for(;!(i=e.next()).done;)t(i.value)}}(t,a=>{o=this._trackByFn(s,a),null!==e&&Object.is(e.trackById,o)?(i&&(e=this._verifyReinsertion(e,a,o,s)),Object.is(e.item,a)||this._addIdentityChange(e,a)):(e=this._mismatch(e,a,o,s),i=!0),e=e._next,s++}),this.length=s;return this._truncate(e),this.collection=t,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let t;for(t=this._previousItHead=this._itHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._additionsHead;null!==t;t=t._nextAdded)t.previousIndex=t.currentIndex;for(this._additionsHead=this._additionsTail=null,t=this._movesHead;null!==t;t=t._nextMoved)t.previousIndex=t.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(t,e,i,s){let r;return null===t?r=this._itTail:(r=t._prev,this._remove(t)),null!==(t=null===this._unlinkedRecords?null:this._unlinkedRecords.get(i,null))?(Object.is(t.item,e)||this._addIdentityChange(t,e),this._reinsertAfter(t,r,s)):null!==(t=null===this._linkedRecords?null:this._linkedRecords.get(i,s))?(Object.is(t.item,e)||this._addIdentityChange(t,e),this._moveAfter(t,r,s)):t=this._addAfter(new R4(e,i),r,s),t}_verifyReinsertion(t,e,i,s){let r=null===this._unlinkedRecords?null:this._unlinkedRecords.get(i,null);return null!==r?t=this._reinsertAfter(r,t._prev,s):t.currentIndex!=s&&(t.currentIndex=s,this._addToMoves(t,s)),t}_truncate(t){for(;null!==t;){const e=t._next;this._addToRemovals(this._unlink(t)),t=e}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(t,e,i){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(t);const s=t._prevRemoved,r=t._nextRemoved;return null===s?this._removalsHead=r:s._nextRemoved=r,null===r?this._removalsTail=s:r._prevRemoved=s,this._insertAfter(t,e,i),this._addToMoves(t,i),t}_moveAfter(t,e,i){return this._unlink(t),this._insertAfter(t,e,i),this._addToMoves(t,i),t}_addAfter(t,e,i){return this._insertAfter(t,e,i),this._additionsTail=null===this._additionsTail?this._additionsHead=t:this._additionsTail._nextAdded=t,t}_insertAfter(t,e,i){const s=null===e?this._itHead:e._next;return t._next=s,t._prev=e,null===s?this._itTail=t:s._prev=t,null===e?this._itHead=t:e._next=t,null===this._linkedRecords&&(this._linkedRecords=new ER),this._linkedRecords.put(t),t.currentIndex=i,t}_remove(t){return this._addToRemovals(this._unlink(t))}_unlink(t){null!==this._linkedRecords&&this._linkedRecords.remove(t);const e=t._prev,i=t._next;return null===e?this._itHead=i:e._next=i,null===i?this._itTail=e:i._prev=e,t}_addToMoves(t,e){return t.previousIndex===e||(this._movesTail=null===this._movesTail?this._movesHead=t:this._movesTail._nextMoved=t),t}_addToRemovals(t){return null===this._unlinkedRecords&&(this._unlinkedRecords=new ER),this._unlinkedRecords.put(t),t.currentIndex=null,t._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=t,t._prevRemoved=null):(t._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=t),t}_addIdentityChange(t,e){return t.item=e,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=t:this._identityChangesTail._nextIdentityChange=t,t}}class R4{constructor(t,e){this.item=t,this.trackById=e,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class L4{constructor(){this._head=null,this._tail=null}add(t){null===this._head?(this._head=this._tail=t,t._nextDup=null,t._prevDup=null):(this._tail._nextDup=t,t._prevDup=this._tail,t._nextDup=null,this._tail=t)}get(t,e){let i;for(i=this._head;null!==i;i=i._nextDup)if((null===e||e<=i.currentIndex)&&Object.is(i.trackById,t))return i;return null}remove(t){const e=t._prevDup,i=t._nextDup;return null===e?this._head=i:e._nextDup=i,null===i?this._tail=e:i._prevDup=e,null===this._head}}class ER{constructor(){this.map=new Map}put(t){const e=t.trackById;let i=this.map.get(e);i||(i=new L4,this.map.set(e,i)),i.add(t)}get(t,e){const s=this.map.get(t);return s?s.get(t,e):null}remove(t){const e=t.trackById;return this.map.get(e).remove(t)&&this.map.delete(e),t}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function wR(n,t,e){const i=n.previousIndex;if(null===i)return i;let s=0;return e&&i<e.length&&(s=e[i]),i+t+s}class CR{constructor(){}supports(t){return t instanceof Map||zw(t)}create(){return new B4}}class B4{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(t){let e;for(e=this._mapHead;null!==e;e=e._next)t(e)}forEachPreviousItem(t){let e;for(e=this._previousMapHead;null!==e;e=e._nextPrevious)t(e)}forEachChangedItem(t){let e;for(e=this._changesHead;null!==e;e=e._nextChanged)t(e)}forEachAddedItem(t){let e;for(e=this._additionsHead;null!==e;e=e._nextAdded)t(e)}forEachRemovedItem(t){let e;for(e=this._removalsHead;null!==e;e=e._nextRemoved)t(e)}diff(t){if(t){if(!(t instanceof Map||zw(t)))throw new Error(`Error trying to diff '${Ve(t)}'. Only maps and objects are allowed`)}else t=new Map;return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let e=this._mapHead;if(this._appendAfter=null,this._forEach(t,(i,s)=>{if(e&&e.key===s)this._maybeAddToChanges(e,i),this._appendAfter=e,e=e._next;else{const r=this._getOrCreateRecordForKey(s,i);e=this._insertBeforeOrAppend(e,r)}}),e){e._prev&&(e._prev._next=null),this._removalsHead=e;for(let i=e;null!==i;i=i._nextRemoved)i===this._mapHead&&(this._mapHead=null),this._records.delete(i.key),i._nextRemoved=i._next,i.previousValue=i.currentValue,i.currentValue=null,i._prev=null,i._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(t,e){if(t){const i=t._prev;return e._next=t,e._prev=i,t._prev=e,i&&(i._next=e),t===this._mapHead&&(this._mapHead=e),this._appendAfter=t,t}return this._appendAfter?(this._appendAfter._next=e,e._prev=this._appendAfter):this._mapHead=e,this._appendAfter=e,null}_getOrCreateRecordForKey(t,e){if(this._records.has(t)){const s=this._records.get(t);this._maybeAddToChanges(s,e);const r=s._prev,o=s._next;return r&&(r._next=o),o&&(o._prev=r),s._next=null,s._prev=null,s}const i=new V4(t);return this._records.set(t,i),i.currentValue=e,this._addToAdditions(i),i}_reset(){if(this.isDirty){let t;for(this._previousMapHead=this._mapHead,t=this._previousMapHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._changesHead;null!==t;t=t._nextChanged)t.previousValue=t.currentValue;for(t=this._additionsHead;null!=t;t=t._nextAdded)t.previousValue=t.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(t,e){Object.is(e,t.currentValue)||(t.previousValue=t.currentValue,t.currentValue=e,this._addToChanges(t))}_addToAdditions(t){null===this._additionsHead?this._additionsHead=this._additionsTail=t:(this._additionsTail._nextAdded=t,this._additionsTail=t)}_addToChanges(t){null===this._changesHead?this._changesHead=this._changesTail=t:(this._changesTail._nextChanged=t,this._changesTail=t)}_forEach(t,e){t instanceof Map?t.forEach(e):Object.keys(t).forEach(i=>e(t[i],i))}}class V4{constructor(t){this.key=t,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function kR(){return new eh([new SR])}let eh=(()=>{class n{constructor(e){this.factories=e}static create(e,i){if(null!=i){const s=i.factories.slice();e=e.concat(s)}return new n(e)}static extend(e){return{provide:n,useFactory:i=>n.create(e,i||kR()),deps:[[n,new To,new li]]}}find(e){const i=this.factories.find(s=>s.supports(e));if(null!=i)return i;throw new Error(`Cannot find a differ supporting object '${e}' of type '${function(n){return n.name||typeof n}(e)}'`)}}return n.\u0275prov=le({token:n,providedIn:"root",factory:kR}),n})();function DR(){return new th([new CR])}let th=(()=>{class n{constructor(e){this.factories=e}static create(e,i){if(i){const s=i.factories.slice();e=e.concat(s)}return new n(e)}static extend(e){return{provide:n,useFactory:i=>n.create(e,i||DR()),deps:[[n,new To,new li]]}}find(e){const i=this.factories.find(s=>s.supports(e));if(i)return i;throw new Error(`Cannot find a differ supporting object '${e}'`)}}return n.\u0275prov=le({token:n,providedIn:"root",factory:DR}),n})();function ay(n,t,e,i,s=!1){for(;null!==e;){const r=t[e.index];if(null!==r&&i.push(ei(r)),Rn(r))for(let a=10;a<r.length;a++){const l=r[a],h=l[1].firstChild;null!==h&&ay(l[1],l,h,i)}const o=e.type;if(8&o)ay(n,t,e.child,i);else if(32&o){const a=Ol(e,t);let l;for(;l=a();)i.push(l)}else if(16&o){const a=$m(t,e);if(Array.isArray(a))i.push(...a);else{const l=Nl(t[16]);ay(l[1],l,a,i,!0)}}e=s?e.projectionNext:e.next}return i}class rp{constructor(t,e){this._lView=t,this._cdRefInjectingView=e,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const t=this._lView,e=t[1];return ay(e,t,e.firstChild,[])}get context(){return this._lView[8]}set context(t){this._lView[8]=t}get destroyed(){return 256==(256&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const t=this._lView[3];if(Rn(t)){const e=t[8],i=e?e.indexOf(this):-1;i>-1&&(ef(t,i),Eo(e,i))}this._attachedToViewContainer=!1}Nm(this._lView[1],this._lView)}onDestroy(t){Pv(this._lView[1],this._lView,null,t)}markForCheck(){Nf(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-129}reattach(){this._lView[2]|=128}detectChanges(){Lf(this._lView[1],this._lView,this.context)}checkNoChanges(){!function(n,t,e){Jc(!0);try{Lf(n,t,e)}finally{Jc(!1)}}(this._lView[1],this._lView,this.context)}attachToViewContainerRef(){if(this._appRef)throw new Error("This view is already attached directly to the ApplicationRef!");this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function(n,t){Bl(n,t,t[11],2,null,null)}(this._lView[1],this._lView)}attachToAppRef(t){if(this._attachedToViewContainer)throw new Error("This view is already attached to a ViewContainer!");this._appRef=t}}class F4 extends rp{constructor(t){super(t),this._view=t}detectChanges(){Bv(this._view)}checkNoChanges(){!function(n){Jc(!0);try{Bv(n)}finally{Jc(!1)}}(this._view)}get context(){return null}}const q4=function(n){return function(n,t,e){if(aa(n)&&!e){const i=yn(n.index,t);return new rp(i,i)}return 47&n.type?new rp(t[16],t):null}(Ut(),W(),16==(16&n))};let ly=(()=>{class n{}return n.__NG_ELEMENT_ID__=q4,n})();const j4=[new CR],z4=new eh([new SR]),K4=new th(j4),Q4=function(){return cy(Ut(),W())};let Ns=(()=>{class n{}return n.__NG_ELEMENT_ID__=Q4,n})();const J4=Ns,Z4=class extends J4{constructor(t,e,i){super(),this._declarationLView=t,this._declarationTContainer=e,this.elementRef=i}createEmbeddedView(t){const e=this._declarationTContainer.tViews,i=jl(this._declarationLView,e,t,16,null,e.declTNode,null,null,null,null);i[17]=this._declarationLView[this._declarationTContainer.index];const r=this._declarationLView[19];return null!==r&&(i[19]=r.createEmbeddedView(e)),Wl(e,i,t),new rp(i)}};function cy(n,t){return 4&n.type?new Z4(t,n,Xu(n,t)):null}class ec{}const iG=function(){return TR(Ut(),W())};let Rs=(()=>{class n{}return n.__NG_ELEMENT_ID__=iG,n})();const sG=Rs,PR=class extends sG{constructor(t,e,i){super(),this._lContainer=t,this._hostTNode=e,this._hostLView=i}get element(){return Xu(this._hostTNode,this._hostLView)}get injector(){return new Fi(this._hostTNode,this._hostLView)}get parentInjector(){const t=$i(this._hostTNode,this._hostLView);if(tm(t)){const e=fa(t,this._hostLView),i=vo(t);return new Fi(e[1].data[i+8],e)}return new Fi(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(t){const e=AR(this._lContainer);return null!==e&&e[t]||null}get length(){return this._lContainer.length-10}createEmbeddedView(t,e,i){const s=t.createEmbeddedView(e||{});return this.insert(s,i),s}createComponent(t,e,i,s,r){const o=i||this.parentInjector;if(!r&&null==t.ngModule&&o){const l=o.get(ec,null);l&&(r=l)}const a=t.create(o,s,void 0,r);return this.insert(a.hostView,e),a}insert(t,e){const i=t._lView,s=i[1];if(function(n){return Rn(n[3])}(i)){const f=this.indexOf(t);if(-1!==f)this.detach(f);else{const p=i[3],y=new PR(p,p[6],p[3]);y.detach(y.indexOf(t))}}const r=this._adjustIndex(e),o=this._lContainer;!function(n,t,e,i){const s=10+i,r=e.length;i>0&&(e[s-1][4]=t),i<r-10?(t[4]=e[s],Dl(e,10+i,t)):(e.push(t),t[4]=null),t[3]=e;const o=t[17];null!==o&&e!==o&&function(n,t){const e=n[9];t[16]!==t[3][3][16]&&(n[2]=!0),null===e?n[9]=[t]:e.push(t)}(o,t);const a=t[19];null!==a&&a.insertView(n),t[2]|=128}(s,i,o,r);const a=of(r,o),l=i[11],h=Ll(l,o[7]);return null!==h&&function(n,t,e,i,s,r){i[0]=s,i[6]=t,Bl(n,i,e,1,s,r)}(s,o[6],l,i,h,a),t.attachToViewContainerRef(),Dl(hC(o),r,t),t}move(t,e){return this.insert(t,e)}indexOf(t){const e=AR(this._lContainer);return null!==e?e.indexOf(t):-1}remove(t){const e=this._adjustIndex(t,-1),i=ef(this._lContainer,e);i&&(Eo(hC(this._lContainer),e),Nm(i[1],i))}detach(t){const e=this._adjustIndex(t,-1),i=ef(this._lContainer,e);return i&&null!=Eo(hC(this._lContainer),e)?new rp(i):null}_adjustIndex(t,e=0){return null==t?this.length+e:t}};function AR(n){return n[8]}function hC(n){return n[8]||(n[8]=[])}function TR(n,t){let e;const i=t[n.index];if(Rn(i))e=i;else{let s;if(8&n.type)s=ei(i);else{const r=t[11];s=r.createComment("");const o=Be(n,t);Nr(r,Ll(r,o),s,function(n,t){return Mt(n)?n.nextSibling(t):t.nextSibling}(r,o),!1)}t[n.index]=e=Lv(i,t,s,n),Ru(t,e)}return new PR(e,n,t)}const rh={};class YR extends Zu{constructor(t){super(),this.ngModule=t}resolveComponentFactory(t){const e=wi(t);return new JR(e,this.ngModule)}}function QR(n){const t=[];for(let e in n)n.hasOwnProperty(e)&&t.push({propName:n[e],templateName:e});return t}const eU=new pe("SCHEDULER_TOKEN",{providedIn:"root",factory:()=>yf});class JR extends mR{constructor(t,e){super(),this.componentDef=t,this.ngModule=e,this.componentType=t.type,this.selector=function(n){return n.map(YE).join(",")}(t.selectors),this.ngContentSelectors=t.ngContentSelectors?t.ngContentSelectors:[],this.isBoundToModule=!!e}get inputs(){return QR(this.componentDef.inputs)}get outputs(){return QR(this.componentDef.outputs)}create(t,e,i,s){const r=(s=s||this.ngModule)?function(n,t){return{get:(e,i,s)=>{const r=n.get(e,rh,s);return r!==rh||i===rh?r:t.get(e,i,s)}}}(t,s.injector):t,o=r.get(Zl,vn),a=r.get(uC,null),l=o.createRenderer(null,this.componentDef),h=this.componentDef.selectors[0][0]||"div",f=i?function(n,t,e){if(Mt(n))return n.selectRootElement(t,e===Kt.ShadowDom);let i="string"==typeof t?n.querySelector(t):t;return i.textContent="",i}(l,i,this.componentDef.encapsulation):Zd(o.createRenderer(null,this.componentDef),h,function(n){const t=n.toLowerCase();return"svg"===t?B:"math"===t?"http://www.w3.org/1998/MathML/":null}(h)),p=this.componentDef.onPush?576:528,y=function(n,t){return{components:[],scheduler:n||yf,clean:xw,playerHandler:t||null,flags:0}}(),_=Nu(0,null,null,1,0,null,null,null,null,null),w=jl(null,_,y,p,null,null,o,l,a,r);let T,P;Zc(w);try{const N=function(n,t,e,i,s,r){const o=e[1];e[20]=n;const l=Pa(o,20,2,"#host",null),h=l.mergedAttrs=t.hostAttrs;null!==h&&(Bu(l,h,!0),null!==n&&(Zi(s,n,h),null!==l.classes&&Cu(s,n,l.classes),null!==l.styles&&cf(s,n,l.styles)));const f=i.createRenderer(n,t),p=jl(e,Ou(t),null,t.onPush?64:16,e[20],l,i,f,r||null,null);return o.firstCreatePass&&(su(Sn(l,e),o,t.type),Rv(o,l),xf(l,e.length,1)),Ru(e,p),e[20]=p}(f,this.componentDef,w,o,l);if(f)if(i)Zi(l,f,["ng-version",bR.full]);else{const{attrs:I,classes:H}=function(n){const t=[],e=[];let i=1,s=2;for(;i<n.length;){let r=n[i];if("string"==typeof r)2===s?""!==r&&t.push(r,n[++i]):8===s&&e.push(r);else{if(!ls(s))break;s=r}i++}return{attrs:t,classes:e}}(this.componentDef.selectors[0]);I&&Zi(l,f,I),H&&H.length>0&&Cu(l,f,H.join(" "))}if(P=jc(_,20),void 0!==e){const I=P.projection=[];for(let H=0;H<this.ngContentSelectors.length;H++){const G=e[H];I.push(null!=G?Array.from(G):null)}}T=function(n,t,e,i,s){const r=e[1],o=function(n,t,e){const i=Ut();n.firstCreatePass&&(e.providersResolver&&e.providersResolver(e),Mf(n,i,t,Aa(n,t,1,null),e));const s=ma(t,n,i.directiveStart,i);Di(s,t);const r=Be(i,t);return r&&Di(r,t),s}(r,e,t);if(i.components.push(o),n[8]=o,s&&s.forEach(l=>l(o,t)),t.contentQueries){const l=Ut();t.contentQueries(1,o,l.directiveStart)}const a=Ut();return!r.firstCreatePass||null===t.hostBindings&&null===t.hostAttrs||(Mr(a.index),Ov(e[1],a,0,a.directiveStart,a.directiveEnd,t),Nv(t,o)),o}(N,this.componentDef,w,y,[iH]),Wl(_,w,null)}finally{nr()}return new nU(this.componentType,T,Xu(P,w),w,P)}}class nU extends class{}{constructor(t,e,i,s,r){super(),this.location=i,this._rootLView=s,this._tNode=r,this.instance=e,this.hostView=this.changeDetectorRef=new F4(s),this.componentType=t}get injector(){return new Fi(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(t){this.hostView.onDestroy(t)}}const oh=new Map;class oU extends ec{constructor(t,e){super(),this._parent=e,this._bootstrapComponents=[],this.injector=this,this.destroyCbs=[],this.componentFactoryResolver=new YR(this);const i=gt(t),s=function(n){return n[_S]||null}(t);s&&iC(s),this._bootstrapComponents=as(i.bootstrap),this._r3Injector=Hv(t,e,[{provide:ec,useValue:this},{provide:Zu,useValue:this.componentFactoryResolver}],Ve(t)),this._r3Injector._resolveInjectorDefTypes(),this.instance=this.get(t)}get(t,e=Pt.THROW_IF_NOT_FOUND,i=me.Default){return t===Pt||t===ec||t===Ma?this:this._r3Injector.get(t,e,i)}destroy(){const t=this._r3Injector;!t.destroyed&&t.destroy(),this.destroyCbs.forEach(e=>e()),this.destroyCbs=null}onDestroy(t){this.destroyCbs.push(t)}}class CC extends class{}{constructor(t){super(),this.moduleType=t,null!==gt(t)&&function(n){const t=new Set;!function e(i){const s=gt(i,!0),r=s.id;null!==r&&(function(n,t,e){if(t&&t!==e)throw new Error(`Duplicate module registered for ${n} - ${Ve(t)} vs ${Ve(t.name)}`)}(r,oh.get(r),i),oh.set(r,i));const o=as(s.imports);for(const a of o)t.has(a)||(t.add(a),e(a))}(n)}(t)}create(t){return new oU(this.moduleType,t)}}function iL(n,t,e,i,s){return function(n,t,e,i,s,r,o){const a=t+e;return Yl(n,a,s,r)?Fr(n,a+2,o?i.call(o,s,r):i(s,r)):fp(n,a+2)}(W(),Vi(),n,t,e,i,s)}function fp(n,t){const e=n[t];return e===de?void 0:e}function nL(n,t,e,i,s,r){const o=t+e;return rn(n,o,s)?Fr(n,o+1,r?i.call(r,s):i(s)):fp(n,o+1)}function nc(n,t){const e=it();let i;const s=n+20;e.firstCreatePass?(i=function(n,t){if(t)for(let e=t.length-1;e>=0;e--){const i=t[e];if(n===i.name)return i}throw new Dr("302",`The pipe '${n}' could not be found!`)}(t,e.pipeRegistry),e.data[s]=i,i.onDestroy&&(e.destroyHooks||(e.destroyHooks=[])).push(s,i.onDestroy)):i=e.data[s];const r=i.factory||(i.factory=lo(i.type)),o=Xs(V);try{const a=pa(!1),l=r();return pa(a),function(n,t,e,i){e>=n.data.length&&(n.data[e]=null,n.blueprint[e]=null),t[e]=i}(e,W(),s,l),l}finally{Xs(o)}}function sc(n,t,e){const i=n+20,s=W(),r=function(n,t){return n[t]}(s,i);return function(n,t){ur.isWrapped(t)&&(t=ur.unwrap(t),n[is()]=de);return t}(s,function(n,t){return n[1].data[t].pure}(s,i)?nL(s,Vi(),t,r.transform,e,r):r.transform(e))}function kC(n){return t=>{setTimeout(n,void 0,t)}}const ut=class extends Qe{constructor(t=!1){super(),this.__isAsync=t}emit(t){super.next(t)}subscribe(t,e,i){var s,r,o;let a=t,l=e||(()=>null),h=i;if(t&&"object"==typeof t){const p=t;a=null===(s=p.next)||void 0===s?void 0:s.bind(p),l=null===(r=p.error)||void 0===r?void 0:r.bind(p),h=null===(o=p.complete)||void 0===o?void 0:o.bind(p)}this.__isAsync&&(l=kC(l),a&&(a=kC(a)),h&&(h=kC(h)));const f=super.subscribe({next:a,error:l,complete:h});return t instanceof Ze&&t.add(f),f}};function bU(){return this._results[Vu()]()}class py{constructor(t=!1){this._emitDistinctChangesOnly=t,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const e=Vu(),i=py.prototype;i[e]||(i[e]=bU)}get changes(){return this._changes||(this._changes=new ut)}get(t){return this._results[t]}map(t){return this._results.map(t)}filter(t){return this._results.filter(t)}find(t){return this._results.find(t)}reduce(t,e){return this._results.reduce(t,e)}forEach(t){this._results.forEach(t)}some(t){return this._results.some(t)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(t,e){const i=this;i.dirty=!1;const s=En(t);(this._changesDetected=!function(n,t,e){if(n.length!==t.length)return!1;for(let i=0;i<n.length;i++){let s=n[i],r=t[i];if(e&&(s=e(s),r=e(r)),r!==s)return!1}return!0}(i._results,s,e))&&(i._results=s,i.length=s.length,i.last=s[this.length-1],i.first=s[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}Symbol;class DC{constructor(t){this.queryList=t,this.matches=null}clone(){return new DC(this.queryList)}setDirty(){this.queryList.setDirty()}}class PC{constructor(t=[]){this.queries=t}createEmbeddedView(t){const e=t.queries;if(null!==e){const i=null!==t.contentQueries?t.contentQueries[0]:e.length,s=[];for(let r=0;r<i;r++){const o=e.getByIndex(r);s.push(this.queries[o.indexInDeclarationView].clone())}return new PC(s)}return null}insertView(t){this.dirtyQueriesWithMatches(t)}detachView(t){this.dirtyQueriesWithMatches(t)}dirtyQueriesWithMatches(t){for(let e=0;e<this.queries.length;e++)null!==dL(t,e).matches&&this.queries[e].setDirty()}}class lL{constructor(t,e,i=null){this.predicate=t,this.flags=e,this.read=i}}class AC{constructor(t=[]){this.queries=t}elementStart(t,e){for(let i=0;i<this.queries.length;i++)this.queries[i].elementStart(t,e)}elementEnd(t){for(let e=0;e<this.queries.length;e++)this.queries[e].elementEnd(t)}embeddedTView(t){let e=null;for(let i=0;i<this.length;i++){const s=null!==e?e.length:0,r=this.getByIndex(i).embeddedTView(t,s);r&&(r.indexInDeclarationView=i,null!==e?e.push(r):e=[r])}return null!==e?new AC(e):null}template(t,e){for(let i=0;i<this.queries.length;i++)this.queries[i].template(t,e)}getByIndex(t){return this.queries[t]}get length(){return this.queries.length}track(t){this.queries.push(t)}}class TC{constructor(t,e=-1){this.metadata=t,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=e}elementStart(t,e){this.isApplyingToNode(e)&&this.matchTNode(t,e)}elementEnd(t){this._declarationNodeIndex===t.index&&(this._appliesToNextNode=!1)}template(t,e){this.elementStart(t,e)}embeddedTView(t,e){return this.isApplyingToNode(t)?(this.crossesNgTemplate=!0,this.addMatch(-t.index,e),new TC(this.metadata)):null}isApplyingToNode(t){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const e=this._declarationNodeIndex;let i=t.parent;for(;null!==i&&8&i.type&&i.index!==e;)i=i.parent;return e===(null!==i?i.index:-1)}return this._appliesToNextNode}matchTNode(t,e){const i=this.metadata.predicate;if(Array.isArray(i))for(let s=0;s<i.length;s++){const r=i[s];this.matchTNodeWithReadOption(t,e,wU(e,r)),this.matchTNodeWithReadOption(t,e,ou(e,t,r,!1,!1))}else i===Ns?4&e.type&&this.matchTNodeWithReadOption(t,e,-1):this.matchTNodeWithReadOption(t,e,ou(e,t,i,!1,!1))}matchTNodeWithReadOption(t,e,i){if(null!==i){const s=this.metadata.read;if(null!==s)if(s===Ot||s===Rs||s===Ns&&4&e.type)this.addMatch(e.index,-2);else{const r=ou(e,t,s,!1,!1);null!==r&&this.addMatch(e.index,r)}else this.addMatch(e.index,i)}}addMatch(t,e){null===this.matches?this.matches=[t,e]:this.matches.push(t,e)}}function wU(n,t){const e=n.localNames;if(null!==e)for(let i=0;i<e.length;i+=2)if(e[i]===t)return e[i+1];return null}function kU(n,t,e,i){return-1===e?function(n,t){return 11&n.type?Xu(n,t):4&n.type?cy(n,t):null}(t,n):-2===e?function(n,t,e){return e===Ot?Xu(t,n):e===Ns?cy(t,n):e===Rs?TR(t,n):void 0}(n,t,i):ma(n,n[1],e,t)}function cL(n,t,e,i){const s=t[19].queries[i];if(null===s.matches){const r=n.data,o=e.matches,a=[];for(let l=0;l<o.length;l+=2){const h=o[l];a.push(h<0?null:kU(t,r[h],o[l+1],e.metadata.read))}s.matches=a}return s.matches}function xC(n,t,e,i){const s=n.queries.getByIndex(e),r=s.matches;if(null!==r){const o=cL(n,t,s,e);for(let a=0;a<r.length;a+=2){const l=r[a];if(l>0)i.push(o[a/2]);else{const h=r[a+1],f=t[-l];for(let p=10;p<f.length;p++){const y=f[p];y[17]===y[3]&&xC(y[1],y,h,i)}if(null!==f[9]){const p=f[9];for(let y=0;y<p.length;y++){const _=p[y];xC(_[1],_,h,i)}}}}}return i}function rc(n){const t=W(),e=it(),i=Qg();Sd(i+1);const s=dL(e,i);if(n.dirty&&Wg(t)===(2==(2&s.metadata.flags))){if(null===s.matches)n.reset([]);else{const r=s.crossesNgTemplate?xC(e,t,i,[]):cL(e,t,s,i);n.reset(r,_R),n.notifyOnChanges()}return!0}return!1}function gy(n,t,e){const i=it();i.firstCreatePass&&(hL(i,new lL(n,t,e),-1),2==(2&t)&&(i.staticViewQueries=!0)),uL(i,W(),t)}function my(n,t,e,i){const s=it();if(s.firstCreatePass){const r=Ut();hL(s,new lL(t,e,i),r.index),function(n,t){const e=n.contentQueries||(n.contentQueries=[]);t!==(e.length?e[e.length-1]:-1)&&e.push(n.queries.length-1,t)}(s,n),2==(2&e)&&(s.staticContentQueries=!0)}uL(s,W(),e)}function oc(){return function(n,t){return n[19].queries[t].queryList}(W(),Qg())}function uL(n,t,e){const i=new py(4==(4&e));Pv(n,t,i,i.destroy),null===t[19]&&(t[19]=new PC),t[19].queries.push(new DC(i))}function hL(n,t,e){null===n.queries&&(n.queries=new AC),n.queries.track(new TC(t,e))}function dL(n,t){return n.queries.getByIndex(t)}const _y=new pe("Application Initializer");let lh=(()=>{class n{constructor(e){this.appInits=e,this.resolve=ry,this.reject=ry,this.initialized=!1,this.done=!1,this.donePromise=new Promise((i,s)=>{this.resolve=i,this.reject=s})}runInitializers(){if(this.initialized)return;const e=[],i=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let s=0;s<this.appInits.length;s++){const r=this.appInits[s]();if(Zv(r))e.push(r);else if(Xw(r)){const o=new Promise((a,l)=>{r.subscribe({complete:a,error:l})});e.push(o)}}Promise.all(e).then(()=>{i()}).catch(s=>{this.reject(s)}),0===e.length&&i(),this.initialized=!0}}return n.\u0275fac=function(e){return new(e||n)($(_y,8))},n.\u0275prov=le({token:n,factory:n.\u0275fac}),n})();const vp=new pe("AppId"),i5={provide:vp,useFactory:function(){return`${LC()}${LC()}${LC()}`},deps:[]};function LC(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const xL=new pe("Platform Initializer"),ch=new pe("Platform ID"),n5=new pe("appBootstrapListener");let BC=(()=>{class n{log(e){console.log(e)}warn(e){console.warn(e)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=le({token:n,factory:n.\u0275fac}),n})();const Oa=new pe("LocaleId"),ML=new pe("DefaultCurrencyCode");class r5{constructor(t,e){this.ngModuleFactory=t,this.componentFactories=e}}const VC=function(n){return new CC(n)},o5=VC,a5=function(n){return Promise.resolve(VC(n))},IL=function(n){const t=VC(n),i=as(gt(n).declarations).reduce((s,r)=>{const o=wi(r);return o&&s.push(new JR(o)),s},[]);return new r5(t,i)},l5=IL,c5=function(n){return Promise.resolve(IL(n))};let Sy=(()=>{class n{constructor(){this.compileModuleSync=o5,this.compileModuleAsync=a5,this.compileModuleAndAllComponentsSync=l5,this.compileModuleAndAllComponentsAsync=c5}clearCache(){}clearCacheFor(e){}getModuleId(e){}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=le({token:n,factory:n.\u0275fac}),n})();const d5=(()=>Promise.resolve(0))();function $C(n){"undefined"==typeof Zone?d5.then(()=>{n&&n.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",n)}class Ue{constructor({enableLongStackTrace:t=!1,shouldCoalesceEventChangeDetection:e=!1,shouldCoalesceRunChangeDetection:i=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new ut(!1),this.onMicrotaskEmpty=new ut(!1),this.onStable=new ut(!1),this.onError=new ut(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched();const s=this;s._nesting=0,s._outer=s._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(s._inner=s._inner.fork(new Zone.TaskTrackingZoneSpec)),t&&Zone.longStackTraceZoneSpec&&(s._inner=s._inner.fork(Zone.longStackTraceZoneSpec)),s.shouldCoalesceEventChangeDetection=!i&&e,s.shouldCoalesceRunChangeDetection=i,s.lastRequestAnimationFrameId=-1,s.nativeRequestAnimationFrame=function(){let n=ot.requestAnimationFrame,t=ot.cancelAnimationFrame;if("undefined"!=typeof Zone&&n&&t){const e=n[Zone.__symbol__("OriginalDelegate")];e&&(n=e);const i=t[Zone.__symbol__("OriginalDelegate")];i&&(t=i)}return{nativeRequestAnimationFrame:n,nativeCancelAnimationFrame:t}}().nativeRequestAnimationFrame,function(n){const t=()=>{!function(n){n.isCheckStableRunning||-1!==n.lastRequestAnimationFrameId||(n.lastRequestAnimationFrameId=n.nativeRequestAnimationFrame.call(ot,()=>{n.fakeTopEventTask||(n.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{n.lastRequestAnimationFrameId=-1,HC(n),n.isCheckStableRunning=!0,FC(n),n.isCheckStableRunning=!1},void 0,()=>{},()=>{})),n.fakeTopEventTask.invoke()}),HC(n))}(n)};n._inner=n._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(e,i,s,r,o,a)=>{try{return OL(n),e.invokeTask(s,r,o,a)}finally{(n.shouldCoalesceEventChangeDetection&&"eventTask"===r.type||n.shouldCoalesceRunChangeDetection)&&t(),NL(n)}},onInvoke:(e,i,s,r,o,a,l)=>{try{return OL(n),e.invoke(s,r,o,a,l)}finally{n.shouldCoalesceRunChangeDetection&&t(),NL(n)}},onHasTask:(e,i,s,r)=>{e.hasTask(s,r),i===s&&("microTask"==r.change?(n._hasPendingMicrotasks=r.microTask,HC(n),FC(n)):"macroTask"==r.change&&(n.hasPendingMacrotasks=r.macroTask))},onHandleError:(e,i,s,r)=>(e.handleError(s,r),n.runOutsideAngular(()=>n.onError.emit(r)),!1)})}(s)}static isInAngularZone(){return!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Ue.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}static assertNotInAngularZone(){if(Ue.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}run(t,e,i){return this._inner.run(t,e,i)}runTask(t,e,i,s){const r=this._inner,o=r.scheduleEventTask("NgZoneEvent: "+s,t,p5,ry,ry);try{return r.runTask(o,e,i)}finally{r.cancelTask(o)}}runGuarded(t,e,i){return this._inner.runGuarded(t,e,i)}runOutsideAngular(t){return this._outer.run(t)}}const p5={};function FC(n){if(0==n._nesting&&!n.hasPendingMicrotasks&&!n.isStable)try{n._nesting++,n.onMicrotaskEmpty.emit(null)}finally{if(n._nesting--,!n.hasPendingMicrotasks)try{n.runOutsideAngular(()=>n.onStable.emit(null))}finally{n.isStable=!0}}}function HC(n){n.hasPendingMicrotasks=!!(n._hasPendingMicrotasks||(n.shouldCoalesceEventChangeDetection||n.shouldCoalesceRunChangeDetection)&&-1!==n.lastRequestAnimationFrameId)}function OL(n){n._nesting++,n.isStable&&(n.isStable=!1,n.onUnstable.emit(null))}function NL(n){n._nesting--,FC(n)}class v5{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new ut,this.onMicrotaskEmpty=new ut,this.onStable=new ut,this.onError=new ut}run(t,e,i){return t.apply(e,i)}runGuarded(t,e,i){return t.apply(e,i)}runOutsideAngular(t){return t()}runTask(t,e,i,s){return t.apply(e,i)}}let qC=(()=>{class n{constructor(e){this._ngZone=e,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),e.run(()=>{this.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Ue.assertNotInAngularZone(),$C(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())$C(()=>{for(;0!==this._callbacks.length;){let e=this._callbacks.pop();clearTimeout(e.timeoutId),e.doneCb(this._didWork)}this._didWork=!1});else{let e=this.getPendingTasks();this._callbacks=this._callbacks.filter(i=>!i.updateCb||!i.updateCb(e)||(clearTimeout(i.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(e=>({source:e.source,creationLocation:e.creationLocation,data:e.data})):[]}addCallback(e,i,s){let r=-1;i&&i>0&&(r=setTimeout(()=>{this._callbacks=this._callbacks.filter(o=>o.timeoutId!==r),e(this._didWork,this.getPendingTasks())},i)),this._callbacks.push({doneCb:e,timeoutId:r,updateCb:s})}whenStable(e,i,s){if(s&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(e,i,s),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}findProviders(e,i,s){return[]}}return n.\u0275fac=function(e){return new(e||n)($(Ue))},n.\u0275prov=le({token:n,factory:n.\u0275fac}),n})(),RL=(()=>{class n{constructor(){this._applications=new Map,GC.addToWindow(this)}registerApplication(e,i){this._applications.set(e,i)}unregisterApplication(e){this._applications.delete(e)}unregisterAllApplications(){this._applications.clear()}getTestability(e){return this._applications.get(e)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(e,i=!0){return GC.findTestabilityInTree(this,e,i)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=le({token:n,factory:n.\u0275fac}),n})();class y5{addToWindow(t){}findTestabilityInTree(t,e,i){return null}}let GC=new y5,LL=!0,BL=!1;let mr;const $L=new pe("AllowMultipleToken");function FL(n,t,e=[]){const i=`Platform: ${t}`,s=new pe(i);return(r=[])=>{let o=HL();if(!o||o.injector.get($L,!1))if(n)n(e.concat(r).concat({provide:s,useValue:!0}));else{const a=e.concat(r).concat({provide:s,useValue:!0},{provide:Bo,useValue:"platform"});!function(n){if(mr&&!mr.destroyed&&!mr.injector.get($L,!1))throw new Error("There can be only one platform. Destroy the previous one to create a new one.");mr=n.get(qL);const t=n.get(xL,null);t&&t.forEach(e=>e())}(Pt.create({providers:a,name:i}))}return function(n){const t=HL();if(!t)throw new Error("No platform exists!");if(!t.injector.get(n,null))throw new Error("A platform with a different configuration has been created. Please destroy it first.");return t}(s)}}function HL(){return mr&&!mr.destroyed?mr:null}let qL=(()=>{class n{constructor(e){this._injector=e,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(e,i){const a=function(n,t){let e;return e="noop"===n?new v5:("zone.js"===n?void 0:n)||new Ue({enableLongStackTrace:(BL=!0,LL),shouldCoalesceEventChangeDetection:!!(null==t?void 0:t.ngZoneEventCoalescing),shouldCoalesceRunChangeDetection:!!(null==t?void 0:t.ngZoneRunCoalescing)}),e}(i?i.ngZone:void 0,{ngZoneEventCoalescing:i&&i.ngZoneEventCoalescing||!1,ngZoneRunCoalescing:i&&i.ngZoneRunCoalescing||!1}),l=[{provide:Ue,useValue:a}];return a.run(()=>{const h=Pt.create({providers:l,parent:this.injector,name:e.moduleType.name}),f=e.create(h),p=f.injector.get(Ro,null);if(!p)throw new Error("No ErrorHandler. Is platform module (BrowserModule) included?");return a.runOutsideAngular(()=>{const y=a.onError.subscribe({next:_=>{p.handleError(_)}});f.onDestroy(()=>{UC(this._modules,f),y.unsubscribe()})}),function(n,t,e){try{const i=e();return Zv(i)?i.catch(s=>{throw t.runOutsideAngular(()=>n.handleError(s)),s}):i}catch(i){throw t.runOutsideAngular(()=>n.handleError(i)),i}}(p,a,()=>{const y=f.injector.get(lh);return y.runInitializers(),y.donePromise.then(()=>(iC(f.injector.get(Oa,ey)||ey),this._moduleDoBootstrap(f),f))})})}bootstrapModule(e,i=[]){const s=GL({},i);return function(n,t,e){const i=new CC(e);return Promise.resolve(i)}(0,0,e).then(r=>this.bootstrapModuleFactory(r,s))}_moduleDoBootstrap(e){const i=e.injector.get(yp);if(e._bootstrapComponents.length>0)e._bootstrapComponents.forEach(s=>i.bootstrap(s));else{if(!e.instance.ngDoBootstrap)throw new Error(`The module ${Ve(e.instance.constructor)} was bootstrapped, but it does not declare "@NgModule.bootstrap" components nor a "ngDoBootstrap" method. Please define one of these.`);e.instance.ngDoBootstrap(i)}this._modules.push(e)}onDestroy(e){this._destroyListeners.push(e)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Error("The platform has already been destroyed!");this._modules.slice().forEach(e=>e.destroy()),this._destroyListeners.forEach(e=>e()),this._destroyed=!0}get destroyed(){return this._destroyed}}return n.\u0275fac=function(e){return new(e||n)($(Pt))},n.\u0275prov=le({token:n,factory:n.\u0275fac}),n})();function GL(n,t){return Array.isArray(t)?t.reduce(GL,n):Object.assign(Object.assign({},n),t)}let yp=(()=>{class n{constructor(e,i,s,r,o){this._zone=e,this._injector=i,this._exceptionHandler=s,this._componentFactoryResolver=r,this._initStatus=o,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const a=new ze(h=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{h.next(this._stable),h.complete()})}),l=new ze(h=>{let f;this._zone.runOutsideAngular(()=>{f=this._zone.onStable.subscribe(()=>{Ue.assertNotInAngularZone(),$C(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,h.next(!0))})})});const p=this._zone.onUnstable.subscribe(()=>{Ue.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{h.next(!1)}))});return()=>{f.unsubscribe(),p.unsubscribe()}});this.isStable=kr(a,l.pipe(n=>Lc()(function(n,t){return function(i){let s;s="function"==typeof n?n:function(){return n};const r=Object.create(i,Jh);return r.source=i,r.subjectFactory=s,r}}(oS)(n))))}bootstrap(e,i){if(!this._initStatus.done)throw new Error("Cannot bootstrap as there are still asynchronous initializers running. Bootstrap components in the `ngDoBootstrap` method of the root module.");let s;s=e instanceof mR?e:this._componentFactoryResolver.resolveComponentFactory(e),this.componentTypes.push(s.componentType);const r=function(n){return n.isBoundToModule}(s)?void 0:this._injector.get(ec),a=s.create(Pt.NULL,[],i||s.selector,r),l=a.location.nativeElement,h=a.injector.get(qC,null),f=h&&a.injector.get(RL);return h&&f&&f.registerApplication(l,h),a.onDestroy(()=>{this.detachView(a.hostView),UC(this.components,a),f&&f.unregisterApplication(l)}),this._loadComponent(a),a}tick(){if(this._runningTick)throw new Error("ApplicationRef.tick is called recursively");try{this._runningTick=!0;for(let e of this._views)e.detectChanges()}catch(e){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(e))}finally{this._runningTick=!1}}attachView(e){const i=e;this._views.push(i),i.attachToAppRef(this)}detachView(e){const i=e;UC(this._views,i),i.detachFromAppRef()}_loadComponent(e){this.attachView(e.hostView),this.tick(),this.components.push(e),this._injector.get(n5,[]).concat(this._bootstrapListeners).forEach(s=>s(e))}ngOnDestroy(){this._views.slice().forEach(e=>e.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}get viewCount(){return this._views.length}}return n.\u0275fac=function(e){return new(e||n)($(Ue),$(Pt),$(Ro),$(Zu),$(lh))},n.\u0275prov=le({token:n,factory:n.\u0275fac}),n})();function UC(n,t){const e=n.indexOf(t);e>-1&&n.splice(e,1)}const j5=FL(null,"core",[{provide:ch,useValue:"unknown"},{provide:qL,deps:[Pt]},{provide:RL,deps:[]},{provide:BC,deps:[]}]),Q5=[{provide:yp,useClass:yp,deps:[Ue,Pt,Ro,Zu,lh]},{provide:eU,deps:[Ue],useFactory:function(n){let t=[];return n.onStable.subscribe(()=>{for(;t.length;)t.pop()()}),function(e){t.push(e)}}},{provide:lh,useClass:lh,deps:[[new li,_y]]},{provide:Sy,useClass:Sy,deps:[]},i5,{provide:eh,useFactory:function(){return z4},deps:[]},{provide:th,useFactory:function(){return K4},deps:[]},{provide:Oa,useFactory:function(n){return iC(n=n||"undefined"!=typeof $localize&&$localize.locale||ey),n},deps:[[new fi(Oa),new li,new To]]},{provide:ML,useValue:"USD"}];let Z5=(()=>{class n{constructor(e){}}return n.\u0275fac=function(e){return new(e||n)($(yp))},n.\u0275mod=Xt({type:n}),n.\u0275inj=Gt({providers:Q5}),n})(),My=null;function cc(){return My}const Je=new pe("DocumentToken");var pi=(()=>((pi=pi||{})[pi.Zero=0]="Zero",pi[pi.One=1]="One",pi[pi.Two=2]="Two",pi[pi.Few=3]="Few",pi[pi.Many=4]="Many",pi[pi.Other=5]="Other",pi))();const o8=function(n){return function(n){const t=function(n){return n.toLowerCase().replace(/_/g,"-")}(n);let e=UN(t);if(e)return e;const i=t.split("-")[0];if(e=UN(i),e)return e;if("en"===i)return kq;throw new Error(`Missing locale data for the locale "${n}".`)}(n)[ne.PluralCase]};class Hy{}let R8=(()=>{class n extends Hy{constructor(e){super(),this.locale=e}getPluralCategory(e,i){switch(o8(i||this.locale)(e)){case pi.Zero:return"zero";case pi.One:return"one";case pi.Two:return"two";case pi.Few:return"few";case pi.Many:return"many";default:return"other"}}}return n.\u0275fac=function(e){return new(e||n)($(Oa))},n.\u0275prov=le({token:n,factory:n.\u0275fac}),n})();function A2(n,t){t=encodeURIComponent(t);for(const e of n.split(";")){const i=e.indexOf("="),[s,r]=-1==i?[e,""]:[e.slice(0,i),e.slice(i+1)];if(s.trim()===t)return decodeURIComponent(r)}return null}let p0=(()=>{class n{constructor(e,i,s,r){this._iterableDiffers=e,this._keyValueDiffers=i,this._ngEl=s,this._renderer=r,this._iterableDiffer=null,this._keyValueDiffer=null,this._initialClasses=[],this._rawClass=null}set klass(e){this._removeClasses(this._initialClasses),this._initialClasses="string"==typeof e?e.split(/\s+/):[],this._applyClasses(this._initialClasses),this._applyClasses(this._rawClass)}set ngClass(e){this._removeClasses(this._rawClass),this._applyClasses(this._initialClasses),this._iterableDiffer=null,this._keyValueDiffer=null,this._rawClass="string"==typeof e?e.split(/\s+/):e,this._rawClass&&(Yf(this._rawClass)?this._iterableDiffer=this._iterableDiffers.find(this._rawClass).create():this._keyValueDiffer=this._keyValueDiffers.find(this._rawClass).create())}ngDoCheck(){if(this._iterableDiffer){const e=this._iterableDiffer.diff(this._rawClass);e&&this._applyIterableChanges(e)}else if(this._keyValueDiffer){const e=this._keyValueDiffer.diff(this._rawClass);e&&this._applyKeyValueChanges(e)}}_applyKeyValueChanges(e){e.forEachAddedItem(i=>this._toggleClass(i.key,i.currentValue)),e.forEachChangedItem(i=>this._toggleClass(i.key,i.currentValue)),e.forEachRemovedItem(i=>{i.previousValue&&this._toggleClass(i.key,!1)})}_applyIterableChanges(e){e.forEachAddedItem(i=>{if("string"!=typeof i.item)throw new Error(`NgClass can only toggle CSS classes expressed as strings, got ${Ve(i.item)}`);this._toggleClass(i.item,!0)}),e.forEachRemovedItem(i=>this._toggleClass(i.item,!1))}_applyClasses(e){e&&(Array.isArray(e)||e instanceof Set?e.forEach(i=>this._toggleClass(i,!0)):Object.keys(e).forEach(i=>this._toggleClass(i,!!e[i])))}_removeClasses(e){e&&(Array.isArray(e)||e instanceof Set?e.forEach(i=>this._toggleClass(i,!1)):Object.keys(e).forEach(i=>this._toggleClass(i,!1)))}_toggleClass(e,i){(e=e.trim())&&e.split(/\s+/g).forEach(s=>{i?this._renderer.addClass(this._ngEl.nativeElement,s):this._renderer.removeClass(this._ngEl.nativeElement,s)})}}return n.\u0275fac=function(e){return new(e||n)(V(eh),V(th),V(Ot),V(Xl))},n.\u0275dir=ce({type:n,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"}}),n})();class B8{constructor(t,e,i,s){this.$implicit=t,this.ngForOf=e,this.index=i,this.count=s}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let kp=(()=>{class n{constructor(e,i,s){this._viewContainer=e,this._template=i,this._differs=s,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(e){this._ngForOf=e,this._ngForOfDirty=!0}set ngForTrackBy(e){this._trackByFn=e}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(e){e&&(this._template=e)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const e=this._ngForOf;if(!this._differ&&e)try{this._differ=this._differs.find(e).create(this.ngForTrackBy)}catch(i){throw new Error(`Cannot find a differ supporting object '${e}' of type '${function(n){return n.name||typeof n}(e)}'. NgFor only supports binding to Iterables such as Arrays.`)}}if(this._differ){const e=this._differ.diff(this._ngForOf);e&&this._applyChanges(e)}}_applyChanges(e){const i=[];e.forEachOperation((s,r,o)=>{if(null==s.previousIndex){const a=this._viewContainer.createEmbeddedView(this._template,new B8(null,this._ngForOf,-1,-1),null===o?void 0:o),l=new T2(s,a);i.push(l)}else if(null==o)this._viewContainer.remove(null===r?void 0:r);else if(null!==r){const a=this._viewContainer.get(r);this._viewContainer.move(a,o);const l=new T2(s,a);i.push(l)}});for(let s=0;s<i.length;s++)this._perViewChange(i[s].view,i[s].record);for(let s=0,r=this._viewContainer.length;s<r;s++){const o=this._viewContainer.get(s);o.context.index=s,o.context.count=r,o.context.ngForOf=this._ngForOf}e.forEachIdentityChange(s=>{this._viewContainer.get(s.currentIndex).context.$implicit=s.item})}_perViewChange(e,i){e.context.$implicit=i.item}static ngTemplateContextGuard(e,i){return!0}}return n.\u0275fac=function(e){return new(e||n)(V(Rs),V(Ns),V(eh))},n.\u0275dir=ce({type:n,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}}),n})();class T2{constructor(t,e){this.record=t,this.view=e}}let dh=(()=>{class n{constructor(e,i){this._viewContainer=e,this._context=new $8,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=i}set ngIf(e){this._context.$implicit=this._context.ngIf=e,this._updateView()}set ngIfThen(e){x2("ngIfThen",e),this._thenTemplateRef=e,this._thenViewRef=null,this._updateView()}set ngIfElse(e){x2("ngIfElse",e),this._elseTemplateRef=e,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(e,i){return!0}}return n.\u0275fac=function(e){return new(e||n)(V(Rs),V(Ns))},n.\u0275dir=ce({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}}),n})();class $8{constructor(){this.$implicit=null,this.ngIf=null}}function x2(n,t){if(t&&!t.createEmbeddedView)throw new Error(`${n} must be a TemplateRef, but received '${Ve(t)}'.`)}let v0=(()=>{class n{constructor(e){this.differs=e,this.keyValues=[],this.compareFn=I2}transform(e,i=I2){if(!e||!(e instanceof Map)&&"object"!=typeof e)return null;this.differ||(this.differ=this.differs.find(e).create());const s=this.differ.diff(e),r=i!==this.compareFn;return s&&(this.keyValues=[],s.forEachItem(o=>{this.keyValues.push(function(n,t){return{key:n,value:t}}(o.key,o.currentValue))})),(s||r)&&(this.keyValues.sort(i),this.compareFn=i),this.keyValues}}return n.\u0275fac=function(e){return new(e||n)(V(th,16))},n.\u0275pipe=Qi({name:"keyvalue",type:n,pure:!1}),n})();function I2(n,t){const e=n.key,i=t.key;if(e===i)return 0;if(void 0===e)return 1;if(void 0===i)return-1;if(null===e)return 1;if(null===i)return-1;if("string"==typeof e&&"string"==typeof i)return e<i?-1:1;if("number"==typeof e&&"number"==typeof i)return e-i;if("boolean"==typeof e&&"boolean"==typeof i)return e<i?-1:1;const s=String(e),r=String(i);return s==r?0:s<r?-1:1}let O2=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=Xt({type:n}),n.\u0275inj=Gt({providers:[{provide:Hy,useClass:R8}]}),n})();const N2="browser";class L2{}class b0 extends class extends class{}{constructor(){super(...arguments),this.supportsDOMEvents=!0}}{static makeCurrent(){!function(n){My||(My=n)}(new b0)}onAndCancel(t,e,i){return t.addEventListener(e,i,!1),()=>{t.removeEventListener(e,i,!1)}}dispatchEvent(t,e){t.dispatchEvent(e)}remove(t){t.parentNode&&t.parentNode.removeChild(t)}createElement(t,e){return(e=e||this.getDefaultDocument()).createElement(t)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(t){return t.nodeType===Node.ELEMENT_NODE}isShadowRoot(t){return t instanceof DocumentFragment}getGlobalEventTarget(t,e){return"window"===e?window:"document"===e?t:"body"===e?t.body:null}getBaseHref(t){const e=(Dp=Dp||document.querySelector("base"),Dp?Dp.getAttribute("href"):null);return null==e?null:function(n){qy=qy||document.createElement("a"),qy.setAttribute("href",n);const t=qy.pathname;return"/"===t.charAt(0)?t:`/${t}`}(e)}resetBaseElement(){Dp=null}getUserAgent(){return window.navigator.userAgent}getCookie(t){return A2(document.cookie,t)}}let qy,Dp=null;const B2=new pe("TRANSITION_ID"),_j=[{provide:_y,useFactory:function(n,t,e){return()=>{e.get(lh).donePromise.then(()=>{const i=cc(),s=t.querySelectorAll(`style[ng-transition="${n}"]`);for(let r=0;r<s.length;r++)i.remove(s[r])})}},deps:[B2,Je,Pt],multi:!0}];class S0{static init(){!function(n){GC=n}(new S0)}addToWindow(t){ot.getAngularTestability=(i,s=!0)=>{const r=t.findTestabilityInTree(i,s);if(null==r)throw new Error("Could not find testability for element.");return r},ot.getAllAngularTestabilities=()=>t.getAllTestabilities(),ot.getAllAngularRootElements=()=>t.getAllRootElements(),ot.frameworkStabilizers||(ot.frameworkStabilizers=[]),ot.frameworkStabilizers.push(i=>{const s=ot.getAllAngularTestabilities();let r=s.length,o=!1;const a=function(l){o=o||l,r--,0==r&&i(o)};s.forEach(function(l){l.whenStable(a)})})}findTestabilityInTree(t,e,i){if(null==e)return null;const s=t.getTestability(e);return null!=s?s:i?cc().isShadowRoot(e)?this.findTestabilityInTree(t,e.host,!0):this.findTestabilityInTree(t,e.parentElement,!0):null}}let bj=(()=>{class n{build(){return new XMLHttpRequest}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=le({token:n,factory:n.\u0275fac}),n})();const Pp=new pe("EventManagerPlugins");let Uy=(()=>{class n{constructor(e,i){this._zone=i,this._eventNameToPlugin=new Map,e.forEach(s=>s.manager=this),this._plugins=e.slice().reverse()}addEventListener(e,i,s){return this._findPluginFor(i).addEventListener(e,i,s)}addGlobalEventListener(e,i,s){return this._findPluginFor(i).addGlobalEventListener(e,i,s)}getZone(){return this._zone}_findPluginFor(e){const i=this._eventNameToPlugin.get(e);if(i)return i;const s=this._plugins;for(let r=0;r<s.length;r++){const o=s[r];if(o.supports(e))return this._eventNameToPlugin.set(e,o),o}throw new Error(`No event manager plugin found for event ${e}`)}}return n.\u0275fac=function(e){return new(e||n)($(Pp),$(Ue))},n.\u0275prov=le({token:n,factory:n.\u0275fac}),n})();class E0{constructor(t){this._doc=t}addGlobalEventListener(t,e,i){const s=cc().getGlobalEventTarget(this._doc,t);if(!s)throw new Error(`Unsupported event target ${s} for event ${e}`);return this.addEventListener(s,e,i)}}let $2=(()=>{class n{constructor(){this._stylesSet=new Set}addStyles(e){const i=new Set;e.forEach(s=>{this._stylesSet.has(s)||(this._stylesSet.add(s),i.add(s))}),this.onStylesAdded(i)}onStylesAdded(e){}getAllStyles(){return Array.from(this._stylesSet)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=le({token:n,factory:n.\u0275fac}),n})(),Ap=(()=>{class n extends $2{constructor(e){super(),this._doc=e,this._hostNodes=new Map,this._hostNodes.set(e.head,[])}_addStylesToHost(e,i,s){e.forEach(r=>{const o=this._doc.createElement("style");o.textContent=r,s.push(i.appendChild(o))})}addHost(e){const i=[];this._addStylesToHost(this._stylesSet,e,i),this._hostNodes.set(e,i)}removeHost(e){const i=this._hostNodes.get(e);i&&i.forEach(F2),this._hostNodes.delete(e)}onStylesAdded(e){this._hostNodes.forEach((i,s)=>{this._addStylesToHost(e,s,i)})}ngOnDestroy(){this._hostNodes.forEach(e=>e.forEach(F2))}}return n.\u0275fac=function(e){return new(e||n)($(Je))},n.\u0275prov=le({token:n,factory:n.\u0275fac}),n})();function F2(n){cc().remove(n)}const w0={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},C0=/%COMP%/g;function jy(n,t,e){for(let i=0;i<t.length;i++){let s=t[i];Array.isArray(s)?jy(n,s,e):(s=s.replace(C0,n),e.push(s))}return e}function G2(n){return t=>{if("__ngUnwrap__"===t)return n;!1===n(t)&&(t.preventDefault(),t.returnValue=!1)}}let Wy=(()=>{class n{constructor(e,i,s){this.eventManager=e,this.sharedStylesHost=i,this.appId=s,this.rendererByCompId=new Map,this.defaultRenderer=new k0(e)}createRenderer(e,i){if(!e||!i)return this.defaultRenderer;switch(i.encapsulation){case Kt.Emulated:{let s=this.rendererByCompId.get(i.id);return s||(s=new Rj(this.eventManager,this.sharedStylesHost,i,this.appId),this.rendererByCompId.set(i.id,s)),s.applyToHost(e),s}case 1:case Kt.ShadowDom:return new Lj(this.eventManager,this.sharedStylesHost,e,i);default:if(!this.rendererByCompId.has(i.id)){const s=jy(i.id,i.styles,[]);this.sharedStylesHost.addStyles(s),this.rendererByCompId.set(i.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return n.\u0275fac=function(e){return new(e||n)($(Uy),$(Ap),$(vp))},n.\u0275prov=le({token:n,factory:n.\u0275fac}),n})();class k0{constructor(t){this.eventManager=t,this.data=Object.create(null)}destroy(){}createElement(t,e){return e?document.createElementNS(w0[e]||e,t):document.createElement(t)}createComment(t){return document.createComment(t)}createText(t){return document.createTextNode(t)}appendChild(t,e){t.appendChild(e)}insertBefore(t,e,i){t&&t.insertBefore(e,i)}removeChild(t,e){t&&t.removeChild(e)}selectRootElement(t,e){let i="string"==typeof t?document.querySelector(t):t;if(!i)throw new Error(`The selector "${t}" did not match any elements`);return e||(i.textContent=""),i}parentNode(t){return t.parentNode}nextSibling(t){return t.nextSibling}setAttribute(t,e,i,s){if(s){e=s+":"+e;const r=w0[s];r?t.setAttributeNS(r,e,i):t.setAttribute(e,i)}else t.setAttribute(e,i)}removeAttribute(t,e,i){if(i){const s=w0[i];s?t.removeAttributeNS(s,e):t.removeAttribute(`${i}:${e}`)}else t.removeAttribute(e)}addClass(t,e){t.classList.add(e)}removeClass(t,e){t.classList.remove(e)}setStyle(t,e,i,s){s&(en.DashCase|en.Important)?t.style.setProperty(e,i,s&en.Important?"important":""):t.style[e]=i}removeStyle(t,e,i){i&en.DashCase?t.style.removeProperty(e):t.style[e]=""}setProperty(t,e,i){t[e]=i}setValue(t,e){t.nodeValue=e}listen(t,e,i){return"string"==typeof t?this.eventManager.addGlobalEventListener(t,e,G2(i)):this.eventManager.addEventListener(t,e,G2(i))}}class Rj extends k0{constructor(t,e,i,s){super(t),this.component=i;const r=jy(s+"-"+i.id,i.styles,[]);e.addStyles(r),this.contentAttr=function(n){return"_ngcontent-%COMP%".replace(C0,n)}(s+"-"+i.id),this.hostAttr=function(n){return"_nghost-%COMP%".replace(C0,n)}(s+"-"+i.id)}applyToHost(t){super.setAttribute(t,this.hostAttr,"")}createElement(t,e){const i=super.createElement(t,e);return super.setAttribute(i,this.contentAttr,""),i}}class Lj extends k0{constructor(t,e,i,s){super(t),this.sharedStylesHost=e,this.hostEl=i,this.shadowRoot=i.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const r=jy(s.id,s.styles,[]);for(let o=0;o<r.length;o++){const a=document.createElement("style");a.textContent=r[o],this.shadowRoot.appendChild(a)}}nodeOrShadowRoot(t){return t===this.hostEl?this.shadowRoot:t}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(t,e){return super.appendChild(this.nodeOrShadowRoot(t),e)}insertBefore(t,e,i){return super.insertBefore(this.nodeOrShadowRoot(t),e,i)}removeChild(t,e){return super.removeChild(this.nodeOrShadowRoot(t),e)}parentNode(t){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(t)))}}let Bj=(()=>{class n extends E0{constructor(e){super(e)}supports(e){return!0}addEventListener(e,i,s){return e.addEventListener(i,s,!1),()=>this.removeEventListener(e,i,s)}removeEventListener(e,i,s){return e.removeEventListener(i,s)}}return n.\u0275fac=function(e){return new(e||n)($(Je))},n.\u0275prov=le({token:n,factory:n.\u0275fac}),n})();const W2=["alt","control","meta","shift"],Uj={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},z2={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},jj={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey};let Wj=(()=>{class n extends E0{constructor(e){super(e)}supports(e){return null!=n.parseEventName(e)}addEventListener(e,i,s){const r=n.parseEventName(i),o=n.eventCallback(r.fullKey,s,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>cc().onAndCancel(e,r.domEventName,o))}static parseEventName(e){const i=e.toLowerCase().split("."),s=i.shift();if(0===i.length||"keydown"!==s&&"keyup"!==s)return null;const r=n._normalizeKey(i.pop());let o="";if(W2.forEach(l=>{const h=i.indexOf(l);h>-1&&(i.splice(h,1),o+=l+".")}),o+=r,0!=i.length||0===r.length)return null;const a={};return a.domEventName=s,a.fullKey=o,a}static getEventFullKey(e){let i="",s=function(n){let t=n.key;if(null==t){if(t=n.keyIdentifier,null==t)return"Unidentified";t.startsWith("U+")&&(t=String.fromCharCode(parseInt(t.substring(2),16)),3===n.location&&z2.hasOwnProperty(t)&&(t=z2[t]))}return Uj[t]||t}(e);return s=s.toLowerCase()," "===s?s="space":"."===s&&(s="dot"),W2.forEach(r=>{r!=s&&jj[r](e)&&(i+=r+".")}),i+=s,i}static eventCallback(e,i,s){return r=>{n.getEventFullKey(r)===e&&s.runGuarded(()=>i(r))}}static _normalizeKey(e){return"esc"===e?"escape":e}}return n.\u0275fac=function(e){return new(e||n)($(Je))},n.\u0275prov=le({token:n,factory:n.\u0275fac}),n})();const Zj=[{provide:ch,useValue:N2},{provide:xL,useValue:function(){b0.makeCurrent(),S0.init()},multi:!0},{provide:Je,useFactory:function(){return function(n){Te=n}(document),document},deps:[]}],eW=FL(j5,"browser",Zj),tW=[[],{provide:Bo,useValue:"root"},{provide:Ro,useFactory:function(){return new Ro},deps:[]},{provide:Pp,useClass:Bj,multi:!0,deps:[Je,Ue,ch]},{provide:Pp,useClass:Wj,multi:!0,deps:[Je]},[],{provide:Wy,useClass:Wy,deps:[Uy,Ap,vp]},{provide:Zl,useExisting:Wy},{provide:$2,useExisting:Ap},{provide:Ap,useClass:Ap,deps:[Je]},{provide:qC,useClass:qC,deps:[Ue]},{provide:Uy,useClass:Uy,deps:[Pp,Ue]},{provide:L2,useClass:bj,deps:[]},[]];let T0=(()=>{class n{constructor(e){if(e)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}static withServerTransition(e){return{ngModule:n,providers:[{provide:vp,useValue:e.appId},{provide:B2,useExisting:vp},_j]}}}return n.\u0275fac=function(e){return new(e||n)($(n,12))},n.\u0275mod=Xt({type:n}),n.\u0275inj=Gt({providers:tW,imports:[O2,Z5]}),n})();function zy(n,t){return new ze(e=>{const i=n.length;if(0===i)return void e.complete();const s=new Array(i);let r=0,o=0;for(let a=0;a<i;a++){const l=Mc(n[a]);let h=!1;e.add(l.subscribe({next:f=>{h||(h=!0,o++),s[a]=f},error:f=>e.error(f),complete:()=>{r++,(r===i||!h)&&(o===i&&e.next(t?t.reduce((f,p,y)=>(f[p]=s[y],f),{}):s),e.complete())}}))}})}"undefined"!=typeof window&&window;let Y2=(()=>{class n{constructor(e,i){this._renderer=e,this._elementRef=i,this.onChange=s=>{},this.onTouched=()=>{}}setProperty(e,i){this._renderer.setProperty(this._elementRef.nativeElement,e,i)}registerOnTouched(e){this.onTouched=e}registerOnChange(e){this.onChange=e}setDisabledState(e){this.setProperty("disabled",e)}}return n.\u0275fac=function(e){return new(e||n)(V(Xl),V(Ot))},n.\u0275dir=ce({type:n}),n})(),uc=(()=>{class n extends Y2{}return n.\u0275fac=function(){let t;return function(i){return(t||(t=Xi(n)))(i||n)}}(),n.\u0275dir=ce({type:n,features:[It]}),n})();const Gr=new pe("NgValueAccessor"),uW={provide:Gr,useExisting:_t(()=>Ky),multi:!0};let Ky=(()=>{class n extends uc{writeValue(e){this.setProperty("checked",e)}}return n.\u0275fac=function(){let t;return function(i){return(t||(t=Xi(n)))(i||n)}}(),n.\u0275dir=ce({type:n,selectors:[["input","type","checkbox","formControlName",""],["input","type","checkbox","formControl",""],["input","type","checkbox","ngModel",""]],hostBindings:function(e,i){1&e&&Ge("change",function(r){return i.onChange(r.target.checked)})("blur",function(){return i.onTouched()})},features:[rt([uW]),It]}),n})();const hW={provide:Gr,useExisting:_t(()=>qo),multi:!0},fW=new pe("CompositionEventMode");let qo=(()=>{class n extends Y2{constructor(e,i,s){super(e,i),this._compositionMode=s,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function(){const n=cc()?cc().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}())}writeValue(e){this.setProperty("value",null==e?"":e)}_handleInput(e){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(e)}_compositionStart(){this._composing=!0}_compositionEnd(e){this._composing=!1,this._compositionMode&&this.onChange(e)}}return n.\u0275fac=function(e){return new(e||n)(V(Xl),V(Ot),V(fW,8))},n.\u0275dir=ce({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(e,i){1&e&&Ge("input",function(r){return i._handleInput(r.target.value)})("blur",function(){return i.onTouched()})("compositionstart",function(){return i._compositionStart()})("compositionend",function(r){return i._compositionEnd(r.target.value)})},features:[rt([hW]),It]}),n})();function La(n){return null==n||0===n.length}function Q2(n){return null!=n&&"number"==typeof n.length}const cn=new pe("NgValidators"),Ba=new pe("NgAsyncValidators"),pW=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class M0{static min(t){return J2(t)}static max(t){return Z2(t)}static required(t){return X2(t)}static requiredTrue(t){return function(n){return!0===n.value?null:{required:!0}}(t)}static email(t){return function(n){return La(n.value)||pW.test(n.value)?null:{email:!0}}(t)}static minLength(t){return function(n){return t=>La(t.value)||!Q2(t.value)?null:t.value.length<n?{minlength:{requiredLength:n,actualLength:t.value.length}}:null}(t)}static maxLength(t){return function(n){return t=>Q2(t.value)&&t.value.length>n?{maxlength:{requiredLength:n,actualLength:t.value.length}}:null}(t)}static pattern(t){return function(n){if(!n)return Va;let t,e;return"string"==typeof n?(e="","^"!==n.charAt(0)&&(e+="^"),e+=n,"$"!==n.charAt(n.length-1)&&(e+="$"),t=new RegExp(e)):(e=n.toString(),t=n),i=>{if(La(i.value))return null;const s=i.value;return t.test(s)?null:{pattern:{requiredPattern:e,actualValue:s}}}}(t)}static nullValidator(t){return null}static compose(t){return uB(t)}static composeAsync(t){return hB(t)}}function J2(n){return t=>{if(La(t.value)||La(n))return null;const e=parseFloat(t.value);return!isNaN(e)&&e<n?{min:{min:n,actual:t.value}}:null}}function Z2(n){return t=>{if(La(t.value)||La(n))return null;const e=parseFloat(t.value);return!isNaN(e)&&e>n?{max:{max:n,actual:t.value}}:null}}function X2(n){return La(n.value)?{required:!0}:null}function Va(n){return null}function rB(n){return null!=n}function oB(n){const t=Zv(n)?Mc(n):n;return Xw(t),t}function aB(n){let t={};return n.forEach(e=>{t=null!=e?Object.assign(Object.assign({},t),e):t}),0===Object.keys(t).length?null:t}function lB(n,t){return t.map(e=>e(n))}function cB(n){return n.map(t=>function(n){return!n.validate}(t)?t:e=>t.validate(e))}function uB(n){if(!n)return null;const t=n.filter(rB);return 0==t.length?null:function(e){return aB(lB(e,t))}}function I0(n){return null!=n?uB(cB(n)):null}function hB(n){if(!n)return null;const t=n.filter(rB);return 0==t.length?null:function(e){return function(...n){if(1===n.length){const t=n[0];if(tl(t))return zy(t,null);if(il(t)&&Object.getPrototypeOf(t)===Object.prototype){const e=Object.keys(t);return zy(e.map(i=>t[i]),e)}}if("function"==typeof n[n.length-1]){const t=n.pop();return zy(n=1===n.length&&tl(n[0])?n[0]:n,null).pipe(vs(e=>t(...e)))}return zy(n,null)}(lB(e,t).map(oB)).pipe(vs(aB))}}function O0(n){return null!=n?hB(cB(n)):null}function dB(n,t){return null===n?[t]:Array.isArray(n)?[...n,t]:[n,t]}function fB(n){return n._rawValidators}function pB(n){return n._rawAsyncValidators}function N0(n){return n?Array.isArray(n)?n:[n]:[]}function Yy(n,t){return Array.isArray(n)?n.includes(t):n===t}function gB(n,t){const e=N0(t);return N0(n).forEach(s=>{Yy(e,s)||e.push(s)}),e}function mB(n,t){return N0(t).filter(e=>!Yy(n,e))}let vB=(()=>{class n{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=I0(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=O0(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e){this.control&&this.control.reset(e)}hasError(e,i){return!!this.control&&this.control.hasError(e,i)}getError(e,i){return this.control?this.control.getError(e,i):null}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=ce({type:n}),n})(),xn=(()=>{class n extends vB{get formDirective(){return null}get path(){return null}}return n.\u0275fac=function(){let t;return function(i){return(t||(t=Xi(n)))(i||n)}}(),n.\u0275dir=ce({type:n,features:[It]}),n})();class $a extends vB{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class yB{constructor(t){this._cd=t}is(t){var e,i,s;return"submitted"===t?!!(null===(e=this._cd)||void 0===e?void 0:e.submitted):!!(null===(s=null===(i=this._cd)||void 0===i?void 0:i.control)||void 0===s?void 0:s[t])}}let hc=(()=>{class n extends yB{constructor(e){super(e)}}return n.\u0275fac=function(e){return new(e||n)(V($a,2))},n.\u0275dir=ce({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(e,i){2&e&&Ql("ng-untouched",i.is("untouched"))("ng-touched",i.is("touched"))("ng-pristine",i.is("pristine"))("ng-dirty",i.is("dirty"))("ng-valid",i.is("valid"))("ng-invalid",i.is("invalid"))("ng-pending",i.is("pending"))},features:[It]}),n})(),dc=(()=>{class n extends yB{constructor(e){super(e)}}return n.\u0275fac=function(e){return new(e||n)(V(xn,10))},n.\u0275dir=ce({type:n,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(e,i){2&e&&Ql("ng-untouched",i.is("untouched"))("ng-touched",i.is("touched"))("ng-pristine",i.is("pristine"))("ng-dirty",i.is("dirty"))("ng-valid",i.is("valid"))("ng-invalid",i.is("invalid"))("ng-pending",i.is("pending"))("ng-submitted",i.is("submitted"))},features:[It]}),n})();function Tp(n,t){B0(n,t),t.valueAccessor.writeValue(n.value),function(n,t){t.valueAccessor.registerOnChange(e=>{n._pendingValue=e,n._pendingChange=!0,n._pendingDirty=!0,"change"===n.updateOn&&_B(n,t)})}(n,t),function(n,t){const e=(i,s)=>{t.valueAccessor.writeValue(i),s&&t.viewToModelUpdate(i)};n.registerOnChange(e),t._registerOnDestroy(()=>{n._unregisterOnChange(e)})}(n,t),function(n,t){t.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,"blur"===n.updateOn&&n._pendingChange&&_B(n,t),"submit"!==n.updateOn&&n.markAsTouched()})}(n,t),function(n,t){if(t.valueAccessor.setDisabledState){const e=i=>{t.valueAccessor.setDisabledState(i)};n.registerOnDisabledChange(e),t._registerOnDestroy(()=>{n._unregisterOnDisabledChange(e)})}}(n,t)}function Zy(n,t,e=!0){const i=()=>{};t.valueAccessor&&(t.valueAccessor.registerOnChange(i),t.valueAccessor.registerOnTouched(i)),e_(n,t),n&&(t._invokeOnDestroyCallbacks(),n._registerOnCollectionChange(()=>{}))}function Xy(n,t){n.forEach(e=>{e.registerOnValidatorChange&&e.registerOnValidatorChange(t)})}function B0(n,t){const e=fB(n);null!==t.validator?n.setValidators(dB(e,t.validator)):"function"==typeof e&&n.setValidators([e]);const i=pB(n);null!==t.asyncValidator?n.setAsyncValidators(dB(i,t.asyncValidator)):"function"==typeof i&&n.setAsyncValidators([i]);const s=()=>n.updateValueAndValidity();Xy(t._rawValidators,s),Xy(t._rawAsyncValidators,s)}function e_(n,t){let e=!1;if(null!==n){if(null!==t.validator){const s=fB(n);if(Array.isArray(s)&&s.length>0){const r=s.filter(o=>o!==t.validator);r.length!==s.length&&(e=!0,n.setValidators(r))}}if(null!==t.asyncValidator){const s=pB(n);if(Array.isArray(s)&&s.length>0){const r=s.filter(o=>o!==t.asyncValidator);r.length!==s.length&&(e=!0,n.setAsyncValidators(r))}}}const i=()=>{};return Xy(t._rawValidators,i),Xy(t._rawAsyncValidators,i),e}function _B(n,t){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),t.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}function t_(n,t){const e=n.indexOf(t);e>-1&&n.splice(e,1)}const xp="VALID",i_="INVALID",fh="PENDING",Mp="DISABLED";function F0(n){return(q0(n)?n.validators:n)||null}function EB(n){return Array.isArray(n)?I0(n):n||null}function H0(n,t){return(q0(t)?t.asyncValidators:n)||null}function wB(n){return Array.isArray(n)?O0(n):n||null}function q0(n){return null!=n&&!Array.isArray(n)&&"object"==typeof n}class G0{constructor(t,e){this._hasOwnPendingAsyncValidator=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=t,this._rawAsyncValidators=e,this._composedValidatorFn=EB(this._rawValidators),this._composedAsyncValidatorFn=wB(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn}set validator(t){this._rawValidators=this._composedValidatorFn=t}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(t){this._rawAsyncValidators=this._composedAsyncValidatorFn=t}get parent(){return this._parent}get valid(){return this.status===xp}get invalid(){return this.status===i_}get pending(){return this.status==fh}get disabled(){return this.status===Mp}get enabled(){return this.status!==Mp}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(t){this._rawValidators=t,this._composedValidatorFn=EB(t)}setAsyncValidators(t){this._rawAsyncValidators=t,this._composedAsyncValidatorFn=wB(t)}addValidators(t){this.setValidators(gB(t,this._rawValidators))}addAsyncValidators(t){this.setAsyncValidators(gB(t,this._rawAsyncValidators))}removeValidators(t){this.setValidators(mB(t,this._rawValidators))}removeAsyncValidators(t){this.setAsyncValidators(mB(t,this._rawAsyncValidators))}hasValidator(t){return Yy(this._rawValidators,t)}hasAsyncValidator(t){return Yy(this._rawAsyncValidators,t)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(t={}){this.touched=!0,this._parent&&!t.onlySelf&&this._parent.markAsTouched(t)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(t=>t.markAllAsTouched())}markAsUntouched(t={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(e=>{e.markAsUntouched({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}markAsDirty(t={}){this.pristine=!1,this._parent&&!t.onlySelf&&this._parent.markAsDirty(t)}markAsPristine(t={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(e=>{e.markAsPristine({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}markAsPending(t={}){this.status=fh,!1!==t.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!t.onlySelf&&this._parent.markAsPending(t)}disable(t={}){const e=this._parentMarkedDirty(t.onlySelf);this.status=Mp,this.errors=null,this._forEachChild(i=>{i.disable(Object.assign(Object.assign({},t),{onlySelf:!0}))}),this._updateValue(),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Object.assign(Object.assign({},t),{skipPristineCheck:e})),this._onDisabledChange.forEach(i=>i(!0))}enable(t={}){const e=this._parentMarkedDirty(t.onlySelf);this.status=xp,this._forEachChild(i=>{i.enable(Object.assign(Object.assign({},t),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent}),this._updateAncestors(Object.assign(Object.assign({},t),{skipPristineCheck:e})),this._onDisabledChange.forEach(i=>i(!1))}_updateAncestors(t){this._parent&&!t.onlySelf&&(this._parent.updateValueAndValidity(t),t.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(t){this._parent=t}updateValueAndValidity(t={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===xp||this.status===fh)&&this._runAsyncValidator(t.emitEvent)),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!t.onlySelf&&this._parent.updateValueAndValidity(t)}_updateTreeValidity(t={emitEvent:!0}){this._forEachChild(e=>e._updateTreeValidity(t)),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Mp:xp}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(t){if(this.asyncValidator){this.status=fh,this._hasOwnPendingAsyncValidator=!0;const e=oB(this.asyncValidator(this));this._asyncValidationSubscription=e.subscribe(i=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(i,{emitEvent:t})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(t,e={}){this.errors=t,this._updateControlsErrors(!1!==e.emitEvent)}get(t){return function(n,t,e){if(null==t||(Array.isArray(t)||(t=t.split(".")),Array.isArray(t)&&0===t.length))return null;let i=n;return t.forEach(s=>{i=i instanceof Ii?i.controls.hasOwnProperty(s)?i.controls[s]:null:i instanceof n_&&i.at(s)||null}),i}(this,t)}getError(t,e){const i=e?this.get(e):this;return i&&i.errors?i.errors[t]:null}hasError(t,e){return!!this.getError(t,e)}get root(){let t=this;for(;t._parent;)t=t._parent;return t}_updateControlsErrors(t){this.status=this._calculateStatus(),t&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(t)}_initObservables(){this.valueChanges=new ut,this.statusChanges=new ut}_calculateStatus(){return this._allControlsDisabled()?Mp:this.errors?i_:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(fh)?fh:this._anyControlsHaveStatus(i_)?i_:xp}_anyControlsHaveStatus(t){return this._anyControls(e=>e.status===t)}_anyControlsDirty(){return this._anyControls(t=>t.dirty)}_anyControlsTouched(){return this._anyControls(t=>t.touched)}_updatePristine(t={}){this.pristine=!this._anyControlsDirty(),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}_updateTouched(t={}){this.touched=this._anyControlsTouched(),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}_isBoxedValue(t){return"object"==typeof t&&null!==t&&2===Object.keys(t).length&&"value"in t&&"disabled"in t}_registerOnCollectionChange(t){this._onCollectionChange=t}_setUpdateStrategy(t){q0(t)&&null!=t.updateOn&&(this._updateOn=t.updateOn)}_parentMarkedDirty(t){return!t&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}}class ie extends G0{constructor(t=null,e,i){super(F0(e),H0(i,e)),this._onChange=[],this._applyFormState(t),this._setUpdateStrategy(e),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}setValue(t,e={}){this.value=this._pendingValue=t,this._onChange.length&&!1!==e.emitModelToViewChange&&this._onChange.forEach(i=>i(this.value,!1!==e.emitViewToModelChange)),this.updateValueAndValidity(e)}patchValue(t,e={}){this.setValue(t,e)}reset(t=null,e={}){this._applyFormState(t),this.markAsPristine(e),this.markAsUntouched(e),this.setValue(this.value,e),this._pendingChange=!1}_updateValue(){}_anyControls(t){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(t){this._onChange.push(t)}_unregisterOnChange(t){t_(this._onChange,t)}registerOnDisabledChange(t){this._onDisabledChange.push(t)}_unregisterOnDisabledChange(t){t_(this._onDisabledChange,t)}_forEachChild(t){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(t){this._isBoxedValue(t)?(this.value=this._pendingValue=t.value,t.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=t}}class Ii extends G0{constructor(t,e,i){super(F0(e),H0(i,e)),this.controls=t,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(t,e){return this.controls[t]?this.controls[t]:(this.controls[t]=e,e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange),e)}addControl(t,e,i={}){this.registerControl(t,e),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}removeControl(t,e={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],this.updateValueAndValidity({emitEvent:e.emitEvent}),this._onCollectionChange()}setControl(t,e,i={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],e&&this.registerControl(t,e),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}contains(t){return this.controls.hasOwnProperty(t)&&this.controls[t].enabled}setValue(t,e={}){this._checkAllValuesPresent(t),Object.keys(t).forEach(i=>{this._throwIfControlMissing(i),this.controls[i].setValue(t[i],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(t,e={}){null!=t&&(Object.keys(t).forEach(i=>{this.controls[i]&&this.controls[i].patchValue(t[i],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e))}reset(t={},e={}){this._forEachChild((i,s)=>{i.reset(t[s],{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}getRawValue(){return this._reduceChildren({},(t,e,i)=>(t[i]=e instanceof ie?e.value:e.getRawValue(),t))}_syncPendingControls(){let t=this._reduceChildren(!1,(e,i)=>!!i._syncPendingControls()||e);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_throwIfControlMissing(t){if(!Object.keys(this.controls).length)throw new Error("\n        There are no form controls registered with this group yet. If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.controls[t])throw new Error(`Cannot find form control with name: ${t}.`)}_forEachChild(t){Object.keys(this.controls).forEach(e=>{const i=this.controls[e];i&&t(i,e)})}_setUpControls(){this._forEachChild(t=>{t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(t){for(const e of Object.keys(this.controls)){const i=this.controls[e];if(this.contains(e)&&t(i))return!0}return!1}_reduceValue(){return this._reduceChildren({},(t,e,i)=>((e.enabled||this.disabled)&&(t[i]=e.value),t))}_reduceChildren(t,e){let i=t;return this._forEachChild((s,r)=>{i=e(i,s,r)}),i}_allControlsDisabled(){for(const t of Object.keys(this.controls))if(this.controls[t].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_checkAllValuesPresent(t){this._forEachChild((e,i)=>{if(void 0===t[i])throw new Error(`Must supply a value for form control with name: '${i}'.`)})}}class n_ extends G0{constructor(t,e,i){super(F0(e),H0(i,e)),this.controls=t,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(t){return this.controls[t]}push(t,e={}){this.controls.push(t),this._registerControl(t),this.updateValueAndValidity({emitEvent:e.emitEvent}),this._onCollectionChange()}insert(t,e,i={}){this.controls.splice(t,0,e),this._registerControl(e),this.updateValueAndValidity({emitEvent:i.emitEvent})}removeAt(t,e={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),this.controls.splice(t,1),this.updateValueAndValidity({emitEvent:e.emitEvent})}setControl(t,e,i={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),this.controls.splice(t,1),e&&(this.controls.splice(t,0,e),this._registerControl(e)),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(t,e={}){this._checkAllValuesPresent(t),t.forEach((i,s)=>{this._throwIfControlMissing(s),this.at(s).setValue(i,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(t,e={}){null!=t&&(t.forEach((i,s)=>{this.at(s)&&this.at(s).patchValue(i,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e))}reset(t=[],e={}){this._forEachChild((i,s)=>{i.reset(t[s],{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}getRawValue(){return this.controls.map(t=>t instanceof ie?t.value:t.getRawValue())}clear(t={}){this.controls.length<1||(this._forEachChild(e=>e._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:t.emitEvent}))}_syncPendingControls(){let t=this.controls.reduce((e,i)=>!!i._syncPendingControls()||e,!1);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_throwIfControlMissing(t){if(!this.controls.length)throw new Error("\n        There are no form controls registered with this array yet. If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.at(t))throw new Error(`Cannot find form control at index ${t}`)}_forEachChild(t){this.controls.forEach((e,i)=>{t(e,i)})}_updateValue(){this.value=this.controls.filter(t=>t.enabled||this.disabled).map(t=>t.value)}_anyControls(t){return this.controls.some(e=>e.enabled&&t(e))}_setUpControls(){this._forEachChild(t=>this._registerControl(t))}_checkAllValuesPresent(t){this._forEachChild((e,i)=>{if(void 0===t[i])throw new Error(`Must supply a value for form control at index: ${i}.`)})}_allControlsDisabled(){for(const t of this.controls)if(t.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(t){t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)}}let AB=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=ce({type:n,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),n})();const xW={provide:Gr,useExisting:_t(()=>s_),multi:!0};let s_=(()=>{class n extends uc{writeValue(e){this.setProperty("value",null==e?"":e)}registerOnChange(e){this.onChange=i=>{e(""==i?null:parseFloat(i))}}}return n.\u0275fac=function(){let t;return function(i){return(t||(t=Xi(n)))(i||n)}}(),n.\u0275dir=ce({type:n,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(e,i){1&e&&Ge("input",function(r){return i.onChange(r.target.value)})("blur",function(){return i.onTouched()})},features:[rt([xW]),It]}),n})();const MW={provide:Gr,useExisting:_t(()=>j0),multi:!0};let TB=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=Xt({type:n}),n.\u0275inj=Gt({}),n})(),IW=(()=>{class n{constructor(){this._accessors=[]}add(e,i){this._accessors.push([e,i])}remove(e){for(let i=this._accessors.length-1;i>=0;--i)if(this._accessors[i][1]===e)return void this._accessors.splice(i,1)}select(e){this._accessors.forEach(i=>{this._isSameGroup(i,e)&&i[1]!==e&&i[1].fireUncheck(e.value)})}_isSameGroup(e,i){return!!e[0].control&&e[0]._parent===i._control._parent&&e[1].name===i.name}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=le({factory:function(){return new n},token:n,providedIn:TB}),n})(),j0=(()=>{class n extends uc{constructor(e,i,s,r){super(e,i),this._registry=s,this._injector=r,this.onChange=()=>{}}ngOnInit(){this._control=this._injector.get($a),this._checkName(),this._registry.add(this._control,this)}ngOnDestroy(){this._registry.remove(this)}writeValue(e){this._state=e===this.value,this.setProperty("checked",this._state)}registerOnChange(e){this._fn=e,this.onChange=()=>{e(this.value),this._registry.select(this)}}fireUncheck(e){this.writeValue(e)}_checkName(){!this.name&&this.formControlName&&(this.name=this.formControlName)}}return n.\u0275fac=function(e){return new(e||n)(V(Xl),V(Ot),V(IW),V(Pt))},n.\u0275dir=ce({type:n,selectors:[["input","type","radio","formControlName",""],["input","type","radio","formControl",""],["input","type","radio","ngModel",""]],hostBindings:function(e,i){1&e&&Ge("change",function(){return i.onChange()})("blur",function(){return i.onTouched()})},inputs:{name:"name",formControlName:"formControlName",value:"value"},features:[rt([MW]),It]}),n})();const W0=new pe("NgModelWithFormControlWarning"),RW={provide:xn,useExisting:_t(()=>Go)};let Go=(()=>{class n extends xn{constructor(e,i){super(),this.validators=e,this.asyncValidators=i,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new ut,this._setValidators(e),this._setAsyncValidators(i)}ngOnChanges(e){this._checkFormPresent(),e.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(e_(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(e){const i=this.form.get(e.path);return Tp(i,e),i.updateValueAndValidity({emitEvent:!1}),this.directives.push(e),i}getControl(e){return this.form.get(e.path)}removeControl(e){Zy(e.control||null,e,!1),t_(this.directives,e)}addFormGroup(e){this._setUpFormContainer(e)}removeFormGroup(e){this._cleanUpFormContainer(e)}getFormGroup(e){return this.form.get(e.path)}addFormArray(e){this._setUpFormContainer(e)}removeFormArray(e){this._cleanUpFormContainer(e)}getFormArray(e){return this.form.get(e.path)}updateModel(e,i){this.form.get(e.path).setValue(i)}onSubmit(e){return this.submitted=!0,function(n,t){n._syncPendingControls(),t.forEach(e=>{const i=e.control;"submit"===i.updateOn&&i._pendingChange&&(e.viewToModelUpdate(i._pendingValue),i._pendingChange=!1)})}(this.form,this.directives),this.ngSubmit.emit(e),!1}onReset(){this.resetForm()}resetForm(e){this.form.reset(e),this.submitted=!1}_updateDomValue(){this.directives.forEach(e=>{const i=e.control,s=this.form.get(e.path);i!==s&&(Zy(i||null,e),s instanceof ie&&(Tp(s,e),e.control=s))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(e){const i=this.form.get(e.path);(function(n,t){B0(n,t)})(i,e),i.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(e){if(this.form){const i=this.form.get(e.path);i&&function(n,t){return e_(n,t)}(i,e)&&i.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){B0(this.form,this),this._oldForm&&e_(this._oldForm,this)}_checkFormPresent(){}}return n.\u0275fac=function(e){return new(e||n)(V(cn,10),V(Ba,10))},n.\u0275dir=ce({type:n,selectors:[["","formGroup",""]],hostBindings:function(e,i){1&e&&Ge("submit",function(r){return i.onSubmit(r)})("reset",function(){return i.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[rt([RW]),It,kt]}),n})();const VW={provide:$a,useExisting:_t(()=>Fa)};let Fa=(()=>{class n extends $a{constructor(e,i,s,r,o){super(),this._ngModelWarningConfig=o,this._added=!1,this.update=new ut,this._ngModelWarningSent=!1,this._parent=e,this._setValidators(i),this._setAsyncValidators(s),this.valueAccessor=function(n,t){if(!t)return null;let e,i,s;return Array.isArray(t),t.forEach(r=>{r.constructor===qo?e=r:function(n){return Object.getPrototypeOf(n.constructor)===uc}(r)?i=r:s=r}),s||i||e||null}(0,r)}set isDisabled(e){}ngOnChanges(e){this._added||this._setUpControl(),function(n,t){if(!n.hasOwnProperty("model"))return!1;const e=n.model;return!!e.isFirstChange()||!Object.is(t,e.currentValue)}(e,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(e){this.viewModel=e,this.update.emit(e)}get path(){return function(n,t){return[...t.path,n]}(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this.control.disabled&&this.valueAccessor.setDisabledState&&this.valueAccessor.setDisabledState(!0),this._added=!0}}return n.\u0275fac=function(e){return new(e||n)(V(xn,13),V(cn,10),V(Ba,10),V(Gr,10),V(W0,8))},n.\u0275dir=ce({type:n,selectors:[["","formControlName",""]],inputs:{isDisabled:["disabled","isDisabled"],name:["formControlName","name"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[rt([VW]),It,kt]}),n._ngModelWarningSentOnce=!1,n})();const $W={provide:Gr,useExisting:_t(()=>Op),multi:!0};function OB(n,t){return null==n?`${t}`:(t&&"object"==typeof t&&(t="Object"),`${n}: ${t}`.slice(0,50))}let Op=(()=>{class n extends uc{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(e){this._compareWith=e}writeValue(e){this.value=e;const i=this._getOptionId(e);null==i&&this.setProperty("selectedIndex",-1);const s=OB(i,e);this.setProperty("value",s)}registerOnChange(e){this.onChange=i=>{this.value=this._getOptionValue(i),e(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(e){for(const i of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(i),e))return i;return null}_getOptionValue(e){const i=function(n){return n.split(":")[0]}(e);return this._optionMap.has(i)?this._optionMap.get(i):e}}return n.\u0275fac=function(){let t;return function(i){return(t||(t=Xi(n)))(i||n)}}(),n.\u0275dir=ce({type:n,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(e,i){1&e&&Ge("change",function(r){return i.onChange(r.target.value)})("blur",function(){return i.onTouched()})},inputs:{compareWith:"compareWith"},features:[rt([$W]),It]}),n})(),Y0=(()=>{class n{constructor(e,i,s){this._element=e,this._renderer=i,this._select=s,this._select&&(this.id=this._select._registerOption())}set ngValue(e){null!=this._select&&(this._select._optionMap.set(this.id,e),this._setElementValue(OB(this.id,e)),this._select.writeValue(this._select.value))}set value(e){this._setElementValue(e),this._select&&this._select.writeValue(this._select.value)}_setElementValue(e){this._renderer.setProperty(this._element.nativeElement,"value",e)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}}return n.\u0275fac=function(e){return new(e||n)(V(Ot),V(Xl),V(Op,9))},n.\u0275dir=ce({type:n,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}}),n})();const HW={provide:Gr,useExisting:_t(()=>Q0),multi:!0};function NB(n,t){return null==n?`${t}`:("string"==typeof t&&(t=`'${t}'`),t&&"object"==typeof t&&(t="Object"),`${n}: ${t}`.slice(0,50))}let Q0=(()=>{class n extends uc{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(e){this._compareWith=e}writeValue(e){let i;if(this.value=e,Array.isArray(e)){const s=e.map(r=>this._getOptionId(r));i=(r,o)=>{r._setSelected(s.indexOf(o.toString())>-1)}}else i=(s,r)=>{s._setSelected(!1)};this._optionMap.forEach(i)}registerOnChange(e){this.onChange=i=>{const s=[];if(void 0!==i.selectedOptions){const r=i.selectedOptions;for(let o=0;o<r.length;o++){const a=r.item(o),l=this._getOptionValue(a.value);s.push(l)}}else{const r=i.options;for(let o=0;o<r.length;o++){const a=r.item(o);if(a.selected){const l=this._getOptionValue(a.value);s.push(l)}}}this.value=s,e(s)}}_registerOption(e){const i=(this._idCounter++).toString();return this._optionMap.set(i,e),i}_getOptionId(e){for(const i of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(i)._value,e))return i;return null}_getOptionValue(e){const i=function(n){return n.split(":")[0]}(e);return this._optionMap.has(i)?this._optionMap.get(i)._value:e}}return n.\u0275fac=function(){let t;return function(i){return(t||(t=Xi(n)))(i||n)}}(),n.\u0275dir=ce({type:n,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(e,i){1&e&&Ge("change",function(r){return i.onChange(r.target)})("blur",function(){return i.onTouched()})},inputs:{compareWith:"compareWith"},features:[rt([HW]),It]}),n})(),J0=(()=>{class n{constructor(e,i,s){this._element=e,this._renderer=i,this._select=s,this._select&&(this.id=this._select._registerOption(this))}set ngValue(e){null!=this._select&&(this._value=e,this._setElementValue(NB(this.id,e)),this._select.writeValue(this._select.value))}set value(e){this._select?(this._value=e,this._setElementValue(NB(this.id,e)),this._select.writeValue(this._select.value)):this._setElementValue(e)}_setElementValue(e){this._renderer.setProperty(this._element.nativeElement,"value",e)}_setSelected(e){this._renderer.setProperty(this._element.nativeElement,"selected",e)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}}return n.\u0275fac=function(e){return new(e||n)(V(Ot),V(Xl),V(Q0,9))},n.\u0275dir=ce({type:n,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}}),n})(),LB=(()=>{class n{constructor(){this._validator=Va}handleChanges(e){if(this.inputName in e){const i=this.normalizeInput(e[this.inputName].currentValue);this._validator=this.createValidator(i),this._onChange&&this._onChange()}}validate(e){return this._validator(e)}registerOnValidatorChange(e){this._onChange=e}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=ce({type:n}),n})();const GW={provide:cn,useExisting:_t(()=>r_),multi:!0};let r_=(()=>{class n extends LB{constructor(){super(...arguments),this.inputName="max",this.normalizeInput=e=>parseFloat(e),this.createValidator=e=>Z2(e)}ngOnChanges(e){this.handleChanges(e)}}return n.\u0275fac=function(){let t;return function(i){return(t||(t=Xi(n)))(i||n)}}(),n.\u0275dir=ce({type:n,selectors:[["input","type","number","max","","formControlName",""],["input","type","number","max","","formControl",""],["input","type","number","max","","ngModel",""]],hostVars:1,hostBindings:function(e,i){if(2&e){let s;hr("max",null!==(s=i.max)&&void 0!==s?s:null)}},inputs:{max:"max"},features:[rt([GW]),It,kt]}),n})();const UW={provide:cn,useExisting:_t(()=>Z0),multi:!0};let Z0=(()=>{class n extends LB{constructor(){super(...arguments),this.inputName="min",this.normalizeInput=e=>parseFloat(e),this.createValidator=e=>J2(e)}ngOnChanges(e){this.handleChanges(e)}}return n.\u0275fac=function(){let t;return function(i){return(t||(t=Xi(n)))(i||n)}}(),n.\u0275dir=ce({type:n,selectors:[["input","type","number","min","","formControlName",""],["input","type","number","min","","formControl",""],["input","type","number","min","","ngModel",""]],hostVars:1,hostBindings:function(e,i){if(2&e){let s;hr("min",null!==(s=i.min)&&void 0!==s?s:null)}},inputs:{min:"min"},features:[rt([UW]),It,kt]}),n})();const jW={provide:cn,useExisting:_t(()=>o_),multi:!0};let o_=(()=>{class n{constructor(){this._required=!1}get required(){return this._required}set required(e){this._required=null!=e&&!1!==e&&"false"!=`${e}`,this._onChange&&this._onChange()}validate(e){return this.required?X2(e):null}registerOnValidatorChange(e){this._onChange=e}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=ce({type:n,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(e,i){2&e&&hr("required",i.required?"":null)},inputs:{required:"required"},features:[rt([jW])]}),n})(),qB=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=Xt({type:n}),n.\u0275inj=Gt({imports:[[TB]]}),n})(),JW=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=Xt({type:n}),n.\u0275inj=Gt({imports:[qB]}),n})(),ZW=(()=>{class n{static withConfig(e){return{ngModule:n,providers:[{provide:W0,useValue:e.warnOnNgModelWithFormControl}]}}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=Xt({type:n}),n.\u0275inj=Gt({imports:[qB]}),n})();var ge=zt(815);function Np(n){let e,t=n.length;for(;0!=t;)e=Math.floor(Math.random()*t),t--,[n[t],n[e]]=[n[e],n[t]];return n}function Uo(n,t){return n=Math.ceil(n),t=Math.floor(t),Math.floor(Math.random()*(t-n+1))+n}function X0(n){return Math.ceil(100*n)/100}function wt(n,t){let e;return e=n.player==t?n.opponet:n.player,e}function XW(n){var t,e,i,s,r,o,a;return new Ii({name:new ie(null!==(t=n.name)&&void 0!==t?t:null,M0.required),tier1Pets:new ie(null!==(e=n.tier1Pets)&&void 0!==e?e:[],n=>n.value&&10!==n.value.length?{length:!0}:null),tier2Pets:new ie(null!==(i=n.tier2Pets)&&void 0!==i?i:[],n=>n.value&&10!==n.value.length?{length:!0}:null),tier3Pets:new ie(null!==(s=n.tier3Pets)&&void 0!==s?s:[],n=>n.value&&10!==n.value.length?{length:!0}:null),tier4Pets:new ie(null!==(r=n.tier4Pets)&&void 0!==r?r:[],n=>n.value&&10!==n.value.length?{length:!0}:null),tier5Pets:new ie(null!==(o=n.tier5Pets)&&void 0!==o?o:[],n=>n.value&&10!==n.value.length?{length:!0}:null),tier6Pets:new ie(null!==(a=n.tier6Pets)&&void 0!==a?a:[],n=>n.value&&10!==n.value.length?{length:!0}:null)})}class Ee{constructor(){this.originalPower=this.power}reset(){this.uses=this.originalUses}}class Ha extends Ee{constructor(){super(...arguments),this.name="Peanut",this.equipmentClass="attack",this.power=0}}class Rp extends Ee{constructor(){super(),this.name="Salt",this.equipmentClass="attack"}}class Lp extends Ee{constructor(){super(...arguments),this.name="Cheese",this.equipmentClass="attack",this.uses=1,this.originalUses=1}}class Bp extends Ee{constructor(){super(...arguments),this.name="Pepper",this.equipmentClass="shield",this.uses=1,this.originalUses=1,this.power=0,this.originalPower=0}}class Vp extends Ee{constructor(){super(),this.name="Fortune Cookie",this.equipmentClass="attack"}}class ek extends Ee{constructor(){super(...arguments),this.name="Dazed",this.equipmentClass="ailment-other"}}class a_ extends Ee{constructor(){super(...arguments),this.name="Exposed",this.equipmentClass="ailment-other",this.uses=2,this.originalUses=2}}class gh extends Ee{constructor(){super(...arguments),this.name="Crisp",this.equipmentClass="ailment-other"}}class S{constructor(t,e,i){this.logService=t,this.abilityService=e,this.hidden=!1,this.mana=0,this.maxAbilityUses=null,this.abilityUses=0,this.exp=0,this.originalExp=0,this.faintPet=!1,this.done=!1,this.seenDead=!1,this.swallowedPets=[],this.toyPet=!1,this.battlesFought=0,this.eggplantTouched=!1,this.cherryTouched=!1,this.parent=i}initPet(t,e,i,s,r){var o,a,l,h,f,p,y,_,w,T,P,N,I,H,G,Q,te,ae,We,Fe,Ye,yt,Ht;this.exp=null!=t?t:this.exp,this.health=null!=e?e:this.health*this.level,this.attack=null!=i?i:this.attack*this.level,this.mana=null!=s?s:this.mana,this.originalHealth=this.health,this.originalAttack=this.attack,this.originalMana=this.mana,this.equipment=r,this.originalEquipment=r,this.originalExp=this.exp,this.originalStartOfBattle=this.startOfBattle,this.originalTransform=this.transform,this.originalHurt=this.hurt,this.originalFaint=this.faint,this.originalFriendSummoned=this.friendSummoned,this.originalFriendAheadAttacks=this.friendAheadAttacks,this.originalFriendAheadFaints=this.friendAheadFaints,this.originalFriendFaints=this.friendFaints,this.originalFriendGainedPerk=this.friendGainedPerk,this.originalFriendGainedAilment=this.friendGainedAilment,this.originalFriendHurt=this.friendHurt,this.originalFriendAttacks=this.friendAttacks,this.originalAfterAttack=this.afterAttack,this.originalBeforeAttack=this.beforeAttack,this.originalAnyoneLevelUp=this.anyoneLevelUp,this.originalEndTurn=this.endTurn,this.originalKnockOut=this.knockOut,this.originalSummoned=this.summoned,this.originalFriendlyToyBroke=this.friendlyToyBroke,this.originalEnemySummoned=this.enemySummoned,this.originalEnemyPushed=this.enemyPushed,this.originalEnemyHurt=this.enemyHurt,this.originalEmptyFrontSpace=this.emptyFrontSpace,this.originalGainedMana=this.gainedMana,this.originalFriendJumped=this.friendJumped,this.originalEnemyGainedAilment=this.enemyGainedAilment,this.originalFriendGainsHealth=this.friendGainsHealth;let ft=null===(o=this.faint)||void 0===o?void 0:o.bind(this);null!=ft&&(this.faintPet=!0),this.faint=(Pe,Me,qt)=>{if(null!=ft){if(!this.abilityValidCheck())return;ft(Pe,Me,qt)}if(this.abilityValidCheck()&&this.mana>0){let Zb;Zb={priority:this.attack,player:this.parent,callback:()=>{let Zr=wt(Pe,this.parent).getRandomPet([],!1,!0);null!=Zr&&0!=this.mana&&this.snipePet(Zr,this.mana,!0,!1,!1,!1,!0)}},this.abilityService.setManaEvent(Zb)}};let Ui=null===(a=this.startOfBattle)||void 0===a?void 0:a.bind(this);this.startOfBattle=null==Ui?null:(Pe,Me)=>{!this.abilityValidCheck()||Ui(Pe,Me)};let ji=null===(l=this.transform)||void 0===l?void 0:l.bind(this);this.transform=null==ji?null:(Pe,Me)=>{!this.abilityValidCheck()||ji(Pe,Me)};let J=null===(h=this.endTurn)||void 0===h?void 0:h.bind(this);this.endTurn=null==J?null:Pe=>{!this.abilityValidCheck()||J(Pe)};let oe=null===(f=this.beforeAttack)||void 0===f?void 0:f.bind(this);this.beforeAttack=null==oe?null:(Pe,Me)=>{!this.abilityValidCheck()||oe(Pe,Me)};let _e=null===(p=this.afterAttack)||void 0===p?void 0:p.bind(this);this.afterAttack=null==_e?null:(Pe,Me)=>{!this.abilityValidCheck()||_e(Pe,Me)};let Le=null===(y=this.friendAttacks)||void 0===y?void 0:y.bind(this);this.friendAttacks=null==Le?null:(Pe,Me)=>{!this.abilityValidCheck()||Le(Pe,Me)};let Rt=null===(_=this.friendFaints)||void 0===_?void 0:_.bind(this);this.friendFaints=null==Rt?null:(Pe,Me,qt)=>{!this.abilityValidCheck()||Rt(Pe,Me,qt)};let Wi=null===(w=this.friendGainedPerk)||void 0===w?void 0:w.bind(this);this.friendGainedPerk=null==Wi?null:(Pe,Me,qt)=>{!this.abilityValidCheck()||Wi(Pe,Me,qt)};let si=null===(T=this.friendHurt)||void 0===T?void 0:T.bind(this);this.friendHurt=null==si?null:(Pe,Me,qt)=>{!this.abilityValidCheck()||si(Pe,Me,qt)};let un=null===(P=this.friendSummoned)||void 0===P?void 0:P.bind(this);this.friendSummoned=null==un?null:(Pe,Me,qt)=>{!this.abilityValidCheck()||un(Pe,Me,qt)};let ht=null===(N=this.anyoneLevelUp)||void 0===N?void 0:N.bind(this);this.anyoneLevelUp=null==ht?null:(Pe,Me,qt)=>{!this.abilityValidCheck()||ht(Pe,Me,qt)};let gs=null===(I=this.enemyHurt)||void 0===I?void 0:I.bind(this);this.enemyHurt=null==gs?null:(Pe,Me,qt)=>{!this.abilityValidCheck()||gs(Pe,Me,qt)};let Ei=null===(H=this.enemySummoned)||void 0===H?void 0:H.bind(this);this.enemySummoned=null==Ei?null:(Pe,Me,qt)=>{!this.abilityValidCheck()||Ei(Pe,Me,qt)};let ms=null===(G=this.emptyFrontSpace)||void 0===G?void 0:G.bind(this);this.emptyFrontSpace=null==ms?null:(Pe,Me)=>{!this.abilityValidCheck()||ms(Pe,Me)};let On=null===(Q=this.gainedMana)||void 0===Q?void 0:Q.bind(this);this.gainedMana=null==On?null:(Pe,Me)=>{!this.abilityValidCheck()||On(Pe,Me)};let Yn=null===(te=this.friendJumped)||void 0===te?void 0:te.bind(this);this.friendJumped=null==Yn?null:(Pe,Me,qt)=>{!this.abilityValidCheck()||Yn(Pe,Me,qt)};let el=null===(ae=this.friendlyToyBroke)||void 0===ae?void 0:ae.bind(this);this.friendlyToyBroke=null==el?null:(Pe,Me)=>{!this.abilityValidCheck()||el(Pe,Me)};let Uh=null===(We=this.enemyPushed)||void 0===We?void 0:We.bind(this);this.enemyPushed=null==Uh?null:(Pe,Me)=>{!this.abilityValidCheck()||Uh(Pe,Me)};let Yb=null===(Fe=this.summoned)||void 0===Fe?void 0:Fe.bind(this);this.summoned=null==Yb?null:(Pe,Me)=>{Yb(Pe,Me)};let vg=null===(Ye=this.knockOut)||void 0===Ye?void 0:Ye.bind(this);this.knockOut=null==vg?null:(Pe,Me,qt)=>{!this.abilityValidCheck()||vg(Pe,Me,qt)};let Qb=null===(yt=this.enemyGainedAilment)||void 0===yt?void 0:yt.bind(this);this.enemyGainedAilment=null==Qb?null:(Pe,Me,qt)=>{!this.abilityValidCheck()||Qb(Pe,Me,qt)};let Jb=null===(Ht=this.friendGainsHealth)||void 0===Ht?void 0:Ht.bind(this);this.friendGainsHealth=null==Jb?null:(Pe,Me,qt)=>{!this.abilityValidCheck()||Jb(Pe,Me,qt)},this.setAbilityUses()}abilityValidCheck(){return!(null==this.savedPosition||this.equipment instanceof ek&&(this.logService.createLog({message:`${this.name}'s ability was not activated because of Dazed.`,type:"ability",player:this.parent}),1))}setAbilityUses(){this.abilityUses=0}tigerCheck(t){return null!=this.petBehind()&&("Tiger"==this.petBehind().name&&(null==t||0==t)||void 0)}superStartOfBattle(t,e=!1){if(!this.tigerCheck(e))return;let i=this.exp;this.exp=this.petBehind().minExpForLevel,this.startOfBattle(t,!0),this.exp=i}superHurt(t,e,i=!1){if(!this.tigerCheck(i))return;let s=this.exp;this.exp=this.petBehind().minExpForLevel,this.hurt(t,e,!0),this.exp=s}superFaint(t,e=!1){if(!this.tigerCheck(e))return;let i=this.exp;this.exp=this.petBehind().minExpForLevel,this.faint(t,!0),this.exp=i}superFriendSummoned(t,e,i=!1){if(!this.tigerCheck(i))return;let s=this.exp;this.exp=this.petBehind().minExpForLevel,this.friendSummoned(t,e,!0),this.exp=s}superFriendAheadAttacks(t,e,i=!1){if(!this.tigerCheck(i))return;let s=this.exp;this.exp=this.petBehind().minExpForLevel,this.friendAheadAttacks(t,e,!0),this.exp=s}superFriendAheadFaints(t,e,i=!1){if(!this.tigerCheck(i))return;let s=this.exp;this.exp=this.petBehind().minExpForLevel,this.friendAheadFaints(t,e,!0),this.exp=s}superAfterAttack(t,e=!1){if(!this.tigerCheck(e))return;let i=this.exp;this.exp=this.petBehind().minExpForLevel,this.afterAttack(t,!0),this.exp=i}superSummoned(t,e=!1){if(!this.tigerCheck(e))return;let i=this.exp;this.exp=this.petBehind().minExpForLevel,this.summoned(t,!0),this.exp=i}superKnockOut(t,e,i=!1){if(!this.tigerCheck(i))return;let s=this.exp;this.exp=this.petBehind().minExpForLevel,this.knockOut(t,e,!0),this.exp=s}superFriendFaints(t,e,i=!1){if(!this.tigerCheck(i))return;let s=this.exp;this.exp=this.petBehind().minExpForLevel,this.friendFaints(t,e,!0),this.exp=s}superBeforeAttack(t,e=!1){if(!this.tigerCheck(e))return;let i=this.exp;this.exp=this.petBehind().minExpForLevel,this.beforeAttack(t,!0),this.exp=i}superFriendGainedPerk(t,e,i=!1){if(!this.tigerCheck(i))return;let s=this.exp;this.exp=this.petBehind().minExpForLevel,this.friendGainedPerk(t,e,!0),this.exp=s}superFriendlyToyBroke(t,e=!1){if(!this.tigerCheck(e))return;let i=this.exp;this.exp=this.petBehind().minExpForLevel,this.friendlyToyBroke(t,!0),this.exp=i}superTransform(t,e=!1){if(!this.tigerCheck(e))return;let i=this.exp;this.exp=this.petBehind().minExpForLevel,this.transform(t,!0),this.exp=i}superEnemySummoned(t,e,i=!1){if(!this.tigerCheck(i))return;let s=this.exp;this.exp=this.petBehind().minExpForLevel,this.enemySummoned(t,e,!0),this.exp=s}superFriendHurt(t,e,i=!1){if(!this.tigerCheck(i))return;let s=this.exp;this.exp=this.petBehind().minExpForLevel,this.friendHurt(t,e,!0),this.exp=s}superAnyoneLevelUp(t,e,i=!1){if(!this.tigerCheck(i))return;let s=this.exp;this.exp=this.petBehind().minExpForLevel,this.anyoneLevelUp(t,e,!0),this.exp=s}superEnemyHurt(t,e,i=!1){if(!this.tigerCheck(i))return;let s=this.exp;this.exp=this.petBehind().minExpForLevel,this.enemyHurt(t,e,!0),this.exp=s}superFriendAttacks(t,e=!1){if(!this.tigerCheck(e))return;let i=this.exp;this.exp=this.petBehind().minExpForLevel,this.friendAttacks(t,!0),this.exp=i}superGainedMana(t,e=!1){if(!this.tigerCheck(e))return;let i=this.exp;this.exp=this.petBehind().minExpForLevel,this.gainedMana(t,!0),this.exp=i}superFriendJumped(t,e,i=!1){if(!this.tigerCheck(i))return;let s=this.exp;this.exp=this.petBehind().minExpForLevel,this.friendJumped(t,e,!0),this.exp=s}superEnemyGainedAilment(t,e,i=!1){if(!this.tigerCheck(i))return;let s=this.exp;this.exp=this.petBehind().minExpForLevel,this.enemyGainedAilment(t,e,!0),this.exp=s}superFriendGainsHealth(t,e,i=!1){if(!this.tigerCheck(i))return;let s=this.exp;this.exp=this.petBehind().minExpForLevel,this.friendGainsHealth(t,e,!0),this.exp=s}attackPet(t){var e,i,s;let r=this.calculateDamgae(t,this.getManticoreMult()),o=r.attackEquipment,a=r.defenseEquipment,l=r.damage,h=!1,f=1,p=1;if("Panther"==this.name&&(f=this.level+1),"Panther"==t.name&&(p=t.level+1),o instanceof Ha&&l>0)this.logService.createLog({message:`${this.name} attacks ${t.name} for ${t.health} (Peanut)`,type:"attack",player:this.parent}),t.health=0;else{t.health-=l;let y=`${this.name} attacks ${t.name} for ${l}.`;if(null!=o){let N=Math.abs(o.power),I="-";o.power>0&&(I="+");let H=`${I}${N}`;o instanceof Rp&&(H=t.tier<this.tier?"x2":"x1"),o instanceof Lp&&(H="x2"),o instanceof Vp&&(h=!0,H=r.fortuneCookie?"x2":"x1"),y+=` (${o.name} ${H})`,f>1&&(y+=` x${f} (Panther)`)}if(null!=a){let N=Math.abs(a.power),I="-";a.power<0&&(I="+"),a instanceof Bp&&(I=1==t.health?"!":"-",N=""),y+=` (${a.name} ${I}${N})`,p>1&&(y+=` x${p} (Panther)`),t.useDefenseEquipment()}t.equipment instanceof a_&&(y+="x2 (Exposed)"),r.nurikabe>0&&(y+=` -${r.nurikabe} (Nurikabe)`);let _=this.getManticoreMult(),T=["Weak","Cold","Exposed"].includes(null===(e=t.equipment)||void 0===e?void 0:e.name);_>1&&T&&(y+=` x${_} (Manticore)`),this.logService.createLog({message:y,type:"attack",player:this.parent,randomEvent:h});let P="skewer"==(null===(i=this.equipment)||void 0===i?void 0:i.equipmentClass)?this.equipment:null;null!=P&&P.attackCallback(this,t)}this.abilityService.triggerFriendAttacksEvents(this.parent,this),null!=t.hurt&&l>0&&this.abilityService.setHurtEvent({callback:t.hurt.bind(t),priority:t.attack,player:t.parent,callbackPet:this}),null!=this.afterAttack&&this.abilityService.setAfterAttackEvent({callback:this.afterAttack.bind(this),priority:this.attack}),t.health<1&&null!=this.knockOut&&this.abilityService.setKnockOutEvent({callback:this.knockOut.bind(this),priority:this.attack,callbackPet:t}),null!=(null===(s=this.petBehind(null,!0))||void 0===s?void 0:s.friendAheadAttacks)&&this.abilityService.setFriendAheadAttacksEvents({callback:this.petBehind(null,!0).friendAheadAttacks.bind(this.petBehind(null,!0)),priority:this.petBehind(null,!0).attack,callbackPet:this}),t.alive&&l>0&&this.abilityService.triggerFriendHurtEvents(t.parent,t),t.alive&&l>0&&this.abilityService.triggerEnemyHurtEvents(this.parent,t),this.applyCrisp()}applyCrisp(){for(let t of this.parent.petArray)if(t.equipment instanceof gh){let e=6,i=0;"Nurikabe"==t.name&&t.abilityUses<3&&(i=4*t.level,e=Math.max(0,e-i));let s=`${t.name} took ${e} damage`;i>0&&(s+=` -${i} (Nurikabe)`),s+=" (Crisp).",this.logService.createLog({message:s,type:"ability",player:t.parent}),t.health-=6,t.givePetEquipment(null)}}snipePet(t,e,i,s,r,o,a){var l,h,f;let p=!1;"Wolverine"==(null===(l=this.petAhead)||void 0===l?void 0:l.name)&&(e+=3*this.petAhead.level,p=!0),"Wolverine"==(null===(h=this.petBehind())||void 0===h?void 0:h.name)&&(e+=3*this.petBehind().level,p=!0);let y=this.calculateDamgae(t,this.getManticoreMult(),e,!0),_=y.attackEquipment,w=y.defenseEquipment,T=y.damage,P="Ghost Kitten"==t.name,N=0;P&&(N=3*t.level,T=Math.max(0,T-N)),t.health-=T;let I=`${this.name} sniped ${t.name} for ${T}.`;if(null!=w){t.useDefenseEquipment(!0);let G=Math.abs(w.power),Q="-";w.power<0&&(Q="+"),I+=` (${w.name} ${Q}${G})`}if(null!=_&&"attack-snipe"==_.equipmentClass){let G=Math.abs(_.power),Q="-";_.power>0&&(Q="+"),I+=` (${_.name} ${Q}${G})`}s&&(I+=" (Tiger)"),p&&(I+=" (Wolverine)"),o&&(I+=" (Fig)"),a&&(I+=" (Mana)"),P&&(I+=` -${N} (Ghost Kitten)`),"Exposed"==(null===(f=t.equipment)||void 0===f?void 0:f.name)&&(I+="x2 (Exposed)");let H=this.getManticoreMult();return H>1&&(I+=` x${H} (Manticore)`),y.nurikabe>0&&(I+=` -${y.nurikabe} (Nurikabe)`),this.logService.createLog({message:I,type:"attack",randomEvent:i,player:this.parent,pteranodon:r}),null!=t.hurt&&T>0&&this.abilityService.setHurtEvent({callback:t.hurt.bind(t),priority:t.attack,player:t.parent,callbackPet:this}),t.health<1&&null!=this.knockOut&&this.abilityService.setKnockOutEvent({callback:this.knockOut.bind(this),priority:this.attack,callbackPet:t}),t.alive&&T>0&&this.abilityService.triggerFriendHurtEvents(t.parent,t),t.alive&&T>0&&this.abilityService.triggerEnemyHurtEvents(this.parent,t),T}calculateDamgae(t,e,i,s=!1){var r,o,a,l,h,f,p;let y=1,_=1;"Panther"==this.name&&(y=this.level+1),"Panther"==t.name&&(_=t.level+1);const T=["Ink"];let I,H,N="defense"==(null===(r=t.equipment)||void 0===r?void 0:r.equipmentClass)||"shield"==(null===(o=t.equipment)||void 0===o?void 0:o.equipmentClass)||"ailment-defense"==(null===(a=t.equipment)||void 0===a?void 0:a.equipmentClass)||s&&"shield-snipe"==(null===(l=t.equipment)||void 0===l?void 0:l.equipmentClass)?t.equipment:null;if(null!=N&&(N.power=["Cold","Weak"].includes(null==N?void 0:N.name)?N.originalPower*e:N.originalPower),s)I="attack-snipe"==(null===(h=this.equipment)||void 0===h?void 0:h.equipmentClass)?this.equipment:null,H=null!=I?i+I.power:i;else{I="attack"==(null===(f=this.equipment)||void 0===f?void 0:f.equipmentClass)||"ailment-attack"==(null===(p=this.equipment)||void 0===p?void 0:p.equipmentClass)?this.equipment:null,null!=I&&(I.power=T.includes(null==I?void 0:I.name)?I.originalPower*e:I.originalPower);let Fe=this.attack;"Monty"==this.name&&(Fe*=this.level+1),H=null!=i?i+((null==I?void 0:I.power)?I.power*y:0):Fe+((null==I?void 0:I.power)?I.power*y:0)}let G=(null==N?void 0:N.power)?N.power*_:0,Q="shield"==(null==N?void 0:N.equipmentClass)||"shield-snipe"==(null==N?void 0:N.equipmentClass)?0:1,te=0;"Nurikabe"==t.name&&t.abilityUses<3&&(te=4*t.level,G+=te,t.abilityUses++),I instanceof Rp&&!s&&t.tier<this.tier&&(H*=2+y-1);let ae=!1;I instanceof Vp&&!s&&Math.random()<.5&&(H*=2,ae=!0),I instanceof Lp&&!s&&(H*=2+y-1),t.equipment instanceof a_&&(H*=2*e);let We=Math.max(Q,H-G);return N instanceof Bp&&(We=Math.min(We,t.health-1)),{defenseEquipment:N,attackEquipment:I,damage:We,fortuneCookie:ae,nurikabe:te}}resetPet(){var t;this.health=this.originalHealth,this.attack=this.originalAttack,this.equipment=this.originalEquipment,this.mana=this.originalMana,this.exp=this.originalExp,this.done=!1,this.seenDead=!1;try{null===(t=this.equipment)||void 0===t||t.reset()}catch(e){console.warn("equipment reset failed",this.equipment),console.error(e)}this.swallowedPets=[],this.savedPosition=this.originalSavedPosition,this.setAbilityUses()}get alive(){return this.health>0}setFaintEventIfPresent(){var t;null!=this.faint&&this.abilityService.setFaintEvent({priority:this.attack,callback:this.faint.bind(this)}),"faint"==(null===(t=this.equipment)||void 0===t?void 0:t.equipmentClass)&&this.abilityService.setFaintEvent({priority:-1,callback:()=>{try{this.equipment.callback(this)}catch(e){console.warn("equipment callback failed",this.equipment)}}})}useDefenseEquipment(t=!1){if(null!=this.equipment){if("Exposed"!=this.equipment.name&&"Cold"!=this.equipment.name&&"defense"!=this.equipment.equipmentClass&&"shield"!=this.equipment.equipmentClass&&t&&"shield-snipe"!=this.equipment.equipmentClass)return;null!=this.equipment.uses&&(this.equipment.uses-=1,0==this.equipment.uses&&(this.equipment=null))}}useAttackDefenseEquipment(){null!=this.equipment&&null!=this.equipment.uses&&("attack"!=this.equipment.equipmentClass&&"defense"!=this.equipment.equipmentClass&&"shield"!=this.equipment.equipmentClass&&"snipe"!=this.equipment.equipmentClass||(isNaN(this.equipment.uses)&&console.warn("uses is NaN",this.equipment),this.equipment.uses-=1,0==this.equipment.uses&&(this.equipment=null)))}increaseAttack(t){let e=50;"Behemoth"==this.name&&(e=100),this.attack=Math.min(Math.max(this.attack+t,1),e)}increaseHealth(t){let e=50;"Behemoth"==this.name&&(e=100),this.health=Math.min(Math.max(this.health+t,1),e),this.abilityService.triggerFriendGainsHealthEvents(this.parent,this),this.abilityService.executeFriendGainsHealthEvents()}increaseExp(t){let e=this.level;this.increaseAttack(t),this.increaseHealth(t),this.exp=Math.min(this.exp+t,5),this.level>e&&(this.logService.createLog({message:`${this.name} leveled up to level ${this.level}.`,type:"ability",player:this.parent}),this.abilityService.triggerLevelUpEvents(this.parent,this),this.abilityService.triggerLevelUpEvents(this.parent.opponent,this),this.abilityService.executeLevelUpEvents(),this.abilityService.executeFriendlyLevelUpToyEvents(),this.setAbilityUses())}increaseMana(t){this.mana+=t,this.gainedMana&&this.gainedMana(null,!1)}givePetEquipment(t){this.equipment=t,null!=t&&("ailment-attack"==t.equipmentClass||"ailment-defense"==t.equipmentClass||"ailment-other"==t.equipmentClass?(this.abilityService.triggerFriendGainedAilmentEvents(this),this.abilityService.executeFriendGainedAilmentEvents(),this.abilityService.triggerEnemyGainedAilmentEvents(this.parent.opponent.petArray,this),this.abilityService.executeEnemyGainedAilmentEvents()):(this.abilityService.triggerFriendGainedPerkEvents(this),this.abilityService.executeFriendGainedPerkEvents()))}get level(){return this.exp<2?1:this.exp<5?2:3}get position(){return this==this.parent.pet0?0:this==this.parent.pet1?1:this==this.parent.pet2?2:this==this.parent.pet3?3:this==this.parent.pet4?4:void 0}petBehind(t=!1,e=!1){for(let i=this.position+1;i<5;i++){let s=this.parent.getPetAtPosition(i);if(e&&null!=s)return s;if(t&&null!=s&&!s.alive&&!s.seenDead)return null;if(null!=s&&s.alive)return s}return null}getManticoreMult(){for(let e of this.parent.petArray)if(e.alive&&"Manticore"==e.name)return e.level+1;return 1}get petAhead(){for(let t=this.position-1;t>-1;t--){let e=this.parent.getPetAtPosition(t);if(null!=e&&e.alive)return e}return null}get minExpForLevel(){return 1==this.level?0:2==this.level?2:5}}class Sr extends S{constructor(t,e,i,s,r,o,a,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Puma",this.tier=6,this.pack="Puppy",this.attack=6,this.health=5,this.initPet(a,s,r,o,l)}}class l_ extends S{constructor(t,e,i,s,r,o,a,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Golden Retriever",this.tier=1,this.pack="Golden",this.hidden=!0,this.health=1,this.attack=1,this.initPet(a,s,r,o,l)}}class c_ extends Ee{constructor(t){super(),this.logService=t,this.name="Onion",this.equipmentClass="shop",this.callback=e=>{this.logService.createLog({message:`${e.name} pushed itself to the back. (Onion)`,type:"equipment",player:e.parent}),e.givePetEquipment(null),e.parent.pushPetToBack(e)}}}class GB{constructor(t,e,i){this.logService=t,this.abilityService=e,this.gameService=i,this.pack="Turtle",this.trumpets=0,this.spawnedGoldenRetiever=!1}alive(){return this.petArray.length>0}resetPets(){var t,e,i,s,r;this.pet0=this.orignalPet0,null===(t=this.pet0)||void 0===t||t.resetPet(),this.pet1=this.orignalPet1,null===(e=this.pet1)||void 0===e||e.resetPet(),this.pet2=this.orignalPet2,null===(i=this.pet2)||void 0===i||i.resetPet(),this.pet3=this.orignalPet3,null===(s=this.pet3)||void 0===s||s.resetPet(),this.pet4=this.orignalPet4,null===(r=this.pet4)||void 0===r||r.resetPet(),this.orignalPet0=this.pet0,this.orignalPet1=this.pet1,this.orignalPet2=this.pet2,this.orignalPet3=this.pet3,this.orignalPet4=this.pet4,this.originalToy=this.toy,this.toy=this.originalToy,this.toy&&(this.toy.used=!1,this.toy.triggers=0),this.trumpets=0,this.spawnedGoldenRetiever=!1}setPet(t,e,i=!1){let s=this.getPet(t);null!=s&&(s.savedPosition=null),0==t&&(this.pet0=e,null!=e&&(this.pet0.savedPosition=0),i&&(this.orignalPet0=e)),1==t&&(this.pet1=e,null!=e&&(this.pet1.savedPosition=1),i&&(this.orignalPet1=e)),2==t&&(this.pet2=e,null!=e&&(this.pet2.savedPosition=2),i&&(this.orignalPet2=e)),3==t&&(this.pet3=e,null!=e&&(this.pet3.savedPosition=3),i&&(this.orignalPet3=e)),4==t&&(this.pet4=e,null!=e&&(this.pet4.savedPosition=4),i&&(this.orignalPet4=e)),i&&null!=e&&(e.originalSavedPosition=e.savedPosition)}getPet(t){return this[`pet${t}`]}pushPetsForward(){let t=(0,ge.clone)(this.petArray);try{this.setPet(0,t[0])}catch(e){this.pet0=null}try{this.setPet(1,t[1])}catch(e){this.pet1=null}try{this.setPet(2,t[2])}catch(e){this.pet2=null}try{this.setPet(3,t[3])}catch(e){this.pet3=null}try{this.setPet(4,t[4])}catch(e){this.pet4=null}this.onionCheck()}onionCheck(){var t;null!=(null===(t=this.pet0)||void 0===t?void 0:t.equipment)&&this.pet0.equipment instanceof c_&&(this.pet0.equipment.callback(this.pet0),this.pushPetsForward())}summonPet(t,e,i=!1){if(5==this.petArray.length)return i||this.logService.createLog({message:`No room to spawn ${t.name}!`,type:"ability",player:this}),!1;this==this.gameService.gameApi.player?this.gameService.gameApi.playerSummonedAmount++:this.gameService.gameApi.opponentSummonedAmount++,0==e&&(null!=this.pet0&&this.makeRoomForSlot(0),this.setPet(0,t)),1==e&&(null!=this.pet1&&this.makeRoomForSlot(1),this.setPet(1,t)),2==e&&(null!=this.pet2&&this.makeRoomForSlot(2),this.setPet(2,t)),3==e&&(null!=this.pet3&&this.makeRoomForSlot(3),this.setPet(3,t)),4==e&&(null!=this.pet4&&this.makeRoomForSlot(4),this.setPet(4,t)),t.summoned&&t.summoned(null);let r=wt(this.gameService.gameApi,this);return this.abilityService.triggerEnemySummonedEvents(r,t),!0}makeRoomForSlot(t){if(5==this.petArray.length)return void console.warn("No room to Make Room");let e=!1,i=null;if(t<4&&null==this.pet4&&(e=!0,i=4),t<3&&null==this.pet3&&(e=!0,i=3),t<2&&null==this.pet2&&(e=!0,i=2),t<1&&null==this.pet1&&(e=!0,i=1),e){for(let r=i;r>t;r--)this[`pet${r}`]=this["pet"+(r-1)];return}let s=!1;if(t>0&&null==this.pet0&&(s=!0,i=0),t>1&&null==this.pet1&&(s=!0,i=1),t>2&&null==this.pet2&&(s=!0,i=2),t>3&&null==this.pet3&&(s=!0,i=3),s)for(let r=i;r<t;r++)this[`pet${r}`]=this[`pet${r+1}`]}get petArray(){let t=[];return null!=this.pet0&&t.push(this.pet0),null!=this.pet1&&t.push(this.pet1),null!=this.pet2&&t.push(this.pet2),null!=this.pet3&&t.push(this.pet3),null!=this.pet4&&t.push(this.pet4),t}handleDeath(t){var e;t.seenDead=!0,t.setFaintEventIfPresent(),null!=(null===(e=t.petBehind(!0))||void 0===e?void 0:e.friendAheadFaints)&&this.abilityService.setFriendAheadFaintsEvent({callback:t.petBehind().friendAheadFaints.bind(t.petBehind()),priority:t.petBehind().attack,player:this,callbackPet:t}),this.abilityService.triggerFriendFaintsEvents(t),this.createDeathLog(t)}checkPetsAlive(){this.pet0&&!this.pet0.alive&&!this.pet0.seenDead&&this.handleDeath(this.pet0),this.pet1&&!this.pet1.alive&&!this.pet1.seenDead&&this.handleDeath(this.pet1),this.pet2&&!this.pet2.alive&&!this.pet2.seenDead&&this.handleDeath(this.pet2),this.pet3&&!this.pet3.alive&&!this.pet3.seenDead&&this.handleDeath(this.pet3),this.pet4&&!this.pet4.alive&&!this.pet4.seenDead&&this.handleDeath(this.pet4)}removeDeadPets(){var t,e,i,s,r;let o=!1;return!(null===(t=this.pet0)||void 0===t?void 0:t.alive)&&void 0!==this.pet0&&(this.pet0=null,o=!0),(null===(e=this.pet1)||void 0===e?void 0:e.alive)||(this.pet1=null,o=!0),(null===(i=this.pet2)||void 0===i?void 0:i.alive)||(this.pet2=null,o=!0),(null===(s=this.pet3)||void 0===s?void 0:s.alive)||(this.pet3=null,o=!0),(null===(r=this.pet4)||void 0===r?void 0:r.alive)||(this.pet4=null,o=!0),o}createDeathLog(t){this.logService.createLog({message:`${t.name} fainted.`,type:"death",player:t.parent})}getRandomPet(t,e,i,s){let r=this.petArray;if(e){let a=this.getPetsWithEquipment("Donut");a.length>0&&(r=a),s&&(r=r.filter(l=>50!=l.health||50!=l.attack||"Behemoth"==l.name),0==r.length&&(r=this.petArray))}if(i){let a=this.getPetsWithEquipment("Blueberry");a.length>0&&(r=a)}if(r=r.filter(a=>{let l=!0;return t&&(l=!t.includes(a)),l&&a.health>0}),s){let a=(0,ge.clone)(r);r=r.filter(l=>50!=l.health||50!=l.attack),0==r.length&&(r=a)}return 0==r.length?null:r[Uo(0,r.length-1)]}getRandomPets(t,e,i,s){let r=[];e=null!=e?e:[];for(let o=0;o<t;o++){let a=this.getRandomPet(e,i,s);if(null==a)break;e.push(a),r.push(a)}if(r.length<t)for(let o=r.length;o<t;o++){let a=this.getRandomPet(e);if(null==a)break;e.push(a),r.push(a)}return r}getPetsWithEquipment(t){var e;let i=[];for(let s of this.petArray)!s.alive||(null===(e=s.equipment)||void 0===e?void 0:e.name)==t&&i.push(s);return i}getPetAtPosition(t){for(let e of this.petArray)if(e.position==t)return e;return null}getLastPet(){for(let t of this.petArray.reverse())if(t.alive)return t}getHighestHealthPet(t){let e;for(let i in this.petArray){let r=this.petArray[+i];if(r!=t){if(null==e){e=[r];continue}if(r.health==e[0].health){e.push(r);continue}r.health>e[0].health&&(e=[r])}}return{pet:e[Uo(0,e.length-1)],random:e.length>1}}getLowestHealthPet(t){let e;for(let s in this.petArray){let o=this.petArray[+s];if(o!=t&&o.alive){if(null==e){e=[o];continue}if(o.health==e[0].health){e.push(o);continue}o.health<e[0].health&&(e=[o])}}let i=null==e?null:e[Uo(0,e.length-1)];return{pet:i,random:null!=i&&e.length>1}}get furthestUpPet(){for(let t of this.petArray)if(t.alive)return t;return null}breakToy(t=!1){if(null==this.toy||null==this.toy.onBreak)return;this.logService.createLog({message:`${this.toy.name} broke!`,type:"ability",player:this,randomEvent:!1});let e=[{callback:this.toy.onBreak.bind(this.toy),priority:99}],i=this.toy.level;for(let r of this.petArray)r instanceof Sr&&e.push({callback:()=>{this.toy.level=r.level,this.toy.onBreak(this.gameService.gameApi,!0),this.toy.level=i},priority:r.attack});e.sort((r,o)=>r.priority>o.priority?-1:r.priority<o.priority?1:0);for(let r of e)r.callback(this.gameService.gameApi);let s=(0,ge.cloneDeep)(this.toy);this.toy=null,t&&this.setToy(s)}setToy(t){this.toy=t}getStrongestPet(){let t,e=(0,ge.shuffle)(this.petArray);for(let i of e)null!=t?i.attack+i.health>t.attack+t.health&&(t=i):t=i;return t}pushPetToFront(t,e=!1){this.pushPet(t,4),e&&(this.abilityService.triggerFriendJumpedEvents(this,t),this.abilityService.triggerFriendJumpedToyEvents(this,t),this.abilityService.executeFriendJumpedEvents(),this.abilityService.executeFriendJumpedToyEvents())}pushPetToBack(t){this.pushPet(t,-4)}pushPet(t,e=1){let r,i=t.parent,s=t.position;i[`pet${s}`]=null,e>0&&(r=Math.max(s-e,0)),e<0&&(r=Math.max(s-e,4)),i.summonPet(t,r),this.onionCheck()}getRandomStrawberryPet(t){let e=this.getPetsWithEquipment("Strawberry"),i=e.filter(s=>s!=t);return 0==i.length?null:e[Uo(0,i.length-1)]}get opponent(){return wt(this.gameService.gameApi,this)}gainTrumpets(t,e,i,s,r){this.trumpets=Math.min(50,this.trumpets+=t);let o=`${e.name} gained ${t} trumpets. (${this.trumpets})`;r&&(o+=" (Cherry)"),this.logService.createLog({message:o,type:"trumpets",player:this,pteranodon:i,pantherMultiplier:s})}spendTrumpets(t,e,i){this.trumpets=Math.max(0,this.trumpets-=t),this.logService.createLog({message:`${e.name} spent ${t} trumpets. (${this.trumpets})`,type:"trumpets",player:this,pteranodon:i})}checkGoldenSpawn(){if(this.spawnedGoldenRetiever||this.petArray.length>1||0==this.trumpets)return;let t=new l_(this.logService,this.abilityService,this,this.trumpets,this.trumpets);this.logService.createLog({message:`${this==this.gameService.gameApi.player?"Player":"Opponent"} spawned Golden Retriever (${t.attack}/${t.health})`,type:"ability",player:this}),this.summonPet(t,0)&&this.abilityService.triggerSummonedEvents(t),this.trumpets=0,this.spawnedGoldenRetiever=!0}}class u_ extends S{constructor(t,e,i,s,r,o,a,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Ant",this.tier=1,this.pack="Turtle",this.health=2,this.attack=2,this.initPet(a,s,r,o,l)}faint(t,e,i){let s=1==this.level?{health:1,attack:1}:2==this.level?{health:2,attack:2}:{health:3,attack:3},r=this.parent.getRandomPet([this],!0,!1,!0);null!=r&&(this.logService.createLog({message:`${this.name} gave ${r.name} ${s.attack} attack and ${s.health} health.`,type:"ability",randomEvent:!0,player:this.parent,tiger:e,pteranodon:i}),r.increaseAttack(s.attack),r.increaseHealth(s.health),this.superFaint(t,e),this.done=!0)}}class mh extends S{constructor(t,e,i,s,r,o,a,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Zombie Cricket",this.tier=1,this.pack="Turtle",this.hidden=!0,this.health=1,this.attack=1,this.initPet(a,s,r,o,l)}}class tk extends S{constructor(t,e,i,s,r,o,a,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Cricket",this.tier=1,this.pack="Turtle",this.health=3,this.attack=1,this.initPet(a,s,r,o,l)}faint(t,e,i){let s=1,r=0;2==this.level?(r=2,s=2):3==this.level&&(r=5,s=3),this.abilityService.setSpawnEvent({callback:()=>{let o=new mh(this.logService,this.abilityService,this.parent,null,null,null,r);this.logService.createLog({message:`${this.name} spawned Zombie Cricket Level ${s}`,type:"ability",player:this.parent,tiger:e,pteranodon:i}),this.parent.summonPet(o,this.savedPosition)&&this.abilityService.triggerSummonedEvents(o)},priority:this.attack}),super.superFaint(t,e)}}class ik extends S{constructor(t,e,i,s,r,o,a,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Fish",this.tier=1,this.pack="Turtle",this.health=3,this.attack=2,this.initPet(a,s,r,o,l)}}class nk extends S{constructor(t,e,i,s,r,o,a,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Horse",this.tier=1,this.pack="Turtle",this.health=1,this.attack=2,this.initPet(a,s,r,o,l)}friendSummoned(t,e,i){e.increaseAttack(this.level),this.logService.createLog({message:`${this.name} gave ${e.name} ${this.level} attack`,type:"ability",player:this.parent,tiger:i}),super.superFriendSummoned(e,i)}}class sk extends S{constructor(t,e,i,s,r,o,a,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Mosquito",this.tier=1,this.pack="Turtle",this.health=2,this.attack=2,this.initPet(a,s,r,o,l)}startOfBattle(t,e){let i;i=t.player==this.parent?t.opponet:t.player;let s=i.getRandomPets(this.level,null,null,!0);for(let r of s)this.snipePet(r,1,!0,e);super.superStartOfBattle(t,e)}}class h_ extends S{constructor(t,e,i,s,r,o,a,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Duck",this.tier=1,this.pack="Turtle",this.health=3,this.attack=2,this.initPet(a,s,r,o,l)}}class d_ extends S{constructor(t,e,i,s,r,o,a,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Beaver",this.tier=1,this.pack="Turtle",this.health=2,this.attack=3,this.initPet(a,s,r,o,l)}}class rk extends S{constructor(t,e,i,s,r,o,a,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Otter",this.tier=1,this.pack="Turtle",this.health=3,this.attack=1,this.initPet(a,s,r,o,l)}}class ok extends S{constructor(t,e,i,s,r,o,a,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Pig",this.tier=1,this.pack="Turtle",this.health=1,this.attack=4,this.initPet(a,s,r,o,l)}}class ak extends S{constructor(t,e,i,s,r,o,a,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Mouse",this.tier=1,this.pack="Custom",this.health=2,this.attack=1,this.initPet(a,s,r,o,l)}}class e7 extends S{constructor(t,e,i,s,r,o,a,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Snail",this.tier=2,this.pack="Turtle",this.health=2,this.attack=2,this.initPet(a,s,r,o,l)}}class lk extends S{constructor(t,e,i,s,r,o,a,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Crab",this.tier=2,this.pack="Turtle",this.health=1,this.attack=4,this.initPet(a,s,r,o,l)}startOfBattle(t,e){if(!this.alive)return;let i=this.parent.getHighestHealthPet(this).pet,s=.5*this.level,r=Math.floor(i.health*s);this.health=r,this.logService.createLog({message:`${this.name} copied ${100*s}% of ${i.name}'s health (${r})`,type:"ability",player:this.parent,tiger:e}),super.superStartOfBattle(t,e)}}class ck extends S{constructor(t,e,i,s,r,o,a,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Swan",this.tier=2,this.pack="Turtle",this.health=2,this.attack=1,this.initPet(a,s,r,o,l)}}class f_ extends S{constructor(t,e,i,s,r,o,a,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Dirty Rat",this.tier=1,this.pack="Turtle",this.hidden=!0,this.health=1,this.attack=1,this.initPet(a,s,r,o,l)}}class uk extends S{constructor(t,e,i,s,r,o,a,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Rat",this.tier=2,this.pack="Turtle",this.health=6,this.attack=3,this.initPet(a,s,r,o,l)}faint(t,e,i){let s;s=t.player==this.parent?t.opponet:t.player;for(let r=0;r<this.level;r++)this.abilityService.setSpawnEvent({callback:()=>{this.logService.createLog({message:`${this.name} Summoned Dirty Rat on Opponent`,type:"ability",player:this.parent,tiger:e,pteranodon:i});let o=new f_(this.logService,this.abilityService,s,null,null,0);s.summonPet(o,0)&&this.abilityService.triggerSummonedEvents(o)},priority:this.attack});super.superFaint(t,e)}}class hk extends S{constructor(t,e,i,s,r,o,a,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Hedgehog",this.tier=2,this.pack="Turtle",this.attack=4,this.health=2,this.initPet(a,s,r,o,l)}faint(t,e,i){let s=t.player.petArray.filter(o=>o!=this&&o.alive);s.reverse(),s=[...s,...t.opponet.petArray.filter(o=>o.alive)];let r=2*this.level;for(let o of s)this.snipePet(o,r,!1,e,i);super.superFaint(t,e),this.done=!0}}class dk extends S{constructor(t,e,i,s,r,o,a,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Peacock",this.tier=2,this.pack="Turtle",this.health=5,this.attack=2,this.initPet(a,s,r,o,l)}hurt(t,e,i){if(this.health<1)return;let s=4*this.level;this.increaseAttack(s),this.logService.createLog({message:`${this.name} increased attack by ${s} (${this.attack})`,type:"ability",player:this.parent,tiger:i}),super.superHurt(t,e,i)}}class fk extends S{constructor(t,e,i,s,r,o,a,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Flamingo",this.tier=2,this.pack="Turtle",this.health=2,this.attack=3,this.initPet(a,s,r,o,l)}faint(t,e,i){let o,a,l,r=this.parent.petArray;for(let h in r)r[+h]==this&&(o=+h);for(let h=o;h<5;h++){let f=r[h];if(null!=f&&f.health>0){if(null==a){a=f;continue}l=f;break}}if(a){let h=a;h.increaseAttack(this.level),h.increaseHealth(this.level),this.logService.createLog({message:`${this.name} gave ${h.name} ${this.level} attack and ${this.level} health.`,type:"ability",player:this.parent,tiger:e,pteranodon:i})}if(l){let h=l;h.increaseAttack(this.level),h.increaseHealth(this.level),this.logService.createLog({message:`Flamingo gave ${h.name} ${this.level} attack and ${this.level} health.`,type:"ability",player:this.parent,tiger:e,pteranodon:i})}super.superFaint(t,e)}}class pk extends S{constructor(t,e,i,s,r,o,a,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Worm",this.tier=2,this.pack="Turtle",this.health=1,this.attack=3,this.initPet(a,s,r,o,l)}}class gk extends S{constructor(t,e,i,s,r,o,a,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Kangaroo",this.tier=2,this.pack="Turtle",this.health=3,this.attack=2,this.initPet(a,s,r,o,l)}friendAheadAttacks(t,e){!this.alive||(this.increaseAttack(this.level),this.increaseHealth(this.level),this.logService.createLog({message:`${this.name} gained ${this.level} attack and ${this.level} health.`,type:"ability",player:this.parent,tiger:e}),super.superFriendAheadAttacks(t,e))}}class mk extends S{constructor(t,e,i,s,r,o,a,l,h){super(t,e,s),this.logService=t,this.abilityService=e,this.petService=i,this.name="Spider",this.tier=2,this.pack="Turtle",this.health=2,this.attack=2,this.initPet(l,r,o,a,h)}faint(t,e,i){let s;s=this.parent==t.player?t.playerPetPool.get(3):t.opponentPetPool.get(3);let r=s.filter(f=>"Spider"!=f),o=r[Uo(0,r.length-1)],a=this.level,l=2*this.level,h=this.petService.createPet({attack:l,exp:this.minExpForLevel,equipment:null,health:l,name:o,mana:0},this.parent);this.abilityService.setSpawnEvent({callback:()=>{this.logService.createLog({message:`${this.name} spawned ${h.name} level ${a} (${l}/${l})`,type:"ability",player:this.parent,randomEvent:!0,tiger:e,pteranodon:i}),this.parent.summonPet(h,this.savedPosition)&&this.abilityService.triggerSummonedEvents(h)},priority:this.attack}),super.superFaint(t,e)}}class vk extends S{constructor(t,e,i,s,r,o,a,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Dodo",this.tier=3,this.pack="Turtle",this.health=2,this.attack=4,this.initPet(a,s,r,o,l)}startOfBattle(t,e){let i=this.petAhead;if(null==i)return;let s=Math.floor(this.attack*(.5*this.level));i.increaseAttack(s),this.logService.createLog({message:`${this.name} gave ${i.name} ${s} attack.`,player:this.parent,type:"ability",tiger:e}),super.superStartOfBattle(t,e)}}class yk extends S{constructor(t,e,i,s,r,o,a,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Badger",this.tier=3,this.pack="Turtle",this.health=3,this.attack=6,this.initPet(a,s,r,o,l)}faint(t,e,i){let s;s=t.player==this.parent?t.opponet:t.player;let o,r=this.attack*(.5*this.level);this.petBehind()&&this.snipePet(this.petBehind(),r,!1,e,i),o=this.petAhead?this.petAhead:s.furthestUpPet,null!=o&&this.snipePet(o,r,!1,e,i),super.superFaint(t,e),this.done=!0}}class p_ extends S{constructor(t,e,i,s,r,o,a,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Dolphin",this.tier=3,this.pack="Turtle",this.health=3,this.attack=4,this.initPet(a,s,r,o,l)}startOfBattle(t,e){let i;i=t.player==this.parent?t.opponet:t.player;for(let s=0;s<this.level;s++){let r=i.getLowestHealthPet();if(!r.pet)break;this.snipePet(r.pet,4,r.random,e)}super.superStartOfBattle(t,e)}}class _k extends S{constructor(t,e,i,s,r,o,a,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Giraffe",this.tier=3,this.pack="Turtle",this.attack=1,this.health=2,this.initPet(a,s,r,o,l)}}class bk extends S{constructor(t,e,i,s,r,o,a,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Elephant",this.tier=3,this.pack="Turtle",this.health=7,this.attack=3,this.initPet(a,s,r,o,l)}afterAttack(t,e){for(let i=0;i<this.level;i++)this.petBehind()&&this.snipePet(this.petBehind(),1,!1,e);super.superAfterAttack(t,e)}}class Sk extends S{constructor(t,e,i,s,r,o,a,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Camel",this.tier=3,this.pack="Turtle",this.health=4,this.attack=3,this.initPet(a,s,r,o,l)}hurt(t,e,i){let s=this.petBehind();if(null==s)return;let r=2*this.level;s&&(s.increaseAttack(this.level),s.increaseHealth(r)),this.logService.createLog({message:`${this.name} gave ${s.name} ${this.level} attack and ${r} health.`,type:"ability",player:this.parent,tiger:i}),super.superHurt(t,e,i)}}class Ek extends S{constructor(t,e,i,s,r,o,a,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Rabbit",this.tier=3,this.pack="Turtle",this.health=2,this.attack=1,this.initPet(a,s,r,o,l)}}class Ur extends Ee{constructor(){super(...arguments),this.name="Melon",this.equipmentClass="shield",this.power=20,this.originalPower=20,this.uses=1,this.originalUses=1}}class wk extends S{constructor(t,e,i,s,r,o,a,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Ox",this.tier=3,this.pack="Turtle",this.health=3,this.attack=1,this.initPet(a,s,r,o,l)}friendAheadFaints(t,e){this.abilityUses>=this.maxAbilityUses||(this.equipment=new Ur,this.increaseAttack(1),this.logService.createLog({message:`${this.name} gained Melon and 1 attack.`,type:"ability",player:this.parent,tiger:e}),this.abilityUses++,super.superFriendAheadFaints(t,e))}setAbilityUses(){super.setAbilityUses(),this.maxAbilityUses=this.level}}class Ck extends S{constructor(t,e,i,s,r,o,a,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Dog",this.tier=3,this.pack="Turtle",this.attack=3,this.health=2,this.initPet(a,s,r,o,l)}friendSummoned(t,e){if(t==this)return;let i=2*this.level,s=this.level;this.increaseAttack(i),this.increaseHealth(s),this.logService.createLog({message:`${this.name} gained ${i} attack and ${s} health.`,type:"ability",player:this.parent,tiger:e}),super.superFriendSummoned(t,e)}}class g_ extends S{constructor(t,e,i,s,r,o,a,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Ram",this.tier=1,this.pack="Turtle",this.hidden=!0,this.health=2,this.attack=2,this.initPet(a,s,r,o,l)}}class kk extends S{constructor(t,e,i,s,r,o,a,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Sheep",this.tier=3,this.pack="Turtle",this.attack=2,this.health=2,this.initPet(a,s,r,o,l)}faint(t,e,i){for(let s=0;s<2;s++)this.abilityService.setSpawnEvent({callback:()=>{let r=new g_(this.logService,this.abilityService,this.parent,null,null,this.minExpForLevel);this.logService.createLog({message:`${this.name} spawned Ram (${r.attack}/${r.health}).`,type:"ability",player:this.parent,tiger:e,pteranodon:i}),this.parent.summonPet(r,this.savedPosition)&&this.abilityService.triggerSummonedEvents(r)},priority:this.attack});super.superFaint(t,e)}}class Dk extends S{constructor(t,e,i,s,r,o,a,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Tiger",this.tier=6,this.pack="Turtle",this.attack=6,this.health=4,this.initPet(a,s,r,o,l)}}class Pk extends S{constructor(t,e,i,s,r,o,a,l,h){super(t,e,s),this.logService=t,this.abilityService=e,this.petService=i,this.name="Parrot",this.tier=4,this.pack="Turtle",this.attack=4,this.health=2,this.initPet(l,r,o,a,h)}endTurn(t){var e,i,s,r,o,a,l,h,f,p,y;let _=this.petAhead;null!=this.petAhead&&(this.startOfBattle=null===(e=_.startOfBattle)||void 0===e?void 0:e.bind(this),this.hurt=null===(i=_.hurt)||void 0===i?void 0:i.bind(this),this.faint=null===(s=_.faint)||void 0===s?void 0:s.bind(this),this.friendSummoned=null===(r=_.friendSummoned)||void 0===r?void 0:r.bind(this),this.friendAheadAttacks=null===(o=_.friendAheadAttacks)||void 0===o?void 0:o.bind(this),this.friendAheadFaints=null===(a=_.friendAheadFaints)||void 0===a?void 0:a.bind(this),this.friendFaints=null===(l=_.friendFaints)||void 0===l?void 0:l.bind(this),this.afterAttack=null===(h=_.afterAttack)||void 0===h?void 0:h.bind(this),this.beforeAttack=null===(f=_.beforeAttack)||void 0===f?void 0:f.bind(this),this.knockOut=null===(p=_.knockOut)||void 0===p?void 0:p.bind(this),this.summoned=null===(y=_.summoned)||void 0===y?void 0:y.bind(this),this.logService.createLog({message:`Parrot copied ${_.name}`,type:"ability",player:this.parent}))}}class Ak extends S{constructor(t,e,i,s,r,o,a,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Skunk",this.tier=4,this.pack="Turtle",this.attack=3,this.health=5,this.initPet(a,s,r,o,l)}startOfBattle(t,e){let s=wt(t,this.parent).getHighestHealthPet(),r=s.pet,o=.33*this.level,a=Math.max(1,Math.floor(r.health*(1-o)));r.health=a,this.logService.createLog({message:`${this.name} reduced ${r.name} health by ${100*o}% (${a})`,type:"ability",player:this.parent,randomEvent:s.random,tiger:e}),this.superStartOfBattle(t,e)}}class Tk extends S{constructor(t,e,i,s,r,o,a,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Hippo",this.tier=4,this.pack="Turtle",this.attack=4,this.health=7,this.initPet(a,s,r,o,l)}knockOut(t,e,i){if(this.health<1)return;let s=2*this.level;e.tier>3&&(s*=2),this.increaseAttack(s),this.increaseHealth(s),this.logService.createLog({message:`${this.name} gained ${s} attack and ${s} health.`,type:"ability",player:this.parent,tiger:i}),this.superKnockOut(t,e,i)}}class xk extends S{constructor(t,e,i,s,r,o,a,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Bison",this.tier=4,this.pack="Turtle",this.attack=4,this.health=4,this.initPet(a,s,r,o,l)}}class Mk extends S{constructor(t,e,i,s,r,o,a,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Blowfish",this.tier=4,this.pack="Turtle",this.attack=3,this.health=6,this.initPet(a,s,r,o,l)}hurt(t,e,i){let s=3*this.level,r=wt(t,this.parent).getRandomPet(null,null,!0);r&&this.snipePet(r,s,!0,i),this.superHurt(t,e,i)}}class Ik extends S{constructor(t,e,i,s,r,o,a,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Turtle",this.tier=4,this.pack="Turtle",this.attack=2,this.health=5,this.initPet(a,s,r,o,l)}faint(t,e,i){for(let s=0;s<this.level;s++){let r=this.petBehind();for(;r&&r.equipment instanceof Ur;)r=r.petBehind();if(null==r)return;r.givePetEquipment(new Ur),this.logService.createLog({message:`${this.name} gave ${r.name} Melon.`,type:"ability",tiger:e,player:this.parent,pteranodon:i})}this.superFaint(t,e)}}class Ok extends S{constructor(t,e,i,s,r,o,a,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Squirrel",this.tier=4,this.pack="Turtle",this.attack=2,this.health=5,this.initPet(a,s,r,o,l)}}class Nk extends S{constructor(t,e,i,s,r,o,a,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Penguin",this.tier=4,this.pack="Turtle",this.attack=2,this.health=4,this.initPet(a,s,r,o,l)}}class jt extends S{constructor(t,e,i,s,r,o,a,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Panther",this.tier=5,this.pack="Puppy",this.attack=3,this.health=5,this.initPet(a,s,r,o,l)}}class vh extends Ee{constructor(t,e){super(),this.logService=t,this.abilityService=e,this.name="Chili",this.equipmentClass="skewer",this.power=0,this.originalPower=0,this.attackCallback=(i,s)=>{let r=s.parent.getPetAtPosition(1);if(null==r)return;let o=1;i instanceof jt&&(o=1+i.level);let a=i.calculateDamgae(r,i.getManticoreMult(),5),l=a.defenseEquipment,h=a.damage*o;r.health-=h;let f=`${i.name} attacks ${r.name} for ${h}`;if(i instanceof jt&&(f+=` x${o} (Panther)`),null!=l){r.useDefenseEquipment();let p=Math.abs(l.power),y="-";l.power<0&&(y="+"),f+=` (${l.name} ${y}${p})`,s instanceof jt&&(f+=` x${1+i.level} (Panther)`)}this.logService.createLog({message:f+=" (Chili).",type:"attack",player:i.parent}),null!=r.hurt&&h>0&&this.abilityService.setHurtEvent({callback:r.hurt.bind(r),priority:r.attack,player:r.parent,callbackPet:s}),r.health<1&&null!=i.knockOut&&this.abilityService.setKnockOutEvent({callback:i.knockOut.bind(i),priority:i.attack,callbackPet:r}),r.alive&&h>0&&this.abilityService.triggerFriendHurtEvents(s.parent,s),i.alive&&h>0&&this.abilityService.triggerEnemyHurtEvents(i.parent,r)}}}class m_ extends S{constructor(t,e,i,s,r,o,a,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Bus",this.tier=1,this.pack="Turtle",this.hidden=!0,this.health=5,this.attack=5,this.initPet(a,s,r,o,l)}}class Rk extends S{constructor(t,e,i,s,r,o,a,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Deer",this.tier=4,this.pack="Turtle",this.attack=1,this.health=1,this.initPet(a,s,r,o,l)}faint(t,e,i){let s=new m_(this.logService,this.abilityService,this.parent,null,null,null,this.minExpForLevel,new vh(this.logService,this.abilityService));this.abilityService.setSpawnEvent({callback:()=>{this.logService.createLog({message:`${this.name} spawned Bus level ${this.level}`,type:"ability",player:this.parent,tiger:e,pteranodon:i}),this.parent.summonPet(s,this.savedPosition)&&this.abilityService.triggerSummonedEvents(s)},priority:this.attack}),super.superFaint(t,e)}}class Lk extends S{constructor(t,e,i,s,r,o,a,l,h){super(t,e,s),this.logService=t,this.abilityService=e,this.petService=i,this.name="Whale",this.tier=4,this.pack="Turtle",this.attack=4,this.health=10,this.initPet(l,r,o,a,h)}startOfBattle(t,e){let i=this.petAhead;if(!i)return;let s=(0,ge.clone)(i);s.exp=this.exp,this.swallowedPets.push(this.petService.createDefaultVersionOfPet(s)),i.health=0,this.logService.createLog({message:`${this.name} swallowed ${i.name}`,type:"ability",player:this.parent,tiger:e}),this.superStartOfBattle(t,e)}faint(t,e,i){for(let s of this.swallowedPets)this.abilityService.setSpawnEvent({callback:()=>{this.logService.createLog({message:`${this.name} summoned ${s.name} (level ${s.level}).`,type:"ability",player:this.parent,tiger:e,pteranodon:i}),this.parent.summonPet(s,this.savedPosition)},priority:this.attack,player:this.parent})}}class yh extends S{constructor(t,e,i,s,r,o,a,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Bee",this.tier=1,this.pack="Turtle",this.hidden=!0,this.health=1,this.attack=1,this.initPet(a,s,r,o,l)}}class Bk extends S{constructor(t,e,i,s,r,o,a,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Scorpion",this.tier=5,this.pack="Turtle",this.attack=1,this.health=1,this.initPet(a,s,r,o,l)}summoned(t,e){this.equipment=new Ha,this.logService.createLog({message:`${this.name} gained the Peanut perk.`,type:"ability",player:this.parent,tiger:e}),this.superSummoned(t,e)}}class Vk extends S{constructor(t,e,i,s,r,o,a,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Crocodile",this.tier=5,this.pack="Turtle",this.attack=8,this.health=4,this.initPet(a,s,r,o,l)}startOfBattle(t,e){for(let i=0;i<this.level;i++){let s=wt(t,this.parent).getLastPet();s&&this.snipePet(s,8,!1,e)}super.superStartOfBattle(t,e)}}class $k extends S{constructor(t,e,i,s,r,o,a,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Rhino",this.tier=5,this.pack="Turtle",this.attack=6,this.health=9,this.initPet(a,s,r,o,l)}knockOut(t,e,i){let s=wt(t,this.parent).furthestUpPet;if(null==s)return;let r=4*this.level;1==s.tier&&(r*=2),this.snipePet(s,r,!1,i),this.superKnockOut(t,e,i)}}class v_ extends S{constructor(t,e,i,s,r,o,a,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Monkey",this.tier=5,this.pack="Turtle",this.attack=1,this.health=2,this.initPet(a,s,r,o,l)}}class Fk extends S{constructor(t,e,i,s,r,o,a,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Armadillo",this.tier=5,this.pack="Turtle",this.attack=2,this.health=6,this.initPet(a,s,r,o,l)}startOfBattle(t,e){let i=[...this.parent.petArray.filter(s=>s!=this),...wt(t,this.parent).petArray];for(let s of i){if(!s.alive)continue;let r=8*this.level;s.increaseHealth(r),this.logService.createLog({message:`${this.name} increased health of ${s.name} by ${r}.`,type:"ability",player:this.parent,tiger:e})}this.superStartOfBattle(t,e)}}class Hk extends S{constructor(t,e,i,s,r,o,a,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Cow",this.tier=5,this.pack="Turtle",this.attack=4,this.health=6,this.initPet(a,s,r,o,l)}}class qk extends S{constructor(t,e,i,s,r,o,a,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Seal",this.tier=5,this.pack="Turtle",this.attack=3,this.health=8,this.initPet(a,s,r,o,l)}}class y_ extends S{constructor(t,e,i,s,r,o,a,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Chick",this.tier=1,this.pack="Turtle",this.hidden=!0,this.health=1,this.attack=1,this.initPet(a,s,r,o,l)}}class Gk extends S{constructor(t,e,i,s,r,o,a,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Rooster",this.tier=5,this.pack="Turtle",this.attack=6,this.health=4,this.initPet(a,s,r,o,l)}faint(t,e,i){let s=Math.floor(.5*this.attack);for(let r=0;r<this.level;r++)this.abilityService.setSpawnEvent({callback:()=>{this.logService.createLog({message:`${this.name} summoned Chick (${s}).`,type:"ability",player:this.parent,tiger:e,pteranodon:i}),this.parent.summonPet(new y_(this.logService,this.abilityService,this.parent,1,s,this.minExpForLevel),this.savedPosition)},priority:this.attack,player:this.parent});this.superFaint(t,e)}}class Uk extends S{constructor(t,e,i,s,r,o,a,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Shark",this.tier=5,this.pack="Turtle",this.attack=2,this.health=2,this.initPet(a,s,r,o,l)}friendFaints(t,e,i){if(this.health<=0||e==this)return;let s={attack:2*this.level,health:2*this.level};this.increaseAttack(s.attack),this.increaseHealth(s.health),this.logService.createLog({message:`${this.name} gained ${s.attack} attack and ${s.health} health.`,type:"ability",player:this.parent,tiger:i}),super.superFriendFaints(t,e,i)}}class jk extends S{constructor(t,e,i,s,r,o,a,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Turkey",this.tier=5,this.pack="Turtle",this.attack=3,this.health=4,this.initPet(a,s,r,o,l)}friendSummoned(t,e,i){let s={attack:3*this.level,health:2*this.level};e.increaseAttack(s.attack),e.increaseHealth(s.health),this.logService.createLog({message:`${this.name} gave ${e.name} ${s.attack} attack and ${s.health} health.`,type:"ability",player:this.parent,tiger:i}),super.superFriendSummoned(e,i)}}class Wk extends S{constructor(t,e,i,s,r,o,a,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Leopard",this.tier=6,this.pack="Turtle",this.attack=10,this.health=4,this.initPet(a,s,r,o,l)}startOfBattle(t,e){let i=Math.floor(.5*this.attack),s=this.parent.opponent.getRandomPets(this.level,null,null,!0);for(let r of s)this.snipePet(r,i,!0,e);this.superStartOfBattle(t,e)}}class zk extends S{constructor(t,e,i,s,r,o,a,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Boar",this.tier=6,this.pack="Turtle",this.attack=10,this.health=6,this.initPet(a,s,r,o,l)}beforeAttack(t,e){let i={attack:4*this.level,health:2*this.level};this.increaseAttack(i.attack),this.increaseHealth(i.health),this.logService.createLog({message:`${this.name} gained ${i.attack} attack and ${i.health} health.`,type:"ability",player:this.parent,tiger:e}),this.superBeforeAttack(t,e)}}class Kk extends S{constructor(t,e,i,s,r,o,a,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Wolverine",this.tier=6,this.pack="Turtle",this.attack=5,this.health=4,this.initPet(a,s,r,o,l)}}class jr extends Ee{constructor(){super(...arguments),this.name="Coconut",this.equipmentClass="shield",this.power=999,this.originalPower=999,this.uses=1,this.originalUses=1}}class Yk extends S{constructor(t,e,i,s,r,o,a,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Gorilla",this.tier=6,this.pack="Turtle",this.attack=7,this.health=10,this.initPet(a,s,r,o,l)}hurt(t,e,i){!this.alive||(this.abilityUses<this.maxAbilityUses&&(this.abilityUses++,this.equipment=new jr,this.logService.createLog({message:`${this.name} gained a Coconut.`,type:"ability",player:this.parent,tiger:i})),super.superHurt(t,e,i))}setAbilityUses(){super.setAbilityUses(),this.maxAbilityUses=this.level}}class Qk extends S{constructor(t,e,i,s,r,o,a,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Dragon",this.tier=6,this.pack="Turtle",this.attack=6,this.health=8,this.initPet(a,s,r,o,l)}}class Jk extends S{constructor(t,e,i,s,r,o,a,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Mammoth",this.tier=6,this.pack="Turtle",this.attack=4,this.health=12,this.initPet(a,s,r,o,l)}faint(t,e,i){let s=2*this.level;for(let r of this.parent.petArray.filter(o=>o!=this&&o.alive))r.increaseAttack(s),r.increaseHealth(s),this.logService.createLog({message:`${this.name} gave ${r.name} ${s} attack and ${s} health.`,type:"ability",player:this.parent,tiger:e,pteranodon:i});super.superFaint(t,e)}}class Zk extends S{constructor(t,e,i,s,r,o,a,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Cat",this.tier=6,this.pack="Turtle",this.attack=4,this.health=5,this.initPet(a,s,r,o,l)}}class Xk extends S{constructor(t,e,i,s,r,o,a,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Snake",this.tier=6,this.pack="Turtle",this.attack=6,this.health=6,this.initPet(a,s,r,o,l)}friendAheadAttacks(t,e,i){let s=5*this.level,r=wt(t,this.parent).getRandomPet(null,null,!0);!r||(this.snipePet(r,s,!0,i),this.superFriendAheadAttacks(t,i))}}class $p extends S{constructor(t,e,i,s,r,o,a,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Zombie Fly",this.tier=1,this.pack="Turtle",this.hidden=!0,this.health=4,this.attack=4,this.initPet(a,s,r,o,l)}}class eD extends S{constructor(t,e,i,s,r,o,a,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Fly",this.tier=6,this.pack="Turtle",this.attack=5,this.health=5,this.maxAbilityUses=3,this.initPet(a,s,r,o,l)}friendFaints(t,e,i){e instanceof $p||this.abilityUses>=this.maxAbilityUses||!this.alive||this.abilityService.setSpawnEvent({callback:()=>{let s=new $p(this.logService,this.abilityService,this.parent,null,null,null,this.minExpForLevel);this.parent.summonPet(s,e.savedPosition,!0)&&(this.abilityService.triggerSummonedEvents(s),this.abilityUses++,this.logService.createLog({message:`${this.name} spawned Zombie Fly Level ${this.level}`,type:"ability",player:this.parent,tiger:i}))},priority:-1})}}class tD extends S{constructor(t,e,i,s,r,o,a,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Moth",this.tier=1,this.pack="Puppy",this.health=1,this.attack=3,this.initPet(a,s,r,o,l)}startOfBattle(t,e){let i=this.parent.furthestUpPet,s=2*this.level;i.increaseAttack(s),this.logService.createLog({message:`${this.name} gave ${i.name} ${s} attack.`,type:"ability",player:this.parent,tiger:e}),this.superStartOfBattle(t,e)}}class iD extends S{constructor(t,e,i,s,r,o,a,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Bluebird",this.tier=1,this.pack="Puppy",this.attack=2,this.health=1,this.initPet(a,s,r,o,l)}}class nD extends S{constructor(t,e,i,s,r,o,a,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Chinchilla",this.tier=1,this.pack="Puppy",this.attack=2,this.health=2,this.initPet(a,s,r,o,l)}}class _h extends Ee{constructor(){super(...arguments),this.equipmentClass="defense",this.name="Garlic",this.power=2,this.originalPower=2}}class Fp extends Ee{constructor(t,e){super(),this.logService=t,this.abilityService=e,this.name="Honey",this.equipmentClass="faint",this.callback=i=>{let s=1;i instanceof jt&&(s=1+i.level);for(let r=0;r<s;r++)this.abilityService.setSpawnEvent({callback:()=>{let o=new yh(this.logService,this.abilityService,i.parent,null,null,0);i.parent.summonPet(o,i.savedPosition);let a="";r>0&&(a=" (Panther)"),this.logService.createLog({message:`${i.name} Spawned Bee (Honey)${a}`,type:"ability",player:i.parent}),this.abilityService.triggerSummonedEvents(o)},priority:i.attack})}}}class __ extends Ee{constructor(){super(...arguments),this.name="Meat Bone",this.equipmentClass="attack",this.power=3,this.originalPower=3}}class sD extends S{constructor(t,e,i,s,r,o,a,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Beetle",this.tier=1,this.pack="Puppy",this.attack=1,this.health=2,this.initPet(a,s,r,o,l)}startOfBattle(t,e){let i;switch(this.level){case 1:i=new Fp(this.logService,this.abilityService);break;case 2:i=new __;break;case 3:i=new _h}this.logService.createLog({message:`${this.name} gained ${i.name} perk.`,type:"ability",player:this.parent,tiger:e}),this.givePetEquipment(i),super.superStartOfBattle(t,e)}}class rD extends S{constructor(t,e,i,s,r,o,a,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Ladybug",this.tier=1,this.pack="Puppy",this.attack=1,this.health=3,this.initPet(a,s,r,o,l)}friendGainedPerk(t,e,i){let s=2*this.level;this.increaseAttack(s),this.logService.createLog({message:`${this.name} gained ${s} attack.`,type:"ability",player:this.parent,tiger:i}),this.superFriendGainedPerk(t,e,i)}}class oD extends S{constructor(t,e,i,s,r,o,a,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Chipmunk",this.tier=1,this.pack="Puppy",this.attack=3,this.health=2,this.initPet(a,s,r,o,l)}}class aD extends S{constructor(t,e,i,s,r,o,a,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Gecko",this.tier=1,this.pack="Puppy",this.attack=3,this.health=1,this.toyPet=!0,this.initPet(a,s,r,o,l)}startOfBattle(t,e){if(null==this.parent.toy)return;let i=2*this.level;this.increaseHealth(i),this.logService.createLog({message:`${this.name} gained ${i} health.`,type:"ability",player:this.parent,tiger:e}),this.superStartOfBattle(t,e)}}class lD extends S{constructor(t,e,i,s,r,o,a,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Ferret",this.tier=1,this.pack="Puppy",this.attack=2,this.health=1,this.initPet(a,s,r,o,l)}}class jo extends Ee{constructor(){super(...arguments),this.name="Weak",this.equipmentClass="ailment-defense",this.power=-3,this.originalPower=-3}}class cD extends S{constructor(t,e,i,s,r,o,a,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Bat",this.tier=2,this.pack="Puppy",this.attack=1,this.health=2,this.initPet(a,s,r,o,l)}startOfBattle(t,e){let i=wt(t,this.parent),s=i.getPetsWithEquipment("Weak"),r=i.getRandomPets(this.level,s,null,!0);for(let o of r)o.givePetEquipment(new jo),this.logService.createLog({message:`${this.name} made ${o.name} weak.`,type:"ability",player:this.parent,randomEvent:!0,tiger:e});this.superStartOfBattle(t,e)}}class Hp extends Ee{constructor(){super(...arguments),this.name="Rice",this.equipmentClass="shop"}}class uD extends S{constructor(t,e,i,s,r,o,a,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Frigatebird",this.tier=2,this.pack="Puppy",this.attack=2,this.health=1,this.initPet(a,s,r,o,l)}friendGainedAilment(t,e){if(this.abilityUses>=this.level||e==this)return;let i=e.equipment;e.givePetEquipment(new Hp),this.abilityUses++,this.logService.createLog({message:`${this.name} removed ${i.name} from ${e.name} and gave ${e.name} Rice.`,type:"ability",player:this.parent})}resetPet(){super.resetPet()}setAbilityUses(){super.setAbilityUses(),this.maxAbilityUses=this.level}}class qp extends Ee{constructor(t,e){super(),this.logService=t,this.abilityService=e,this.name="Egg",this.equipmentClass="snipe",this.uses=1,this.originalUses=1,this.attackCallback=(i,s)=>{let r=s.parent.petArray,o=null;for(let p of r)if(p.alive){o=p;break}if(null==o)return void console.warn("egg didn't find target");let a=i.calculateDamgae(o,i.getManticoreMult(),2,!0),l=a.defenseEquipment,h=a.damage;o.health-=h;let f=`${i.name} sniped ${o.name} for ${h}`;if(i instanceof jt&&(f+=" (Panther)"),null!=l){o.useDefenseEquipment();let p=Math.abs(l.power),y="-";l.power<0&&(y="+"),f+=` (${l.name} ${y}${p})`}this.logService.createLog({message:f+=" (Egg).",type:"attack",player:i.parent}),null!=o.hurt&&this.abilityService.setHurtEvent({callback:o.hurt.bind(o),priority:o.attack,player:o.parent,callbackPet:s}),o.health<1&&null!=i.knockOut&&this.abilityService.setKnockOutEvent({callback:i.knockOut.bind(i),priority:i.attack,callbackPet:o}),o.alive&&this.abilityService.triggerFriendHurtEvents(s.parent,s),o.alive&&h>0&&this.abilityService.triggerEnemyHurtEvents(i.parent,o)}}}class Gp extends S{constructor(t,e,i,s,r,o,a,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Nest",this.tier=1,this.pack="Puppy",this.hidden=!0,this.attack=2,this.health=3,this.initPet(a,s,r,o,l)}}class hD extends S{constructor(t,e,i,s,r,o,a,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Robin",this.tier=2,this.pack="Puppy",this.attack=2,this.health=3,this.initPet(a,s,r,o,l)}startOfBattle(t,e){let i=new Gp(this.logService,this.abilityService,this.parent,null,null,this.minExpForLevel,null);this.logService.createLog({message:`${this.name} summoned a Nest (level ${this.level}).`,type:"ability",player:this.parent,randomEvent:!1,tiger:e}),this.parent.summonPet(i,Math.max(0,this.position))&&(this.abilityService.triggerSummonedEvents(i),this.logService.createLog({message:`${this.name} gave Nest an Egg.`,type:"ability",player:this.parent,randomEvent:!1,tiger:e}),i.givePetEquipment(new qp(this.logService,this.abilityService))),this.superStartOfBattle(t,e)}}class dD extends S{constructor(t,e,i,s,r,o,a,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Dromedary",this.tier=2,this.pack="Puppy",this.attack=2,this.health=4,this.initPet(a,s,r,o,l)}}class fD extends S{constructor(t,e,i,s,r,o,a,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Shrimp",this.tier=2,this.pack="Puppy",this.attack=2,this.health=2,this.initPet(a,s,r,o,l)}}class pD extends S{constructor(t,e,i,s,r,o,a,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Toucan",this.tier=2,this.pack="Puppy",this.attack=3,this.health=3,this.initPet(a,s,r,o,l)}faint(t,e,i){var s;if(null==this.equipment)return;let r=this.parent.petArray,o=[],a=!1;for(let l of r)l==this&&(a=!0),a&&(null===(s=l.equipment)||void 0===s?void 0:s.name)!=this.equipment.name&&o.push(l);for(let l=0;l<this.level;l++){let h=o[l];if(null==h)break;this.logService.createLog({message:`${this.name} gave ${h.name} ${this.equipment.name}`,type:"ability",player:this.parent,randomEvent:!1,tiger:e,pteranodon:i}),h.givePetEquipment((0,ge.cloneDeep)(this.equipment))}this.superFaint(t,e)}}class gD extends S{constructor(t,e,i,s,r,o,a,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Beluga Sturgeon",this.tier=2,this.pack="Puppy",this.attack=2,this.health=3,this.initPet(a,s,r,o,l)}faint(t,e,i){for(let s=0;s<this.level;s++)this.abilityService.setSpawnEvent({callback:()=>{let r=new p_(this.logService,this.abilityService,this.parent,3,2,0,0,new Hp);this.logService.createLog({message:`${this.name} summoned a 2/3 Dolphin with Rice in the back.`,type:"ability",player:this.parent,randomEvent:!1,tiger:e,pteranodon:i}),this.parent.summonPet(r,4)&&this.abilityService.triggerSummonedEvents(r)},priority:this.attack});this.superFaint(t,e)}}class mD extends S{constructor(t,e,i,s,r,o,a,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Tabby Cat",this.tier=2,this.pack="Puppy",this.attack=4,this.health=3,this.initPet(a,s,r,o,l)}friendGainedPerk(t,e,i){let s=this.parent.getRandomPets(2,[this],!0,!1);if(0!=s.length){for(let r of s)this.logService.createLog({message:`${this.name} increased ${r.name}'s health by ${this.level}.`,type:"ability",player:this.parent,randomEvent:!0,tiger:i}),r.increaseHealth(this.level);this.superFriendGainedPerk(t,e,i)}}}class b_ extends S{constructor(t,e,i,s,r,o,a,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Flying Squirrel",this.tier=3,this.pack="Puppy",this.attack=3,this.health=3,this.initPet(a,s,r,o,l)}friendlyToyBroke(t,e){this.logService.createLog({message:`${this.parent.toy.name} respawned!`,type:"ability",player:this.parent,tiger:e}),this.superFriendlyToyBroke(t,e)}}class vD extends S{constructor(t,e,i,s,r,o,a,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Mandrill",this.tier=2,this.pack="Puppy",this.attack=3,this.health=4,this.initPet(a,s,r,o,l)}faint(t,e,i){var s;if((null===(s=this.parent.toy)||void 0===s?void 0:s.tier)<=2*this.level){let o=!1;for(let a of this.parent.petArray)if(a instanceof b_){o=!0;break}this.parent.breakToy(o),this.abilityService.triggerFriendlyToyBrokeEvents(this.parent)}}}class yD extends S{constructor(t,e,i,s,r,o,a,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Lemur",this.tier=2,this.pack="Puppy",this.attack=3,this.health=3,this.initPet(a,s,r,o,l)}}class _D extends S{constructor(t,e,i,s,r,o,a,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Hoopoe Bird",this.tier=3,this.pack="Puppy",this.attack=3,this.health=2,this.initPet(a,s,r,o,l)}faint(t,e,i){let s=wt(t,this.parent),r=s.furthestUpPet,o=s.getLastPet(),a=2*this.level;!r||(this.snipePet(r,a,!1,e,i),this.snipePet(o,a,!1,e,i),this.superFaint(t,e))}}class bD extends S{constructor(t,e,i,s,r,o,a,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Tropical Fish",this.tier=3,this.pack="Puppy",this.attack=2,this.health=4,this.initPet(a,s,r,o,l)}}class SD extends S{constructor(t,e,i,s,r,o,a,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Hatching Chick",this.tier=3,this.pack="Puppy",this.attack=2,this.health=2,this.initPet(a,s,r,o,l)}}class ED extends S{constructor(t,e,i,s,r,o,a,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Goldfish",this.tier=3,this.pack="Puppy",this.attack=1,this.health=5,this.initPet(a,s,r,o,l)}}class wD extends S{constructor(t,e,i,s,r,o,a,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Owl",this.tier=3,this.pack="Puppy",this.attack=1,this.health=2,this.initPet(a,s,r,o,l)}}class Up extends S{constructor(t,e,i,s,r,o,a,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Mole",this.tier=3,this.pack="Puppy",this.attack=2,this.health=3,this.initPet(a,s,r,o,l)}faint(t,e,i){let s=6*this.level,r=[];for(let o of this.parent.petArray)o!=this&&o.equipment&&r.push(o);if(r=r.slice(0,2),!(r.length<2)){for(let o of r)o.equipment=null,this.logService.createLog({message:`${this.name} removed ${o.name}'s equipment.`,type:"ability",player:this.parent,pteranodon:i});this.abilityService.setSpawnEvent({callback:()=>{this.logService.createLog({message:`${this.name} summoned a ${s}/${s} Mole.`,type:"ability",player:this.parent,pteranodon:i});let o=new Up(this.logService,this.abilityService,this.parent,s,s);this.parent.summonPet(o,this.savedPosition)&&this.abilityService.triggerSummonedEvents(o)},priority:this.attack})}}}class CD extends S{constructor(t,e,i,s,r,o,a,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Raccoon",this.tier=5,this.pack="Custom",this.attack=4,this.health=5,this.initPet(a,s,r,o,l)}beforeAttack(t,e){let s=wt(t,this.parent).getPetAtPosition(0);null!=s&&null!=s.equipment&&(this.abilityUses>=this.maxAbilityUses||(this.logService.createLog({message:`${this.name} stole ${s.name}'s equipment. (${s.equipment.name})`,type:"ability",player:this.parent}),this.givePetEquipment(s.equipment),s.equipment=null,this.abilityUses++))}setAbilityUses(){super.setAbilityUses(),this.maxAbilityUses=this.level}}class kD extends S{constructor(t,e,i,s,r,o,a,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Pangolin",this.tier=3,this.pack="Puppy",this.attack=2,this.health=5,this.initPet(a,s,r,o,l)}faint(t,e,i){if(null==this.parent.toy||null==this.petBehind())return;let s=5*this.level;this.petBehind().increaseHealth(s),this.logService.createLog({message:`${this.name} gave ${this.petBehind().name} ${s} health.`,type:"ability",player:this.parent,tiger:e,pteranodon:i}),this.superFaint(t,e)}}class DD extends S{constructor(t,e,i,s,r,o,a,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Puppy",this.tier=3,this.pack="Puppy",this.attack=3,this.health=3,this.initPet(a,s,r,o,l)}}class PD extends S{constructor(t,e,i,s,r,o,a,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Microbe",this.tier=4,this.pack="Puppy",this.attack=1,this.health=1,this.initPet(a,s,r,o,l)}faint(t,e,i){let s=this.parent.petArray.filter(r=>r!=this);s=[...s,...wt(t,this.parent).petArray];for(let r of s)!r.alive||(this.logService.createLog({message:`${this.name} gave ${r.name} Weak.`,type:"ability",player:this.parent,tiger:e,pteranodon:i}),r.givePetEquipment(new jo));this.superFaint(t,e)}}class AD extends S{constructor(t,e,i,s,r,o,a,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Lobster",this.tier=4,this.pack="Puppy",this.attack=3,this.health=3,this.initPet(a,s,r,o,l)}}class TD extends S{constructor(t,e,i,s,r,o,a,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Buffalo",this.tier=4,this.pack="Puppy",this.attack=4,this.health=4,this.initPet(a,s,r,o,l)}}class xD extends S{constructor(t,e,i,s,r,o,a,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Llama",this.tier=4,this.pack="Puppy",this.attack=2,this.health=5,this.initPet(a,s,r,o,l)}}class S_ extends S{constructor(t,e,i,s,r,o,a,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Butterly",this.tier=1,this.pack="Puppy",this.hidden=!0,this.health=1,this.attack=1,this.initPet(a,s,r,o,l)}transform(t,e){let s=wt(t,this.parent).getStrongestPet();this.health=s.health,this.attack=s.attack,this.logService.createLog({message:`${this.name} copied stats from the strongest enemy (${this.attack}/${this.health}).`,type:"ability",player:this.parent,tiger:e}),this.superTransform(t,e)}}class MD extends S{constructor(t,e,i,s,r,o,a,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Caterpillar",this.tier=4,this.pack="Puppy",this.attack=1,this.health=1,this.initPet(a,s,r,o,l)}startOfBattle(t,e){if(this.level<3)return;let i=new S_(this.logService,this.abilityService,this.parent,1,1,this.exp);this.parent.setPet(this.position,i),this.logService.createLog({message:`${this.name} transformed into a Butterfly.`,type:"ability",player:this.parent})}}class ID extends S{constructor(t,e,i,s,r,o,a,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Doberman",this.tier=4,this.pack="Puppy",this.attack=4,this.health=5,this.initPet(a,s,r,o,l)}startOfBattle(t,e){let i=!0;for(let r of this.parent.petArray)if(r!=this&&r.tier<=this.tier){i=!1;break}if(!i)return;let s=8*this.level;this.increaseAttack(s),this.givePetEquipment(new jr),this.logService.createLog({message:`${this.name} gained ${s} attack and gained a Coconut.`,type:"ability",player:this.parent,tiger:e}),this.superStartOfBattle(t,e)}}class OD extends S{constructor(t,e,i,s,r,o,a,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Tahr",this.tier=4,this.pack="Puppy",this.attack=5,this.health=3,this.initPet(a,s,r,o,l)}faint(t,e,i){if(null==this.petBehind())return;let s=this.petBehind(),r=[s];for(;null!=s.petBehind();)s=s.petBehind(),r.push(s);let o=1;for(let a of r){if(o>this.level)break;a.equipment instanceof vh||(this.logService.createLog({message:`${this.name} gave ${a.name} Chili.`,type:"ability",player:this.parent,tiger:e,pteranodon:i}),a.givePetEquipment(new vh(this.logService,this.abilityService)),o++)}this.superFaint(t,e)}}class ND extends S{constructor(t,e,i,s,r,o,a,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Whale Shark",this.tier=4,this.pack="Puppy",this.attack=1,this.health=4,this.initPet(a,s,r,o,l)}givePetEquipment(t){super.givePetEquipment(t),this.equipment=null;let e=2*this.level;this.increaseAttack(e),this.increaseHealth(e),this.logService.createLog({message:`${this.name} removed ${t.name} and gained ${e} attack and ${e} health.`,type:"ability",player:this.parent})}}class RD extends S{constructor(t,e,i,s,r,o,a,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Chameleon",this.tier=4,this.pack="Puppy",this.attack=3,this.health=5,this.initPet(a,s,r,o,l)}faint(t,e,i){if(null==this.parent.toy)return;let s=this.parent.toy,r=s.level;s.level=this.level,this.logService.createLog({message:`${this.name} activated ${s.name}.`,type:"ability",player:this.parent,pteranodon:i}),s.onBreak&&this.parent.breakToy(!0),s.startOfBattle&&s.startOfBattle(t),s.level=r}}class LD extends S{constructor(t,e,i,s,r,o,a,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Gharial",this.tier=4,this.pack="Puppy",this.attack=5,this.health=3,this.initPet(a,s,r,o,l)}}class BD extends S{constructor(t,e,i,s,r,o,a,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Stonefish",this.tier=5,this.pack="Puppy",this.attack=7,this.health=4,this.initPet(a,s,r,o,l)}faint(t,e,i){let s=wt(t,this.parent);null==s.pet0||!s.pet0.alive||(this.snipePet(s.pet0,this.attack*this.level,!1,e,i),this.superFaint(t,e))}}class VD extends S{constructor(t,e,i,s,r,o,a,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Poodle",this.tier=5,this.pack="Puppy",this.attack=2,this.health=2,this.initPet(a,s,r,o,l)}}class $D extends S{constructor(t,e,i,s,r,o,a,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Chicken",this.tier=5,this.pack="Puppy",this.attack=3,this.health=4,this.initPet(a,s,r,o,l)}}class FD extends S{constructor(t,e,i,s,r,o,a,l,h){super(t,e,s),this.logService=t,this.abilityService=e,this.petService=i,this.name="Eagle",this.tier=5,this.pack="Puppy",this.attack=6,this.health=5,this.initPet(l,r,o,a,h)}faint(t,e,i){let r,s=Math.min(6,t.previousShopTier+1);r=this.parent==t.player?t.playerPetPool.get(s):t.opponentPetPool.get(s);let o=r[Math.floor(Math.random()*r.length)],a=5*this.level;this.abilityService.setSpawnEvent({callback:()=>{let l=this.petService.createPet({name:o,attack:a,health:a,exp:this.minExpForLevel,equipment:null,mana:0},this.parent);this.logService.createLog({message:`${this.name} spawned ${l.name} Level ${l.level}`,type:"ability",player:this.parent,tiger:e,randomEvent:!0,pteranodon:i}),this.parent.summonPet(l,this.savedPosition)&&this.abilityService.triggerSummonedEvents(l)},priority:this.attack}),this.superFaint(t,e)}}class HD extends S{constructor(t,e,i,s,r,o,a,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Axolotl",this.tier=5,this.pack="Puppy",this.attack=2,this.health=3,this.initPet(a,s,r,o,l)}friendGainedPerk(t,e,i){if(e==this)return;let s=this.level;e.increaseAttack(s),e.increaseHealth(s),this.logService.createLog({message:`${this.name} gave ${e.name} ${s} attack and ${s} health.`,type:"ability",player:this.parent,tiger:i}),this.superFriendGainedPerk(t,e,i)}}class qD extends S{constructor(t,e,i,s,r,o,a,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Goat",this.tier=5,this.pack="Puppy",this.attack=4,this.health=6,this.initPet(a,s,r,o,l)}}class jp extends Ee{constructor(t){super(),this.logService=t,this.name="Skewer",this.equipmentClass="skewer",this.power=0,this.attackCallback=(e,i)=>{this.skewer(e,i,1),this.skewer(e,i,2)}}skewer(t,e,i){let s=e.parent.getPetAtPosition(i);if(null==s)return;let r=1;t instanceof jt&&(r=1+t.level);let o=t.calculateDamgae(s,t.getManticoreMult(),3),a=o.defenseEquipment,l=o.damage*r;s.health-=l;let h=`${t.name} attacks ${s.name} for ${l}`;if(t instanceof jt&&(h+=` x${r} (Panther)`),null!=a){s.useDefenseEquipment();let f=Math.abs(a.power),p="-";a.power<0&&(p="+"),h+=` (${a.name} ${p}${f})`,e instanceof jt&&(h+=` x${1+t.level} (Panther)`)}this.logService.createLog({message:h+=" (Skewer).",type:"attack",player:t.parent})}}class GD extends S{constructor(t,e,i,s,r,o,a,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Snapping Turtle",this.tier=5,this.pack="Puppy",this.attack=4,this.health=5,this.initPet(a,s,r,o,l)}faint(t,e,i){if(null==this.petBehind())return;let s=this.petBehind(),r=[s];for(;null!=s.petBehind();)s=s.petBehind(),r.push(s);let o=1;for(let a of r){if(o>this.level)break;a.equipment instanceof jp||(this.logService.createLog({message:`${this.name} gave ${a.name} Skewer.`,type:"ability",player:this.parent,tiger:e,pteranodon:i}),a.givePetEquipment(new jp(this.logService)),o++)}this.superFaint(t,e)}}class UD extends S{constructor(t,e,i,s,r,o,a,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Mosasaurus",this.tier=5,this.pack="Puppy",this.attack=5,this.health=6,this.initPet(a,s,r,o,l)}friendlyToyBroke(t,e){let i=[];if(this.petAhead&&i.push(this.petAhead),this.petBehind()&&i.push(this.petBehind()),0==i.length)return;for(let r of i)this.logService.createLog({message:`${this.name} gave ${r.name} 2 attach and 3 health.`,type:"ability",player:this.parent,randomEvent:!1,tiger:e}),r.increaseHealth(3),r.increaseAttack(2)}}class jD extends S{constructor(t,e,i,s,r,o,a,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="String Ray",this.tier=5,this.pack="Puppy",this.attack=4,this.health=6,this.initPet(a,s,r,o,l)}}class WD extends S{constructor(t,e,i,s,r,o,a,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Mantis Shrimp",this.tier=6,this.pack="Puppy",this.attack=9,this.health=3,this.initPet(a,s,r,o,l)}startOfBattle(t,e){let i=wt(t,this.parent);for(let s=0;s<this.level;s++){let r=i.furthestUpPet;if(null==r)return;this.snipePet(r,10,!1,e)}this.superStartOfBattle(t,e)}}class zD extends S{constructor(t,e,i,s,r,o,a,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Lionfish",this.tier=6,this.pack="Puppy",this.attack=8,this.health=4,this.initPet(a,s,r,o,l)}faint(t,e,i){let s=wt(t,this.parent),r=1+Math.floor(this.attack/10);for(let o=0;o<r;o++){let a=s.getRandomPet(null,null,!0);if(null==a)return;this.snipePet(a,3*this.level,!0,e,i)}this.superFaint(t,e)}}class KD extends S{constructor(t,e,i,s,r,o,a,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Tyrannosaurus",this.tier=6,this.pack="Puppy",this.attack=6,this.health=4,this.initPet(a,s,r,o,l)}}class YD extends S{constructor(t,e,i,s,r,o,a,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Octopus",this.tier=6,this.pack="Puppy",this.attack=8,this.health=8,this.initPet(a,s,r,o,l)}afterAttack(t,e){let i=wt(t,this.parent);for(let s=0;s<this.level;s++){let r=i.getRandomPet(null,null,!0);if(null==r)return;this.snipePet(r,6,!0,e)}this.superAfterAttack(t,e)}}class QD extends S{constructor(t,e,i,s,r,o,a,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Anglerfish",this.tier=6,this.pack="Puppy",this.attack=7,this.health=4,this.initPet(a,s,r,o,l)}}class JD extends S{constructor(t,e,i,s,r,o,a,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Sauropod",this.tier=6,this.pack="Puppy",this.attack=4,this.health=12,this.initPet(a,s,r,o,l)}}class ZD extends S{constructor(t,e,i,s,r,o,a,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Elephant Seal",this.tier=6,this.pack="Puppy",this.attack=3,this.health=9,this.initPet(a,s,r,o,l)}givePetEquipment(t){super.givePetEquipment(t);let e=this.level;for(let i of this.parent.petArray)i!=this&&(!i.alive||(i.increaseAttack(e),i.increaseHealth(e),this.logService.createLog({message:`${this.name} gave ${i.name} ${e} attack and ${e} health.`,type:"ability",player:this.parent})))}}class XD extends S{constructor(t,e,i,s,r,o,a,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Mongoose",this.tier=6,this.pack="Puppy",this.attack=4,this.health=3,this.initPet(a,s,r,o,l)}}class eP extends S{constructor(t,e,i,s,r,o,a,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Pillbug",this.tier=1,this.pack="Star",this.attack=2,this.health=2,this.initPet(a,s,r,o,l)}}class tP extends S{constructor(t,e,i,s,r,o,a,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Duckling",this.tier=1,this.pack="Star",this.attack=1,this.health=2,this.initPet(a,s,r,o,l)}}class iP extends S{constructor(t,e,i,s,r,o,a,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Cockroach",this.tier=1,this.pack="Star",this.attack=1,this.health=4,this.initPet(a,s,r,o,l)}}class nP extends S{constructor(t,e,i,s,r,o,a,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Frog",this.tier=1,this.pack="Star",this.attack=3,this.health=2,this.initPet(a,s,r,o,l)}startOfBattle(t,e){if(this.level>1)return;let i=this.petAhead,s=this.petBehind();if(null==i||null==s)return;let r=i.attack,o=i.health,l=s.health;i.attack=s.attack,i.health=l,s.attack=r,s.health=o,this.logService.createLog({message:`${this.name} swapped the attack and health of ${i.name} and ${s.name}.`,type:"ability",player:this.parent,tiger:e}),this.superStartOfBattle(t,e)}}class sP extends S{constructor(t,e,i,s,r,o,a,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Seahorse",this.tier=1,this.pack="Puppy",this.attack=2,this.health=3,this.initPet(a,s,r,o,l)}startOfBattle(t,e){let s=wt(t,this.parent).getLastPet();this.parent.pushPet(s,this.level),this.logService.createLog({message:`${this.name} pushes ${s.name} forward ${this.level} space${this.level>1?"s":""}.`,type:"ability",player:this.parent,tiger:e}),this.superStartOfBattle(t,e)}}class rP extends S{constructor(t,e,i,s,r,o,a,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Iguana",this.tier=2,this.pack="Star",this.attack=3,this.health=3,this.initPet(a,s,r,o,l)}enemySummoned(t,e,i){null!=e&&e.alive&&(this.snipePet(e,2*this.level,!1,i),this.superEnemySummoned(t,e,i))}}class oP extends S{constructor(t,e,i,s,r,o,a,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Hummingbird",this.tier=1,this.pack="Star",this.attack=2,this.health=2,this.initPet(a,s,r,o,l)}startOfBattle(t,e){let i=this.parent.getRandomStrawberryPet(this);if(null==i)return;let s={attack:2*this.level,health:this.level};i.increaseHealth(s.health),i.increaseAttack(s.attack),this.logService.createLog({message:`${this.name} increased ${i.name}'s attack by ${s.attack} and health by ${s.health}.`,type:"ability",player:this.parent,tiger:e,randomEvent:!0}),this.superStartOfBattle(t,e)}}class aP extends S{constructor(t,e,i,s,r,o,a,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Koala",this.tier=2,this.pack="Star",this.attack=3,this.health=2,this.maxAbilityUses=1,this.initPet(a,s,r,o,l)}friendHurt(t,e,i){this.abilityUses>=this.maxAbilityUses&&!i||(e.increaseAttack(this.level),e.increaseHealth(this.level),this.logService.createLog({message:`${this.name} gave ${e.name} ${this.level} attack and ${this.level} health.`,type:"ability",player:this.parent,tiger:i}),this.abilityUses+=1,this.superFriendHurt(t,e,i))}}class lP extends S{constructor(t,e,i,s,r,o,a,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Yak",this.tier=2,this.pack="Star",this.attack=3,this.health=5,this.initPet(a,s,r,o,l)}}class cP extends S{constructor(t,e,i,s,r,o,a,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Salamander",this.tier=2,this.pack="Star",this.attack=2,this.health=4,this.initPet(a,s,r,o,l)}}class uP extends S{constructor(t,e,i,s,r,o,a,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Panda",this.tier=2,this.pack="Star",this.attack=2,this.health=4,this.initPet(a,s,r,o,l)}startOfBattle(t,e){let i=.5*this.level,s={attack:Math.floor(this.attack*i),health:Math.floor(this.health*i)},r=this.petAhead;null!=r&&(r.increaseAttack(s.attack),r.increaseHealth(s.health),this.logService.createLog({message:`${this.name} gave ${r.name} ${s.attack} attack and ${s.health} health.`,type:"ability",player:this.parent,tiger:e}),this.health=0,this.superStartOfBattle(t,e))}}class hP extends S{constructor(t,e,i,s,r,o,a,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Guinea Pig",this.tier=2,this.pack="Star",this.attack=2,this.health=3,this.initPet(a,s,r,o,l)}}class dP extends S{constructor(t,e,i,s,r,o,a,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Pug",this.tier=3,this.pack="Star",this.attack=5,this.health=2,this.initPet(a,s,r,o,l)}startOfBattle(t,e){if(null==this.petAhead)return;let i=this.level;this.logService.createLog({message:`${this.name} gave ${this.petAhead.name} ${i} exp.`,type:"ability",player:this.parent,tiger:e}),this.petAhead.increaseExp(i),this.superStartOfBattle(t,e)}}class fP extends S{constructor(t,e,i,s,r,o,a,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Jellyfish",this.tier=2,this.pack="Star",this.attack=2,this.health=3,this.initPet(a,s,r,o,l)}anyoneLevelUp(t,e,i){if(e.parent!=this.parent)return;let s=this.level;this.increaseAttack(s),this.increaseHealth(s),this.logService.createLog({message:`${this.name} increased attack by ${s} and health by ${s}`,type:"ability",player:this.parent,tiger:i}),this.superAnyoneLevelUp(t,e,i)}}class pP extends S{constructor(t,e,i,s,r,o,a,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Atlantic Puffin",this.tier=2,this.pack="Star",this.attack=2,this.health=3,this.initPet(a,s,r,o,l)}startOfBattle(t,e){let i=this.parent.getPetsWithEquipment("Strawberry").filter(r=>r!==this),s=wt(t,this.parent);for(let r=0;r<this.level;r++)for(let o=0;o<i.length;o++){let a=s.getRandomPet(null,null,!0);if(null==a)break;this.snipePet(a,2,!0,e)}this.superStartOfBattle(t,e)}}class gP extends S{constructor(t,e,i,s,r,o,a,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Dove",this.tier=2,this.pack="Star",this.attack=2,this.health=1,this.initPet(a,s,r,o,l)}faint(t,e,i){let s=this.parent.getPetsWithEquipment("Strawberry").filter(a=>a!==this&&a.alive);s=(0,ge.shuffle)(s);let r=2*this.level,o=!1;if(s.length>2&&(o=!0),s.length>0){let a=s[0];a.increaseAttack(r),a.increaseHealth(r),this.logService.createLog({message:`${this.name} gave ${a.name} ${r} attack ${r} health.`,type:"ability",player:this.parent,tiger:e,randomEvent:o,pteranodon:i})}if(s.length>1){let a=s[1];a.increaseAttack(r),a.increaseHealth(r),this.logService.createLog({message:`${this.name} gave ${a.name} ${r} attack ${r} health.`,type:"ability",player:this.parent,tiger:e,randomEvent:o})}this.superFaint(t,e)}}class mP extends S{constructor(t,e,i,s,r,o,a,l,h){super(t,e,s),this.logService=t,this.abilityService=e,this.petService=i,this.name="Stork",this.tier=2,this.pack="Star",this.attack=2,this.health=1,this.initPet(l,r,o,a,h)}faint(t,e,i){let s,r=Math.max(1,t.previousShopTier-1);s=this.parent==t.player?t.playerPetPool.get(r):t.opponentPetPool.get(r);let o=s[Math.floor(Math.random()*s.length)];this.abilityService.setSpawnEvent({callback:()=>{let a=t.oldStork,l=this.petService.createPet({name:o,attack:a?null:3*this.level,equipment:null,exp:this.minExpForLevel,health:a?null:2*this.level,mana:0},this.parent);this.logService.createLog({message:`${this.name} spawned ${l.name} Level ${this.level}`,type:"ability",player:this.parent,tiger:e,randomEvent:!0,pteranodon:i}),this.parent.summonPet(l,this.savedPosition)&&this.abilityService.triggerSummonedEvents(l)},priority:this.attack}),this.superFaint(t,e)}}class vP extends S{constructor(t,e,i,s,r,o,a,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Leech",this.tier=3,this.pack="Star",this.attack=4,this.health=2,this.initPet(a,s,r,o,l)}}class yP extends S{constructor(t,e,i,s,r,o,a,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Woodpecker",this.tier=3,this.pack="Star",this.attack=4,this.health=3,this.uses=0,this.initPet(a,s,r,o,l)}startOfBattle(t,e){let i=this.parent.opponent;for(let s=0;s<this.level;s++){let o,r=this.petAhead;null==r?(r=i.furthestUpPet,o=null==r?void 0:r.petBehind()):(o=r.petAhead,null==o&&(o=i.furthestUpPet)),null!=r&&this.snipePet(r,2,!1,e),null!=o&&this.snipePet(o,2,!1,e)}this.superStartOfBattle(t,e)}}class _P extends S{constructor(t,e,i,s,r,o,a,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Toad",this.tier=3,this.pack="Star",this.attack=3,this.health=3,this.initPet(a,s,r,o,l)}enemyHurt(t,e,i){!e.alive||this.abilityUses>=this.maxAbilityUses||e.equipment instanceof jo||(e.givePetEquipment(new jo),this.abilityUses++,this.logService.createLog({message:`${this.name} gave ${e.name} Weak.`,type:"ability",player:this.parent,tiger:i}),this.enemyHurt(t,e,i))}setAbilityUses(){super.setAbilityUses(),this.maxAbilityUses=2*this.level}}class bP extends S{constructor(t,e,i,s,r,o,a,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Starfish",this.tier=4,this.pack="Star",this.attack=3,this.health=4,this.initPet(a,s,r,o,l)}}class SP extends S{constructor(t,e,i,s,r,o,a,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Clownfish",this.tier=4,this.pack="Star",this.attack=3,this.health=4,this.initPet(a,s,r,o,l)}anyoneLevelUp(t,e,i){if(e.parent!==this.parent)return;let s=2*this.level;e.increaseAttack(s),e.increaseHealth(s),this.logService.createLog({message:`${this.name} gave ${e.name} ${s} attack and ${s} health.`,type:"ability",player:this.parent,tiger:i}),this.superAnyoneLevelUp(t,e,i)}}class EP extends S{constructor(t,e,i,s,r,o,a,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Blobfish",this.tier=4,this.pack="Star",this.attack=2,this.health=6,this.initPet(a,s,r,o,l)}faint(t,e,i){let s=this.petBehind();if(null==s)return;let r=2*this.level;this.logService.createLog({message:`${this.name} gave ${s.name} ${r} attack and ${r} health.`,type:"ability",player:this.parent,tiger:e,pteranodon:i}),s.increaseAttack(r),s.increaseHealth(r),this.logService.createLog({message:`${this.name} gave ${s.name} ${r} exp.`,type:"ability",player:this.parent,tiger:e}),s.increaseExp(r),this.superFaint(t,e)}}class wP extends S{constructor(t,e,i,s,r,o,a,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Cabybara",this.tier=3,this.pack="Star",this.attack=2,this.health=5,this.initPet(a,s,r,o,l)}}class CP extends S{constructor(t,e,i,s,r,o,a,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Okapi",this.tier=3,this.pack="Star",this.attack=2,this.health=3,this.initPet(a,s,r,o,l)}}class kP extends S{constructor(t,e,i,s,r,o,a,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Cassowary",this.tier=3,this.pack="Star",this.attack=2,this.health=4,this.initPet(a,s,r,o,l)}}class E_ extends S{constructor(t,e,i,s,r,o,a,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Orangutang",this.tier=4,this.pack="Star",this.attack=3,this.health=6,this.initPet(a,s,r,o,l)}}class DP extends S{constructor(t,e,i,s,r,o,a,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Eel",this.tier=3,this.pack="Star",this.attack=4,this.health=2,this.initPet(a,s,r,o,l)}startOfBattle(t,e){let i=.5*this.level;this.health=Math.min(50,Math.floor(this.health*(1+i))),this.logService.createLog({message:`${this.name} has gained ${100*i}% health. (${this.health})`,type:"ability",player:this.parent,tiger:e}),this.superStartOfBattle(t,e)}}class PP extends S{constructor(t,e,i,s,r,o,a,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Hawk",this.tier=4,this.pack="Star",this.attack=4,this.health=3,this.initPet(a,s,r,o,l)}startOfBattle(t,e){let i=this.parent.opponent,s=this.position,r=i.getPetAtPosition(this.position),o=1;for(;null==r&&o<5;)r=i.getPetAtPosition(s+o),null==r&&(r=i.getPetAtPosition(s-o)),o++;null!=r&&this.snipePet(r,7*this.level,!1,e)}}class AP extends S{constructor(t,e,i,s,r,o,a,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Platypus",this.tier=4,this.pack="Star",this.attack=2,this.health=2,this.initPet(a,s,r,o,l)}faint(t,e,i){let s=3*this.level,r=new h_(this.logService,this.abilityService,this.parent,s,s,this.minExpForLevel),o=new d_(this.logService,this.abilityService,this.parent,s,s,this.minExpForLevel);this.abilityService.setSpawnEvent({callback:()=>{this.logService.createLog({message:`${this.name} spawned ${s}/${s} Duck level ${this.level}`,type:"ability",player:this.parent,tiger:e,pteranodon:i}),this.parent.summonPet(r,this.savedPosition)&&this.abilityService.triggerSummonedEvents(r)},priority:this.attack}),this.abilityService.setSpawnEvent({callback:()=>{this.logService.createLog({message:`${this.name} spawned ${s}/${s} Beaver level ${this.level}`,type:"ability",player:this.parent,tiger:e,pteranodon:i}),this.parent.summonPet(o,this.savedPosition)&&this.abilityService.triggerSummonedEvents(o)},priority:this.attack})}}class TP extends S{constructor(t,e,i,s,r,o,a,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Praying Mantis",this.tier=4,this.pack="Star",this.attack=7,this.health=2,this.initPet(a,s,r,o,l)}}class xP extends S{constructor(t,e,i,s,r,o,a,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Crow",this.tier=4,this.pack="Star",this.attack=3,this.health=3,this.initPet(a,s,r,o,l)}}class MP extends S{constructor(t,e,i,s,r,o,a,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Donkey",this.tier=4,this.pack="Star",this.attack=4,this.health=6,this.initPet(a,s,r,o,l)}friendFaints(t,e,i){if(this.abilityUses>=this.maxAbilityUses)return;let r=this.parent.opponent.getLastPet();null!=r&&(this.parent.pushPet(r,r.position),this.logService.createLog({message:`${this.name} pushed ${r.name} to the front.`,type:"ability",player:this.parent,tiger:i}),this.superFriendFaints(t,e,i),this.abilityUses++)}setAbilityUses(){super.setAbilityUses(),this.maxAbilityUses=this.level}}class IP extends S{constructor(t,e,i,s,r,o,a,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Pelican",this.tier=4,this.pack="Star",this.attack=2,this.health=3,this.initPet(a,s,r,o,l)}startOfBattle(t,e){let i=this.parent.getRandomStrawberryPet(this),s={attack:2*this.level,health:this.level};if(null==i)return;let r=this.parent.getPetsWithEquipment("Strawberry").filter(o=>o!=this).length>1;i.increaseAttack(s.attack),i.increaseHealth(s.health),this.logService.createLog({message:`${this.name} gave ${i.name} ${s.attack} attack and ${s.health} health.`,type:"ability",player:this.parent,tiger:e,randomEvent:r}),this.superStartOfBattle(t,e)}}class OP extends S{constructor(t,e,i,s,r,o,a,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Anteater",this.tier=3,this.pack="Star",this.attack=3,this.health=2,this.initPet(a,s,r,o,l)}faint(t,e,i){for(let s=0;s<this.level;s++)this.abilityService.setSpawnEvent({callback:()=>{let r=new u_(this.logService,this.abilityService,this.parent,1,1,5);this.logService.createLog({message:`${this.name} spawned 1/1 Ant level 3`,type:"ability",player:this.parent,tiger:e,pteranodon:i}),this.parent.summonPet(r,this.savedPosition)&&this.abilityService.triggerSummonedEvents(r)},priority:this.attack});super.superFaint(t,e)}}class NP extends S{constructor(t,e,i,s,r,o,a,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Sword Fish",this.tier=5,this.pack="Star",this.attack=5,this.health=5,this.initPet(a,s,r,o,l)}startOfBattle(t,e){let s=this.parent.opponent.getHighestHealthPet(),r=s.pet,o=this.attack*this.level;null!=r&&this.snipePet(r,o,s.random,e),this.snipePet(this,o,!1,e),this.superStartOfBattle(t,e)}}class RP extends S{constructor(t,e,i,s,r,o,a,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Polar Bear",this.tier=5,this.pack="Star",this.attack=4,this.health=8,this.initPet(a,s,r,o,l)}}class LP extends S{constructor(t,e,i,s,r,o,a,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Siberian Husky",this.tier=5,this.pack="Star",this.attack=4,this.health=3,this.initPet(a,s,r,o,l)}}class BP extends S{constructor(t,e,i,s,r,o,a,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Lion",this.tier=5,this.pack="Star",this.attack=6,this.health=6,this.initPet(a,s,r,o,l)}startOfBattle(t,e){let i=this.parent.petArray.filter(o=>o!==this),s=0;for(let o of i)o.tier>s&&(s=o.tier);let r=.5*this.level;this.tier<=s||(this.increaseAttack(Math.floor(this.attack*r)),this.increaseHealth(Math.floor(this.health*r)),this.logService.createLog({message:`${this.name} increased its attack and health by ${100*r}% (${this.attack}/${this.health})`,type:"ability",player:this.parent,tiger:e}),this.superStartOfBattle(t,e))}}class VP extends S{constructor(t,e,i,s,r,o,a,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Triceratops",this.tier=5,this.pack="Star",this.attack=5,this.health=6,this.initPet(a,s,r,o,l)}hurt(t,e,i){let s=this.parent.getRandomPet([this],!0,null,!0),r=3*this.level;null!=s&&(s.increaseAttack(r),s.increaseHealth(r),this.logService.createLog({message:`${this.name} gave ${s.name} ${r} attack and ${r} health.`,type:"ability",player:this.parent,tiger:i,randomEvent:!0}),this.superHurt(t,e,i))}}class $P extends S{constructor(t,e,i,s,r,o,a,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Zebra",this.tier=5,this.pack="Star",this.attack=3,this.health=5,this.initPet(a,s,r,o,l)}}class FP extends S{constructor(t,e,i,s,r,o,a,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Fox",this.tier=5,this.pack="Star",this.attack=6,this.health=4,this.initPet(a,s,r,o,l)}}class HP extends S{constructor(t,e,i,s,r,o,a,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Hamster",this.tier=5,this.pack="Star",this.attack=2,this.health=4,this.initPet(a,s,r,o,l)}}class qP extends S{constructor(t,e,i,s,r,o,a,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Shoebill",this.tier=5,this.pack="Star",this.attack=2,this.health=4,this.initPet(a,s,r,o,l)}}class GP extends S{constructor(t,e,i,s,r,o,a,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Vulture",this.tier=5,this.pack="Star",this.attack=4,this.health=3,this.initPet(a,s,r,o,l)}friendFaints(t,e,i){if(i||this.abilityUses++,this.abilityUses%2==1)return;let r=this.parent.opponent.getRandomPet(null,null,!0);null!=r&&(this.snipePet(r,4*this.level,!0,i),this.superFriendFaints(t,e,i))}}class UP extends S{constructor(t,e,i,s,r,o,a,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Komodo",this.tier=6,this.pack="Star",this.attack=6,this.health=6,this.initPet(a,s,r,o,l)}endTurn(t){if(!t.komodoShuffle)return;let i=this.position;if(0==i)return;let r=this.shufflePets(0,i).map(o=>o.name).join(", ");this.logService.createLog({message:`${this.name} shuffled positions of pets (${r}).`,type:"ability",player:this.parent,randomEvent:!0})}shufflePets(t,e){let i=this.parent.petArray.slice(t,e);Np(i);for(let s=0;s<i.length;s++)this.parent[`pet${s}`]=i[s];return i}}class jP extends S{constructor(t,e,i,s,r,o,a,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Ostrich",this.tier=6,this.pack="Star",this.attack=2,this.health=8,this.initPet(a,s,r,o,l)}}class WP extends S{constructor(t,e,i,s,r,o,a,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Reindeer",this.tier=6,this.pack="Star",this.attack=6,this.health=4,this.initPet(a,s,r,o,l)}beforeAttack(t,e){this.abilityUses>=this.maxAbilityUses||(this.givePetEquipment(new Ur),this.abilityUses++,this.logService.createLog({message:`${this.name} gained Melon.`,type:"ability",player:this.parent,tiger:e}),this.superAfterAttack(t,e))}setAbilityUses(){super.setAbilityUses(),this.maxAbilityUses=this.level}}class zP extends S{constructor(t,e,i,s,r,o,a,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Stegosaurus",this.tier=6,this.pack="Star",this.attack=3,this.health=8,this.initPet(a,s,r,o,l)}startOfBattle(t,e){let i=this.parent.petArray.filter(o=>null!=o.equipment),s=this.parent.getRandomPet([...i,this],!0,!1,!0);if(null==s)return;let r=this.level*t.turnNumber;s.increaseAttack(r),s.increaseHealth(r),this.logService.createLog({message:`${this.name} gave ${s.name} ${r} attack and ${r} health.`,type:"ability",player:this.parent,tiger:e,randomEvent:!0}),this.superStartOfBattle(t,e)}}class KP extends S{constructor(t,e,i,s,r,o,a,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Piranha",this.tier=6,this.pack="Star",this.attack=10,this.health=4,this.initPet(a,s,r,o,l)}hurt(t,e,i){let s=this.parent.petArray.filter(o=>o!==this&&o.alive),r=3*this.level;for(let o of s)o.increaseAttack(r),this.logService.createLog({message:`${this.name} gave ${o.name} ${r} attack.`,type:"ability",player:this.parent,tiger:i});this.superHurt(t,e,i)}}class YP extends S{constructor(t,e,i,s,r,o,a,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Hammerhead Shark",this.tier=6,this.pack="Star",this.attack=5,this.health=5,this.initPet(a,s,r,o,l)}}class QP extends S{constructor(t,e,i,s,r,o,a,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Velociraptor",this.tier=6,this.pack="Star",this.attack=3,this.health=2,this.initPet(a,s,r,o,l)}startOfBattle(t,e){let i=this.parent.getPetsWithEquipment("Strawberry").filter(r=>r!==this&&r.alive);i=(0,ge.shuffle)(i);let s=[];for(let r=0;r<this.level&&null!=i[r];r++)s.push(i[r]);for(let r of s)r.givePetEquipment(new jr),this.logService.createLog({message:`${this.name} gave ${r.name} Coconut.`,type:"ability",player:this.parent,tiger:e,randomEvent:this.level<i.length})}}class JP extends S{constructor(t,e,i,s,r,o,a,l,h){super(t,e,s),this.logService=t,this.abilityService=e,this.petService=i,this.name="Sabertooth Tiger",this.tier=6,this.pack="Star",this.attack=6,this.health=6,this.initPet(l,r,o,a,h)}hurt(t,e,i){let r,s=5*this.level;r=this.parent==t.player?t.playerPetPool.get(1):t.opponentPetPool.get(1);let o=r[Math.floor(Math.random()*r.length)];this.abilityService.setSpawnEvent({callback:()=>{let a=this.petService.createPet({name:o,attack:s,health:s,equipment:null,mana:0,exp:0},this.parent);this.logService.createLog({message:`${this.name} spawned ${a.name} (${s}/${s}).`,type:"ability",player:this.parent,tiger:i,randomEvent:!0}),this.parent.summonPet(a,this.savedPosition)&&this.abilityService.triggerSummonedEvents(a)},priority:this.attack}),super.superHurt(t,e,i)}}class ZP extends S{constructor(t,e,i,s,r,o,a,l,h){super(t,e,s),this.logService=t,this.abilityService=e,this.petService=i,this.name="Orca",this.tier=6,this.pack="Star",this.attack=4,this.health=8,this.initPet(l,r,o,a,h)}faint(t,e,i){for(let s=0;s<this.level;s++){let r=this.petService.getRandomFaintPet(this.parent);this.abilityService.setSpawnEvent({callback:()=>{this.logService.createLog({message:`${this.name} spawned ${r.name}.`,type:"ability",player:this.parent,tiger:e,randomEvent:!0,pteranodon:i}),this.parent.summonPet(r,this.savedPosition)&&this.abilityService.triggerSummonedEvents(r)},priority:this.attack}),super.superFaint(t,e)}}}class XP extends S{constructor(t,e,i,s,r,o,a,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Spinosaurus",this.tier=6,this.pack="Star",this.attack=4,this.health=8,this.initPet(a,s,r,o,l)}friendFaints(t,e,i){let s={attack:3*this.level,health:2*this.level},r=this.parent.getRandomPet([this],!0,!1,!0);null!=r&&(r.increaseAttack(s.attack),r.increaseHealth(s.health),this.logService.createLog({message:`${this.name} gave ${r.name} ${s.attack} attack and ${s.health} health.`,type:"ability",player:this.parent,tiger:i,randomEvent:!0}))}}class eA extends S{constructor(t,e,i,s,r,o,a,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Bulldog",this.tier=1,this.pack="Golden",this.attack=1,this.health=3,this.initPet(a,s,r,o,l)}afterAttack(t,e){!this.alive||(this.attack=Math.min(50,this.health+this.level),this.logService.createLog({message:`${this.name} attack is set to ${this.attack}.`,type:"ability",player:this.parent,tiger:e}),this.superAfterAttack(t,e))}}class w_ extends S{constructor(t,e,i,s,r,o,a,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Groundhog",this.tier=1,this.pack="Golden",this.attack=2,this.health=1,this.initPet(a,s,r,o,l)}faint(t,e,i){this.parent.gainTrumpets(this.level,this,i),this.superFaint(t,e)}}class tA extends S{constructor(t,e,i,s,r,o,a,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Cone Snail",this.tier=1,this.pack="Golden",this.attack=1,this.health=2,this.initPet(a,s,r,o,l)}startOfBattle(t,e){let i=this.petBehind();if(null==i)return;let s=2*this.level;i.increaseHealth(s),this.logService.createLog({message:`${this.name} gave ${i.name} ${s} health.`,type:"ability",player:this.parent,tiger:e}),this.superStartOfBattle(t,e)}}class iA extends S{constructor(t,e,i,s,r,o,a,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Goose",this.tier=1,this.pack="Golden",this.attack=2,this.health=2,this.initPet(a,s,r,o,l)}startOfBattle(t,e){let i=this.parent.opponent.furthestUpPet;if(null==i)return;let s=this.level;i.increaseAttack(-this.level),this.logService.createLog({message:`${this.name} removed ${s} attack from ${i.name}.`,type:"ability",player:this.parent,tiger:e}),this.superStartOfBattle(t,e)}}class nA extends S{constructor(t,e,i,s,r,o,a,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Pied Tamarin",this.tier=1,this.pack="Golden",this.attack=1,this.health=2,this.initPet(a,s,r,o,l)}faint(t,e,i){if(this.parent.trumpets<1)return;let s=this.parent.opponent.getRandomPets(this.level,null,null,!0);for(let r of s)this.snipePet(r,3,!0,e,i);s.length>0&&this.parent.spendTrumpets(1,this,i)}}class sA extends S{constructor(t,e,i,s,r,o,a,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Silkmoth",this.tier=1,this.pack="Golden",this.attack=3,this.health=1,this.maxAbilityUses=2,this.initPet(a,s,r,o,l)}friendHurt(t,e,i){if(this.abilityUses>=this.maxAbilityUses||e!=this.petAhead||!e.alive)return;let s=this.level;e.increaseHealth(s),this.logService.createLog({message:`${this.name} gave ${e.name} ${s} health.`,type:"ability",player:this.parent,tiger:i}),this.abilityUses++,this.superFriendHurt(t,e,i)}}class rA extends S{constructor(t,e,i,s,r,o,a,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Magpie",this.tier=1,this.pack="Golden",this.attack=1,this.health=4,this.initPet(a,s,r,o,l)}}class oA extends S{constructor(t,e,i,s,r,o,a,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Hercules Beetle",this.tier=2,this.pack="Golden",this.attack=3,this.health=4,this.initPet(a,s,r,o,l)}}class aA extends S{constructor(t,e,i,s,r,o,a,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Stoat",this.tier=2,this.pack="Golden",this.attack=2,this.health=2,this.initPet(a,s,r,o,l)}}class lA extends S{constructor(t,e,i,s,r,o,a,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Black Necked Stilt",this.tier=2,this.pack="Golden",this.attack=3,this.health=2,this.initPet(a,s,r,o,l)}faint(t,e,i){this.parent.gainTrumpets(2*this.level,this,i),this.superFaint(t,e)}}class cA extends Ee{constructor(){super(...arguments),this.name="Ink",this.equipmentClass="ailment-attack",this.power=-3,this.originalPower=-3}}class uA extends S{constructor(t,e,i,s,r,o,a,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Squid",this.tier=2,this.pack="Golden",this.attack=5,this.health=2,this.initPet(a,s,r,o,l)}faint(t,e,i){if(this.parent.trumpets<1)return;let s=!1,r=this.parent.opponent.petArray.filter(o=>{var a;return o.health>0&&"Ink"!=(null===(a=o.equipment)||void 0===a?void 0:a.name)});for(let o=0;o<this.level;o++){let a=r[o];if(null==a)break;s=!0,a.givePetEquipment(new cA),this.logService.createLog({message:`${this.name} gave ${a.name} Ink.`,type:"ability",player:this.parent,tiger:e,pteranodon:i})}s&&this.parent.spendTrumpets(1,this,i),this.superFaint(t,e)}}class hA extends S{constructor(t,e,i,s,r,o,a,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Sea Urchin",this.tier=2,this.pack="Golden",this.attack=3,this.health=2,this.initPet(a,s,r,o,l)}faint(t,e,i){let s=[this.parent.opponent.furthestUpPet];if(null!=s[0]){for(let r=0;r<this.level-1;r++){let a=s[r].petBehind();if(null==a)break;s.push(a)}for(let r of s)r.increaseHealth(-5),this.logService.createLog({message:`${this.name} removed 5 health from ${r.name}.`,type:"ability",player:this.parent,tiger:e,pteranodon:i});this.superFaint(t,e)}}}class dA extends S{constructor(t,e,i,s,r,o,a,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Door Head Ant",this.tier=2,this.pack="Golden",this.attack=2,this.health=2,this.initPet(a,s,r,o,l)}emptyFrontSpace(t,e){if(null!=this.parent.pet0)return;this.parent.pushPetToFront(this,!0),this.logService.createLog({message:`${this.name} pushed itself to the front.`,type:"ability",player:this.parent,tiger:e});let i=4*this.level;this.increaseHealth(i),this.logService.createLog({message:`${this.name} gained ${i} health.`,type:"ability",player:this.parent,tiger:e})}}class C_ extends S{constructor(t,e,i,s,r,o,a,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Lizard Tail",this.tier=1,this.pack="Golden",this.hidden=!0,this.attack=3,this.health=1,this.initPet(a,s,r,o,l)}}class fA extends S{constructor(t,e,i,s,r,o,a,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Lizard",this.tier=2,this.pack="Golden",this.attack=1,this.health=3,this.maxAbilityUses=2,this.initPet(a,s,r,o,l)}hurt(t,e,i){this.abilityUses>=this.maxAbilityUses||(this.abilityService.setSpawnEvent({callback:()=>{let s=new C_(this.logService,this.abilityService,this.parent,null,null,this.minExpForLevel);this.logService.createLog({message:`${this.name} spawned Liazrd Tail Level ${this.level}`,type:"ability",player:this.parent,tiger:i}),this.parent.summonPet(s,this.savedPosition)&&this.abilityService.triggerSummonedEvents(s)},priority:this.attack}),this.abilityUses++,super.superFaint(t,i))}}class pA extends S{constructor(t,e,i,s,r,o,a,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Sea Turtle",this.tier=2,this.pack="Golden",this.attack=2,this.health=5,this.initPet(a,s,r,o,l)}friendSummoned(t,e,i){let s=3*this.level;e.increaseHealth(s),this.logService.createLog({message:`${this.name} gave ${e.name} ${s} health.`,type:"ability",player:this.parent,tiger:i}),this.superFriendSummoned(e,i)}}class gA extends S{constructor(t,e,i,s,r,o,a,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="African Penguin",this.tier=2,this.pack="Golden",this.attack=1,this.health=3,this.initPet(a,s,r,o,l)}}class mA extends S{constructor(t,e,i,s,r,o,a,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Musk Ox",this.tier=3,this.pack="Golden",this.attack=2,this.health=4,this.initPet(a,s,r,o,l)}friendAheadFaints(t,e,i){let s={attack:this.level,health:2*this.level};this.increaseAttack(s.attack),this.increaseHealth(s.health),this.logService.createLog({message:`${this.name} gained ${s.attack} attack and ${s.health} health.`,type:"ability",player:this.parent,tiger:i}),this.superFriendAheadFaints(t,e,i)}}class vA extends S{constructor(t,e,i,s,r,o,a,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Flea",this.tier=3,this.pack="Golden",this.attack=4,this.health=2,this.initPet(a,s,r,o,l)}faint(t,e,i){let s=(0,ge.clone)(this.parent.opponent.petArray);(0,ge.shuffle)(s),s=s.sort((r,o)=>r.health>o.health?-1:o.health>r.health?1:0).filter(r=>{var o;return"Weak"!=(null===(o=r.equipment)||void 0===o?void 0:o.name)});for(let r=0;r<this.level;r++){let o=s[r];if(null==o)break;o.givePetEquipment(new jo),this.logService.createLog({message:`${this.name} gave ${o.name} Weak.`,type:"ability",player:this.parent,tiger:e,pteranodon:i})}this.superFaint(t,e)}}class yA extends S{constructor(t,e,i,s,r,o,a,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Surgeon Fish",this.tier=3,this.pack="Golden",this.attack=3,this.health=3,this.initPet(a,s,r,o,l)}beforeAttack(t,e){let i=this.petBehind();if(null==i||this.parent.trumpets<2)return;this.parent.spendTrumpets(2,this);let s=6*this.level;i.increaseHealth(s),this.logService.createLog({message:`${this.name} gave ${i.name} ${s} health.`,type:"ability",player:this.parent,tiger:e}),this.superBeforeAttack(t,e)}}class _A extends S{constructor(t,e,i,s,r,o,a,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Weasel",this.tier=3,this.pack="Golden",this.attack=3,this.health=4,this.initPet(a,s,r,o,l)}faint(t,e,i){this.logService.createLog({message:`${this.name} gained ${this.level} Gold.`,type:"ability",player:this.parent,tiger:e,pteranodon:i}),this.superFaint(t,e)}}class bA extends S{constructor(t,e,i,s,r,o,a,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Guineafowl",this.tier=3,this.pack="Golden",this.attack=2,this.health=4,this.initPet(a,s,r,o,l)}hurt(t,e,i){this.parent.gainTrumpets(2*this.level,this),this.superHurt(t,e,i)}}class SA extends S{constructor(t,e,i,s,r,o,a,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Betta Fish",this.tier=3,this.pack="Golden",this.attack=2,this.health=3,this.initPet(a,s,r,o,l)}faint(t,e,i){let s=this.petBehind();if(null==s)return;let r={health:2*this.level,attack:4*this.level};s.increaseAttack(r.attack),s.increaseHealth(r.health),this.logService.createLog({message:`${this.name} gave ${s.name} ${r.attack} attack and ${r.health} health.`,type:"ability",player:this.parent,tiger:e,pteranodon:i}),this.superFaint(t,e)}}class EA extends S{constructor(t,e,i,s,r,o,a,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Meerkat",this.tier=3,this.pack="Golden",this.attack=1,this.health=3,this.initPet(a,s,r,o,l)}startOfBattle(t,e){let i;i=this.parent==t.player?t.playerGoldSpent:t.opponentGoldSpent;let s=Math.floor(i/3)*this.level,r=this.petAhead,o=this.petBehind();null!=r&&(r.increaseAttack(s),this.logService.createLog({message:`${this.name} gave ${r.name} ${s} attack.`,type:"ability",player:this.parent,tiger:e})),null!=o&&(o.increaseAttack(s),this.logService.createLog({message:`${this.name} gave ${o.name} ${s} attack.`,type:"ability",player:this.parent,tiger:e})),this.superFaint(t,e)}}class wA extends S{constructor(t,e,i,s,r,o,a,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Flying Fish",this.tier=3,this.pack="Golden",this.attack=3,this.health=2,this.maxAbilityUses=2,this.initPet(a,s,r,o,l)}friendSummoned(t,e,i){if(this.abilityUses>=this.maxAbilityUses)return;let s=2*this.level;this.logService.createLog({message:`${this.name} gave ${e.name} ${s} exp.`,type:"ability",player:this.parent,tiger:i}),e.increaseExp(s),this.abilityUses++,this.superFriendSummoned(e,i)}}class CA extends S{constructor(t,e,i,s,r,o,a,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Baboon",this.tier=3,this.pack="Golden",this.attack=1,this.health=2,this.initPet(a,s,r,o,l)}}class kA extends S{constructor(t,e,i,s,r,o,a,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Osprey",this.tier=3,this.pack="Golden",this.attack=3,this.health=3,this.initPet(a,s,r,o,l)}faint(t,e,i){for(let s=0;s<this.level;s++)this.abilityService.setSpawnEvent({callback:()=>{let r=new w_(this.logService,this.abilityService,this.parent,null,null,0);this.logService.createLog({message:`${this.name} summoned a 2/1 Groundhog`,type:"ability",player:this.parent,tiger:e,pteranodon:i}),this.parent.summonPet(r,this.savedPosition)&&this.abilityService.triggerSummonedEvents(r)},priority:this.attack});super.superFaint(t,e)}}class DA extends S{constructor(t,e,i,s,r,o,a,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Manatee",this.tier=4,this.pack="Golden",this.attack=2,this.health=11,this.initPet(a,s,r,o,l)}}class PA extends S{constructor(t,e,i,s,r,o,a,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Cuttlefish",this.tier=4,this.pack="Golden",this.attack=8,this.health=4,this.initPet(a,s,r,o,l)}faint(t,e,i){let s=this.parent.opponent.petArray,r=[];for(let o=0;o<this.level;o++){let a=s[s.length-(o+1)];if(null==a)break;r.push(a)}for(let o of r)o.givePetEquipment(new cA),this.logService.createLog({message:`${this.name} gave ${o.name} Ink.`,type:"ability",player:this.parent,tiger:e,pteranodon:i});this.superFaint(t,e)}}class AA extends S{constructor(t,e,i,s,r,o,a,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Egyptian Vulture",this.tier=5,this.pack="Golden",this.attack=7,this.health=4,this.initPet(a,s,r,o,l)}knockOut(t,e,i){if(this.abilityUses>=this.maxAbilityUses)return;let s=this.petBehind();for(;null!=s&&null==s.faint;)s=s.petBehind();null!=s&&null!=s.faint&&(this.logService.createLog({message:`${this.name} activated ${s.name}'s ability.`,type:"ability",player:this.parent,tiger:i}),s.faint(t,!1))}setAbilityUses(){super.setAbilityUses(),this.maxAbilityUses=this.level}}class TA extends S{constructor(t,e,i,s,r,o,a,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Saiga Antelope",this.tier=4,this.pack="Golden",this.attack=4,this.health=3,this.initPet(a,s,r,o,l)}friendFaints(t,e,i){!this.alive||this.parent.gainTrumpets(this.level,this)}}class xA extends S{constructor(t,e,i,s,r,o,a,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Sealion",this.tier=4,this.pack="Golden",this.attack=3,this.health=6,this.initPet(a,s,r,o,l)}}class MA extends S{constructor(t,e,i,s,r,o,a,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Vaquita",this.tier=4,this.pack="Golden",this.attack=3,this.health=4,this.initPet(a,s,r,o,l)}faint(t,e,i){let s=Math.floor(.5*this.level*this.parent.trumpets);this.parent.gainTrumpets(s,this,i)}}class k_ extends S{constructor(t,e,i,s,r,o,a,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Smallest Slug",this.tier=1,this.pack="Golden",this.hidden=!0,this.health=1,this.attack=1,this.initPet(a,s,r,o,l)}}class D_ extends S{constructor(t,e,i,s,r,o,a,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Smaller Slug",this.tier=1,this.pack="Golden",this.hidden=!0,this.health=2,this.attack=2,this.initPet(a,s,r,o,l)}faint(t,e,i){this.abilityService.setSpawnEvent({callback:()=>{let s=new k_(this.logService,this.abilityService,this.parent,null,null,this.minExpForLevel);this.logService.createLog({message:`${this.name} spawned Smallest Slug Level ${this.level}`,type:"ability",player:this.parent,tiger:e,pteranodon:i}),this.parent.summonPet(s,this.savedPosition)&&this.abilityService.triggerSummonedEvents(s)},priority:this.attack}),super.superFaint(t,e)}}class IA extends S{constructor(t,e,i,s,r,o,a,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Slug",this.tier=4,this.pack="Golden",this.attack=4,this.health=4,this.initPet(a,s,r,o,l)}faint(t,e,i){this.abilityService.setSpawnEvent({callback:()=>{let s=new D_(this.logService,this.abilityService,this.parent,null,null,this.minExpForLevel);this.logService.createLog({message:`${this.name} spawned Smaller Slug Level ${this.level}`,type:"ability",player:this.parent,tiger:e,pteranodon:i}),this.parent.summonPet(s,this.savedPosition)&&this.abilityService.triggerSummonedEvents(s)},priority:this.attack}),super.superFaint(t,e)}}class OA extends S{constructor(t,e,i,s,r,o,a,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Poison Dart Frog",this.tier=4,this.pack="Golden",this.attack=5,this.health=2,this.initPet(a,s,r,o,l)}friendAheadFaints(t,e,i){let s=this.parent.opponent.getHighestHealthPet(),r=s.pet;null!=r&&this.snipePet(r,4*this.level,s.random,i)}}class NA extends S{constructor(t,e,i,s,r,o,a,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Secretary Bird",this.tier=4,this.pack="Golden",this.attack=2,this.health=5,this.initPet(a,s,r,o,l)}friendFaints(t,e,i){if(i||this.abilityUses++,this.abilityUses%2==1)return;let s=this.petAhead;if(null==s)return;let r=3*this.level;s.increaseAttack(r),s.increaseHealth(r),this.logService.createLog({message:`${this.name} gave ${s.name} ${r} attack and ${r} health.`,type:"ability",player:this.parent,tiger:i}),this.superFriendFaints(t,e,i)}}class RA extends S{constructor(t,e,i,s,r,o,a,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Royal Flycatcher",this.tier=3,this.pack="Golden",this.attack=2,this.health=4,this.initPet(a,s,r,o,l)}enemySummoned(t,e,i){let s=this.parent.opponent.getRandomPet(null,null,!0);null!=s&&(this.snipePet(s,3*this.level,!0,i),this.superEnemySummoned(t,e,i))}}class LA extends S{constructor(t,e,i,s,r,o,a,l,h){super(t,e,s),this.logService=t,this.abilityService=e,this.petService=i,this.name="Falcon",this.tier=4,this.pack="Golden",this.attack=5,this.health=5,this.maxAbilityUses=3,this.initPet(l,r,o,a,h)}knockOut(t,e,i){this.abilityUses>=this.maxAbilityUses||(this.abilityService.setSpawnEvent({callback:()=>{let s=3*this.level,r=this.petService.createPet({attack:s,health:s,name:e.name,exp:this.minExpForLevel,equipment:null,mana:0},this.parent);this.logService.createLog({message:`${this.name} spawned ${r.name} ${s}/${s} Level ${this.level}`,type:"ability",player:this.parent,tiger:i}),this.parent.summonPet(r,this.savedPosition)&&this.abilityService.triggerSummonedEvents(r)},priority:this.attack}),this.abilityUses++,super.superKnockOut(t,e,i))}}class BA extends S{constructor(t,e,i,s,r,o,a,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Manta Ray",this.tier=4,this.pack="Golden",this.attack=5,this.health=6,this.initPet(a,s,r,o,l)}}class VA extends S{constructor(t,e,i,s,r,o,a,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Macaque",this.tier=5,this.pack="Golden",this.attack=2,this.health=2,this.initPet(a,s,r,o,l)}startOfBattle(t,e){let i=12*this.level,s=new E_(this.logService,this.abilityService,this.parent,i,i,0,this.minExpForLevel,(0,ge.cloneDeep)(this.equipment)),r=`${this.name} spawned Orangutang ${s.attack}/${s.health}`;null!=this.equipment&&(r+=` with ${this.equipment.name}`),r+=".",this.logService.createLog({message:r,type:"ability",player:this.parent,tiger:e}),this.parent.summonPet(s,this.position)&&this.abilityService.triggerSummonedEvents(s),this.superStartOfBattle(t,e)}}class $A extends S{constructor(t,e,i,s,r,o,a,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Nyala",this.tier=5,this.pack="Golden",this.attack=3,this.health=4,this.initPet(a,s,r,o,l)}faint(t,e,i){this.parent.gainTrumpets(8*this.level,this,i),this.superFaint(t,e)}}class FA extends S{constructor(t,e,i,s,r,o,a,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Nurse Shark",this.tier=5,this.pack="Golden",this.attack=4,this.health=6,this.initPet(a,s,r,o,l)}faint(t,e,i){if(0==this.parent.trumpets)return;let s=3*Math.min(this.parent.trumpets,6),r=!1,o=(0,ge.shuffle)((0,ge.clone)(this.parent.opponent.petArray));for(let a=0;a<this.level;a++){let l=o[a];if(null==l)break;r=!0,this.snipePet(l,s,!0,e,i)}r&&this.parent.spendTrumpets(Math.min(this.parent.trumpets,6),this,i),this.superFaint(t,e)}}class HA extends S{constructor(t,e,i,s,r,o,a,l,h,f){super(t,e,s),this.logService=t,this.abilityService=e,this.petService=i,this.name="Beluga Whale",this.tier=5,this.pack="Golden",this.attack=3,this.health=8,this.initPet(l,r,o,a,h),this.belugaSwallowedPet=f}faint(t,e,i){null!=this.belugaSwallowedPet&&(this.abilityService.setSpawnEvent({callback:()=>{let s=this.petService.createPet({attack:null,equipment:null,exp:this.minExpForLevel,health:null,name:this.belugaSwallowedPet,mana:0},this.parent);this.logService.createLog({message:`${this.name} spawned ${s.name} Level ${this.level}`,type:"ability",player:this.parent,tiger:e,pteranodon:i}),this.parent.summonPet(s,this.savedPosition)&&this.abilityService.triggerSummonedEvents(s)},priority:this.attack}),super.superFaint(t,e))}}class qA extends S{constructor(t,e,i,s,r,o,a,l,h){super(t,e,s),this.logService=t,this.abilityService=e,this.petService=i,this.name="Wolf",this.tier=5,this.pack="Golden",this.attack=4,this.health=4,this.initPet(l,r,o,a,h)}faint(t,e,i){let s={attack:3*this.level,health:2*this.level};for(let r=0;r<3;r++)this.abilityService.setSpawnEvent({callback:()=>{let o=this.petService.createPet({attack:s.attack,equipment:null,exp:this.minExpForLevel,health:s.health,name:"Pig",mana:0},this.parent);this.logService.createLog({message:`${this.name} spawned ${o.name} ${s.attack}/${s.health}`,type:"ability",player:this.parent,tiger:e,pteranodon:i}),this.parent.summonPet(o,this.savedPosition)&&this.abilityService.triggerSummonedEvents(o)},priority:this.attack});this.superFaint(t,e)}}class GA extends S{constructor(t,e,i,s,r,o,a,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Silver Fox",this.tier=5,this.pack="Golden",this.attack=3,this.health=6,this.initPet(a,s,r,o,l)}beforeAttack(t,e){this.logService.createLog({message:`${this.name} gained ${this.level} Gold.`,type:"ability",player:this.parent,tiger:e}),this.superBeforeAttack(t,e)}}class UA extends S{constructor(t,e,i,s,r,o,a,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Fire Ant",this.tier=5,this.pack="Golden",this.attack=6,this.health=4,this.initPet(a,s,r,o,l)}faint(t,e,i){let s=(0,ge.shuffle)(this.parent.petArray.filter(r=>r!=this));s.sort((r,o)=>o.tier-r.tier);for(let r=0;r<this.level;r++){let o=s[r];if(null==o)break;o.increaseAttack(this.attack),this.logService.createLog({message:`${this.name} gave ${o.name} ${this.attack} attack.`,type:"ability",player:this.parent,tiger:e,randomEvent:!0,pteranodon:i})}super.superFaint(t,e)}}class jA extends S{constructor(t,e,i,s,r,o,a,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Cockatoo",this.tier=4,this.pack="Golden",this.attack=4,this.health=2,this.initPet(a,s,r,o,l)}}class WA extends S{constructor(t,e,i,s,r,o,a,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Blue Ringed Octopus",this.tier=5,this.pack="Golden",this.attack=2,this.health=4,this.initPet(a,s,r,o,l)}}class zA extends S{constructor(t,e,i,s,r,o,a,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Crane",this.tier=5,this.pack="Golden",this.attack=6,this.health=5,this.initPet(a,s,r,o,l)}friendHurt(t,e,i){e==this.petAhead&&(this.abilityUses>=this.maxAbilityUses||(this.petAhead.increaseAttack(5),this.logService.createLog({message:`${this.name} gave ${this.petAhead.name} 5 attack.`,type:"ability",player:this.parent,tiger:i}),this.petAhead.givePetEquipment(new Ur),this.logService.createLog({message:`${this.name} gave ${this.petAhead.name} a Melon.`,type:"ability",player:this.parent,tiger:i}),this.abilityUses++,this.superFriendHurt(t,e,i)))}setAbilityUses(){super.setAbilityUses(),this.maxAbilityUses=this.level}}class KA extends S{constructor(t,e,i,s,r,o,a,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Emu",this.tier=5,this.pack="Golden",this.attack=3,this.health=4,this.initPet(a,s,r,o,l)}emptyFrontSpace(t,e){let i=this.petAhead;if(!i||null!=this.parent.pet0)return;this.parent.pushPet(i,4),this.logService.createLog({message:`${this.name} pushed ${i.name} to the front.`,type:"ability",player:this.parent,tiger:e});let s=4*this.level;i.increaseHealth(s),this.logService.createLog({message:`${this.name} gave ${i.name} ${s} health.`,type:"ability",player:this.parent,tiger:e})}}class YA extends S{constructor(t,e,i,s,r,o,a,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Wildebeast",this.tier=6,this.pack="Golden",this.attack=8,this.health=6,this.initPet(a,s,r,o,l)}beforeAttack(t,e){this.parent.trumpets<4||this.abilityUses>=this.maxAbilityUses||(this.givePetEquipment(new jr),this.logService.createLog({message:`${this.name} gave itself a Coconut.`,type:"ability",player:this.parent,tiger:e}),this.parent.spendTrumpets(4,this),this.abilityUses++)}setAbilityUses(){super.setAbilityUses(),this.maxAbilityUses=this.level}}class QA extends S{constructor(t,e,i,s,r,o,a,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Highland Cow",this.tier=6,this.pack="Golden",this.attack=4,this.health=12,this.initPet(a,s,r,o,l)}startOfBattle(t,e){let i=Math.floor(this.health/3*this.level);this.parent.gainTrumpets(i,this)}}class JA extends S{constructor(t,e,i,s,r,o,a,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Catfish",this.tier=6,this.pack="Golden",this.attack=3,this.health=3,this.initPet(a,s,r,o,l)}}class ZA extends S{constructor(t,e,i,s,r,o,a,l,h){super(t,e,s),this.logService=t,this.abilityService=e,this.petService=i,this.name="Pteranodon",this.tier=6,this.pack="Golden",this.attack=5,this.health=3,this.initPet(l,r,o,a,h)}friendFaints(t,e,i){this.abilityUses>=this.maxAbilityUses||e.name!=this.name&&(!this.alive||(this.abilityService.setSpawnEvent({callback:()=>{let s=this.petService.createPet({attack:1,health:1,equipment:null,exp:e.exp,name:e.name,mana:0},this.parent);this.logService.createLog({message:`${this.name} summoned a 1/1 ${e.name} behind it.`,type:"ability",player:this.parent,randomEvent:!1,tiger:i}),this.parent.summonPet(s,this.position)&&this.abilityService.triggerSummonedEvents(s)},priority:this.attack}),this.abilityUses++))}setAbilityUses(){super.setAbilityUses(),this.maxAbilityUses=this.level}}class XA extends S{constructor(t,e,i,s,r,o,a,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Warthog",this.tier=6,this.pack="Golden",this.attack=9,this.health=6,this.initPet(a,s,r,o,l)}faint(t,e,i){let s=this.level,r=Math.floor(this.attack/3);for(let o=0;o<r;o++){let a=this.parent.getRandomPet(null,!0,null,!0);if(null==a)break;a.increaseAttack(s),a.increaseHealth(s),this.logService.createLog({message:`${this.name} gave ${a.name} ${s} attack and ${s} health.`,type:"ability",player:this.parent,tiger:e,pteranodon:i,randomEvent:!0})}}}class e1 extends S{constructor(t,e,i,s,r,o,a,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Cobra",this.tier=6,this.pack="Golden",this.attack=12,this.health=6,this.initPet(a,s,r,o,l)}friendAheadAttacks(t,e,i){let s=this.parent.opponent.getRandomPet(null,null,!0);if(null==s)return;let r=Math.floor(.2*this.attack*this.level);this.snipePet(s,r,!0,i)}}class t1 extends S{constructor(t,e,i,s,r,o,a,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Grizzly Bear",this.tier=6,this.pack="Golden",this.attack=6,this.health=6,this.initPet(a,s,r,o,l)}friendAttacks(t,e){if(e||this.abilityUses++,this.abilityUses%5!=0)return;let i=(0,ge.shuffle)(this.parent.opponent.petArray),s=6*this.level;for(let r=0;r<2;r++){let o=i[r];if(null==o)break;this.snipePet(o,s,!0,e)}this.superFriendAttacks(t,e)}}class i1 extends S{constructor(t,e,i,s,r,o,a,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="German Shephard",this.tier=6,this.pack="Golden",this.attack=10,this.health=4,this.initPet(a,s,r,o,l)}friendSummoned(t,e,i){let s=Math.floor(this.attack*this.level*.25);e.increaseAttack(s),this.logService.createLog({message:`${this.name} gave ${e.name} ${s} attack.`,type:"ability",player:this.parent,tiger:i})}}class n1 extends S{constructor(t,e,i,s,r,o,a,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Bird of Paradise",this.tier=6,this.pack="Golden",this.attack=3,this.health=3,this.initPet(a,s,r,o,l)}}class s1 extends S{constructor(t,e,i,s,r,o,a,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Oyster",this.tier=6,this.pack="Golden",this.attack=2,this.health=10,this.initPet(a,s,r,o,l)}}class r1 extends S{constructor(t,e,i,s,r,o,a,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Marmoset",this.tier=1,this.pack="Star",this.attack=2,this.health=3,this.initPet(a,s,r,o,l)}}class o1 extends S{constructor(t,e,i,s,r,o,a,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Jerboa",this.tier=4,this.pack="Custom",this.attack=1,this.health=3,this.initPet(a,s,r,o,l)}}class a1 extends S{constructor(t,e,i,s,r,o,a,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Frilled Dragon",this.tier=1,this.pack="Custom",this.attack=1,this.health=1,this.initPet(a,s,r,o,l)}startOfBattle(t,e){let i=0;for(let s of this.parent.petArray)s!==this&&null!=s.faint&&i++;i*=this.level,this.increaseAttack(i),this.increaseHealth(i),this.logService.createLog({message:`${this.name} gained ${i} attack and ${i} health.`,type:"ability",player:this.parent,tiger:e})}}class l1 extends S{constructor(t,e,i,s,r,o,a,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Wombat",this.tier=2,this.pack="Custom",this.attack=3,this.health=3,this.initPet(a,s,r,o,l)}startOfBattle(t,e){let i=wt(t,this.parent),s=[],r=0;for(let a of i.petArray)null!=a.faint&&(a.tier>r?(s=[a],r=a.tier):a.tier==r&&s.push(a));if(0==s.length)return;let o=s[Math.floor(Math.random()*s.length)];this.faint=o.faint.bind(this),this.logService.createLog({message:`${this.name} has copied ${o.name}'s faint ability as level ${this.level}.`,type:"ability",player:this.parent,tiger:e,randomEvent:s.length>1}),this.superStartOfBattle(t,e)}}class c1 extends S{constructor(t,e,i,s,r,o,a,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Aardvark",this.tier=3,this.pack="Custom",this.attack=2,this.health=3,this.initPet(a,s,r,o,l)}enemySummoned(t,e,i){let s=2*this.level;this.increaseAttack(s),this.increaseHealth(s),this.logService.createLog({message:`${this.name} gained ${s} attack and ${s} health.`,type:"ability",player:this.parent,tiger:i})}}class u1 extends S{constructor(t,e,i,s,r,o,a,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Bear",this.tier=3,this.pack="Custom",this.attack=3,this.health=5,this.initPet(a,s,r,o,l)}faint(t,e,i){let s=[],r=this.petBehind();for(;null!=r&&(s.push(r),s.length!=this.level);)r=r.petBehind();let o=[];for(r=wt(t,this.parent).petArray[0];null!=r;)if(r.alive){if(o.push(r),o.length==this.level)break;r=r.petBehind()}else r=r.petBehind();for(let a of[...s,...o])a.givePetEquipment(new Fp(this.logService,this.abilityService)),this.logService.createLog({message:`${this.name} gave ${a.name} Honey.`,type:"ability",player:this.parent,tiger:e,pteranodon:i})}}class h1 extends S{constructor(t,e,i,s,r,o,a,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Emperor Tamarin",this.tier=3,this.pack="Custom",this.attack=3,this.health=3,this.initPet(a,s,r,o,l)}}class d1 extends S{constructor(t,e,i,s,r,o,a,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Porcupine",this.tier=3,this.pack="Custom",this.attack=2,this.health=6,this.initPet(a,s,r,o,l)}hurt(t,e,i){this.snipePet(e,3*this.level)}}class f1 extends S{constructor(t,e,i,s,r,o,a,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Wasp",this.tier=3,this.pack="Custom",this.attack=2,this.health=2,this.initPet(a,s,r,o,l)}}class p1 extends S{constructor(t,e,i,s,r,o,a,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Dragonfly",this.tier=4,this.pack="Custom",this.attack=1,this.health=1,this.initPet(a,s,r,o,l)}}class g1 extends S{constructor(t,e,i,s,r,o,a,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Lynx",this.tier=4,this.pack="Custom",this.attack=5,this.health=3,this.initPet(a,s,r,o,l)}startOfBattle(t,e){let i;i=t.player==this.parent?t.opponet:t.player;let s=0;for(let o of this.parent.petArray)s+=o.level;let r=i.getRandomPets(this.level,null,null,!0);for(let o of r)this.snipePet(o,s,!0,e);super.superStartOfBattle(t,e)}}class m1 extends Ee{constructor(){super(...arguments),this.name="Steak",this.equipmentClass="attack",this.power=20,this.originalPower=20,this.uses=1,this.originalUses=1}}class v1 extends Ee{constructor(t,e,i){super(),this.logService=t,this.abilityService=e,this.petService=i,this.name="Mushroom",this.equipmentClass="faint",this.callback=s=>{let r=1;s instanceof jt&&(r=1+s.level);for(let o=0;o<r;o++){let a=this.petService.createDefaultVersionOfPet(s,1,1);this.abilityService.setSpawnEvent({callback:()=>{let l="";o>0&&(l=" (Panther)"),this.logService.createLog({message:`${s.name} Spawned ${a.name} (level ${a.level}) (Mushroom)${l}`,type:"ability",player:s.parent}),s.parent.summonPet(a,s.savedPosition)&&this.abilityService.triggerSummonedEvents(a)},priority:-1})}}}}class y1 extends Ee{constructor(){super(),this.name="Croissant",this.equipmentClass="shop"}}class P_ extends Ee{constructor(){super(...arguments),this.name="Pie",this.equipmentClass="beforeStartOfBattle"}}class _1 extends Ee{constructor(){super(...arguments),this.equipmentClass="defense",this.name="Lemon",this.power=7,this.originalPower=7,this.uses=2,this.originalUses=2}}class A_ extends Ee{constructor(){super(...arguments),this.name="Pancakes",this.equipmentClass="beforeStartOfBattle"}}class b1 extends Ee{constructor(){super(...arguments),this.name="Strawberry",this.equipmentClass="shop"}}class S1 extends Ee{constructor(){super(...arguments),this.name="Cucumber",this.equipmentClass="shop"}}class E1 extends Ee{constructor(t,e){super(),this.logService=t,this.abilityService=e,this.name="Banana",this.equipmentClass="faint",this.callback=i=>{let s=1;i instanceof jt&&(s=1+i.level);for(let r=0;r<s;r++)this.abilityService.setSpawnEvent({callback:()=>{let o=new v_(this.logService,this.abilityService,i.parent,4,4,0);i.parent.summonPet(o,i.savedPosition);let a="";r>0&&(a=" (Panther)"),this.logService.createLog({message:`${i.name} Spawned Monkey (Banana)${a}`,type:"ability",player:i.parent}),this.abilityService.triggerSummonedEvents(o)},priority:i.attack})}}}class w1 extends Ee{constructor(){super(...arguments),this.name="Cherry",this.equipmentClass="startOfBattle",this.callback=t=>{var e;let i=null===(e=t.originalStartOfBattle)||void 0===e?void 0:e.bind(t);t.startOfBattle=s=>{null!=i&&i(s);let r=1;t instanceof jt&&(r=1+t.level),t.parent.gainTrumpets(2*r,t,!1,r,!0)}}}}class Wp extends Ee{constructor(t,e){super(),this.logService=t,this.abilityService=e,this.name="Chocolate Cake",this.equipmentClass="beforeAttack",this.callback=i=>{this.logService.createLog({message:`${i.name} gained 3 exp. (Chocolate Cake)`,type:"equipment",player:i.parent}),i.increaseExp(3),i.health=0,this.logService.createLog({message:`${i.name} fainted. (Chocolate Cake)`,type:"equipment",player:i.parent}),null!=i.knockOut&&this.abilityService.setKnockOutEvent({callback:i.knockOut.bind(i),priority:i.attack})}}}class C1 extends Ee{constructor(t,e){super(),this.logService=t,this.abilityService=e,this.name="Durian",this.equipmentClass="snipe",this.uses=1,this.originalUses=1,this.attackCallback=(i,s)=>{let r=s.parent.getHighestHealthPet(),o=r.pet;if(null==o)return void console.warn("durian didn't find target");let l=Math.max(1,Math.floor(o.health*(1-.33)));o.health=l,this.logService.createLog({message:`${this.name} reduced ${o.name} health by 33% (${l})`,type:"ability",player:i.parent,randomEvent:r.random})}}}class T_ extends Ee{constructor(t){super(),this.logService=t,this.name="Eggplant",this.equipmentClass="beforeStartOfBattle",this.callback=e=>{var i;let s=null===(i=e.originalStartOfBattle)||void 0===i?void 0:i.bind(e);e.startOfBattle=r=>{null!=s&&s(r);let o=1;e instanceof jt&&(o=1+e.level);for(let a=0;a<o;a++){let l=e.parent.opponent,h=l.getPet(e.position);if(null==h)return;this.logService.createLog({message:`${e.name} pushed ${h.name} 1 space forward. (Eggplant)`,type:"equipment",player:e.parent}),l.pushPet(h,1)}}}}}class x_ extends Ee{constructor(t){super(),this.logService=t,this.name="Pita Bread",this.power=0,this.equipmentClass="hurt",this.callback=e=>{var i;let s=null===(i=e.hurt)||void 0===i?void 0:i.bind(e);e.hurt=r=>{var o;if(null!=s&&s(r),"Pita Bread"!=(null===(o=e.equipment)||void 0===o?void 0:o.name)||!e.alive)return;let a=1;e instanceof jt&&(a=1+e.level);let l=15*a;e.increaseHealth(l);let h=`${e.name} gained ${l} health. (Pita Bread)`;h+=".",this.logService.createLog({message:h,type:"equipment",player:e.parent,pantherMultiplier:a}),e.givePetEquipment(null)}}}}class k1 extends Ee{constructor(){super(...arguments),this.name="Potato",this.equipmentClass="shield-snipe",this.power=10,this.uses=2,this.originalUses=2}}class D1 extends Ee{constructor(t,e){super(),this.logService=t,this.abilityService=e,this.name="Tomato",this.equipmentClass="snipe",this.uses=1,this.originalUses=1,this.attackCallback=(i,s)=>{let r=s.parent.getLastPet();if(null==r)return void console.warn("tomato didn't find target");let o=i.calculateDamgae(r,i.getManticoreMult(),8,!0),a=o.defenseEquipment,l=o.damage;r.health-=l;let h=`${i.name} sniped ${r.name} for ${l}`;if(i instanceof jt&&(h+=" (Panther)"),null!=a){r.useDefenseEquipment();let f=Math.abs(a.power),p="-";a.power<0&&(p="+"),h+=` (${a.name} ${p}${f})`}this.logService.createLog({message:h+=" (Tomato).",type:"attack",player:i.parent}),null!=r.hurt&&this.abilityService.setHurtEvent({callback:r.hurt.bind(r),priority:r.attack,player:r.parent,callbackPet:s}),r.health<1&&null!=i.knockOut&&this.abilityService.setKnockOutEvent({callback:i.knockOut.bind(i),priority:i.attack,callbackPet:r}),r.alive&&this.abilityService.triggerFriendHurtEvents(s.parent,s),r.alive&&l>0&&this.abilityService.triggerEnemyHurtEvents(i.parent,r)}}}class P1 extends Ee{constructor(){super(...arguments),this.name="Carrot",this.equipmentClass="shop"}}class A1 extends Ee{constructor(){super(...arguments),this.name="Grapes",this.equipmentClass="shop"}}class T1 extends Ee{constructor(t,e,i,s){super(),this.logService=t,this.abilityService=e,this.petSerivce=i,this.gameService=s,this.name="Popcorn",this.equipmentClass="faint",this.callback=r=>{let o=1;r instanceof jt&&(o=1+r.level);for(let a=0;a<o;a++)this.abilityService.setSpawnEvent({callback:()=>{let l;l=r.parent==this.gameService.gameApi.player?this.gameService.gameApi.playerPetPool:this.gameService.gameApi.opponentPetPool;let h=l.get(r.tier),f=h[Math.floor(Math.random()*h.length)],p=this.petSerivce.createPet({attack:null,equipment:null,exp:0,health:null,name:f,mana:0},r.parent),y="";a>0&&(y=" (Panther)"),this.logService.createLog({message:`${r.name} Spawned ${p.name} (Popcorn)${y}`,type:"ability",player:r.parent,randomEvent:!0}),r.parent.summonPet(p,r.savedPosition),this.abilityService.triggerSummonedEvents(p)},priority:r.attack})}}}class x1 extends Ee{constructor(){super(),this.name="Blueberry",this.equipmentClass="target"}}class M1 extends Ee{constructor(){super(),this.name="Donut",this.equipmentClass="target"}}class I1 extends Ee{constructor(){super(),this.name="Pineapple",this.equipmentClass="attack-snipe",this.power=2}}class O1 extends Ee{constructor(){super(...arguments),this.name="Fig",this.equipmentClass="startOfBattle",this.callback=t=>{var e;let i=null===(e=t.originalStartOfBattle)||void 0===e?void 0:e.bind(t);t.startOfBattle=s=>{null!=i&&i(s);let r=1;t instanceof jt&&(r=t.level+1);for(let o=0;o<r;o++){let a=t.parent.opponent.getLowestHealthPet();if(!a.pet)return;t.snipePet(a.pet,4,a.random,!1,!1,!0)}}}}}class M_ extends S{constructor(t,e,i,s,r,o,a,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Monty",this.tier=1,this.pack="Unicorn",this.hidden=!0,this.health=2,this.attack=1,this.initPet(a,s,r,o,l)}}class N1 extends Ee{constructor(t,e){super(),this.logService=t,this.abilityService=e,this.name="Easter Egg",this.equipmentClass="faint",this.callback=i=>{let s=1;i instanceof jt&&(s=1+i.level);for(let r=0;r<s;r++)this.abilityService.setSpawnEvent({callback:()=>{let o=new M_(this.logService,this.abilityService,i.parent,null,null,0);i.parent.summonPet(o,i.savedPosition);let a="";r>0&&(a=" (Panther)"),this.logService.createLog({message:`${i.name} Spawned Monty (Easter Egg)${a}`,type:"ability",player:i.parent}),this.abilityService.triggerSummonedEvents(o)},priority:i.attack})}}}class I_ extends Ee{constructor(t){super(),this.logService=t,this.name="Fairy Dust",this.equipmentClass="beforeStartOfBattle",this.callback=e=>{let i=r=>{null==r.parent.pet0&&(this.logService.createLog({message:`${r.name} pushed itself to the front (Fairy Dust).`,type:"ability",player:r.parent}),r.parent.pushPetToFront(r,!0))},s=e.emptyFrontSpace;e.emptyFrontSpace=(r,o)=>{null!=s&&s(r,o),i(e)}}}}class O_ extends Ee{constructor(t){super(),this.logService=t,this.name="Gingerbread Man",this.equipmentClass="beforeStartOfBattle",this.callback=e=>{this.logService.createLog({message:`${e.name} increased gained 1 experience (Gingerbread Man).`,type:"equipment",player:e.parent}),e.increaseExp(1)}}}class R1 extends Ee{constructor(t,e){super(),this.logService=t,this.abilityService=e,this.name="Golden Egg",this.equipmentClass="snipe",this.uses=1,this.originalUses=1,this.attackCallback=(i,s)=>{let r=s.parent.petArray,o=null;for(let p of r)if(p.alive){o=p;break}if(null==o)return void console.warn("egg didn't find target");let a=i.calculateDamgae(o,i.getManticoreMult(),5,!0),l=a.defenseEquipment,h=a.damage;o.health-=h;let f=`${i.name} sniped ${o.name} for ${h}`;if(i instanceof jt&&(f+=" (Panther)"),null!=l){o.useDefenseEquipment();let p=Math.abs(l.power),y="-";l.power<0&&(y="+"),f+=` (${l.name} ${y}${p})`}this.logService.createLog({message:f+=" (Golden Egg).",type:"attack",player:i.parent}),null!=o.hurt&&this.abilityService.setHurtEvent({callback:o.hurt.bind(o),priority:o.attack,player:o.parent,callbackPet:s}),o.health<1&&null!=i.knockOut&&this.abilityService.setKnockOutEvent({callback:i.knockOut.bind(i),priority:i.attack,callbackPet:o}),o.alive&&this.abilityService.triggerFriendHurtEvents(s.parent,s),o.alive&&h>0&&this.abilityService.triggerEnemyHurtEvents(i.parent,o)}}}class N_ extends Ee{constructor(t){super(),this.logService=t,this.name="Health Potion",this.equipmentClass="beforeStartOfBattle",this.callback=e=>{let i=3*e.level;this.logService.createLog({message:`${e.name} gained ${i} health (Love Potion).`,type:"equipment",player:e.parent}),e.increaseHealth(i)}}}class R_ extends Ee{constructor(t){super(),this.logService=t,this.name="Love Potion",this.equipmentClass="beforeStartOfBattle",this.callback=e=>{let i=e.petAhead;null!=i&&(this.logService.createLog({message:`${e.name} gave ${i.name} 2 health (Love Potion).`,type:"equipment",player:e.parent}),i.increaseHealth(2))}}}class L1 extends Ee{constructor(){super(),this.name="Magic Beans",this.equipmentClass="shop"}}class bh extends Ee{constructor(t){super(),this.logService=t,this.name="Rambutan",this.equipmentClass="beforeAttack",this.callback=e=>{this.logService.createLog({message:`${e.name} gained 3 mana. (Rambutan)`,type:"equipment",player:e.parent}),e.increaseMana(3)}}}class B1 extends S{constructor(t,e,i,s,r,o,a,l,h,f){super(t,e,r),this.logService=t,this.abilityService=e,this.petService=i,this.gameService=s,this.name="Seagull",this.tier=4,this.pack="Custom",this.attack=4,this.health=3,this.initPet(h,o,a,l,f)}friendSummoned(t,e,i){this.abilityUses>=this.maxAbilityUses||null!=this.equipment&&(e.givePetEquipment(this.getInstanceOfAllEquipment().get(this.equipment.name)),this.logService.createLog({message:`${this.name} gave ${e.name} a ${this.equipment.name}`,type:"ability",player:this.parent,tiger:i}),this.abilityUses++,this.superFriendSummoned(e,i))}setAbilityUses(){super.setAbilityUses(),this.maxAbilityUses=this.level}getInstanceOfAllEquipment(){let t=new Map;return t.set("Garlic",new _h),t.set("Meat Bone",new __),t.set("Steak",new m1),t.set("Melon",new Ur),t.set("Honey",new Fp(this.logService,this.abilityService)),t.set("Chili",new vh(this.logService,this.abilityService)),t.set("Mushroom",new v1(this.logService,this.abilityService,this.petService)),t.set("Coconut",new jr),t.set("Peanut",new Ha),t.set("Croissant",new y1),t.set("Rice",new Hp),t.set("Egg",new qp(this.logService,this.abilityService)),t.set("Salt",new Rp),t.set("Pie",new P_),t.set("Skewer",new jp(this.logService)),t.set("Lemon",new _1),t.set("Pancakes",new A_),t.set("Strawberry",new b1),t.set("Cucumber",new S1),t.set("Cheese",new Lp),t.set("Grapes",new A1),t.set("Carrot",new P1),t.set("Pepper",new Bp),t.set("Popcorn",new T1(this.logService,this.abilityService,this.petService,this.gameService)),t.set("Cherry",new w1),t.set("Chocolate Cake",new Wp(this.logService,this.abilityService)),t.set("Eggplant",new T_(this.logService)),t.set("Potato",new k1),t.set("Banana",new E1(this.logService,this.abilityService)),t.set("Onion",new c_(this.logService)),t.set("Pita Bread",new x_(this.logService)),t.set("Tomato",new D1(this.logService,this.abilityService)),t.set("Durian",new C1(this.logService,this.abilityService)),t.set("Fortune Cookie",new Vp),t.set("Blueberry",new x1),t.set("Donut",new M1),t.set("Pineapple",new I1),t.set("Fig",new O1),t.set("Rambutan",new bh(this.logService)),t.set("Love Potion",new R_(this.logService)),t.set("Fairy Dust",new I_(this.logService)),t.set("Gingerbread Man",new O_(this.logService)),t.set("Easter Egg",new N1(this.logService,this.abilityService)),t.set("Health Potion",new N_(this.logService)),t.set("Magic Beans",new L1),t.set("Golden Egg",new R1(this.logService,this.abilityService)),t}}class zp extends S{constructor(t,e,i,s,r,o,a,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Alpaca",this.tier=5,this.pack="Custom",this.attack=3,this.health=7,this.initPet(a,s,r,o,l)}friendSummoned(t,e,i){e instanceof zp||this.abilityUses>=this.maxAbilityUses||(e.increaseExp(1),this.logService.createLog({message:`${this.name} gave ${e.name} 1 exp.`,type:"ability",player:this.parent,tiger:i}),this.abilityUses++,this.superFriendSummoned(e,i))}setAbilityUses(){super.setAbilityUses(),this.maxAbilityUses=this.level}}class V1 extends S{constructor(t,e,i,s,r,o,a,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Hyena",this.tier=5,this.pack="Custom",this.attack=5,this.health=5,this.initPet(a,s,r,o,l)}startOfBattle(t,e){switch(this.level){case 1:this.level1Ability(t,e);break;case 2:this.level2Ability(t,e);break;case 3:this.level3Ability(t,e)}}level1Ability(t,e){let i=[...t.player.petArray,...t.opponet.petArray];for(let s of i){let r=s.health;s.health=s.attack,s.attack=r}this.logService.createLog({message:`${this.name} swapped all pets attack and health.`,type:"ability",player:this.parent,tiger:e})}level2Ability(t,e){this.shufflePets(t.player),this.shufflePets(t.opponet),this.logService.createLog({message:`${this.name} shuffled positions of all pets.`,type:"ability",player:this.parent,tiger:e,randomEvent:!0})}level3Ability(t,e){this.level1Ability(t,e),this.level2Ability(t,e)}shufflePets(t){let e=t.petArray;Np(e);for(let i=0;i<e.length;i++)t[`pet${i}`]=e[i]}}class $1 extends S{constructor(t,e,i,s,r,o,a,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Moose",this.tier=5,this.pack="Custom",this.attack=5,this.health=6,this.initPet(a,s,r,o,l)}}class F1 extends S{constructor(t,e,i,s,r,o,a,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Lioness",this.tier=6,this.pack="Custom",this.attack=4,this.health=5,this.initPet(a,s,r,o,l)}}class H1 extends S{constructor(t,e,i,s,r,o,a,l,h){super(t,e,s),this.logService=t,this.abilityService=e,this.petService=i,this.name="Tapir",this.tier=6,this.pack="Custom",this.attack=4,this.health=3,this.initPet(l,r,o,a,h)}faint(t,e,i){let s=this.parent.petArray.filter(o=>"Tapir"==o.name),r=this.parent.getRandomPet(s,!0);null!=r&&(r=(0,ge.clone)(r),this.abilityService.setSpawnEvent({callback:()=>{r.exp=this.minExpForLevel;let o=this.petService.createDefaultVersionOfPet(r);this.logService.createLog({message:`${this.name} spawned a ${o.name} level ${o.level}.`,type:"ability",player:this.parent,tiger:e,pteranodon:i,randomEvent:!0}),this.parent.summonPet(o,this.savedPosition)&&this.abilityService.triggerSummonedEvents(r)},priority:this.attack}))}}class q1 extends S{constructor(t,e,i,s,r,o,a,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Walrus",this.tier=6,this.pack="Custom",this.attack=7,this.health=5,this.initPet(a,s,r,o,l)}faint(t,e,i){let s=this.parent.getRandomPets(this.level,null,!0,null);for(let r of s)r.givePetEquipment(new Ha),this.logService.createLog({message:`${this.name} gave ${r.name} a Peanut.`,type:"ability",player:this.parent,tiger:e,pteranodon:i,randomEvent:!0})}}class G1 extends S{constructor(t,e,i,s,r,o,a,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="White Tiger",this.tier=6,this.pack="Custom",this.attack=4,this.health=3,this.initPet(a,s,r,o,l)}startOfBattle(t,e){let i=[],s=this.petBehind();for(;s&&i.length<this.level;)i.push(s),s=s.petBehind();for(let r of i)this.logService.createLog({message:`${this.name} gave ${r.name} +3 experience.`,type:"ability",player:this.parent,tiger:e}),r.increaseExp(3)}}class U1 extends S{constructor(t,e,i,s,r,o,a,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Opossum",this.tier=1,this.pack="Golden",this.attack=2,this.health=3,this.initPet(a,s,r,o,l)}}class j1 extends S{constructor(t,e,i,s,r,o,a,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Kiwi",this.tier=1,this.pack="Star",this.attack=2,this.health=2,this.initPet(a,s,r,o,l)}}class W1 extends S{constructor(t,e,i,s,r,o,a,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Pigeon",this.tier=1,this.pack="Turtle",this.attack=3,this.health=1,this.initPet(a,s,r,o,l)}}class z1 extends S{constructor(t,e,i,s,r,o,a,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Hare",this.tier=3,this.pack="Puppy",this.health=3,this.attack=4,this.initPet(a,s,r,o,l)}beforeAttack(t,e){if(this.abilityUses>=this.maxAbilityUses)return;let i=this.parent.opponent.petArray,s=[];for(let a of i)a.equipment&&s.push(a);if(0==s.length)return;let r=s[Math.floor(Math.random()*s.length)],o=(0,ge.cloneDeep)(r.equipment);o.reset(),this.logService.createLog({message:`${this.name} copied ${o.name} from ${r.name}.`,type:"ability",player:this.parent,tiger:e,randomEvent:s.length>0}),this.givePetEquipment(o),this.abilityUses++,this.superBeforeAttack(t,e)}setAbilityUses(){super.setAbilityUses(),this.maxAbilityUses=this.level}}class K1 extends S{constructor(t,e,i,s,r,o,a,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Baku",this.tier=1,this.pack="Unicorn",this.attack=3,this.health=2,this.initPet(a,s,r,o,l)}}class Y1 extends S{constructor(t,e,i,s,r,o,a,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Axehandle Hound",this.tier=1,this.pack="Unicorn",this.attack=3,this.health=1,this.initPet(a,s,r,o,l)}startOfBattle(t,e){let i=this.parent.opponent.petArray,s=!1;for(let o of i)for(let a of i)if(o!=a&&o.name==a.name){s=!0;break}if(!s)return;let r=this.parent.opponent.getRandomPet();this.logService.createLog({message:`${this.name} sniped ${r.name} for ${10*this.level} damage`,type:"ability",player:this.parent,tiger:e}),this.snipePet(r,10*this.level,!0,e),this.superStartOfBattle(t,e)}}class Q1 extends S{constructor(t,e,i,s,r,o,a,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Barghest",this.tier=1,this.pack="Unicorn",this.attack=1,this.health=3,this.initPet(a,s,r,o,l)}startOfBattle(t,e){let i=this.parent.opponent.petArray;i.reverse();let s=[],r=this.level;for(let o of i){if(s.length>=r)break;null==o.equipment&&s.push(o)}for(let o of s)this.logService.createLog({message:`${this.name} gave ${o.name} Weak`,type:"ability",player:this.parent,tiger:e}),o.givePetEquipment(new jo);this.superStartOfBattle(t,e)}}class J1 extends S{constructor(t,e,i,s,r,o,a,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Tsuchinoko",this.tier=1,this.pack="Unicorn",this.attack=1,this.health=2,this.initPet(a,s,r,o,l)}startOfBattle(t,e){this.parent.pushPetToFront(this,!0),this.logService.createLog({message:`${this.name} pushed itself to the front and gained ${this.level} experience.`,type:"ability",player:this.parent,tiger:e}),this.increaseExp(this.level),this.superStartOfBattle(t,e)}}class Z1 extends S{constructor(t,e,i,s,r,o,a,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Murmel",this.tier=1,this.pack="Unicorn",this.attack=1,this.health=2,this.initPet(a,s,r,o,l)}anyoneLevelUp(t,e,i){if(e.parent!=this.parent)return;let s={attack:this.level,health:2*this.level};this.logService.createLog({message:`${this.name} gained ${s.attack} attack ${s.health} health.`,type:"ability",player:this.parent,tiger:i}),this.increaseAttack(s.attack),this.increaseHealth(s.health),this.superAnyoneLevelUp(t,e,i)}}class X1 extends S{constructor(t,e,i,s,r,o,a,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Alchemedes",this.tier=1,this.pack="Unicorn",this.attack=1,this.health=4,this.initPet(a,s,r,o,l)}startOfBattle(t,e){let i=this.petAhead;null!=i&&(this.logService.createLog({message:`${this.name} gave ${i.name} ${this.level} mana.`,type:"ability",player:this.parent,randomEvent:!1}),i.increaseMana(this.level),this.superStartOfBattle(t,e))}}class eT extends S{constructor(t,e,i,s,r,o,a,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Warg",this.tier=1,this.pack="Unicorn",this.attack=2,this.health=2,this.initPet(a,s,r,o,l)}gainedMana(t,e){let i=this.parent.opponent.getRandomPets(this.level);for(let s of i)this.snipePet(s,1,!0,e);this.superGainedMana(t,e)}}class tT extends S{constructor(t,e,i,s,r,o,a,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Bunyip",this.tier=1,this.pack="Unicorn",this.attack=3,this.health=1,this.initPet(a,s,r,o,l)}startOfBattle(t,e){let s;s=this.parent==t.player?t.playerRollAmount:t.opponentRollAmount;let r=Math.min(3,s);this.logService.createLog({message:`${this.name} gained ${this.level*r} health.`,type:"ability",player:this.parent,tiger:e}),this.increaseHealth(this.level*r),this.superStartOfBattle(t,e)}}class L_ extends S{constructor(t,e,i,s,r,o,a,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="CrackedEgg",this.tier=1,this.pack="Unicorn",this.hidden=!0,this.attack=4,this.health=2,this.initPet(a,s,r,o,l)}}class iT extends S{constructor(t,e,i,s,r,o,a,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Sneaky Egg",this.tier=1,this.pack="Unicorn",this.attack=2,this.health=4,this.initPet(a,s,r,o,l)}startOfBattle(t,e){let i={attack:4*this.level,health:2*this.level};this.health=0,this.abilityService.setSpawnEvent({callback:()=>{let s=new L_(this.logService,this.abilityService,this.parent,i.health,i.attack,0);this.logService.createLog({message:`${this.name} spawned a ${i.attack}/${i.health} Cracked Egg`,type:"ability",player:this.parent,tiger:e}),this.parent.summonPet(s,this.savedPosition)&&this.abilityService.triggerSummonedEvents(s)},priority:this.attack}),this.superStartOfBattle(t,e)}}class nT extends S{constructor(t,e,i,s,r,o,a,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Cuddle Toad",this.tier=1,this.pack="Unicorn",this.attack=2,this.health=3,this.initPet(a,s,r,o,l)}}class sT extends S{constructor(t,e,i,s,r,o,a,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Ghost Kitten",this.tier=2,this.pack="Unicorn",this.attack=3,this.health=2,this.initPet(a,s,r,o,l)}}class UB extends Ee{constructor(){super(...arguments),this.name="Cold",this.equipmentClass="ailment-defense",this.power=-5,this.originalPower=-5,this.uses=1,this.originalUses=1}}class rT extends S{constructor(t,e,i,s,r,o,a,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Frost Wolf",this.tier=2,this.pack="Unicorn",this.attack=1,this.health=3,this.initPet(a,s,r,o,l)}faint(t,e,i){let s=this.parent.opponent.petArray,r=[];for(let o=0;o<this.level;o++)s[o]&&r.push(s[o]);for(let o of r)this.logService.createLog({message:`${this.name} gave ${o.name} Cold`,type:"ability",player:this.parent,tiger:e}),o.givePetEquipment(new UB);this.superFaint(t,e)}}class oT extends S{constructor(t,e,i,s,r,o,a,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Mothman",this.tier=2,this.pack="Unicorn",this.attack=3,this.health=2,this.initPet(a,s,r,o,l)}faint(t,e,i){let r=this.parent.opponent.petArray.filter(o=>null!=o.equipment&&("ailment-attack"==o.equipment.equipmentClass||"ailment-defense"==o.equipment.equipmentClass||"ailment-other"==o.equipment.equipmentClass));Np(r);for(let o=0;o<this.level;o++)r[o]&&this.snipePet(r[o],2,!0,e);this.superFaint(t,e)}}class aT extends S{constructor(t,e,i,s,r,o,a,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Drop Bear",this.tier=2,this.pack="Unicorn",this.attack=2,this.health=2,this.initPet(a,s,r,o,l)}emptyFrontSpace(t,e){if(null!=this.parent.pet0)return;this.logService.createLog({message:`${this.name} pushed itself to the front.`,type:"ability",player:this.parent,tiger:e}),this.parent.pushPetToFront(this,!0);let i=3*this.level,s=this.parent.opponent.getLastPet();this.snipePet(s,i,!1,e)}}class lT extends S{constructor(t,e,i,s,r,o,a,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Jackalope",this.tier=2,this.pack="Unicorn",this.attack=1,this.health=2,this.initPet(a,s,r,o,l)}friendJumped(t,e,i){let s=this.parent.opponent.getRandomPet();null!=s&&(this.snipePet(s,2*this.level,!0,i),this.superFriendJumped(t,e,i))}}class cT extends S{constructor(t,e,i,s,r,o,a,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Lucky Cat",this.tier=2,this.pack="Unicorn",this.attack=3,this.health=4,this.initPet(a,s,r,o,l)}anyoneLevelUp(t,e,i){if(e!=this)return;let s=2;3==this.level&&(s=4),this.logService.createLog({message:`${this.name} gained ${s} attack and ${s} health.`,type:"ability",player:this.parent,tiger:i}),this.increaseAttack(s),this.increaseHealth(s),this.superAnyoneLevelUp(t,e,i)}}class uT extends S{constructor(t,e,i,s,r,o,a,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Ogopogo",this.tier=2,this.pack="Unicorn",this.attack=1,this.health=5,this.initPet(a,s,r,o,l)}startOfBattle(t,e){let i=this.parent.furthestUpPet;this.logService.createLog({message:`${this.name} gave ${i.name} ${this.level} exp.`,type:"ability",player:this.parent,tiger:e}),i.increaseExp(this.level),this.superStartOfBattle(t,e)}}class hT extends S{constructor(t,e,i,s,r,o,a,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Thunderbird",this.tier=2,this.pack="Unicorn",this.attack=2,this.health=3,this.initPet(a,s,r,o,l)}startOfBattle(t,e){let i=this.parent.furthestUpPet,s=3*this.level;this.logService.createLog({message:`${this.name} gave ${i.name} ${s} mana.`,type:"ability",player:this.parent,tiger:e}),i.increaseMana(s),this.superStartOfBattle(t,e)}}class dT extends S{constructor(t,e,i,s,r,o,a,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Gargoyle",this.tier=2,this.pack="Unicorn",this.attack=2,this.health=4,this.initPet(a,s,r,o,l)}faint(t,e,i){let s=this.mana*this.level,r=this.petBehind();null!=r&&(this.logService.createLog({message:`${this.name} spent ${this.mana} mana and gave ${s} health to ${r.name}.`,type:"ability",player:this.parent,tiger:e}),r.increaseHealth(s),this.mana=0,this.superFaint(t,e))}}class fT extends S{constructor(t,e,i,s,r,o,a,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Bigfoot",this.tier=2,this.pack="Unicorn",this.attack=2,this.health=5,this.initPet(a,s,r,o,l)}}class pT extends S{constructor(t,e,i,s,r,o,a,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Skeleton Dog",this.tier=3,this.pack="Unicorn",this.attack=3,this.health=3,this.initPet(a,s,r,o,l)}faint(t,e,i){let s=this.parent.getRandomPets(this.level,[this]);for(let r of s)this.logService.createLog({message:`${this.name} gave 1 attack and 1 health to ${r.name}.`,type:"ability",player:this.parent,tiger:e,randomEvent:!0}),r.increaseAttack(1),r.increaseHealth(1);this.superFaint(t,e)}}class gT extends S{constructor(t,e,i,s,r,o,a,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Mandrake",this.tier=3,this.pack="Unicorn",this.attack=2,this.health=3,this.initPet(a,s,r,o,l)}startOfBattle(t,e){let s=this.parent.opponent.petArray.filter(o=>o.tier<=2*this.level&&o.faintPet);Np(s),s.sort((o,a)=>a.tier-o.tier);let r=s[0];this.logService.createLog({message:`${this.name} made ${r.name} Dazed.`,type:"ability",player:this.parent,tiger:e,randomEvent:!0}),r.givePetEquipment(new ek),this.superFaint(t,e)}}class mT extends S{constructor(t,e,i,s,r,o,a,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Fur-Bearing Trout",this.tier=3,this.pack="Unicorn",this.attack=2,this.health=3,this.initPet(a,s,r,o,l)}faint(t,e,i){let s=[],r=this;for(;s.length<this.level;){let o=r.petBehind();if(null==o)break;o.equipment instanceof bh||s.push(o),r=o}if(0!==s.length){for(let o of s)this.logService.createLog({message:`${this.name} gave ${o.name} a Rambutan.`,type:"ability",player:this.parent,tiger:e}),o.givePetEquipment(new bh(this.logService));this.superFaint(t,e)}}}class vT extends S{constructor(t,e,i,s,r,o,a,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Mana Hound",this.tier=3,this.pack="Unicorn",this.attack=2,this.health=5,this.initPet(a,s,r,o,l)}startOfBattle(t,e){let s;s=this.parent==t.player?t.playerRollAmount:t.opponentRollAmount;let r=this.petAhead;if(null==r)return;let o=s*this.level;this.logService.createLog({message:`${this.name} gave ${r.name} ${o} mana.`,type:"ability",player:this.parent,tiger:e}),r.increaseMana(o),this.superStartOfBattle(t,e)}}class yT extends S{constructor(t,e,i,s,r,o,a,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Calygreyhound",this.tier=3,this.pack="Unicorn",this.attack=2,this.health=4,this.initPet(a,s,r,o,l)}faint(t,e,i){if(0==this.mana)return;let s=this.parent.opponent.getHighestHealthPet(),r=this.parent.opponent.getHighestHealthPet(s.pet),o=[];null!=s.pet&&o.push(s.pet),null!=r.pet&&o.push(r.pet);let a=this.level*this.mana;for(let l of o)l.health=Math.max(1,l.health-a),this.logService.createLog({message:`${this.name} reduced ${l.name}'s health by ${a} (${l.health}).`,type:"ability",player:this.parent,tiger:e});this.mana=0,this.superFaint(t,e)}}class _T extends S{constructor(t,e,i,s,r,o,a,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Brain Cramp",this.tier=3,this.pack="Unicorn",this.attack=1,this.health=2,this.initPet(a,s,r,o,l)}emptyFrontSpace(t,e){let i=2*this.level;this.logService.createLog({message:`${this.name} pushed itself to the front, gained ${i} attack and gained Melon.`,type:"ability",player:this.parent,tiger:e}),this.parent.pushPetToFront(this,!0),this.increaseAttack(i),this.givePetEquipment(new Ur)}}class bT extends S{constructor(t,e,i,s,r,o,a,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Minotaur",this.tier=3,this.pack="Unicorn",this.attack=1,this.health=3,this.initPet(a,s,r,o,l)}friendAheadAttacks(t,e,i){let s=this.level*e.level;this.logService.createLog({message:`${this.name} gained ${s} attack and ${s} health.`,type:"ability",player:this.parent,tiger:i}),this.increaseAttack(s),this.increaseHealth(s),this.superFriendAheadAttacks(t,i)}}class ST extends S{constructor(t,e,i,s,r,o,a,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Wyvern",this.tier=3,this.pack="Unicorn",this.attack=3,this.health=4,this.initPet(a,s,r,o,l)}}class ET extends S{constructor(t,e,i,s,r,o,a,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Ouroboros",this.tier=3,this.pack="Unicorn",this.attack=2,this.health=4,this.initPet(a,s,r,o,l)}}class wT extends S{constructor(t,e,i,s,r,o,a,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Griffin",this.tier=3,this.pack="Unicorn",this.attack=4,this.health=3,this.initPet(a,s,r,o,l)}}class CT extends S{constructor(t,e,i,s,r,o,a,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Kraken",this.tier=4,this.pack="Unicorn",this.attack=3,this.health=6,this.initPet(a,s,r,o,l)}startOfBattle(t,e){let i=[...this.parent.petArray,...this.parent.opponent.petArray];i=i.filter(s=>s.alive&&s!==this);for(let s of i){let r=1==this.level?.2:2==this.level?.4:.6,o=Math.max(1,Math.floor(s.health*(1-r)));s.health=o,this.logService.createLog({message:`${this.name} reduced ${s.name} health by ${(100*r).toFixed(0)}% (${o})`,type:"ability",player:this.parent,tiger:e})}this.superStartOfBattle(t,e)}}class kT extends S{constructor(t,e,i,s,r,o,a,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Visitor",this.tier=4,this.pack="Unicorn",this.attack=5,this.health=4,this.initPet(a,s,r,o,l)}faint(t,e,i){let s=[],r=this.petBehind();for(;null!=r&&(s.push(r),s.length!=this.level);)r=r.petBehind();let o=[];for(r=wt(t,this.parent).petArray[0];null!=r;)if(r.alive){if(o.push(r),o.length==this.level)break;r=r.petBehind()}else r=r.petBehind();for(let a of[...s,...o])a.givePetEquipment(new a_),this.logService.createLog({message:`${this.name} made ${a.name} Exposed.`,type:"ability",player:this.parent,tiger:e,pteranodon:i});this.superFaint(t,e)}}class DT extends S{constructor(t,e,i,s,r,o,a,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Vampire Bat",this.tier=4,this.pack="Unicorn",this.attack=2,this.health=5,this.initPet(a,s,r,o,l)}enemyGainedAilment(t,e,i){let r=e.health,o=this.snipePet(e,3*this.level,!1,i),a=Math.min(o,r);this.logService.createLog({message:`${this.name} gained ${a} health.`,type:"ability",player:this.parent,tiger:i}),this.increaseHealth(a),this.superEnemyGainedAilment(t,e,i)}}class PT extends S{constructor(t,e,i,s,r,o,a,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Tiger Bug",this.tier=4,this.pack="Unicorn",this.attack=4,this.health=2,this.initPet(a,s,r,o,l)}emptyFrontSpace(t,e){if(null!=this.parent.pet0)return;this.logService.createLog({message:`${this.name} pushed itself to the front.`,type:"ability",player:this.parent,tiger:e}),this.parent.pushPetToFront(this,!0);let i=this.parent.opponent.furthestUpPet,s=null==i?void 0:i.petBehind(),r=[];i&&r.push(i),s&&r.push(s);let o=3*this.level;for(let a of r)this.snipePet(a,o,!1,e)}}class AT extends S{constructor(t,e,i,s,r,o,a,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Tatzelwurm",this.tier=4,this.pack="Unicorn",this.attack=3,this.health=4,this.initPet(a,s,r,o,l)}friendAheadFaints(t,e,i){let s=e.level*this.level*2,r=this.parent.opponent.getRandomPet();this.snipePet(r,s,!0,i),this.superFriendAheadFaints(t,e,i)}}class TT extends S{constructor(t,e,i,s,r,o,a,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Cyclops",this.tier=4,this.pack="Unicorn",this.attack=4,this.health=5,this.initPet(a,s,r,o,l)}anyoneLevelUp(t,e,i){e.parent==this.parent&&(this.logService.createLog({message:`${this.name} gave ${e.name} ${this.level} exp and ${2*this.level} mana.`,type:"ability",player:this.parent,tiger:i}),e.increaseExp(this.level),e.increaseMana(2*this.level),this.superAnyoneLevelUp(t,e,i))}}class B_ extends S{constructor(t,e,i,s,r,o,a,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Chim-Goat",this.tier=1,this.pack="Unicorn",this.hidden=!0,this.attack=1,this.health=2,this.initPet(a,s,r,o,l)}}class V_ extends S{constructor(t,e,i,s,r,o,a,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Chim-Lion",this.tier=1,this.pack="Unicorn",this.hidden=!0,this.attack=1,this.health=2,this.initPet(a,s,r,o,l)}}class $_ extends S{constructor(t,e,i,s,r,o,a,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Chim-Snake",this.tier=1,this.pack="Unicorn",this.hidden=!0,this.attack=1,this.health=2,this.initPet(a,s,r,o,l)}}class xT extends S{constructor(t,e,i,s,r,o,a,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Chimera",this.tier=4,this.pack="Unicorn",this.attack=3,this.health=3,this.initPet(a,s,r,o,l)}faint(t,e,i){if(0==this.mana)return;let s={attack:this.mana,health:2*this.mana};this.logService.createLog({message:`${this.name} spent ${this.mana} mana.`,type:"ability",player:this.parent,tiger:e,pteranodon:i}),this.abilityService.setSpawnEvent({callback:()=>{let r=new V_(this.logService,this.abilityService,this.parent,s.health,s.attack);this.logService.createLog({message:`${this.name} spawned a ${r.name} ${s.attack}/${s.health}.`,type:"ability",player:this.parent,tiger:e,pteranodon:i}),this.parent.summonPet(r,this.savedPosition)&&this.abilityService.triggerSummonedEvents(r)},priority:this.attack}),1!=this.level?(this.abilityService.setSpawnEvent({callback:()=>{let r=new B_(this.logService,this.abilityService,this.parent,s.health,s.attack);this.logService.createLog({message:`${this.name} spawned a ${r.name} ${s.attack}/${s.health}.`,type:"ability",player:this.parent,tiger:e,pteranodon:i}),this.parent.summonPet(r,this.savedPosition)&&this.abilityService.triggerSummonedEvents(r)},priority:this.attack-1}),2!=this.level?(this.abilityService.setSpawnEvent({callback:()=>{let r=new $_(this.logService,this.abilityService,this.parent,s.health,s.attack);this.logService.createLog({message:`${this.name} spawned a ${r.name} ${s.attack}/${s.health}.`,type:"ability",player:this.parent,tiger:e,pteranodon:i}),this.parent.summonPet(r,this.savedPosition)&&this.abilityService.triggerSummonedEvents(r)},priority:this.attack-2}),this.mana=0):this.mana=0):this.mana=0}}class MT extends S{constructor(t,e,i,s,r,o,a,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Roc",this.tier=4,this.pack="Unicorn",this.attack=4,this.health=4,this.initPet(a,s,r,o,l)}startOfBattle(t,e){let i=[],s=this.petAhead;for(;s;)i.push(s),s=s.petAhead;if(0!=i.length){for(let r=0;r<3*this.level;r++)s=i[Math.floor(Math.random()*i.length)],this.logService.createLog({message:`${this.name} gave ${s.name} 3 mana.`,type:"ability",player:this.parent,tiger:e,randomEvent:i.length>1}),s.increaseMana(3);this.superStartOfBattle(t,e)}}}class IT extends S{constructor(t,e,i,s,r,o,a,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Worm of Sand",this.tier=4,this.pack="Unicorn",this.attack=1,this.health=4,this.initPet(a,s,r,o,l)}}class OT extends S{constructor(t,e,i,s,r,o,a,l,h,f,p,y){super(t,e,s),this.logService=t,this.abilityService=e,this.petService=i,this.name="Abomination",this.tier=4,this.pack="Unicorn",this.attack=6,this.health=3,this.initPet(l,r,o,a,h),this.abominationSwallowedPet1=f,this.abominationSwallowedPet2=p,this.abominationSwallowedPet3=y}startOfBattle(t,e){let i=[],s=!1,r=!1,o=!1;for(let a=0;a<this.level;a++)null==this.abominationSwallowedPet1||s?null==this.abominationSwallowedPet2||r?null!=this.abominationSwallowedPet3&&!o&&(i.push(this.abominationSwallowedPet3),o=!0):(i.push(this.abominationSwallowedPet2),r=!0):(i.push(this.abominationSwallowedPet1),s=!0);for(let a of i)this.logService.createLog({message:`${this.name} used swallowed ${a}'s Ability.`,type:"ability",player:this.parent,tiger:e}),this.petService.createPet({attack:null,health:null,mana:null,equipment:null,name:a,exp:0},this.parent).originalStartOfBattle.bind(this)(t,e)}}class NT extends S{constructor(t,e,i,s,r,o,a,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Red Dragon",this.tier=5,this.pack="Unicorn",this.attack=3,this.health=7,this.initPet(a,s,r,o,l)}startOfBattle(t,e){let i=this.parent.opponent.petArray;i.reverse();let s=[];for(let r of i)if(!(r.equipment instanceof gh)){if(s.length>=this.level)break;s.push(r)}for(let r of s)this.logService.createLog({message:`${this.name} gave ${r.name} Crisp.`,type:"ability",player:this.parent,tiger:e}),r.givePetEquipment(new gh);this.superStartOfBattle(t,e)}}class RT extends S{constructor(t,e,i,s,r,o,a,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Unicorn",this.tier=5,this.pack="Unicorn",this.attack=2,this.health=4,this.initPet(a,s,r,o,l)}friendGainedAilment(t,e){if(this.abilityUses>=this.maxAbilityUses)return;let i=2*this.level;this.logService.createLog({message:`${this.name} removed ailment from ${e.name}.`,type:"ability",player:this.parent}),this.logService.createLog({message:`${this.name} gave ${e.name} ${i} attack and ${i} health.`,type:"ability",player:this.parent}),e.givePetEquipment(null),e.increaseAttack(i),e.increaseHealth(i),this.abilityUses++}setAbilityUses(){super.setAbilityUses(),this.maxAbilityUses=this.level}}class LT extends S{constructor(t,e,i,s,r,o,a,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Loveland Frogman",this.tier=5,this.pack="Unicorn",this.attack=1,this.health=5,this.initPet(a,s,r,o,l)}friendJumped(t,e,i){let s={attack:this.level,health:2*this.level};this.logService.createLog({message:`${this.name} gave ${e.name} ${s.attack} attack and ${s.health} health.`,type:"ability",player:this.parent}),e.increaseAttack(s.attack),e.increaseHealth(s.health),this.superFriendJumped(t,e,i)}setAbilityUses(){super.setAbilityUses(),this.maxAbilityUses=this.level}}class F_ extends S{constructor(t,e,i,s,r,o,a,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Salmon of Knowledge",this.tier=5,this.pack="Unicorn",this.attack=1,this.health=5,this.initPet(a,s,r,o,l)}startOfBattle(t,e){let i=2*this.level,s=this.parent.petArray,r=this.parent.opponent.petArray,o=[];null!=s[0]&&o.push(s[0]),null!=s[1]&&o.push(s[1]),null!=r[0]&&o.push(r[0]),null!=r[1]&&o.push(r[1]);for(let a of o)this.logService.createLog({message:`${this.name} gave ${a.name} ${i} exp.`,type:"ability",player:this.parent}),a.increaseExp(i);this.superStartOfBattle(t,e)}setAbilityUses(){super.setAbilityUses(),this.maxAbilityUses=this.level}}class BT extends S{constructor(t,e,i,s,r,o,a,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Jersey Devil",this.tier=5,this.pack="Unicorn",this.attack=5,this.health=4,this.initPet(a,s,r,o,l)}friendSummoned(t,e,i){let o=this.level*(this.parent===t.player?t.playerLevel3Sold:t.opponentLevel3Sold);this.logService.createLog({message:`${this.name} gave ${e.name} ${o} attack and ${o} health`,type:"ability",player:this.parent,tiger:i}),e.increaseAttack(o),e.increaseHealth(o),this.superFriendSummoned(t,e,i)}setAbilityUses(){super.setAbilityUses(),this.maxAbilityUses=this.level}}class VT extends S{constructor(t,e,i,s,r,o,a,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Pixiu",this.tier=5,this.pack="Unicorn",this.attack=4,this.health=5,this.initPet(a,s,r,o,l)}faint(t,e,i){this.mana<6||(this.logService.createLog({message:`${this.name} spent 6 mana and gained ${3*this.level} gold for next turn.`,type:"ability",player:this.parent,tiger:e}),this.mana-=6,this.superFaint(t,e))}}class $T extends S{constructor(t,e,i,s,r,o,a,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Kitsune",this.tier=5,this.pack="Unicorn",this.attack=3,this.health=7,this.initPet(a,s,r,o,l)}friendFaints(t,e,i){if(null==this.petAhead)return;let s=e.mana;if(0==s)return;e.mana=0;let r=this.petAhead;this.logService.createLog({message:`${this.name} took ${s} mana from ${e.name} and gave it to ${r.name} +${2*this.level}.`,type:"ability",player:this.parent,tiger:i}),r.increaseMana(s+2*this.level)}}class H_ extends S{constructor(t,e,i,s,r,o,a,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Nessie?",this.tier=1,this.pack="Unicorn",this.hidden=!0,this.health=1,this.attack=1,this.initPet(a,s,r,o,l)}}class FT extends S{constructor(t,e,i,s,r,o,a,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Nessie",this.tier=5,this.pack="Unicorn",this.attack=2,this.health=4,this.initPet(a,s,r,o,l)}faint(t,e,i){let o=Math.min(50,(this.parent===t.player?t.playerRollAmount:t.opponentRollAmount)*this.level*2);this.abilityService.setSpawnEvent({callback:()=>{let a=new H_(this.logService,this.abilityService,this.parent,o,o,0);this.logService.createLog({message:`${this.name} spawned a Nessie? ${o}/${o}`,type:"ability",player:this.parent,tiger:e,pteranodon:i}),this.parent.summonPet(a,this.savedPosition)&&this.abilityService.triggerSummonedEvents(a)},priority:this.attack}),super.superFaint(t,e)}setAbilityUses(){super.setAbilityUses(),this.maxAbilityUses=this.level}}class HT extends S{constructor(t,e,i,s,r,o,a,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Bad Dog",this.tier=5,this.pack="Unicorn",this.attack=3,this.health=3,this.initPet(a,s,r,o,l)}}class qT extends S{constructor(t,e,i,s,r,o,a,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Werewolf",this.tier=5,this.pack="Unicorn",this.attack=3,this.health=3,this.initPet(a,s,r,o,l)}startOfBattle(t,e){if(t.day)return;let i=this.level,s=Math.min(50,this.attack+this.attack*i),r=Math.min(50,this.health+this.health*i);this.logService.createLog({message:`${this.name} increased its stats by ${100*i}% (${s}/${r}).`,type:"ability",player:this.parent,tiger:e}),this.increaseAttack(this.attack*i),this.increaseHealth(this.health*i)}}class GT extends S{constructor(t,e,i,s,r,o,a,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Manticore",this.tier=6,this.pack="Unicorn",this.attack=7,this.health=4,this.initPet(a,s,r,o,l)}}class q_ extends S{constructor(t,e,i,s,r,o,a,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Young Phoenix",this.tier=1,this.pack="Unicorn",this.hidden=!0,this.health=6,this.attack=6,this.initPet(a,s,r,o,l)}}class UT extends S{constructor(t,e,i,s,r,o,a,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Phoenix",this.tier=6,this.pack="Unicorn",this.attack=8,this.health=8,this.initPet(a,s,r,o,l)}faint(t,e,i){let s=[...this.parent.petArray,...this.parent.opponent.petArray];s=s.filter(a=>a!=this&&a.alive),Np(s);let r=3*this.level,o=0;if(s.length>0)for(let a of s){if(o>=r)break;this.logService.createLog({message:`${this.name} gave ${a.name} Crisp.`,type:"ability",randomEvent:s.length>r,tiger:e,player:this.parent}),a.givePetEquipment(new gh),o++}this.abilityService.setSpawnEvent({callback:()=>{let a=6*this.level,l=new q_(this.logService,this.abilityService,this.parent,a,a,0);this.logService.createLog({message:`${this.name} spawned a Young Phoenix (${a}/${a}).`,type:"ability",player:this.parent,tiger:e,pteranodon:i}),this.parent.summonPet(l,this.savedPosition)&&this.abilityService.triggerSummonedEvents(l)},priority:this.attack}),super.superFaint(t,e)}}class jT extends S{constructor(t,e,i,s,r,o,a,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Quetzalcoatl",this.tier=6,this.pack="Unicorn",this.attack=2,this.health=8,this.initPet(a,s,r,o,l)}}class WT extends S{constructor(t,e,i,s,r,o,a,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Team Spirit",this.tier=6,this.pack="Unicorn",this.attack=3,this.health=4,this.initPet(a,s,r,o,l)}anyoneLevelUp(t,e,i){if(e.parent!=this.parent||e==this)return;let s=this.parent.petArray;s=s.filter(o=>o!=this);let r={attack:this.level,health:2*this.level};for(let o of s)this.logService.createLog({message:`${this.name} gave ${o.name} ${r.attack} attack and ${r.health} health.`,type:"ability",player:this.parent,tiger:i}),o.increaseAttack(r.attack),o.increaseHealth(r.health)}}class zT extends S{constructor(t,e,i,s,r,o,a,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Sleipnir",this.tier=6,this.pack="Unicorn",this.attack=8,this.health=5,this.initPet(a,s,r,o,l)}startOfBattle(t,e){let i=Math.floor(this.attack/2),s=[],r=this.petAhead;for(;r&&(s.push(r),!(s.length>=this.level));)r=r.petAhead;for(let o of s)this.logService.createLog({message:`${this.name} gave ${o.name} ${i} mana.`,type:"ability",player:this.parent,tiger:e}),o.increaseMana(i);this.superStartOfBattle(t,e)}}class KT extends S{constructor(t,e,i,s,r,o,a,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Sea Serpent",this.tier=6,this.pack="Unicorn",this.attack=6,this.health=6,this.initPet(a,s,r,o,l)}faint(t,e,i){if(0==this.mana)return;let s=this.parent.opponent.petArray;s=s.filter(a=>a.alive),s.sort((a,l)=>l.health-a.health);let r=2*this.mana;this.logService.createLog({message:`${this.name} spent ${this.mana} mana.`,type:"ability",player:this.parent,tiger:e,pteranodon:i}),this.mana=0;for(let a=0;a<this.level;a++){let l=s[a];if(null==l)break;this.snipePet(l,r,!1,e,i)}this.superFaint(t,e)}}class YT extends S{constructor(t,e,i,s,r,o,a,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Yeti",this.tier=6,this.pack="Unicorn",this.attack=5,this.health=7,this.initPet(a,s,r,o,l)}}class G_ extends S{constructor(t,e,i,s,r,o,a,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Fire Pup",this.tier=1,this.pack="Unicorn",this.hidden=!0,this.health=8,this.attack=8,this.initPet(a,s,r,o,l)}}class QT extends S{constructor(t,e,i,s,r,o,a,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Cerberus",this.tier=6,this.pack="Unicorn",this.attack=8,this.health=8,this.initPet(a,s,r,o,l)}emptyFrontSpace(t,e){null==this.parent.pet0&&(this.abilityUses>=this.maxAbilityUses||(this.abilityService.setSpawnEvent({callback:()=>{let i=new G_(this.logService,this.abilityService,this.parent,null,null,0);this.logService.createLog({message:`${this.name} spawned Fire Pup (8/8).`,type:"ability",player:this.parent,tiger:e}),this.parent.summonPet(i,0)&&this.abilityService.triggerSummonedEvents(i)},priority:this.attack}),this.abilityUses++,super.superFaint(t,e)))}setAbilityUses(){super.setAbilityUses(),this.maxAbilityUses=this.level}}class U_ extends S{constructor(t,e,i,s,r,o,a,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Head",this.tier=1,this.pack="Unicorn",this.hidden=!0,this.health=5,this.attack=5,this.initPet(a,s,r,o,l)}}class JT extends S{constructor(t,e,i,s,r,o,a,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Hydra",this.tier=6,this.pack="Unicorn",this.attack=10,this.health=6,this.initPet(a,s,r,o,l)}faint(t,e,i){let s=Math.floor(this.attack/10);for(let r=0;r<s;r++)this.abilityService.setSpawnEvent({callback:()=>{let o=5*this.level,a=new U_(this.logService,this.abilityService,this.parent,o,o);this.logService.createLog({message:`${this.name} spawned Head (${a.attack}/${a.health}).`,type:"ability",player:this.parent,tiger:e,pteranodon:i}),this.parent.summonPet(a,this.savedPosition)&&this.abilityService.triggerSummonedEvents(a)},priority:this.attack}),super.superFaint(t,e)}}class ZT extends S{constructor(t,e,i,s,r,o,a,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Behemoth",this.tier=6,this.pack="Unicorn",this.attack=12,this.health=12,this.initPet(a,s,r,o,l)}}class Kp extends S{constructor(t,e,i,s,r,o,a,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Rock",this.tier=1,this.pack="Unicorn",this.hidden=!0,this.health=1,this.attack=1,this.initPet(a,s,r,o,l)}}class XT extends S{constructor(t,e,i,s,r,o,a,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Basilisk",this.tier=1,this.pack="Custom",this.health=2,this.attack=1,this.initPet(a,s,r,o,l)}startOfBattle(t,e){let i=this.petAhead;if(null==i&&(i=this.parent.opponent.petArray[0]),null==i)return;let s=2*this.level;this.logService.createLog({message:`${this.name} turned ${i.name} into a Rock with + ${s} health.`,type:"ability",player:this.parent,tiger:e});let r=i.health+s;r=Math.min(r,50),i.parent.setPet(i.position,new Kp(this.logService,this.abilityService,i.parent,r,i.attack,i.mana,i.exp,i.equipment),!1),this.superStartOfBattle(t,e)}}class j_ extends S{constructor(t,e,i,s,r,o,a,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Daycrawler",this.tier=1,this.pack="Custom",this.hidden=!0,this.health=1,this.attack=3,this.initPet(a,s,r,o,l)}}class ex extends S{constructor(t,e,i,s,r,o,a,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Nightcrawler",this.tier=2,this.pack="Custom",this.attack=1,this.health=1,this.initPet(a,s,r,o,l)}faint(t,e,i){let r=this.parent==t.player?t.playerSummonedAmount:t.opponentSummonedAmount;if(0==r)return;let o=Math.min(50,this.level*r);this.abilityService.setSpawnEvent({callback:()=>{let l=new j_(this.logService,this.abilityService,this.parent,o,6,0);this.logService.createLog({message:`${this.name} spawned Daycrawler (6/${o})`,type:"ability",player:this.parent,tiger:e,pteranodon:i}),this.parent.summonPet(l,this.savedPosition)&&this.abilityService.triggerSummonedEvents(l)},priority:this.attack}),super.superFaint(t,e)}}class tx extends S{constructor(t,e,i,s,r,o,a,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Sphinx",this.tier=2,this.pack="Custom",this.attack=2,this.health=5,this.initPet(a,s,r,o,l)}}class ix extends S{constructor(t,e,i,s,r,o,a,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Chupacabra",this.tier=2,this.pack="Custom",this.attack=4,this.health=2,this.initPet(a,s,r,o,l)}knockOut(t,e,i){for(let s=0;s<3*this.level;s++){let r=this.parent.getRandomPet([this],!0,!1,!0);this.logService.createLog({message:`${this.name} gave ${r.name} 1 health.`,type:"ability",player:this.parent,tiger:i,randomEvent:!0}),r.increaseHealth(1)}this.superKnockOut(t,e,i)}}class nx extends S{constructor(t,e,i,s,r,o,a,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Golden Beetle",this.tier=2,this.pack="Custom",this.attack=2,this.health=3,this.initPet(a,s,r,o,l)}}class sx extends S{constructor(t,e,i,s,r,o,a,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Foo Dog",this.tier=3,this.pack="Custom",this.attack=3,this.health=5,this.initPet(a,s,r,o,l)}}class rx extends S{constructor(t,e,i,s,r,o,a,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Tree",this.tier=3,this.pack="Custom",this.attack=2,this.health=5,this.initPet(a,s,r,o,l)}startOfBattle(t,e){this.attack>6*this.level||(this.logService.createLog({message:`${this.name} gained Coconut.`,type:"ability",player:this.parent,tiger:e}),this.givePetEquipment(new jr),this.superStartOfBattle(t,e))}}class W_ extends S{constructor(t,e,i,s,r,o,a,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Smaller Slime",this.tier=1,this.pack="Unicorn",this.hidden=!0,this.health=2,this.attack=2,this.initPet(a,s,r,o,l)}}class ox extends S{constructor(t,e,i,s,r,o,a,l,h){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Slime",this.tier=3,this.pack="Custom",this.attack=3,this.health=3,this.initPet(a,s,r,o,l),this.battlesFought=h}faint(t,e,i){let s=Math.floor(this.battlesFought/2),r=2*this.level;for(let o=0;o<s;o++)this.abilityService.setSpawnEvent({callback:()=>{let a=new W_(this.logService,this.abilityService,this.parent,null,null,0);this.logService.createLog({message:`${this.name} spawned Smaller Slime (${r}/${r}).`,type:"ability",player:this.parent,tiger:e,pteranodon:i}),this.parent.summonPet(a,this.savedPosition)&&this.abilityService.triggerSummonedEvents(a)},priority:this.attack}),super.superFaint(t,e)}}class ax extends S{constructor(t,e,i,s,r,o,a,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Pegasus",this.tier=3,this.pack="Custom",this.attack=1,this.health=3,this.initPet(a,s,r,o,l)}friendSummoned(t,e,i){let s=this.parent.getRandomPets(3,[this],!0);for(let r of s)r.increaseAttack(this.level),this.logService.createLog({message:`${this.name} gave ${r.name} ${this.level} attack.`,type:"ability",player:this.parent,tiger:i})}}class lx extends S{constructor(t,e,i,s,r,o,a,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Deer Lord",this.tier=3,this.pack="Custom",this.attack=4,this.health=3,this.initPet(a,s,r,o,l)}}class cx extends S{constructor(t,e,i,s,r,o,a,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Fairy",this.tier=4,this.pack="Custom",this.attack=1,this.health=1,this.initPet(a,s,r,o,l)}}class ux extends S{constructor(t,e,i,s,r,o,a,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Rootling",this.tier=4,this.pack="Custom",this.attack=1,this.health=5,this.initPet(a,s,r,o,l)}}class hx extends S{constructor(t,e,i,s,r,o,a,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Anubis",this.tier=4,this.pack="Custom",this.attack=3,this.health=4,this.initPet(a,s,r,o,l)}startOfBattle(t,e){let i=this.parent.petArray.filter(s=>s.faintPet);for(let s of i)s.tier<=2*this.level&&(this.logService.createLog({message:`${this.name} activated ${s.name}'s faint ability.`,type:"ability",player:this.parent,tiger:e}),s.faint(t,!1,!1))}}class dx extends S{constructor(t,e,i,s,r,o,a,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Old Mouse",this.tier=4,this.pack="Custom",this.attack=1,this.health=2,this.initPet(a,s,r,o,l)}}class fx extends S{constructor(t,e,i,s,r,o,a,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Hippocampus",this.tier=4,this.pack="Custom",this.attack=2,this.health=4,this.initPet(a,s,r,o,l)}friendGainsHealth(t,e,i){let s=2*this.level;this.logService.createLog({message:`${this.name} gave ${e.name} ${s} attack.`,type:"ability",player:this.parent,tiger:i}),e.increaseAttack(s),this.superFriendGainsHealth(t,e,i)}}class px extends S{constructor(t,e,i,s,r,o,a,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Boitata",this.tier=5,this.pack="Custom",this.attack=2,this.health=9,this.initPet(a,s,r,o,l)}beforeAttack(t,e){if(this.abilityUses>=this.maxAbilityUses)return;let i=this.parent.opponent.furthestUpPet;this.logService.createLog({message:`${this.name} gave ${i.name} Crisp.`,type:"ability",player:this.parent,tiger:e}),i.givePetEquipment(new gh),this.abilityUses++,this.superBeforeAttack(t,e)}setAbilityUses(){super.setAbilityUses(),this.maxAbilityUses=this.level}}class gx extends S{constructor(t,e,i,s,r,o,a,l,h){super(t,e,s),this.logService=t,this.abilityService=e,this.petService=i,this.name="Kappa",this.tier=5,this.pack="Custom",this.attack=4,this.health=5,this.initPet(l,r,o,a,h)}faint(t,e,i){let r=(this.parent==t.player?t.playerPetPool:t.opponentPetPool).get(3);for(let o=0;o<this.level;o++){let a=r[Math.floor(Math.random()*r.length)],l=r[Math.floor(Math.random()*r.length)];this.abilityService.setSpawnEvent({callback:()=>{let h=this.petService.createPet({attack:14,equipment:null,exp:0,health:16,mana:0,name:a},this.parent);this.logService.createLog({message:`${this.name} spawned a ${h.name} (14/16).`,type:"ability",player:this.parent,tiger:e,pteranodon:i,randomEvent:!0}),this.parent.summonPet(h,this.savedPosition)&&this.abilityService.triggerSummonedEvents(h)},priority:this.attack}),this.abilityService.setSpawnEvent({callback:()=>{let h=this.petService.createPet({attack:14,equipment:null,exp:0,health:16,mana:0,name:l},this.parent.opponent);this.logService.createLog({message:`${this.name} spawned a ${h.name} (14/16) for the opponent.`,type:"ability",player:this.parent,tiger:e,pteranodon:i,randomEvent:!0}),this.parent.opponent.summonPet(h,this.savedPosition)&&this.abilityService.triggerSummonedEvents(h)},priority:this.attack}),super.superFaint(t,e)}}}class mx extends S{constructor(t,e,i,s,r,o,a,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Mimic",this.tier=5,this.pack="Custom",this.attack=3,this.health=6,this.initPet(a,s,r,o,l)}}class vx extends S{constructor(t,e,i,s,r,o,a,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Nurikabe",this.tier=5,this.pack="Custom",this.attack=5,this.health=6,this.maxAbilityUses=3,this.initPet(a,s,r,o,l)}}class yx extends S{constructor(t,e,i,s,r,o,a,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Tandgnost",this.tier=5,this.pack="Custom",this.attack=5,this.health=5,this.initPet(a,s,r,o,l)}}class _x extends S{constructor(t,e,i,s,r,o,a,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Tandgrisner",this.tier=5,this.pack="Custom",this.attack=5,this.health=5,this.initPet(a,s,r,o,l)}}class z_ extends S{constructor(t,e,i,s,r,o,a,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Great One",this.tier=6,this.pack="Custom",this.attack=7,this.health=13,this.initPet(a,s,r,o,l)}summoned(t,e){let i=[...this.parent.petArray,...this.parent.opponent.petArray];i=i.filter(s=>s!==this);for(let s of i)this.snipePet(s,6*this.level);this.superSummoned(t,e)}}class bx extends S{constructor(t,e,i,s,r,o,a,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Leviathan",this.tier=6,this.pack="Custom",this.attack=6,this.health=10,this.initPet(a,s,r,o,l)}}class Sx extends S{constructor(t,e,i,s,r,o,a,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Questing Beast",this.tier=6,this.pack="Custom",this.attack=7,this.health=9,this.initPet(a,s,r,o,l)}}class Ex extends S{constructor(t,e,i,s,r,o,a,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Cockatrice",this.tier=6,this.pack="Custom",this.attack=5,this.health=7,this.initPet(a,s,r,o,l)}startOfBattle(t,e){let i=this.parent.opponent.petArray.reverse(),s=null;for(let a of i)if(a.level<=this.level){s=a;break}if(null==s)return;this.logService.createLog({message:`${this.name} transformed ${s.name} into a Rock.`,type:"ability",player:this.parent,tiger:e});let r=new Kp(this.logService,this.abilityService,s.parent,s.health,s.attack,s.mana,s.exp,s.equipment);this.parent.opponent.setPet(s.position,r,!1)}}class wx extends S{constructor(t,e,i,s,r,o,a,l,h,f){super(t,e,r),this.logService=t,this.abilityService=e,this.petService=i,this.gameService=s,this.name="Good Dog",this.tier=5,this.pack="Unicorn",this.attack=3,this.health=3,this.hidden=!0,this.initPet(h,o,a,l,f)}startOfBattle(t,e){let i=this.parent.petArray,s=this.getInstanceOfAllEquipment(),r=Array.from(s.values());for(let o of i){let a=r[Math.floor(Math.random()*r.length)];this.logService.createLog({message:`${this.name} gave ${o.name} ${a.name}`,type:"ability",player:this.parent,randomEvent:!0}),o.givePetEquipment(a)}}getInstanceOfAllEquipment(){let t=new Map;return t.set("Garlic",new _h),t.set("Meat Bone",new __),t.set("Steak",new m1),t.set("Melon",new Ur),t.set("Honey",new Fp(this.logService,this.abilityService)),t.set("Chili",new vh(this.logService,this.abilityService)),t.set("Mushroom",new v1(this.logService,this.abilityService,this.petService)),t.set("Coconut",new jr),t.set("Peanut",new Ha),t.set("Croissant",new y1),t.set("Rice",new Hp),t.set("Egg",new qp(this.logService,this.abilityService)),t.set("Salt",new Rp),t.set("Pie",new P_),t.set("Skewer",new jp(this.logService)),t.set("Lemon",new _1),t.set("Pancakes",new A_),t.set("Strawberry",new b1),t.set("Cucumber",new S1),t.set("Cheese",new Lp),t.set("Grapes",new A1),t.set("Carrot",new P1),t.set("Pepper",new Bp),t.set("Popcorn",new T1(this.logService,this.abilityService,this.petService,this.gameService)),t.set("Cherry",new w1),t.set("Chocolate Cake",new Wp(this.logService,this.abilityService)),t.set("Eggplant",new T_(this.logService)),t.set("Potato",new k1),t.set("Banana",new E1(this.logService,this.abilityService)),t.set("Onion",new c_(this.logService)),t.set("Pita Bread",new x_(this.logService)),t.set("Tomato",new D1(this.logService,this.abilityService)),t.set("Durian",new C1(this.logService,this.abilityService)),t.set("Fortune Cookie",new Vp),t.set("Blueberry",new x1),t.set("Donut",new M1),t.set("Pineapple",new I1),t.set("Fig",new O1),t.set("Rambutan",new bh(this.logService)),t.set("Love Potion",new R_(this.logService)),t.set("Fairy Dust",new I_(this.logService)),t.set("Gingerbread Man",new O_(this.logService)),t.set("Easter Egg",new N1(this.logService,this.abilityService)),t.set("Health Potion",new N_(this.logService)),t.set("Magic Beans",new L1),t.set("Golden Egg",new R1(this.logService,this.abilityService)),t}}let K_=(()=>{class n{constructor(){this.logs=[]}createLog(e){e.tiger&&(e.message+=" (Tiger)"),e.puma&&(e.message+=" (Puma)"),e.pteranodon&&(e.message+=" (Pteranodon)"),null!=e.pantherMultiplier&&e.pantherMultiplier>1&&(e.message+=` x${e.pantherMultiplier} (Panther)`),this.logs.push(e)}getLogs(){return this.logs}reset(){this.logs=[]}printState(e,i,s){s&&this.createLog({message:s,type:"board"});let r="";r+=this.getPetText(e.pet4),r+=this.getPetText(e.pet3),r+=this.getPetText(e.pet2),r+=this.getPetText(e.pet1),r+=this.getPetText(e.pet0);let o="";o+=this.getPetText(i.pet0),o+=this.getPetText(i.pet1),o+=this.getPetText(i.pet2),o+=this.getPetText(i.pet3),o+=this.getPetText(i.pet4),this.createLog({message:`${r}| ${o}`,type:"board"})}getPetText(e){return null==e?"___ (-/-) ":`${e.name.substring(0,3)} (${e.attack}/${e.health}) `}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=le({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Sh=(()=>{class n{constructor(){}init(e,i){this.gameApi={player:e,opponet:i}}setTierGroupPets(e,i){null!=e&&(this.gameApi.playerPetPool=e),null!=i&&(this.gameApi.opponentPetPool=i)}setPreviousShopTier(e){this.gameApi.previousShopTier=e}setTurnNumber(e){this.gameApi.turnNumber=e}setGoldSpent(e,i){null!=e&&(this.gameApi.playerGoldSpent=e),null!=i&&(this.gameApi.opponentGoldSpent=i)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=le({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Y_=(()=>{class n{constructor(e){this.gameService=e,this.startOfBattleEvents=[],this.hurtEvents=[],this.faintEvents=[],this.summonedEvents=[],this.friendFaintsEvents=[],this.spawnEvents=[],this.friendAheadAttacksEvents=[],this.afterAttackEvents=[],this.friendAheadFaintsEvents=[],this.knockOutEvents=[],this.beforeAttackEvents=[],this.equipmentBeforeAttackEvents=[],this.friendGainedPerkEvents=[],this.friendGainedAilmentEvents=[],this.enemyGainedAilmentEvents=[],this.friendlyToyBrokeEvents=[],this.transformEvents=[],this.enemySummonedEvents=[],this.friendHurtEvents=[],this.levelUpEvents=[],this.enemyHurtEvents=[],this.emptyFrontSpaceEvents=[],this.friendAttacksEvents=[],this.friendJumpedEvents=[],this.manaEvents=[],this.friendGainsHealthEvents=[],this.emptyFrontSpaceToyEvents=[],this.friendSummonedToyEvents=[],this.friendlyLevelUpToyEvents=[],this.friendFaintsToyEvents=[],this.friendJumpedToyEvents=[]}get hasAbilityCycleEvents(){return this.hasFaintEvents||this.hasSummonedEvents||this.hasHurtEvents||this.hasEquipmentBeforeAttackEvents||this.hasFriendHurtEvents||this.hasEnemyHurtEvents||this.hasKnockOutEvents||this.hasEmptyFrontSpaceEvents||this.hasFriendFaintsEvents||this.hasSpawnEvents||this.hasFriendAheadFaintsEvents||this.hasEnemySummonedEvents}initEndTurnEvents(e){let i=[];for(let s of e.petArray)s.endTurn&&i.push({callback:s.endTurn.bind(s),priority:s.attack,player:e});i=(0,ge.shuffle)(i),i.sort((s,r)=>s.priority>r.priority?-1:s.priority<r.priority?1:0);for(let s of i)s.callback(this.gameService.gameApi)}initStartOfBattleEvents(){this.gameApi=this.gameService.gameApi;for(let e of this.gameApi.player.petArray)null!=e.startOfBattle&&this.startOfBattleEvents.push({callback:()=>{e.startOfBattle(this.gameApi)},priority:e.attack,player:this.gameApi.player});for(let e of this.gameApi.opponet.petArray)null!=e.startOfBattle&&this.startOfBattleEvents.push({callback:()=>{e.startOfBattle(this.gameApi)},priority:e.attack,player:this.gameApi.opponet});this.executeStartOfBattleEvents()}setStartOfBattleEvent(e){this.startOfBattleEvents.push(e)}resetStartOfBattleEvents(){this.startOfBattleEvents=[]}executeStartOfBattleEvents(){this.startOfBattleEvents=(0,ge.shuffle)(this.startOfBattleEvents),this.startOfBattleEvents.sort((e,i)=>e.priority>i.priority?-1:e.priority<i.priority?1:0);for(let e of this.startOfBattleEvents)e.callback(this.gameService.gameApi);this.resetStartOfBattleEvents()}setHurtEvent(e){this.hurtEvents.push(e)}resetHurtEvents(){this.hurtEvents=[]}executeHurtEvents(){this.hurtEvents=(0,ge.shuffle)(this.hurtEvents),this.hurtEvents.sort((e,i)=>e.priority>i.priority?-1:e.priority<i.priority?1:0);for(let e of this.hurtEvents)e.callback(this.gameService.gameApi,e.callbackPet);this.resetHurtEvents()}get hasHurtEvents(){return this.hurtEvents.length>0}setFaintEvent(e){this.faintEvents.push(e)}resetFaintEvents(){this.faintEvents=[]}executeFaintEvents(){this.faintEvents=(0,ge.shuffle)(this.faintEvents),this.faintEvents.sort((e,i)=>e.priority>i.priority?-1:e.priority<i.priority?1:0);for(let e of this.faintEvents)e.callback(this.gameService.gameApi);this.resetFaintEvents()}get hasFaintEvents(){return this.faintEvents.length>0}triggerSummonedEvents(e){this.triggerFriendSummonedToyEvents(e.parent,e);for(let i of e.parent.petArray)i!=e&&null!=i.friendSummoned&&this.setSummonedEvent({callback:i.friendSummoned.bind(i),priority:i.attack,callbackPet:e})}setSummonedEvent(e){this.summonedEvents.push(e)}resetSummonedEvents(){this.summonedEvents=[]}executeSummonedEvents(){this.summonedEvents=(0,ge.shuffle)(this.summonedEvents),this.summonedEvents.sort((e,i)=>e.priority>i.priority?-1:e.priority<i.priority?1:0);for(let e of this.summonedEvents)e.callback(this.gameService.gameApi,e.callbackPet);this.resetSummonedEvents()}get hasSummonedEvents(){return this.summonedEvents.length>0}setSpawnEvent(e){this.spawnEvents.push(e)}resetSpawnEvents(){this.spawnEvents=[]}executeSpawnEvents(){this.spawnEvents=(0,ge.shuffle)(this.spawnEvents),this.spawnEvents.sort((e,i)=>e.priority>i.priority?-1:e.priority<i.priority?1:0);for(let e of this.spawnEvents)e.callback();this.resetSpawnEvents()}get hasSpawnEvents(){return this.spawnEvents.length>0}setFriendAheadAttacksEvents(e){this.friendAheadAttacksEvents.push(e)}resetFriendAheadAttacksEvents(){this.friendAheadAttacksEvents=[]}executeFriendAheadAttacksEvents(){this.friendAheadAttacksEvents=(0,ge.shuffle)(this.friendAheadAttacksEvents),this.friendAheadAttacksEvents.sort((e,i)=>e.priority>i.priority?-1:e.priority<i.priority?1:0);for(let e of this.friendAheadAttacksEvents)e.callback(this.gameService.gameApi,e.callbackPet);this.resetFriendAheadAttacksEvents()}setAfterAttackEvent(e){this.afterAttackEvents.push(e)}resetAfterAttackEvents(){this.afterAttackEvents=[]}executeAfterAttackEvents(){this.afterAttackEvents=(0,ge.shuffle)(this.afterAttackEvents),this.afterAttackEvents.sort((e,i)=>e.priority>i.priority?-1:e.priority<i.priority?1:0);for(let e of this.afterAttackEvents)e.callback(this.gameService.gameApi);this.resetAfterAttackEvents()}setFriendAheadFaintsEvent(e){this.friendAheadFaintsEvents.push(e)}resetFriendAheadFaintsEvents(){this.friendAheadFaintsEvents=[]}executeFriendAheadFaintsEvents(){this.friendAheadFaintsEvents=(0,ge.shuffle)(this.friendAheadFaintsEvents),this.friendAheadFaintsEvents.sort((e,i)=>e.priority>i.priority?-1:e.priority<i.priority?1:0);for(let e of this.friendAheadFaintsEvents)e.callback(this.gameService.gameApi,e.callbackPet);this.resetFriendAheadFaintsEvents()}get hasFriendAheadFaintsEvents(){return this.friendAheadFaintsEvents.length>0}setKnockOutEvent(e){this.knockOutEvents.push(e)}resetKnockOutEvents(){this.knockOutEvents=[]}executeKnockOutEvents(){this.knockOutEvents=(0,ge.shuffle)(this.knockOutEvents),this.knockOutEvents.sort((e,i)=>e.priority>i.priority?-1:e.priority<i.priority?1:0);for(let e of this.knockOutEvents)e.callback(this.gameService.gameApi,e.callbackPet);this.resetKnockOutEvents()}get hasKnockOutEvents(){return this.knockOutEvents.length>0}triggerFriendFaintsEvents(e){this.triggerFriendFaintsToyEvents(e.parent,e);for(let i of e.parent.petArray)null!=i.friendFaints&&this.setFriendFaintsEvent({callback:i.friendFaints.bind(i),priority:i.attack,callbackPet:e})}setFriendFaintsEvent(e){this.friendFaintsEvents.push(e)}resetFriendFaintsEvents(){this.friendFaintsEvents=[]}executeFriendFaintsEvents(){this.friendFaintsEvents=(0,ge.shuffle)(this.friendFaintsEvents),this.friendFaintsEvents.sort((e,i)=>e.priority>i.priority?-1:e.priority<i.priority?1:0);for(let e of this.friendFaintsEvents)e.callback(this.gameService.gameApi,e.callbackPet,null);this.resetFriendFaintsEvents()}get hasFriendFaintsEvents(){return this.friendFaintsEvents.length>0}setBeforeAttackEvent(e){this.beforeAttackEvents.push(e)}resetBeforeAttackEvents(){this.beforeAttackEvents=[]}executeBeforeAttackEvents(){this.beforeAttackEvents=(0,ge.shuffle)(this.beforeAttackEvents),this.beforeAttackEvents.sort((e,i)=>e.priority>i.priority?-1:e.priority<i.priority?1:0);for(let e of this.beforeAttackEvents)e.callback(this.gameService.gameApi);this.resetBeforeAttackEvents()}setEqiupmentBeforeAttackEvent(e){this.equipmentBeforeAttackEvents.push(e)}resetEqiupmentBeforeAttackEvents(){this.equipmentBeforeAttackEvents=[]}executeEqiupmentBeforeAttackEvents(){this.equipmentBeforeAttackEvents=(0,ge.shuffle)(this.equipmentBeforeAttackEvents),this.equipmentBeforeAttackEvents.sort((e,i)=>e.priority>i.priority?-1:e.priority<i.priority?1:0);for(let e of this.equipmentBeforeAttackEvents)e.callback(this.gameService.gameApi);this.resetEqiupmentBeforeAttackEvents()}get hasEquipmentBeforeAttackEvents(){return this.hurtEvents.length>0}triggerFriendGainedPerkEvents(e){for(let i of e.parent.petArray)null!=i.friendGainedPerk&&this.setFriendGainedPerkEvent({callback:i.friendGainedPerk.bind(i),priority:i.attack,callbackPet:e})}setFriendGainedPerkEvent(e){this.friendGainedPerkEvents.push(e)}resetFriendGainedPerkEvents(){this.friendGainedPerkEvents=[]}executeFriendGainedPerkEvents(){this.friendGainedPerkEvents=(0,ge.shuffle)(this.friendGainedPerkEvents),this.friendGainedPerkEvents.sort((e,i)=>e.priority>i.priority?-1:e.priority<i.priority?1:0);for(let e of this.friendGainedPerkEvents)e.callback(this.gameService.gameApi,e.callbackPet);this.resetFriendGainedPerkEvents()}triggerFriendGainedAilmentEvents(e){for(let i of e.parent.petArray)null!=i.friendGainedAilment&&this.setFriendGainedAilmentEvent({callback:i.friendGainedAilment.bind(i),priority:i.attack,callbackPet:e})}setFriendGainedAilmentEvent(e){this.friendGainedAilmentEvents.push(e)}resetFriendGainedAilmentEvents(){this.friendGainedAilmentEvents=[]}executeFriendGainedAilmentEvents(){this.friendGainedAilmentEvents.sort((e,i)=>e.priority>i.priority?-1:e.priority<i.priority?1:0);for(let e of this.friendGainedAilmentEvents)e.callback(this.gameService.gameApi,e.callbackPet);this.resetFriendGainedAilmentEvents()}triggerEnemyGainedAilmentEvents(e,i){for(let s of e)null!=s.enemyGainedAilment&&this.setEnemyGainedAilmentEvent({callback:s.enemyGainedAilment.bind(s),priority:s.attack,callbackPet:i})}setEnemyGainedAilmentEvent(e){this.enemyGainedAilmentEvents.push(e)}resetEnemyGainedAilmentEvents(){this.enemyGainedAilmentEvents=[]}executeEnemyGainedAilmentEvents(){this.enemyGainedAilmentEvents.sort((e,i)=>e.priority>i.priority?-1:e.priority<i.priority?1:0);for(let e of this.enemyGainedAilmentEvents)e.callback(this.gameService.gameApi,e.callbackPet);this.resetEnemyGainedAilmentEvents()}triggerFriendlyToyBrokeEvents(e){for(let i of e.petArray)null!=i.friendlyToyBroke&&this.setFriendlyToyBrokeEvent({callback:i.friendlyToyBroke.bind(i),priority:i.attack})}setFriendlyToyBrokeEvent(e){this.friendlyToyBrokeEvents.push(e)}resetFriendlyToyBrokeEvents(){this.friendlyToyBrokeEvents=[]}executeFriendlyToyBrokeEvents(){this.friendlyToyBrokeEvents=(0,ge.shuffle)(this.friendlyToyBrokeEvents),this.friendlyToyBrokeEvents.sort((e,i)=>e.priority>i.priority?-1:e.priority<i.priority?1:0);for(let e of this.friendlyToyBrokeEvents)e.callback(this.gameService.gameApi,!1);this.resetFriendlyToyBrokeEvents()}triggerTransformEvents(e){for(let i of e.petArray)null!=i.transform&&this.setTransformEvent({callback:i.transform.bind(i),priority:i.attack})}setTransformEvent(e){this.transformEvents.push(e)}resetTransformEvents(){this.transformEvents=[]}executeTransformEvents(){this.transformEvents=(0,ge.shuffle)(this.transformEvents),this.transformEvents.sort((e,i)=>e.priority>i.priority?-1:e.priority<i.priority?1:0);for(let e of this.transformEvents)e.callback(this.gameService.gameApi,!1);this.resetTransformEvents()}triggerEnemySummonedEvents(e,i){for(let s of e.petArray)null!=s.enemySummoned&&this.setEnemySummonedEvent({callback:s.enemySummoned.bind(s),priority:s.attack,callbackPet:i})}setEnemySummonedEvent(e){this.enemySummonedEvents.push(e)}resetEnemySummonedEvents(){this.enemySummonedEvents=[]}executeEnemySummonedEvents(){this.enemySummonedEvents=(0,ge.shuffle)(this.enemySummonedEvents),this.enemySummonedEvents.sort((e,i)=>e.priority>i.priority?-1:e.priority<i.priority?1:0);for(let e of this.enemySummonedEvents)e.callback(this.gameService.gameApi,e.callbackPet,!1);this.resetEnemySummonedEvents()}get hasEnemySummonedEvents(){return this.enemySummonedEvents.length>0}triggerFriendHurtEvents(e,i){for(let s of e.petArray)null!=s.friendHurt&&this.setFriendHurtEvent({callback:s.friendHurt.bind(s),priority:s.attack,callbackPet:i})}setFriendHurtEvent(e){this.friendHurtEvents.push(e)}resetFriendHurtEvents(){this.friendHurtEvents=[]}executeFriendHurtEvents(){this.friendHurtEvents=(0,ge.shuffle)(this.friendHurtEvents),this.friendHurtEvents.sort((e,i)=>e.priority>i.priority?-1:e.priority<i.priority?1:0);for(let e of this.friendHurtEvents)e.callback(this.gameService.gameApi,e.callbackPet,!1);this.resetFriendHurtEvents()}get hasFriendHurtEvents(){return this.friendHurtEvents.length>0}triggerLevelUpEvents(e,i){this.triggerFriendlyLevelUpToyEvents(e,i);for(let s of e.petArray)null!=s.anyoneLevelUp&&this.setLevelUpEvent({callback:s.anyoneLevelUp.bind(s),priority:s.attack,callbackPet:i})}setLevelUpEvent(e){this.levelUpEvents.push(e)}resetLevelUpEvents(){this.levelUpEvents=[]}executeLevelUpEvents(){this.levelUpEvents=(0,ge.shuffle)(this.levelUpEvents),this.levelUpEvents.sort((e,i)=>e.priority>i.priority?-1:e.priority<i.priority?1:0);for(let e of this.levelUpEvents)e.callback(this.gameService.gameApi,e.callbackPet,!1);this.resetLevelUpEvents()}triggerEmptyFrontSpaceEvents(e){for(let i of e.petArray)null!=i.emptyFrontSpace&&this.setEmptyFrontSpaceEvent({callback:i.emptyFrontSpace.bind(i),priority:i.attack})}setEmptyFrontSpaceEvent(e){this.emptyFrontSpaceEvents.push(e)}resetEmptyFrontSpaceEvents(){this.emptyFrontSpaceEvents=[]}executeEmptyFrontSpaceEvents(){this.emptyFrontSpaceEvents=(0,ge.shuffle)(this.emptyFrontSpaceEvents),this.emptyFrontSpaceEvents.sort((e,i)=>e.priority>i.priority?-1:e.priority<i.priority?1:0);for(let e of this.emptyFrontSpaceEvents)e.callback(this.gameService.gameApi,!1);this.resetEmptyFrontSpaceEvents()}get hasEmptyFrontSpaceEvents(){return this.emptyFrontSpaceEvents.length>0}triggerEnemyHurtEvents(e,i){for(let s of e.petArray)null!=s.enemyHurt&&this.setEnemyHurtEvent({callback:s.enemyHurt.bind(s),priority:s.attack,callbackPet:i})}setEnemyHurtEvent(e){this.enemyHurtEvents.push(e)}resetEnemyHurtEvents(){this.enemyHurtEvents=[]}executeEnemyHurtEvents(){this.enemyHurtEvents=(0,ge.shuffle)(this.enemyHurtEvents),this.enemyHurtEvents.sort((e,i)=>e.priority>i.priority?-1:e.priority<i.priority?1:0);for(let e of this.enemyHurtEvents)e.callback(this.gameService.gameApi,e.callbackPet,!1);this.resetEnemyHurtEvents()}get hasEnemyHurtEvents(){return this.enemyHurtEvents.length>0}triggerFriendAttacksEvents(e,i){for(let s of e.petArray)s!=i&&null!=s.friendAttacks&&this.setFriendAttacksEvent({callback:s.friendAttacks.bind(s),priority:s.attack})}setFriendAttacksEvent(e){this.friendAttacksEvents.push(e)}resetFriendAttacksEvents(){this.friendAttacksEvents=[]}executeFriendAttacksEvents(){this.friendAttacksEvents=(0,ge.shuffle)(this.friendAttacksEvents),this.friendAttacksEvents.sort((e,i)=>e.priority>i.priority?-1:e.priority<i.priority?1:0);for(let e of this.friendAttacksEvents)e.callback(this.gameService.gameApi,!1);this.resetFriendAttacksEvents()}triggerFriendJumpedEvents(e,i){for(let s of e.petArray)s!=i&&null!=s.friendJumped&&this.setFriendJumpedEvent({callback:s.friendJumped.bind(s),priority:s.attack,callbackPet:i})}setFriendJumpedEvent(e){this.friendJumpedEvents.push(e)}resetFriendJumpedEvents(){this.friendJumpedEvents=[]}executeFriendJumpedEvents(){this.friendJumpedEvents=(0,ge.shuffle)(this.friendJumpedEvents),this.friendJumpedEvents.sort((e,i)=>e.priority>i.priority?-1:e.priority<i.priority?1:0);for(let e of this.friendJumpedEvents)e.callback(this.gameService.gameApi,e.callbackPet,!1);this.resetFriendJumpedEvents()}setManaEvent(e){this.manaEvents.push(e)}resetManaEvents(){this.manaEvents=[]}executeManaEvents(){this.manaEvents=(0,ge.shuffle)(this.manaEvents),this.manaEvents.sort((e,i)=>e.priority>i.priority?-1:e.priority<i.priority?1:0);for(let e of this.manaEvents)e.callback();this.resetManaEvents()}triggerFriendGainsHealthEvents(e,i){for(let s of e.petArray)s!=i&&null!=s.friendGainsHealth&&this.setFriendGainsHealthEvent({callback:s.friendGainsHealth.bind(s),priority:s.attack,callbackPet:i})}setFriendGainsHealthEvent(e){this.friendGainsHealthEvents.push(e)}resetFriendGainsHealthEvents(){this.friendGainsHealthEvents=[]}executeFriendGainsHealthEvents(){this.friendGainsHealthEvents=(0,ge.shuffle)(this.friendGainsHealthEvents),this.friendGainsHealthEvents.sort((e,i)=>e.priority>i.priority?-1:e.priority<i.priority?1:0);for(let e of this.friendGainsHealthEvents)e.callback(this.gameApi,e.callbackPet);this.resetFriendGainsHealthEvents()}triggerEmptyFrontSpaceToyEvents(e){var i;if(null!=(null===(i=e.toy)||void 0===i?void 0:i.emptyFromSpace)){if(e.toy.used)return;this.setEmptyFrontSpaceToyEvent({callback:e.toy.emptyFromSpace.bind(e.toy),priority:100,level:e.toy.level});let s=e.petArray.filter(r=>r instanceof Sr);for(let r of s)this.setEmptyFrontSpaceToyEvent({callback:e.toy.emptyFromSpace.bind(e.toy),priority:+r.attack,level:r.level})}}setEmptyFrontSpaceToyEvent(e){this.emptyFrontSpaceToyEvents.push(e)}resetEmptyFrontSpaceToyEvents(){this.emptyFrontSpaceToyEvents=[]}executeEmptyFrontSpaceToyEvents(){this.emptyFrontSpaceToyEvents=(0,ge.shuffle)(this.emptyFrontSpaceToyEvents),this.emptyFrontSpaceToyEvents.sort((e,i)=>e.priority>i.priority?-1:e.priority<i.priority?1:0);for(let e of this.emptyFrontSpaceToyEvents)e.callback(this.gameService.gameApi,e.priority<100,e.level,e.priority);this.resetEmptyFrontSpaceToyEvents()}triggerFriendSummonedToyEvents(e,i){var s;if(null!=(null===(s=e.toy)||void 0===s?void 0:s.friendSummoned)){this.setFriendSummonedToyEvent({callback:e.toy.friendSummoned.bind(e.toy),priority:100,level:e.toy.level,callbackPet:i});let r=e.petArray.filter(o=>o instanceof Sr);for(let o of r)this.setFriendSummonedToyEvent({callback:e.toy.friendSummoned.bind(e.toy),priority:+o.attack,level:o.level,callbackPet:i})}}setFriendSummonedToyEvent(e){this.friendSummonedToyEvents.push(e)}resetFriendSummonedToyEvents(){this.friendSummonedToyEvents=[]}executeFriendSummonedToyEvents(){this.friendSummonedToyEvents=(0,ge.shuffle)(this.friendSummonedToyEvents),this.friendSummonedToyEvents.sort((e,i)=>e.priority>i.priority?-1:e.priority<i.priority?1:0);for(let e of this.friendSummonedToyEvents)e.callback(this.gameService.gameApi,e.callbackPet,e.priority<100,e.level);this.resetFriendSummonedToyEvents()}triggerFriendlyLevelUpToyEvents(e,i){var s;if(e==i.parent&&null!=(null===(s=e.toy)||void 0===s?void 0:s.friendlyLevelUp)){this.setFriendlyLevelUpToyEvent({callback:e.toy.friendlyLevelUp.bind(e.toy),priority:100,level:e.toy.level,callbackPet:i});let r=e.petArray.filter(o=>o instanceof Sr);for(let o of r)this.setFriendlyLevelUpToyEvent({callback:e.toy.friendlyLevelUp.bind(e.toy),priority:+o.attack,level:o.level,callbackPet:i})}}setFriendlyLevelUpToyEvent(e){this.friendlyLevelUpToyEvents.push(e)}resetFriendlyLevelUpToyEvents(){this.friendlyLevelUpToyEvents=[]}executeFriendlyLevelUpToyEvents(){this.friendlyLevelUpToyEvents=(0,ge.shuffle)(this.friendlyLevelUpToyEvents),this.friendlyLevelUpToyEvents.sort((e,i)=>e.priority>i.priority?-1:e.priority<i.priority?1:0);for(let e of this.friendlyLevelUpToyEvents)e.callback(this.gameService.gameApi,e.callbackPet,e.priority<100,e.level);this.resetFriendlyLevelUpToyEvents()}triggerFriendFaintsToyEvents(e,i){var s;if(e==i.parent&&null!=(null===(s=e.toy)||void 0===s?void 0:s.friendFaints)){this.setFriendFaintsToyEvent({callback:e.toy.friendFaints.bind(e.toy),priority:100,level:e.toy.level,callbackPet:i});let r=e.petArray.filter(o=>o instanceof Sr);for(let o of r)this.setFriendFaintsToyEvent({callback:e.toy.friendFaints.bind(e.toy),priority:+o.attack,level:+o.level,callbackPet:i})}}setFriendFaintsToyEvent(e){this.friendFaintsToyEvents.push(e)}resetFriendFaintsToyEvents(){this.friendFaintsToyEvents=[]}executeFriendFaintsToyEvents(){this.friendFaintsToyEvents=(0,ge.shuffle)(this.friendFaintsToyEvents),this.friendFaintsToyEvents.sort((e,i)=>e.priority>i.priority?-1:e.priority<i.priority?1:0);for(let e of this.friendFaintsToyEvents)e.callback(this.gameService.gameApi,e.callbackPet,e.priority<100,e.level);this.resetFriendFaintsToyEvents()}triggerFriendJumpedToyEvents(e,i){var s;if(e==i.parent&&null!=(null===(s=e.toy)||void 0===s?void 0:s.friendJumped)){this.setFriendJumpedToyEvent({callback:e.toy.friendJumped.bind(e.toy),priority:100,level:e.toy.level,callbackPet:i});let r=e.petArray.filter(o=>o instanceof Sr);for(let o of r)this.setFriendJumpedToyEvent({callback:e.toy.friendJumped.bind(e.toy),priority:+o.attack,level:o.level,callbackPet:i})}}setFriendJumpedToyEvent(e){this.friendJumpedToyEvents.push(e)}resetFriendJumpedToyEvents(){this.friendJumpedToyEvents=[]}executeFriendJumpedToyEvents(){this.friendJumpedToyEvents=(0,ge.shuffle)(this.friendJumpedToyEvents),this.friendJumpedToyEvents.sort((e,i)=>e.priority>i.priority?-1:e.priority<i.priority?1:0);for(let e of this.friendJumpedToyEvents)e.callback(this.gameService.gameApi,e.callbackPet,e.priority<100,e.level);this.resetFriendJumpedToyEvents()}}return n.\u0275fac=function(e){return new(e||n)($(Sh))},n.\u0275prov=le({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Q_=(()=>{class n{constructor(e,i,s){this.logService=e,this.abilityService=i,this.gameService=s,this.turtlePackPets=new Map,this.puppyPackPets=new Map,this.starPackPets=new Map,this.goldenPackPets=new Map,this.unicornPackPets=new Map,this.customPackPets=new Map,this.playerCustomPackPets=new Map,this.allPets=new Map,this.startOfBattlePets=["Beetle","Cone Snail","Frilled Dragon","Frog","Gecko","Goose","Hummigbird","Mosquito","Moth","Seahorse","Atlantic Puffin","Bat","Crab","Panda","Robin","Salamander","Wombat","Dodo","Dolphin","Eel","Meerkat","Pug","Woodpecker","Doberman","Hawk","Lynx","Pelican","Skunk","Whale","Armadillo","Crocodile","Hyena","Macaque","Sword Fish","Highland Cow","Leopard","Mantis Shrimp","Stegosaurus","Velociraptor","White Tiger","Alchemedes","Axehandle Hound","Barghest","Bunyip","Sneaky Egg","Tsuchinoko","Ogopogo","Thunderbird","Mana Hound","Mandrake","Kraken","Roc","Red Dragon","Salmon of Knowledge","Werewolf","Sleipnir","Basilisk","Tree","Anubis","Cockatrice"]}buildCustomPackPets(e){for(let i of e.controls){let s=new Map;for(let r=1;r<=6;r++)s.set(r,i.get(`tier${r}Pets`).value);this.playerCustomPackPets.set(i.get("name").value,s)}}init(){this.turtlePackPets.set(1,["Ant","Cricket","Duck","Fish","Horse","Mosquito","Beaver","Otter","Pig","Pigeon"]),this.turtlePackPets.set(2,["Snail","Crab","Swan","Rat","Hedgehog","Peacock","Flamingo","Worm","Kangaroo","Spider"]),this.turtlePackPets.set(3,["Dodo","Badger","Dolphin","Giraffe","Elephant","Camel","Rabbit","Ox","Dog","Sheep"]),this.turtlePackPets.set(4,["Skunk","Hippo","Bison","Blowfish","Turtle","Squirrel","Penguin","Deer","Whale","Parrot"]),this.turtlePackPets.set(5,["Scorpion","Crocodile","Rhino","Monkey","Armadillo","Cow","Seal","Rooster","Shark","Turkey"]),this.turtlePackPets.set(6,["Leopard","Tiger","Boar","Wolverine","Gorilla","Dragon","Mammoth","Cat","Snake","Fly"]),this.puppyPackPets.set(1,["Duck","Beaver","Moth","Bluebird","Chinchilla","Beetle","Ladybug","Chipmunk","Gecko","Ferret"]),this.puppyPackPets.set(2,["Frigatebird","Robin","Bat","Dromedary","Shrimp","Toucan","Beluga Sturgeon","Tabby Cat","Mandrill","Lemur"]),this.puppyPackPets.set(3,["Hoopoe Bird","Tropical Fish","Hatching Chick","Goldfish","Owl","Mole","Flying Squirrel","Pangolin","Puppy","Hare"]),this.puppyPackPets.set(4,["Microbe","Lobster","Buffalo","Llama","Caterpillar","Doberman","Tahr","Whale Shark","Chameleon","Gharial"]),this.puppyPackPets.set(5,["Stonefish","Poodle","Goat","Chicken","Eagle","Panther","Axolotl","Snapping Turtle","Mosasaurus","String Ray"]),this.puppyPackPets.set(6,["Dragon","Mantis Shrimp","Lionfish","Tyrannosaurus","Octopus","Anglerfish","Sauropod","Elephant Seal","Puma","Mongoose"]),this.starPackPets.set(1,["Mouse","Pillbug","Duckling","Cockroach","Frog","Seahorse","Hummingbird","Marmoset","Kiwi"]),this.starPackPets.set(2,["Koala","Yak","Salamander","Panda","Guinea Pig","Jellyfish","Atlantic Puffin","Dove","Stork","Iguana"]),this.starPackPets.set(3,["Leech","Woodpecker","Toad","Cabybara","Okapi","Cassowary","Anteater","Pug","Eel"]),this.starPackPets.set(4,["Orangutang","Hawk","Clownfish","Platypus","Praying Mantis","Crow","Donkey","Pelican","Starfish","Blobfish"]),this.starPackPets.set(5,["Sword Fish","Polar Bear","Siberian Husky","Lion","Triceratops","Zebra","Fox","Hamster","Shoebill","Vulture"]),this.starPackPets.set(6,["Komodo","Ostrich","Reindeer","Stegosaurus","Piranha","Hammerhead Shark","Velociraptor","Sabertooth Tiger","Orca","Spinosaurus"]),this.goldenPackPets.set(1,["Chipmunk","Bulldog","Groundhog","Cone Snail","Goose","Pied Tamarin","Opossum","Silkmoth","Magpie"]),this.goldenPackPets.set(2,["Hercules Beetle","Stoat","Black Necked Stilt","Squid","Sea Urchin","Door Head Ant","Lizard","Sea Turtle","African Penguin"]),this.goldenPackPets.set(3,["Musk Ox","Flea","Royal Flycatcher","Surgeon Fish","Weasel","Guineafowl","Betta Fish","Meerkat","Flying Fish","Baboon","Osprey"]),this.goldenPackPets.set(4,["Manatee","Cuttlefish","Saiga Antelope","Sealion","Vaquita","Slug","Poison Dart Frog","Secretary Bird","Falcon","Manta Ray","Cockatoo"]),this.goldenPackPets.set(5,["Macaque","Nyala","Nurse Shark","Beluga Whale","Wolf","Silver Fox","Fire Ant","Blue Ringed Octopus","Crane","Emu","Egyptian Vulture"]),this.goldenPackPets.set(6,["Wildebeast","Highland Cow","Catfish","Pteranodon","Warthog","Cobra","Grizzly Bear","German Shephard","Bird of Paradise","Oyster"]),this.unicornPackPets.set(1,["Baku","Axehandle Hound","Barghest","Tsuchinoko","Murmel","Alchemedes","Warg","Bunyip","Sneaky Egg","Cuddle Toad"]),this.unicornPackPets.set(2,["Ghost Kitten","Frost Wolf","Mothman","Drop Bear","Jackalope","Lucky Cat","Ogopogo","Thunderbird","Gargoyle","Bigfoot"]),this.unicornPackPets.set(3,["Skeleton Dog","Mandrake","Fur-Bearing Trout","Mana Hound","Calygreyhound","Brain Cramp","Minotaur","Wyvern","Ouroboros","Griffin"]),this.unicornPackPets.set(4,["Kraken","Visitor","Vampire Bat","Tiger Bug","Tatzelwurm","Cyclops","Chimera","Roc","Worm of Sand","Abomination"]),this.unicornPackPets.set(5,["Red Dragon","Unicorn","Loveland Frogman","Salmon of Knowledge","Jersey Devil","Pixiu","Kitsune","Nessie","Bad Dog","Werewolf"]),this.unicornPackPets.set(6,["Manticore","Phoenix","Quetzalcoatl","Team Spirit","Sleipnir","Sea Serpent","Yeti","Cerberus","Hydra","Behemoth"]),this.customPackPets.set(1,["Frilled Dragon","Mouse","Basilisk"]),this.customPackPets.set(2,["Wombat","Nightcrawler","Sphinx","Chupacabra","Golden Beetle"]),this.customPackPets.set(3,["Aardvark","Bear","Emperor Tamarin","Porcupine","Wasp","Foo Dog","Tree","Slime","Pegasus","Deer Lord"]),this.customPackPets.set(4,["Jerboa","Dragonfly","Lynx","Seagull","Fairy","Rootling","Anubis","Old Mouse","Hippocampus"]),this.customPackPets.set(5,["Alpaca","Hyena","Moose","Raccoon","Boitata","Kappa","Mimic","Nurikabe","Tandgnost","Tandgrisner"]),this.customPackPets.set(6,["Lioness","Tapir","Walrus","White Tiger","Great One","Leviathan","Questing Beast","Cockatrice"]),this.setAllPets()}setAllPets(){this.allPets=new Map;for(let e=1;e<=6;e++)this.allPets.set(e,[]);for(let[e,i]of this.turtlePackPets)this.allPets.get(e).push(...i);for(let[e,i]of this.puppyPackPets)this.allPets.get(e).push(...i);for(let[e,i]of this.starPackPets)this.allPets.get(e).push(...i);for(let[e,i]of this.goldenPackPets)this.allPets.get(e).push(...i);for(let[e,i]of this.unicornPackPets)this.allPets.get(e).push(...i);for(let[e,i]of this.allPets)this.allPets.set(e,[...new Set(i)])}createPet(e,i){switch(e.name){case"Ant":return new u_(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Cricket":return new tk(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Fish":return new ik(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Horse":return new nk(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Mosquito":return new sk(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Duck":return new h_(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Beaver":return new d_(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Otter":return new rk(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Pig":return new ok(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Mouse":return new ak(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Pigeon":return new W1(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Snail":return new e7(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Crab":return new lk(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Swan":return new ck(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Rat":return new uk(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Hedgehog":return new hk(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Peacock":return new dk(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Flamingo":return new fk(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Worm":return new pk(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Kangaroo":return new gk(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Spider":return new mk(this.logService,this.abilityService,this,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Dodo":return new vk(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Badger":return new yk(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Dolphin":return new p_(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Giraffe":return new _k(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Elephant":return new bk(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Camel":return new Sk(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Rabbit":return new Ek(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Ox":return new wk(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Dog":return new Ck(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Sheep":return new kk(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Skunk":return new Ak(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Hippo":return new Tk(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Bison":return new xk(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Blowfish":return new Mk(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Turtle":return new Ik(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Squirrel":return new Ok(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Penguin":return new Nk(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Deer":return new Rk(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Whale":return new Lk(this.logService,this.abilityService,this,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Parrot":return new Pk(this.logService,this.abilityService,this,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Scorpion":return new Bk(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Crocodile":return new Vk(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Rhino":return new $k(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Monkey":return new v_(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Armadillo":return new Fk(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Cow":return new Hk(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Seal":return new qk(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Rooster":return new Gk(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Shark":return new Uk(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Turkey":return new jk(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Leopard":return new Wk(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Boar":return new zk(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Tiger":return new Dk(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Wolverine":return new Kk(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Gorilla":return new Yk(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Dragon":return new Qk(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Mammoth":return new Jk(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Cat":return new Zk(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Snake":return new Xk(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Fly":return new eD(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Moth":return new tD(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Bluebird":return new iD(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Chinchilla":return new nD(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Beetle":return new sD(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Ladybug":return new rD(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Chipmunk":return new oD(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Gecko":return new aD(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Ferret":return new lD(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Frigatebird":return new uD(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Robin":return new hD(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Bat":return new cD(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Dromedary":return new dD(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Shrimp":return new fD(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Toucan":return new pD(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Beluga Sturgeon":return new gD(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Tabby Cat":return new mD(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Mandrill":return new vD(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Lemur":return new yD(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Hoopoe Bird":return new _D(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Tropical Fish":return new bD(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Hatching Chick":return new SD(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Goldfish":return new ED(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Owl":return new wD(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Mole":return new Up(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Raccoon":return new CD(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Flying Squirrel":return new b_(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Pangolin":return new kD(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Puppy":return new DD(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Hare":return new z1(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Microbe":return new PD(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Lobster":return new AD(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Buffalo":return new TD(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Llama":return new xD(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Caterpillar":return new MD(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Doberman":return new ID(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Tahr":return new OD(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Whale Shark":return new ND(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Chameleon":return new RD(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Gharial":return new LD(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Stonefish":return new BD(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Poodle":return new VD(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Goat":return new qD(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Chicken":return new $D(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Eagle":return new FD(this.logService,this.abilityService,this,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Panther":return new jt(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Axolotl":return new HD(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Snapping Turtle":return new GD(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Mosasaurus":return new UD(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"String Ray":return new jD(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Mantis Shrimp":return new WD(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Lionfish":return new zD(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Tyrannosaurus":return new KD(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Octopus":return new YD(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Anglerfish":return new QD(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Sauropod":return new JD(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Elephant Seal":return new ZD(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Puma":return new Sr(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Mongoose":return new XD(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Pillbug":return new eP(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Duckling":return new tP(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Cockroach":return new iP(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Frog":return new nP(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Seahorse":return new sP(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Iguana":return new rP(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Hummingbird":return new oP(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Marmoset":return new r1(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Kiwi":return new j1(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Koala":return new aP(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Yak":return new lP(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Salamander":return new cP(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Panda":return new uP(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Guinea Pig":return new hP(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Jellyfish":return new fP(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Pug":return new dP(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Atlantic Puffin":return new pP(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Dove":return new gP(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Stork":return new mP(this.logService,this.abilityService,this,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Leech":return new vP(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Woodpecker":return new yP(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Toad":return new _P(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Starfish":return new bP(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Clownfish":return new SP(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Blobfish":return new EP(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Cabybara":return new wP(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Okapi":return new CP(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Cassowary":return new kP(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Orangutang":return new E_(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Eel":return new DP(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Hawk":return new PP(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Platypus":return new AP(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Praying Mantis":return new TP(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Crow":return new xP(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Donkey":return new MP(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Pelican":return new IP(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Anteater":return new OP(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Sword Fish":return new NP(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Polar Bear":return new RP(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Siberian Husky":return new LP(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Lion":return new BP(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Triceratops":return new VP(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Zebra":return new $P(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Fox":return new FP(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Hamster":return new HP(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Shoebill":return new qP(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Vulture":return new GP(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Komodo":return new UP(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Ostrich":return new jP(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Reindeer":return new WP(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Stegosaurus":return new zP(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Piranha":return new KP(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Hammerhead Shark":return new YP(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Velociraptor":return new QP(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Sabertooth Tiger":return new JP(this.logService,this.abilityService,this,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Orca":return new ZP(this.logService,this.abilityService,this,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Spinosaurus":return new XP(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Bulldog":return new eA(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Groundhog":return new w_(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Cone Snail":return new tA(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Goose":return new iA(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Pied Tamarin":return new nA(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Opossum":return new U1(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Silkmoth":return new sA(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Magpie":return new rA(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Hercules Beetle":return new oA(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Stoat":return new aA(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Black Necked Stilt":return new lA(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Squid":return new uA(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Sea Urchin":return new hA(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Door Head Ant":return new dA(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Lizard":return new fA(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Sea Turtle":return new pA(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"African Penguin":return new gA(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Musk Ox":return new mA(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Flea":return new vA(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Royal Flycatcher":return new RA(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Surgeon Fish":return new yA(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Weasel":return new _A(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Guineafowl":return new bA(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Betta Fish":return new SA(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Meerkat":return new EA(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Flying Fish":return new wA(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Baboon":return new CA(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Osprey":return new kA(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Manatee":return new DA(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Cuttlefish":return new PA(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Egyptian Vulture":return new AA(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Saiga Antelope":return new TA(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Sealion":return new xA(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Vaquita":return new MA(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Slug":return new IA(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Poison Dart Frog":return new OA(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Secretary Bird":return new NA(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Falcon":return new LA(this.logService,this.abilityService,this,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Manta Ray":return new BA(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Macaque":return new VA(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Nyala":return new $A(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Nurse Shark":return new FA(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Beluga Whale":return new HA(this.logService,this.abilityService,this,i,e.health,e.attack,e.mana,e.exp,e.equipment,e.belugaSwallowedPet);case"Wolf":return new qA(this.logService,this.abilityService,this,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Silver Fox":return new GA(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Fire Ant":return new UA(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Cockatoo":return new jA(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Blue Ringed Octopus":return new WA(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Crane":return new zA(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Emu":return new KA(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Wildebeast":return new YA(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Highland Cow":return new QA(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Catfish":return new JA(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Pteranodon":return new ZA(this.logService,this.abilityService,this,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Warthog":return new XA(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Cobra":return new e1(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Grizzly Bear":return new t1(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"German Shephard":return new i1(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Bird of Paradise":return new n1(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Oyster":return new s1(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Jerboa":return new o1(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Frilled Dragon":return new a1(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Wombat":return new l1(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Aardvark":return new c1(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Bear":return new u1(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Emperor Tamarin":return new h1(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Porcupine":return new d1(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Wasp":return new f1(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Dragonfly":return new p1(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Lynx":return new g1(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Seagull":return new B1(this.logService,this.abilityService,this,this.gameService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Alpaca":return new zp(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Hyena":return new V1(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Moose":return new $1(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Lioness":return new F1(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Tapir":return new H1(this.logService,this.abilityService,this,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Walrus":return new q1(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"White Tiger":return new G1(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Basilisk":return new XT(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Nightcrawler":return new ex(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Sphinx":return new tx(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Chupacabra":return new ix(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Golden Beetle":return new nx(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Foo Dog":return new sx(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Tree":return new rx(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Slime":return new ox(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment,e.battlesFought);case"Pegasus":return new ax(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Deer Lord":return new lx(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Fairy":return new cx(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Rootling":return new ux(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Anubis":return new hx(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Old Mouse":return new dx(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Hippocampus":return new fx(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Boitata":return new px(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Kappa":return new gx(this.logService,this.abilityService,this,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Mimic":return new mx(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Nurikabe":return new vx(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Tandgnost":return new yx(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Tandgrisner":return new _x(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Great One":return new z_(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Leviathan":return new bx(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Questing Beast":return new Sx(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Cockatrice":return new Ex(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Bee":return new yh(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Bus":return new m_(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Butterfly":return new S_(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Chick":return new y_(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Dirty Ray":return new f_(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Golden Retriever":return new l_(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Lizard Tail":return new C_(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Nest":return new Gp(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Ram":return new g_(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Smaller Slug":return new D_(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Smallest Slug":return new k_(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Zombie Cricket":return new mh(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Zombie Fly":return new $p(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Cracked Egg":return new L_(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Nessie?":return new H_(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Young Phoenix":return new q_(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Fire Pup":return new G_(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Monty":return new M_(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Rock":return new Kp(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Daycrawler":return new j_(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Smaller Slime":return new W_(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Chim-Goat":return new B_(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Chim-Lion":return new V_(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Chim-Snake":return new $_(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Head":return new U_(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Good Dog":return new wx(this.logService,this.abilityService,this,this.gameService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Baku":return new K1(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Axehandle Hound":return new Y1(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Barghest":return new Q1(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Tsuchinoko":return new J1(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Murmel":return new Z1(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Alchemedes":return new X1(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Warg":return new eT(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Bunyip":return new tT(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Sneaky Egg":return new iT(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Cuddle Toad":return new nT(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Ghost Kitten":return new sT(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Frost Wolf":return new rT(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Mothman":return new oT(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Drop Bear":return new aT(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Jackalope":return new lT(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Lucky Cat":return new cT(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Ogopogo":return new uT(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Thunderbird":return new hT(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Gargoyle":return new dT(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Bigfoot":return new fT(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Skeleton Dog":return new pT(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Mandrake":return new gT(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Fur-Bearing Trout":return new mT(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Mana Hound":return new vT(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Calygreyhound":return new yT(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Brain Cramp":return new _T(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Minotaur":return new bT(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Wyvern":return new ST(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Ouroboros":return new ET(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Griffin":return new wT(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Kraken":return new CT(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Visitor":return new kT(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Vampire Bat":return new DT(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Tiger Bug":return new PT(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Tatzelwurm":return new AT(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Cyclops":return new TT(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Chimera":return new xT(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Roc":return new MT(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Worm of Sand":return new IT(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Abomination":return new OT(this.logService,this.abilityService,this,i,e.health,e.attack,e.mana,e.exp,e.equipment,e.abominationSwallowedPet1,e.abominationSwallowedPet2,e.abominationSwallowedPet3);case"Red Dragon":return new NT(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Unicorn":return new RT(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Loveland Frogman":return new LT(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Salmon of Knowledge":return new F_(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Jersey Devil":return new BT(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Pixiu":return new VT(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Kitsune":return new $T(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Nessie":return new FT(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Bad Dog":return new HT(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Werewolf":return new qT(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Manticore":return new GT(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Phoenix":return new UT(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Quetzalcoatl":return new jT(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Team Spirit":return new WT(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Sleipnir":return new zT(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Sea Serpent":return new KT(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Yeti":return new YT(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Cerberus":return new QT(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Hydra":return new JT(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Behemoth":return new ZT(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment)}}createDefaultVersionOfPet(e,i=null,s=null){let r;return e instanceof u_&&(r=new u_(this.logService,this.abilityService,e.parent,i,s,0,E(e.level))),e instanceof yh&&(r=new yh(this.logService,this.abilityService,e.parent,i,s,0,E(e.level))),e instanceof tk&&(r=new tk(this.logService,this.abilityService,e.parent,i,s,0,E(e.level))),e instanceof ik&&(r=new ik(this.logService,this.abilityService,e.parent,i,s,0,E(e.level))),e instanceof nk&&(r=new nk(this.logService,this.abilityService,e.parent,i,s,0,E(e.level))),e instanceof sk&&(r=new sk(this.logService,this.abilityService,e.parent,i,s,0,E(e.level))),e instanceof mh&&(r=new mh(this.logService,this.abilityService,e.parent,i,s,0,E(e.level))),e instanceof h_&&(r=new h_(this.logService,this.abilityService,e.parent,i,s,0,E(e.level))),e instanceof d_&&(r=new d_(this.logService,this.abilityService,e.parent,i,s,0,E(e.level))),e instanceof rk&&(r=new rk(this.logService,this.abilityService,e.parent,i,s,0,E(e.level))),e instanceof ok&&(r=new ok(this.logService,this.abilityService,e.parent,i,s,0,E(e.level))),e instanceof ak&&(r=new ak(this.logService,this.abilityService,e.parent,i,s,0,E(e.level))),e instanceof W1&&(r=new W1(this.logService,this.abilityService,e.parent,i,s,0,E(e.level))),e instanceof lk&&(r=new lk(this.logService,this.abilityService,e.parent,i,s,0,E(e.level))),e instanceof ck&&(r=new ck(this.logService,this.abilityService,e.parent,i,s,0,E(e.level))),e instanceof uk&&(r=new uk(this.logService,this.abilityService,e.parent,i,s,0,E(e.level))),e instanceof hk&&(r=new hk(this.logService,this.abilityService,e.parent,i,s,0,E(e.level))),e instanceof dk&&(r=new dk(this.logService,this.abilityService,e.parent,i,s,0,E(e.level))),e instanceof fk&&(r=new fk(this.logService,this.abilityService,e.parent,i,s,0,E(e.level))),e instanceof pk&&(r=new pk(this.logService,this.abilityService,e.parent,i,s,0,E(e.level))),e instanceof gk&&(r=new gk(this.logService,this.abilityService,e.parent,i,s,0,E(e.level))),e instanceof mk&&(r=new mk(this.logService,this.abilityService,this,e.parent,i,s,0,E(e.level))),e instanceof vk&&(r=new vk(this.logService,this.abilityService,e.parent,i,s,0,E(e.level))),e instanceof yk&&(r=new yk(this.logService,this.abilityService,e.parent,i,s,0,E(e.level))),e instanceof p_&&(r=new p_(this.logService,this.abilityService,e.parent,i,s,0,E(e.level))),e instanceof _k&&(r=new _k(this.logService,this.abilityService,e.parent,i,s,0,E(e.level))),e instanceof bk&&(r=new bk(this.logService,this.abilityService,e.parent,i,s,0,E(e.level))),e instanceof Sk&&(r=new Sk(this.logService,this.abilityService,e.parent,i,s,0,E(e.level))),e instanceof Ek&&(r=new Ek(this.logService,this.abilityService,e.parent,i,s,0,E(e.level))),e instanceof wk&&(r=new wk(this.logService,this.abilityService,e.parent,i,s,0,E(e.level))),e instanceof Ck&&(r=new Ck(this.logService,this.abilityService,e.parent,i,s,0,E(e.level))),e instanceof kk&&(r=new kk(this.logService,this.abilityService,e.parent,i,s,0,E(e.level))),e instanceof Ak&&(r=new Ak(this.logService,this.abilityService,e.parent,i,s,0,E(e.level))),e instanceof Tk&&(r=new Tk(this.logService,this.abilityService,e.parent,i,s,0,E(e.level))),e instanceof xk&&(r=new xk(this.logService,this.abilityService,e.parent,i,s,0,E(e.level))),e instanceof Mk&&(r=new Mk(this.logService,this.abilityService,e.parent,i,s,0,E(e.level))),e instanceof Ik&&(r=new Ik(this.logService,this.abilityService,e.parent,i,s,0,E(e.level))),e instanceof Ok&&(r=new Ok(this.logService,this.abilityService,e.parent,i,s,0,E(e.level))),e instanceof Nk&&(r=new Nk(this.logService,this.abilityService,e.parent,i,s,0,E(e.level))),e instanceof Rk&&(r=new Rk(this.logService,this.abilityService,e.parent,i,s,0,E(e.level))),e instanceof Lk&&(r=new Lk(this.logService,this.abilityService,this,e.parent,i,s,0,E(e.level))),e instanceof Pk&&(r=new Pk(this.logService,this.abilityService,this,e.parent,i,s,0,E(e.level))),e instanceof Bk&&(r=new Bk(this.logService,this.abilityService,e.parent,i,s,0,E(e.level))),e instanceof Vk&&(r=new Vk(this.logService,this.abilityService,e.parent,i,s,0,E(e.level))),e instanceof $k&&(r=new $k(this.logService,this.abilityService,e.parent,i,s,0,E(e.level))),e instanceof v_&&(r=new v_(this.logService,this.abilityService,e.parent,i,s,0,E(e.level))),e instanceof Fk&&(r=new Fk(this.logService,this.abilityService,e.parent,i,s,0,E(e.level))),e instanceof Hk&&(r=new Hk(this.logService,this.abilityService,e.parent,i,s,0,E(e.level))),e instanceof qk&&(r=new qk(this.logService,this.abilityService,e.parent,i,s,0,E(e.level))),e instanceof Gk&&(r=new Gk(this.logService,this.abilityService,e.parent,i,s,0,E(e.level))),e instanceof Uk&&(r=new Uk(this.logService,this.abilityService,e.parent,i,s,0,E(e.level))),e instanceof jk&&(r=new jk(this.logService,this.abilityService,e.parent,i,s,0,E(e.level))),e instanceof Wk&&(r=new Wk(this.logService,this.abilityService,e.parent,i,s,0,E(e.level))),e instanceof zk&&(r=new zk(this.logService,this.abilityService,e.parent,i,s,0,E(e.level))),e instanceof Dk&&(r=new Dk(this.logService,this.abilityService,e.parent,i,s,0,E(e.level))),e instanceof Kk&&(r=new Kk(this.logService,this.abilityService,e.parent,i,s,0,E(e.level))),e instanceof Yk&&(r=new Yk(this.logService,this.abilityService,e.parent,i,s,0,E(e.level))),e instanceof Qk&&(r=new Qk(this.logService,this.abilityService,e.parent,i,s,0,E(e.level))),e instanceof Jk&&(r=new Jk(this.logService,this.abilityService,e.parent,i,s,0,E(e.level))),e instanceof Zk&&(r=new Zk(this.logService,this.abilityService,e.parent,i,s,0,E(e.level))),e instanceof Xk&&(r=new Xk(this.logService,this.abilityService,e.parent,i,s,0,E(e.level))),e instanceof eD&&(r=new eD(this.logService,this.abilityService,e.parent,i,s,0,E(e.level))),e instanceof tD&&(r=new tD(this.logService,this.abilityService,e.parent,i,s,0,E(e.level))),e instanceof iD&&(r=new iD(this.logService,this.abilityService,e.parent,i,s,0,E(e.level))),e instanceof nD&&(r=new nD(this.logService,this.abilityService,e.parent,i,s,0,E(e.level))),e instanceof sD&&(r=new sD(this.logService,this.abilityService,e.parent,i,s,0,E(e.level))),e instanceof rD&&(r=new rD(this.logService,this.abilityService,e.parent,i,s,0,E(e.level))),e instanceof oD&&(r=new oD(this.logService,this.abilityService,e.parent,i,s,0,E(e.level))),e instanceof aD&&(r=new aD(this.logService,this.abilityService,e.parent,i,s,0,E(e.level))),e instanceof lD&&(r=new lD(this.logService,this.abilityService,e.parent,i,s,0,E(e.level))),e instanceof uD&&(r=new uD(this.logService,this.abilityService,e.parent,i,s,0,E(e.level))),e instanceof hD&&(r=new hD(this.logService,this.abilityService,e.parent,i,s,0,E(e.level))),e instanceof cD&&(r=new cD(this.logService,this.abilityService,e.parent,i,s,0,E(e.level))),e instanceof dD&&(r=new dD(this.logService,this.abilityService,e.parent,i,s,0,E(e.level))),e instanceof fD&&(r=new fD(this.logService,this.abilityService,e.parent,i,s,0,E(e.level))),e instanceof pD&&(r=new pD(this.logService,this.abilityService,e.parent,i,s,0,E(e.level))),e instanceof gD&&(r=new gD(this.logService,this.abilityService,e.parent,i,s,0,E(e.level))),e instanceof mD&&(r=new mD(this.logService,this.abilityService,e.parent,i,s,0,E(e.level))),e instanceof vD&&(r=new vD(this.logService,this.abilityService,e.parent,i,s,0,E(e.level))),e instanceof yD&&(r=new yD(this.logService,this.abilityService,e.parent,i,s,0,E(e.level))),e instanceof _D&&(r=new _D(this.logService,this.abilityService,e.parent,i,s,0,E(e.level))),e instanceof bD&&(r=new bD(this.logService,this.abilityService,e.parent,i,s,0,E(e.level))),e instanceof SD&&(r=new SD(this.logService,this.abilityService,e.parent,i,s,0,E(e.level))),e instanceof ED&&(r=new ED(this.logService,this.abilityService,e.parent,i,s,0,E(e.level))),e instanceof wD&&(r=new wD(this.logService,this.abilityService,e.parent,i,s,0,E(e.level))),e instanceof Up&&(r=new Up(this.logService,this.abilityService,e.parent,i,s,0,E(e.level))),e instanceof CD&&(r=new CD(this.logService,this.abilityService,e.parent,i,s,0,E(e.level))),e instanceof b_&&(r=new b_(this.logService,this.abilityService,e.parent,i,s,0,E(e.level))),e instanceof kD&&(r=new kD(this.logService,this.abilityService,e.parent,i,s,0,E(e.level))),e instanceof DD&&(r=new DD(this.logService,this.abilityService,e.parent,i,s,0,E(e.level))),e instanceof z1&&(r=new z1(this.logService,this.abilityService,e.parent,i,s,0,E(e.level))),e instanceof PD&&(r=new PD(this.logService,this.abilityService,e.parent,i,s,0,E(e.level))),e instanceof AD&&(r=new AD(this.logService,this.abilityService,e.parent,i,s,0,E(e.level))),e instanceof TD&&(r=new TD(this.logService,this.abilityService,e.parent,i,s,0,E(e.level))),e instanceof xD&&(r=new xD(this.logService,this.abilityService,e.parent,i,s,0,E(e.level))),e instanceof MD&&(r=new MD(this.logService,this.abilityService,e.parent,i,s,0,E(e.level))),e instanceof ID&&(r=new ID(this.logService,this.abilityService,e.parent,i,s,0,E(e.level))),e instanceof OD&&(r=new OD(this.logService,this.abilityService,e.parent,i,s,0,E(e.level))),e instanceof ND&&(r=new ND(this.logService,this.abilityService,e.parent,i,s,0,E(e.level))),e instanceof RD&&(r=new RD(this.logService,this.abilityService,e.parent,i,s,0,E(e.level))),e instanceof LD&&(r=new LD(this.logService,this.abilityService,e.parent,i,s,0,E(e.level))),e instanceof BD&&(r=new BD(this.logService,this.abilityService,e.parent,i,s,0,E(e.level))),e instanceof VD&&(r=new VD(this.logService,this.abilityService,e.parent,i,s,0,E(e.level))),e instanceof qD&&(r=new qD(this.logService,this.abilityService,e.parent,i,s,0,E(e.level))),e instanceof $D&&(r=new $D(this.logService,this.abilityService,e.parent,i,s,0,E(e.level))),e instanceof FD&&(r=new FD(this.logService,this.abilityService,this,e.parent,i,s,0,E(e.level))),e instanceof jt&&(r=new jt(this.logService,this.abilityService,e.parent,i,s,0,E(e.level))),e instanceof HD&&(r=new HD(this.logService,this.abilityService,e.parent,i,s,0,E(e.level))),e instanceof GD&&(r=new GD(this.logService,this.abilityService,e.parent,i,s,0,E(e.level))),e instanceof UD&&(r=new UD(this.logService,this.abilityService,e.parent,i,s,0,E(e.level))),e instanceof jD&&(r=new jD(this.logService,this.abilityService,e.parent,i,s,0,E(e.level))),e instanceof WD&&(r=new WD(this.logService,this.abilityService,e.parent,i,s,0,E(e.level))),e instanceof zD&&(r=new zD(this.logService,this.abilityService,e.parent,i,s,0,E(e.level))),e instanceof KD&&(r=new KD(this.logService,this.abilityService,e.parent,i,s,0,E(e.level))),e instanceof YD&&(r=new YD(this.logService,this.abilityService,e.parent,i,s,0,E(e.level))),e instanceof QD&&(r=new QD(this.logService,this.abilityService,e.parent,i,s,0,E(e.level))),e instanceof JD&&(r=new JD(this.logService,this.abilityService,e.parent,i,s,0,E(e.level))),e instanceof ZD&&(r=new ZD(this.logService,this.abilityService,e.parent,i,s,0,E(e.level))),e instanceof Sr&&(r=new Sr(this.logService,this.abilityService,e.parent,i,s,0,E(e.level))),e instanceof XD&&(r=new XD(this.logService,this.abilityService,e.parent,i,s,0,E(e.level))),e instanceof eP&&(r=new eP(this.logService,this.abilityService,e.parent,i,s,0,E(e.level))),e instanceof tP&&(r=new tP(this.logService,this.abilityService,e.parent,i,s,0,E(e.level))),e instanceof iP&&(r=new iP(this.logService,this.abilityService,e.parent,i,s,0,E(e.level))),e instanceof j1&&(r=new j1(this.logService,this.abilityService,e.parent,i,s,0,E(e.level))),e instanceof nP&&(r=new nP(this.logService,this.abilityService,e.parent,i,s,0,E(e.level))),e instanceof sP&&(r=new sP(this.logService,this.abilityService,e.parent,i,s,0,E(e.level))),e instanceof rP&&(r=new rP(this.logService,this.abilityService,e.parent,i,s,0,E(e.level))),e instanceof oP&&(r=new oP(this.logService,this.abilityService,e.parent,i,s,0,E(e.level))),e instanceof r1&&(r=new r1(this.logService,this.abilityService,e.parent,i,s,0,E(e.level))),e instanceof aP&&(r=new aP(this.logService,this.abilityService,e.parent,i,s,0,E(e.level))),e instanceof lP&&(r=new lP(this.logService,this.abilityService,e.parent,i,s,0,E(e.level))),e instanceof cP&&(r=new cP(this.logService,this.abilityService,e.parent,i,s,0,E(e.level))),e instanceof uP&&(r=new uP(this.logService,this.abilityService,e.parent,i,s,0,E(e.level))),e instanceof hP&&(r=new hP(this.logService,this.abilityService,e.parent,i,s,0,E(e.level))),e instanceof fP&&(r=new fP(this.logService,this.abilityService,e.parent,i,s,0,E(e.level))),e instanceof dP&&(r=new dP(this.logService,this.abilityService,e.parent,i,s,0,E(e.level))),e instanceof pP&&(r=new pP(this.logService,this.abilityService,e.parent,i,s,0,E(e.level))),e instanceof gP&&(r=new gP(this.logService,this.abilityService,e.parent,i,s,0,E(e.level))),e instanceof mP&&(r=new mP(this.logService,this.abilityService,this,e.parent,i,s,0,E(e.level))),e instanceof vP&&(r=new vP(this.logService,this.abilityService,e.parent,i,s,0,E(e.level))),e instanceof yP&&(r=new yP(this.logService,this.abilityService,e.parent,i,s,0,E(e.level))),e instanceof _P&&(r=new _P(this.logService,this.abilityService,e.parent,i,s,0,E(e.level))),e instanceof bP&&(r=new bP(this.logService,this.abilityService,e.parent,i,s,0,E(e.level))),e instanceof SP&&(r=new SP(this.logService,this.abilityService,e.parent,i,s,0,E(e.level))),e instanceof EP&&(r=new EP(this.logService,this.abilityService,e.parent,i,s,0,E(e.level))),e instanceof wP&&(r=new wP(this.logService,this.abilityService,e.parent,i,s,0,E(e.level))),e instanceof CP&&(r=new CP(this.logService,this.abilityService,e.parent,i,s,0,E(e.level))),e instanceof kP&&(r=new kP(this.logService,this.abilityService,e.parent,i,s,0,E(e.level))),e instanceof E_&&(r=new E_(this.logService,this.abilityService,e.parent,i,s,0,E(e.level))),e instanceof DP&&(r=new DP(this.logService,this.abilityService,e.parent,i,s,0,E(e.level))),e instanceof PP&&(r=new PP(this.logService,this.abilityService,e.parent,i,s,0,E(e.level))),e instanceof AP&&(r=new AP(this.logService,this.abilityService,e.parent,i,s,0,E(e.level))),e instanceof TP&&(r=new TP(this.logService,this.abilityService,e.parent,i,s,0,E(e.level))),e instanceof xP&&(r=new xP(this.logService,this.abilityService,e.parent,i,s,0,E(e.level))),e instanceof MP&&(r=new MP(this.logService,this.abilityService,e.parent,i,s,0,E(e.level))),e instanceof IP&&(r=new IP(this.logService,this.abilityService,e.parent,i,s,0,E(e.level))),e instanceof OP&&(r=new OP(this.logService,this.abilityService,e.parent,i,s,0,E(e.level))),e instanceof NP&&(r=new NP(this.logService,this.abilityService,e.parent,i,s,0,E(e.level))),e instanceof RP&&(r=new RP(this.logService,this.abilityService,e.parent,i,s,0,E(e.level))),e instanceof LP&&(r=new LP(this.logService,this.abilityService,e.parent,i,s,0,E(e.level))),e instanceof BP&&(r=new BP(this.logService,this.abilityService,e.parent,i,s,0,E(e.level))),e instanceof VP&&(r=new VP(this.logService,this.abilityService,e.parent,i,s,0,E(e.level))),e instanceof $P&&(r=new $P(this.logService,this.abilityService,e.parent,i,s,0,E(e.level))),e instanceof FP&&(r=new FP(this.logService,this.abilityService,e.parent,i,s,0,E(e.level))),e instanceof HP&&(r=new HP(this.logService,this.abilityService,e.parent,i,s,0,E(e.level))),e instanceof qP&&(r=new qP(this.logService,this.abilityService,e.parent,i,s,0,E(e.level))),e instanceof GP&&(r=new GP(this.logService,this.abilityService,e.parent,i,s,0,E(e.level))),e instanceof UP&&(r=new UP(this.logService,this.abilityService,e.parent,i,s,0,E(e.level))),e instanceof jP&&(r=new jP(this.logService,this.abilityService,e.parent,i,s,0,E(e.level))),e instanceof WP&&(r=new WP(this.logService,this.abilityService,e.parent,i,s,0,E(e.level))),e instanceof zP&&(r=new zP(this.logService,this.abilityService,e.parent,i,s,0,E(e.level))),e instanceof KP&&(r=new KP(this.logService,this.abilityService,e.parent,i,s,0,E(e.level))),e instanceof YP&&(r=new YP(this.logService,this.abilityService,e.parent,i,s,0,E(e.level))),e instanceof QP&&(r=new QP(this.logService,this.abilityService,e.parent,i,s,0,E(e.level))),e instanceof JP&&(r=new JP(this.logService,this.abilityService,this,e.parent,i,s,0,E(e.level))),e instanceof ZP&&(r=new ZP(this.logService,this.abilityService,this,e.parent,i,s,0,E(e.level))),e instanceof XP&&(r=new XP(this.logService,this.abilityService,e.parent,i,s,0,E(e.level))),e instanceof eA&&(r=new eA(this.logService,this.abilityService,e.parent,i,s,0,E(e.level))),e instanceof w_&&(r=new w_(this.logService,this.abilityService,e.parent,i,s,0,E(e.level))),e instanceof tA&&(r=new tA(this.logService,this.abilityService,e.parent,i,s,0,E(e.level))),e instanceof iA&&(r=new iA(this.logService,this.abilityService,e.parent,i,s,0,E(e.level))),e instanceof nA&&(r=new nA(this.logService,this.abilityService,e.parent,i,s,0,E(e.level))),e instanceof U1&&(r=new U1(this.logService,this.abilityService,e.parent,i,s,0,E(e.level))),e instanceof sA&&(r=new sA(this.logService,this.abilityService,e.parent,i,s,0,E(e.level))),e instanceof rA&&(r=new rA(this.logService,this.abilityService,e.parent,i,s,0,E(e.level))),e instanceof oA&&(r=new oA(this.logService,this.abilityService,e.parent,i,s,0,E(e.level))),e instanceof aA&&(r=new aA(this.logService,this.abilityService,e.parent,i,s,0,E(e.level))),e instanceof lA&&(r=new lA(this.logService,this.abilityService,e.parent,i,s,0,E(e.level))),e instanceof uA&&(r=new uA(this.logService,this.abilityService,e.parent,i,s,0,E(e.level))),e instanceof hA&&(r=new hA(this.logService,this.abilityService,e.parent,i,s,0,E(e.level))),e instanceof dA&&(r=new dA(this.logService,this.abilityService,e.parent,i,s,0,E(e.level))),e instanceof fA&&(r=new fA(this.logService,this.abilityService,e.parent,i,s,0,E(e.level))),e instanceof pA&&(r=new pA(this.logService,this.abilityService,e.parent,i,s,0,E(e.level))),e instanceof gA&&(r=new gA(this.logService,this.abilityService,e.parent,i,s,0,E(e.level))),e instanceof mA&&(r=new mA(this.logService,this.abilityService,e.parent,i,s,0,E(e.level))),e instanceof vA&&(r=new vA(this.logService,this.abilityService,e.parent,i,s,0,E(e.level))),e instanceof RA&&(r=new RA(this.logService,this.abilityService,e.parent,i,s,0,E(e.level))),e instanceof yA&&(r=new yA(this.logService,this.abilityService,e.parent,i,s,0,E(e.level))),e instanceof _A&&(r=new _A(this.logService,this.abilityService,e.parent,i,s,0,E(e.level))),e instanceof bA&&(r=new bA(this.logService,this.abilityService,e.parent,i,s,0,E(e.level))),e instanceof SA&&(r=new SA(this.logService,this.abilityService,e.parent,i,s,0,E(e.level))),e instanceof EA&&(r=new EA(this.logService,this.abilityService,e.parent,i,s,0,E(e.level))),e instanceof wA&&(r=new wA(this.logService,this.abilityService,e.parent,i,s,0,E(e.level))),e instanceof CA&&(r=new CA(this.logService,this.abilityService,e.parent,i,s,0,E(e.level))),e instanceof kA&&(r=new kA(this.logService,this.abilityService,e.parent,i,s,0,E(e.level))),e instanceof DA&&(r=new DA(this.logService,this.abilityService,e.parent,i,s,0,E(e.level))),e instanceof PA&&(r=new PA(this.logService,this.abilityService,e.parent,i,s,0,E(e.level))),e instanceof AA&&(r=new AA(this.logService,this.abilityService,e.parent,i,s,0,E(e.level))),e instanceof TA&&(r=new TA(this.logService,this.abilityService,e.parent,i,s,0,E(e.level))),e instanceof xA&&(r=new xA(this.logService,this.abilityService,e.parent,i,s,0,E(e.level))),e instanceof MA&&(r=new MA(this.logService,this.abilityService,e.parent,i,s,0,E(e.level))),e instanceof IA&&(r=new IA(this.logService,this.abilityService,e.parent,i,s,0,E(e.level))),e instanceof OA&&(r=new OA(this.logService,this.abilityService,e.parent,i,s,0,E(e.level))),e instanceof NA&&(r=new NA(this.logService,this.abilityService,e.parent,i,s,0,E(e.level))),e instanceof LA&&(r=new LA(this.logService,this.abilityService,this,e.parent,i,s,0,E(e.level))),e instanceof BA&&(r=new BA(this.logService,this.abilityService,e.parent,i,s,0,E(e.level))),e instanceof VA&&(r=new VA(this.logService,this.abilityService,e.parent,i,s,0,E(e.level))),e instanceof $A&&(r=new $A(this.logService,this.abilityService,e.parent,i,s,0,E(e.level))),e instanceof FA&&(r=new FA(this.logService,this.abilityService,e.parent,i,s,0,E(e.level))),e instanceof HA&&(r=new HA(this.logService,this.abilityService,this,e.parent,i,s,0,E(e.level))),e instanceof qA&&(r=new qA(this.logService,this.abilityService,this,e.parent,i,s,0,E(e.level))),e instanceof GA&&(r=new GA(this.logService,this.abilityService,e.parent,i,s,0,E(e.level))),e instanceof UA&&(r=new UA(this.logService,this.abilityService,e.parent,i,s,0,E(e.level))),e instanceof jA&&(r=new jA(this.logService,this.abilityService,e.parent,i,s,0,E(e.level))),e instanceof WA&&(r=new WA(this.logService,this.abilityService,e.parent,i,s,0,E(e.level))),e instanceof zA&&(r=new zA(this.logService,this.abilityService,e.parent,i,s,0,E(e.level))),e instanceof KA&&(r=new KA(this.logService,this.abilityService,e.parent,i,s,0,E(e.level))),e instanceof YA&&(r=new YA(this.logService,this.abilityService,e.parent,i,s,0,E(e.level))),e instanceof QA&&(r=new QA(this.logService,this.abilityService,e.parent,i,s,0,E(e.level))),e instanceof JA&&(r=new JA(this.logService,this.abilityService,e.parent,i,s,0,E(e.level))),e instanceof ZA&&(r=new ZA(this.logService,this.abilityService,this,e.parent,i,s,0,E(e.level))),e instanceof XA&&(r=new XA(this.logService,this.abilityService,e.parent,i,s,0,E(e.level))),e instanceof e1&&(r=new e1(this.logService,this.abilityService,e.parent,i,s,0,E(e.level))),e instanceof t1&&(r=new t1(this.logService,this.abilityService,e.parent,i,s,0,E(e.level))),e instanceof i1&&(r=new i1(this.logService,this.abilityService,e.parent,i,s,0,E(e.level))),e instanceof n1&&(r=new n1(this.logService,this.abilityService,e.parent,i,s,0,E(e.level))),e instanceof s1&&(r=new s1(this.logService,this.abilityService,e.parent,i,s,0,E(e.level))),e instanceof yh&&(r=new yh(this.logService,this.abilityService,e.parent,i,s,0,E(e.level))),e instanceof m_&&(r=new m_(this.logService,this.abilityService,e.parent,i,s,0,E(e.level))),e instanceof S_&&(r=new S_(this.logService,this.abilityService,e.parent,i,s,0,E(e.level))),e instanceof y_&&(r=new y_(this.logService,this.abilityService,e.parent,i,s,0,E(e.level))),e instanceof f_&&(r=new f_(this.logService,this.abilityService,e.parent,i,s,0,E(e.level))),e instanceof l_&&(r=new l_(this.logService,this.abilityService,e.parent,i,s,0,E(e.level))),e instanceof C_&&(r=new C_(this.logService,this.abilityService,e.parent,i,s,0,E(e.level))),e instanceof Gp&&(r=new Gp(this.logService,this.abilityService,e.parent,i,s,0,E(e.level))),e instanceof g_&&(r=new g_(this.logService,this.abilityService,e.parent,i,s,0,E(e.level))),e instanceof D_&&(r=new D_(this.logService,this.abilityService,e.parent,i,s,0,E(e.level))),e instanceof k_&&(r=new k_(this.logService,this.abilityService,e.parent,i,s,0,E(e.level))),e instanceof mh&&(r=new mh(this.logService,this.abilityService,e.parent,i,s,0,E(e.level))),e instanceof $p&&(r=new $p(this.logService,this.abilityService,e.parent,i,s,0,E(e.level))),e instanceof L_&&(r=new L_(this.logService,this.abilityService,e.parent,i,s,0,E(e.level))),e instanceof H_&&(r=new H_(this.logService,this.abilityService,e.parent,i,s,0,E(e.level))),e instanceof q_&&(r=new q_(this.logService,this.abilityService,e.parent,i,s,0,E(e.level))),e instanceof G_&&(r=new G_(this.logService,this.abilityService,e.parent,i,s,0,E(e.level))),e instanceof M_&&(r=new M_(this.logService,this.abilityService,e.parent,i,s,0,E(e.level))),e instanceof Kp&&(r=new Kp(this.logService,this.abilityService,e.parent,i,s,0,E(e.level))),e instanceof j_&&(r=new j_(this.logService,this.abilityService,e.parent,i,s,0,E(e.level))),e instanceof W_&&(r=new W_(this.logService,this.abilityService,e.parent,i,s,0,E(e.level))),e instanceof B_&&(r=new B_(this.logService,this.abilityService,e.parent,i,s,0,E(e.level))),e instanceof V_&&(r=new V_(this.logService,this.abilityService,e.parent,i,s,0,E(e.level))),e instanceof $_&&(r=new $_(this.logService,this.abilityService,e.parent,i,s,0,E(e.level))),e instanceof U_&&(r=new U_(this.logService,this.abilityService,e.parent,i,s,0,E(e.level))),e instanceof wx&&(r=new wx(this.logService,this.abilityService,this,this.gameService,e.parent,i,s,0,E(e.level))),e instanceof o1&&(r=new o1(this.logService,this.abilityService,e.parent,i,s,0,E(e.level))),e instanceof a1&&(r=new a1(this.logService,this.abilityService,e.parent,i,s,0,E(e.level))),e instanceof l1&&(r=new l1(this.logService,this.abilityService,e.parent,i,s,0,E(e.level))),e instanceof c1&&(r=new c1(this.logService,this.abilityService,e.parent,i,s,0,E(e.level))),e instanceof u1&&(r=new u1(this.logService,this.abilityService,e.parent,i,s,0,E(e.level))),e instanceof h1&&(r=new h1(this.logService,this.abilityService,e.parent,i,s,0,E(e.level))),e instanceof d1&&(r=new d1(this.logService,this.abilityService,e.parent,i,s,0,E(e.level))),e instanceof f1&&(r=new f1(this.logService,this.abilityService,e.parent,i,s,0,E(e.level))),e instanceof p1&&(r=new p1(this.logService,this.abilityService,e.parent,i,s,0,E(e.level))),e instanceof g1&&(r=new g1(this.logService,this.abilityService,e.parent,i,s,0,E(e.level))),e instanceof B1&&(r=new B1(this.logService,this.abilityService,this,this.gameService,e.parent,i,s,0,E(e.level))),e instanceof zp&&(r=new zp(this.logService,this.abilityService,e.parent,i,s,0,E(e.level))),e instanceof V1&&(r=new V1(this.logService,this.abilityService,e.parent,i,s,0,E(e.level))),e instanceof $1&&(r=new $1(this.logService,this.abilityService,e.parent,i,s,0,E(e.level))),e instanceof F1&&(r=new F1(this.logService,this.abilityService,e.parent,i,s,0,E(e.level))),e instanceof H1&&(r=new H1(this.logService,this.abilityService,this,e.parent,i,s,0,E(e.level))),e instanceof q1&&(r=new q1(this.logService,this.abilityService,e.parent,i,s,0,E(e.level))),e instanceof G1&&(r=new G1(this.logService,this.abilityService,e.parent,i,s,0,E(e.level))),e instanceof XT&&(r=new XT(this.logService,this.abilityService,e.parent,i,s,0,E(e.level))),e instanceof ex&&(r=new ex(this.logService,this.abilityService,e.parent,i,s,0,E(e.level))),e instanceof tx&&(r=new tx(this.logService,this.abilityService,e.parent,i,s,0,E(e.level))),e instanceof ix&&(r=new ix(this.logService,this.abilityService,e.parent,i,s,0,E(e.level))),e instanceof nx&&(r=new nx(this.logService,this.abilityService,e.parent,i,s,0,E(e.level))),e instanceof sx&&(r=new sx(this.logService,this.abilityService,e.parent,i,s,0,E(e.level))),e instanceof rx&&(r=new rx(this.logService,this.abilityService,e.parent,i,s,0,E(e.level))),e instanceof ox&&(r=new ox(this.logService,this.abilityService,e.parent,i,s,0,E(e.level))),e instanceof ax&&(r=new ax(this.logService,this.abilityService,e.parent,i,s,0,E(e.level))),e instanceof lx&&(r=new lx(this.logService,this.abilityService,e.parent,i,s,0,E(e.level))),e instanceof cx&&(r=new cx(this.logService,this.abilityService,e.parent,i,s,0,E(e.level))),e instanceof ux&&(r=new ux(this.logService,this.abilityService,e.parent,i,s,0,E(e.level))),e instanceof hx&&(r=new hx(this.logService,this.abilityService,e.parent,i,s,0,E(e.level))),e instanceof dx&&(r=new dx(this.logService,this.abilityService,e.parent,i,s,0,E(e.level))),e instanceof fx&&(r=new fx(this.logService,this.abilityService,e.parent,i,s,0,E(e.level))),e instanceof px&&(r=new px(this.logService,this.abilityService,e.parent,i,s,0,E(e.level))),e instanceof gx&&(r=new gx(this.logService,this.abilityService,this,e.parent,i,s,0,E(e.level))),e instanceof mx&&(r=new mx(this.logService,this.abilityService,e.parent,i,s,0,E(e.level))),e instanceof vx&&(r=new vx(this.logService,this.abilityService,e.parent,i,s,0,E(e.level))),e instanceof yx&&(r=new yx(this.logService,this.abilityService,e.parent,i,s,0,E(e.level))),e instanceof _x&&(r=new _x(this.logService,this.abilityService,e.parent,i,s,0,E(e.level))),e instanceof z_&&(r=new z_(this.logService,this.abilityService,e.parent,i,s,0,E(e.level))),e instanceof bx&&(r=new bx(this.logService,this.abilityService,e.parent,i,s,0,E(e.level))),e instanceof Sx&&(r=new Sx(this.logService,this.abilityService,e.parent,i,s,0,E(e.level))),e instanceof Ex&&(r=new Ex(this.logService,this.abilityService,e.parent,i,s,0,E(e.level))),e instanceof K1&&(r=new K1(this.logService,this.abilityService,e.parent,i,s,0,E(e.level))),e instanceof Y1&&(r=new Y1(this.logService,this.abilityService,e.parent,i,s,0,E(e.level))),e instanceof Q1&&(r=new Q1(this.logService,this.abilityService,e.parent,i,s,0,E(e.level))),e instanceof J1&&(r=new J1(this.logService,this.abilityService,e.parent,i,s,0,E(e.level))),e instanceof Z1&&(r=new Z1(this.logService,this.abilityService,e.parent,i,s,0,E(e.level))),e instanceof X1&&(r=new X1(this.logService,this.abilityService,e.parent,i,s,0,E(e.level))),e instanceof eT&&(r=new eT(this.logService,this.abilityService,e.parent,i,s,0,E(e.level))),e instanceof tT&&(r=new tT(this.logService,this.abilityService,e.parent,i,s,0,E(e.level))),e instanceof iT&&(r=new iT(this.logService,this.abilityService,e.parent,i,s,0,E(e.level))),e instanceof nT&&(r=new nT(this.logService,this.abilityService,e.parent,i,s,0,E(e.level))),e instanceof sT&&(r=new sT(this.logService,this.abilityService,e.parent,i,s,0,E(e.level))),e instanceof rT&&(r=new rT(this.logService,this.abilityService,e.parent,i,s,0,E(e.level))),e instanceof oT&&(r=new oT(this.logService,this.abilityService,e.parent,i,s,0,E(e.level))),e instanceof aT&&(r=new aT(this.logService,this.abilityService,e.parent,i,s,0,E(e.level))),e instanceof lT&&(r=new lT(this.logService,this.abilityService,e.parent,i,s,0,E(e.level))),e instanceof cT&&(r=new cT(this.logService,this.abilityService,e.parent,i,s,0,E(e.level))),e instanceof uT&&(r=new uT(this.logService,this.abilityService,e.parent,i,s,0,E(e.level))),e instanceof hT&&(r=new hT(this.logService,this.abilityService,e.parent,i,s,0,E(e.level))),e instanceof dT&&(r=new dT(this.logService,this.abilityService,e.parent,i,s,0,E(e.level))),e instanceof fT&&(r=new fT(this.logService,this.abilityService,e.parent,i,s,0,E(e.level))),e instanceof pT&&(r=new pT(this.logService,this.abilityService,e.parent,i,s,0,E(e.level))),e instanceof gT&&(r=new gT(this.logService,this.abilityService,e.parent,i,s,0,E(e.level))),e instanceof mT&&(r=new mT(this.logService,this.abilityService,e.parent,i,s,0,E(e.level))),e instanceof vT&&(r=new vT(this.logService,this.abilityService,e.parent,i,s,0,E(e.level))),e instanceof yT&&(r=new yT(this.logService,this.abilityService,e.parent,i,s,0,E(e.level))),e instanceof _T&&(r=new _T(this.logService,this.abilityService,e.parent,i,s,0,E(e.level))),e instanceof bT&&(r=new bT(this.logService,this.abilityService,e.parent,i,s,0,E(e.level))),e instanceof ST&&(r=new ST(this.logService,this.abilityService,e.parent,i,s,0,E(e.level))),e instanceof ET&&(r=new ET(this.logService,this.abilityService,e.parent,i,s,0,E(e.level))),e instanceof wT&&(r=new wT(this.logService,this.abilityService,e.parent,i,s,0,E(e.level))),e instanceof CT&&(r=new CT(this.logService,this.abilityService,e.parent,i,s,0,E(e.level))),e instanceof kT&&(r=new kT(this.logService,this.abilityService,e.parent,i,s,0,E(e.level))),e instanceof DT&&(r=new DT(this.logService,this.abilityService,e.parent,i,s,0,E(e.level))),e instanceof PT&&(r=new PT(this.logService,this.abilityService,e.parent,i,s,0,E(e.level))),e instanceof AT&&(r=new AT(this.logService,this.abilityService,e.parent,i,s,0,E(e.level))),e instanceof TT&&(r=new TT(this.logService,this.abilityService,e.parent,i,s,0,E(e.level))),e instanceof xT&&(r=new xT(this.logService,this.abilityService,e.parent,i,s,0,E(e.level))),e instanceof MT&&(r=new MT(this.logService,this.abilityService,e.parent,i,s,0,E(e.level))),e instanceof IT&&(r=new IT(this.logService,this.abilityService,e.parent,i,s,0,E(e.level))),e instanceof OT&&(r=new OT(this.logService,this.abilityService,this,e.parent,i,s,0,E(e.level))),e instanceof NT&&(r=new NT(this.logService,this.abilityService,e.parent,i,s,0,E(e.level))),e instanceof RT&&(r=new RT(this.logService,this.abilityService,e.parent,i,s,0,E(e.level))),e instanceof LT&&(r=new LT(this.logService,this.abilityService,e.parent,i,s,0,E(e.level))),e instanceof F_&&(r=new F_(this.logService,this.abilityService,e.parent,i,s,0,E(e.level))),e instanceof BT&&(r=new BT(this.logService,this.abilityService,e.parent,i,s,0,E(e.level))),e instanceof VT&&(r=new VT(this.logService,this.abilityService,e.parent,i,s,0,E(e.level))),e instanceof $T&&(r=new $T(this.logService,this.abilityService,e.parent,i,s,0,E(e.level))),e instanceof FT&&(r=new FT(this.logService,this.abilityService,e.parent,i,s,0,E(e.level))),e instanceof HT&&(r=new HT(this.logService,this.abilityService,e.parent,i,s,0,E(e.level))),e instanceof qT&&(r=new qT(this.logService,this.abilityService,e.parent,i,s,0,E(e.level))),e instanceof GT&&(r=new GT(this.logService,this.abilityService,e.parent,i,s,0,E(e.level))),e instanceof UT&&(r=new UT(this.logService,this.abilityService,e.parent,i,s,0,E(e.level))),e instanceof jT&&(r=new jT(this.logService,this.abilityService,e.parent,i,s,0,E(e.level))),e instanceof WT&&(r=new WT(this.logService,this.abilityService,e.parent,i,s,0,E(e.level))),e instanceof zT&&(r=new zT(this.logService,this.abilityService,e.parent,i,s,0,E(e.level))),e instanceof KT&&(r=new KT(this.logService,this.abilityService,e.parent,i,s,0,E(e.level))),e instanceof YT&&(r=new YT(this.logService,this.abilityService,e.parent,i,s,0,E(e.level))),e instanceof QT&&(r=new QT(this.logService,this.abilityService,e.parent,i,s,0,E(e.level))),e instanceof JT&&(r=new JT(this.logService,this.abilityService,e.parent,i,s,0,E(e.level))),e instanceof ZT&&(r=new ZT(this.logService,this.abilityService,e.parent,i,s,0,E(e.level))),r}getRandomPet(e){let s,i=Uo(1,6);s="Turtle"==e.pack?this.turtlePackPets.get(i):"Puppy"==e.pack?this.puppyPackPets.get(i):"Star"==e.pack?this.starPackPets.get(i):"Golden"==e.pack?this.goldenPackPets.get(i):"Unicorn"==e.pack?this.unicornPackPets.get(i):this.playerCustomPackPets.get(e.pack).get(i);let o=s[Uo(0,s.length-1)];return this.createPet({attack:null,equipment:null,exp:Uo(0,5),health:null,name:o,mana:null},e)}getRandomFaintPet(e){let i=["Ant","Cricket","Rat","Hedgehog","Flamingo","Spider","Badger","Sheep","Turtle","Deer","Rooster","Mammoth","Beluga Sturgeon","Hoopoe Bird","Mole","Pangolin","Microbe","Tahr","Chameleon","Stonefish","Chicken","Eagle","Snapping Turtle","Lionfish","Stork","Blobfish","Anteater","Groundhog","Pied Tamarin","Black Necked Stilt","Squid","Flea","Weasel","Betta Fish","Osprey","Cuttlefish","Vaquita","Slug","Nyala","Nurse Shark","Wolf","Fire Ant","Warthog","Bear","Tapir","Walrus","Frost Wolf","Mothman","Gargoyle","Bigfoot","Skeleton Dog","Fur-Bearing Trout","Calygreyhound","Visitor","Chimera","Pixiu","Nessie","Phoenix","Sea Serpent","Hydra","Nightcrawler","Slime","Kappa"],s=i[Uo(0,i.length-1)];return this.createPet({name:s,attack:null,equipment:null,exp:0,health:null,mana:null},e)}}return n.\u0275fac=function(e){return new(e||n)($(K_),$(Y_),$(Sh))},n.\u0275prov=le({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function E(n){return 1==n?0:2==n?2:5}let J_=(()=>{class n{constructor(e,i,s,r){this.logService=e,this.abilityService=i,this.petService=s,this.gameService=r}getInstanceOfAllEquipment(){let e=new Map;return e.set("Garlic",new _h),e.set("Meat Bone",new __),e.set("Steak",new m1),e.set("Melon",new Ur),e.set("Honey",new Fp(this.logService,this.abilityService)),e.set("Chili",new vh(this.logService,this.abilityService)),e.set("Mushroom",new v1(this.logService,this.abilityService,this.petService)),e.set("Coconut",new jr),e.set("Peanut",new Ha),e.set("Croissant",new y1),e.set("Rice",new Hp),e.set("Egg",new qp(this.logService,this.abilityService)),e.set("Salt",new Rp),e.set("Pie",new P_),e.set("Skewer",new jp(this.logService)),e.set("Lemon",new _1),e.set("Pancakes",new A_),e.set("Strawberry",new b1),e.set("Cucumber",new S1),e.set("Cheese",new Lp),e.set("Grapes",new A1),e.set("Carrot",new P1),e.set("Pepper",new Bp),e.set("Popcorn",new T1(this.logService,this.abilityService,this.petService,this.gameService)),e.set("Cherry",new w1),e.set("Chocolate Cake",new Wp(this.logService,this.abilityService)),e.set("Eggplant",new T_(this.logService)),e.set("Potato",new k1),e.set("Banana",new E1(this.logService,this.abilityService)),e.set("Onion",new c_(this.logService)),e.set("Pita Bread",new x_(this.logService)),e.set("Tomato",new D1(this.logService,this.abilityService)),e.set("Durian",new C1(this.logService,this.abilityService)),e.set("Fortune Cookie",new Vp),e.set("Blueberry",new x1),e.set("Donut",new M1),e.set("Pineapple",new I1),e.set("Fig",new O1),e.set("Rambutan",new bh(this.logService)),e.set("Love Potion",new R_(this.logService)),e.set("Fairy Dust",new I_(this.logService)),e.set("Gingerbread Man",new O_(this.logService)),e.set("Easter Egg",new N1(this.logService,this.abilityService)),e.set("Health Potion",new N_(this.logService)),e.set("Magic Beans",new L1),e.set("Golden Egg",new R1(this.logService,this.abilityService)),e}}return n.\u0275fac=function(e){return new(e||n)($(K_),$(Y_),$(Q_),$(Sh))},n.\u0275prov=le({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function t7(n,t){if(1&n){const e=$o();m(0,"span",21),Ge("click",function(){return Bn(e),Tt().setExp(0)}),k(1,"x"),v()}}function i7(n,t){if(1&n&&(m(0,"option",9),k(1),v()),2&n){const e=t.$implicit;K("ngValue",e),q(1),on(e)}}function n7(n,t){if(1&n&&(m(0,"option",24),k(1),v()),2&n){const e=t.$implicit,i=Tt(2);K("ngValue",e)("hidden",i.optionHidden(e))("disabled",i.optionHidden(e)),q(1),on(e)}}function s7(n,t){if(1&n&&(m(0,"optgroup",22),Re(1,n7,2,4,"option",23),v()),2&n){const e=t.$implicit;K("label","Tier "+e.key),q(1),K("ngForOf",e.value)}}function r7(n,t){if(1&n){const e=$o();m(0,"button",25),Ge("click",function(){return Bn(e),Tt().toggleFlyOut()}),k(1,">"),v()}}function o7(n,t){if(1&n&&(m(0,"option",24),k(1),v()),2&n){const e=t.$implicit,i=Tt(4);K("ngValue",e)("hidden",i.optionHidden(e))("disabled",i.optionHidden(e)),q(1),on(e)}}function a7(n,t){if(1&n&&(m(0,"optgroup",22),Re(1,o7,2,4,"option",23),v()),2&n){const e=t.$implicit;K("label","Tier "+e.key),q(1),K("ngForOf",e.value)}}function l7(n,t){if(1&n&&(m(0,"div"),m(1,"label",28),k(2,"Swallowed Pet"),v(),m(3,"select",29),m(4,"option",9),k(5,"None"),v(),Re(6,a7,2,2,"optgroup",12),nc(7,"keyvalue"),v(),v()),2&n){const e=Tt(2);q(4),K("ngValue",null),q(2),K("ngForOf",sc(7,2,e.pets))}}function c7(n,t){if(1&n&&(m(0,"option",24),k(1),v()),2&n){const e=t.$implicit,i=Tt(5);K("ngValue",e)("hidden",i.optionHidden(e))("disabled",i.optionHidden(e)),q(1),on(e)}}function u7(n,t){if(1&n&&(m(0,"optgroup",22),Re(1,c7,2,4,"option",23),v()),2&n){const e=t.$implicit;K("label","Tier "+e.key),q(1),K("ngForOf",e.value)}}function h7(n,t){if(1&n&&(m(0,"div"),m(1,"label",31),k(2,"Swallowed Pet"),v(),m(3,"select",32),m(4,"option",9),k(5,"None"),v(),Re(6,u7,2,2,"optgroup",12),nc(7,"keyvalue"),v(),v()),2&n){const e=t.index,i=Tt(3);q(1),Jf("for","abominationSwallowedPet",e+1,""),q(2),Jf("formControlName","abominationSwallowedPet",e+1,""),q(1),K("ngValue",null),q(2),K("ngForOf",sc(7,4,i.startOfBattlePets))}}const d7=function(){return[]};function f7(n,t){if(1&n&&(m(0,"div"),Re(1,h7,8,6,"div",30),v()),2&n){const e=Tt(2);q(1),K("ngForOf",function(n,t,e){const i=Vi()+n,s=W();return s[i]===de?Fr(s,i,e?t.call(e):t()):function(n,t){return n[t]}(s,i)}(1,d7).constructor(e.pet.level))}}function p7(n,t){1&n&&(m(0,"div"),m(1,"label",33),k(2,"Battles Fought"),v(),re(3,"input",34),v())}function g7(n,t){if(1&n&&(m(0,"div",26),Re(1,l7,8,4,"div",27),Re(2,f7,2,2,"div",27),Re(3,p7,4,0,"div",27),v()),2&n){const e=Tt();q(1),K("ngIf","Beluga Whale"==e.pet.name),q(1),K("ngIf","Abomination"==e.pet.name),q(1),K("ngIf","Slime"==e.pet.name)}}function m7(n,t){if(1&n&&(m(0,"option",9),k(1),v()),2&n){const e=t.$implicit;K("ngValue",e.value),q(1),on(e.key)}}function v7(n,t){1&n&&(m(0,"div",35),re(1,"input",36),v())}let jB=(()=>{class n{constructor(e,i){this.petService=e,this.equipmentService=i,this.showFlyOut=!1,this.attackHealthMax=50,this.showTokenPets=!1,this.tokenPets=["Bee","Bus","Chick","Dirty Rat","Lizard Tail","Ram","Smaller Slug","Smallest Slug","Zombie Cricket","Zombie Fly","Chim-Goat","Chim-Lion","Chim-Snake","Daycrawler","Head","Monty","Nessie?","Smaller Slime","Young Phoenix","Good Dog"]}ngOnInit(){var e;this.initSelector(),this.fixLoadEquipment(),"Behemoth"==(null===(e=this.pet)||void 0===e?void 0:e.name)&&(this.attackHealthMax=100)}initSelector(){this.initPets(),this.initEquipment(),this.initForm()}initPets(){this.pets=new Map;for(let e=1;e<=6;e++)this.pets.set(e,[]);for(let[e,i]of this.petService.turtlePackPets)this.pets.get(e).push(...i);for(let[e,i]of this.petService.puppyPackPets)this.pets.get(e).push(...i);for(let[e,i]of this.petService.starPackPets)this.pets.get(e).push(...i);for(let[e,i]of this.petService.goldenPackPets)this.pets.get(e).push(...i);for(let[e,i]of this.petService.unicornPackPets)this.pets.get(e).push(...i);for(let[e,i]of this.petService.customPackPets)this.pets.get(e).push(...i);for(let[e,i]of this.pets)this.pets.set(e,[...new Set(i)]);this.initStartOfBattlePets(),console.log("pets",this.pets)}initStartOfBattlePets(){this.startOfBattlePets=new Map;for(let e=1;e<=6;e++){let i=[];for(let s of this.pets.get(e))this.petService.startOfBattlePets.includes(s)&&i.push(s);this.startOfBattlePets.set(e,i)}}getPack(e){let i;if("Turtle"==e.pack)i=this.petService.turtlePackPets;else if("Puppy"==e.pack)i=this.petService.puppyPackPets;else if("Star"==e.pack)i=this.petService.starPackPets;else if("Golden"==e.pack)i=this.petService.goldenPackPets;else if("Unicorn"==e.pack)i=this.petService.unicornPackPets;else try{i=this.buildCustomPack(e.pack)}catch(s){i=this.petService.turtlePackPets}return(0,ge.cloneDeep)(i)}buildCustomPack(e){let i;for(let r of this.customPacks.controls)if(r.get("name").value==e){i=r;break}let s=new Map;for(let r=1;r<=6;r++)s.set(r,i.get(`tier${r}Pets`).value);return s}initEquipment(){this.equipment=this.equipmentService.getInstanceOfAllEquipment()}initForm(){this.formGroup.get("name").valueChanges.subscribe(e=>{null!=e?this.substitutePet(!0):this.removePet()}),this.formGroup.get("attack").valueChanges.subscribe(()=>{this.substitutePet(!1)}),this.formGroup.get("health").valueChanges.subscribe(()=>{this.substitutePet(!1)}),this.formGroup.get("exp").valueChanges.subscribe(()=>{this.substitutePet(!1)}),this.formGroup.get("equipment").valueChanges.subscribe(e=>{if(null!=e&&null==e.reset){let i=this.equipment.get(e.name);this.formGroup.get("equipment").setValue(i,{emitEvent:!1})}this.substitutePet(!1)}),this.formGroup.get("belugaSwallowedPet").valueChanges.subscribe(e=>{this.setBelugaSwallow(e)}),this.formGroup.get("abominationSwallowedPet1").valueChanges.subscribe(e=>{this.setSwallowedPets(e)}),this.formGroup.get("abominationSwallowedPet2").valueChanges.subscribe(e=>{this.setSwallowedPets(e)}),this.formGroup.get("abominationSwallowedPet3").valueChanges.subscribe(e=>{this.setSwallowedPets(e)}),this.formGroup.get("mana").valueChanges.subscribe(()=>{this.substitutePet(!1)}),this.formGroup.get("battlesFought").valueChanges.subscribe(e=>{this.setBattlesFought(e)})}setExp(e){this.formGroup.get("exp").setValue(e)}getIsSelected(e){return this.formGroup.get("exp").value>=e}showRemoveExp(){return this.formGroup.get("exp").value>0}substitutePet(e=!1){setTimeout(()=>{let i=this.formGroup.value;e&&(i.attack=null,i.health=null,i.mana=null);let s=i.equipment;null!=s&&(i.equipment=this.equipment.get(s.name));let r=this.petService.createPet(i,this.player);this.player.setPet(this.index,r,!0),e&&(this.formGroup.get("attack").setValue(r.attack,{emitEvent:!1}),this.formGroup.get("health").setValue(r.health,{emitEvent:!1}),this.formGroup.get("mana").setValue(r.mana,{emitEvent:!1})),this.attackHealthMax="Behemoth"==this.formGroup.get("name").value?100:50})}setBelugaSwallow(e){let i=this.player.getPet(this.index);null!=i&&(i.belugaSwallowedPet=e)}setSwallowedPets(e){let i=this.player.getPet(this.index);if(null==i)return;let s=[];null!=this.formGroup.get("abominationSwallowedPet1").value&&s.push(this.formGroup.get("abominationSwallowedPet1").value),null!=this.formGroup.get("abominationSwallowedPet2").value&&s.push(this.formGroup.get("abominationSwallowedPet2").value),null!=this.formGroup.get("abominationSwallowedPet3").value&&s.push(this.formGroup.get("abominationSwallowedPet3").value),console.log(s),i.abominationSwallowedPet1=s[0],i.abominationSwallowedPet2=s[1],i.abominationSwallowedPet3=s[2]}setBattlesFought(e){let i=this.player.getPet(this.index);null!=i&&(i.battlesFought=e)}showFlyOutButton(){return["Beluga Whale","Abomination","Slime"].includes(this.formGroup.get("name").value)}toggleFlyOut(){this.showFlyOut=!this.showFlyOut}removePet(){this.player.setPet(this.index,null,!0),this.formGroup.get("name").setValue(null,{emitEvent:!1}),this.formGroup.get("attack").setValue(0,{emitEvent:!1}),this.formGroup.get("health").setValue(0,{emitEvent:!1}),this.formGroup.get("exp").setValue(0,{emitEvent:!1}),this.formGroup.get("equipment").setValue(null,{emitEvent:!1}),this.formGroup.get("mana").setValue(0,{emitEvent:!1})}optionHidden(e){var i;if(this.allPets)return!1;let s=this.getPack(this.player);for(let[r,o]of s)if(o.includes(e))return!1;if(this.angler){let r=this.getPack(this.opponent);for(let[o,a]of r)if(a.includes(e))return!1}return(null===(i=this.player.getPet(this.index))||void 0===i?void 0:i.name)!=e}fixLoadEquipment(){let e=this.formGroup.get("equipment").value;null!=e&&this.formGroup.get("equipment").setValue(this.equipment.get(e.name))}}return n.\u0275fac=function(e){return new(e||n)(V(Q_),V(J_))},n.\u0275cmp=Xn({type:n,selectors:[["app-pet-selector"]],inputs:{pet:"pet",player:"player",opponent:"opponent",index:"index",angler:"angler",allPets:"allPets",mana:"mana",formGroup:"formGroup",customPacks:"customPacks",showTokenPets:"showTokenPets"},decls:39,vars:27,consts:[[1,"card","p-3"],[1,"row","form-group",3,"formGroup"],[1,"col-12","d-flex","level-bar-numbers","mb-1"],[1,"level-3"],[1,"col-12","d-flex","level-bar","mb-2"],["class","remove-exp",3,"click",4,"ngIf"],[3,"click"],[1,"col-12","mb-2","d-flex"],["formControlName","name",1,"form-control"],[3,"ngValue"],["label","Token Pets",3,"hidden"],[3,"ngValue",4,"ngFor","ngForOf"],[3,"label",4,"ngFor","ngForOf"],["class","btn btn-secondary",3,"click",4,"ngIf"],["class","fly-out border p-3",4,"ngIf"],[1,"col-12","mb-2"],["formControlName","equipment",1,"form-control"],["class","col-12 d-flex justify-content-center",4,"ngIf"],[1,"col-6"],["formControlName","attack","type","number","min","1",1,"form-control","select-attack",3,"max"],["formControlName","health","type","number","min","1",1,"form-control","select-health",3,"max"],[1,"remove-exp",3,"click"],[3,"label"],[3,"ngValue","hidden","disabled",4,"ngFor","ngForOf"],[3,"ngValue","hidden","disabled"],[1,"btn","btn-secondary",3,"click"],[1,"fly-out","border","p-3"],[4,"ngIf"],["for","belugaSwallowedPet"],["formControlName","belugaSwallowedPet",1,"form-control"],[4,"ngFor","ngForOf"],[3,"for"],[1,"form-control",3,"formControlName"],["for","battlesFought"],["formControlName","battlesFought","type","number","max","99",1,"form-control"],[1,"col-12","d-flex","justify-content-center"],["formControlName","mana","type","number","min","0","max","100",1,"form-control","select-mana"]],template:function(e,i){1&e&&(m(0,"div",0),m(1,"div",1),m(2,"div",2),m(3,"span"),k(4,"1"),v(),re(5,"span"),m(6,"span"),k(7,"2"),v(),re(8,"span"),m(9,"span",3),k(10,"3"),v(),v(),m(11,"div",4),Re(12,t7,2,0,"span",5),m(13,"span",6),Ge("click",function(){return i.setExp(1)}),v(),m(14,"span",6),Ge("click",function(){return i.setExp(2)}),v(),m(15,"span",6),Ge("click",function(){return i.setExp(3)}),v(),m(16,"span",6),Ge("click",function(){return i.setExp(4)}),v(),m(17,"span",6),Ge("click",function(){return i.setExp(5)}),v(),v(),m(18,"div",7),m(19,"select",8),m(20,"option",9),k(21,"None"),v(),m(22,"optgroup",10),Re(23,i7,2,2,"option",11),v(),Re(24,s7,2,2,"optgroup",12),nc(25,"keyvalue"),v(),Re(26,r7,2,0,"button",13),Re(27,g7,4,3,"div",14),v(),m(28,"div",15),m(29,"select",16),m(30,"option",9),k(31,"None"),v(),Re(32,m7,2,2,"option",11),nc(33,"keyvalue"),v(),v(),Re(34,v7,2,0,"div",17),m(35,"div",18),re(36,"input",19),v(),m(37,"div",18),re(38,"input",20),v(),v(),v()),2&e&&(q(1),K("formGroup",i.formGroup),q(11),K("ngIf",i.showRemoveExp()),q(1),Os(i.getIsSelected(1)?"selected":""),q(1),Os(i.getIsSelected(2)?"selected":""),q(1),Os(i.getIsSelected(3)?"selected":""),q(1),Os(i.getIsSelected(4)?"selected":""),q(1),Os(i.getIsSelected(5)?"selected":""),q(3),K("ngValue",null),q(2),K("hidden",!i.showTokenPets),q(1),K("ngForOf",i.tokenPets),q(1),K("ngForOf",sc(25,23,i.pets)),q(2),K("ngIf",i.showFlyOutButton()),q(1),K("ngIf",i.showFlyOut),q(3),K("ngValue",null),q(2),K("ngForOf",sc(33,25,i.equipment)),q(2),K("ngIf",i.mana),q(2),K("max",i.attackHealthMax),q(2),K("max",i.attackHealthMax))},directives:[dc,Go,dh,Op,hc,Fa,Y0,J0,kp,qo,s_,Z0,r_],pipes:[v0],styles:[".select-attack[_ngcontent-%COMP%]{background-color:gray;color:#fff}.select-health[_ngcontent-%COMP%]{background-color:#ca0202;color:#fff}.select-mana[_ngcontent-%COMP%]{background-color:#7388f8;color:#fff;width:45%}.select-attack[_ngcontent-%COMP%], .select-health[_ngcontent-%COMP%], .select-mana[_ngcontent-%COMP%]{font-size:1.5em;padding-right:0}.level-bar[_ngcontent-%COMP%], .level-bar-numbers[_ngcontent-%COMP%]{height:1em}.level-bar[_ngcontent-%COMP%]   span[_ngcontent-%COMP%], .level-bar-numbers[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{width:calc(100% / 5);height:100%}.level-bar[_ngcontent-%COMP%]{position:relative}.level-bar[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{cursor:pointer;border:2px solid black;background-color:#9c5900;border-radius:20%}.level-bar[_ngcontent-%COMP%]   .remove-exp[_ngcontent-%COMP%]{border:initial;background-color:initial;border-radius:initial;width:initial;position:absolute;left:0;bottom:.33em}.level-bar[_ngcontent-%COMP%]   span.selected[_ngcontent-%COMP%]{background-color:#feb900}.level-3[_ngcontent-%COMP%]{text-align:right}.fly-out[_ngcontent-%COMP%]{position:absolute;left:100%;background-color:#fff;width:100%;z-index:1;box-shadow:12px 4px 9px 7px #0000001a}"]}),n})();var Mn="top",us="bottom",hs="right",In="left",Z_="auto",Eh=[Mn,us,hs,In],fc="start",wh="end",WB="clippingParents",Cx="viewport",Ch="popper",zB="reference",kx=Eh.reduce(function(n,t){return n.concat([t+"-"+fc,t+"-"+wh])},[]),Dx=[].concat(Eh,[Z_]).reduce(function(n,t){return n.concat([t,t+"-"+fc,t+"-"+wh])},[]),KB="beforeRead",YB="read",QB="afterRead",JB="beforeMain",ZB="main",XB="afterMain",eV="beforeWrite",tV="write",iV="afterWrite",nV=[KB,YB,QB,JB,ZB,XB,eV,tV,iV];function Wr(n){return n?(n.nodeName||"").toLowerCase():null}function ds(n){if(null==n)return window;if("[object Window]"!==n.toString()){var t=n.ownerDocument;return t&&t.defaultView||window}return n}function pc(n){return n instanceof ds(n).Element||n instanceof Element}function Fs(n){return n instanceof ds(n).HTMLElement||n instanceof HTMLElement}function Px(n){return"undefined"!=typeof ShadowRoot&&(n instanceof ds(n).ShadowRoot||n instanceof ShadowRoot)}const Ax={name:"applyStyles",enabled:!0,phase:"write",fn:function(n){var t=n.state;Object.keys(t.elements).forEach(function(e){var i=t.styles[e]||{},s=t.attributes[e]||{},r=t.elements[e];!Fs(r)||!Wr(r)||(Object.assign(r.style,i),Object.keys(s).forEach(function(o){var a=s[o];!1===a?r.removeAttribute(o):r.setAttribute(o,!0===a?"":a)}))})},effect:function(n){var t=n.state,e={popper:{position:t.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(t.elements.popper.style,e.popper),t.styles=e,t.elements.arrow&&Object.assign(t.elements.arrow.style,e.arrow),function(){Object.keys(t.elements).forEach(function(i){var s=t.elements[i],r=t.attributes[i]||{},a=Object.keys(t.styles.hasOwnProperty(i)?t.styles[i]:e[i]).reduce(function(l,h){return l[h]="",l},{});!Fs(s)||!Wr(s)||(Object.assign(s.style,a),Object.keys(r).forEach(function(l){s.removeAttribute(l)}))})}},requires:["computeStyles"]};function zr(n){return n.split("-")[0]}var gc=Math.max,X_=Math.min,kh=Math.round;function Tx(){var n=navigator.userAgentData;return null!=n&&n.brands&&Array.isArray(n.brands)?n.brands.map(function(t){return t.brand+"/"+t.version}).join(" "):navigator.userAgent}function sV(){return!/^((?!chrome|android).)*safari/i.test(Tx())}function Dh(n,t,e){void 0===t&&(t=!1),void 0===e&&(e=!1);var i=n.getBoundingClientRect(),s=1,r=1;t&&Fs(n)&&(s=n.offsetWidth>0&&kh(i.width)/n.offsetWidth||1,r=n.offsetHeight>0&&kh(i.height)/n.offsetHeight||1);var a=(pc(n)?ds(n):window).visualViewport,l=!sV()&&e,h=(i.left+(l&&a?a.offsetLeft:0))/s,f=(i.top+(l&&a?a.offsetTop:0))/r,p=i.width/s,y=i.height/r;return{width:p,height:y,top:f,right:h+p,bottom:f+y,left:h,x:h,y:f}}function xx(n){var t=Dh(n),e=n.offsetWidth,i=n.offsetHeight;return Math.abs(t.width-e)<=1&&(e=t.width),Math.abs(t.height-i)<=1&&(i=t.height),{x:n.offsetLeft,y:n.offsetTop,width:e,height:i}}function rV(n,t){var e=t.getRootNode&&t.getRootNode();if(n.contains(t))return!0;if(e&&Px(e)){var i=t;do{if(i&&n.isSameNode(i))return!0;i=i.parentNode||i.host}while(i)}return!1}function Wo(n){return ds(n).getComputedStyle(n)}function b7(n){return["table","td","th"].indexOf(Wr(n))>=0}function qa(n){return((pc(n)?n.ownerDocument:n.document)||window.document).documentElement}function eb(n){return"html"===Wr(n)?n:n.assignedSlot||n.parentNode||(Px(n)?n.host:null)||qa(n)}function oV(n){return Fs(n)&&"fixed"!==Wo(n).position?n.offsetParent:null}function Yp(n){for(var t=ds(n),e=oV(n);e&&b7(e)&&"static"===Wo(e).position;)e=oV(e);return e&&("html"===Wr(e)||"body"===Wr(e)&&"static"===Wo(e).position)?t:e||function(n){var t=/firefox/i.test(Tx());if(/Trident/i.test(Tx())&&Fs(n)&&"fixed"===Wo(n).position)return null;var s=eb(n);for(Px(s)&&(s=s.host);Fs(s)&&["html","body"].indexOf(Wr(s))<0;){var r=Wo(s);if("none"!==r.transform||"none"!==r.perspective||"paint"===r.contain||-1!==["transform","perspective"].indexOf(r.willChange)||t&&"filter"===r.willChange||t&&r.filter&&"none"!==r.filter)return s;s=s.parentNode}return null}(n)||t}function Mx(n){return["top","bottom"].indexOf(n)>=0?"x":"y"}function Qp(n,t,e){return gc(n,X_(t,e))}function lV(n){return Object.assign({},{top:0,right:0,bottom:0,left:0},n)}function cV(n,t){return t.reduce(function(e,i){return e[i]=n,e},{})}const uV={name:"arrow",enabled:!0,phase:"main",fn:function(n){var t,e=n.state,i=n.name,s=n.options,r=e.elements.arrow,o=e.modifiersData.popperOffsets,a=zr(e.placement),l=Mx(a),f=[In,hs].indexOf(a)>=0?"height":"width";if(r&&o){var p=function(t,e){return lV("number"!=typeof(t="function"==typeof t?t(Object.assign({},e.rects,{placement:e.placement})):t)?t:cV(t,Eh))}(s.padding,e),y=xx(r),_="y"===l?Mn:In,w="y"===l?us:hs,T=e.rects.reference[f]+e.rects.reference[l]-o[l]-e.rects.popper[f],P=o[l]-e.rects.reference[l],N=Yp(r),I=N?"y"===l?N.clientHeight||0:N.clientWidth||0:0,te=I/2-y[f]/2+(T/2-P/2),ae=Qp(p[_],te,I-y[f]-p[w]);e.modifiersData[i]=((t={})[l]=ae,t.centerOffset=ae-te,t)}},effect:function(n){var t=n.state,i=n.options.element,s=void 0===i?"[data-popper-arrow]":i;null!=s&&("string"==typeof s&&!(s=t.elements.popper.querySelector(s))||!rV(t.elements.popper,s)||(t.elements.arrow=s))},requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function Ph(n){return n.split("-")[1]}var D7={top:"auto",right:"auto",bottom:"auto",left:"auto"};function hV(n){var t,e=n.popper,i=n.popperRect,s=n.placement,r=n.variation,o=n.offsets,a=n.position,l=n.gpuAcceleration,h=n.adaptive,f=n.roundOffsets,p=n.isFixed,y=o.x,_=void 0===y?0:y,w=o.y,T=void 0===w?0:w,P="function"==typeof f?f({x:_,y:T}):{x:_,y:T};_=P.x,T=P.y;var N=o.hasOwnProperty("x"),I=o.hasOwnProperty("y"),H=In,G=Mn,Q=window;if(h){var te=Yp(e),ae="clientHeight",We="clientWidth";te===ds(e)&&"static"!==Wo(te=qa(e)).position&&"absolute"===a&&(ae="scrollHeight",We="scrollWidth"),(s===Mn||(s===In||s===hs)&&r===wh)&&(G=us,T-=(p&&te===Q&&Q.visualViewport?Q.visualViewport.height:te[ae])-i.height,T*=l?1:-1),s!==In&&(s!==Mn&&s!==us||r!==wh)||(H=hs,_-=(p&&te===Q&&Q.visualViewport?Q.visualViewport.width:te[We])-i.width,_*=l?1:-1)}var ft,yt=Object.assign({position:a},h&&D7),Ht=!0===f?function(n,t){var i=n.y,s=t.devicePixelRatio||1;return{x:kh(n.x*s)/s||0,y:kh(i*s)/s||0}}({x:_,y:T},ds(e)):{x:_,y:T};return _=Ht.x,T=Ht.y,Object.assign({},yt,l?((ft={})[G]=I?"0":"",ft[H]=N?"0":"",ft.transform=(Q.devicePixelRatio||1)<=1?"translate("+_+"px, "+T+"px)":"translate3d("+_+"px, "+T+"px, 0)",ft):((t={})[G]=I?T+"px":"",t[H]=N?_+"px":"",t.transform="",t))}const Ix={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:function(n){var t=n.state,e=n.options,i=e.gpuAcceleration,s=void 0===i||i,r=e.adaptive,o=void 0===r||r,a=e.roundOffsets,l=void 0===a||a,h={placement:zr(t.placement),variation:Ph(t.placement),popper:t.elements.popper,popperRect:t.rects.popper,gpuAcceleration:s,isFixed:"fixed"===t.options.strategy};null!=t.modifiersData.popperOffsets&&(t.styles.popper=Object.assign({},t.styles.popper,hV(Object.assign({},h,{offsets:t.modifiersData.popperOffsets,position:t.options.strategy,adaptive:o,roundOffsets:l})))),null!=t.modifiersData.arrow&&(t.styles.arrow=Object.assign({},t.styles.arrow,hV(Object.assign({},h,{offsets:t.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:l})))),t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-placement":t.placement})},data:{}};var tb={passive:!0};const Ox={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:function(n){var t=n.state,e=n.instance,i=n.options,s=i.scroll,r=void 0===s||s,o=i.resize,a=void 0===o||o,l=ds(t.elements.popper),h=[].concat(t.scrollParents.reference,t.scrollParents.popper);return r&&h.forEach(function(f){f.addEventListener("scroll",e.update,tb)}),a&&l.addEventListener("resize",e.update,tb),function(){r&&h.forEach(function(f){f.removeEventListener("scroll",e.update,tb)}),a&&l.removeEventListener("resize",e.update,tb)}},data:{}};var x7={left:"right",right:"left",bottom:"top",top:"bottom"};function ib(n){return n.replace(/left|right|bottom|top/g,function(t){return x7[t]})}var M7={start:"end",end:"start"};function dV(n){return n.replace(/start|end/g,function(t){return M7[t]})}function Nx(n){var t=ds(n);return{scrollLeft:t.pageXOffset,scrollTop:t.pageYOffset}}function Rx(n){return Dh(qa(n)).left+Nx(n).scrollLeft}function Lx(n){var t=Wo(n);return/auto|scroll|overlay|hidden/.test(t.overflow+t.overflowY+t.overflowX)}function fV(n){return["html","body","#document"].indexOf(Wr(n))>=0?n.ownerDocument.body:Fs(n)&&Lx(n)?n:fV(eb(n))}function Jp(n,t){var e;void 0===t&&(t=[]);var i=fV(n),s=i===(null==(e=n.ownerDocument)?void 0:e.body),r=ds(i),o=s?[r].concat(r.visualViewport||[],Lx(i)?i:[]):i,a=t.concat(o);return s?a:a.concat(Jp(eb(o)))}function Bx(n){return Object.assign({},n,{left:n.x,top:n.y,right:n.x+n.width,bottom:n.y+n.height})}function pV(n,t,e){return t===Cx?Bx(function(n,t){var e=ds(n),i=qa(n),s=e.visualViewport,r=i.clientWidth,o=i.clientHeight,a=0,l=0;if(s){r=s.width,o=s.height;var h=sV();(h||!h&&"fixed"===t)&&(a=s.offsetLeft,l=s.offsetTop)}return{width:r,height:o,x:a+Rx(n),y:l}}(n,e)):pc(t)?function(n,t){var e=Dh(n,!1,"fixed"===t);return e.top=e.top+n.clientTop,e.left=e.left+n.clientLeft,e.bottom=e.top+n.clientHeight,e.right=e.left+n.clientWidth,e.width=n.clientWidth,e.height=n.clientHeight,e.x=e.left,e.y=e.top,e}(t,e):Bx(function(n){var t,e=qa(n),i=Nx(n),s=null==(t=n.ownerDocument)?void 0:t.body,r=gc(e.scrollWidth,e.clientWidth,s?s.scrollWidth:0,s?s.clientWidth:0),o=gc(e.scrollHeight,e.clientHeight,s?s.scrollHeight:0,s?s.clientHeight:0),a=-i.scrollLeft+Rx(n),l=-i.scrollTop;return"rtl"===Wo(s||e).direction&&(a+=gc(e.clientWidth,s?s.clientWidth:0)-r),{width:r,height:o,x:a,y:l}}(qa(n)))}function gV(n){var l,t=n.reference,e=n.element,i=n.placement,s=i?zr(i):null,r=i?Ph(i):null,o=t.x+t.width/2-e.width/2,a=t.y+t.height/2-e.height/2;switch(s){case Mn:l={x:o,y:t.y-e.height};break;case us:l={x:o,y:t.y+t.height};break;case hs:l={x:t.x+t.width,y:a};break;case In:l={x:t.x-e.width,y:a};break;default:l={x:t.x,y:t.y}}var h=s?Mx(s):null;if(null!=h){var f="y"===h?"height":"width";switch(r){case fc:l[h]=l[h]-(t[f]/2-e[f]/2);break;case wh:l[h]=l[h]+(t[f]/2-e[f]/2)}}return l}function Ah(n,t){void 0===t&&(t={});var i=t.placement,s=void 0===i?n.placement:i,r=t.strategy,o=void 0===r?n.strategy:r,a=t.boundary,l=void 0===a?WB:a,h=t.rootBoundary,f=void 0===h?Cx:h,p=t.elementContext,y=void 0===p?Ch:p,_=t.altBoundary,w=void 0!==_&&_,T=t.padding,P=void 0===T?0:T,N=lV("number"!=typeof P?P:cV(P,Eh)),H=n.rects.popper,G=n.elements[w?y===Ch?zB:Ch:y],Q=function(n,t,e,i){var s="clippingParents"===t?function(n){var t=Jp(eb(n)),i=["absolute","fixed"].indexOf(Wo(n).position)>=0&&Fs(n)?Yp(n):n;return pc(i)?t.filter(function(s){return pc(s)&&rV(s,i)&&"body"!==Wr(s)}):[]}(n):[].concat(t),r=[].concat(s,[e]),a=r.reduce(function(l,h){var f=pV(n,h,i);return l.top=gc(f.top,l.top),l.right=X_(f.right,l.right),l.bottom=X_(f.bottom,l.bottom),l.left=gc(f.left,l.left),l},pV(n,r[0],i));return a.width=a.right-a.left,a.height=a.bottom-a.top,a.x=a.left,a.y=a.top,a}(pc(G)?G:G.contextElement||qa(n.elements.popper),l,f,o),te=Dh(n.elements.reference),ae=gV({reference:te,element:H,strategy:"absolute",placement:s}),We=Bx(Object.assign({},H,ae)),Fe=y===Ch?We:te,Ye={top:Q.top-Fe.top+N.top,bottom:Fe.bottom-Q.bottom+N.bottom,left:Q.left-Fe.left+N.left,right:Fe.right-Q.right+N.right},yt=n.modifiersData.offset;if(y===Ch&&yt){var Ht=yt[s];Object.keys(Ye).forEach(function(ft){var Ui=[hs,us].indexOf(ft)>=0?1:-1,ji=[Mn,us].indexOf(ft)>=0?"y":"x";Ye[ft]+=Ht[ji]*Ui})}return Ye}const mV={name:"flip",enabled:!0,phase:"main",fn:function(n){var t=n.state,e=n.options,i=n.name;if(!t.modifiersData[i]._skip){for(var s=e.mainAxis,r=void 0===s||s,o=e.altAxis,a=void 0===o||o,l=e.fallbackPlacements,h=e.padding,f=e.boundary,p=e.rootBoundary,y=e.altBoundary,_=e.flipVariations,w=void 0===_||_,T=e.allowedAutoPlacements,P=t.options.placement,N=zr(P),H=l||(N!==P&&w?function(n){if(zr(n)===Z_)return[];var t=ib(n);return[dV(n),t,dV(t)]}(P):[ib(P)]),G=[P].concat(H).reduce(function(ht,gs){return ht.concat(zr(gs)===Z_?function(n,t){void 0===t&&(t={});var s=t.boundary,r=t.rootBoundary,o=t.padding,a=t.flipVariations,l=t.allowedAutoPlacements,h=void 0===l?Dx:l,f=Ph(t.placement),p=f?a?kx:kx.filter(function(w){return Ph(w)===f}):Eh,y=p.filter(function(w){return h.indexOf(w)>=0});0===y.length&&(y=p);var _=y.reduce(function(w,T){return w[T]=Ah(n,{placement:T,boundary:s,rootBoundary:r,padding:o})[zr(T)],w},{});return Object.keys(_).sort(function(w,T){return _[w]-_[T]})}(t,{placement:gs,boundary:f,rootBoundary:p,padding:h,flipVariations:w,allowedAutoPlacements:T}):gs)},[]),Q=t.rects.reference,te=t.rects.popper,ae=new Map,We=!0,Fe=G[0],Ye=0;Ye<G.length;Ye++){var yt=G[Ye],Ht=zr(yt),ft=Ph(yt)===fc,Ui=[Mn,us].indexOf(Ht)>=0,ji=Ui?"width":"height",J=Ah(t,{placement:yt,boundary:f,rootBoundary:p,altBoundary:y,padding:h}),oe=Ui?ft?hs:In:ft?us:Mn;Q[ji]>te[ji]&&(oe=ib(oe));var _e=ib(oe),Le=[];if(r&&Le.push(J[Ht]<=0),a&&Le.push(J[oe]<=0,J[_e]<=0),Le.every(function(ht){return ht})){Fe=yt,We=!1;break}ae.set(yt,Le)}if(We)for(var Wi=function(gs){var Ei=G.find(function(ms){var On=ae.get(ms);if(On)return On.slice(0,gs).every(function(Yn){return Yn})});if(Ei)return Fe=Ei,"break"},si=w?3:1;si>0&&"break"!==Wi(si);si--);t.placement!==Fe&&(t.modifiersData[i]._skip=!0,t.placement=Fe,t.reset=!0)}},requiresIfExists:["offset"],data:{_skip:!1}};function vV(n,t,e){return void 0===e&&(e={x:0,y:0}),{top:n.top-t.height-e.y,right:n.right-t.width+e.x,bottom:n.bottom-t.height+e.y,left:n.left-t.width-e.x}}function yV(n){return[Mn,hs,us,In].some(function(t){return n[t]>=0})}const _V={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:function(n){var t=n.state,e=n.name,i=t.rects.reference,s=t.rects.popper,r=t.modifiersData.preventOverflow,o=Ah(t,{elementContext:"reference"}),a=Ah(t,{altBoundary:!0}),l=vV(o,i),h=vV(a,s,r),f=yV(l),p=yV(h);t.modifiersData[e]={referenceClippingOffsets:l,popperEscapeOffsets:h,isReferenceHidden:f,hasPopperEscaped:p},t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-reference-hidden":f,"data-popper-escaped":p})}},bV={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:function(n){var t=n.state,i=n.name,s=n.options.offset,r=void 0===s?[0,0]:s,o=Dx.reduce(function(f,p){return f[p]=function(n,t,e){var i=zr(n),s=[In,Mn].indexOf(i)>=0?-1:1,r="function"==typeof e?e(Object.assign({},t,{placement:n})):e,o=r[0],a=r[1];return o=o||0,a=(a||0)*s,[In,hs].indexOf(i)>=0?{x:a,y:o}:{x:o,y:a}}(p,t.rects,r),f},{}),a=o[t.placement],h=a.y;null!=t.modifiersData.popperOffsets&&(t.modifiersData.popperOffsets.x+=a.x,t.modifiersData.popperOffsets.y+=h),t.modifiersData[i]=o}},Vx={name:"popperOffsets",enabled:!0,phase:"read",fn:function(n){var t=n.state;t.modifiersData[n.name]=gV({reference:t.rects.reference,element:t.rects.popper,strategy:"absolute",placement:t.placement})},data:{}},SV={name:"preventOverflow",enabled:!0,phase:"main",fn:function(n){var t=n.state,e=n.options,i=n.name,s=e.mainAxis,r=void 0===s||s,o=e.altAxis,a=void 0!==o&&o,y=e.tether,_=void 0===y||y,w=e.tetherOffset,T=void 0===w?0:w,P=Ah(t,{boundary:e.boundary,rootBoundary:e.rootBoundary,padding:e.padding,altBoundary:e.altBoundary}),N=zr(t.placement),I=Ph(t.placement),H=!I,G=Mx(N),Q=function(n){return"x"===n?"y":"x"}(G),te=t.modifiersData.popperOffsets,ae=t.rects.reference,We=t.rects.popper,Fe="function"==typeof T?T(Object.assign({},t.rects,{placement:t.placement})):T,Ye="number"==typeof Fe?{mainAxis:Fe,altAxis:Fe}:Object.assign({mainAxis:0,altAxis:0},Fe),yt=t.modifiersData.offset?t.modifiersData.offset[t.placement]:null,Ht={x:0,y:0};if(te){if(r){var ft,Ui="y"===G?Mn:In,ji="y"===G?us:hs,J="y"===G?"height":"width",oe=te[G],_e=oe+P[Ui],Le=oe-P[ji],Rt=_?-We[J]/2:0,Wi=I===fc?ae[J]:We[J],si=I===fc?-We[J]:-ae[J],un=t.elements.arrow,ht=_&&un?xx(un):{width:0,height:0},gs=t.modifiersData["arrow#persistent"]?t.modifiersData["arrow#persistent"].padding:{top:0,right:0,bottom:0,left:0},Ei=gs[Ui],ms=gs[ji],On=Qp(0,ae[J],ht[J]),Yn=H?ae[J]/2-Rt-On-Ei-Ye.mainAxis:Wi-On-Ei-Ye.mainAxis,el=H?-ae[J]/2+Rt+On+ms+Ye.mainAxis:si+On+ms+Ye.mainAxis,Uh=t.elements.arrow&&Yp(t.elements.arrow),vg=null!=(ft=null==yt?void 0:yt[G])?ft:0,Jb=oe+el-vg,Pe=Qp(_?X_(_e,oe+Yn-vg-(Uh?"y"===G?Uh.clientTop||0:Uh.clientLeft||0:0)):_e,oe,_?gc(Le,Jb):Le);te[G]=Pe,Ht[G]=Pe-oe}if(a){var Me,Zr=te[Q],Xb="y"===Q?"height":"width",KF=Zr+P["x"===G?Mn:In],YF=Zr-P["x"===G?us:hs],mI=-1!==[Mn,In].indexOf(N),QF=null!=(Me=null==yt?void 0:yt[Q])?Me:0,JF=mI?KF:Zr-ae[Xb]-We[Xb]-QF+Ye.altAxis,ZF=mI?Zr+ae[Xb]+We[Xb]-QF-Ye.altAxis:YF,XF=_&&mI?function(n,t,e){var i=Qp(n,t,e);return i>e?e:i}(JF,Zr,ZF):Qp(_?JF:KF,Zr,_?ZF:YF);te[Q]=XF,Ht[Q]=XF-Zr}t.modifiersData[i]=Ht}},requiresIfExists:["offset"]};function Y7(n,t,e){void 0===e&&(e=!1);var i=Fs(t),s=Fs(t)&&function(n){var t=n.getBoundingClientRect(),e=kh(t.width)/n.offsetWidth||1,i=kh(t.height)/n.offsetHeight||1;return 1!==e||1!==i}(t),r=qa(t),o=Dh(n,s,e),a={scrollLeft:0,scrollTop:0},l={x:0,y:0};return(i||!i&&!e)&&(("body"!==Wr(t)||Lx(r))&&(a=function(n){return n!==ds(n)&&Fs(n)?function(n){return{scrollLeft:n.scrollLeft,scrollTop:n.scrollTop}}(n):Nx(n)}(t)),Fs(t)?((l=Dh(t,!0)).x+=t.clientLeft,l.y+=t.clientTop):r&&(l.x=Rx(r))),{x:o.left+a.scrollLeft-l.x,y:o.top+a.scrollTop-l.y,width:o.width,height:o.height}}function Q7(n){var t=new Map,e=new Set,i=[];function s(r){e.add(r.name),[].concat(r.requires||[],r.requiresIfExists||[]).forEach(function(a){if(!e.has(a)){var l=t.get(a);l&&s(l)}}),i.push(r)}return n.forEach(function(r){t.set(r.name,r)}),n.forEach(function(r){e.has(r.name)||s(r)}),i}function Z7(n){var t;return function(){return t||(t=new Promise(function(e){Promise.resolve().then(function(){t=void 0,e(n())})})),t}}var EV={placement:"bottom",modifiers:[],strategy:"absolute"};function wV(){for(var n=arguments.length,t=new Array(n),e=0;e<n;e++)t[e]=arguments[e];return!t.some(function(i){return!(i&&"function"==typeof i.getBoundingClientRect)})}function nb(n){void 0===n&&(n={});var e=n.defaultModifiers,i=void 0===e?[]:e,s=n.defaultOptions,r=void 0===s?EV:s;return function(a,l,h){void 0===h&&(h=r);var f={placement:"bottom",orderedModifiers:[],options:Object.assign({},EV,r),modifiersData:{},elements:{reference:a,popper:l},attributes:{},styles:{}},p=[],y=!1,_={state:f,setOptions:function(N){var I="function"==typeof N?N(f.options):N;T(),f.options=Object.assign({},r,f.options,I),f.scrollParents={reference:pc(a)?Jp(a):a.contextElement?Jp(a.contextElement):[],popper:Jp(l)};var H=function(n){var t=Q7(n);return nV.reduce(function(e,i){return e.concat(t.filter(function(s){return s.phase===i}))},[])}(function(n){var t=n.reduce(function(e,i){var s=e[i.name];return e[i.name]=s?Object.assign({},s,i,{options:Object.assign({},s.options,i.options),data:Object.assign({},s.data,i.data)}):i,e},{});return Object.keys(t).map(function(e){return t[e]})}([].concat(i,f.options.modifiers)));return f.orderedModifiers=H.filter(function(G){return G.enabled}),f.orderedModifiers.forEach(function(P){var I=P.options,G=P.effect;if("function"==typeof G){var Q=G({state:f,name:P.name,instance:_,options:void 0===I?{}:I});p.push(Q||function(){})}}),_.update()},forceUpdate:function(){if(!y){var N=f.elements,I=N.reference,H=N.popper;if(wV(I,H)){f.rects={reference:Y7(I,Yp(H),"fixed"===f.options.strategy),popper:xx(H)},f.reset=!1,f.placement=f.options.placement,f.orderedModifiers.forEach(function(Ye){return f.modifiersData[Ye.name]=Object.assign({},Ye.data)});for(var G=0;G<f.orderedModifiers.length;G++)if(!0!==f.reset){var Q=f.orderedModifiers[G],te=Q.fn,ae=Q.options;"function"==typeof te&&(f=te({state:f,options:void 0===ae?{}:ae,name:Q.name,instance:_})||f)}else f.reset=!1,G=-1}}},update:Z7(function(){return new Promise(function(P){_.forceUpdate(),P(f)})}),destroy:function(){T(),y=!0}};if(!wV(a,l))return _;function T(){p.forEach(function(P){return P()}),p=[]}return _.setOptions(h).then(function(P){!y&&h.onFirstUpdate&&h.onFirstUpdate(P)}),_}}var e9=nb(),$x=nb({defaultModifiers:[Ox,Vx,Ix,Ax,bV,mV,SV,uV,_V]}),n9=nb({defaultModifiers:[Ox,Vx,Ix,Ax]});const Ga=new Map,Fx={set(n,t,e){Ga.has(n)||Ga.set(n,new Map);const i=Ga.get(n);i.has(t)||0===i.size?i.set(t,e):console.error(`Bootstrap doesn't allow more than one instance per element. Bound instance: ${Array.from(i.keys())[0]}.`)},get:(n,t)=>Ga.has(n)&&Ga.get(n).get(t)||null,remove(n,t){if(!Ga.has(n))return;const e=Ga.get(n);e.delete(t),0===e.size&&Ga.delete(n)}},Hx="transitionend",CV=n=>(n&&window.CSS&&window.CSS.escape&&(n=n.replace(/#([^\s"#']+)/g,(t,e)=>`#${CSS.escape(e)}`)),n),o9=n=>null==n?`${n}`:Object.prototype.toString.call(n).match(/\s([a-z]+)/i)[1].toLowerCase(),kV=n=>{n.dispatchEvent(new Event(Hx))},zo=n=>!(!n||"object"!=typeof n)&&(void 0!==n.jquery&&(n=n[0]),void 0!==n.nodeType),Ua=n=>zo(n)?n.jquery?n[0]:n:"string"==typeof n&&n.length>0?document.querySelector(CV(n)):null,Th=n=>{if(!zo(n)||0===n.getClientRects().length)return!1;const t="visible"===getComputedStyle(n).getPropertyValue("visibility"),e=n.closest("details:not([open])");if(!e)return t;if(e!==n){const i=n.closest("summary");if(i&&i.parentNode!==e||null===i)return!1}return t},ja=n=>!(n&&n.nodeType===Node.ELEMENT_NODE&&!n.classList.contains("disabled"))||(void 0!==n.disabled?n.disabled:n.hasAttribute("disabled")&&"false"!==n.getAttribute("disabled")),DV=n=>{if(!document.documentElement.attachShadow)return null;if("function"==typeof n.getRootNode){const t=n.getRootNode();return t instanceof ShadowRoot?t:null}return n instanceof ShadowRoot?n:n.parentNode?DV(n.parentNode):null},sb=()=>{},PV=()=>window.jQuery&&!document.body.hasAttribute("data-bs-no-jquery")?window.jQuery:null,qx=[],Hs=()=>"rtl"===document.documentElement.dir,qs=n=>{(n=>{"loading"===document.readyState?(qx.length||document.addEventListener("DOMContentLoaded",()=>{for(const t of qx)t()}),qx.push(n)):n()})(()=>{const t=PV();if(t){const e=n.NAME,i=t.fn[e];t.fn[e]=n.jQueryInterface,t.fn[e].Constructor=n,t.fn[e].noConflict=()=>(t.fn[e]=i,n.jQueryInterface)}})},Kn=(n,t=[],e=n)=>"function"==typeof n?n(...t):e,AV=(n,t,e=!0)=>{if(!e)return void Kn(n);const s=(n=>{if(!n)return 0;let{transitionDuration:t,transitionDelay:e}=window.getComputedStyle(n);const i=Number.parseFloat(t),s=Number.parseFloat(e);return i||s?(t=t.split(",")[0],e=e.split(",")[0],1e3*(Number.parseFloat(t)+Number.parseFloat(e))):0})(t)+5;let r=!1;const o=({target:a})=>{a===t&&(r=!0,t.removeEventListener(Hx,o),Kn(n))};t.addEventListener(Hx,o),setTimeout(()=>{r||kV(t)},s)},Gx=(n,t,e,i)=>{const s=n.length;let r=n.indexOf(t);return-1===r?!e&&i?n[s-1]:n[0]:(r+=e?1:-1,i&&(r=(r+s)%s),n[Math.max(0,Math.min(r,s-1))])},u9=/[^.]*(?=\..*)\.|.*/,h9=/\..*/,d9=/::\d+$/,Ux={};let TV=1;const xV={mouseenter:"mouseover",mouseleave:"mouseout"},f9=new Set(["click","dblclick","mouseup","mousedown","contextmenu","mousewheel","DOMMouseScroll","mouseover","mouseout","mousemove","selectstart","selectend","keydown","keypress","keyup","orientationchange","touchstart","touchmove","touchend","touchcancel","pointerdown","pointermove","pointerup","pointerleave","pointercancel","gesturestart","gesturechange","gestureend","focus","blur","change","reset","select","submit","focusin","focusout","load","unload","beforeunload","resize","move","DOMContentLoaded","readystatechange","error","abort","scroll"]);function MV(n,t){return t&&`${t}::${TV++}`||n.uidEvent||TV++}function IV(n){const t=MV(n);return n.uidEvent=t,Ux[t]=Ux[t]||{},Ux[t]}function OV(n,t,e=null){return Object.values(n).find(i=>i.callable===t&&i.delegationSelector===e)}function NV(n,t,e){const i="string"==typeof t,s=i?e:t||e;let r=LV(n);return f9.has(r)||(r=n),[i,s,r]}function RV(n,t,e,i,s){if("string"!=typeof t||!n)return;let[r,o,a]=NV(t,e,i);var w;t in xV&&(w=o,o=function(T){if(!T.relatedTarget||T.relatedTarget!==T.delegateTarget&&!T.delegateTarget.contains(T.relatedTarget))return w.call(this,T)});const l=IV(n),h=l[a]||(l[a]={}),f=OV(h,o,r?e:null);if(f)return void(f.oneOff=f.oneOff&&s);const p=MV(o,t.replace(u9,"")),y=r?function(n,t,e){return function i(s){const r=n.querySelectorAll(t);for(let{target:o}=s;o&&o!==this;o=o.parentNode)for(const a of r)if(a===o)return Wx(s,{delegateTarget:o}),i.oneOff&&Y.off(n,s.type,t,e),e.apply(o,[s])}}(n,e,o):function(n,t){return function e(i){return Wx(i,{delegateTarget:n}),e.oneOff&&Y.off(n,i.type,t),t.apply(n,[i])}}(n,o);y.delegationSelector=r?e:null,y.callable=o,y.oneOff=s,y.uidEvent=p,h[p]=y,n.addEventListener(a,y,r)}function jx(n,t,e,i,s){const r=OV(t[e],i,s);!r||(n.removeEventListener(e,r,Boolean(s)),delete t[e][r.uidEvent])}function m9(n,t,e,i){const s=t[e]||{};for(const[r,o]of Object.entries(s))r.includes(i)&&jx(n,t,e,o.callable,o.delegationSelector)}function LV(n){return n=n.replace(h9,""),xV[n]||n}const Y={on(n,t,e,i){RV(n,t,e,i,!1)},one(n,t,e,i){RV(n,t,e,i,!0)},off(n,t,e,i){if("string"!=typeof t||!n)return;const[s,r,o]=NV(t,e,i),a=o!==t,l=IV(n),h=l[o]||{},f=t.startsWith(".");if(void 0===r){if(f)for(const p of Object.keys(l))m9(n,l,p,t.slice(1));for(const[p,y]of Object.entries(h)){const _=p.replace(d9,"");(!a||t.includes(_))&&jx(n,l,o,y.callable,y.delegationSelector)}}else{if(!Object.keys(h).length)return;jx(n,l,o,r,s?e:null)}},trigger(n,t,e){if("string"!=typeof t||!n)return null;const i=PV();let o=null,a=!0,l=!0,h=!1;t!==LV(t)&&i&&(o=i.Event(t,e),i(n).trigger(o),a=!o.isPropagationStopped(),l=!o.isImmediatePropagationStopped(),h=o.isDefaultPrevented());const f=Wx(new Event(t,{bubbles:a,cancelable:!0}),e);return h&&f.preventDefault(),l&&n.dispatchEvent(f),f.defaultPrevented&&o&&o.preventDefault(),f}};function Wx(n,t={}){for(const[e,i]of Object.entries(t))try{n[e]=i}catch(s){Object.defineProperty(n,e,{configurable:!0,get:()=>i})}return n}function BV(n){if("true"===n)return!0;if("false"===n)return!1;if(n===Number(n).toString())return Number(n);if(""===n||"null"===n)return null;if("string"!=typeof n)return n;try{return JSON.parse(decodeURIComponent(n))}catch(t){return n}}function zx(n){return n.replace(/[A-Z]/g,t=>`-${t.toLowerCase()}`)}const Ko={setDataAttribute(n,t,e){n.setAttribute(`data-bs-${zx(t)}`,e)},removeDataAttribute(n,t){n.removeAttribute(`data-bs-${zx(t)}`)},getDataAttributes(n){if(!n)return{};const t={},e=Object.keys(n.dataset).filter(i=>i.startsWith("bs")&&!i.startsWith("bsConfig"));for(const i of e){let s=i.replace(/^bs/,"");s=s.charAt(0).toLowerCase()+s.slice(1,s.length),t[s]=BV(n.dataset[i])}return t},getDataAttribute:(n,t)=>BV(n.getAttribute(`data-bs-${zx(t)}`))};class Xp{static get Default(){return{}}static get DefaultType(){return{}}static get NAME(){throw new Error('You have to implement the static method "NAME", for each component!')}_getConfig(t){return t=this._mergeConfigObj(t),t=this._configAfterMerge(t),this._typeCheckConfig(t),t}_configAfterMerge(t){return t}_mergeConfigObj(t,e){const i=zo(e)?Ko.getDataAttribute(e,"config"):{};return hn(hn(hn(hn({},this.constructor.Default),"object"==typeof i?i:{}),zo(e)?Ko.getDataAttributes(e):{}),"object"==typeof t?t:{})}_typeCheckConfig(t,e=this.constructor.DefaultType){for(const[i,s]of Object.entries(e)){const r=t[i],o=zo(r)?"element":o9(r);if(!new RegExp(s).test(o))throw new TypeError(`${this.constructor.NAME.toUpperCase()}: Option "${i}" provided type "${o}" but expected type "${s}".`)}}}class Er extends Xp{constructor(t,e){super(),(t=Ua(t))&&(this._element=t,this._config=this._getConfig(e),Fx.set(this._element,this.constructor.DATA_KEY,this))}dispose(){Fx.remove(this._element,this.constructor.DATA_KEY),Y.off(this._element,this.constructor.EVENT_KEY);for(const t of Object.getOwnPropertyNames(this))this[t]=null}_queueCallback(t,e,i=!0){AV(t,e,i)}_getConfig(t){return t=this._mergeConfigObj(t,this._element),t=this._configAfterMerge(t),this._typeCheckConfig(t),t}static getInstance(t){return Fx.get(Ua(t),this.DATA_KEY)}static getOrCreateInstance(t,e={}){return this.getInstance(t)||new this(t,"object"==typeof e?e:null)}static get VERSION(){return"5.3.1"}static get DATA_KEY(){return`bs.${this.NAME}`}static get EVENT_KEY(){return`.${this.DATA_KEY}`}static eventName(t){return`${t}${this.EVENT_KEY}`}}const Kx=n=>{let t=n.getAttribute("data-bs-target");if(!t||"#"===t){let e=n.getAttribute("href");if(!e||!e.includes("#")&&!e.startsWith("."))return null;e.includes("#")&&!e.startsWith("#")&&(e=`#${e.split("#")[1]}`),t=e&&"#"!==e?e.trim():null}return CV(t)},ye={find:(n,t=document.documentElement)=>[].concat(...Element.prototype.querySelectorAll.call(t,n)),findOne:(n,t=document.documentElement)=>Element.prototype.querySelector.call(t,n),children:(n,t)=>[].concat(...n.children).filter(e=>e.matches(t)),parents(n,t){const e=[];let i=n.parentNode.closest(t);for(;i;)e.push(i),i=i.parentNode.closest(t);return e},prev(n,t){let e=n.previousElementSibling;for(;e;){if(e.matches(t))return[e];e=e.previousElementSibling}return[]},next(n,t){let e=n.nextElementSibling;for(;e;){if(e.matches(t))return[e];e=e.nextElementSibling}return[]},focusableChildren(n){const t=["a","button","input","textarea","select","details","[tabindex]",'[contenteditable="true"]'].map(e=>`${e}:not([tabindex^="-"])`).join(",");return this.find(t,n).filter(e=>!ja(e)&&Th(e))},getSelectorFromElement(n){const t=Kx(n);return t&&ye.findOne(t)?t:null},getElementFromSelector(n){const t=Kx(n);return t?ye.findOne(t):null},getMultipleElementsFromSelector(n){const t=Kx(n);return t?ye.find(t):[]}},rb=(n,t="hide")=>{const i=n.NAME;Y.on(document,`click.dismiss${n.EVENT_KEY}`,`[data-bs-dismiss="${i}"]`,function(s){if(["A","AREA"].includes(this.tagName)&&s.preventDefault(),ja(this))return;const r=ye.getElementFromSelector(this)||this.closest(`.${i}`);n.getOrCreateInstance(r)[t]()})},VV=".bs.alert",_9=`close${VV}`,b9=`closed${VV}`;class ob extends Er{static get NAME(){return"alert"}close(){if(Y.trigger(this._element,_9).defaultPrevented)return;this._element.classList.remove("show");const e=this._element.classList.contains("fade");this._queueCallback(()=>this._destroyElement(),this._element,e)}_destroyElement(){this._element.remove(),Y.trigger(this._element,b9),this.dispose()}static jQueryInterface(t){return this.each(function(){const e=ob.getOrCreateInstance(this);if("string"==typeof t){if(void 0===e[t]||t.startsWith("_")||"constructor"===t)throw new TypeError(`No method named "${t}"`);e[t](this)}})}}rb(ob,"close"),qs(ob);const $V='[data-bs-toggle="button"]';class ab extends Er{static get NAME(){return"button"}toggle(){this._element.setAttribute("aria-pressed",this._element.classList.toggle("active"))}static jQueryInterface(t){return this.each(function(){const e=ab.getOrCreateInstance(this);"toggle"===t&&e[t]()})}}Y.on(document,"click.bs.button.data-api",$V,n=>{n.preventDefault();const t=n.target.closest($V);ab.getOrCreateInstance(t).toggle()}),qs(ab);const xh=".bs.swipe",T9=`touchstart${xh}`,x9=`touchmove${xh}`,M9=`touchend${xh}`,I9=`pointerdown${xh}`,O9=`pointerup${xh}`,V9={endCallback:null,leftCallback:null,rightCallback:null},$9={endCallback:"(function|null)",leftCallback:"(function|null)",rightCallback:"(function|null)"};class lb extends Xp{constructor(t,e){super(),this._element=t,t&&lb.isSupported()&&(this._config=this._getConfig(e),this._deltaX=0,this._supportPointerEvents=Boolean(window.PointerEvent),this._initEvents())}static get Default(){return V9}static get DefaultType(){return $9}static get NAME(){return"swipe"}dispose(){Y.off(this._element,xh)}_start(t){this._supportPointerEvents?this._eventIsPointerPenTouch(t)&&(this._deltaX=t.clientX):this._deltaX=t.touches[0].clientX}_end(t){this._eventIsPointerPenTouch(t)&&(this._deltaX=t.clientX-this._deltaX),this._handleSwipe(),Kn(this._config.endCallback)}_move(t){this._deltaX=t.touches&&t.touches.length>1?0:t.touches[0].clientX-this._deltaX}_handleSwipe(){const t=Math.abs(this._deltaX);if(t<=40)return;const e=t/this._deltaX;this._deltaX=0,e&&Kn(e>0?this._config.rightCallback:this._config.leftCallback)}_initEvents(){this._supportPointerEvents?(Y.on(this._element,I9,t=>this._start(t)),Y.on(this._element,O9,t=>this._end(t)),this._element.classList.add("pointer-event")):(Y.on(this._element,T9,t=>this._start(t)),Y.on(this._element,x9,t=>this._move(t)),Y.on(this._element,M9,t=>this._end(t)))}_eventIsPointerPenTouch(t){return this._supportPointerEvents&&("pen"===t.pointerType||"touch"===t.pointerType)}static isSupported(){return"ontouchstart"in document.documentElement||navigator.maxTouchPoints>0}}const Wa=".bs.carousel",FV=".data-api",eg="next",Mh="prev",Ih="left",cb="right",U9=`slide${Wa}`,Yx=`slid${Wa}`,j9=`keydown${Wa}`,W9=`mouseenter${Wa}`,z9=`mouseleave${Wa}`,K9=`dragstart${Wa}`,Y9=`load${Wa}${FV}`,Q9=`click${Wa}${FV}`,HV="carousel",ub="active",az={ArrowLeft:cb,ArrowRight:Ih},lz={interval:5e3,keyboard:!0,pause:"hover",ride:!1,touch:!0,wrap:!0},cz={interval:"(number|boolean)",keyboard:"boolean",pause:"(string|boolean)",ride:"(boolean|string)",touch:"boolean",wrap:"boolean"};class tg extends Er{constructor(t,e){super(t,e),this._interval=null,this._activeElement=null,this._isSliding=!1,this.touchTimeout=null,this._swipeHelper=null,this._indicatorsElement=ye.findOne(".carousel-indicators",this._element),this._addEventListeners(),this._config.ride===HV&&this.cycle()}static get Default(){return lz}static get DefaultType(){return cz}static get NAME(){return"carousel"}next(){this._slide(eg)}nextWhenVisible(){!document.hidden&&Th(this._element)&&this.next()}prev(){this._slide(Mh)}pause(){this._isSliding&&kV(this._element),this._clearInterval()}cycle(){this._clearInterval(),this._updateInterval(),this._interval=setInterval(()=>this.nextWhenVisible(),this._config.interval)}_maybeEnableCycle(){if(this._config.ride){if(this._isSliding)return void Y.one(this._element,Yx,()=>this.cycle());this.cycle()}}to(t){const e=this._getItems();if(t>e.length-1||t<0)return;if(this._isSliding)return void Y.one(this._element,Yx,()=>this.to(t));const i=this._getItemIndex(this._getActive());i!==t&&this._slide(t>i?eg:Mh,e[t])}dispose(){this._swipeHelper&&this._swipeHelper.dispose(),super.dispose()}_configAfterMerge(t){return t.defaultInterval=t.interval,t}_addEventListeners(){this._config.keyboard&&Y.on(this._element,j9,t=>this._keydown(t)),"hover"===this._config.pause&&(Y.on(this._element,W9,()=>this.pause()),Y.on(this._element,z9,()=>this._maybeEnableCycle())),this._config.touch&&lb.isSupported()&&this._addTouchEventListeners()}_addTouchEventListeners(){for(const i of ye.find(".carousel-item img",this._element))Y.on(i,K9,s=>s.preventDefault());this._swipeHelper=new lb(this._element,{leftCallback:()=>this._slide(this._directionToOrder(Ih)),rightCallback:()=>this._slide(this._directionToOrder(cb)),endCallback:()=>{"hover"===this._config.pause&&(this.pause(),this.touchTimeout&&clearTimeout(this.touchTimeout),this.touchTimeout=setTimeout(()=>this._maybeEnableCycle(),500+this._config.interval))}})}_keydown(t){if(/input|textarea/i.test(t.target.tagName))return;const e=az[t.key];e&&(t.preventDefault(),this._slide(this._directionToOrder(e)))}_getItemIndex(t){return this._getItems().indexOf(t)}_setActiveIndicatorElement(t){if(!this._indicatorsElement)return;const e=ye.findOne(".active",this._indicatorsElement);e.classList.remove(ub),e.removeAttribute("aria-current");const i=ye.findOne(`[data-bs-slide-to="${t}"]`,this._indicatorsElement);i&&(i.classList.add(ub),i.setAttribute("aria-current","true"))}_updateInterval(){const t=this._activeElement||this._getActive();if(!t)return;const e=Number.parseInt(t.getAttribute("data-bs-interval"),10);this._config.interval=e||this._config.defaultInterval}_slide(t,e=null){if(this._isSliding)return;const i=this._getActive(),s=t===eg,r=e||Gx(this._getItems(),i,s,this._config.wrap);if(r===i)return;const o=this._getItemIndex(r),a=_=>Y.trigger(this._element,_,{relatedTarget:r,direction:this._orderToDirection(t),from:this._getItemIndex(i),to:o});if(a(U9).defaultPrevented||!i||!r)return;const h=Boolean(this._interval);this.pause(),this._isSliding=!0,this._setActiveIndicatorElement(o),this._activeElement=r;const f=s?"carousel-item-start":"carousel-item-end",p=s?"carousel-item-next":"carousel-item-prev";r.classList.add(p),i.classList.add(f),r.classList.add(f),this._queueCallback(()=>{r.classList.remove(f,p),r.classList.add(ub),i.classList.remove(ub,p,f),this._isSliding=!1,a(Yx)},i,this._isAnimated()),h&&this.cycle()}_isAnimated(){return this._element.classList.contains("slide")}_getActive(){return ye.findOne(".active.carousel-item",this._element)}_getItems(){return ye.find(".carousel-item",this._element)}_clearInterval(){this._interval&&(clearInterval(this._interval),this._interval=null)}_directionToOrder(t){return Hs()?t===Ih?Mh:eg:t===Ih?eg:Mh}_orderToDirection(t){return Hs()?t===Mh?Ih:cb:t===Mh?cb:Ih}static jQueryInterface(t){return this.each(function(){const e=tg.getOrCreateInstance(this,t);if("number"!=typeof t){if("string"==typeof t){if(void 0===e[t]||t.startsWith("_")||"constructor"===t)throw new TypeError(`No method named "${t}"`);e[t]()}}else e.to(t)})}}Y.on(document,Q9,"[data-bs-slide], [data-bs-slide-to]",function(n){const t=ye.getElementFromSelector(this);if(!t||!t.classList.contains(HV))return;n.preventDefault();const e=tg.getOrCreateInstance(t),i=this.getAttribute("data-bs-slide-to");return i?(e.to(i),void e._maybeEnableCycle()):"next"===Ko.getDataAttribute(this,"slide")?(e.next(),void e._maybeEnableCycle()):(e.prev(),void e._maybeEnableCycle())}),Y.on(window,Y9,()=>{const n=ye.find('[data-bs-ride="carousel"]');for(const t of n)tg.getOrCreateInstance(t)}),qs(tg);const ig=".bs.collapse",dz=`show${ig}`,fz=`shown${ig}`,pz=`hide${ig}`,gz=`hidden${ig}`,mz=`click${ig}.data-api`,Qx="show",Oh="collapse",hb="collapsing",yz=`:scope .${Oh} .${Oh}`,Jx='[data-bs-toggle="collapse"]',wz={parent:null,toggle:!0},Cz={parent:"(null|element)",toggle:"boolean"};class ng extends Er{constructor(t,e){super(t,e),this._isTransitioning=!1,this._triggerArray=[];const i=ye.find(Jx);for(const s of i){const r=ye.getSelectorFromElement(s),o=ye.find(r).filter(a=>a===this._element);null!==r&&o.length&&this._triggerArray.push(s)}this._initializeChildren(),this._config.parent||this._addAriaAndCollapsedClass(this._triggerArray,this._isShown()),this._config.toggle&&this.toggle()}static get Default(){return wz}static get DefaultType(){return Cz}static get NAME(){return"collapse"}toggle(){this._isShown()?this.hide():this.show()}show(){if(this._isTransitioning||this._isShown())return;let t=[];if(this._config.parent&&(t=this._getFirstLevelChildren(".collapse.show, .collapse.collapsing").filter(a=>a!==this._element).map(a=>ng.getOrCreateInstance(a,{toggle:!1}))),t.length&&t[0]._isTransitioning||Y.trigger(this._element,dz).defaultPrevented)return;for(const a of t)a.hide();const i=this._getDimension();this._element.classList.remove(Oh),this._element.classList.add(hb),this._element.style[i]=0,this._addAriaAndCollapsedClass(this._triggerArray,!0),this._isTransitioning=!0;const o=`scroll${i[0].toUpperCase()+i.slice(1)}`;this._queueCallback(()=>{this._isTransitioning=!1,this._element.classList.remove(hb),this._element.classList.add(Oh,Qx),this._element.style[i]="",Y.trigger(this._element,fz)},this._element,!0),this._element.style[i]=`${this._element[o]}px`}hide(){if(this._isTransitioning||!this._isShown()||Y.trigger(this._element,pz).defaultPrevented)return;const e=this._getDimension();this._element.style[e]=`${this._element.getBoundingClientRect()[e]}px`,this._element.classList.add(hb),this._element.classList.remove(Oh,Qx);for(const s of this._triggerArray){const r=ye.getElementFromSelector(s);r&&!this._isShown(r)&&this._addAriaAndCollapsedClass([s],!1)}this._isTransitioning=!0,this._element.style[e]="",this._queueCallback(()=>{this._isTransitioning=!1,this._element.classList.remove(hb),this._element.classList.add(Oh),Y.trigger(this._element,gz)},this._element,!0)}_isShown(t=this._element){return t.classList.contains(Qx)}_configAfterMerge(t){return t.toggle=Boolean(t.toggle),t.parent=Ua(t.parent),t}_getDimension(){return this._element.classList.contains("collapse-horizontal")?"width":"height"}_initializeChildren(){if(!this._config.parent)return;const t=this._getFirstLevelChildren(Jx);for(const e of t){const i=ye.getElementFromSelector(e);i&&this._addAriaAndCollapsedClass([e],this._isShown(i))}}_getFirstLevelChildren(t){const e=ye.find(yz,this._config.parent);return ye.find(t,this._config.parent).filter(i=>!e.includes(i))}_addAriaAndCollapsedClass(t,e){if(t.length)for(const i of t)i.classList.toggle("collapsed",!e),i.setAttribute("aria-expanded",e)}static jQueryInterface(t){const e={};return"string"==typeof t&&/show|hide/.test(t)&&(e.toggle=!1),this.each(function(){const i=ng.getOrCreateInstance(this,e);if("string"==typeof t){if(void 0===i[t])throw new TypeError(`No method named "${t}"`);i[t]()}})}}Y.on(document,mz,Jx,function(n){("A"===n.target.tagName||n.delegateTarget&&"A"===n.delegateTarget.tagName)&&n.preventDefault();for(const t of ye.getMultipleElementsFromSelector(this))ng.getOrCreateInstance(t,{toggle:!1}).toggle()}),qs(ng);const UV="dropdown",mc=".bs.dropdown",Zx=".data-api",Dz="ArrowUp",WV="ArrowDown",Az=`hide${mc}`,Tz=`hidden${mc}`,xz=`show${mc}`,Mz=`shown${mc}`,zV=`click${mc}${Zx}`,KV=`keydown${mc}${Zx}`,Iz=`keyup${mc}${Zx}`,Nh="show",vc='[data-bs-toggle="dropdown"]:not(.disabled):not(:disabled)',Vz=`${vc}.show`,db=".dropdown-menu",qz=Hs()?"top-end":"top-start",Gz=Hs()?"top-start":"top-end",Uz=Hs()?"bottom-end":"bottom-start",jz=Hs()?"bottom-start":"bottom-end",Wz=Hs()?"left-start":"right-start",zz=Hs()?"right-start":"left-start",Qz={autoClose:!0,boundary:"clippingParents",display:"dynamic",offset:[0,2],popperConfig:null,reference:"toggle"},Jz={autoClose:"(boolean|string)",boundary:"(string|element)",display:"string",offset:"(array|string|function)",popperConfig:"(null|object|function)",reference:"(string|element|object)"};class Kr extends Er{constructor(t,e){super(t,e),this._popper=null,this._parent=this._element.parentNode,this._menu=ye.next(this._element,db)[0]||ye.prev(this._element,db)[0]||ye.findOne(db,this._parent),this._inNavbar=this._detectNavbar()}static get Default(){return Qz}static get DefaultType(){return Jz}static get NAME(){return UV}toggle(){return this._isShown()?this.hide():this.show()}show(){if(ja(this._element)||this._isShown())return;const t={relatedTarget:this._element};if(!Y.trigger(this._element,xz,t).defaultPrevented){if(this._createPopper(),"ontouchstart"in document.documentElement&&!this._parent.closest(".navbar-nav"))for(const i of[].concat(...document.body.children))Y.on(i,"mouseover",sb);this._element.focus(),this._element.setAttribute("aria-expanded",!0),this._menu.classList.add(Nh),this._element.classList.add(Nh),Y.trigger(this._element,Mz,t)}}hide(){!ja(this._element)&&this._isShown()&&this._completeHide({relatedTarget:this._element})}dispose(){this._popper&&this._popper.destroy(),super.dispose()}update(){this._inNavbar=this._detectNavbar(),this._popper&&this._popper.update()}_completeHide(t){if(!Y.trigger(this._element,Az,t).defaultPrevented){if("ontouchstart"in document.documentElement)for(const i of[].concat(...document.body.children))Y.off(i,"mouseover",sb);this._popper&&this._popper.destroy(),this._menu.classList.remove(Nh),this._element.classList.remove(Nh),this._element.setAttribute("aria-expanded","false"),Ko.removeDataAttribute(this._menu,"popper"),Y.trigger(this._element,Tz,t)}}_getConfig(t){if("object"==typeof(t=super._getConfig(t)).reference&&!zo(t.reference)&&"function"!=typeof t.reference.getBoundingClientRect)throw new TypeError(`${UV.toUpperCase()}: Option "reference" provided type "object" without a required "getBoundingClientRect" method.`);return t}_createPopper(){if(void 0===Qn)throw new TypeError("Bootstrap's dropdowns require Popper (https://popper.js.org)");let t=this._element;"parent"===this._config.reference?t=this._parent:zo(this._config.reference)?t=Ua(this._config.reference):"object"==typeof this._config.reference&&(t=this._config.reference);const e=this._getPopperConfig();this._popper=$x(t,this._menu,e)}_isShown(){return this._menu.classList.contains(Nh)}_getPlacement(){const t=this._parent;if(t.classList.contains("dropend"))return Wz;if(t.classList.contains("dropstart"))return zz;if(t.classList.contains("dropup-center"))return"top";if(t.classList.contains("dropdown-center"))return"bottom";const e="end"===getComputedStyle(this._menu).getPropertyValue("--bs-position").trim();return t.classList.contains("dropup")?e?Gz:qz:e?jz:Uz}_detectNavbar(){return null!==this._element.closest(".navbar")}_getOffset(){const{offset:t}=this._config;return"string"==typeof t?t.split(",").map(e=>Number.parseInt(e,10)):"function"==typeof t?e=>t(e,this._element):t}_getPopperConfig(){const t={placement:this._getPlacement(),modifiers:[{name:"preventOverflow",options:{boundary:this._config.boundary}},{name:"offset",options:{offset:this._getOffset()}}]};return(this._inNavbar||"static"===this._config.display)&&(Ko.setDataAttribute(this._menu,"popper","static"),t.modifiers=[{name:"applyStyles",enabled:!1}]),hn(hn({},t),Kn(this._config.popperConfig,[t]))}_selectMenuItem({key:t,target:e}){const i=ye.find(".dropdown-menu .dropdown-item:not(.disabled):not(:disabled)",this._menu).filter(s=>Th(s));!i.length||Gx(i,e,t===WV,!i.includes(e)).focus()}static jQueryInterface(t){return this.each(function(){const e=Kr.getOrCreateInstance(this,t);if("string"==typeof t){if(void 0===e[t])throw new TypeError(`No method named "${t}"`);e[t]()}})}static clearMenus(t){if(2===t.button||"keyup"===t.type&&"Tab"!==t.key)return;const e=ye.find(Vz);for(const i of e){const s=Kr.getInstance(i);if(!s||!1===s._config.autoClose)continue;const r=t.composedPath(),o=r.includes(s._menu);if(r.includes(s._element)||"inside"===s._config.autoClose&&!o||"outside"===s._config.autoClose&&o||s._menu.contains(t.target)&&("keyup"===t.type&&"Tab"===t.key||/input|select|option|textarea|form/i.test(t.target.tagName)))continue;const a={relatedTarget:s._element};"click"===t.type&&(a.clickEvent=t),s._completeHide(a)}}static dataApiKeydownHandler(t){const e=/input|textarea/i.test(t.target.tagName),i="Escape"===t.key,s=[Dz,WV].includes(t.key);if(!s&&!i||e&&!i)return;t.preventDefault();const r=this.matches(vc)?this:ye.prev(this,vc)[0]||ye.next(this,vc)[0]||ye.findOne(vc,t.delegateTarget.parentNode),o=Kr.getOrCreateInstance(r);if(s)return t.stopPropagation(),o.show(),void o._selectMenuItem(t);o._isShown()&&(t.stopPropagation(),o.hide(),r.focus())}}Y.on(document,KV,vc,Kr.dataApiKeydownHandler),Y.on(document,KV,db,Kr.dataApiKeydownHandler),Y.on(document,zV,Kr.clearMenus),Y.on(document,Iz,Kr.clearMenus),Y.on(document,zV,vc,function(n){n.preventDefault(),Kr.getOrCreateInstance(this).toggle()}),qs(Kr);const YV="backdrop",JV=`mousedown.bs.${YV}`,Xz={className:"modal-backdrop",clickCallback:null,isAnimated:!1,isVisible:!0,rootElement:"body"},eK={className:"string",clickCallback:"(function|null)",isAnimated:"boolean",isVisible:"boolean",rootElement:"(element|string)"};class ZV extends Xp{constructor(t){super(),this._config=this._getConfig(t),this._isAppended=!1,this._element=null}static get Default(){return Xz}static get DefaultType(){return eK}static get NAME(){return YV}show(t){if(!this._config.isVisible)return void Kn(t);this._append();this._getElement().classList.add("show"),this._emulateAnimation(()=>{Kn(t)})}hide(t){this._config.isVisible?(this._getElement().classList.remove("show"),this._emulateAnimation(()=>{this.dispose(),Kn(t)})):Kn(t)}dispose(){!this._isAppended||(Y.off(this._element,JV),this._element.remove(),this._isAppended=!1)}_getElement(){if(!this._element){const t=document.createElement("div");t.className=this._config.className,this._config.isAnimated&&t.classList.add("fade"),this._element=t}return this._element}_configAfterMerge(t){return t.rootElement=Ua(t.rootElement),t}_append(){if(this._isAppended)return;const t=this._getElement();this._config.rootElement.append(t),Y.on(t,JV,()=>{Kn(this._config.clickCallback)}),this._isAppended=!0}_emulateAnimation(t){AV(t,this._getElement(),this._config.isAnimated)}}const fb=".bs.focustrap",iK=`focusin${fb}`,nK=`keydown.tab${fb}`,XV="backward",oK={autofocus:!0,trapElement:null},aK={autofocus:"boolean",trapElement:"element"};class e$ extends Xp{constructor(t){super(),this._config=this._getConfig(t),this._isActive=!1,this._lastTabNavDirection=null}static get Default(){return oK}static get DefaultType(){return aK}static get NAME(){return"focustrap"}activate(){this._isActive||(this._config.autofocus&&this._config.trapElement.focus(),Y.off(document,fb),Y.on(document,iK,t=>this._handleFocusin(t)),Y.on(document,nK,t=>this._handleKeydown(t)),this._isActive=!0)}deactivate(){!this._isActive||(this._isActive=!1,Y.off(document,fb))}_handleFocusin(t){const{trapElement:e}=this._config;if(t.target===document||t.target===e||e.contains(t.target))return;const i=ye.focusableChildren(e);0===i.length?e.focus():this._lastTabNavDirection===XV?i[i.length-1].focus():i[0].focus()}_handleKeydown(t){"Tab"===t.key&&(this._lastTabNavDirection=t.shiftKey?XV:"forward")}}const t$=".fixed-top, .fixed-bottom, .is-fixed, .sticky-top",i$=".sticky-top",pb="padding-right",n$="margin-right";class Xx{constructor(){this._element=document.body}getWidth(){const t=document.documentElement.clientWidth;return Math.abs(window.innerWidth-t)}hide(){const t=this.getWidth();this._disableOverFlow(),this._setElementAttributes(this._element,pb,e=>e+t),this._setElementAttributes(t$,pb,e=>e+t),this._setElementAttributes(i$,n$,e=>e-t)}reset(){this._resetElementAttributes(this._element,"overflow"),this._resetElementAttributes(this._element,pb),this._resetElementAttributes(t$,pb),this._resetElementAttributes(i$,n$)}isOverflowing(){return this.getWidth()>0}_disableOverFlow(){this._saveInitialAttribute(this._element,"overflow"),this._element.style.overflow="hidden"}_setElementAttributes(t,e,i){const s=this.getWidth();this._applyManipulationCallback(t,o=>{if(o!==this._element&&window.innerWidth>o.clientWidth+s)return;this._saveInitialAttribute(o,e);const a=window.getComputedStyle(o).getPropertyValue(e);o.style.setProperty(e,`${i(Number.parseFloat(a))}px`)})}_saveInitialAttribute(t,e){const i=t.style.getPropertyValue(e);i&&Ko.setDataAttribute(t,e,i)}_resetElementAttributes(t,e){this._applyManipulationCallback(t,s=>{const r=Ko.getDataAttribute(s,e);null!==r?(Ko.removeDataAttribute(s,e),s.style.setProperty(e,r)):s.style.removeProperty(e)})}_applyManipulationCallback(t,e){if(zo(t))e(t);else for(const i of ye.find(t,this._element))e(i)}}const Gs=".bs.modal",hK=`hide${Gs}`,dK=`hidePrevented${Gs}`,s$=`hidden${Gs}`,r$=`show${Gs}`,fK=`shown${Gs}`,pK=`resize${Gs}`,gK=`click.dismiss${Gs}`,mK=`mousedown.dismiss${Gs}`,vK=`keydown.dismiss${Gs}`,yK=`click${Gs}.data-api`,o$="modal-open",eM="modal-static",CK={backdrop:!0,focus:!0,keyboard:!0},kK={backdrop:"(boolean|string)",focus:"boolean",keyboard:"boolean"};class yc extends Er{constructor(t,e){super(t,e),this._dialog=ye.findOne(".modal-dialog",this._element),this._backdrop=this._initializeBackDrop(),this._focustrap=this._initializeFocusTrap(),this._isShown=!1,this._isTransitioning=!1,this._scrollBar=new Xx,this._addEventListeners()}static get Default(){return CK}static get DefaultType(){return kK}static get NAME(){return"modal"}toggle(t){return this._isShown?this.hide():this.show(t)}show(t){this._isShown||this._isTransitioning||Y.trigger(this._element,r$,{relatedTarget:t}).defaultPrevented||(this._isShown=!0,this._isTransitioning=!0,this._scrollBar.hide(),document.body.classList.add(o$),this._adjustDialog(),this._backdrop.show(()=>this._showElement(t)))}hide(){!this._isShown||this._isTransitioning||Y.trigger(this._element,hK).defaultPrevented||(this._isShown=!1,this._isTransitioning=!0,this._focustrap.deactivate(),this._element.classList.remove("show"),this._queueCallback(()=>this._hideModal(),this._element,this._isAnimated()))}dispose(){Y.off(window,Gs),Y.off(this._dialog,Gs),this._backdrop.dispose(),this._focustrap.deactivate(),super.dispose()}handleUpdate(){this._adjustDialog()}_initializeBackDrop(){return new ZV({isVisible:Boolean(this._config.backdrop),isAnimated:this._isAnimated()})}_initializeFocusTrap(){return new e$({trapElement:this._element})}_showElement(t){document.body.contains(this._element)||document.body.append(this._element),this._element.style.display="block",this._element.removeAttribute("aria-hidden"),this._element.setAttribute("aria-modal",!0),this._element.setAttribute("role","dialog"),this._element.scrollTop=0;const e=ye.findOne(".modal-body",this._dialog);e&&(e.scrollTop=0),this._element.classList.add("show"),this._queueCallback(()=>{this._config.focus&&this._focustrap.activate(),this._isTransitioning=!1,Y.trigger(this._element,fK,{relatedTarget:t})},this._dialog,this._isAnimated())}_addEventListeners(){Y.on(this._element,vK,t=>{if("Escape"===t.key){if(this._config.keyboard)return void this.hide();this._triggerBackdropTransition()}}),Y.on(window,pK,()=>{this._isShown&&!this._isTransitioning&&this._adjustDialog()}),Y.on(this._element,mK,t=>{Y.one(this._element,gK,e=>{if(this._element===t.target&&this._element===e.target){if("static"===this._config.backdrop)return void this._triggerBackdropTransition();this._config.backdrop&&this.hide()}})})}_hideModal(){this._element.style.display="none",this._element.setAttribute("aria-hidden",!0),this._element.removeAttribute("aria-modal"),this._element.removeAttribute("role"),this._isTransitioning=!1,this._backdrop.hide(()=>{document.body.classList.remove(o$),this._resetAdjustments(),this._scrollBar.reset(),Y.trigger(this._element,s$)})}_isAnimated(){return this._element.classList.contains("fade")}_triggerBackdropTransition(){if(Y.trigger(this._element,dK).defaultPrevented)return;const e=this._element.scrollHeight>document.documentElement.clientHeight,i=this._element.style.overflowY;"hidden"===i||this._element.classList.contains(eM)||(e||(this._element.style.overflowY="hidden"),this._element.classList.add(eM),this._queueCallback(()=>{this._element.classList.remove(eM),this._queueCallback(()=>{this._element.style.overflowY=i},this._dialog)},this._dialog),this._element.focus())}_adjustDialog(){const t=this._element.scrollHeight>document.documentElement.clientHeight,e=this._scrollBar.getWidth(),i=e>0;if(i&&!t){const s=Hs()?"paddingLeft":"paddingRight";this._element.style[s]=`${e}px`}if(!i&&t){const s=Hs()?"paddingRight":"paddingLeft";this._element.style[s]=`${e}px`}}_resetAdjustments(){this._element.style.paddingLeft="",this._element.style.paddingRight=""}static jQueryInterface(t,e){return this.each(function(){const i=yc.getOrCreateInstance(this,t);if("string"==typeof t){if(void 0===i[t])throw new TypeError(`No method named "${t}"`);i[t](e)}})}}Y.on(document,yK,'[data-bs-toggle="modal"]',function(n){const t=ye.getElementFromSelector(this);["A","AREA"].includes(this.tagName)&&n.preventDefault(),Y.one(t,r$,s=>{s.defaultPrevented||Y.one(t,s$,()=>{Th(this)&&this.focus()})});const e=ye.findOne(".modal.show");e&&yc.getInstance(e).hide(),yc.getOrCreateInstance(t).toggle(this)}),rb(yc),qs(yc);const Yo=".bs.offcanvas",l$=".data-api",PK=`load${Yo}${l$}`,u$="showing",d$=".offcanvas.show",xK=`show${Yo}`,MK=`shown${Yo}`,IK=`hide${Yo}`,f$=`hidePrevented${Yo}`,p$=`hidden${Yo}`,OK=`resize${Yo}`,NK=`click${Yo}${l$}`,RK=`keydown.dismiss${Yo}`,BK={backdrop:!0,keyboard:!0,scroll:!1},VK={backdrop:"(boolean|string)",keyboard:"boolean",scroll:"boolean"};class za extends Er{constructor(t,e){super(t,e),this._isShown=!1,this._backdrop=this._initializeBackDrop(),this._focustrap=this._initializeFocusTrap(),this._addEventListeners()}static get Default(){return BK}static get DefaultType(){return VK}static get NAME(){return"offcanvas"}toggle(t){return this._isShown?this.hide():this.show(t)}show(t){this._isShown||Y.trigger(this._element,xK,{relatedTarget:t}).defaultPrevented||(this._isShown=!0,this._backdrop.show(),this._config.scroll||(new Xx).hide(),this._element.setAttribute("aria-modal",!0),this._element.setAttribute("role","dialog"),this._element.classList.add(u$),this._queueCallback(()=>{(!this._config.scroll||this._config.backdrop)&&this._focustrap.activate(),this._element.classList.add("show"),this._element.classList.remove(u$),Y.trigger(this._element,MK,{relatedTarget:t})},this._element,!0))}hide(){this._isShown&&!Y.trigger(this._element,IK).defaultPrevented&&(this._focustrap.deactivate(),this._element.blur(),this._isShown=!1,this._element.classList.add("hiding"),this._backdrop.hide(),this._queueCallback(()=>{this._element.classList.remove("show","hiding"),this._element.removeAttribute("aria-modal"),this._element.removeAttribute("role"),this._config.scroll||(new Xx).reset(),Y.trigger(this._element,p$)},this._element,!0))}dispose(){this._backdrop.dispose(),this._focustrap.deactivate(),super.dispose()}_initializeBackDrop(){const e=Boolean(this._config.backdrop);return new ZV({className:"offcanvas-backdrop",isVisible:e,isAnimated:!0,rootElement:this._element.parentNode,clickCallback:e?()=>{"static"!==this._config.backdrop?this.hide():Y.trigger(this._element,f$)}:null})}_initializeFocusTrap(){return new e$({trapElement:this._element})}_addEventListeners(){Y.on(this._element,RK,t=>{if("Escape"===t.key){if(this._config.keyboard)return void this.hide();Y.trigger(this._element,f$)}})}static jQueryInterface(t){return this.each(function(){const e=za.getOrCreateInstance(this,t);if("string"==typeof t){if(void 0===e[t]||t.startsWith("_")||"constructor"===t)throw new TypeError(`No method named "${t}"`);e[t](this)}})}}Y.on(document,NK,'[data-bs-toggle="offcanvas"]',function(n){const t=ye.getElementFromSelector(this);if(["A","AREA"].includes(this.tagName)&&n.preventDefault(),ja(this))return;Y.one(t,p$,()=>{Th(this)&&this.focus()});const e=ye.findOne(d$);e&&e!==t&&za.getInstance(e).hide(),za.getOrCreateInstance(t).toggle(this)}),Y.on(window,PK,()=>{for(const n of ye.find(d$))za.getOrCreateInstance(n).show()}),Y.on(window,OK,()=>{for(const n of ye.find("[aria-modal][class*=show][class*=offcanvas-]"))"fixed"!==getComputedStyle(n).position&&za.getOrCreateInstance(n).hide()}),rb(za),qs(za);const g$={"*":["class","dir","id","lang","role",/^aria-[\w-]*$/i],a:["target","href","title","rel"],area:[],b:[],br:[],col:[],code:[],div:[],em:[],hr:[],h1:[],h2:[],h3:[],h4:[],h5:[],h6:[],i:[],img:["src","srcset","alt","title","width","height"],li:[],ol:[],p:[],pre:[],s:[],small:[],span:[],sub:[],sup:[],strong:[],u:[],ul:[]},$K=new Set(["background","cite","href","itemtype","longdesc","poster","src","xlink:href"]),FK=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:/?#]*(?:[/?#]|$))/i,HK=(n,t)=>{const e=n.nodeName.toLowerCase();return t.includes(e)?!$K.has(e)||Boolean(FK.test(n.nodeValue)):t.filter(i=>i instanceof RegExp).some(i=>i.test(e))},UK={allowList:g$,content:{},extraClass:"",html:!1,sanitize:!0,sanitizeFn:null,template:"<div></div>"},jK={allowList:"object",content:"object",extraClass:"(string|function)",html:"boolean",sanitize:"boolean",sanitizeFn:"(null|function)",template:"string"},WK={entry:"(string|element|function|null)",selector:"(string|element)"};class zK extends Xp{constructor(t){super(),this._config=this._getConfig(t)}static get Default(){return UK}static get DefaultType(){return jK}static get NAME(){return"TemplateFactory"}getContent(){return Object.values(this._config.content).map(t=>this._resolvePossibleFunction(t)).filter(Boolean)}hasContent(){return this.getContent().length>0}changeContent(t){return this._checkContent(t),this._config.content=hn(hn({},this._config.content),t),this}toHtml(){const t=document.createElement("div");t.innerHTML=this._maybeSanitize(this._config.template);for(const[s,r]of Object.entries(this._config.content))this._setContent(t,r,s);const e=t.children[0],i=this._resolvePossibleFunction(this._config.extraClass);return i&&e.classList.add(...i.split(" ")),e}_typeCheckConfig(t){super._typeCheckConfig(t),this._checkContent(t.content)}_checkContent(t){for(const[e,i]of Object.entries(t))super._typeCheckConfig({selector:e,entry:i},WK)}_setContent(t,e,i){const s=ye.findOne(i,t);if(s){if(!(e=this._resolvePossibleFunction(e)))return void s.remove();if(zo(e))return void this._putElementInTemplate(Ua(e),s);if(this._config.html)return void(s.innerHTML=this._maybeSanitize(e));s.textContent=e}}_maybeSanitize(t){return this._config.sanitize?function(n,t,e){if(!n.length)return n;if(e&&"function"==typeof e)return e(n);const s=(new window.DOMParser).parseFromString(n,"text/html"),r=[].concat(...s.body.querySelectorAll("*"));for(const o of r){const a=o.nodeName.toLowerCase();if(!Object.keys(t).includes(a)){o.remove();continue}const l=[].concat(...o.attributes),h=[].concat(t["*"]||[],t[a]||[]);for(const f of l)HK(f,h)||o.removeAttribute(f.nodeName)}return s.body.innerHTML}(t,this._config.allowList,this._config.sanitizeFn):t}_resolvePossibleFunction(t){return Kn(t,[this])}_putElementInTemplate(t,e){if(this._config.html)return e.innerHTML="",void e.append(t);e.textContent=t.textContent}}const YK=new Set(["sanitize","allowList","sanitizeFn"]),tM="fade",gb="show",v$="hide.bs.modal",sg="hover",iM="focus",uY={AUTO:"auto",TOP:"top",RIGHT:Hs()?"left":"right",BOTTOM:"bottom",LEFT:Hs()?"right":"left"},hY={allowList:g$,animation:!0,boundary:"clippingParents",container:!1,customClass:"",delay:0,fallbackPlacements:["top","right","bottom","left"],html:!1,offset:[0,6],placement:"top",popperConfig:null,sanitize:!0,sanitizeFn:null,selector:!1,template:'<div class="tooltip" role="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',title:"",trigger:"hover focus"},dY={allowList:"object",animation:"boolean",boundary:"(string|element)",container:"(string|element|boolean)",customClass:"(string|function)",delay:"(number|object)",fallbackPlacements:"array",html:"boolean",offset:"(array|string|function)",placement:"(string|function)",popperConfig:"(null|object|function)",sanitize:"boolean",sanitizeFn:"(null|function)",selector:"(string|boolean)",template:"string",title:"(string|element|function)",trigger:"string"};class Rh extends Er{constructor(t,e){if(void 0===Qn)throw new TypeError("Bootstrap's tooltips require Popper (https://popper.js.org)");super(t,e),this._isEnabled=!0,this._timeout=0,this._isHovered=null,this._activeTrigger={},this._popper=null,this._templateFactory=null,this._newContent=null,this.tip=null,this._setListeners(),this._config.selector||this._fixTitle()}static get Default(){return hY}static get DefaultType(){return dY}static get NAME(){return"tooltip"}enable(){this._isEnabled=!0}disable(){this._isEnabled=!1}toggleEnabled(){this._isEnabled=!this._isEnabled}toggle(){if(this._isEnabled){if(this._activeTrigger.click=!this._activeTrigger.click,this._isShown())return void this._leave();this._enter()}}dispose(){clearTimeout(this._timeout),Y.off(this._element.closest(".modal"),v$,this._hideModalHandler),this._element.getAttribute("data-bs-original-title")&&this._element.setAttribute("title",this._element.getAttribute("data-bs-original-title")),this._disposePopper(),super.dispose()}show(){if("none"===this._element.style.display)throw new Error("Please use show on visible elements");if(!this._isWithContent()||!this._isEnabled)return;const t=Y.trigger(this._element,this.constructor.eventName("show")),i=(DV(this._element)||this._element.ownerDocument.documentElement).contains(this._element);if(t.defaultPrevented||!i)return;this._disposePopper();const s=this._getTipElement();this._element.setAttribute("aria-describedby",s.getAttribute("id"));const{container:r}=this._config;if(this._element.ownerDocument.documentElement.contains(this.tip)||(r.append(s),Y.trigger(this._element,this.constructor.eventName("inserted"))),this._popper=this._createPopper(s),s.classList.add(gb),"ontouchstart"in document.documentElement)for(const a of[].concat(...document.body.children))Y.on(a,"mouseover",sb);this._queueCallback(()=>{Y.trigger(this._element,this.constructor.eventName("shown")),!1===this._isHovered&&this._leave(),this._isHovered=!1},this.tip,this._isAnimated())}hide(){if(this._isShown()&&!Y.trigger(this._element,this.constructor.eventName("hide")).defaultPrevented){if(this._getTipElement().classList.remove(gb),"ontouchstart"in document.documentElement)for(const s of[].concat(...document.body.children))Y.off(s,"mouseover",sb);this._activeTrigger.click=!1,this._activeTrigger[iM]=!1,this._activeTrigger[sg]=!1,this._isHovered=null,this._queueCallback(()=>{this._isWithActiveTrigger()||(this._isHovered||this._disposePopper(),this._element.removeAttribute("aria-describedby"),Y.trigger(this._element,this.constructor.eventName("hidden")))},this.tip,this._isAnimated())}}update(){this._popper&&this._popper.update()}_isWithContent(){return Boolean(this._getTitle())}_getTipElement(){return this.tip||(this.tip=this._createTipElement(this._newContent||this._getContentForTemplate())),this.tip}_createTipElement(t){const e=this._getTemplateFactory(t).toHtml();if(!e)return null;e.classList.remove(tM,gb),e.classList.add(`bs-${this.constructor.NAME}-auto`);const i=(n=>{do{n+=Math.floor(1e6*Math.random())}while(document.getElementById(n));return n})(this.constructor.NAME).toString();return e.setAttribute("id",i),this._isAnimated()&&e.classList.add(tM),e}setContent(t){this._newContent=t,this._isShown()&&(this._disposePopper(),this.show())}_getTemplateFactory(t){return this._templateFactory?this._templateFactory.changeContent(t):this._templateFactory=new zK(eS(hn({},this._config),{content:t,extraClass:this._resolvePossibleFunction(this._config.customClass)})),this._templateFactory}_getContentForTemplate(){return{".tooltip-inner":this._getTitle()}}_getTitle(){return this._resolvePossibleFunction(this._config.title)||this._element.getAttribute("data-bs-original-title")}_initializeOnDelegatedTarget(t){return this.constructor.getOrCreateInstance(t.delegateTarget,this._getDelegateConfig())}_isAnimated(){return this._config.animation||this.tip&&this.tip.classList.contains(tM)}_isShown(){return this.tip&&this.tip.classList.contains(gb)}_createPopper(t){const e=Kn(this._config.placement,[this,t,this._element]),i=uY[e.toUpperCase()];return $x(this._element,t,this._getPopperConfig(i))}_getOffset(){const{offset:t}=this._config;return"string"==typeof t?t.split(",").map(e=>Number.parseInt(e,10)):"function"==typeof t?e=>t(e,this._element):t}_resolvePossibleFunction(t){return Kn(t,[this._element])}_getPopperConfig(t){const e={placement:t,modifiers:[{name:"flip",options:{fallbackPlacements:this._config.fallbackPlacements}},{name:"offset",options:{offset:this._getOffset()}},{name:"preventOverflow",options:{boundary:this._config.boundary}},{name:"arrow",options:{element:`.${this.constructor.NAME}-arrow`}},{name:"preSetPlacement",enabled:!0,phase:"beforeMain",fn:i=>{this._getTipElement().setAttribute("data-popper-placement",i.state.placement)}}]};return hn(hn({},e),Kn(this._config.popperConfig,[e]))}_setListeners(){const t=this._config.trigger.split(" ");for(const e of t)if("click"===e)Y.on(this._element,this.constructor.eventName("click"),this._config.selector,i=>{this._initializeOnDelegatedTarget(i).toggle()});else if("manual"!==e){const i=this.constructor.eventName(e===sg?"mouseenter":"focusin"),s=this.constructor.eventName(e===sg?"mouseleave":"focusout");Y.on(this._element,i,this._config.selector,r=>{const o=this._initializeOnDelegatedTarget(r);o._activeTrigger["focusin"===r.type?iM:sg]=!0,o._enter()}),Y.on(this._element,s,this._config.selector,r=>{const o=this._initializeOnDelegatedTarget(r);o._activeTrigger["focusout"===r.type?iM:sg]=o._element.contains(r.relatedTarget),o._leave()})}this._hideModalHandler=()=>{this._element&&this.hide()},Y.on(this._element.closest(".modal"),v$,this._hideModalHandler)}_fixTitle(){const t=this._element.getAttribute("title");!t||(!this._element.getAttribute("aria-label")&&!this._element.textContent.trim()&&this._element.setAttribute("aria-label",t),this._element.setAttribute("data-bs-original-title",t),this._element.removeAttribute("title"))}_enter(){this._isShown()||this._isHovered?this._isHovered=!0:(this._isHovered=!0,this._setTimeout(()=>{this._isHovered&&this.show()},this._config.delay.show))}_leave(){this._isWithActiveTrigger()||(this._isHovered=!1,this._setTimeout(()=>{this._isHovered||this.hide()},this._config.delay.hide))}_setTimeout(t,e){clearTimeout(this._timeout),this._timeout=setTimeout(t,e)}_isWithActiveTrigger(){return Object.values(this._activeTrigger).includes(!0)}_getConfig(t){const e=Ko.getDataAttributes(this._element);for(const i of Object.keys(e))YK.has(i)&&delete e[i];return t=hn(hn({},e),"object"==typeof t&&t?t:{}),t=this._mergeConfigObj(t),t=this._configAfterMerge(t),this._typeCheckConfig(t),t}_configAfterMerge(t){return t.container=!1===t.container?document.body:Ua(t.container),"number"==typeof t.delay&&(t.delay={show:t.delay,hide:t.delay}),"number"==typeof t.title&&(t.title=t.title.toString()),"number"==typeof t.content&&(t.content=t.content.toString()),t}_getDelegateConfig(){const t={};for(const[e,i]of Object.entries(this._config))this.constructor.Default[e]!==i&&(t[e]=i);return t.selector=!1,t.trigger="manual",t}_disposePopper(){this._popper&&(this._popper.destroy(),this._popper=null),this.tip&&(this.tip.remove(),this.tip=null)}static jQueryInterface(t){return this.each(function(){const e=Rh.getOrCreateInstance(this,t);if("string"==typeof t){if(void 0===e[t])throw new TypeError(`No method named "${t}"`);e[t]()}})}}qs(Rh);const mY=eS(hn({},Rh.Default),{content:"",offset:[0,8],placement:"right",template:'<div class="popover" role="tooltip"><div class="popover-arrow"></div><h3 class="popover-header"></h3><div class="popover-body"></div></div>',trigger:"click"}),vY=eS(hn({},Rh.DefaultType),{content:"(null|string|element|function)"});class nM extends Rh{static get Default(){return mY}static get DefaultType(){return vY}static get NAME(){return"popover"}_isWithContent(){return this._getTitle()||this._getContent()}_getContentForTemplate(){return{".popover-header":this._getTitle(),".popover-body":this._getContent()}}_getContent(){return this._resolvePossibleFunction(this._config.content)}static jQueryInterface(t){return this.each(function(){const e=nM.getOrCreateInstance(this,t);if("string"==typeof t){if(void 0===e[t])throw new TypeError(`No method named "${t}"`);e[t]()}})}}qs(nM);const sM=".bs.scrollspy",bY=`activate${sM}`,y$=`click${sM}`,SY=`load${sM}.data-api`,Lh="active",rM="[href]",_$=".nav-link",kY=`${_$}, .nav-item > ${_$}, .list-group-item`,AY={offset:null,rootMargin:"0px 0px -25%",smoothScroll:!1,target:null,threshold:[.1,.5,1]},TY={offset:"(number|null)",rootMargin:"string",smoothScroll:"boolean",target:"element",threshold:"array"};class mb extends Er{constructor(t,e){super(t,e),this._targetLinks=new Map,this._observableSections=new Map,this._rootElement="visible"===getComputedStyle(this._element).overflowY?null:this._element,this._activeTarget=null,this._observer=null,this._previousScrollData={visibleEntryTop:0,parentScrollTop:0},this.refresh()}static get Default(){return AY}static get DefaultType(){return TY}static get NAME(){return"scrollspy"}refresh(){this._initializeTargetsAndObservables(),this._maybeEnableSmoothScroll(),this._observer?this._observer.disconnect():this._observer=this._getNewObserver();for(const t of this._observableSections.values())this._observer.observe(t)}dispose(){this._observer.disconnect(),super.dispose()}_configAfterMerge(t){return t.target=Ua(t.target)||document.body,t.rootMargin=t.offset?`${t.offset}px 0px -30%`:t.rootMargin,"string"==typeof t.threshold&&(t.threshold=t.threshold.split(",").map(e=>Number.parseFloat(e))),t}_maybeEnableSmoothScroll(){!this._config.smoothScroll||(Y.off(this._config.target,y$),Y.on(this._config.target,y$,rM,t=>{const e=this._observableSections.get(t.target.hash);if(e){t.preventDefault();const i=this._rootElement||window,s=e.offsetTop-this._element.offsetTop;if(i.scrollTo)return void i.scrollTo({top:s,behavior:"smooth"});i.scrollTop=s}}))}_getNewObserver(){return new IntersectionObserver(e=>this._observerCallback(e),{root:this._rootElement,threshold:this._config.threshold,rootMargin:this._config.rootMargin})}_observerCallback(t){const e=o=>this._targetLinks.get(`#${o.target.id}`),i=o=>{this._previousScrollData.visibleEntryTop=o.target.offsetTop,this._process(e(o))},s=(this._rootElement||document.documentElement).scrollTop,r=s>=this._previousScrollData.parentScrollTop;this._previousScrollData.parentScrollTop=s;for(const o of t){if(!o.isIntersecting){this._activeTarget=null,this._clearActiveClass(e(o));continue}const a=o.target.offsetTop>=this._previousScrollData.visibleEntryTop;if(r&&a){if(i(o),!s)return}else!r&&!a&&i(o)}}_initializeTargetsAndObservables(){this._targetLinks=new Map,this._observableSections=new Map;const t=ye.find(rM,this._config.target);for(const e of t){if(!e.hash||ja(e))continue;const i=ye.findOne(decodeURI(e.hash),this._element);Th(i)&&(this._targetLinks.set(decodeURI(e.hash),e),this._observableSections.set(e.hash,i))}}_process(t){this._activeTarget!==t&&(this._clearActiveClass(this._config.target),this._activeTarget=t,t.classList.add(Lh),this._activateParents(t),Y.trigger(this._element,bY,{relatedTarget:t}))}_activateParents(t){if(t.classList.contains("dropdown-item"))ye.findOne(".dropdown-toggle",t.closest(".dropdown")).classList.add(Lh);else for(const e of ye.parents(t,".nav, .list-group"))for(const i of ye.prev(e,kY))i.classList.add(Lh)}_clearActiveClass(t){t.classList.remove(Lh);const e=ye.find(`${rM}.${Lh}`,t);for(const i of e)i.classList.remove(Lh)}static jQueryInterface(t){return this.each(function(){const e=mb.getOrCreateInstance(this,t);if("string"==typeof t){if(void 0===e[t]||t.startsWith("_")||"constructor"===t)throw new TypeError(`No method named "${t}"`);e[t]()}})}}Y.on(window,SY,()=>{for(const n of ye.find('[data-bs-spy="scroll"]'))mb.getOrCreateInstance(n)}),qs(mb);const _c=".bs.tab",MY=`hide${_c}`,IY=`hidden${_c}`,OY=`show${_c}`,NY=`shown${_c}`,RY=`click${_c}`,LY=`keydown${_c}`,BY=`load${_c}`,VY="ArrowLeft",b$="ArrowRight",$Y="ArrowUp",S$="ArrowDown",oM="Home",E$="End",bc="active",aM="show",lM=":not(.dropdown-toggle)",C$='[data-bs-toggle="tab"], [data-bs-toggle="pill"], [data-bs-toggle="list"]',cM=`.nav-link${lM}, .list-group-item${lM}, [role="tab"]${lM}, ${C$}`,WY=`.${bc}[data-bs-toggle="tab"], .${bc}[data-bs-toggle="pill"], .${bc}[data-bs-toggle="list"]`;class Bh extends Er{constructor(t){super(t),this._parent=this._element.closest('.list-group, .nav, [role="tablist"]'),this._parent&&(this._setInitialAttributes(this._parent,this._getChildren()),Y.on(this._element,LY,e=>this._keydown(e)))}static get NAME(){return"tab"}show(){const t=this._element;if(this._elemIsActive(t))return;const e=this._getActiveElem(),i=e?Y.trigger(e,MY,{relatedTarget:t}):null;Y.trigger(t,OY,{relatedTarget:e}).defaultPrevented||i&&i.defaultPrevented||(this._deactivate(e,t),this._activate(t,e))}_activate(t,e){t&&(t.classList.add(bc),this._activate(ye.getElementFromSelector(t)),this._queueCallback(()=>{"tab"===t.getAttribute("role")?(t.removeAttribute("tabindex"),t.setAttribute("aria-selected",!0),this._toggleDropDown(t,!0),Y.trigger(t,NY,{relatedTarget:e})):t.classList.add(aM)},t,t.classList.contains("fade")))}_deactivate(t,e){t&&(t.classList.remove(bc),t.blur(),this._deactivate(ye.getElementFromSelector(t)),this._queueCallback(()=>{"tab"===t.getAttribute("role")?(t.setAttribute("aria-selected",!1),t.setAttribute("tabindex","-1"),this._toggleDropDown(t,!1),Y.trigger(t,IY,{relatedTarget:e})):t.classList.remove(aM)},t,t.classList.contains("fade")))}_keydown(t){if(![VY,b$,$Y,S$,oM,E$].includes(t.key))return;t.stopPropagation(),t.preventDefault();const e=this._getChildren().filter(s=>!ja(s));let i;if([oM,E$].includes(t.key))i=e[t.key===oM?0:e.length-1];else{const s=[b$,S$].includes(t.key);i=Gx(e,t.target,s,!0)}i&&(i.focus({preventScroll:!0}),Bh.getOrCreateInstance(i).show())}_getChildren(){return ye.find(cM,this._parent)}_getActiveElem(){return this._getChildren().find(t=>this._elemIsActive(t))||null}_setInitialAttributes(t,e){this._setAttributeIfNotExists(t,"role","tablist");for(const i of e)this._setInitialAttributesOnChild(i)}_setInitialAttributesOnChild(t){t=this._getInnerElement(t);const e=this._elemIsActive(t),i=this._getOuterElement(t);t.setAttribute("aria-selected",e),i!==t&&this._setAttributeIfNotExists(i,"role","presentation"),e||t.setAttribute("tabindex","-1"),this._setAttributeIfNotExists(t,"role","tab"),this._setInitialAttributesOnTargetPanel(t)}_setInitialAttributesOnTargetPanel(t){const e=ye.getElementFromSelector(t);!e||(this._setAttributeIfNotExists(e,"role","tabpanel"),t.id&&this._setAttributeIfNotExists(e,"aria-labelledby",`${t.id}`))}_toggleDropDown(t,e){const i=this._getOuterElement(t);if(!i.classList.contains("dropdown"))return;const s=(r,o)=>{const a=ye.findOne(r,i);a&&a.classList.toggle(o,e)};s(".dropdown-toggle",bc),s(".dropdown-menu",aM),i.setAttribute("aria-expanded",e)}_setAttributeIfNotExists(t,e,i){t.hasAttribute(e)||t.setAttribute(e,i)}_elemIsActive(t){return t.classList.contains(bc)}_getInnerElement(t){return t.matches(cM)?t:ye.findOne(cM,t)}_getOuterElement(t){return t.closest(".nav-item, .list-group-item")||t}static jQueryInterface(t){return this.each(function(){const e=Bh.getOrCreateInstance(this);if("string"==typeof t){if(void 0===e[t]||t.startsWith("_")||"constructor"===t)throw new TypeError(`No method named "${t}"`);e[t]()}})}}Y.on(document,RY,C$,function(n){["A","AREA"].includes(this.tagName)&&n.preventDefault(),!ja(this)&&Bh.getOrCreateInstance(this).show()}),Y.on(window,BY,()=>{for(const n of ye.find(WY))Bh.getOrCreateInstance(n)}),qs(Bh);const Ka=".bs.toast",KY=`mouseover${Ka}`,YY=`mouseout${Ka}`,QY=`focusin${Ka}`,JY=`focusout${Ka}`,ZY=`hide${Ka}`,XY=`hidden${Ka}`,eQ=`show${Ka}`,tQ=`shown${Ka}`,vb="show",yb="showing",nQ={animation:"boolean",autohide:"boolean",delay:"number"},sQ={animation:!0,autohide:!0,delay:5e3};class _b extends Er{constructor(t,e){super(t,e),this._timeout=null,this._hasMouseInteraction=!1,this._hasKeyboardInteraction=!1,this._setListeners()}static get Default(){return sQ}static get DefaultType(){return nQ}static get NAME(){return"toast"}show(){Y.trigger(this._element,eQ).defaultPrevented||(this._clearTimeout(),this._config.animation&&this._element.classList.add("fade"),this._element.classList.remove("hide"),this._element.classList.add(vb,yb),this._queueCallback(()=>{this._element.classList.remove(yb),Y.trigger(this._element,tQ),this._maybeScheduleHide()},this._element,this._config.animation))}hide(){this.isShown()&&!Y.trigger(this._element,ZY).defaultPrevented&&(this._element.classList.add(yb),this._queueCallback(()=>{this._element.classList.add("hide"),this._element.classList.remove(yb,vb),Y.trigger(this._element,XY)},this._element,this._config.animation))}dispose(){this._clearTimeout(),this.isShown()&&this._element.classList.remove(vb),super.dispose()}isShown(){return this._element.classList.contains(vb)}_maybeScheduleHide(){!this._config.autohide||this._hasMouseInteraction||this._hasKeyboardInteraction||(this._timeout=setTimeout(()=>{this.hide()},this._config.delay))}_onInteraction(t,e){switch(t.type){case"mouseover":case"mouseout":this._hasMouseInteraction=e;break;case"focusin":case"focusout":this._hasKeyboardInteraction=e}if(e)return void this._clearTimeout();const i=t.relatedTarget;this._element===i||this._element.contains(i)||this._maybeScheduleHide()}_setListeners(){Y.on(this._element,KY,t=>this._onInteraction(t,!0)),Y.on(this._element,YY,t=>this._onInteraction(t,!1)),Y.on(this._element,QY,t=>this._onInteraction(t,!0)),Y.on(this._element,JY,t=>this._onInteraction(t,!1))}_clearTimeout(){clearTimeout(this._timeout),this._timeout=null}static jQueryInterface(t){return this.each(function(){const e=_b.getOrCreateInstance(this,t);if("string"==typeof t){if(void 0===e[t])throw new TypeError(`No method named "${t}"`);e[t](this)}})}}function Us(n){return null!=n&&"false"!=`${n}`}function Sc(n,t=0){return function(n){return!isNaN(parseFloat(n))&&!isNaN(Number(n))}(n)?Number(n):t}function Oi(n){return n instanceof Ot?n.nativeElement:n}function Ec(...n){let t=n[n.length-1];return sl(t)?(n.pop(),ta(n,t)):ia(n)}function uM(n,t,e,i){return M(e)&&(i=e,e=void 0),i?uM(n,t,e).pipe(vs(s=>tl(s)?i(...s):i(s))):new ze(s=>{D$(n,t,function(o){s.next(arguments.length>1?Array.prototype.slice.call(arguments):o)},s,e)})}function D$(n,t,e,i,s){let r;if(function(n){return n&&"function"==typeof n.addEventListener&&"function"==typeof n.removeEventListener}(n)){const o=n;n.addEventListener(t,e,s),r=()=>o.removeEventListener(t,e,s)}else if(function(n){return n&&"function"==typeof n.on&&"function"==typeof n.off}(n)){const o=n;n.on(t,e),r=()=>o.off(t,e)}else if(function(n){return n&&"function"==typeof n.addListener&&"function"==typeof n.removeListener}(n)){const o=n;n.addListener(t,e),r=()=>o.removeListener(t,e)}else{if(!n||!n.length)throw new TypeError("Invalid event target");for(let o=0,a=n.length;o<a;o++)D$(n[o],t,e,i,s)}i.add(r)}rb(_b),qs(_b);class uQ extends Ze{constructor(t,e){super()}schedule(t,e=0){return this}}class bb extends uQ{constructor(t,e){super(t,e),this.scheduler=t,this.work=e,this.pending=!1}schedule(t,e=0){if(this.closed)return this;this.state=t;const i=this.id,s=this.scheduler;return null!=i&&(this.id=this.recycleAsyncId(s,i,e)),this.pending=!0,this.delay=e,this.id=this.id||this.requestAsyncId(s,this.id,e),this}requestAsyncId(t,e,i=0){return setInterval(t.flush.bind(t,this),i)}recycleAsyncId(t,e,i=0){if(null!==i&&this.delay===i&&!1===this.pending)return e;clearInterval(e)}execute(t,e){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const i=this._execute(t,e);if(i)return i;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(t,e){let s,i=!1;try{this.work(t)}catch(r){i=!0,s=!!r&&r||new Error(r)}if(i)return this.unsubscribe(),s}_unsubscribe(){const t=this.id,e=this.scheduler,i=e.actions,s=i.indexOf(this);this.work=null,this.state=null,this.pending=!1,this.scheduler=null,-1!==s&&i.splice(s,1),null!=t&&(this.id=this.recycleAsyncId(e,t,null)),this.delay=null}}let P$=(()=>{class n{constructor(e,i=n.now){this.SchedulerAction=e,this.now=i}schedule(e,i=0,s){return new this.SchedulerAction(this,e).schedule(s,i)}}return n.now=()=>Date.now(),n})();class wr extends P${constructor(t,e=P$.now){super(t,()=>wr.delegate&&wr.delegate!==this?wr.delegate.now():e()),this.actions=[],this.active=!1,this.scheduled=void 0}schedule(t,e=0,i){return wr.delegate&&wr.delegate!==this?wr.delegate.schedule(t,e,i):super.schedule(t,e,i)}flush(t){const{actions:e}=this;if(this.active)return void e.push(t);let i;this.active=!0;do{if(i=t.execute(t.state,t.delay))break}while(t=e.shift());if(this.active=!1,i){for(;t=e.shift();)t.unsubscribe();throw i}}}const A$=new class extends wr{flush(t){this.active=!0,this.scheduled=void 0;const{actions:e}=this;let i,s=-1,r=e.length;t=t||e.shift();do{if(i=t.execute(t.state,t.delay))break}while(++s<r&&(t=e.shift()));if(this.active=!1,i){for(;++s<r&&(t=e.shift());)t.unsubscribe();throw i}}}(class extends bb{constructor(t,e){super(t,e),this.scheduler=t,this.work=e}requestAsyncId(t,e,i=0){return null!==i&&i>0?super.requestAsyncId(t,e,i):(t.actions.push(this),t.scheduled||(t.scheduled=requestAnimationFrame(()=>t.flush(null))))}recycleAsyncId(t,e,i=0){if(null!==i&&i>0||null===i&&this.delay>0)return super.recycleAsyncId(t,e,i);0===t.actions.length&&(cancelAnimationFrame(e),t.scheduled=void 0)}});let fQ=1;const pQ=Promise.resolve(),Sb={};function T$(n){return n in Sb&&(delete Sb[n],!0)}const x$={setImmediate(n){const t=fQ++;return Sb[t]=!0,pQ.then(()=>T$(t)&&n()),t},clearImmediate(n){T$(n)}},rg=(new class extends wr{flush(t){this.active=!0,this.scheduled=void 0;const{actions:e}=this;let i,s=-1,r=e.length;t=t||e.shift();do{if(i=t.execute(t.state,t.delay))break}while(++s<r&&(t=e.shift()));if(this.active=!1,i){for(;++s<r&&(t=e.shift());)t.unsubscribe();throw i}}}(class extends bb{constructor(t,e){super(t,e),this.scheduler=t,this.work=e}requestAsyncId(t,e,i=0){return null!==i&&i>0?super.requestAsyncId(t,e,i):(t.actions.push(this),t.scheduled||(t.scheduled=x$.setImmediate(t.flush.bind(t,null))))}recycleAsyncId(t,e,i=0){if(null!==i&&i>0||null===i&&this.delay>0)return super.recycleAsyncId(t,e,i);0===t.actions.length&&(x$.clearImmediate(e),t.scheduled=void 0)}}),new wr(bb));class SQ{constructor(t){this.durationSelector=t}call(t,e){return e.subscribe(new EQ(t,this.durationSelector))}}class EQ extends Ic{constructor(t,e){super(t),this.durationSelector=e,this.hasValue=!1}_next(t){if(this.value=t,this.hasValue=!0,!this.throttled){let e;try{const{durationSelector:s}=this;e=s(t)}catch(s){return this.destination.error(s)}const i=Ki(e,new Nn(this));!i||i.closed?this.clearThrottle():this.add(this.throttled=i)}}clearThrottle(){const{value:t,hasValue:e,throttled:i}=this;i&&(this.remove(i),this.throttled=void 0,i.unsubscribe()),e&&(this.value=void 0,this.hasValue=!1,this.destination.next(t))}notifyNext(){this.clearThrottle()}notifyComplete(){this.clearThrottle()}}function hM(n){return!tl(n)&&n-parseFloat(n)+1>=0}function CQ(n){const{index:t,period:e,subscriber:i}=n;if(i.next(t),!i.closed){if(-1===e)return i.complete();n.index=t+1,this.schedule(n,e)}}function dM(n,t=rg){return function(n){return function(e){return e.lift(new SQ(n))}}(()=>function(n=0,t,e){let i=-1;return hM(t)?i=Number(t)<1?1:Number(t):sl(t)&&(e=t),sl(e)||(e=rg),new ze(s=>{const r=hM(n)?n:+n-e.now();return e.schedule(CQ,r,{index:0,period:i,subscriber:s})})}(n,t))}function O$(n,t){return function(i){return i.lift(new kQ(n,t))}}class kQ{constructor(t,e){this.predicate=t,this.thisArg=e}call(t,e){return e.subscribe(new DQ(t,this.predicate,this.thisArg))}}class DQ extends xt{constructor(t,e,i){super(t),this.predicate=e,this.thisArg=i,this.count=0}_next(t){let e;try{e=this.predicate.call(this.thisArg,t,this.count++)}catch(i){return void this.destination.error(i)}e&&this.destination.next(t)}}function Ya(n){return t=>t.lift(new PQ(n))}class PQ{constructor(t){this.notifier=t}call(t,e){const i=new AQ(t),s=Ki(this.notifier,new Nn(i));return s&&!i.seenValue?(i.add(s),e.subscribe(i)):i}}class AQ extends Ic{constructor(t){super(t),this.seenValue=!1}notifyNext(){this.seenValue=!0,this.complete()}notifyComplete(){}}function N$(...n){return kg(1)(Ec(...n))}function og(...n){const t=n[n.length-1];return sl(t)?(n.pop(),e=>N$(n,e,t)):e=>N$(n,e)}function fM(n,t){return"function"==typeof t?e=>e.pipe(fM((i,s)=>Mc(n(i,s)).pipe(vs((r,o)=>t(i,r,s,o))))):e=>e.lift(new OQ(n))}class OQ{constructor(t){this.project=t}call(t,e){return e.subscribe(new NQ(t,this.project))}}class NQ extends Ic{constructor(t,e){super(t),this.project=e,this.index=0}_next(t){let e;const i=this.index++;try{e=this.project(t,i)}catch(s){return void this.destination.error(s)}this._innerSub(e)}_innerSub(t){const e=this.innerSubscription;e&&e.unsubscribe();const i=new Nn(this),s=this.destination;s.add(i),this.innerSubscription=Ki(t,i),this.innerSubscription!==i&&s.add(this.innerSubscription)}_complete(){const{innerSubscription:t}=this;(!t||t.closed)&&super._complete(),this.unsubscribe()}_unsubscribe(){this.innerSubscription=void 0}notifyComplete(){this.innerSubscription=void 0,this.isStopped&&super._complete()}notifyNext(t){this.destination.next(t)}}new class extends wr{}(class extends bb{constructor(t,e){super(t,e),this.scheduler=t,this.work=e}schedule(t,e=0){return e>0?super.schedule(t,e):(this.delay=e,this.state=t,this.scheduler.flush(this),this)}execute(t,e){return e>0||this.closed?super.execute(t,e):this._execute(t,e)}requestAsyncId(t,e,i=0){return null!==i&&i>0||null===i&&this.delay>0?super.requestAsyncId(t,e,i):t.flush(this)}});const VQ=new ze(n=>n.complete());function R$(n){return n?function(n){return new ze(t=>n.schedule(()=>t.complete()))}(n):VQ}class js{constructor(t,e,i){this.kind=t,this.value=e,this.error=i,this.hasValue="N"===t}observe(t){switch(this.kind){case"N":return t.next&&t.next(this.value);case"E":return t.error&&t.error(this.error);case"C":return t.complete&&t.complete()}}do(t,e,i){switch(this.kind){case"N":return t&&t(this.value);case"E":return e&&e(this.error);case"C":return i&&i()}}accept(t,e,i){return t&&"function"==typeof t.next?this.observe(t):this.do(t,e,i)}toObservable(){switch(this.kind){case"N":return Ec(this.value);case"E":return function(n,t){return new ze(e=>e.error(n))}(this.error);case"C":return R$()}throw new Error("unexpected notification kind value")}static createNext(t){return void 0!==t?new js("N",t):js.undefinedValueNotification}static createError(t){return new js("E",void 0,t)}static createComplete(){return js.completeNotification}}let pM;js.completeNotification=new js("C"),js.undefinedValueNotification=new js("N",void 0);try{pM="undefined"!=typeof Intl&&Intl.v8BreakIterator}catch(n){pM=!1}let ag,gM,Ws=(()=>{class n{constructor(e){this._platformId=e,this.isBrowser=this._platformId?function(n){return n===N2}(this._platformId):"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!pM)&&"undefined"!=typeof CSS&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}}return n.\u0275fac=function(e){return new(e||n)($(ch))},n.\u0275prov=le({factory:function(){return new n($(ch))},token:n,providedIn:"root"}),n})();function lg(n){return function(){if(null==ag&&"undefined"!=typeof window)try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>ag=!0}))}finally{ag=ag||!1}return ag}()?n:!!n.capture}function mM(n){if(function(){if(null==gM){const n="undefined"!=typeof document?document.head:null;gM=!(!n||!n.createShadowRoot&&!n.attachShadow)}return gM}()){const t=n.getRootNode?n.getRootNode():null;if("undefined"!=typeof ShadowRoot&&ShadowRoot&&t instanceof ShadowRoot)return t}return null}function Yr(n){return n.composedPath?n.composedPath()[0]:n.target}const V$=new pe("cdk-dir-doc",{providedIn:"root",factory:function(){return QS(Je)}});let ug=(()=>{class n{constructor(e){if(this.value="ltr",this.change=new ut,e){const s=e.documentElement?e.documentElement.dir:null,r=(e.body?e.body.dir:null)||s;this.value="ltr"===r||"rtl"===r?r:"ltr"}}ngOnDestroy(){this.change.complete()}}return n.\u0275fac=function(e){return new(e||n)($(V$,8))},n.\u0275prov=le({factory:function(){return new n($(V$,8))},token:n,providedIn:"root"}),n})(),vM=(()=>{class n{constructor(e,i,s){this._ngZone=e,this._platform=i,this._scrolled=new Qe,this._globalSubscription=null,this._scrolledCount=0,this.scrollContainers=new Map,this._document=s}register(e){this.scrollContainers.has(e)||this.scrollContainers.set(e,e.elementScrolled().subscribe(()=>this._scrolled.next(e)))}deregister(e){const i=this.scrollContainers.get(e);i&&(i.unsubscribe(),this.scrollContainers.delete(e))}scrolled(e=20){return this._platform.isBrowser?new ze(i=>{this._globalSubscription||this._addGlobalListener();const s=e>0?this._scrolled.pipe(dM(e)).subscribe(i):this._scrolled.subscribe(i);return this._scrolledCount++,()=>{s.unsubscribe(),this._scrolledCount--,this._scrolledCount||this._removeGlobalListener()}}):Ec()}ngOnDestroy(){this._removeGlobalListener(),this.scrollContainers.forEach((e,i)=>this.deregister(i)),this._scrolled.complete()}ancestorScrolled(e,i){const s=this.getAncestorScrollContainers(e);return this.scrolled(i).pipe(O$(r=>!r||s.indexOf(r)>-1))}getAncestorScrollContainers(e){const i=[];return this.scrollContainers.forEach((s,r)=>{this._scrollableContainsElement(r,e)&&i.push(r)}),i}_getWindow(){return this._document.defaultView||window}_scrollableContainsElement(e,i){let s=Oi(i),r=e.getElementRef().nativeElement;do{if(s==r)return!0}while(s=s.parentElement);return!1}_addGlobalListener(){this._globalSubscription=this._ngZone.runOutsideAngular(()=>uM(this._getWindow().document,"scroll").subscribe(()=>this._scrolled.next()))}_removeGlobalListener(){this._globalSubscription&&(this._globalSubscription.unsubscribe(),this._globalSubscription=null)}}return n.\u0275fac=function(e){return new(e||n)($(Ue),$(Ws),$(Je,8))},n.\u0275prov=le({factory:function(){return new n($(Ue),$(Ws),$(Je,8))},token:n,providedIn:"root"}),n})(),yM=(()=>{class n{constructor(e,i,s){this._platform=e,this._change=new Qe,this._changeListener=r=>{this._change.next(r)},this._document=s,i.runOutsideAngular(()=>{if(e.isBrowser){const r=this._getWindow();r.addEventListener("resize",this._changeListener),r.addEventListener("orientationchange",this._changeListener)}this.change().subscribe(()=>this._viewportSize=null)})}ngOnDestroy(){if(this._platform.isBrowser){const e=this._getWindow();e.removeEventListener("resize",this._changeListener),e.removeEventListener("orientationchange",this._changeListener)}this._change.complete()}getViewportSize(){this._viewportSize||this._updateViewportSize();const e={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),e}getViewportRect(){const e=this.getViewportScrollPosition(),{width:i,height:s}=this.getViewportSize();return{top:e.top,left:e.left,bottom:e.top+s,right:e.left+i,height:s,width:i}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};const e=this._document,i=this._getWindow(),s=e.documentElement,r=s.getBoundingClientRect();return{top:-r.top||e.body.scrollTop||i.scrollY||s.scrollTop||0,left:-r.left||e.body.scrollLeft||i.scrollX||s.scrollLeft||0}}change(e=20){return e>0?this._change.pipe(dM(e)):this._change}_getWindow(){return this._document.defaultView||window}_updateViewportSize(){const e=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:e.innerWidth,height:e.innerHeight}:{width:0,height:0}}}return n.\u0275fac=function(e){return new(e||n)($(Ws),$(Ue),$(Je,8))},n.\u0275prov=le({factory:function(){return new n($(Ws),$(Ue),$(Je,8))},token:n,providedIn:"root"}),n})(),_M=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=Xt({type:n}),n.\u0275inj=Gt({}),n})();const yJ=(()=>{function n(){return Error.call(this),this.message="argument out of range",this.name="ArgumentOutOfRangeError",this}return n.prototype=Object.create(Error.prototype),n})();function bM(n){return t=>0===n?R$():t.lift(new _J(n))}class _J{constructor(t){if(this.total=t,this.total<0)throw new yJ}call(t,e){return e.subscribe(new bJ(t,this.total))}}class bJ extends xt{constructor(t,e){super(t),this.total=e,this.count=0}_next(t){const e=this.total,i=++this.count;i<=e&&(this.destination.next(t),i===e&&(this.destination.complete(),this.unsubscribe()))}}function XJ(n){const{subscriber:t,counter:e,period:i}=n;t.next(e),this.schedule({subscriber:t,counter:e+1,period:i},i)}function Qa(){}"undefined"!=typeof Element&&Element;class tZ{constructor(t,e,i){this.nextOrObserver=t,this.error=e,this.complete=i}call(t,e){return e.subscribe(new iZ(t,this.nextOrObserver,this.error,this.complete))}}class iZ extends xt{constructor(t,e,i,s){super(t),this._tapNext=Qa,this._tapError=Qa,this._tapComplete=Qa,this._tapError=i||Qa,this._tapComplete=s||Qa,M(e)?(this._context=this,this._tapNext=e):e&&(this._context=e,this._tapNext=e.next||Qa,this._tapError=e.error||Qa,this._tapComplete=e.complete||Qa)}_next(t){try{this._tapNext.call(this._context,t)}catch(e){return void this.destination.error(e)}this.destination.next(t)}_error(t){try{this._tapError.call(this._context,t)}catch(e){return void this.destination.error(e)}this.destination.error(t)}_complete(){try{this._tapComplete.call(this._context)}catch(t){return void this.destination.error(t)}return this.destination.complete()}}function wM(n,t,e){for(let i in t)if(t.hasOwnProperty(i)){const s=t[i];s?n.setProperty(i,s,(null==e?void 0:e.has(i))?"important":""):n.removeProperty(i)}return n}function Fh(n,t){const e=t?"":"none";wM(n.style,{"touch-action":t?"":"none","-webkit-user-drag":t?"":"none","-webkit-tap-highlight-color":t?"":"transparent","user-select":e,"-ms-user-select":e,"-webkit-user-select":e,"-moz-user-select":e})}function o3(n,t,e){wM(n.style,{position:t?"":"fixed",top:t?"":"0",opacity:t?"":"0",left:t?"":"-999em"},e)}function kb(n,t){return t&&"none"!=t?n+" "+t:n}function a3(n){const t=n.toLowerCase().indexOf("ms")>-1?1:1e3;return parseFloat(n)*t}function CM(n,t){return n.getPropertyValue(t).split(",").map(i=>i.trim())}function kM(n){const t=n.getBoundingClientRect();return{top:t.top,right:t.right,bottom:t.bottom,left:t.left,width:t.width,height:t.height}}function DM(n,t,e){const{top:i,bottom:s,left:r,right:o}=n;return e>=i&&e<=s&&t>=r&&t<=o}function hg(n,t,e){n.top+=t,n.bottom=n.top+n.height,n.left+=e,n.right=n.left+n.width}function l3(n,t,e,i){const{top:s,right:r,bottom:o,left:a,width:l,height:h}=n,f=l*t,p=h*t;return i>s-p&&i<o+p&&e>a-f&&e<r+f}class c3{constructor(t,e){this._document=t,this._viewportRuler=e,this.positions=new Map}clear(){this.positions.clear()}cache(t){this.clear(),this.positions.set(this._document,{scrollPosition:this._viewportRuler.getViewportScrollPosition()}),t.forEach(e=>{this.positions.set(e,{scrollPosition:{top:e.scrollTop,left:e.scrollLeft},clientRect:kM(e)})})}handleScroll(t){const e=Yr(t),i=this.positions.get(e);if(!i)return null;const s=e===this._document?e.documentElement:e,r=i.scrollPosition;let o,a;if(e===this._document){const f=this._viewportRuler.getViewportScrollPosition();o=f.top,a=f.left}else o=e.scrollTop,a=e.scrollLeft;const l=r.top-o,h=r.left-a;return this.positions.forEach((f,p)=>{f.clientRect&&e!==p&&s.contains(p)&&hg(f.clientRect,l,h)}),r.top=o,r.left=a,{top:l,left:h}}}function u3(n){const t=n.cloneNode(!0),e=t.querySelectorAll("[id]"),i=n.nodeName.toLowerCase();t.removeAttribute("id");for(let s=0;s<e.length;s++)e[s].removeAttribute("id");return"canvas"===i?f3(n,t):("input"===i||"select"===i||"textarea"===i)&&d3(n,t),h3("canvas",n,t,f3),h3("input, textarea, select",n,t,d3),t}function h3(n,t,e,i){const s=t.querySelectorAll(n);if(s.length){const r=e.querySelectorAll(n);for(let o=0;o<s.length;o++)i(s[o],r[o])}}let sZ=0;function d3(n,t){"file"!==t.type&&(t.value=n.value),"radio"===t.type&&t.name&&(t.name=`mat-clone-${t.name}-${sZ++}`)}function f3(n,t){const e=t.getContext("2d");if(e)try{e.drawImage(n,0,0)}catch(i){}}const p3=lg({passive:!0}),g3=lg({passive:!1}),PM=new Set(["position"]);class oZ{constructor(t,e,i,s,r,o){this._config=e,this._document=i,this._ngZone=s,this._viewportRuler=r,this._dragDropRegistry=o,this._passiveTransform={x:0,y:0},this._activeTransform={x:0,y:0},this._hasStartedDragging=!1,this._moveEvents=new Qe,this._pointerMoveSubscription=Ze.EMPTY,this._pointerUpSubscription=Ze.EMPTY,this._scrollSubscription=Ze.EMPTY,this._resizeSubscription=Ze.EMPTY,this._boundaryElement=null,this._nativeInteractionsEnabled=!0,this._handles=[],this._disabledHandles=new Set,this._direction="ltr",this.dragStartDelay=0,this._disabled=!1,this.beforeStarted=new Qe,this.started=new Qe,this.released=new Qe,this.ended=new Qe,this.entered=new Qe,this.exited=new Qe,this.dropped=new Qe,this.moved=this._moveEvents,this._pointerDown=a=>{if(this.beforeStarted.next(),this._handles.length){const l=this._handles.find(h=>{const f=Yr(a);return!!f&&(f===h||h.contains(f))});l&&!this._disabledHandles.has(l)&&!this.disabled&&this._initializeDragSequence(l,a)}else this.disabled||this._initializeDragSequence(this._rootElement,a)},this._pointerMove=a=>{const l=this._getPointerPositionOnPage(a);if(!this._hasStartedDragging){if(Math.abs(l.x-this._pickupPositionOnPage.x)+Math.abs(l.y-this._pickupPositionOnPage.y)>=this._config.dragStartThreshold){const _=Date.now()>=this._dragStartTime+this._getDragStartDelay(a),w=this._dropContainer;if(!_)return void this._endDragSequence(a);(!w||!w.isDragging()&&!w.isReceiving())&&(a.preventDefault(),this._hasStartedDragging=!0,this._ngZone.run(()=>this._startDragSequence(a)))}return}this._boundaryElement&&(!this._previewRect||!this._previewRect.width&&!this._previewRect.height)&&(this._previewRect=(this._preview||this._rootElement).getBoundingClientRect()),a.preventDefault();const h=this._getConstrainedPointerPosition(l);if(this._hasMoved=!0,this._lastKnownPointerPosition=l,this._updatePointerDirectionDelta(h),this._dropContainer)this._updateActiveDropContainer(h,l);else{const f=this._activeTransform;f.x=h.x-this._pickupPositionOnPage.x+this._passiveTransform.x,f.y=h.y-this._pickupPositionOnPage.y+this._passiveTransform.y,this._applyRootElementTransform(f.x,f.y),"undefined"!=typeof SVGElement&&this._rootElement instanceof SVGElement&&this._rootElement.setAttribute("transform",`translate(${f.x} ${f.y})`)}this._moveEvents.observers.length&&this._ngZone.run(()=>{this._moveEvents.next({source:this,pointerPosition:h,event:a,distance:this._getDragDistance(h),delta:this._pointerDirectionDelta})})},this._pointerUp=a=>{this._endDragSequence(a)},this.withRootElement(t).withParent(e.parentDragRef||null),this._parentPositions=new c3(i,r),o.registerDragItem(this)}get disabled(){return this._disabled||!(!this._dropContainer||!this._dropContainer.disabled)}set disabled(t){const e=Us(t);e!==this._disabled&&(this._disabled=e,this._toggleNativeDragInteractions(),this._handles.forEach(i=>Fh(i,e)))}getPlaceholderElement(){return this._placeholder}getRootElement(){return this._rootElement}getVisibleElement(){return this.isDragging()?this.getPlaceholderElement():this.getRootElement()}withHandles(t){this._handles=t.map(i=>Oi(i)),this._handles.forEach(i=>Fh(i,this.disabled)),this._toggleNativeDragInteractions();const e=new Set;return this._disabledHandles.forEach(i=>{this._handles.indexOf(i)>-1&&e.add(i)}),this._disabledHandles=e,this}withPreviewTemplate(t){return this._previewTemplate=t,this}withPlaceholderTemplate(t){return this._placeholderTemplate=t,this}withRootElement(t){const e=Oi(t);return e!==this._rootElement&&(this._rootElement&&this._removeRootElementListeners(this._rootElement),this._ngZone.runOutsideAngular(()=>{e.addEventListener("mousedown",this._pointerDown,g3),e.addEventListener("touchstart",this._pointerDown,p3)}),this._initialTransform=void 0,this._rootElement=e),"undefined"!=typeof SVGElement&&this._rootElement instanceof SVGElement&&(this._ownerSVGElement=this._rootElement.ownerSVGElement),this}withBoundaryElement(t){return this._boundaryElement=t?Oi(t):null,this._resizeSubscription.unsubscribe(),t&&(this._resizeSubscription=this._viewportRuler.change(10).subscribe(()=>this._containInsideBoundaryOnResize())),this}withParent(t){return this._parentDragRef=t,this}dispose(){this._removeRootElementListeners(this._rootElement),this.isDragging()&&Pb(this._rootElement),Pb(this._anchor),this._destroyPreview(),this._destroyPlaceholder(),this._dragDropRegistry.removeDragItem(this),this._removeSubscriptions(),this.beforeStarted.complete(),this.started.complete(),this.released.complete(),this.ended.complete(),this.entered.complete(),this.exited.complete(),this.dropped.complete(),this._moveEvents.complete(),this._handles=[],this._disabledHandles.clear(),this._dropContainer=void 0,this._resizeSubscription.unsubscribe(),this._parentPositions.clear(),this._boundaryElement=this._rootElement=this._ownerSVGElement=this._placeholderTemplate=this._previewTemplate=this._anchor=this._parentDragRef=null}isDragging(){return this._hasStartedDragging&&this._dragDropRegistry.isDragging(this)}reset(){this._rootElement.style.transform=this._initialTransform||"",this._activeTransform={x:0,y:0},this._passiveTransform={x:0,y:0}}disableHandle(t){!this._disabledHandles.has(t)&&this._handles.indexOf(t)>-1&&(this._disabledHandles.add(t),Fh(t,!0))}enableHandle(t){this._disabledHandles.has(t)&&(this._disabledHandles.delete(t),Fh(t,this.disabled))}withDirection(t){return this._direction=t,this}_withDropContainer(t){this._dropContainer=t}getFreeDragPosition(){const t=this.isDragging()?this._activeTransform:this._passiveTransform;return{x:t.x,y:t.y}}setFreeDragPosition(t){return this._activeTransform={x:0,y:0},this._passiveTransform.x=t.x,this._passiveTransform.y=t.y,this._dropContainer||this._applyRootElementTransform(t.x,t.y),this}withPreviewContainer(t){return this._previewContainer=t,this}_sortFromLastPointerPosition(){const t=this._lastKnownPointerPosition;t&&this._dropContainer&&this._updateActiveDropContainer(this._getConstrainedPointerPosition(t),t)}_removeSubscriptions(){this._pointerMoveSubscription.unsubscribe(),this._pointerUpSubscription.unsubscribe(),this._scrollSubscription.unsubscribe()}_destroyPreview(){this._preview&&Pb(this._preview),this._previewRef&&this._previewRef.destroy(),this._preview=this._previewRef=null}_destroyPlaceholder(){this._placeholder&&Pb(this._placeholder),this._placeholderRef&&this._placeholderRef.destroy(),this._placeholder=this._placeholderRef=null}_endDragSequence(t){if(this._dragDropRegistry.isDragging(this)&&(this._removeSubscriptions(),this._dragDropRegistry.stopDragging(this),this._toggleNativeDragInteractions(),this._handles&&(this._rootElement.style.webkitTapHighlightColor=this._rootElementTapHighlight),this._hasStartedDragging))if(this.released.next({source:this}),this._dropContainer)this._dropContainer._stopScrolling(),this._animatePreviewToPlaceholder().then(()=>{this._cleanupDragArtifacts(t),this._cleanupCachedDimensions(),this._dragDropRegistry.stopDragging(this)});else{this._passiveTransform.x=this._activeTransform.x;const e=this._getPointerPositionOnPage(t);this._passiveTransform.y=this._activeTransform.y,this._ngZone.run(()=>{this.ended.next({source:this,distance:this._getDragDistance(e),dropPoint:e})}),this._cleanupCachedDimensions(),this._dragDropRegistry.stopDragging(this)}}_startDragSequence(t){dg(t)&&(this._lastTouchEventTime=Date.now()),this._toggleNativeDragInteractions();const e=this._dropContainer;if(e){const i=this._rootElement,s=i.parentNode,r=this._placeholder=this._createPlaceholderElement(),o=this._anchor=this._anchor||this._document.createComment(""),a=this._getShadowRoot();s.insertBefore(o,i),this._initialTransform=i.style.transform||"",this._preview=this._createPreviewElement(),o3(i,!1,PM),this._document.body.appendChild(s.replaceChild(r,i)),this._getPreviewInsertionPoint(s,a).appendChild(this._preview),this.started.next({source:this}),e.start(),this._initialContainer=e,this._initialIndex=e.getItemIndex(this)}else this.started.next({source:this}),this._initialContainer=this._initialIndex=void 0;this._parentPositions.cache(e?e.getScrollableParents():[])}_initializeDragSequence(t,e){this._parentDragRef&&e.stopPropagation();const i=this.isDragging(),s=dg(e),r=!s&&0!==e.button,o=this._rootElement,a=Yr(e),l=!s&&this._lastTouchEventTime&&this._lastTouchEventTime+800>Date.now(),h=s?function(n){const t=n.touches&&n.touches[0]||n.changedTouches&&n.changedTouches[0];return!(!t||-1!==t.identifier||null!=t.radiusX&&1!==t.radiusX||null!=t.radiusY&&1!==t.radiusY)}(e):function(n){return 0===n.offsetX&&0===n.offsetY}(e);if(a&&a.draggable&&"mousedown"===e.type&&e.preventDefault(),i||r||l||h)return;this._handles.length&&(this._rootElementTapHighlight=o.style.webkitTapHighlightColor||"",o.style.webkitTapHighlightColor="transparent"),this._hasStartedDragging=this._hasMoved=!1,this._removeSubscriptions(),this._pointerMoveSubscription=this._dragDropRegistry.pointerMove.subscribe(this._pointerMove),this._pointerUpSubscription=this._dragDropRegistry.pointerUp.subscribe(this._pointerUp),this._scrollSubscription=this._dragDropRegistry.scrolled(this._getShadowRoot()).subscribe(y=>this._updateOnScroll(y)),this._boundaryElement&&(this._boundaryRect=kM(this._boundaryElement));const f=this._previewTemplate;this._pickupPositionInElement=f&&f.template&&!f.matchSize?{x:0,y:0}:this._getPointerPositionInElement(t,e);const p=this._pickupPositionOnPage=this._lastKnownPointerPosition=this._getPointerPositionOnPage(e);this._pointerDirectionDelta={x:0,y:0},this._pointerPositionAtLastDirectionChange={x:p.x,y:p.y},this._dragStartTime=Date.now(),this._dragDropRegistry.startDragging(this,e)}_cleanupDragArtifacts(t){o3(this._rootElement,!0,PM),this._anchor.parentNode.replaceChild(this._rootElement,this._anchor),this._destroyPreview(),this._destroyPlaceholder(),this._boundaryRect=this._previewRect=this._initialTransform=void 0,this._ngZone.run(()=>{const e=this._dropContainer,i=e.getItemIndex(this),s=this._getPointerPositionOnPage(t),r=this._getDragDistance(s),o=e._isOverContainer(s.x,s.y);this.ended.next({source:this,distance:r,dropPoint:s}),this.dropped.next({item:this,currentIndex:i,previousIndex:this._initialIndex,container:e,previousContainer:this._initialContainer,isPointerOverContainer:o,distance:r,dropPoint:s}),e.drop(this,i,this._initialIndex,this._initialContainer,o,r,s),this._dropContainer=this._initialContainer})}_updateActiveDropContainer({x:t,y:e},{x:i,y:s}){let r=this._initialContainer._getSiblingContainerFromPosition(this,t,e);!r&&this._dropContainer!==this._initialContainer&&this._initialContainer._isOverContainer(t,e)&&(r=this._initialContainer),r&&r!==this._dropContainer&&this._ngZone.run(()=>{this.exited.next({item:this,container:this._dropContainer}),this._dropContainer.exit(this),this._dropContainer=r,this._dropContainer.enter(this,t,e,r===this._initialContainer&&r.sortingDisabled?this._initialIndex:void 0),this.entered.next({item:this,container:r,currentIndex:r.getItemIndex(this)})}),this.isDragging()&&(this._dropContainer._startScrollingIfNecessary(i,s),this._dropContainer._sortItem(this,t,e,this._pointerDirectionDelta),this._applyPreviewTransform(t-this._pickupPositionInElement.x,e-this._pickupPositionInElement.y))}_createPreviewElement(){const t=this._previewTemplate,e=this.previewClass,i=t?t.template:null;let s;if(i&&t){const r=t.matchSize?this._rootElement.getBoundingClientRect():null,o=t.viewContainer.createEmbeddedView(i,t.context);o.detectChanges(),s=v3(o,this._document),this._previewRef=o,t.matchSize?y3(s,r):s.style.transform=Db(this._pickupPositionOnPage.x,this._pickupPositionOnPage.y)}else{const r=this._rootElement;s=u3(r),y3(s,r.getBoundingClientRect()),this._initialTransform&&(s.style.transform=this._initialTransform)}return wM(s.style,{"pointer-events":"none",margin:"0",position:"fixed",top:"0",left:"0","z-index":`${this._config.zIndex||1e3}`},PM),Fh(s,!1),s.classList.add("cdk-drag-preview"),s.setAttribute("dir",this._direction),e&&(Array.isArray(e)?e.forEach(r=>s.classList.add(r)):s.classList.add(e)),s}_animatePreviewToPlaceholder(){if(!this._hasMoved)return Promise.resolve();const t=this._placeholder.getBoundingClientRect();this._preview.classList.add("cdk-drag-animating"),this._applyPreviewTransform(t.left,t.top);const e=function(n){const t=getComputedStyle(n),e=CM(t,"transition-property"),i=e.find(a=>"transform"===a||"all"===a);if(!i)return 0;const s=e.indexOf(i),r=CM(t,"transition-duration"),o=CM(t,"transition-delay");return a3(r[s])+a3(o[s])}(this._preview);return 0===e?Promise.resolve():this._ngZone.runOutsideAngular(()=>new Promise(i=>{const s=o=>{var a;(!o||Yr(o)===this._preview&&"transform"===o.propertyName)&&(null===(a=this._preview)||void 0===a||a.removeEventListener("transitionend",s),i(),clearTimeout(r))},r=setTimeout(s,1.5*e);this._preview.addEventListener("transitionend",s)}))}_createPlaceholderElement(){const t=this._placeholderTemplate,e=t?t.template:null;let i;return e?(this._placeholderRef=t.viewContainer.createEmbeddedView(e,t.context),this._placeholderRef.detectChanges(),i=v3(this._placeholderRef,this._document)):i=u3(this._rootElement),i.classList.add("cdk-drag-placeholder"),i}_getPointerPositionInElement(t,e){const i=this._rootElement.getBoundingClientRect(),s=t===this._rootElement?null:t,r=s?s.getBoundingClientRect():i,o=dg(e)?e.targetTouches[0]:e,a=this._getViewportScrollPosition();return{x:r.left-i.left+(o.pageX-r.left-a.left),y:r.top-i.top+(o.pageY-r.top-a.top)}}_getPointerPositionOnPage(t){const e=this._getViewportScrollPosition(),i=dg(t)?t.touches[0]||t.changedTouches[0]||{pageX:0,pageY:0}:t,s=i.pageX-e.left,r=i.pageY-e.top;if(this._ownerSVGElement){const o=this._ownerSVGElement.getScreenCTM();if(o){const a=this._ownerSVGElement.createSVGPoint();return a.x=s,a.y=r,a.matrixTransform(o.inverse())}}return{x:s,y:r}}_getConstrainedPointerPosition(t){const e=this._dropContainer?this._dropContainer.lockAxis:null;let{x:i,y:s}=this.constrainPosition?this.constrainPosition(t,this):t;if("x"===this.lockAxis||"x"===e?s=this._pickupPositionOnPage.y:("y"===this.lockAxis||"y"===e)&&(i=this._pickupPositionOnPage.x),this._boundaryRect){const{x:r,y:o}=this._pickupPositionInElement,a=this._boundaryRect,l=this._previewRect,h=a.top+o,f=a.bottom-(l.height-o);i=m3(i,a.left+r,a.right-(l.width-r)),s=m3(s,h,f)}return{x:i,y:s}}_updatePointerDirectionDelta(t){const{x:e,y:i}=t,s=this._pointerDirectionDelta,r=this._pointerPositionAtLastDirectionChange,o=Math.abs(e-r.x),a=Math.abs(i-r.y);return o>this._config.pointerDirectionChangeThreshold&&(s.x=e>r.x?1:-1,r.x=e),a>this._config.pointerDirectionChangeThreshold&&(s.y=i>r.y?1:-1,r.y=i),s}_toggleNativeDragInteractions(){if(!this._rootElement||!this._handles)return;const t=this._handles.length>0||!this.isDragging();t!==this._nativeInteractionsEnabled&&(this._nativeInteractionsEnabled=t,Fh(this._rootElement,t))}_removeRootElementListeners(t){t.removeEventListener("mousedown",this._pointerDown,g3),t.removeEventListener("touchstart",this._pointerDown,p3)}_applyRootElementTransform(t,e){const i=Db(t,e);null==this._initialTransform&&(this._initialTransform=this._rootElement.style.transform&&"none"!=this._rootElement.style.transform?this._rootElement.style.transform:""),this._rootElement.style.transform=kb(i,this._initialTransform)}_applyPreviewTransform(t,e){var i;const s=(null===(i=this._previewTemplate)||void 0===i?void 0:i.template)?void 0:this._initialTransform,r=Db(t,e);this._preview.style.transform=kb(r,s)}_getDragDistance(t){const e=this._pickupPositionOnPage;return e?{x:t.x-e.x,y:t.y-e.y}:{x:0,y:0}}_cleanupCachedDimensions(){this._boundaryRect=this._previewRect=void 0,this._parentPositions.clear()}_containInsideBoundaryOnResize(){let{x:t,y:e}=this._passiveTransform;if(0===t&&0===e||this.isDragging()||!this._boundaryElement)return;const i=this._boundaryElement.getBoundingClientRect(),s=this._rootElement.getBoundingClientRect();if(0===i.width&&0===i.height||0===s.width&&0===s.height)return;const r=i.left-s.left,o=s.right-i.right,a=i.top-s.top,l=s.bottom-i.bottom;i.width>s.width?(r>0&&(t+=r),o>0&&(t-=o)):t=0,i.height>s.height?(a>0&&(e+=a),l>0&&(e-=l)):e=0,(t!==this._passiveTransform.x||e!==this._passiveTransform.y)&&this.setFreeDragPosition({y:e,x:t})}_getDragStartDelay(t){const e=this.dragStartDelay;return"number"==typeof e?e:dg(t)?e.touch:e?e.mouse:0}_updateOnScroll(t){const e=this._parentPositions.handleScroll(t);if(e){const i=Yr(t);this._boundaryRect&&(i===this._document||i!==this._boundaryElement&&i.contains(this._boundaryElement))&&hg(this._boundaryRect,e.top,e.left),this._pickupPositionOnPage.x+=e.left,this._pickupPositionOnPage.y+=e.top,this._dropContainer||(this._activeTransform.x-=e.left,this._activeTransform.y-=e.top,this._applyRootElementTransform(this._activeTransform.x,this._activeTransform.y))}}_getViewportScrollPosition(){const t=this._parentPositions.positions.get(this._document);return t?t.scrollPosition:this._viewportRuler.getViewportScrollPosition()}_getShadowRoot(){return void 0===this._cachedShadowRoot&&(this._cachedShadowRoot=mM(this._rootElement)),this._cachedShadowRoot}_getPreviewInsertionPoint(t,e){const i=this._previewContainer||"global";if("parent"===i)return t;if("global"===i){const s=this._document;return e||s.fullscreenElement||s.webkitFullscreenElement||s.mozFullScreenElement||s.msFullscreenElement||s.body}return Oi(i)}}function Db(n,t){return`translate3d(${Math.round(n)}px, ${Math.round(t)}px, 0)`}function m3(n,t,e){return Math.max(t,Math.min(e,n))}function Pb(n){n&&n.parentNode&&n.parentNode.removeChild(n)}function dg(n){return"t"===n.type[0]}function v3(n,t){const e=n.rootNodes;if(1===e.length&&e[0].nodeType===t.ELEMENT_NODE)return e[0];const i=t.createElement("div");return e.forEach(s=>i.appendChild(s)),i}function y3(n,t){n.style.width=`${t.width}px`,n.style.height=`${t.height}px`,n.style.transform=Db(t.left,t.top)}function _3(n,t,e){const i=fg(t,n.length-1),s=fg(e,n.length-1);if(i===s)return;const r=n[i],o=s<i?-1:1;for(let a=i;a!==s;a+=o)n[a]=n[a+o];n[s]=r}function fg(n,t){return Math.max(0,Math.min(t,n))}class aZ{constructor(t,e,i,s,r){this._dragDropRegistry=e,this._ngZone=s,this._viewportRuler=r,this.disabled=!1,this.sortingDisabled=!1,this.autoScrollDisabled=!1,this.autoScrollStep=2,this.enterPredicate=()=>!0,this.sortPredicate=()=>!0,this.beforeStarted=new Qe,this.entered=new Qe,this.exited=new Qe,this.dropped=new Qe,this.sorted=new Qe,this._isDragging=!1,this._itemPositions=[],this._previousSwap={drag:null,delta:0,overlaps:!1},this._draggables=[],this._siblings=[],this._orientation="vertical",this._activeSiblings=new Set,this._direction="ltr",this._viewportScrollSubscription=Ze.EMPTY,this._verticalScrollDirection=0,this._horizontalScrollDirection=0,this._stopScrollTimers=new Qe,this._cachedShadowRoot=null,this._startScrollInterval=()=>{this._stopScrolling(),function(n=0,t=rg){return(!hM(n)||n<0)&&(n=0),(!t||"function"!=typeof t.schedule)&&(t=rg),new ze(e=>(e.add(t.schedule(XJ,n,{subscriber:e,counter:0,period:n})),e))}(0,A$).pipe(Ya(this._stopScrollTimers)).subscribe(()=>{const o=this._scrollNode,a=this.autoScrollStep;1===this._verticalScrollDirection?E3(o,-a):2===this._verticalScrollDirection&&E3(o,a),1===this._horizontalScrollDirection?w3(o,-a):2===this._horizontalScrollDirection&&w3(o,a)})},this.element=Oi(t),this._document=i,this.withScrollableParents([this.element]),e.registerDropContainer(this),this._parentPositions=new c3(i,r)}dispose(){this._stopScrolling(),this._stopScrollTimers.complete(),this._viewportScrollSubscription.unsubscribe(),this.beforeStarted.complete(),this.entered.complete(),this.exited.complete(),this.dropped.complete(),this.sorted.complete(),this._activeSiblings.clear(),this._scrollNode=null,this._parentPositions.clear(),this._dragDropRegistry.removeDropContainer(this)}isDragging(){return this._isDragging}start(){this._draggingStarted(),this._notifyReceivingSiblings()}enter(t,e,i,s){let r;this._draggingStarted(),null==s?(r=this.sortingDisabled?this._draggables.indexOf(t):-1,-1===r&&(r=this._getItemIndexFromPointerPosition(t,e,i))):r=s;const o=this._activeDraggables,a=o.indexOf(t),l=t.getPlaceholderElement();let h=o[r];if(h===t&&(h=o[r+1]),a>-1&&o.splice(a,1),h&&!this._dragDropRegistry.isDragging(h)){const f=h.getRootElement();f.parentElement.insertBefore(l,f),o.splice(r,0,t)}else if(this._shouldEnterAsFirstChild(e,i)){const f=o[0].getRootElement();f.parentNode.insertBefore(l,f),o.unshift(t)}else Oi(this.element).appendChild(l),o.push(t);l.style.transform="",this._cacheItemPositions(),this._cacheParentPositions(),this._notifyReceivingSiblings(),this.entered.next({item:t,container:this,currentIndex:this.getItemIndex(t)})}exit(t){this._reset(),this.exited.next({item:t,container:this})}drop(t,e,i,s,r,o,a){this._reset(),this.dropped.next({item:t,currentIndex:e,previousIndex:i,container:this,previousContainer:s,isPointerOverContainer:r,distance:o,dropPoint:a})}withItems(t){const e=this._draggables;return this._draggables=t,t.forEach(i=>i._withDropContainer(this)),this.isDragging()&&(e.filter(s=>s.isDragging()).every(s=>-1===t.indexOf(s))?this._reset():this._cacheItems()),this}withDirection(t){return this._direction=t,this}connectedTo(t){return this._siblings=t.slice(),this}withOrientation(t){return this._orientation=t,this}withScrollableParents(t){const e=Oi(this.element);return this._scrollableElements=-1===t.indexOf(e)?[e,...t]:t.slice(),this}getScrollableParents(){return this._scrollableElements}getItemIndex(t){return this._isDragging?AM("horizontal"===this._orientation&&"rtl"===this._direction?this._itemPositions.slice().reverse():this._itemPositions,i=>i.drag===t):this._draggables.indexOf(t)}isReceiving(){return this._activeSiblings.size>0}_sortItem(t,e,i,s){if(this.sortingDisabled||!this._clientRect||!l3(this._clientRect,.05,e,i))return;const r=this._itemPositions,o=this._getItemIndexFromPointerPosition(t,e,i,s);if(-1===o&&r.length>0)return;const a="horizontal"===this._orientation,l=AM(r,P=>P.drag===t),h=r[o],p=h.clientRect,y=l>o?1:-1,_=this._getItemOffsetPx(r[l].clientRect,p,y),w=this._getSiblingOffsetPx(l,r,y),T=r.slice();_3(r,l,o),this.sorted.next({previousIndex:l,currentIndex:o,container:this,item:t}),r.forEach((P,N)=>{if(T[N]===P)return;const I=P.drag===t,H=I?_:w,G=I?t.getPlaceholderElement():P.drag.getRootElement();P.offset+=H,a?(G.style.transform=kb(`translate3d(${Math.round(P.offset)}px, 0, 0)`,P.initialTransform),hg(P.clientRect,0,H)):(G.style.transform=kb(`translate3d(0, ${Math.round(P.offset)}px, 0)`,P.initialTransform),hg(P.clientRect,H,0))}),this._previousSwap.overlaps=DM(p,e,i),this._previousSwap.drag=h.drag,this._previousSwap.delta=a?s.x:s.y}_startScrollingIfNecessary(t,e){if(this.autoScrollDisabled)return;let i,s=0,r=0;if(this._parentPositions.positions.forEach((o,a)=>{a===this._document||!o.clientRect||i||l3(o.clientRect,.05,t,e)&&([s,r]=function(n,t,e,i){const s=C3(t,i),r=k3(t,e);let o=0,a=0;if(s){const l=n.scrollTop;1===s?l>0&&(o=1):n.scrollHeight-l>n.clientHeight&&(o=2)}if(r){const l=n.scrollLeft;1===r?l>0&&(a=1):n.scrollWidth-l>n.clientWidth&&(a=2)}return[o,a]}(a,o.clientRect,t,e),(s||r)&&(i=a))}),!s&&!r){const{width:o,height:a}=this._viewportRuler.getViewportSize(),l={width:o,height:a,top:0,right:o,bottom:a,left:0};s=C3(l,e),r=k3(l,t),i=window}i&&(s!==this._verticalScrollDirection||r!==this._horizontalScrollDirection||i!==this._scrollNode)&&(this._verticalScrollDirection=s,this._horizontalScrollDirection=r,this._scrollNode=i,(s||r)&&i?this._ngZone.runOutsideAngular(this._startScrollInterval):this._stopScrolling())}_stopScrolling(){this._stopScrollTimers.next()}_draggingStarted(){const t=Oi(this.element).style;this.beforeStarted.next(),this._isDragging=!0,this._initialScrollSnap=t.msScrollSnapType||t.scrollSnapType||"",t.scrollSnapType=t.msScrollSnapType="none",this._cacheItems(),this._viewportScrollSubscription.unsubscribe(),this._listenToScrollEvents()}_cacheParentPositions(){const t=Oi(this.element);this._parentPositions.cache(this._scrollableElements),this._clientRect=this._parentPositions.positions.get(t).clientRect}_cacheItemPositions(){const t="horizontal"===this._orientation;this._itemPositions=this._activeDraggables.map(e=>{const i=e.getVisibleElement();return{drag:e,offset:0,initialTransform:i.style.transform||"",clientRect:kM(i)}}).sort((e,i)=>t?e.clientRect.left-i.clientRect.left:e.clientRect.top-i.clientRect.top)}_reset(){this._isDragging=!1;const t=Oi(this.element).style;t.scrollSnapType=t.msScrollSnapType=this._initialScrollSnap,this._activeDraggables.forEach(e=>{var i;const s=e.getRootElement();if(s){const r=null===(i=this._itemPositions.find(o=>o.drag===e))||void 0===i?void 0:i.initialTransform;s.style.transform=r||""}}),this._siblings.forEach(e=>e._stopReceiving(this)),this._activeDraggables=[],this._itemPositions=[],this._previousSwap.drag=null,this._previousSwap.delta=0,this._previousSwap.overlaps=!1,this._stopScrolling(),this._viewportScrollSubscription.unsubscribe(),this._parentPositions.clear()}_getSiblingOffsetPx(t,e,i){const s="horizontal"===this._orientation,r=e[t].clientRect,o=e[t+-1*i];let a=r[s?"width":"height"]*i;if(o){const l=s?"left":"top",h=s?"right":"bottom";-1===i?a-=o.clientRect[l]-r[h]:a+=r[l]-o.clientRect[h]}return a}_getItemOffsetPx(t,e,i){const s="horizontal"===this._orientation;let r=s?e.left-t.left:e.top-t.top;return-1===i&&(r+=s?e.width-t.width:e.height-t.height),r}_shouldEnterAsFirstChild(t,e){if(!this._activeDraggables.length)return!1;const i=this._itemPositions,s="horizontal"===this._orientation;if(i[0].drag!==this._activeDraggables[0]){const o=i[i.length-1].clientRect;return s?t>=o.right:e>=o.bottom}{const o=i[0].clientRect;return s?t<=o.left:e<=o.top}}_getItemIndexFromPointerPosition(t,e,i,s){const r="horizontal"===this._orientation,o=AM(this._itemPositions,({drag:a,clientRect:l},h,f)=>{if(a===t)return f.length<2;if(s){const p=r?s.x:s.y;if(a===this._previousSwap.drag&&this._previousSwap.overlaps&&p===this._previousSwap.delta)return!1}return r?e>=Math.floor(l.left)&&e<Math.floor(l.right):i>=Math.floor(l.top)&&i<Math.floor(l.bottom)});return-1!==o&&this.sortPredicate(o,t,this)?o:-1}_cacheItems(){this._activeDraggables=this._draggables.slice(),this._cacheItemPositions(),this._cacheParentPositions()}_isOverContainer(t,e){return null!=this._clientRect&&DM(this._clientRect,t,e)}_getSiblingContainerFromPosition(t,e,i){return this._siblings.find(s=>s._canReceive(t,e,i))}_canReceive(t,e,i){if(!this._clientRect||!DM(this._clientRect,e,i)||!this.enterPredicate(t,this))return!1;const s=this._getShadowRoot().elementFromPoint(e,i);if(!s)return!1;const r=Oi(this.element);return s===r||r.contains(s)}_startReceiving(t,e){const i=this._activeSiblings;!i.has(t)&&e.every(s=>this.enterPredicate(s,this)||this._draggables.indexOf(s)>-1)&&(i.add(t),this._cacheParentPositions(),this._listenToScrollEvents())}_stopReceiving(t){this._activeSiblings.delete(t),this._viewportScrollSubscription.unsubscribe()}_listenToScrollEvents(){this._viewportScrollSubscription=this._dragDropRegistry.scrolled(this._getShadowRoot()).subscribe(t=>{if(this.isDragging()){const e=this._parentPositions.handleScroll(t);e&&(this._itemPositions.forEach(({clientRect:i})=>{hg(i,e.top,e.left)}),this._itemPositions.forEach(({drag:i})=>{this._dragDropRegistry.isDragging(i)&&i._sortFromLastPointerPosition()}))}else this.isReceiving()&&this._cacheParentPositions()})}_getShadowRoot(){if(!this._cachedShadowRoot){const t=mM(Oi(this.element));this._cachedShadowRoot=t||this._document}return this._cachedShadowRoot}_notifyReceivingSiblings(){const t=this._activeDraggables.filter(e=>e.isDragging());this._siblings.forEach(e=>e._startReceiving(this,t))}}function AM(n,t){for(let e=0;e<n.length;e++)if(t(n[e],e,n))return e;return-1}function E3(n,t){n===window?n.scrollBy(0,t):n.scrollTop+=t}function w3(n,t){n===window?n.scrollBy(t,0):n.scrollLeft+=t}function C3(n,t){const{top:e,bottom:i,height:s}=n,r=.05*s;return t>=e-r&&t<=e+r?1:t>=i-r&&t<=i+r?2:0}function k3(n,t){const{left:e,right:i,width:s}=n,r=.05*s;return t>=e-r&&t<=e+r?1:t>=i-r&&t<=i+r?2:0}const Ab=lg({passive:!1,capture:!0});let D3=(()=>{class n{constructor(e,i){this._ngZone=e,this._dropInstances=new Set,this._dragInstances=new Set,this._activeDragInstances=[],this._globalListeners=new Map,this._draggingPredicate=s=>s.isDragging(),this.pointerMove=new Qe,this.pointerUp=new Qe,this.scroll=new Qe,this._preventDefaultWhileDragging=s=>{this._activeDragInstances.length>0&&s.preventDefault()},this._persistentTouchmoveListener=s=>{this._activeDragInstances.length>0&&(this._activeDragInstances.some(this._draggingPredicate)&&s.preventDefault(),this.pointerMove.next(s))},this._document=i}registerDropContainer(e){this._dropInstances.has(e)||this._dropInstances.add(e)}registerDragItem(e){this._dragInstances.add(e),1===this._dragInstances.size&&this._ngZone.runOutsideAngular(()=>{this._document.addEventListener("touchmove",this._persistentTouchmoveListener,Ab)})}removeDropContainer(e){this._dropInstances.delete(e)}removeDragItem(e){this._dragInstances.delete(e),this.stopDragging(e),0===this._dragInstances.size&&this._document.removeEventListener("touchmove",this._persistentTouchmoveListener,Ab)}startDragging(e,i){if(!(this._activeDragInstances.indexOf(e)>-1)&&(this._activeDragInstances.push(e),1===this._activeDragInstances.length)){const s=i.type.startsWith("touch");this._globalListeners.set(s?"touchend":"mouseup",{handler:r=>this.pointerUp.next(r),options:!0}).set("scroll",{handler:r=>this.scroll.next(r),options:!0}).set("selectstart",{handler:this._preventDefaultWhileDragging,options:Ab}),s||this._globalListeners.set("mousemove",{handler:r=>this.pointerMove.next(r),options:Ab}),this._ngZone.runOutsideAngular(()=>{this._globalListeners.forEach((r,o)=>{this._document.addEventListener(o,r.handler,r.options)})})}}stopDragging(e){const i=this._activeDragInstances.indexOf(e);i>-1&&(this._activeDragInstances.splice(i,1),0===this._activeDragInstances.length&&this._clearGlobalListeners())}isDragging(e){return this._activeDragInstances.indexOf(e)>-1}scrolled(e){const i=[this.scroll];return e&&e!==this._document&&i.push(new ze(s=>this._ngZone.runOutsideAngular(()=>{const o=a=>{this._activeDragInstances.length&&s.next(a)};return e.addEventListener("scroll",o,!0),()=>{e.removeEventListener("scroll",o,!0)}}))),kr(...i)}ngOnDestroy(){this._dragInstances.forEach(e=>this.removeDragItem(e)),this._dropInstances.forEach(e=>this.removeDropContainer(e)),this._clearGlobalListeners(),this.pointerMove.complete(),this.pointerUp.complete()}_clearGlobalListeners(){this._globalListeners.forEach((e,i)=>{this._document.removeEventListener(i,e.handler,e.options)}),this._globalListeners.clear()}}return n.\u0275fac=function(e){return new(e||n)($(Ue),$(Je))},n.\u0275prov=le({factory:function(){return new n($(Ue),$(Je))},token:n,providedIn:"root"}),n})();const cZ={dragStartThreshold:5,pointerDirectionChangeThreshold:5};let TM=(()=>{class n{constructor(e,i,s,r){this._document=e,this._ngZone=i,this._viewportRuler=s,this._dragDropRegistry=r}createDrag(e,i=cZ){return new oZ(e,i,this._document,this._ngZone,this._viewportRuler,this._dragDropRegistry)}createDropList(e){return new aZ(e,this._dragDropRegistry,this._document,this._ngZone,this._viewportRuler)}}return n.\u0275fac=function(e){return new(e||n)($(Je),$(Ue),$(yM),$(D3))},n.\u0275prov=le({factory:function(){return new n($(Je),$(Ue),$(yM),$(D3))},token:n,providedIn:"root"}),n})();const xM=new pe("CDK_DRAG_PARENT"),MM=new pe("CdkDropListGroup"),P3=new pe("CDK_DRAG_CONFIG");let uZ=0;const A3=new pe("CdkDropList");let dZ=(()=>{class n{constructor(e,i,s,r,o,a,l){this.element=e,this._changeDetectorRef=s,this._scrollDispatcher=r,this._dir=o,this._group=a,this._destroyed=new Qe,this.connectedTo=[],this.id="cdk-drop-list-"+uZ++,this.enterPredicate=()=>!0,this.sortPredicate=()=>!0,this.dropped=new ut,this.entered=new ut,this.exited=new ut,this.sorted=new ut,this._unsortedItems=new Set,this._dropListRef=i.createDropList(e),this._dropListRef.data=this,l&&this._assignDefaults(l),this._dropListRef.enterPredicate=(h,f)=>this.enterPredicate(h.data,f.data),this._dropListRef.sortPredicate=(h,f,p)=>this.sortPredicate(h,f.data,p.data),this._setupInputSyncSubscription(this._dropListRef),this._handleEvents(this._dropListRef),n._dropLists.push(this),a&&a._items.add(this)}get disabled(){return this._disabled||!!this._group&&this._group.disabled}set disabled(e){this._dropListRef.disabled=this._disabled=Us(e)}addItem(e){this._unsortedItems.add(e),this._dropListRef.isDragging()&&this._syncItemsWithRef()}removeItem(e){this._unsortedItems.delete(e),this._dropListRef.isDragging()&&this._syncItemsWithRef()}getSortedItems(){return Array.from(this._unsortedItems).sort((e,i)=>e._dragRef.getVisibleElement().compareDocumentPosition(i._dragRef.getVisibleElement())&Node.DOCUMENT_POSITION_FOLLOWING?-1:1)}ngOnDestroy(){const e=n._dropLists.indexOf(this);e>-1&&n._dropLists.splice(e,1),this._group&&this._group._items.delete(this),this._unsortedItems.clear(),this._dropListRef.dispose(),this._destroyed.next(),this._destroyed.complete()}_setupInputSyncSubscription(e){this._dir&&this._dir.change.pipe(og(this._dir.value),Ya(this._destroyed)).subscribe(i=>e.withDirection(i)),e.beforeStarted.subscribe(()=>{const i=function(n){return Array.isArray(n)?n:[n]}(this.connectedTo).map(s=>"string"==typeof s?n._dropLists.find(o=>o.id===s):s);if(this._group&&this._group._items.forEach(s=>{-1===i.indexOf(s)&&i.push(s)}),!this._scrollableParentsResolved){const s=this._scrollDispatcher.getAncestorScrollContainers(this.element).map(r=>r.getElementRef().nativeElement);this._dropListRef.withScrollableParents(s),this._scrollableParentsResolved=!0}e.disabled=this.disabled,e.lockAxis=this.lockAxis,e.sortingDisabled=Us(this.sortingDisabled),e.autoScrollDisabled=Us(this.autoScrollDisabled),e.autoScrollStep=Sc(this.autoScrollStep,2),e.connectedTo(i.filter(s=>s&&s!==this).map(s=>s._dropListRef)).withOrientation(this.orientation)})}_handleEvents(e){e.beforeStarted.subscribe(()=>{this._syncItemsWithRef(),this._changeDetectorRef.markForCheck()}),e.entered.subscribe(i=>{this.entered.emit({container:this,item:i.item.data,currentIndex:i.currentIndex})}),e.exited.subscribe(i=>{this.exited.emit({container:this,item:i.item.data}),this._changeDetectorRef.markForCheck()}),e.sorted.subscribe(i=>{this.sorted.emit({previousIndex:i.previousIndex,currentIndex:i.currentIndex,container:this,item:i.item.data})}),e.dropped.subscribe(i=>{this.dropped.emit({previousIndex:i.previousIndex,currentIndex:i.currentIndex,previousContainer:i.previousContainer.data,container:i.container.data,item:i.item.data,isPointerOverContainer:i.isPointerOverContainer,distance:i.distance,dropPoint:i.dropPoint}),this._changeDetectorRef.markForCheck()})}_assignDefaults(e){const{lockAxis:i,draggingDisabled:s,sortingDisabled:r,listAutoScrollDisabled:o,listOrientation:a}=e;this.disabled=null!=s&&s,this.sortingDisabled=null!=r&&r,this.autoScrollDisabled=null!=o&&o,this.orientation=a||"vertical",i&&(this.lockAxis=i)}_syncItemsWithRef(){this._dropListRef.withItems(this.getSortedItems().map(e=>e._dragRef))}}return n.\u0275fac=function(e){return new(e||n)(V(Ot),V(TM),V(ly),V(vM),V(ug,8),V(MM,12),V(P3,8))},n.\u0275dir=ce({type:n,selectors:[["","cdkDropList",""],["cdk-drop-list"]],hostAttrs:[1,"cdk-drop-list"],hostVars:7,hostBindings:function(e,i){2&e&&(hr("id",i.id),Ql("cdk-drop-list-disabled",i.disabled)("cdk-drop-list-dragging",i._dropListRef.isDragging())("cdk-drop-list-receiving",i._dropListRef.isReceiving()))},inputs:{connectedTo:["cdkDropListConnectedTo","connectedTo"],id:"id",enterPredicate:["cdkDropListEnterPredicate","enterPredicate"],sortPredicate:["cdkDropListSortPredicate","sortPredicate"],disabled:["cdkDropListDisabled","disabled"],sortingDisabled:["cdkDropListSortingDisabled","sortingDisabled"],autoScrollDisabled:["cdkDropListAutoScrollDisabled","autoScrollDisabled"],orientation:["cdkDropListOrientation","orientation"],lockAxis:["cdkDropListLockAxis","lockAxis"],data:["cdkDropListData","data"],autoScrollStep:["cdkDropListAutoScrollStep","autoScrollStep"]},outputs:{dropped:"cdkDropListDropped",entered:"cdkDropListEntered",exited:"cdkDropListExited",sorted:"cdkDropListSorted"},exportAs:["cdkDropList"],features:[rt([{provide:MM,useValue:void 0},{provide:A3,useExisting:n}])]}),n._dropLists=[],n})();const IM=new pe("CdkDragHandle");let fZ=(()=>{class n{constructor(e,i){this.element=e,this._stateChanges=new Qe,this._disabled=!1,this._parentDrag=i}get disabled(){return this._disabled}set disabled(e){this._disabled=Us(e),this._stateChanges.next(this)}ngOnDestroy(){this._stateChanges.complete()}}return n.\u0275fac=function(e){return new(e||n)(V(Ot),V(xM,12))},n.\u0275dir=ce({type:n,selectors:[["","cdkDragHandle",""]],hostAttrs:[1,"cdk-drag-handle"],inputs:{disabled:["cdkDragHandleDisabled","disabled"]},features:[rt([{provide:IM,useExisting:n}])]}),n})();const T3=new pe("CdkDragPlaceholder"),x3=new pe("CdkDragPreview");let gZ=(()=>{class n{constructor(e,i,s,r,o,a,l,h,f,p,y){this.element=e,this.dropContainer=i,this._ngZone=r,this._viewContainerRef=o,this._dir=l,this._changeDetectorRef=f,this._selfHandle=p,this._parentDrag=y,this._destroyed=new Qe,this.started=new ut,this.released=new ut,this.ended=new ut,this.entered=new ut,this.exited=new ut,this.dropped=new ut,this.moved=new ze(_=>{const w=this._dragRef.moved.pipe(vs(T=>({source:this,pointerPosition:T.pointerPosition,event:T.event,delta:T.delta,distance:T.distance}))).subscribe(_);return()=>{w.unsubscribe()}}),this._dragRef=h.createDrag(e,{dragStartThreshold:a&&null!=a.dragStartThreshold?a.dragStartThreshold:5,pointerDirectionChangeThreshold:a&&null!=a.pointerDirectionChangeThreshold?a.pointerDirectionChangeThreshold:5,zIndex:null==a?void 0:a.zIndex}),this._dragRef.data=this,n._dragInstances.push(this),a&&this._assignDefaults(a),i&&(this._dragRef._withDropContainer(i._dropListRef),i.addItem(this)),this._syncInputs(this._dragRef),this._handleEvents(this._dragRef)}get disabled(){return this._disabled||this.dropContainer&&this.dropContainer.disabled}set disabled(e){this._disabled=Us(e),this._dragRef.disabled=this._disabled}getPlaceholderElement(){return this._dragRef.getPlaceholderElement()}getRootElement(){return this._dragRef.getRootElement()}reset(){this._dragRef.reset()}getFreeDragPosition(){return this._dragRef.getFreeDragPosition()}ngAfterViewInit(){this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.pipe(bM(1),Ya(this._destroyed)).subscribe(()=>{this._updateRootElement(),this._setupHandlesListener(),this.freeDragPosition&&this._dragRef.setFreeDragPosition(this.freeDragPosition)})})}ngOnChanges(e){const i=e.rootElementSelector,s=e.freeDragPosition;i&&!i.firstChange&&this._updateRootElement(),s&&!s.firstChange&&this.freeDragPosition&&this._dragRef.setFreeDragPosition(this.freeDragPosition)}ngOnDestroy(){this.dropContainer&&this.dropContainer.removeItem(this);const e=n._dragInstances.indexOf(this);e>-1&&n._dragInstances.splice(e,1),this._ngZone.runOutsideAngular(()=>{this._destroyed.next(),this._destroyed.complete(),this._dragRef.dispose()})}_updateRootElement(){const e=this.element.nativeElement,i=this.rootElementSelector?M3(e,this.rootElementSelector):e;this._dragRef.withRootElement(i||e)}_getBoundaryElement(){const e=this.boundaryElement;return e?"string"==typeof e?M3(this.element.nativeElement,e):Oi(e):null}_syncInputs(e){e.beforeStarted.subscribe(()=>{if(!e.isDragging()){const i=this._dir,s=this.dragStartDelay,r=this._placeholderTemplate?{template:this._placeholderTemplate.templateRef,context:this._placeholderTemplate.data,viewContainer:this._viewContainerRef}:null,o=this._previewTemplate?{template:this._previewTemplate.templateRef,context:this._previewTemplate.data,matchSize:this._previewTemplate.matchSize,viewContainer:this._viewContainerRef}:null;e.disabled=this.disabled,e.lockAxis=this.lockAxis,e.dragStartDelay="object"==typeof s&&s?s:Sc(s),e.constrainPosition=this.constrainPosition,e.previewClass=this.previewClass,e.withBoundaryElement(this._getBoundaryElement()).withPlaceholderTemplate(r).withPreviewTemplate(o).withPreviewContainer(this.previewContainer||"global"),i&&e.withDirection(i.value)}}),e.beforeStarted.pipe(bM(1)).subscribe(()=>{var i,s;if(this._parentDrag)return void e.withParent(this._parentDrag._dragRef);let r=this.element.nativeElement.parentElement;for(;r;){if(null===(i=r.classList)||void 0===i?void 0:i.contains("cdk-drag")){e.withParent((null===(s=n._dragInstances.find(o=>o.element.nativeElement===r))||void 0===s?void 0:s._dragRef)||null);break}r=r.parentElement}})}_handleEvents(e){e.started.subscribe(()=>{this.started.emit({source:this}),this._changeDetectorRef.markForCheck()}),e.released.subscribe(()=>{this.released.emit({source:this})}),e.ended.subscribe(i=>{this.ended.emit({source:this,distance:i.distance,dropPoint:i.dropPoint}),this._changeDetectorRef.markForCheck()}),e.entered.subscribe(i=>{this.entered.emit({container:i.container.data,item:this,currentIndex:i.currentIndex})}),e.exited.subscribe(i=>{this.exited.emit({container:i.container.data,item:this})}),e.dropped.subscribe(i=>{this.dropped.emit({previousIndex:i.previousIndex,currentIndex:i.currentIndex,previousContainer:i.previousContainer.data,container:i.container.data,isPointerOverContainer:i.isPointerOverContainer,item:this,distance:i.distance,dropPoint:i.dropPoint})})}_assignDefaults(e){const{lockAxis:i,dragStartDelay:s,constrainPosition:r,previewClass:o,boundaryElement:a,draggingDisabled:l,rootElementSelector:h,previewContainer:f}=e;this.disabled=null!=l&&l,this.dragStartDelay=s||0,i&&(this.lockAxis=i),r&&(this.constrainPosition=r),o&&(this.previewClass=o),a&&(this.boundaryElement=a),h&&(this.rootElementSelector=h),f&&(this.previewContainer=f)}_setupHandlesListener(){this._handles.changes.pipe(og(this._handles),function(n,t,e){return function(s){return s.lift(new tZ(n,undefined,undefined))}}(e=>{const i=e.filter(s=>s._parentDrag===this).map(s=>s.element);this._selfHandle&&this.rootElementSelector&&i.push(this.element),this._dragRef.withHandles(i)}),fM(e=>kr(...e.map(i=>i._stateChanges.pipe(og(i))))),Ya(this._destroyed)).subscribe(e=>{const i=this._dragRef,s=e.element.nativeElement;e.disabled?i.disableHandle(s):i.enableHandle(s)})}}return n.\u0275fac=function(e){return new(e||n)(V(Ot),V(A3,12),V(Je),V(Ue),V(Rs),V(P3,8),V(ug,8),V(TM),V(ly),V(IM,10),V(xM,12))},n.\u0275dir=ce({type:n,selectors:[["","cdkDrag",""]],contentQueries:function(e,i,s){if(1&e&&(my(s,x3,5),my(s,T3,5),my(s,IM,5)),2&e){let r;rc(r=oc())&&(i._previewTemplate=r.first),rc(r=oc())&&(i._placeholderTemplate=r.first),rc(r=oc())&&(i._handles=r)}},hostAttrs:[1,"cdk-drag"],hostVars:4,hostBindings:function(e,i){2&e&&Ql("cdk-drag-disabled",i.disabled)("cdk-drag-dragging",i._dragRef.isDragging())},inputs:{disabled:["cdkDragDisabled","disabled"],dragStartDelay:["cdkDragStartDelay","dragStartDelay"],lockAxis:["cdkDragLockAxis","lockAxis"],constrainPosition:["cdkDragConstrainPosition","constrainPosition"],previewClass:["cdkDragPreviewClass","previewClass"],boundaryElement:["cdkDragBoundary","boundaryElement"],rootElementSelector:["cdkDragRootElement","rootElementSelector"],previewContainer:["cdkDragPreviewContainer","previewContainer"],data:["cdkDragData","data"],freeDragPosition:["cdkDragFreeDragPosition","freeDragPosition"]},outputs:{started:"cdkDragStarted",released:"cdkDragReleased",ended:"cdkDragEnded",entered:"cdkDragEntered",exited:"cdkDragExited",dropped:"cdkDragDropped",moved:"cdkDragMoved"},exportAs:["cdkDrag"],features:[rt([{provide:xM,useExisting:n}]),kt]}),n._dragInstances=[],n})();function M3(n,t){let e=n.parentElement;for(;e;){if(e.matches?e.matches(t):e.msMatchesSelector(t))return e;e=e.parentElement}return null}let mZ=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=Xt({type:n}),n.\u0275inj=Gt({providers:[TM],imports:[_M]}),n})();class I3{}const Qo="*";function yZ(n,t){return{type:7,name:n,definitions:t,options:{}}}function _Z(n,t=null){return{type:4,styles:t,timings:n}}function O3(n,t=null){return{type:2,steps:n,options:t}}function Tb(n){return{type:6,styles:n,offset:null}}function N3(n,t,e){return{type:0,name:n,styles:t,options:e}}function bZ(n,t,e=null){return{type:1,expr:n,animation:t,options:e}}function R3(n){Promise.resolve(null).then(n)}class Hh{constructor(t=0,e=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=t+e}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}onStart(t){this._onStartFns.push(t)}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){R3(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(t=>t()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}reset(){this._started=!1}setPosition(t){this._position=this.totalTime?t*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(i=>i()),e.length=0}}class L3{constructor(t){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=t;let e=0,i=0,s=0;const r=this.players.length;0==r?R3(()=>this._onFinish()):this.players.forEach(o=>{o.onDone(()=>{++e==r&&this._onFinish()}),o.onDestroy(()=>{++i==r&&this._onDestroy()}),o.onStart(()=>{++s==r&&this._onStart()})}),this.totalTime=this.players.reduce((o,a)=>Math.max(o,a.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}init(){this.players.forEach(t=>t.init())}onStart(t){this._onStartFns.push(t)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(t=>t()),this._onStartFns=[])}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(t=>t.play())}pause(){this.players.forEach(t=>t.pause())}restart(){this.players.forEach(t=>t.restart())}finish(){this._onFinish(),this.players.forEach(t=>t.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(t=>t.destroy()),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}reset(){this.players.forEach(t=>t.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(t){const e=t*this.totalTime;this.players.forEach(i=>{const s=i.totalTime?Math.min(1,e/i.totalTime):1;i.setPosition(s)})}getPosition(){const t=this.players.reduce((e,i)=>null===e||i.totalTime>e.totalTime?i:e,null);return null!=t?t.getPosition():0}beforeDestroy(){this.players.forEach(t=>{t.beforeDestroy&&t.beforeDestroy()})}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(i=>i()),e.length=0}}class nt{constructor(t,e,i,s){this.logService=t,this.toyService=e,this.used=!1,this.triggers=0,this.parent=i,this.level=s}}class SZ extends nt{constructor(){super(...arguments),this.name="Balloon",this.tier=1}onBreak(t,e){let i=this.parent.furthestUpPet,s=this.level;i.increaseAttack(s),i.increaseHealth(s),this.logService.createLog({message:`${this.name} gave ${i.name} ${s} attack and ${s} health.`,type:"ability",player:this.parent,puma:e})}}class EZ extends nt{constructor(){super(...arguments),this.name="Tennis Ball",this.tier=1}startOfBattle(t,e){let i=wt(t,this.parent),s=i.getRandomPet(null,null,!0);this.toyService.snipePet(s,this.level,this.parent,this.name,!0,e),s=i.getRandomPet(null,null,!0),this.toyService.snipePet(s,this.level,this.parent,this.name,!0,e)}}class wZ extends nt{constructor(){super(...arguments),this.name="Radio",this.tier=2}onBreak(t,e){let i=this.parent.petArray;for(let s of i)!s.alive||(s.increaseHealth(this.level),this.logService.createLog({message:`${this.name} gave ${s.name} ${this.level} health.`,type:"ability",player:this.parent,puma:e}))}}class CZ extends nt{constructor(){super(...arguments),this.name="Garlic Press",this.tier=2}startOfBattle(t,e){for(let i=0;i<this.level;i++)for(let s of this.parent.petArray)if(!((null==s?void 0:s.equipment)instanceof _h)){s.givePetEquipment(new _h),this.logService.createLog({message:`${this.name} gave ${s.name} Garlic.`,type:"ability",player:this.parent,puma:e});break}}}class kZ extends nt{constructor(){super(...arguments),this.name="Toilet Paper",this.tier=3}startOfBattle(t,e){let s=wt(t,this.parent).petArray.slice(0,this.level);for(let r of s)r.givePetEquipment(new jo),this.logService.createLog({message:`${this.name} gave ${r.name} Weak.`,type:"ability",player:this.parent,puma:e})}}class DZ extends nt{constructor(){super(...arguments),this.name="Oven Mitts",this.tier=3}onBreak(t){}}class PZ extends nt{constructor(){super(...arguments),this.name="Melon Helmet",this.tier=4}onBreak(t,e){let i=this.parent.petArray.filter(s=>s.alive).slice(0,this.level);for(let s of i)s.givePetEquipment(new Ur),this.logService.createLog({message:`${this.name} gave ${s.name} Melon.`,type:"ability",player:this.parent,puma:e})}}class AZ extends nt{constructor(){super(...arguments),this.name="Foam Sword",this.tier=4}startOfBattle(t,e){let i=wt(t,this.parent);for(let s=0;s<this.level;s++){let r=i.getLowestHealthPet();this.toyService.snipePet(r.pet,6,this.parent,this.name,r.random,e)}}}class TZ extends nt{constructor(){super(...arguments),this.name="Toy Gun",this.tier=4}startOfBattle(t,e){let i=wt(t,this.parent);for(let s=0;s<this.level;s++){let r=i.getLastPet();this.toyService.snipePet(r,6,this.parent,this.name,!1,e)}}}class xZ extends nt{constructor(){super(...arguments),this.name="Flashlight",this.tier=5}onBreak(t,e){let i=6*this.level,s=this.parent.furthestUpPet;s.increaseAttack(i),s.increaseHealth(i),this.logService.createLog({message:`${this.name} gave ${s.name} ${i} attack and ${i} health.`,type:"ability",player:this.parent,puma:e})}}class MZ extends nt{constructor(){super(...arguments),this.name="Strinky Sock",this.tier=5}startOfBattle(t,e){let i=wt(t,this.parent);for(let s=0;s<this.level;s++){let r=i.getHighestHealthPet(),o=r.pet,a=.4,l=Math.max(1,Math.floor(o.health*(1-a)));o.health=l,this.logService.createLog({message:`${this.name} reduced ${o.name} health by ${100*a}% (${l})`,type:"ability",player:this.parent,puma:e,randomEvent:r.random})}}}class IZ extends nt{constructor(){super(...arguments),this.name="Television",this.tier=6}onBreak(t,e){let i=2*this.level;for(let s of this.parent.petArray)!s.alive||(s.increaseAttack(i),s.increaseHealth(i),this.logService.createLog({message:`${this.name} gave ${s.name} ${i} attack and ${i} health.`,type:"ability",player:this.parent,puma:e}))}}class OZ extends nt{constructor(){super(...arguments),this.name="Peanut Jar",this.tier=6}startOfBattle(t,e){for(let i=0;i<this.level;i++)for(let s of this.parent.petArray)if(!((null==s?void 0:s.equipment)instanceof Ha)){s.givePetEquipment(new Ha),this.logService.createLog({message:`${this.name} gave ${s.name} Peanut.`,type:"ability",player:this.parent,puma:e});break}}}class NZ extends nt{constructor(){super(...arguments),this.name="Air Palm Tree",this.tier=6}startOfBattle(t,e){for(let i=0;i<this.level;i++)for(let s of this.parent.petArray)if(!((null==s?void 0:s.equipment)instanceof jr)){s.givePetEquipment(new jr),this.logService.createLog({message:`${this.name} gave ${s.name} Coconut.`,type:"ability",player:this.parent,puma:e});break}}}class RZ extends nt{constructor(t,e,i,s,r){super(t,e,i,s),this.logService=t,this.toyService=e,this.equipmentService=r,this.name="Pandoras Box",this.tier=6}startOfBattle(t,e){let i=this.equipmentService.getInstanceOfAllEquipment();i.set("Cold",new UB),i.set("Crisp",new gh),i.set("Exposed",new a_),i.set("Ink",new cA),i.set("Weak",new jo),i.set("Dazed",new ek);let s=[...t.player.petArray,...t.opponet.petArray],r=Array.from(i.values());for(let o of s){let a=r[Math.floor(Math.random()*r.length)];this.logService.createLog({message:`${this.name} gave ${o.name} ${a.name}`,type:"ability",player:this.parent,randomEvent:!0}),o.givePetEquipment(a)}}}class LZ extends nt{constructor(){super(...arguments),this.name="Witch Broom",this.tier=1}startOfBattle(t,e){let i=wt(t,this.parent),s=i.petArray.filter(o=>null!=o.equipment),r=[];for(let o=0;o<this.level;o++){let a=i.getRandomPet(s,null,!0);if(null==a)break;s.push(a),r.push(a)}for(let o of r)this.logService.createLog({message:`${this.name} gave ${o.name} Weak.`,type:"ability",player:this.parent,puma:e,randomEvent:i.petArray.length-s.length>0}),o.givePetEquipment(new jo)}}class BZ extends nt{constructor(){super(...arguments),this.name="Magic Wand",this.tier=1}startOfBattle(t,e){let i=this.parent.petArray.filter(o=>o.level<3),s=null,r=!1;0==i.length?s=this.parent.getRandomPet([],!0):(i=(0,ge.shuffle)(i),s=i[0],r=i.length>1),null!=s&&(this.logService.createLog({message:`${this.name} gave ${s.name} ${this.level} exp.`,type:"ability",player:this.parent,puma:e,randomEvent:r}),s.increaseExp(this.level))}}class VZ extends nt{constructor(){super(...arguments),this.name="Crystal Ball",this.tier=1}startOfBattle(t,e){let i=this.parent.petArray[0];null!=i&&(this.logService.createLog({message:`${this.name} gave ${i.name} ${this.level} mana.`,type:"ability",player:this.parent,puma:e,randomEvent:!1}),i.increaseMana(this.level))}}class $Z extends nt{constructor(){super(...arguments),this.name="Treasure Map",this.tier=3}}class FZ extends nt{constructor(){super(...arguments),this.name="Treasure Chest",this.tier=3}}class HZ extends nt{constructor(t,e,i,s,r){super(t,e,s,r),this.logService=t,this.toyService=e,this.abilityService=i,this.name="Evil Book",this.tier=5}emptyFromSpace(t,e,i,s){let r={attack:6*i,health:6*i},o=1==i?0:2==i?2:5;this.abilityService.setSpawnEvent({callback:()=>{let a=new z_(this.logService,this.abilityService,this.parent,r.health,r.attack,0,o);this.logService.createLog({message:`${this.name} spawned Great One (${r.attack}/${r.health}).`,type:"ability",player:this.parent,puma:e}),this.parent.summonPet(a,0)&&this.abilityService.triggerSummonedEvents(a)},priority:s}),this.used=!0}}class qZ extends nt{constructor(){super(...arguments),this.name="Magic Carpet",this.tier=2}friendSummoned(t,e,i,s){this.logService.createLog({message:`${this.name} gave ${e.name} ${s} attack.`,type:"ability",player:this.parent,puma:i}),e.increaseAttack(s)}}class GZ extends nt{constructor(){super(...arguments),this.name="Magic Lamp",this.tier=2}friendlyLevelUp(t,e,i,s){this.logService.createLog({message:`${this.name} gave ${e.name} ${s} attack and ${s} health.`,type:"ability",player:this.parent,puma:i}),e.increaseAttack(+s),e.increaseHealth(+s)}}class UZ extends nt{constructor(){super(...arguments),this.name="Candleabra",this.tier=4}}class jZ extends nt{constructor(){super(...arguments),this.name="Glass Shoes",this.tier=4}friendFaints(t,e,i,s){if(i||this.triggers++,this.triggers%3!=0)return;let r=e.parent.petArray.filter(o=>o.alive);for(let o of r)this.logService.createLog({message:`${this.name} gave ${o.name} ${s} attack and ${s} health.`,type:"ability",player:this.parent,puma:i}),o.increaseAttack(+s),o.increaseHealth(+s)}}class WZ extends nt{constructor(){super(...arguments),this.name="Golden Harp",this.tier=4}}class zZ extends nt{constructor(){super(...arguments),this.name="Lock of Hair",this.tier=4}}class KZ extends nt{constructor(){super(...arguments),this.name="Magic Mirror",this.tier=4}}class YZ extends nt{constructor(){super(...arguments),this.name="Pickaxe",this.tier=4}}class QZ extends nt{constructor(){super(...arguments),this.name="Red Cape",this.tier=4}friendJumped(t,e,i,s){let r=e.parent.petArray.filter(o=>o.alive);for(let o of r)this.logService.createLog({message:`${this.name} gave ${o.name} ${s} attack and ${s} health.`,type:"ability",player:this.parent,puma:i}),o.increaseAttack(+s),o.increaseHealth(+s)}}class JZ extends nt{constructor(){super(...arguments),this.name="Rosebud",this.tier=4}friendlyLevelUp(t,e,i,s){if(i||this.triggers++,this.triggers%2!=0)return;let r=e.parent.petArray.filter(o=>o.alive);for(let o of r)this.logService.createLog({message:`${this.name} gave ${o.name} ${s} attack and ${s} health.`,type:"ability",player:this.parent,puma:i}),o.increaseAttack(+s),o.increaseHealth(+s)}}class ZZ extends nt{constructor(){super(...arguments),this.name="Excalibur",this.tier=6}}class XZ extends nt{constructor(){super(...arguments),this.name="Holy Grail",this.tier=6}}class eX extends nt{constructor(t,e,i,s,r){super(t,e,s,r),this.logService=t,this.toyService=e,this.abilityService=i,this.name="Nutcracker",this.tier=4}friendFaints(t,e,i,s){this.used||e.parent.petArray.filter(o=>o.alive).length>0||(this.abilityService.setSpawnEvent({callback:()=>{let o=6*this.level,a=new F_(this.logService,this.abilityService,this.parent,o,o,null,0);this.logService.createLog({message:`${this.name} spawned Salmon of Knowledge (${o}/${o})`,type:"ability",player:this.parent}),this.parent.summonPet(a,0)&&this.abilityService.triggerSummonedEvents(a)},priority:100}),this.used=!0)}}class tX extends S{constructor(t,e,i,s,r,o,a,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Giant Eyes Dog",this.tier=1,this.pack="Unicorn",this.hidden=!0,this.health=6,this.attack=6,this.initPet(a,s,r,o,l)}}class iX extends nt{constructor(t,e,i,s,r){super(t,e,s,r),this.logService=t,this.toyService=e,this.abilityService=i,this.name="Tinder Box",this.tier=4}emptyFromSpace(t,e,i,s){let r={attack:6*i,health:6*i},o=1==i?0:2==i?2:5;this.abilityService.setSpawnEvent({callback:()=>{let a=new tX(this.logService,this.abilityService,this.parent,r.health,r.attack,0,o);this.logService.createLog({message:`${this.name} spawned Giant Eyes Dog (${r.attack}/${r.health}).`,type:"ability",player:this.parent,puma:e}),this.parent.summonPet(a,0)&&this.abilityService.triggerSummonedEvents(a)},priority:s}),this.used=!0}}let nX=(()=>{class n{constructor(e,i,s,r){this.logService=e,this.abilityService=i,this.gameService=s,this.equipmentService=r,this.toys=new Map,this.startOfBattleEvents=[],this.emptyFrontSpaceEvents=[],this.friendSummonedEvents=[],this.setToys()}setToys(){this.toys.set(1,["Ballon","Tennis Ball"]),this.toys.set(2,["Radio","Garlic Press"]),this.toys.set(3,["Toilet Paper","Oven Mitts"]),this.toys.set(4,["Melon Helmet","Foam Sword","Toy Gun"]),this.toys.set(5,["Flashlight","Stinky Sock"]),this.toys.set(6,["Television","Peanut Jar","Air Palm Tree"]),this.toys.set(7,["Witch Broom","Pandoras Box","Magic Wand","Crystal Ball","Treasure Map","Treasure Chest","Evil Book","Magic Carpet","Magic Lamp","Nutcracker","Tinder Box","Candleabra","Glass Shoes","Golden Harp","Lock of Hair","Magic Mirror","Pickaxe","Red Cape","Rose Bud","Excalibur","Holy Grail"])}createToy(e,i,s=1){switch(e){case"Ballon":return new SZ(this.logService,this,i,s);case"Tennis Ball":return new EZ(this.logService,this,i,s);case"Radio":return new wZ(this.logService,this,i,s);case"Garlic Press":return new CZ(this.logService,this,i,s);case"Toilet Paper":return new kZ(this.logService,this,i,s);case"Oven Mitts":return new DZ(this.logService,this,i,s);case"Melon Helmet":return new PZ(this.logService,this,i,s);case"Foam Sword":return new AZ(this.logService,this,i,s);case"Toy Gun":return new TZ(this.logService,this,i,s);case"Flashlight":return new xZ(this.logService,this,i,s);case"Stinky Sock":return new MZ(this.logService,this,i,s);case"Television":return new IZ(this.logService,this,i,s);case"Peanut Jar":return new OZ(this.logService,this,i,s);case"Air Palm Tree":return new NZ(this.logService,this,i,s);case"Pandoras Box":return new RZ(this.logService,this,i,s,this.equipmentService);case"Witch Broom":return new LZ(this.logService,this,i,s);case"Magic Wand":return new BZ(this.logService,this,i,s);case"Crystal Ball":return new VZ(this.logService,this,i,s);case"Treasure Map":return new $Z(this.logService,this,i,s);case"Treasure Chest":return new FZ(this.logService,this,i,s);case"Evil Book":return new HZ(this.logService,this,this.abilityService,i,s);case"Magic Carpet":return new qZ(this.logService,this,i,s);case"Magic Lamp":return new GZ(this.logService,this,i,s);case"Nutcracker":return new eX(this.logService,this,this.abilityService,i,s);case"Tinder Box":return new iX(this.logService,this,this.abilityService,i,s);case"Candleabra":return new UZ(this.logService,this,i,s);case"Glass Shoes":return new jZ(this.logService,this,i,s);case"Golden Harp":return new WZ(this.logService,this,i,s);case"Lock of Hair":return new zZ(this.logService,this,i,s);case"Magic Mirror":return new KZ(this.logService,this,i,s);case"Pickaxe":return new YZ(this.logService,this,i,s);case"Red Cape":return new QZ(this.logService,this,i,s);case"Rose Bud":return new JZ(this.logService,this,i,s);case"Excalibur":return new ZZ(this.logService,this,i,s);case"Holy Grail":return new XZ(this.logService,this,i,s)}}snipePet(e,i,s,r,o=!1,a=!1){let l=this.calculateDamgae(e,i),h=l.defenseEquipment,f=l.damage;e.health-=f;let p=`${r} sniped ${e.name} for ${f}.`;null!=h&&(e.useDefenseEquipment(),p+=` (${h.name} -${h.power})`),a&&(p+=" (Puma)"),this.logService.createLog({message:p,type:"attack",randomEvent:o,player:s}),null!=e.hurt&&this.abilityService.setHurtEvent({callback:e.hurt.bind(e),priority:e.attack,player:e.parent})}calculateDamgae(e,i){var s,r,o;let a="defense"==(null===(s=e.equipment)||void 0===s?void 0:s.equipmentClass)||"shield"==(null===(r=e.equipment)||void 0===r?void 0:r.equipmentClass)?e.equipment:null,l=null!==(o=null==a?void 0:a.power)&&void 0!==o?o:0;return{defenseEquipment:a,damage:Math.max("shield"==(null==a?void 0:a.equipmentClass)?0:1,i-l)}}setStartOfBattleEvent(e){this.startOfBattleEvents.push(e)}resetStartOfBattleEvents(){this.startOfBattleEvents=[]}executeStartOfBattleEvents(){this.startOfBattleEvents=(0,ge.shuffle)(this.startOfBattleEvents),this.startOfBattleEvents.sort((e,i)=>e.priority>i.priority?-1:e.priority<i.priority?1:0);for(let e of this.startOfBattleEvents)e.callback(this.gameService.gameApi);this.resetStartOfBattleEvents()}}return n.\u0275fac=function(e){return new(e||n)($(K_),$(Y_),$(Sh),$(J_))},n.\u0275prov=le({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),sX=(()=>{class n{constructor(e){this.gameService=e,this.toyPetEvents=[],this.nonToyPetEvents=[]}initStartOfBattleEvents(){this.gameApi=this.gameService.gameApi;for(let e of this.gameApi.player.petArray)if(null!=e.startOfBattle){let i=this.toyPetEvents;e.toyPet||(i=this.nonToyPetEvents),i.push({callback:e.startOfBattle.bind(e),priority:e.attack,player:this.gameApi.player})}for(let e of this.gameApi.opponet.petArray)if(null!=e.startOfBattle){let i=this.toyPetEvents;e.toyPet||(i=this.nonToyPetEvents),i.push({callback:e.startOfBattle.bind(e),priority:e.attack,player:this.gameApi.opponet})}}resetToyPetEvents(){this.toyPetEvents=[]}resetNonToyPetEvents(){this.nonToyPetEvents=[]}executeToyPetEvents(){this.toyPetEvents=(0,ge.shuffle)(this.toyPetEvents),this.toyPetEvents.sort((e,i)=>e.priority>i.priority?-1:e.priority<i.priority?1:0);for(let e of this.toyPetEvents)e.callback(this.gameApi);this.resetToyPetEvents()}executeNonToyPetEvents(){this.nonToyPetEvents=(0,ge.shuffle)(this.nonToyPetEvents),this.nonToyPetEvents.sort((e,i)=>e.priority>i.priority?-1:e.priority<i.priority?1:0);for(let e of this.nonToyPetEvents)e.callback(this.gameApi);this.resetNonToyPetEvents()}}return n.\u0275fac=function(e){return new(e||n)($(Sh))},n.\u0275prov=le({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),B3=(()=>{class n{constructor(){this.key="sapData"}getStorage(){return window.localStorage.getItem(this.key),window.localStorage.getItem(this.key)}setFormStorage(e){let i=e.value;for(let s of i.playerPets)null!=s.equipment&&(s.equipment={name:s.equipment.name});for(let s of i.opponentPets)null!=s.equipment&&(s.equipment={name:s.equipment.name});this.setStorage(i)}setStorage(e){"object"==typeof e&&(e=JSON.stringify(e)),window.localStorage.setItem(this.key,e)}clearStorage(){window.localStorage.removeItem(this.key)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=le({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),rX=(()=>{class n{constructor(){}ngOnInit(){}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=Xn({type:n,selectors:[["app-patch-notes"]],decls:328,vars:0,template:function(e,i){1&e&&(m(0,"h2"),k(1,"v0.6.0"),v(),m(2,"ul"),m(3,"li"),k(4,"Unicorn Pack \u{1f389}"),v(),m(5,"li"),k(6,"Updated Info/Guide"),v(),v(),m(7,"h2"),k(8,"v0.5.27"),v(),m(9,"ul"),m(10,"li"),k(11,"Fixed bug with Camel's ability logs showing incorrect values."),v(),v(),m(12,"h2"),k(13,"v0.5.26"),v(),m(14,"ul"),m(15,"li"),k(16,"Fixed bugs with drag and drop. (Thanks Agentcore)"),v(),v(),m(17,"h2"),k(18,"v0.5.25"),v(),m(19,"ul"),m(20,"li"),k(21,"Fixed some import bugs."),v(),v(),m(22,"h2"),k(23,"v0.5.24"),v(),m(24,"ul"),m(25,"li"),k(26,"Fixed bug with Custom Pack dialog not opening."),v(),v(),m(27,"h2"),k(28,"v0.5.23"),v(),m(29,"ul"),m(30,"li"),k(31,"Fixed bug with importing empty pet slots."),v(),m(32,"li"),k(33,"Fixed bug with pets that Tapir summon being disjointed from its' parent player. (Thanks goose)"),v(),v(),m(34,"h2"),k(35,"v0.5.22"),v(),m(36,"ul"),m(37,"li"),k(38,"Fixed Pigeon base stats. (Thanks goose)"),v(),m(39,"li"),k(40,"Fixed Crab copying highest health pets stats even after fainting from other start of battle abilities. (Thanks Phoenix)"),v(),v(),m(41,"h2"),k(42,"v0.5.21"),v(),m(43,"ul"),m(44,"li"),k(45,"Fixed a few Panther/equipment interactions."),v(),m(46,"ul"),m(47,"li"),k(48,"Tomato (Thanks jer.re), Salt, Cheese, Durian, Egg."),v(),v(),v(),m(49,"h2"),k(50,"v0.5.20"),v(),m(51,"ul"),m(52,"li"),k(53,"Added Komodo Shuffle option."),v(),v(),m(54,"h2"),k(55,"v0.5.19"),v(),m(56,"ul"),m(57,"li"),k(58,"Removed Beluga Whale from Orca spawn pool."),v(),v(),m(59,"h2"),k(60,"v0.5.18"),v(),m(61,"ul"),m(62,"li"),k(63,"Fixed bug with Friend Ahead Attacks ability pets not triggering when fainting. (Thanks tibby)"),v(),v(),m(64,"h2"),k(65,"v0.5.17"),v(),m(66,"ul"),m(67,"li"),k(68,"Fixed bug that required running simulation on export."),v(),m(69,"li"),k(70,"Fixed bug with ailment overwritting faint food while pet faints breaking simulation."),v(),m(71,"li"),k(72,'Added "Token Pets" option.'),v(),m(73,"li"),k(74,"Added confirmation window to Reset and Randomize buttons."),v(),v(),m(75,"h2"),k(76,"v0.5.16"),v(),m(77,"ul"),m(78,"li"),k(79,"Fixed bug with Beluga Whale pet not spawning. (Thanks goose)"),v(),m(80,"li"),k(81,"Fixed bug with Chocolate Cake not triggering Knocked Out abilities."),v(),m(82,"li"),k(83,"Fixed bug with Cherry/Fig triggering multiple times after running multiple simulations."),v(),v(),m(84,"h2"),k(85,"v0.5.15"),v(),m(86,"ul"),m(87,"li"),k(88,"Updated to SAP Version 0.31.9-145 BETA"),v(),m(89,"ul"),m(90,"li"),k(91,"Added Pigeon, Hare."),v(),m(92,"li"),k(93,"Changed Cricket, Mouse Nest, Robin, Tabby Cat, Dog, Dolphin, Flying Squirrel, Hatching Chick, Owl, Ox, Raccoon, Cockatoo, Mosasaurus, Tyrannosaurus."),v(),m(94,"li"),k(95,"Added Fig."),v(),m(96,"li"),k(97,"Changed Cherry."),v(),v(),v(),m(98,"h2"),k(99,"v0.5.14"),v(),m(100,"ul"),m(101,"li"),k(102,"Bug Report System."),v(),v(),m(103,"h2"),k(104,"v0.5.13"),v(),m(105,"ul"),m(106,"li"),k(107,"Fixed bug with Opponent Empty Front Space events not triggering. (Thanks jer.re)"),v(),v(),m(108,"h2"),k(109,"v0.5.12"),v(),m(110,"ul"),m(111,"li"),k(112,"Pug is tier 3."),v(),m(113,"li"),k(114,"Siberian Husky spelling fix."),v(),m(115,"li"),k(116,"Fixed Kiwi not availble on Star pack. (Thanks Grounded)"),v(),v(),m(117,"h2"),k(118,"v0.5.11"),v(),m(119,"ul"),m(120,"li"),k(121,"Opossum is spelled correctly."),v(),v(),m(122,"h2"),k(123,"v0.5.10"),v(),m(124,"ul"),m(125,"li"),k(126,"Buff pets do not target 50/50 friends."),v(),v(),m(127,"h2"),k(128,"v0.5.9"),v(),m(129,"ul"),m(130,"li"),k(131,"Fixed Rhino base stats."),v(),m(132,"li"),k(133,"Fixed bug with Tiger behind Hurt pet. (Thanks Freetz)."),v(),m(134,"li"),k(135,"Reset button resets Equipment."),v(),m(136,"li"),k(137,"Fixed bugs with export/import."),v(),v(),m(138,"h2"),k(139,"v0.5.8"),v(),m(140,"ul"),m(141,"li"),k(142,"Fixed bug where Zombie Flies sometimes would spawn in the wrong position. (Thanks Grounded)"),v(),v(),m(143,"h2"),k(144,"v0.5.7"),v(),m(145,"ul"),m(146,"li"),k(147,"Added Pineapple."),v(),v(),m(148,"h2"),k(149,"v0.5.6"),v(),m(150,"ul"),m(151,"li"),k(152,"Fixed bug with Turtle always behaving as a level 1."),v(),v(),m(153,"h2"),k(154,"v0.5.5"),v(),m(155,"ul"),m(156,"li"),k(157,"Fixed bug with Pancakes pet getting all of the stats. (Thanks Grounded)"),v(),v(),m(158,"h2"),k(159,"v0.5.4"),v(),m(160,"ul"),m(161,"li"),k(162,"Calculator is (more) usable on mobile devices."),v(),v(),m(163,"h2"),k(164,"v0.5.3"),v(),m(165,"ul"),m(166,"li"),k(167,"Added Reset buttons for the Player and Opponent."),v(),m(168,"li"),k(169,"Export/Import Calculator."),v(),m(170,"li"),k(171,'Added "Old Stork" mode.'),v(),m(172,"li"),k(173,"Fixed spawn bug sometimes duplicating pets when up against Royal Flycatcher. (Thanks Freetz)"),v(),m(174,"li"),k(175,"Fixed bug with pets having Friend Summoned abilities hitting themselves when summoned with a mushroom."),v(),m(176,"li"),k(177,"Fixed bug with Pteradon's ability triggering if it also faints."),v(),v(),m(178,"h2"),k(179,"v0.5.2"),v(),m(180,"ul"),m(181,"li"),k(182,"Import Custom Packs"),v(),m(183,"li"),k(184,"Custom Pack editor improvments."),v(),v(),m(185,"h2"),k(186,"v0.5.1"),v(),m(187,"ul"),m(188,"li"),k(189,"Added remaining custom pack pets."),v(),m(190,"ul"),m(191,"li"),k(192,"Frilled Dragon, Wombat, Aardvark, Bear, Emperor Tamerain, Procupine, Wasp Dragonfly, Lynx, Seagull, Alpaca, Hyena, Moose, Lioness, Tapir, Walrus, White Tiger"),v(),v(),m(193,"li"),k(194,"Added remaining custom pack food."),v(),m(195,"ul"),m(196,"li"),k(197,"Blueberry, Donut"),v(),v(),m(198,"li"),k(199,"Fixed bug with blobfish showing as tier 3. (Thanks Freetz)"),v(),m(200,"li"),k(201,"Fixed bug with eggplant triggering multiple times when running the simulation multiple times. (Thanks Freetz)"),v(),m(202,"li"),k(203,"Fixed bug with mosquito able to target the same pet."),v(),v(),m(204,"h2"),k(205,"v0.5.0"),v(),m(206,"ul"),m(207,"li"),k(208,"Added custom packs!"),v(),m(209,"li"),k(210,"Added Jerboa"),v(),m(211,"li"),k(212,"Added Fortune Cookie"),v(),v(),m(213,"h2"),k(214,"v0.4.16"),v(),m(215,"ul"),m(216,"li"),k(217,"Updated to SAP Version 0.30.6-138 BETA"),v(),m(218,"ul"),m(219,"li"),k(220," Updated stats/abilities of these pets: Whale, Frog, Iguana, Marmoset, Mouse, Koala, Panda, Shrimp, Tabby Cat, Camel, Eel, Giraffe, Musk Ox, Owl, Ox, Starfish, Anteater, Chameleon, Egyptian Vulture, Manta Ray, Platypus, Cockatoo, Crane, Monkey, Shark, Piranha, Sabertooth Tiger. "),v(),m(221,"li"),k(222," Added Durian. "),v(),v(),v(),m(223,"h2"),k(224,"v0.4.15"),v(),m(225,"ul"),m(226,"li"),k(227,"Fixed bug with Eggplant triggering too many times. (Thanks Freetz)"),v(),v(),m(228,"h2"),k(229,"v0.4.14"),v(),m(230,"ul"),m(231,"li"),k(232,"Fixed rounding error with Skunk ability/Stinky Sock."),v(),m(233,"li"),k(234,"Fixed faint pets ability being the level of the whale when swallowed. (Thanks kutarba)"),v(),v(),m(235,"h2"),k(236,"v0.4.13"),v(),m(237,"ul"),m(238,"li"),k(239,"Fixed Pteradon"),v(),v(),m(240,"h2"),k(241,"v0.4.12"),v(),m(242,"ul"),m(243,"li"),k(244,"Updated to SAP Version 0.29.6-135 BETA"),v(),m(245,"ul"),m(246,"li"),k(247,"Updated stats/abilities of these pets: Ladybug, Atlantic Puffin, Guinea Pig, Hedgehog, Jellyfish, Pug, Salamander, Toucan, Blobfish, Clownfish, Flea, Flying Fish, Mole, Chameleon, Eel, Hippo, Poison Dart Frog, Whale, Fire Ant, Fox, Turkey, Lionfish, Pteradon, Tyrannosaurus. "),v(),v(),v(),m(248,"h2"),k(249,"v0.4.11"),v(),m(250,"ul"),m(251,"li"),k(252,"Fixed bug with Tiger not triggering Leopard when there are few enemies. (Thanks /u/MHolmesSC)"),v(),m(253,"li"),k(254,"Fixed bug with Ant over buffing units on faint. (Thanks /u/MHolmesSC)"),v(),m(255,"li"),k(256,"Fixed bug with Spider behaving odd. (Thanks /u/-RARO-)"),v(),k(257,"ng\n"),v(),m(258,"h2"),k(259,"v0.4.10"),v(),m(260,"ul"),m(261,"li"),k(262,"Fixed bug with Fly not spawning Zombie Fly from Start of Battle abilities fainting pets. (Thanks /u/Danielmac757)"),v(),v(),m(263,"h2"),k(264,"v0.4.9"),v(),m(265,"ul"),m(266,"li"),k(267,"Info/Guide modal."),v(),v(),m(268,"h2"),k(269,"v0.4.8"),v(),m(270,"ul"),m(271,"li"),k(272,"Fixed a bug with Fly attempting to spawn Zombie Fly when there is no room."),v(),v(),m(273,"h2"),k(274,"v0.4.7"),v(),m(275,"ul"),m(276,"li"),k(277,"Updated to SAP Version 0.28.20-130 BETA"),v(),m(278,"ul"),m(279,"li"),k(280,"Changed pets so they all move forward after start of battle abilities."),v(),v(),v(),m(281,"h2"),k(282,"v0.4.6"),v(),m(283,"ul"),m(284,"li"),k(285,"Fixed a bug with mushroom breaking the simulation by breaking the cache process. (Thanks BeastiaVenator)"),v(),m(286,"li"),k(287,"Fixed a bug with loading equipment from the browser cache."),v(),v(),m(288,"h2"),k(289,"v0.4.5"),v(),m(290,"ul"),m(291,"li"),k(292,"Drag and Drop!"),v(),v(),m(293,"h2"),k(294,"v0.4.4"),v(),m(295,"ul"),m(296,"li"),k(297,"Fixed a handful of Tiger bugs causing infinite loops."),v(),m(298,"li"),k(299,"Fixed a bug with typing select options."),v(),v(),m(300,"h2"),k(301,"v0.4.3"),v(),m(302,"ul"),m(303,"li"),k(304,"Duplicate pet option hotfix."),v(),v(),m(305,"h2"),k(306,"v0.4.2"),v(),m(307,"ul"),m(308,"li"),k(309,"Calculator state saves on 'Simulate'."),v(),m(310,"ul"),m(311,"li"),k(312,"This is stored in the browser cache. You can clear the cache by clicking on the link on the bottom of this modal."),v(),v(),m(313,"li"),k(314,"Fixed bugs with Angler mode toggling."),v(),m(315,"li"),k(316,"Zoom In/Out feature."),v(),m(317,"li"),k(318,"Fixed bug with Fly triggering twice instead of three times. (Thanks nob)"),v(),m(319,"li"),k(320,"Fixed bug with some snipe pets having no targets breaking simulation."),v(),v(),m(321,"h2"),k(322,"v0.4.1"),v(),m(323,"ul"),m(324,"li"),k(325,"Fixed a bug where Shark would gain attack/health on its own death. (Thanks mumf)"),v(),m(326,"li"),k(327,"Fixed a bug where attack bonus food would affect snipes. (Thanks Tangl)"),v(),v())},styles:[""]}),n})();const oX=JSON.parse('{"tier1":[{"name":"Ant","tier":"1","id":"0"},{"name":"Beaver","tier":"1","id":"3"},{"name":"Bee","tier":"1","id":"4"},{"name":"Beetle","tier":"1","id":"88"},{"name":"Bluebird","tier":"1","id":"89"},{"name":"Bulldog","tier":"1","id":"189"},{"name":"Bus","tier":"1","id":"85"},{"name":"Butterfly","tier":"1","id":"9"},{"name":"Chick","tier":"1","id":"13"},{"name":"Chinchilla","tier":"1","id":"161"},{"name":"Chipmunk","tier":"1","id":"184"},{"name":"Cockroach","tier":"1","id":"18"},{"name":"Cone Snail","tier":"1","id":"272"},{"name":"Cricket","tier":"1","id":"17"},{"name":"Dirty Rat","tier":"1","id":"58"},{"name":"Duck","tier":"1","id":"26"},{"name":"Duckling","tier":"1","id":"113"},{"name":"Ferret","tier":"1","id":"172"},{"name":"Fish","tier":"1","id":"32"},{"name":"Frilled Dragon","tier":"1","id":"198"},{"name":"Frog","tier":"1","id":"139"},{"name":"Gecko","tier":"1","id":"229"},{"name":"Golden Retriever","tier":"1","id":"188"},{"name":"Goose","tier":"1","id":"232"},{"name":"Groundhog","tier":"1","id":"233"},{"name":"Guinea Piglet","tier":"1","id":"179"},{"name":"Horse","tier":"1","id":"39"},{"name":"Hummingbird","tier":"1","id":"138"},{"name":"Kiwi","tier":"1","id":"131"},{"name":"Ladybug","tier":"1","id":"92"},{"name":"Lizard Tail","tier":"1","id":"282"},{"name":"Loyal Chinchilla","tier":"1","id":"183"},{"name":"Magpie","tier":"1","id":"239"},{"name":"Marmoset","tier":"1","id":"204"},{"name":"Mosquito","tier":"1","id":"47"},{"name":"Moth","tier":"1","id":"141"},{"name":"Mouse","tier":"1","id":"48"},{"name":"Nest","tier":"1","id":"508"},{"name":"Opossum","tier":"1","id":"187"},{"name":"Otter","tier":"1","id":"51"},{"name":"Pied Tamarin","tier":"1","id":"251"},{"name":"Pig","tier":"1","id":"59"},{"name":"Pigeon","tier":"1","id":"559"},{"name":"Pillbug","tier":"1","id":"149"},{"name":"Ram","tier":"1","id":"62"},{"name":"Seahorse","tier":"1","id":"152"},{"name":"Silkmoth","tier":"1","id":"260"},{"name":"Sloth","tier":"1","id":"71"},{"name":"Smaller Slug","tier":"1","id":"270"},{"name":"Smallest Slug","tier":"1","id":"477"},{"name":"Zombie Cricket","tier":"1","id":"86"},{"name":"Zombie Fly","tier":"1","id":"31"}],"tier2":[{"name":"African Penguin","tier":"2","id":"210"},{"name":"Atlantic Puffin","tier":"2","id":"132"},{"name":"Bat","tier":"2","id":"87"},{"name":"Beluga Sturgeon","tier":"2","id":"213"},{"name":"Black Necked Stilt","tier":"2","id":"215"},{"name":"Crab","tier":"2","id":"16"},{"name":"Door Head Ant","tier":"2","id":"220"},{"name":"Dove","tier":"2","id":"24"},{"name":"Dromedary","tier":"2","id":"104"},{"name":"Flamingo","tier":"2","id":"29"},{"name":"Frigatebird","tier":"2","id":"137"},{"name":"Gazelle","tier":"2","id":"185"},{"name":"Guinea Pig","tier":"2","id":"109"},{"name":"Hedgehog","tier":"2","id":"37"},{"name":"Hercules Beetle","tier":"2","id":"234"},{"name":"Iguana","tier":"2","id":"147"},{"name":"Jellyfish","tier":"2","id":"122"},{"name":"Kangaroo","tier":"2","id":"40"},{"name":"Koala","tier":"2","id":"112"},{"name":"Lemur","tier":"2","id":"236"},{"name":"Lizard","tier":"2","id":"237"},{"name":"Mandrill","tier":"2","id":"405"},{"name":"Panda","tier":"2","id":"107"},{"name":"Peacock","tier":"2","id":"54"},{"name":"Rat","tier":"2","id":"57"},{"name":"Robin","tier":"2","id":"255"},{"name":"Salamander","tier":"2","id":"164"},{"name":"Sea Turtle","tier":"2","id":"191"},{"name":"Sea Urchin","tier":"2","id":"258"},{"name":"Shrimp","tier":"2","id":"67"},{"name":"Snail","tier":"2","id":"72"},{"name":"Spider","tier":"2","id":"74"},{"name":"Squid","tier":"2","id":"177"},{"name":"Stoat","tier":"2","id":"263"},{"name":"Stork","tier":"2","id":"136"},{"name":"Swan","tier":"2","id":"76"},{"name":"Tabby Cat","tier":"2","id":"99"},{"name":"Toucan","tier":"2","id":"151"},{"name":"Wombat","tier":"2","id":"207"},{"name":"Worm","tier":"2","id":"82"},{"name":"Yak","tier":"2","id":"163"}],"tier3":[{"name":"Aardvark","tier":"3","id":"193"},{"name":"Anteater","tier":"3","id":"105"},{"name":"Baboon","tier":"3","id":"171"},{"name":"Badger","tier":"3","id":"2"},{"name":"Bear","tier":"3","id":"140"},{"name":"Betta Fish","tier":"3","id":"214"},{"name":"Camel","tier":"3","id":"10"},{"name":"Capybara","tier":"3","id":"154"},{"name":"Cassowary","tier":"3","id":"133"},{"name":"Dodo","tier":"3","id":"21"},{"name":"Dog","tier":"3","id":"22"},{"name":"Dolphin","tier":"3","id":"23"},{"name":"Eel","tier":"3","id":"120"},{"name":"Elephant","tier":"3","id":"28"},{"name":"Emperor Tamarin","tier":"3","id":"197"},{"name":"Flea","tier":"3","id":"225"},{"name":"Flying Fish","tier":"3","id":"226"},{"name":"Flying Squirrel","tier":"3","id":"227"},{"name":"Giraffe","tier":"3","id":"33"},{"name":"Gold Fish","tier":"3","id":"121"},{"name":"Guineafowl","tier":"3","id":"228"},{"name":"Hare","tier":"3","id":"551"},{"name":"Hatching Chick","tier":"3","id":"91"},{"name":"Hoopoe Bird","tier":"3","id":"235"},{"name":"Leech","tier":"3","id":"165"},{"name":"Meerkat","tier":"3","id":"203"},{"name":"Mole","tier":"3","id":"168"},{"name":"Musk Ox","tier":"3","id":"245"},{"name":"Okapi","tier":"3","id":"130"},{"name":"Osprey","tier":"3","id":"247"},{"name":"Owl","tier":"3","id":"95"},{"name":"Ox","tier":"3","id":"52"},{"name":"Pangolin","tier":"3","id":"249"},{"name":"Porcupine","tier":"3","id":"169"},{"name":"Pug","tier":"3","id":"145"},{"name":"Puppy","tier":"3","id":"97"},{"name":"Rabbit","tier":"3","id":"60"},{"name":"Royal Flycatcher","tier":"3","id":"256"},{"name":"Sheep","tier":"3","id":"68"},{"name":"Surgeon Fish","tier":"3","id":"264"},{"name":"Toad","tier":"3","id":"162"},{"name":"Tropical Fish","tier":"3","id":"100"},{"name":"Wasp","tier":"3","id":"160"},{"name":"Weasel","tier":"3","id":"173"},{"name":"Woodpecker","tier":"3","id":"156"}],"tier4":[{"name":"Bison","tier":"4","id":"5"},{"name":"Blobfish","tier":"4","id":"150"},{"name":"Blowfish","tier":"4","id":"7"},{"name":"Buffalo","tier":"4","id":"8"},{"name":"Caterpillar","tier":"4","id":"12"},{"name":"Chameleon","tier":"4","id":"216"},{"name":"Clownfish","tier":"4","id":"117"},{"name":"Cockatoo","tier":"4","id":"218"},{"name":"Crow","tier":"4","id":"195"},{"name":"Cuttlefish","tier":"4","id":"176"},{"name":"Deer","tier":"4","id":"20"},{"name":"Doberman","tier":"4","id":"273"},{"name":"Donkey","tier":"4","id":"111"},{"name":"Dragonfly","tier":"4","id":"196"},{"name":"Falcon","tier":"4","id":"224"},{"name":"Gharial","tier":"4","id":"231"},{"name":"Hawk","tier":"4","id":"127"},{"name":"Hippo","tier":"4","id":"38"},{"name":"Jerboa","tier":"4","id":"199"},{"name":"Llama","tier":"4","id":"44"},{"name":"Lobster","tier":"4","id":"93"},{"name":"Lynx","tier":"4","id":"200"},{"name":"Manatee","tier":"4","id":"192"},{"name":"Manta Ray","tier":"4","id":"240"},{"name":"Microbe","tier":"4","id":"94"},{"name":"Orangutan","tier":"4","id":"157"},{"name":"Parrot","tier":"4","id":"53"},{"name":"Pelican","tier":"4","id":"129"},{"name":"Penguin","tier":"4","id":"56"},{"name":"Platypus","tier":"4","id":"159"},{"name":"Poison Dart Frog","tier":"4","id":"252"},{"name":"Praying Mantis","tier":"4","id":"126"},{"name":"Saiga Antelope","tier":"4","id":"257"},{"name":"Seagull","tier":"4","id":"128"},{"name":"Sealion","tier":"4","id":"175"},{"name":"Secretary Bird","tier":"4","id":"259"},{"name":"Skunk","tier":"4","id":"70"},{"name":"Slug","tier":"4","id":"262"},{"name":"Squirrel","tier":"4","id":"75"},{"name":"Starfish","tier":"4","id":"153"},{"name":"Tahr","tier":"4","id":"393"},{"name":"Turtle","tier":"4","id":"80"},{"name":"Vaquita","tier":"4","id":"265"},{"name":"Whale","tier":"4","id":"81"},{"name":"Whale Shark","tier":"4","id":"267"}],"tier5":[{"name":"Alpaca","tier":"5","id":"194"},{"name":"Armadillo","tier":"5","id":"166"},{"name":"Axolotl","tier":"5","id":"212"},{"name":"Beluga Whale","tier":"5","id":"182"},{"name":"Blue Ringed Octopus","tier":"5","id":"271"},{"name":"Chicken","tier":"5","id":"14"},{"name":"Cow","tier":"5","id":"15"},{"name":"Crane","tier":"5","id":"219"},{"name":"Crocodile","tier":"5","id":"19"},{"name":"Eagle","tier":"5","id":"27"},{"name":"Egyptian Vulture","tier":"5","id":"221"},{"name":"Emu","tier":"5","id":"223"},{"name":"Fire Ant","tier":"5","id":"274"},{"name":"Fox","tier":"5","id":"106"},{"name":"Goat","tier":"5","id":"34"},{"name":"Hamster","tier":"5","id":"110"},{"name":"Hyena","tier":"5","id":"167"},{"name":"Lion","tier":"5","id":"42"},{"name":"Macaque","tier":"5","id":"238"},{"name":"Monkey","tier":"5","id":"46"},{"name":"Moose","tier":"5","id":"202"},{"name":"Mosasaurus","tier":"5","id":"242"},{"name":"Nurse Shark","tier":"5","id":"276"},{"name":"Nyala","tier":"5","id":"246"},{"name":"Panther","tier":"5","id":"250"},{"name":"Polar Bear","tier":"5","id":"108"},{"name":"Poodle","tier":"5","id":"96"},{"name":"Raccoon","tier":"5","id":"158"},{"name":"Rhino","tier":"5","id":"55"},{"name":"Rooster","tier":"5","id":"63"},{"name":"Scorpion","tier":"5","id":"65"},{"name":"Seal","tier":"5","id":"66"},{"name":"Shark","tier":"5","id":"69"},{"name":"Shoebill","tier":"5","id":"134"},{"name":"Siberian Husky","tier":"5","id":"146"},{"name":"Silver Fox","tier":"5","id":"261"},{"name":"Snapping Turtle","tier":"5","id":"277"},{"name":"Sting Ray","tier":"5","id":"178"},{"name":"Stonefish","tier":"5","id":"278"},{"name":"Sword Fish","tier":"5","id":"119"},{"name":"Triceratops","tier":"5","id":"142"},{"name":"Turkey","tier":"5","id":"79"},{"name":"Vulture","tier":"5","id":"135"},{"name":"Wolf","tier":"5","id":"170"},{"name":"Zebra","tier":"5","id":"155"}],"tier6":[{"name":"Anglerfish","tier":"6","id":"180"},{"name":"Bird of Paradise","tier":"6","id":"181"},{"name":"Boar","tier":"6","id":"103"},{"name":"Cat","tier":"6","id":"11"},{"name":"Catfish","tier":"6","id":"174"},{"name":"Cobra","tier":"6","id":"217"},{"name":"Dragon","tier":"6","id":"25"},{"name":"Elephant Seal","tier":"6","id":"222"},{"name":"Fly","tier":"6","id":"30"},{"name":"German Shepherd","tier":"6","id":"230"},{"name":"Gorilla","tier":"6","id":"36"},{"name":"Grizzly Bear","tier":"6","id":"275"},{"name":"Hammerhead Shark","tier":"6","id":"123"},{"name":"Highland Cow","tier":"6","id":"186"},{"name":"Komodo","tier":"6","id":"124"},{"name":"Leopard","tier":"6","id":"41"},{"name":"Lioness","tier":"6","id":"114"},{"name":"Lionfish","tier":"6","id":"201"},{"name":"Mammoth","tier":"6","id":"45"},{"name":"Mantis Shrimp","tier":"6","id":"190"},{"name":"Mongoose","tier":"6","id":"241"},{"name":"Octopus","tier":"6","id":"50"},{"name":"Orca","tier":"6","id":"116"},{"name":"Ostrich","tier":"6","id":"125"},{"name":"Oyster","tier":"6","id":"248"},{"name":"Piranha","tier":"6","id":"118"},{"name":"Pteranodon","tier":"6","id":"253"},{"name":"Puma","tier":"6","id":"254"},{"name":"Reindeer","tier":"6","id":"205"},{"name":"Sabertooth Tiger","tier":"6","id":"148"},{"name":"Sauropod","tier":"6","id":"98"},{"name":"Snake","tier":"6","id":"73"},{"name":"Spinosaurus","tier":"6","id":"143"},{"name":"Stegosaurus","tier":"6","id":"144"},{"name":"Tapir","tier":"6","id":"208"},{"name":"Tiger","tier":"6","id":"77"},{"name":"Tyrannosaurus","tier":"6","id":"78"},{"name":"Velociraptor","tier":"6","id":"115"},{"name":"Walrus","tier":"6","id":"209"},{"name":"Warthog","tier":"6","id":"266"},{"name":"White Tiger","tier":"6","id":"206"},{"name":"Wildebeest","tier":"6","id":"268"},{"name":"Wolverine","tier":"6","id":"269"}]}');var aX=zt.t(oX,2);function lX(n,t){1&n&&(m(0,"div",12),k(1," That name is not allowed. "),v())}function cX(n,t){if(1&n&&(m(0,"div",13),re(1,"input",14),m(2,"label",15),k(3),v(),v()),2&n){const e=t.$implicit;q(1),K("id",e)("formControlName",e),q(1),K("for",e),q(1),Ti(" ",e," ")}}function uX(n,t){if(1&n&&(m(0,"div",13),re(1,"input",14),m(2,"label",15),k(3),v(),v()),2&n){const e=t.$implicit;q(1),K("id",e)("formControlName",e),q(1),K("for",e),q(1),Ti(" ",e," ")}}function hX(n,t){if(1&n&&(m(0,"div",13),re(1,"input",14),m(2,"label",15),k(3),v(),v()),2&n){const e=t.$implicit;q(1),K("id",e)("formControlName",e),q(1),K("for",e),q(1),Ti(" ",e," ")}}function dX(n,t){if(1&n&&(m(0,"div",13),re(1,"input",14),m(2,"label",15),k(3),v(),v()),2&n){const e=t.$implicit;q(1),K("id",e)("formControlName",e),q(1),K("for",e),q(1),Ti(" ",e," ")}}function fX(n,t){if(1&n&&(m(0,"div",13),re(1,"input",14),m(2,"label",15),k(3),v(),v()),2&n){const e=t.$implicit;q(1),K("id",e)("formControlName",e),q(1),K("for",e),q(1),Ti(" ",e," ")}}function pX(n,t){if(1&n&&(m(0,"div",13),re(1,"input",14),m(2,"label",15),k(3),v(),v()),2&n){const e=t.$implicit;q(1),K("id",e)("formControlName",e),q(1),K("for",e),q(1),Ti(" ",e," ")}}function gX(n,t){1&n&&(m(0,"div",12),k(1," Name is required. "),v())}let mX=(()=>{class n{constructor(e){this.equipmentService=e,this.submitEvent=new ut,this.cancelEvent=new ut,this.loaded=!1}ngOnInit(){this.initCheckboxFormGroup(),this.formGroup.updateValueAndValidity()}initCheckboxFormGroup(){let e=new Ii({}),i=new Ii({}),s=new Ii({}),r=new Ii({}),o=new Ii({}),a=new Ii({});for(let l of this.getPets(1)){let h=new ie(this.formGroup.get("tier1Pets").value.includes(l));h.valueChanges.subscribe(f=>{this.processCheckboxChange(1,l,f)}),e.addControl(l,h)}for(let l of this.getPets(2)){let h=new ie(this.formGroup.get("tier2Pets").value.includes(l));h.valueChanges.subscribe(f=>{this.processCheckboxChange(2,l,f)}),i.addControl(l,h)}for(let l of this.getPets(3)){let h=new ie(this.formGroup.get("tier3Pets").value.includes(l));h.valueChanges.subscribe(f=>{this.processCheckboxChange(3,l,f)}),s.addControl(l,h)}for(let l of this.getPets(4)){let h=new ie(this.formGroup.get("tier4Pets").value.includes(l));h.valueChanges.subscribe(f=>{this.processCheckboxChange(4,l,f)}),r.addControl(l,h)}for(let l of this.getPets(5)){let h=new ie(this.formGroup.get("tier5Pets").value.includes(l));h.valueChanges.subscribe(f=>{this.processCheckboxChange(5,l,f)}),o.addControl(l,h)}for(let l of this.getPets(6)){let h=new ie(this.formGroup.get("tier6Pets").value.includes(l));h.valueChanges.subscribe(f=>{this.processCheckboxChange(6,l,f)}),a.addControl(l,h)}this.checkboxFormGroup=new Ii({tier1Pets:e,tier2Pets:i,tier3Pets:s,tier4Pets:r,tier5Pets:o,tier6Pets:a})}getCheckboxFormGroup(e){return this.checkboxFormGroup.get(`tier${e}Pets`)}getPets(e){let i=[];for(let[s,r]of this.petPackMap.get(e))i.push(...r);return i=[...new Set(i)],i}getCount(e){return this.formGroup.get(`tier${e}Pets`).value.length}processCheckboxChange(e,i,s){let r=this.formGroup.get(`tier${e}Pets`).value;s?r.push(i):(0,ge.remove)(r,o=>o===i),this.formGroup.get(`tier${e}Pets`).updateValueAndValidity()}submit(){this.submitEvent.emit(this.formGroup)}cancel(){confirm("Are you sure you want to cancel?")&&this.cancelEvent.emit(this.formGroup)}submitDisabled(){return this.formGroup.get("name").invalid}}return n.\u0275fac=function(e){return new(e||n)(V(J_))},n.\u0275cmp=Xn({type:n,selectors:[["app-custom-pack-form"]],inputs:{formGroup:"formGroup",petPackMap:"petPackMap"},outputs:{submitEvent:"submitEvent",cancelEvent:"cancelEvent"},decls:68,vars:34,consts:[[3,"formGroup"],[1,"row","mb-4"],[1,"col-12"],["for","name",1,"form-label"],["id","name","formControlName","name",1,"form-control"],["class","invalid",4,"ngIf"],[1,"row","mb-4",3,"formGroup"],[1,"row"],[1,"col-12","editor-grid"],["class","form-check",4,"ngFor","ngForOf"],[1,"btn","btn-primary","me-2",3,"disabled","click"],[1,"btn","btn-danger",3,"click"],[1,"invalid"],[1,"form-check"],["type","checkbox","value","",1,"form-check-input",3,"id","formControlName"],[1,"form-check-label",3,"for"]],template:function(e,i){1&e&&(m(0,"form",0),m(1,"div",1),m(2,"div",2),m(3,"label",3),k(4,"Pack Name"),v(),re(5,"input",4),Re(6,lX,2,0,"div",5),v(),v(),m(7,"div",6),m(8,"div",2),m(9,"h3"),k(10,"Tier 1 Pets "),m(11,"span"),k(12),v(),v(),m(13,"div",7),m(14,"div",8),Re(15,cX,4,4,"div",9),v(),v(),v(),v(),m(16,"div",6),m(17,"div",2),m(18,"h3"),k(19,"Tier 2 Pets "),m(20,"span"),k(21),v(),v(),m(22,"div",7),m(23,"div",8),Re(24,uX,4,4,"div",9),v(),v(),v(),v(),m(25,"div",6),m(26,"div",2),m(27,"h3"),k(28,"Tier 3 Pets "),m(29,"span"),k(30),v(),v(),m(31,"div",7),m(32,"div",8),Re(33,hX,4,4,"div",9),v(),v(),v(),v(),m(34,"div",6),m(35,"div",2),m(36,"h3"),k(37,"Tier 4 Pets "),m(38,"span"),k(39),v(),v(),m(40,"div",7),m(41,"div",8),Re(42,dX,4,4,"div",9),v(),v(),v(),v(),m(43,"div",6),m(44,"div",2),m(45,"h3"),k(46,"Tier 5 Pets "),m(47,"span"),k(48),v(),v(),m(49,"div",7),m(50,"div",8),Re(51,fX,4,4,"div",9),v(),v(),v(),v(),m(52,"div",6),m(53,"div",2),m(54,"h3"),k(55,"Tier 6 Pets "),m(56,"span"),k(57),v(),v(),m(58,"div",7),m(59,"div",8),Re(60,pX,4,4,"div",9),v(),v(),v(),v(),m(61,"div",7),m(62,"div",2),m(63,"button",10),Ge("click",function(){return i.submit()}),k(64,"Submit Pack"),v(),m(65,"button",11),Ge("click",function(){return i.cancel()}),k(66,"Cancel"),v(),Re(67,gX,2,0,"div",5),v(),v(),v()),2&e&&(K("formGroup",i.formGroup),q(6),K("ngIf",null==i.formGroup.get("name").errors?null:i.formGroup.get("name").errors.forbiddenName),q(1),K("formGroup",i.getCheckboxFormGroup(1)),q(4),Os(10==i.getCount(1)?"valid":"invalid"),q(1),Ti("",i.getCount(1),"/10"),q(3),K("ngForOf",i.getPets(1)),q(1),K("formGroup",i.getCheckboxFormGroup(2)),q(4),Os(10==i.getCount(2)?"valid":"invalid"),q(1),Ti("",i.getCount(2),"/10"),q(3),K("ngForOf",i.getPets(2)),q(1),K("formGroup",i.getCheckboxFormGroup(3)),q(4),Os(10==i.getCount(3)?"valid":"invalid"),q(1),Ti("",i.getCount(3),"/10"),q(3),K("ngForOf",i.getPets(3)),q(1),K("formGroup",i.getCheckboxFormGroup(4)),q(4),Os(10==i.getCount(4)?"valid":"invalid"),q(1),Ti("",i.getCount(4),"/10"),q(3),K("ngForOf",i.getPets(4)),q(1),K("formGroup",i.getCheckboxFormGroup(5)),q(4),Os(10==i.getCount(5)?"valid":"invalid"),q(1),Ti("",i.getCount(5),"/10"),q(3),K("ngForOf",i.getPets(5)),q(1),K("formGroup",i.getCheckboxFormGroup(6)),q(4),Os(10==i.getCount(6)?"valid":"invalid"),q(1),Ti("",i.getCount(6),"/10"),q(3),K("ngForOf",i.getPets(6)),q(3),K("disabled",i.submitDisabled()),q(4),K("ngIf",i.submitDisabled()))},directives:[AB,dc,Go,qo,hc,Fa,dh,kp,Ky],styles:[".editor-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(6,1fr);grid-gap:1rem}.invalid[_ngcontent-%COMP%]{color:red}.valid[_ngcontent-%COMP%]{color:#0ab40a}"]}),n})();function vX(n,t){if(1&n){const e=$o();m(0,"div",2),m(1,"div",3),m(2,"app-custom-pack-form",4),Ge("submitEvent",function(s){return Bn(e),Tt().submitEvent(s)})("cancelEvent",function(s){return Bn(e),Tt().cancelEvent(s)}),v(),v(),v()}if(2&n){const e=Tt();q(2),K("formGroup",e.makeFormGroup(e.focusedGroup))("petPackMap",e.petPackMap)}}function yX(n,t){1&n&&(m(0,"span",15),k(1,"Valid"),v())}function _X(n,t){1&n&&(m(0,"span",16),k(1,"Invalid"),v())}function bX(n,t){if(1&n){const e=$o();m(0,"tr"),m(1,"td",11),k(2),v(),m(3,"td",11),Re(4,yX,2,0,"span",12),Re(5,_X,2,0,"span",13),v(),m(6,"td"),m(7,"button",8),Ge("click",function(){const r=Bn(e).$implicit;return Tt(2).editPack(r)}),k(8,"Edit"),v(),v(),m(9,"td"),m(10,"button",14),Ge("click",function(){const r=Bn(e).$implicit;return Tt(2).deletePack(r)}),k(11,"Delete"),v(),v(),v()}if(2&n){const e=t.$implicit;q(2),on(e.get("name").value),q(2),K("ngIf",e.valid),q(1),K("ngIf",!e.valid)}}function SX(n,t){if(1&n){const e=$o();m(0,"div"),m(1,"div",5),m(2,"div",3),m(3,"h3"),k(4,"Custom Packs"),v(),m(5,"table"),Re(6,bX,12,3,"tr",6),v(),v(),v(),m(7,"div",7),m(8,"div",3),m(9,"button",8),Ge("click",function(){return Bn(e),Tt().createNewPack()}),k(10,"Create New Pack"),v(),v(),v(),m(11,"div",5),m(12,"div",3),m(13,"h3"),k(14,"Import Custom Pack"),v(),m(15,"div",9),re(16,"textarea",10),v(),v(),v(),m(17,"div",2),m(18,"div",3),m(19,"button",8),Ge("click",function(){return Bn(e),Tt().importCustomPack()}),k(20,"Import"),v(),v(),v(),v()}if(2&n){const e=Tt();q(6),K("ngForOf",e.customPacks.controls),q(9),K("formGroup",e.importFormGroup)}}let EX=(()=>{class n{constructor(e,i){this.petService=e,this.localStorageService=i,this.focusedGroup=null,this.importFormGroup=new Ii({code:new ie(null)}),this.buildPetPackMap()}ngOnInit(){this.customPacks=this.formGroup.get("customPacks")}buildPetPackMap(){this.petPackMap=new Map;for(let e=1;e<=6;e++){let i=new Map;i.set("Turtle",[]),i.set("Puppy",[]),i.set("Star",[]),i.set("Golden",[]),i.set("Custom",[]),this.petPackMap.set(e,i)}for(let[e,i]of this.petService.turtlePackPets)this.petPackMap.get(e).get("Turtle").push(...i);for(let[e,i]of this.petService.puppyPackPets)this.petPackMap.get(e).get("Puppy").push(...i);for(let[e,i]of this.petService.starPackPets)this.petPackMap.get(e).get("Star").push(...i);for(let[e,i]of this.petService.goldenPackPets)this.petPackMap.get(e).get("Golden").push(...i);for(let[e,i]of this.petService.customPackPets)this.petPackMap.get(e).get("Custom").push(...i)}createNewPack(){let e=this.createPack();this.focusedGroup=e}createPack(){return new Ii({name:new ie(null,[M0.required,this.forbiddenNameValidator()]),tier1Pets:new ie([],this.controlArrayLengthOf10()),tier2Pets:new ie([],this.controlArrayLengthOf10()),tier3Pets:new ie([],this.controlArrayLengthOf10()),tier4Pets:new ie([],this.controlArrayLengthOf10()),tier5Pets:new ie([],this.controlArrayLengthOf10()),tier6Pets:new ie([],this.controlArrayLengthOf10())})}makeFormGroup(e){return e}controlArrayLengthOf10(){return e=>10!==e.value.length?{length:!0}:null}submitEvent(e){this.customPacks.controls.includes(e)||this.customPacks.push(e),this.petService.buildCustomPackPets(this.customPacks),this.focusedGroup=null,this.localStorageService.setStorage(this.formGroup.value)}cancelEvent(e){this.focusedGroup=null}editPack(e){this.focusedGroup=e}deletePack(e){if(confirm("Are you sure you want to delete this pack?")){let i=this.customPacks.controls.indexOf(e);this.customPacks.removeAt(i),this.localStorageService.setStorage(this.formGroup.value)}}forbiddenNameValidator(){return e=>{var i,s;let r=["custom"];for(let o of this.customPacks.controls)e!=o.get("name")&&r.push(null===(i=o.get("name").value)||void 0===i?void 0:i.toLowerCase());return r.includes(null===(s=e.value)||void 0===s?void 0:s.toLowerCase())?{forbiddenName:!0}:null}}importCustomPack(){let e=this.importFormGroup.get("code").value;try{e=JSON.parse(e);let i={name:e.Title,tier1Pets:this.getMinions(e.Minions,1),tier2Pets:this.getMinions(e.Minions,2),tier3Pets:this.getMinions(e.Minions,3),tier4Pets:this.getMinions(e.Minions,4),tier5Pets:this.getMinions(e.Minions,5),tier6Pets:this.getMinions(e.Minions,6)};this.createNewPack(),this.focusedGroup.patchValue(i)}catch(i){alert("Invalid code"),console.error(i)}}getMinions(e,i){let s=aX[`tier${i}`],r=[];for(let o of e)for(let a of s)a.id==o&&r.push(a.name);return r}}return n.\u0275fac=function(e){return new(e||n)(V(Q_),V(B3))},n.\u0275cmp=Xn({type:n,selectors:[["app-custom-pack-editor"]],inputs:{formGroup:"formGroup"},decls:2,vars:2,consts:[["class","row",4,"ngIf"],[4,"ngIf"],[1,"row"],[1,"col-12"],[3,"formGroup","petPackMap","submitEvent","cancelEvent"],[1,"row","mb-3"],[4,"ngFor","ngForOf"],[1,"row","mb-4"],[1,"btn","btn-primary",3,"click"],[1,"form-group",3,"formGroup"],["id","code","rows","3","formControlName","code",1,"form-control"],[1,"text"],["class","valid",4,"ngIf"],["class","invalid",4,"ngIf"],[1,"btn","btn-danger",3,"click"],[1,"valid"],[1,"invalid"]],template:function(e,i){1&e&&(Re(0,vX,3,2,"div",0),Re(1,SX,21,2,"div",1)),2&e&&(K("ngIf",null!=i.focusedGroup),q(1),K("ngIf",null==i.focusedGroup))},directives:[dh,mX,dc,Go,kp,qo,hc,Fa],styles:[".valid[_ngcontent-%COMP%]{color:#4caf50}.invalid[_ngcontent-%COMP%]{color:#f44336}.text[_ngcontent-%COMP%]{font-size:1.5em}td[_ngcontent-%COMP%]{padding:.25em .5em}"]}),n})(),wX=(()=>{class n{constructor(){}ngOnInit(){}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=Xn({type:n,selectors:[["app-info"]],decls:97,vars:0,consts:[["src","./assets/info/pack.PNG","alt","pack"],["src","./assets/info/toy.PNG","alt","toy"],["src","./assets/info/angler.PNG","alt","angler"],["src","./assets/info/zoom.PNG","alt","zoom"],["src","./assets/info/advanced.PNG","alt","advanced"],["src","./assets/info/advanced-settings.PNG","alt","advanced settings"],["src","./assets/info/board.PNG","alt","board"],["src","./assets/info/pet.png","alt","pet"],["src","/assets/info/simulate.PNG","alt","simulate"],["src","/assets/info/report-bug.PNG","alt","report bug"],["src","/assets/info/outcome.PNG","alt","outcome"],["src","/assets/info/battles.PNG","alt","battles"],["src","/assets/info/logs.PNG","alt","logs"]],template:function(e,i){1&e&&(m(0,"p"),k(1," The SAP Calculator is an analysis tool that allows you to easily calculate the approximate odds of your team beating another team. The SAP Calculator simulates the defined battle 1000 times and determines the percentage of wins, draws and loses.\n"),v(),m(2,"p"),m(3,"b"),k(4,"Disclaimer: The SAP Calculator is not an official tool of the game and is not affiliated with the game's developers. The SAP Calculator is a fan-made tool, and is not intended to replace the official game."),v(),v(),m(5,"p"),k(6," The SAP Calculator engine is based on the official game engine, but it may not be 100% accurate. It is pretty darn close though, and should be completely accurate for nearly every possible battle.\n"),v(),m(7,"h1"),k(8,"Guide"),v(),re(9,"img",0),m(10,"p"),k(11," Select the pack that the player and opponent are using. This determines the pets that are available to each player.\n"),v(),re(12,"img",1),m(13,"p"),k(14," Toy configuration.\n"),v(),re(15,"img",2),m(16,"ul"),m(17,"li"),k(18,"Angler Mode: The opposite player's pets are available to be selected for each player. (This does not affect pets that summon from your pack pet pool)"),v(),m(19,"li"),k(20,"All Pets: All pets are availble to select. (This does not affect pets that summon from your pack pet pool)"),v(),m(21,"li"),k(22,"Old Stork: Stork summons pets with base stats."),v(),m(23,"li"),k(24,"Token Pets: Token pets are available to select. (This does not affect pets that summon from your pack pet pool)"),v(),m(25,"li"),k(26,"Komodo Shuffle: Shuffle pet order each battle in front of a Komondo."),v(),m(27,"li"),k(28,"Mana: Show/hide mana stat on the pet selector."),v(),v(),re(29,"img",3),m(30,"p"),k(31,"Adjust the zoom level of the application."),v(),re(32,"img",4),m(33,"p"),k(34,"Toggle advanced settings."),v(),re(35,"img",5),m(36,"p"),k(37,"Advanced settings. They allow you to configure the battle to a more specific scenario."),v(),m(38,"ul"),m(39,"li"),k(40,"Turn: The turn the battle takes place. This will affect pets such as the Stork, Eagle, and Stegosaurus."),v(),m(41,"li"),k(42,"Player Gold Spent: Player gold spent the previous round. This will affect the Meerkat."),v(),m(43,"li"),k(44,"Opponent Gold Spent: Same as above but for the Opponent player."),v(),m(45,"li"),k(46,"Player Roll Amount: The amount of times the Player rolled in the shop phase."),v(),m(47,"li"),k(48,"Opponent Roll Amount: Same as above but for the Opponent player."),v(),m(49,"li"),k(50,"Player Lvl 3 Sold: The amount of times the Player sold a Level 3 pet."),v(),m(51,"li"),k(52,"Opponent Lvl 3 Sold: Same as above but for the Opponent player."),v(),m(53,"li"),k(54,"Player Summoned Amt: The amount of times the Player summoned a pet in the shop phase."),v(),m(55,"li"),k(56,"Opponent Summoned Amt: Same as above but for the Opponent player."),v(),v(),re(57,"img",6),m(58,"p"),k(59," This is the board. The left side is the Player pets and the right side is the Opponent Pets. Each white box contains a pet and its' stats/equipment. The layout of the pets are identical to as they would be in battle. The right most Player pet is clashing with the left most Opponent pet.\n"),v(),re(60,"img",7),m(61,"p"),k(62," This is a pet.\n"),v(),m(63,"ul"),m(64,"li"),k(65,"A: This select box is where you may choose the pet that will occupy this space."),v(),m(66,"li"),k(67,"B: This select box is where you may choose the pet's equipment."),v(),m(68,"li"),k(69,"C: These fields are where you may input the pet's stats. The gray field is attack, the red field is health, and the indigo field is mana."),v(),m(70,"li"),k(71,"D: This component determines the amount of exp the pet has. A pet may have 0-5 exp denoted by the number of boxes highlighted. The numbers (1, 2, 3) on top of the exp bar signify the level of the pet. 0-1 exp is level 1, 2-4 exp is level 2, and 5 exp is level 3. The x on the left will clear the exp bar leaving the pet at level 1 with 0 exp. "),v(),m(72,"li"),k(73,"E: This is a drag and drop tool. Use this to reorder your pets."),v(),v(),re(74,"img",8),m(75,"ul"),m(76,"li"),k(77,"Simulate: Run the simulation."),v(),m(78,"li"),k(79,"Randomize: Randomize the Player's and Opponents's pets and equipment."),v(),v(),re(80,"img",9),m(81,"ul"),m(82,"li"),k(83,"Report A Bug: Report a bug to the SAP Calculator develepor."),v(),m(84,"li"),k(85,"Export Calculator: Saves a code to your devices clipboard that can be used to import the calculator state."),v(),m(86,"li"),k(87,"Import Calculator: Import a calculator state."),v(),v(),re(88,"img",10),m(89,"p"),k(90," This is the outcome summary. It shows the number of wins, draws, and loses for the last simulation ran.\n"),v(),re(91,"img",11),m(92,"p"),k(93," This is the Battles table. It is a table of all the battles that were simulated. You may filter the table by the outcome of the battle.\n"),v(),re(94,"img",12),m(95,"p"),k(96," These are the logs of the last selected simulated battle. Logs that are highlighted green are logs from a pet on the Player's team and logs that are highlighted red are logs from a pet on the Opponent's team. Logs that are highlighted purple are random events. Note: Not everything is logged.\n"),v())},styles:["img[_ngcontent-%COMP%]{margin-bottom:.5em;max-width:100%;border:1px solid #bfbfbf}"]}),n})(),CX=(()=>{class n{constructor(){this.formGroup=new Ii({calcCode:new ie(null)})}ngOnInit(){}submit(){let e="";e=this.importFunc(this.formGroup.value.calcCode)?"Import successful":"Import failed",alert(e)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=Xn({type:n,selectors:[["app-import-calculator"]],inputs:{importFunc:"importFunc"},decls:6,vars:1,consts:[[1,"form-group",3,"formGroup"],["id","calcCode","rows","3","formControlName","calcCode",1,"form-control","mb-2"],[1,"warning","mb-2"],[1,"btn","btn-primary",3,"click"]],template:function(e,i){1&e&&(m(0,"div",0),re(1,"textarea",1),m(2,"div",2),k(3," Warning: This will overwrite any existing custom packs. Any custom packs in the import will be added. "),v(),m(4,"button",3),Ge("click",function(){return i.submit()}),k(5,"Import"),v(),v()),2&e&&K("formGroup",i.formGroup)},directives:[dc,Go,qo,hc,Fa],styles:[""]}),n})();class V3{}class $3{}class Qr{constructor(t){this.normalizedNames=new Map,this.lazyUpdate=null,t?this.lazyInit="string"==typeof t?()=>{this.headers=new Map,t.split("\n").forEach(e=>{const i=e.indexOf(":");if(i>0){const s=e.slice(0,i),r=s.toLowerCase(),o=e.slice(i+1).trim();this.maybeSetNormalizedName(s,r),this.headers.has(r)?this.headers.get(r).push(o):this.headers.set(r,[o])}})}:()=>{this.headers=new Map,Object.keys(t).forEach(e=>{let i=t[e];const s=e.toLowerCase();"string"==typeof i&&(i=[i]),i.length>0&&(this.headers.set(s,i),this.maybeSetNormalizedName(e,s))})}:this.headers=new Map}has(t){return this.init(),this.headers.has(t.toLowerCase())}get(t){this.init();const e=this.headers.get(t.toLowerCase());return e&&e.length>0?e[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(t){return this.init(),this.headers.get(t.toLowerCase())||null}append(t,e){return this.clone({name:t,value:e,op:"a"})}set(t,e){return this.clone({name:t,value:e,op:"s"})}delete(t,e){return this.clone({name:t,value:e,op:"d"})}maybeSetNormalizedName(t,e){this.normalizedNames.has(e)||this.normalizedNames.set(e,t)}init(){this.lazyInit&&(this.lazyInit instanceof Qr?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(t=>this.applyUpdate(t)),this.lazyUpdate=null))}copyFrom(t){t.init(),Array.from(t.headers.keys()).forEach(e=>{this.headers.set(e,t.headers.get(e)),this.normalizedNames.set(e,t.normalizedNames.get(e))})}clone(t){const e=new Qr;return e.lazyInit=this.lazyInit&&this.lazyInit instanceof Qr?this.lazyInit:this,e.lazyUpdate=(this.lazyUpdate||[]).concat([t]),e}applyUpdate(t){const e=t.name.toLowerCase();switch(t.op){case"a":case"s":let i=t.value;if("string"==typeof i&&(i=[i]),0===i.length)return;this.maybeSetNormalizedName(t.name,e);const s=("a"===t.op?this.headers.get(e):void 0)||[];s.push(...i),this.headers.set(e,s);break;case"d":const r=t.value;if(r){let o=this.headers.get(e);if(!o)return;o=o.filter(a=>-1===r.indexOf(a)),0===o.length?(this.headers.delete(e),this.normalizedNames.delete(e)):this.headers.set(e,o)}else this.headers.delete(e),this.normalizedNames.delete(e)}}forEach(t){this.init(),Array.from(this.normalizedNames.keys()).forEach(e=>t(this.normalizedNames.get(e),this.headers.get(e)))}}class DX{encodeKey(t){return F3(t)}encodeValue(t){return F3(t)}decodeKey(t){return decodeURIComponent(t)}decodeValue(t){return decodeURIComponent(t)}}const AX=/%(\d[a-f0-9])/gi,TX={40:"@","3A":":",24:"$","2C":",","3B":";","2B":"+","3D":"=","3F":"?","2F":"/"};function F3(n){return encodeURIComponent(n).replace(AX,(t,e)=>{var i;return null!==(i=TX[e])&&void 0!==i?i:t})}function H3(n){return`${n}`}class Ja{constructor(t={}){if(this.updates=null,this.cloneFrom=null,this.encoder=t.encoder||new DX,t.fromString){if(t.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function(n,t){const e=new Map;return n.length>0&&n.replace(/^\?/,"").split("&").forEach(s=>{const r=s.indexOf("="),[o,a]=-1==r?[t.decodeKey(s),""]:[t.decodeKey(s.slice(0,r)),t.decodeValue(s.slice(r+1))],l=e.get(o)||[];l.push(a),e.set(o,l)}),e}(t.fromString,this.encoder)}else t.fromObject?(this.map=new Map,Object.keys(t.fromObject).forEach(e=>{const i=t.fromObject[e];this.map.set(e,Array.isArray(i)?i:[i])})):this.map=null}has(t){return this.init(),this.map.has(t)}get(t){this.init();const e=this.map.get(t);return e?e[0]:null}getAll(t){return this.init(),this.map.get(t)||null}keys(){return this.init(),Array.from(this.map.keys())}append(t,e){return this.clone({param:t,value:e,op:"a"})}appendAll(t){const e=[];return Object.keys(t).forEach(i=>{const s=t[i];Array.isArray(s)?s.forEach(r=>{e.push({param:i,value:r,op:"a"})}):e.push({param:i,value:s,op:"a"})}),this.clone(e)}set(t,e){return this.clone({param:t,value:e,op:"s"})}delete(t,e){return this.clone({param:t,value:e,op:"d"})}toString(){return this.init(),this.keys().map(t=>{const e=this.encoder.encodeKey(t);return this.map.get(t).map(i=>e+"="+this.encoder.encodeValue(i)).join("&")}).filter(t=>""!==t).join("&")}clone(t){const e=new Ja({encoder:this.encoder});return e.cloneFrom=this.cloneFrom||this,e.updates=(this.updates||[]).concat(t),e}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(t=>this.map.set(t,this.cloneFrom.map.get(t))),this.updates.forEach(t=>{switch(t.op){case"a":case"s":const e=("a"===t.op?this.map.get(t.param):void 0)||[];e.push(H3(t.value)),this.map.set(t.param,e);break;case"d":if(void 0===t.value){this.map.delete(t.param);break}{let i=this.map.get(t.param)||[];const s=i.indexOf(H3(t.value));-1!==s&&i.splice(s,1),i.length>0?this.map.set(t.param,i):this.map.delete(t.param)}}}),this.cloneFrom=this.updates=null)}}class xX{constructor(){this.map=new Map}set(t,e){return this.map.set(t,e),this}get(t){return this.map.has(t)||this.map.set(t,t.defaultValue()),this.map.get(t)}delete(t){return this.map.delete(t),this}keys(){return this.map.keys()}}function q3(n){return"undefined"!=typeof ArrayBuffer&&n instanceof ArrayBuffer}function G3(n){return"undefined"!=typeof Blob&&n instanceof Blob}function U3(n){return"undefined"!=typeof FormData&&n instanceof FormData}class pg{constructor(t,e,i,s){let r;if(this.url=e,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=t.toUpperCase(),function(n){switch(n){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||s?(this.body=void 0!==i?i:null,r=s):r=i,r&&(this.reportProgress=!!r.reportProgress,this.withCredentials=!!r.withCredentials,r.responseType&&(this.responseType=r.responseType),r.headers&&(this.headers=r.headers),r.context&&(this.context=r.context),r.params&&(this.params=r.params)),this.headers||(this.headers=new Qr),this.context||(this.context=new xX),this.params){const o=this.params.toString();if(0===o.length)this.urlWithParams=e;else{const a=e.indexOf("?");this.urlWithParams=e+(-1===a?"?":a<e.length-1?"&":"")+o}}else this.params=new Ja,this.urlWithParams=e}serializeBody(){return null===this.body?null:q3(this.body)||G3(this.body)||U3(this.body)||function(n){return"undefined"!=typeof URLSearchParams&&n instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof Ja?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||U3(this.body)?null:G3(this.body)?this.body.type||null:q3(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof Ja?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(t={}){var e;const i=t.method||this.method,s=t.url||this.url,r=t.responseType||this.responseType,o=void 0!==t.body?t.body:this.body,a=void 0!==t.withCredentials?t.withCredentials:this.withCredentials,l=void 0!==t.reportProgress?t.reportProgress:this.reportProgress;let h=t.headers||this.headers,f=t.params||this.params;const p=null!==(e=t.context)&&void 0!==e?e:this.context;return void 0!==t.setHeaders&&(h=Object.keys(t.setHeaders).reduce((y,_)=>y.set(_,t.setHeaders[_]),h)),t.setParams&&(f=Object.keys(t.setParams).reduce((y,_)=>y.set(_,t.setParams[_]),f)),new pg(i,s,o,{params:f,headers:h,context:p,reportProgress:l,responseType:r,withCredentials:a})}}var mi=(()=>((mi=mi||{})[mi.Sent=0]="Sent",mi[mi.UploadProgress=1]="UploadProgress",mi[mi.ResponseHeader=2]="ResponseHeader",mi[mi.DownloadProgress=3]="DownloadProgress",mi[mi.Response=4]="Response",mi[mi.User=5]="User",mi))();class NM{constructor(t,e=200,i="OK"){this.headers=t.headers||new Qr,this.status=void 0!==t.status?t.status:e,this.statusText=t.statusText||i,this.url=t.url||null,this.ok=this.status>=200&&this.status<300}}class RM extends NM{constructor(t={}){super(t),this.type=mi.ResponseHeader}clone(t={}){return new RM({headers:t.headers||this.headers,status:void 0!==t.status?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}}class xb extends NM{constructor(t={}){super(t),this.type=mi.Response,this.body=void 0!==t.body?t.body:null}clone(t={}){return new xb({body:void 0!==t.body?t.body:this.body,headers:t.headers||this.headers,status:void 0!==t.status?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}}class j3 extends NM{constructor(t){super(t,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${t.url||"(unknown url)"}`:`Http failure response for ${t.url||"(unknown url)"}: ${t.status} ${t.statusText}`,this.error=t.error||null}}function LM(n,t){return{body:t,headers:n.headers,context:n.context,observe:n.observe,params:n.params,reportProgress:n.reportProgress,responseType:n.responseType,withCredentials:n.withCredentials}}let W3=(()=>{class n{constructor(e){this.handler=e}request(e,i,s={}){let r;if(e instanceof pg)r=e;else{let l,h;l=s.headers instanceof Qr?s.headers:new Qr(s.headers),s.params&&(h=s.params instanceof Ja?s.params:new Ja({fromObject:s.params})),r=new pg(e,i,void 0!==s.body?s.body:null,{headers:l,context:s.context,params:h,reportProgress:s.reportProgress,responseType:s.responseType||"json",withCredentials:s.withCredentials})}const o=Ec(r).pipe(function(n,t){return ro(n,void 0,1)}(l=>this.handler.handle(l)));if(e instanceof pg||"events"===s.observe)return o;const a=o.pipe(O$(l=>l instanceof xb));switch(s.observe||"body"){case"body":switch(r.responseType){case"arraybuffer":return a.pipe(vs(l=>{if(null!==l.body&&!(l.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return l.body}));case"blob":return a.pipe(vs(l=>{if(null!==l.body&&!(l.body instanceof Blob))throw new Error("Response is not a Blob.");return l.body}));case"text":return a.pipe(vs(l=>{if(null!==l.body&&"string"!=typeof l.body)throw new Error("Response is not a string.");return l.body}));default:return a.pipe(vs(l=>l.body))}case"response":return a;default:throw new Error(`Unreachable: unhandled observe type ${s.observe}}`)}}delete(e,i={}){return this.request("DELETE",e,i)}get(e,i={}){return this.request("GET",e,i)}head(e,i={}){return this.request("HEAD",e,i)}jsonp(e,i){return this.request("JSONP",e,{params:(new Ja).append(i,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(e,i={}){return this.request("OPTIONS",e,i)}patch(e,i,s={}){return this.request("PATCH",e,LM(s,i))}post(e,i,s={}){return this.request("POST",e,LM(s,i))}put(e,i,s={}){return this.request("PUT",e,LM(s,i))}}return n.\u0275fac=function(e){return new(e||n)($(V3))},n.\u0275prov=le({token:n,factory:n.\u0275fac}),n})();class z3{constructor(t,e){this.next=t,this.interceptor=e}handle(t){return this.interceptor.intercept(t,this.next)}}const K3=new pe("HTTP_INTERCEPTORS");let OX=(()=>{class n{intercept(e,i){return i.handle(e)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=le({token:n,factory:n.\u0275fac}),n})();const NX=/^\)\]\}',?\n/;let Y3=(()=>{class n{constructor(e){this.xhrFactory=e}handle(e){if("JSONP"===e.method)throw new Error("Attempted to construct Jsonp request without HttpClientJsonpModule installed.");return new ze(i=>{const s=this.xhrFactory.build();if(s.open(e.method,e.urlWithParams),e.withCredentials&&(s.withCredentials=!0),e.headers.forEach((_,w)=>s.setRequestHeader(_,w.join(","))),e.headers.has("Accept")||s.setRequestHeader("Accept","application/json, text/plain, */*"),!e.headers.has("Content-Type")){const _=e.detectContentTypeHeader();null!==_&&s.setRequestHeader("Content-Type",_)}if(e.responseType){const _=e.responseType.toLowerCase();s.responseType="json"!==_?_:"text"}const r=e.serializeBody();let o=null;const a=()=>{if(null!==o)return o;const _=1223===s.status?204:s.status,w=s.statusText||"OK",T=new Qr(s.getAllResponseHeaders()),P=function(n){return"responseURL"in n&&n.responseURL?n.responseURL:/^X-Request-URL:/m.test(n.getAllResponseHeaders())?n.getResponseHeader("X-Request-URL"):null}(s)||e.url;return o=new RM({headers:T,status:_,statusText:w,url:P}),o},l=()=>{let{headers:_,status:w,statusText:T,url:P}=a(),N=null;204!==w&&(N=void 0===s.response?s.responseText:s.response),0===w&&(w=N?200:0);let I=w>=200&&w<300;if("json"===e.responseType&&"string"==typeof N){const H=N;N=N.replace(NX,"");try{N=""!==N?JSON.parse(N):null}catch(G){N=H,I&&(I=!1,N={error:G,text:N})}}I?(i.next(new xb({body:N,headers:_,status:w,statusText:T,url:P||void 0})),i.complete()):i.error(new j3({error:N,headers:_,status:w,statusText:T,url:P||void 0}))},h=_=>{const{url:w}=a(),T=new j3({error:_,status:s.status||0,statusText:s.statusText||"Unknown Error",url:w||void 0});i.error(T)};let f=!1;const p=_=>{f||(i.next(a()),f=!0);let w={type:mi.DownloadProgress,loaded:_.loaded};_.lengthComputable&&(w.total=_.total),"text"===e.responseType&&!!s.responseText&&(w.partialText=s.responseText),i.next(w)},y=_=>{let w={type:mi.UploadProgress,loaded:_.loaded};_.lengthComputable&&(w.total=_.total),i.next(w)};return s.addEventListener("load",l),s.addEventListener("error",h),s.addEventListener("timeout",h),s.addEventListener("abort",h),e.reportProgress&&(s.addEventListener("progress",p),null!==r&&s.upload&&s.upload.addEventListener("progress",y)),s.send(r),i.next({type:mi.Sent}),()=>{s.removeEventListener("error",h),s.removeEventListener("abort",h),s.removeEventListener("load",l),s.removeEventListener("timeout",h),e.reportProgress&&(s.removeEventListener("progress",p),null!==r&&s.upload&&s.upload.removeEventListener("progress",y)),s.readyState!==s.DONE&&s.abort()}})}}return n.\u0275fac=function(e){return new(e||n)($(L2))},n.\u0275prov=le({token:n,factory:n.\u0275fac}),n})();const BM=new pe("XSRF_COOKIE_NAME"),VM=new pe("XSRF_HEADER_NAME");class Q3{}let LX=(()=>{class n{constructor(e,i,s){this.doc=e,this.platform=i,this.cookieName=s,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const e=this.doc.cookie||"";return e!==this.lastCookieString&&(this.parseCount++,this.lastToken=A2(e,this.cookieName),this.lastCookieString=e),this.lastToken}}return n.\u0275fac=function(e){return new(e||n)($(Je),$(ch),$(BM))},n.\u0275prov=le({token:n,factory:n.\u0275fac}),n})(),$M=(()=>{class n{constructor(e,i){this.tokenService=e,this.headerName=i}intercept(e,i){const s=e.url.toLowerCase();if("GET"===e.method||"HEAD"===e.method||s.startsWith("http://")||s.startsWith("https://"))return i.handle(e);const r=this.tokenService.getToken();return null!==r&&!e.headers.has(this.headerName)&&(e=e.clone({headers:e.headers.set(this.headerName,r)})),i.handle(e)}}return n.\u0275fac=function(e){return new(e||n)($(Q3),$(VM))},n.\u0275prov=le({token:n,factory:n.\u0275fac}),n})(),BX=(()=>{class n{constructor(e,i){this.backend=e,this.injector=i,this.chain=null}handle(e){if(null===this.chain){const i=this.injector.get(K3,[]);this.chain=i.reduceRight((s,r)=>new z3(s,r),this.backend)}return this.chain.handle(e)}}return n.\u0275fac=function(e){return new(e||n)($($3),$(Pt))},n.\u0275prov=le({token:n,factory:n.\u0275fac}),n})(),VX=(()=>{class n{static disable(){return{ngModule:n,providers:[{provide:$M,useClass:OX}]}}static withOptions(e={}){return{ngModule:n,providers:[e.cookieName?{provide:BM,useValue:e.cookieName}:[],e.headerName?{provide:VM,useValue:e.headerName}:[]]}}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=Xt({type:n}),n.\u0275inj=Gt({providers:[$M,{provide:K3,useExisting:$M,multi:!0},{provide:Q3,useClass:LX},{provide:BM,useValue:"XSRF-TOKEN"},{provide:VM,useValue:"X-XSRF-TOKEN"}]}),n})(),$X=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=Xt({type:n}),n.\u0275inj=Gt({providers:[W3,{provide:V3,useClass:BX},Y3,{provide:$3,useExisting:Y3}],imports:[[VX.withOptions({cookieName:"XSRF-TOKEN",headerName:"X-XSRF-TOKEN"})]]}),n})();const FX=function(n){return["form-group","mb-3",n]};function HX(n,t){if(1&n){const e=$o();m(0,"div"),m(1,"p"),k(2," An export code of the current calculator will automatically be sent to the developer. Please make sure the calculator is currently relevant to the bug you are reporting. Provide a description of the bug below. (Player should have won, pet's ability is wrong, etc.) Name is optional. Provide your Discord ID if you want me to follow up with you. "),v(),m(3,"div",1),m(4,"div",2),m(5,"label",3),k(6,"Name/Alias/Discord ID"),v(),re(7,"input",4),v(),m(8,"div"),m(9,"label",5),k(10,"Description"),v(),re(11,"textarea",6),v(),v(),m(12,"button",7),Ge("click",function(){return Bn(e),Tt().submit()}),k(13,"Submit"),v(),v()}if(2&n){const e=Tt();q(3),K("ngClass",function(n,t,e,i){return nL(W(),Vi(),n,t,e,i)}(2,FX,e.submitted?"was-validated":""))("formGroup",e.formGroup)}}function qX(n,t){if(1&n){const e=$o();m(0,"div"),m(1,"h1"),k(2,"Thank you for the bug report!"),v(),m(3,"button",7),Ge("click",function(){return Bn(e),Tt().back()}),k(4,"Report another bug :("),v(),v()}}let GX=(()=>{class n{constructor(e){this.http=e,this.formGroup=new Ii({name:new ie(""),description:new ie(null,M0.required)}),this.reported=!1,this.submitted=!1}ngOnInit(){}submit(){if(this.submitted=!0,this.formGroup.invalid)return;let e=Object.assign(Object.assign({},this.formGroup.value),{code:JSON.stringify(this.calcFormGroup.value)});const i=new Qr({"Content-Type":"application/json"});this.http.post("https://formspree.io/f/xrgnzkdq",{name:"SAP CALC",replyto:"robert.ley94@gmail.com",message:e},{headers:i}).subscribe(s=>{console.log(s)}),this.reported=!0}back(){this.formGroup.reset(),this.submitted=!1,this.reported=!1}}return n.\u0275fac=function(e){return new(e||n)(V(W3))},n.\u0275cmp=Xn({type:n,selectors:[["app-report-a-bug"]],inputs:{calcFormGroup:"calcFormGroup"},decls:2,vars:2,consts:[[4,"ngIf"],[3,"ngClass","formGroup"],[1,"mb-3"],["for","name"],["type","text","id","name","formControlName","name",1,"form-control"],["for","description"],["rows","3","formControlName","description","required","",1,"form-control"],[1,"btn","btn-primary",3,"click"]],template:function(e,i){1&e&&(Re(0,HX,14,4,"div",0),Re(1,qX,5,0,"div",0)),2&e&&(K("ngIf",!i.reported),q(1),K("ngIf",i.reported))},directives:[dh,p0,dc,Go,qo,hc,Fa,o_],styles:[""]}),n})();const UX=["customPackEditor"];function jX(n,t){if(1&n&&(m(0,"option",122),k(1),v()),2&n){const e=t.$implicit;K("value",e.get("name").value),q(1),on(e.get("name").value)}}function WX(n,t){if(1&n&&(m(0,"option",122),k(1),v()),2&n){const e=t.$implicit;K("value",e.get("name").value),q(1),on(e.get("name").value)}}function zX(n,t){if(1&n&&(m(0,"option",27),k(1),v()),2&n){const e=t.$implicit;K("ngValue",e),q(1),on(e)}}function KX(n,t){if(1&n&&(m(0,"optgroup",123),Re(1,zX,2,2,"option",124),v()),2&n){const e=t.$implicit;K("label","Tier "+e.key),q(1),K("ngForOf",e.value)}}function YX(n,t){if(1&n&&(m(0,"option",27),k(1),v()),2&n){const e=t.$implicit;K("ngValue",e),q(1),on(e)}}function QX(n,t){if(1&n&&(m(0,"optgroup",123),Re(1,YX,2,2,"option",124),v()),2&n){const e=t.$implicit;K("label","Tier "+e.key),q(1),K("ngForOf",e.value)}}function JX(n,t){1&n&&(m(0,"div",9),m(1,"div",10),m(2,"div",125),m(3,"div",126),m(4,"label",127),k(5,"Turn"),v(),re(6,"input",128),v(),m(7,"div",129),m(8,"label",130),k(9,"Player Gold Spent"),v(),re(10,"input",131),v(),m(11,"div",129),m(12,"label",132),k(13,"Opponent Gold Spent"),v(),re(14,"input",133),v(),m(15,"div",129),m(16,"label",134),k(17,"Player Roll Amt"),v(),re(18,"input",135),v(),m(19,"div",129),m(20,"label",136),k(21,"Opponent Roll Amt"),v(),re(22,"input",137),v(),m(23,"div",129),m(24,"label",138),k(25,"Player Lvl 3 Sold"),v(),re(26,"input",139),v(),m(27,"div",129),m(28,"label",140),k(29,"Opponent Lvl 3 Sold"),v(),re(30,"input",141),v(),m(31,"div",129),m(32,"label",142),k(33,"Player Summoned Amt"),v(),re(34,"input",143),v(),m(35,"div",129),m(36,"label",144),k(37,"Opponent Summoned Amt"),v(),re(38,"input",145),v(),v(),v(),v())}function ZX(n,t){if(1&n&&(m(0,"div",146),m(1,"div",147),wd(),m(2,"svg",148),re(3,"path",149),re(4,"path",150),v(),v(),Cd(),re(5,"app-pet-selector",151),v()),2&n){const e=t.$implicit,i=t.index,s=Tt();q(5),K("pet",s.player["pet"+(4-i)])("player",s.player)("opponent",s.opponent)("index",4-i)("formGroup",s.makeFormGroup(e))("angler",s.formGroup.get("angler").value)("allPets",s.formGroup.get("allPets").value)("mana",s.formGroup.get("mana").value)("showTokenPets",s.formGroup.get("tokenPets").value)("customPacks",s.formGroup.get("customPacks"))}}function XX(n,t){if(1&n&&(m(0,"div",152),m(1,"div",147),wd(),m(2,"svg",148),re(3,"path",149),re(4,"path",150),v(),v(),Cd(),re(5,"app-pet-selector",151),v()),2&n){const e=t.$implicit,i=t.index,s=Tt();q(5),K("pet",s.opponent["pet"+i])("player",s.opponent)("opponent",s.player)("index",i)("formGroup",s.makeFormGroup(e))("angler",s.formGroup.get("angler").value)("allPets",s.formGroup.get("allPets").value)("mana",s.formGroup.get("mana").value)("showTokenPets",s.formGroup.get("tokenPets").value)("customPacks",s.formGroup.get("customPacks"))}}function eee(n,t){if(1&n&&(m(0,"div",83),m(1,"div",153),m(2,"label"),k(3,"Player Wins:"),v(),m(4,"span"),k(5),v(),m(6,"label"),k(7,"Opponent Wins:"),v(),m(8,"span"),k(9),v(),m(10,"label"),k(11,"Draws:"),v(),m(12,"span"),k(13),v(),v(),m(14,"div",154),m(15,"span",155),re(16,"span",156),re(17,"span",157),v(),v(),v()),2&n){const e=Tt();q(5),ep("",e.playerWinner," - ",e.winPercent,"%"),q(4),ep("",e.opponentWinner," - ",e.losePercent,"%"),q(4),ep("",e.draw," - ",e.drawPercent,"%"),q(3),Zf("width",e.getDrawWidth()),q(1),Zf("width",e.getLoseWidth())}}function tee(n,t){if(1&n){const e=$o();m(0,"tr",158),Ge("click",function(){const r=Bn(e).$implicit;return Tt().setViewBattle(r)}),m(1,"td"),k(2),v(),m(3,"td"),k(4),v(),m(5,"td",159),k(6),v(),v()}if(2&n){const e=t.$implicit,i=t.index,s=Tt();q(2),on(i),q(2),on(e.winner),q(2),on(s.getRandomEvents(e))}}const iee=function(n,t){return[n,t]};function nee(n,t){if(1&n&&(m(0,"div",62),m(1,"span",160),k(2),v(),v()),2&n){const e=t.$implicit,i=Tt();q(1),K("ngClass",iL(2,iee,i.getPlayerClass(e),e.randomEvent?"random-event":"")),q(1),on(e.message)}}let oee=(()=>{class n{constructor(e,i,s,r,o,a,l,h){this.logService=e,this.abilityService=i,this.gameService=s,this.equipmentService=r,this.petService=o,this.toyService=a,this.startOfBattleService=l,this.localStorageService=h,this.version="0.6.0",this.sapVersion="0.32.1-150 BETA",this.title="sap-calculator",this.maxTurns=50,this.turns=0,this.battleStarted=!1,this.simulationBattleAmt=1e3,this.playerWinner=0,this.opponentWinner=0,this.draw=0,this.battles=[],this.simulated=!1,this.previousPackPlayer=null,this.previousPackOpponent=null,this.dayNight=!0,this.player=new GB(e,i,s),this.opponent=new GB(e,i,s),this.gameService.init(this.player,this.opponent),this.petService.init(),this.initFormGroup(),this.loadLocalStorage(),this.initApp(),this.initGameApi(),this.setDayNight()}printFormGroup(){console.log(this.formGroup)}ngOnInit(){this.toys=this.toyService.toys}ngAfterViewInit(){this.initModals()}loadLocalStorage(){if(this.localStorageService.getStorage())try{let i=JSON.parse(this.localStorageService.getStorage());this.loadCalculatorFromValue(i)}catch(i){console.log("error loading local storage",i),this.localStorageService.clearStorage()}}loadCalculatorFromValue(e){this.formGroup.reset();let i=e.customPacks;e.customPacks=[],this.loadCustomPacks(i),this.formGroup.patchValue(e,{emitEvent:!1}),setTimeout(()=>{this.fixCustomPackSelect()}),this.gameService.gameApi.oldStork=this.formGroup.get("oldStork").value,this.gameService.gameApi.komodoShuffle=this.formGroup.get("komodoShuffle").value,this.gameService.gameApi.mana=this.formGroup.get("mana").value}setDayNight(){let i=this.formGroup.get("turn").value%2==1;this.dayNight=i,this.gameService.gameApi.day=i}fixCustomPackSelect(){this.formGroup.get("playerPack").setValue(this.formGroup.get("playerPack").value,{emitEvent:!1}),this.formGroup.get("opponentPack").setValue(this.formGroup.get("opponentPack").value,{emitEvent:!1})}initApp(){this.petService.buildCustomPackPets(this.formGroup.get("customPacks")),this.setFontSize(),this.initPlayerPets(),this.updatePlayerPack(this.player,this.formGroup.get("playerPack").value,!1),this.updatePlayerPack(this.opponent,this.formGroup.get("opponentPack").value,!1),this.updatePlayerToy(this.player,this.formGroup.get("playerToy").value),this.updatePlayerToy(this.opponent,this.formGroup.get("opponentToy").value),this.previousPackOpponent=this.opponent.pack,this.previousPackPlayer=this.player.pack}initGameApi(){this.gameService.gameApi.day=this.dayNight,this.gameService.gameApi.oldStork=this.formGroup.get("oldStork").value,this.gameService.gameApi.komodoShuffle=this.formGroup.get("komodoShuffle").value,this.gameService.gameApi.mana=this.formGroup.get("mana").value,this.gameService.gameApi.playerRollAmount=this.formGroup.get("playerRollAmount").value,this.gameService.gameApi.opponentRollAmount=this.formGroup.get("opponentRollAmount").value,this.gameService.gameApi.playerLevel3Sold=this.formGroup.get("playerLevel3Sold").value,this.gameService.gameApi.opponentLevel3Sold=this.formGroup.get("opponentLevel3Sold").value,this.gameService.gameApi.playerSummonedAmount=this.formGroup.get("playerSummonedAmount").value,this.gameService.gameApi.opponentSummonedAmount=this.formGroup.get("opponentSummonedAmount").value}loadCustomPacks(e){let i=this.formGroup.get("customPacks");i.clear();for(let s of e){let r=XW(s);i.push(r)}}initPlayerPets(){for(let e=0;e<5;e++){let i=this.formGroup.get("playerPets").controls[e];if(null==i.get("name").value)continue;let s=this.petService.createPet(i.value,this.player);this.player.setPet(e,s,!0)}for(let e=0;e<5;e++){let i=this.formGroup.get("opponentPets").controls[e];if(null==i.get("name").value)continue;let s=this.petService.createPet(i.value,this.opponent);this.opponent.setPet(e,s,!0)}}randomizePlayerPets(e){for(let i=0;i<5;i++)e.setPet(i,this.petService.getRandomPet(e),!0)}makeFormGroup(e){return e}initFormGroup(){var e,i,s,r,o,a;this.updatePreviousShopTier(11),this.updateGoldSpent(10,10),this.formGroup=new Ii({playerPack:new ie(this.player.pack),opponentPack:new ie(this.opponent.pack),playerToy:new ie(null===(e=this.player.toy)||void 0===e?void 0:e.name),playerToyLevel:new ie(null!==(s=null===(i=this.player.toy)||void 0===i?void 0:i.level)&&void 0!==s?s:1),opponentToy:new ie(null===(r=this.opponent.toy)||void 0===r?void 0:r.name),opponentToyLevel:new ie(null!==(a=null===(o=this.opponent.toy)||void 0===o?void 0:o.level)&&void 0!==a?a:1),turn:new ie(11),playerGoldSpent:new ie(10),opponentGoldSpent:new ie(10),angler:new ie(!1),allPets:new ie(!1),logFilter:new ie(null),playerPets:new n_([]),opponentPets:new n_([]),fontSize:new ie(13),customPacks:new n_([]),oldStork:new ie(!1),tokenPets:new ie(!1),komodoShuffle:new ie(!1),mana:new ie(!1),playerRollAmount:new ie(4),opponentRollAmount:new ie(4),playerLevel3Sold:new ie(0),opponentLevel3Sold:new ie(0),playerSummonedAmount:new ie(0),opponentSummonedAmount:new ie(0),showAdvanced:new ie(!1)}),this.initPetForms(),this.formGroup.get("playerPack").valueChanges.subscribe(p=>{if(null!=p){if("Add Custom Pack"==p)return void this.openCustomPackEditor();this.previousPackPlayer=p,this.updatePlayerPack(this.player,p)}}),this.formGroup.get("opponentPack").valueChanges.subscribe(p=>{if(null!=p){if("Add Custom Pack"==p)return void this.openCustomPackEditor();this.previousPackOpponent=p,this.updatePlayerPack(this.opponent,p)}}),this.formGroup.get("playerToy").valueChanges.subscribe(p=>{this.updatePlayerToy(this.player,p)}),this.formGroup.get("opponentToy").valueChanges.subscribe(p=>{this.updatePlayerToy(this.opponent,p)}),this.formGroup.get("playerToyLevel").valueChanges.subscribe(p=>{this.updateToyLevel(this.player,p)}),this.formGroup.get("opponentToyLevel").valueChanges.subscribe(p=>{this.updateToyLevel(this.opponent,p)}),this.formGroup.get("turn").valueChanges.subscribe(p=>{this.updatePreviousShopTier(p),this.setDayNight()}),this.formGroup.get("playerGoldSpent").valueChanges.subscribe(p=>{this.updateGoldSpent(p,null)}),this.formGroup.get("opponentGoldSpent").valueChanges.subscribe(p=>{this.updateGoldSpent(null,p)}),this.formGroup.get("angler").valueChanges.subscribe(p=>{setTimeout(()=>{this.updateSelectorPets()})}),this.formGroup.get("oldStork").valueChanges.subscribe(p=>{this.gameService.gameApi.oldStork=p}),this.formGroup.get("komodoShuffle").valueChanges.subscribe(p=>{this.gameService.gameApi.komodoShuffle=p}),this.formGroup.get("mana").valueChanges.subscribe(p=>{this.gameService.gameApi.mana=p}),this.formGroup.get("playerRollAmount").valueChanges.subscribe(p=>{this.gameService.gameApi.playerRollAmount=p,console.log("playerRollAmount",p)}),this.formGroup.get("opponentRollAmount").valueChanges.subscribe(p=>{this.gameService.gameApi.opponentRollAmount=p,console.log("opponentRollAmount",p)}),this.formGroup.get("playerLevel3Sold").valueChanges.subscribe(p=>{this.gameService.gameApi.playerLevel3Sold=p}),this.formGroup.get("opponentLevel3Sold").valueChanges.subscribe(p=>{this.gameService.gameApi.opponentLevel3Sold=p}),this.formGroup.get("playerSummonedAmount").valueChanges.subscribe(p=>{this.gameService.gameApi.playerSummonedAmount=p}),this.formGroup.get("opponentSummonedAmount").valueChanges.subscribe(p=>{this.gameService.gameApi.opponentSummonedAmount=p})}toggleAdvanced(){let e=this.formGroup.get("showAdvanced").value;this.formGroup.get("showAdvanced").setValue(!e)}initPetForms(){let e=[0,1,2,3,4],i=e.map(a=>{var l,h,f,p,y,_,w,T,P,N,I,H,G,Q,te,ae;return new Ii({name:new ie(null===(l=this.player[`pet${a}`])||void 0===l?void 0:l.name),attack:new ie(null!==(f=null===(h=this.player[`pet${a}`])||void 0===h?void 0:h.attack)&&void 0!==f?f:0),health:new ie(null!==(y=null===(p=this.player[`pet${a}`])||void 0===p?void 0:p.health)&&void 0!==y?y:0),exp:new ie(null!==(w=null===(_=this.player[`pet${a}`])||void 0===_?void 0:_.exp)&&void 0!==w?w:0),equipment:new ie(null===(T=this.player[`pet${a}`])||void 0===T?void 0:T.equipment),belugaSwallowedPet:new ie(null===(P=this.player[`pet${a}`])||void 0===P?void 0:P.belugaSwallowedPet),mana:new ie(null!==(I=null===(N=this.player[`pet${a}`])||void 0===N?void 0:N.mana)&&void 0!==I?I:0),abominationSwallowedPet1:new ie(null===(H=this.player[`pet${a}`])||void 0===H?void 0:H.abominationSwallowedPet1),abominationSwallowedPet2:new ie(null===(G=this.player[`pet${a}`])||void 0===G?void 0:G.abominationSwallowedPet2),abominationSwallowedPet3:new ie(null===(Q=this.player[`pet${a}`])||void 0===Q?void 0:Q.abominationSwallowedPet3),battlesFought:new ie(null!==(ae=null===(te=this.player[`pet${a}`])||void 0===te?void 0:te.battlesFought)&&void 0!==ae?ae:0)})}),s=this.formGroup.get("playerPets");s.clear();for(let a of i)s.push(a);let r=e.map(a=>{var l,h,f,p,y,_,w,T,P,N,I,H,G,Q,te,ae;return new Ii({name:new ie(null===(l=this.opponent[`pet${a}`])||void 0===l?void 0:l.name),attack:new ie(null!==(f=null===(h=this.opponent[`pet${a}`])||void 0===h?void 0:h.attack)&&void 0!==f?f:0),health:new ie(null!==(y=null===(p=this.opponent[`pet${a}`])||void 0===p?void 0:p.health)&&void 0!==y?y:0),exp:new ie(null!==(w=null===(_=this.opponent[`pet${a}`])||void 0===_?void 0:_.exp)&&void 0!==w?w:0),equipment:new ie(null===(T=this.opponent[`pet${a}`])||void 0===T?void 0:T.equipment),belugaSwallowedPet:new ie(null===(P=this.opponent[`pet${a}`])||void 0===P?void 0:P.belugaSwallowedPet),mana:new ie(null!==(I=null===(N=this.opponent[`pet${a}`])||void 0===N?void 0:N.mana)&&void 0!==I?I:0),abominationSwallowedPet1:new ie(null===(H=this.opponent[`pet${a}`])||void 0===H?void 0:H.abominationSwallowedPet1),abominationSwallowedPet2:new ie(null===(G=this.opponent[`pet${a}`])||void 0===G?void 0:G.abominationSwallowedPet2),abominationSwallowedPet3:new ie(null===(Q=this.opponent[`pet${a}`])||void 0===Q?void 0:Q.abominationSwallowedPet3),battlesFought:new ie(null!==(ae=null===(te=this.opponent[`pet${a}`])||void 0===te?void 0:te.battlesFought)&&void 0!==ae?ae:0)})}),o=this.formGroup.get("opponentPets");o.clear();for(let a of r)o.push(a)}getPlayerPetsFormArray(){return Array.from(this.formGroup.get("playerPets").controls).reverse()}getOpponentPetsFormArray(){return Array.from(this.formGroup.get("opponentPets").controls)}updatePlayerPack(e,i,s=!0){let r;switch(e.pack=i,i){case"Turtle":r=this.petService.turtlePackPets;break;case"Puppy":r=this.petService.puppyPackPets;break;case"Star":r=this.petService.starPackPets;break;case"Golden":r=this.petService.goldenPackPets;break;case"Unicorn":r=this.petService.unicornPackPets;break;default:r=this.petService.playerCustomPackPets.get(i)}e==this.player?this.gameService.setTierGroupPets(r,null):this.gameService.setTierGroupPets(null,r),this.formGroup.get("allPets")}updateSelectorPets(){this.petSelectors.forEach(e=>{e.initPets()})}updatePlayerToy(e,i){let s;e==this.player&&(s="playerToyLevel"),e==this.opponent&&(s="opponentToyLevel");let r=this.formGroup.get(s).value;e.toy=this.toyService.createToy(i,e,r),e.originalToy=e.toy}updatePreviousShopTier(e){let i=1;e>2&&(i=2),e>4&&(i=3),e>6&&(i=4),e>8&&(i=5),e>10&&(i=6),this.gameService.setPreviousShopTier(i),this.gameService.setTurnNumber(e)}updateGoldSpent(e,i){this.gameService.setGoldSpent(e,i)}updateToyLevel(e,i){e.toy&&(e.toy.level=i)}abilityCycle(){this.abilityService.executeHurtEvents(),this.executeFrequentEvents(),this.checkPetsAlive(),this.abilityService.executeFriendHurtEvents(),this.executeFrequentEvents(),this.checkPetsAlive(),this.abilityService.executeEnemyHurtEvents(),this.executeFrequentEvents(),this.checkPetsAlive(),this.abilityService.executeFaintEvents(),this.executeFrequentEvents(),this.checkPetsAlive(),this.abilityService.executeKnockOutEvents(),this.executeFrequentEvents(),this.checkPetsAlive(),this.abilityService.executeFriendAheadFaintsEvents(),this.executeFrequentEvents(),this.checkPetsAlive(),this.abilityService.executeFriendFaintsEvents(),this.abilityService.executeFriendFaintsToyEvents(),this.executeFrequentEvents(),this.checkPetsAlive(),this.abilityService.executeManaEvents(),this.executeFrequentEvents(),this.checkPetsAlive();let e=this.removeDeadPets();this.abilityService.executeSpawnEvents(),this.abilityService.executeSummonedEvents(),this.abilityService.executeFriendSummonedToyEvents(),this.abilityService.executeEnemySummonedEvents(),e&&this.emptyFrontSpaceCheck(),this.executeFrequentEvents(),this.checkPetsAlive()}executeFrequentEvents(){this.abilityService.executeFriendGainedPerkEvents(),this.abilityService.executeFriendGainedAilmentEvents(),this.abilityService.executeFriendlyToyBrokeEvents()}checkPetsAlive(){this.player.checkPetsAlive(),this.opponent.checkPetsAlive()}initToys(){var e,i;(null===(e=this.player.toy)||void 0===e?void 0:e.startOfBattle)&&this.toyService.setStartOfBattleEvent({callback:()=>{this.player.toy.startOfBattle(this.gameService.gameApi);let s=this.player.toy.level;for(let r of this.player.petArray)r instanceof Sr&&(this.player.toy.level=r.level,this.player.toy.startOfBattle(this.gameService.gameApi,!0),this.player.toy.level=s)},priority:this.player.toy.tier}),(null===(i=this.opponent.toy)||void 0===i?void 0:i.startOfBattle)&&this.toyService.setStartOfBattleEvent({callback:()=>{this.opponent.toy.startOfBattle(this.gameService.gameApi);let s=this.opponent.toy.level;for(let r of this.opponent.petArray)r instanceof Sr&&(this.opponent.toy.level=r.level,this.opponent.toy.startOfBattle(this.gameService.gameApi,!0),this.opponent.toy.level=s)},priority:this.opponent.toy.tier})}simulate(){this.localStorageService.setFormStorage(this.formGroup),this.resetSimulation(),this.setAbilityEquipments(this.player),this.setAbilityEquipments(this.opponent);for(let e=0;e<this.simulationBattleAmt;e++){for(this.initBattle(),this.startBattle(),this.initToys(),this.abilityService.initEndTurnEvents(this.player),this.abilityService.initEndTurnEvents(this.opponent),this.player.onionCheck(),this.opponent.onionCheck(),this.executeBeforeStartOfBattleEquipment(this.player),this.executeBeforeStartOfBattleEquipment(this.opponent),this.startOfBattleService.initStartOfBattleEvents(),this.startOfBattleService.executeToyPetEvents(),this.emptyFrontSpaceCheck(),this.executeFrequentEvents(),this.toyService.executeStartOfBattleEvents(),this.executeFrequentEvents(),this.startOfBattleService.executeNonToyPetEvents(),this.executeFrequentEvents(),this.abilityService.executeSummonedEvents(),this.abilityService.executeFriendSummonedToyEvents(),this.abilityService.executeEnemySummonedEvents(),this.abilityService.triggerTransformEvents(this.player),this.abilityService.triggerTransformEvents(this.opponent),this.abilityService.executeTransformEvents(),this.checkPetsAlive(),this.abilityService.hasAbilityCycleEvents||this.removeDeadPets();this.abilityService.hasAbilityCycleEvents;)this.abilityCycle();for(this.removeDeadPets(),this.pushPetsForwards(),this.logService.printState(this.player,this.opponent);this.battleStarted;)this.nextTurn();this.reset()}this.simulated=!0}removeDeadPets(){let e=!1;return e=this.player.removeDeadPets(),e=this.opponent.removeDeadPets()||e,e}emptyFrontSpaceCheck(){null==this.player.pet0&&this.abilityService.triggerEmptyFrontSpaceEvents(this.player),null==this.opponent.pet0&&this.abilityService.triggerEmptyFrontSpaceEvents(this.opponent),this.abilityService.executeEmptyFrontSpaceEvents(),null==this.player.pet0&&this.abilityService.triggerEmptyFrontSpaceToyEvents(this.player),null==this.opponent.pet0&&this.abilityService.triggerEmptyFrontSpaceToyEvents(this.opponent),this.abilityService.executeEmptyFrontSpaceToyEvents()}startBattle(){this.reset(),this.battleStarted=!0,this.turns=0}resetSimulation(){this.playerWinner=0,this.opponentWinner=0,this.viewBattle=null,this.draw=0,this.battles=[],this.currBattle=null}initBattle(){this.logService.reset(),this.currBattle={winner:"draw",logs:this.logs},this.battles.push(this.currBattle),this.gameService.gameApi.opponentSummonedAmount=this.formGroup.get("opponentSummonedAmount").value,this.gameService.gameApi.playerSummonedAmount=this.formGroup.get("playerSummonedAmount").value}reset(){this.player.resetPets(),this.opponent.resetPets()}nextTurn(){let e=!1,i=null;if(this.turns++,this.turns>=this.maxTurns&&(e=!0),!this.player.alive()&&this.opponent.alive()&&(i=this.opponent,this.currBattle.winner="opponent",this.opponentWinner++,e=!0),!this.opponent.alive()&&this.player.alive()&&(i=this.player,this.currBattle.winner="player",this.playerWinner++,e=!0),!this.opponent.alive()&&!this.player.alive()&&(this.draw++,e=!0),e)return this.endLog(i),void(this.battleStarted=!1);this.pushPetsForwards();let s=1;this.player.pet0 instanceof jt&&(s=this.player.pet0.level+1);for(let o=0;o<s;o++)this.doBeforeAttackEquipment(this.player);s=1,this.opponent.pet0 instanceof jt&&(s=this.opponent.pet0.level+1);for(let o=0;o<s;o++)this.doBeforeAttackEquipment(this.opponent);for(this.abilityService.executeEqiupmentBeforeAttackEvents(),this.player.checkPetsAlive(),this.opponent.checkPetsAlive();this.abilityService.hasAbilityCycleEvents;)this.abilityCycle();if(this.checkPetsAlive(),this.removeDeadPets(),!this.player.alive()||!this.opponent.alive())return;this.pushPetsForwards();let r=this.chocolateCakePresent();for(r.cake?this.doChocolateCakeEvents(r):this.fight(),this.abilityCycle();this.abilityService.hasAbilityCycleEvents;)this.abilityCycle();this.player.checkGoldenSpawn(),this.opponent.checkGoldenSpawn(),this.logService.printState(this.player,this.opponent)}chocolateCakePresent(){var e,i;let s={player:!1,opponent:!1,cake:!1};return s.player=(null===(e=this.player.pet0)||void 0===e?void 0:e.equipment)instanceof Wp,s.opponent=(null===(i=this.opponent.pet0)||void 0===i?void 0:i.equipment)instanceof Wp,s.cake=s.player||s.opponent,s}doChocolateCakeEvents(e){let i=[];e.player&&i.push(this.player.pet0),e.opponent&&i.push(this.opponent.pet0),i=(0,ge.shuffle)(i),i.sort((s,r)=>s.attack<r.attack?1:r.attack<s.attack?-1:0);for(let s of i)s.equipment.callback(s)}setAbilityEquipments(e){var i;for(let s of e.petArray)s.equipment instanceof T_&&(s.equipment.callback(s),s.eggplantTouched=!0),s.equipment instanceof x_&&s.equipment.callback(s),"startOfBattle"==(null===(i=s.equipment)||void 0===i?void 0:i.equipmentClass)&&s.equipment.callback(s),s.equipment instanceof I_&&s.equipment.callback(s)}executeBeforeStartOfBattleEquipment(e){for(let i of e.petArray){let s=1,r="";i instanceof jt&&(s=i.level+1,r=" (Panther)");for(let o=0;o<s;o++){if(i.equipment instanceof P_&&(i.increaseAttack(4),i.increaseHealth(4),this.logService.createLog({message:`${i.name} gained 4 attack and 4 health (Pie)${r}`,type:"equipment",player:e})),i.equipment instanceof A_)for(let a of e.petArray)i!=a&&(a.increaseAttack(2),a.increaseHealth(2),this.logService.createLog({message:`${a.name} gained 2 attack and 2 health (Pancake)${r}`,type:"equipment",player:e}));i.equipment instanceof R_&&i.equipment.callback(i),i.equipment instanceof O_&&i.equipment.callback(i),i.equipment instanceof N_&&i.equipment.callback(i)}}}pushPetsForwards(){1==this.turns&&this.player.pet0&&this.opponent.pet0||(this.player.pushPetsForward(),this.opponent.pushPetsForward(),this.player.onionCheck(),this.opponent.onionCheck())}doBeforeAttackEquipment(e){let i=e.pet0,s=e==this.player?this.opponent.pet0:this.player.pet0,r=i.equipment;if("snipe"==(null==r?void 0:r.equipmentClass)){let o=1;i instanceof Gp&&r instanceof qp&&(o=i.level);for(let a=0;a<o;a++)this.abilityService.setEqiupmentBeforeAttackEvent({callback:()=>{r.attackCallback(i,s)},priority:i.attack,player:this.player})}r instanceof bh&&this.abilityService.setEqiupmentBeforeAttackEvent({callback:()=>{r.callback(i)},priority:i.attack,player:this.player})}fight(){let e=this.player.pet0,i=this.opponent.pet0;e.beforeAttack&&this.abilityService.setBeforeAttackEvent({callback:e.beforeAttack.bind(e),priority:e.attack,player:this.player}),i.beforeAttack&&this.abilityService.setBeforeAttackEvent({callback:i.beforeAttack.bind(i),priority:i.attack,player:this.opponent}),this.abilityService.executeBeforeAttackEvents(),e.attackPet(i),i.attackPet(e),e.useAttackDefenseEquipment(),i.useAttackDefenseEquipment(),this.player.checkPetsAlive(),this.opponent.checkPetsAlive(),this.abilityService.executeAfterAttackEvents(),this.abilityService.executeFriendAheadAttacksEvents(),this.abilityService.executeFriendAttacksEvents()}endLog(e){let i;i=null==e?"Draw":e==this.player?"Player is the winner":"Opponent is the winner",this.logService.createLog({message:i,type:"board"})}get logs(){return this.logService.getLogs()}setViewBattle(e){this.viewBattle=e}getViewBattleLogs(){var e,i;return null!==(i=null===(e=this.viewBattle)||void 0===e?void 0:e.logs)&&void 0!==i?i:[]}getDrawWidth(){return`${this.losePercent+this.drawPercent}%`}getLoseWidth(){return`${this.losePercent}%`}getPlayerClass(e){return null==e.player?"log":e.player==this.player?"log-player":"log-opponent"}getRandomEvents(e){let i="",s=e.logs.filter(r=>1==r.randomEvent);for(let r of s)i+=r.message,r!=s[s.length-1]&&(i+="\n");return i}randomize(e){null==e&&!confirm("Are you sure you want to randomize?")||(e?this.randomizePlayerPets(e):(this.randomizePlayerPets(this.player),this.randomizePlayerPets(this.opponent)),this.formGroup&&this.initPetForms(),setTimeout(()=>{this.petSelectors.forEach(i=>{i.initSelector()})}))}zoomIn(){this.formGroup.get("fontSize").setValue(Math.min(this.formGroup.get("fontSize").value+1,20)),this.setFontSize()}zoomOut(){this.formGroup.get("fontSize").setValue(Math.max(this.formGroup.get("fontSize").value-1,8)),this.setFontSize()}setFontSize(){document.documentElement.style.fontSize=`${this.formGroup.get("fontSize").value}px`}clearCache(){this.localStorageService.clearStorage(),alert("Cache cleared. Refresh page to see changes.")}initModals(){this.customPackEditorModal=new yc(this.customPackEditor.nativeElement),this.customPackEditor.nativeElement.addEventListener("hidden.bs.modal",e=>{})}openCustomPackEditor(){this.customPackEditorModal.show(),this.formGroup.get("playerPack").setValue(this.previousPackPlayer,{emitEvent:!1}),this.formGroup.get("opponentPack").setValue(this.previousPackOpponent,{emitEvent:!1})}drop(e,i){let s=e.previousIndex,r=e.currentIndex,o=this.opponent;"player"==i&&(s=4-s,r=4-r,o=this.player),_3(this.formGroup.get(`${i}Pets`).controls,s,r);for(let a of this.petSelectors.toArray())a.substitutePet()}resetPlayer(e){if(!confirm(`Are you sure you want to reset ${e}?`))return;let i=this.petSelectors.toArray().slice("player"==e?0:5,"player"==e?5:10);for(let s of i)s.removePet()}export(){this.localStorageService.setFormStorage(this.formGroup);let e=JSON.stringify(this.formGroup.value);navigator.clipboard.writeText(e).then(()=>{alert("Copied to clipboard")})}import(e){let i=!1,s=JSON.parse(e);try{this.loadCalculatorFromValue(s),this.initApp(),this.petSelectors.forEach(r=>{r.fixLoadEquipment()}),i=!0}catch(r){console.error(r)}return i}get filteredBattles(){return this.battles.filter(e=>{let i=this.formGroup.get("logFilter").value;return null==i||e.winner==i})}get winPercent(){return X0(this.playerWinner/this.simulationBattleAmt*100)}get drawPercent(){return X0(this.draw/this.simulationBattleAmt*100)}get losePercent(){return X0(this.opponentWinner/this.simulationBattleAmt*100)}get validCustomPacks(){let e=this.formGroup.get("customPacks"),i=[];for(let s of e.controls)s.valid&&i.push(s);return i}}return n.\u0275fac=function(e){return new(e||n)(V(K_),V(Y_),V(Sh),V(J_),V(Q_),V(nX),V(sX),V(B3))},n.\u0275cmp=Xn({type:n,selectors:[["app-root"]],viewQuery:function(e,i){if(1&e&&(gy(UX,5),gy(jB,5)),2&e){let s;rc(s=oc())&&(i.customPackEditor=s.first),rc(s=oc())&&(i.petSelectors=s)}},decls:257,vars:25,consts:[[1,"container-fluid","app-wrapper","flex-col",3,"formGroup"],["container",""],[1,"row","mt-2"],[1,"col-12","header"],[1,"d-flex","align-items-end"],[3,"click"],["data-bs-toggle","modal","data-bs-target","#info",1,"btn-link","info-link"],[1,"d-flex","flex-column","align-items-end"],["data-bs-toggle","modal","data-bs-target","#patchNotes",1,"btn-link"],[1,"row","battle-controller","border"],[1,"col-12","d-flex","justify-content-between","py-2"],[1,"d-flex","flex-wrap"],[1,"form-group","min-w-input","me-3"],["for","playerPack"],["id","playerPack","formControlName","playerPack",1,"form-control"],["value","Turtle"],["value","Puppy"],["value","Star"],["value","Golden"],["value","Unicorn"],["label","Custom Packs"],[3,"value",4,"ngFor","ngForOf"],["value","Add Custom Pack"],[1,"form-group","min-w-input","pe-3","border-end"],["id","opponentPack","formControlName","opponentPack",1,"form-control"],[1,"form-group","min-w-input","mx-3"],["id","playerToy","formControlName","playerToy",1,"form-control"],[3,"ngValue"],[3,"label",4,"ngFor","ngForOf"],[1,"form-group","me-3"],["for","playerToyLevel"],["id","playerToyLevel","formControlName","playerToyLevel",1,"form-control"],["id","opponentToy","formControlName","opponentToy",1,"form-control"],["for","opponentToyLevel"],["id","opponentToyLevel","formControlName","opponentToyLevel",1,"form-control"],[1,"form-group","pe-3","d-flex","align-items-end","border-end"],[1,"btn-link",3,"click"],[1,"flex-column"],["title","Opponent's pack pets are included in the pet pool.",1,"form-check","ms-3"],["type","checkbox","value","","id","angler","formControlName","angler",1,"form-check-input"],["for","angler",1,"form-check-label"],["title","All pets are included in the pet pool.",1,"form-check","ms-3"],["type","checkbox","value","","id","allPets","formControlName","allPets",1,"form-check-input"],["for","allPets",1,"form-check-label"],["title","Stork spawns with base stats.",1,"form-check","ms-3"],["type","checkbox","value","","id","oldStork","formControlName","oldStork",1,"form-check-input"],["for","oldStork",1,"form-check-label"],["title","Include Token Pets in pet pool.",1,"form-check","ms-3"],["type","checkbox","value","","id","oldStork","formControlName","tokenPets",1,"form-check-input"],["for","tokenPets",1,"form-check-label"],["title","Shuffle pets in front of Komodo if present.",1,"form-check","ms-3"],["type","checkbox","value","","id","komodoShuffle","formControlName","komodoShuffle",1,"form-check-input"],["for","komodoShuffle",1,"form-check-label"],["title","Include Mana.",1,"form-check","ms-3"],["type","checkbox","value","","id","mana","formControlName","mana",1,"form-check-input"],["for","mana",1,"form-check-label"],[1,"flex-col","zoom-container"],["for","zoom"],[1,"btn","btn-secondary","me-2",3,"click"],[1,"btn","btn-secondary",3,"click"],["class","row battle-controller border",4,"ngIf"],[1,"row","day-night-container"],[1,"col-12"],[1,"row","battle-row","pb-5","pt-3"],[1,"col-12","col-xl-6","px-4","mb-2","mb-xl-0"],[1,"d-flex","justify-content-between"],[1,"me-4"],[1,"btn","btn-secondary","mb-1",3,"click"],[1,"card","p-2","player-card"],["cdkDropList","","cdkDropListOrientation","horizontal",1,"row","row-cols-1","row-cols-md-5",3,"cdkDropListDropped"],["class","col drag-container mb-2 mb-md-0","cdkDrag","",4,"ngFor","ngForOf"],[1,"col-12","col-xl-6","px-4"],[1,"card","p-2","player-card","ml-auto"],["class","col drag-container mb-2 mb-sm-0","cdkDrag","",4,"ngFor","ngForOf"],[1,"row","button-bar","pt-3","pb-1","border"],[1,"col-12","d-flex","justify-content-between"],[1,"btn","btn-primary","me-2","mb-2",3,"click"],["data-bs-toggle","modal","data-bs-target","#reportABug",1,"btn","btn-secondary","me-2","mb-2"],[1,"btn","btn-secondary","me-2","mb-2",3,"click"],["data-bs-toggle","modal","data-bs-target","#import",1,"btn","btn-secondary","mb-2"],["class","row",4,"ngIf"],[1,"row","flex-1","bottom-container"],[1,"col-12","col-md-6","border","h-100","flex-col","pe-0"],[1,"row"],["for","logFilter",1,"form-label"],[1,"form-check","form-check-inline"],["formControlName","logFilter","type","radio","name","logFilter","id","inlineRadio1",1,"form-check-input",3,"value"],["for","inlineRadio1",1,"form-check-label"],["formControlName","logFilter","type","radio","name","logFilter","id","inlineRadio2","value","player",1,"form-check-input"],["for","inlineRadio2",1,"form-check-label"],["formControlName","logFilter","type","radio","name","logFilter","id","inlineRadio3","value","opponent",1,"form-check-input"],["for","inlineRadio3",1,"form-check-label"],["formControlName","logFilter","type","radio","name","logFilter","id","inlineRadio4","value","draw",1,"form-check-input"],["for","inlineRadio4",1,"form-check-label"],[1,"battle-container","flex-1","scroll"],[1,"table"],[1,"battle-no"],["class","table-battle-row",3,"click",4,"ngFor","ngForOf"],[1,"col-12","col-md-6","border","h-100","flex-col"],[1,"row","log-container","flex-1","scroll"],["class","col-12",4,"ngFor","ngForOf"],["id","patchNotes","tabindex","-1","aria-labelledby","patchNotesLabel","aria-hidden","true",1,"modal","fade"],[1,"modal-dialog"],[1,"modal-content"],[1,"modal-header"],["id","patchNotesLabel",1,"modal-title","fs-5"],["type","button","data-bs-dismiss","modal","aria-label","Close",1,"btn-close"],[1,"modal-body"],[1,"modal-footer"],["id","customPackEditor","tabindex","-1","aria-labelledby","customPackEditorLabel","aria-hidden","true",1,"modal","fade"],["customPackEditor",""],[1,"modal-dialog","modal-lg"],["id","customPackEditorLabel",1,"modal-title","fs-5"],[3,"formGroup"],["id","info","tabindex","-1","aria-labelledby","exampleModalLabel","aria-hidden","true",1,"modal","fade"],["id","exampleModalLabel",1,"modal-title","fs-5"],["id","import","tabindex","-1","aria-labelledby","importModalLabel","aria-hidden","true",1,"modal","fade"],["id","importModalLabel",1,"modal-title","fs-5"],[3,"importFunc"],["id","reportABug","tabindex","-1","aria-labelledby","reportABug","aria-hidden","true",1,"modal","fade"],["id","reportABug",1,"modal-title","fs-5"],[3,"calcFormGroup"],[3,"value"],[3,"label"],[3,"ngValue",4,"ngFor","ngForOf"],[1,"border-end","d-flex","flex-wrap","pe-3"],[1,"form-group","small-w-input","me-s-3"],["for","turn"],["id","turn","type","number","formControlName","turn","max","99",1,"form-control"],[1,"form-group","advanced-input","ms-3"],["for","playerGoldSpent","title","Player Gold Spent"],["id","turn","type","number","formControlName","playerGoldSpent","max","99",1,"form-control"],["for","opponentGoldSpent","title","Opponent Gold Spent"],["id","turn","type","number","formControlName","opponentGoldSpent","max","99",1,"form-control"],["for","playerRollAmount","title","Player Roll Amount"],["id","turn","type","number","formControlName","playerRollAmount","max","99",1,"form-control"],["for","opponentRollAmount","title","Opponent Roll Amount"],["id","turn","type","number","formControlName","opponentRollAmount","max","99",1,"form-control"],["for","playerLevel3Sold","title","Player Level 3 Sold"],["id","turn","type","number","formControlName","playerLevel3Sold","max","99",1,"form-control"],["for","opponentLevel3Sold","title","Opponent Level 3 Sold"],["id","turn","type","number","formControlName","opponentLevel3Sold","max","99",1,"form-control"],["for","playerSummonedAmount","title","Player Summoned Amount"],["id","turn","type","number","formControlName","playerSummonedAmount","max","99",1,"form-control"],["for","opponentSummonedAmount","title","Opponent Summoned Amount"],["id","turn","type","number","formControlName","opponentSummonedAmount","max","99",1,"form-control"],["cdkDrag","",1,"col","drag-container","mb-2","mb-md-0"],["cdkDragHandle","",1,"drag-handle"],["fill","currentColor","viewBox","0 0 24 24"],["d","M10 9h4V6h3l-5-5-5 5h3v3zm-1 1H6V7l-5 5 5 5v-3h3v-4zm14 2l-5-5v3h-3v4h3v3l5-5zm-9 3h-4v3H7l5 5 5-5h-3v-3z"],["d","M0 0h24v24H0z","fill","none"],[3,"pet","player","opponent","index","formGroup","angler","allPets","mana","showTokenPets","customPacks"],["cdkDrag","",1,"col","drag-container","mb-2","mb-sm-0"],[1,"col-12","stats"],[1,"col-12","py-2"],[1,"results-bar"],[1,"draw-bar"],[1,"lose-bar"],[1,"table-battle-row",3,"click"],[1,"pre"],[3,"ngClass"]],template:function(e,i){1&e&&(m(0,"div",0,1),m(2,"div",2),m(3,"div",3),m(4,"div",4),m(5,"h1",5),Ge("click",function(){return i.printFormGroup()}),k(6,"SAP Calculator"),v(),m(7,"span",6),k(8,"Info/Guide"),v(),v(),m(9,"div",7),m(10,"span"),k(11),m(12,"span",8),k(13,"Patch Notes"),v(),v(),m(14,"span"),k(15),v(),v(),v(),v(),m(16,"div",9),m(17,"div",10),m(18,"div",11),m(19,"div",12),m(20,"label",13),k(21,"Player Pack"),v(),m(22,"select",14),m(23,"option",15),k(24,"Turtle"),v(),m(25,"option",16),k(26,"Puppy"),v(),m(27,"option",17),k(28,"Star"),v(),m(29,"option",18),k(30,"Golden"),v(),m(31,"option",19),k(32,"Unicorn"),v(),m(33,"optgroup",20),Re(34,jX,2,2,"option",21),m(35,"option",22),k(36,"Add Custom Pack"),v(),v(),v(),v(),m(37,"div",23),m(38,"label",13),k(39,"Opponent Pack"),v(),m(40,"select",24),m(41,"option",15),k(42,"Turtle"),v(),m(43,"option",16),k(44,"Puppy"),v(),m(45,"option",17),k(46,"Star"),v(),m(47,"option",18),k(48,"Golden"),v(),m(49,"option",19),k(50,"Unicorn"),v(),m(51,"optgroup",20),Re(52,WX,2,2,"option",21),m(53,"option",22),k(54,"Add Custom Pack"),v(),v(),v(),v(),m(55,"div",25),m(56,"label",13),k(57,"Player Toy"),v(),m(58,"select",26),m(59,"option",27),k(60,"None"),v(),Re(61,KX,2,2,"optgroup",28),nc(62,"keyvalue"),v(),v(),m(63,"div",29),m(64,"label",30),k(65,"Toy Level"),v(),m(66,"select",31),m(67,"option"),k(68,"1"),v(),m(69,"option"),k(70,"2"),v(),m(71,"option"),k(72,"3"),v(),v(),v(),m(73,"div",12),m(74,"label",13),k(75,"Opponent Toy"),v(),m(76,"select",32),m(77,"option",27),k(78,"None"),v(),Re(79,QX,2,2,"optgroup",28),nc(80,"keyvalue"),v(),v(),m(81,"div",29),m(82,"label",33),k(83,"Toy Level"),v(),m(84,"select",34),m(85,"option"),k(86,"1"),v(),m(87,"option"),k(88,"2"),v(),m(89,"option"),k(90,"3"),v(),v(),v(),m(91,"div",35),m(92,"span",36),Ge("click",function(){return i.toggleAdvanced()}),k(93),v(),v(),m(94,"div",37),m(95,"div",38),re(96,"input",39),m(97,"label",40),k(98," Angler "),v(),v(),m(99,"div",41),re(100,"input",42),m(101,"label",43),k(102," All Pets "),v(),v(),v(),m(103,"div",37),m(104,"div",44),re(105,"input",45),m(106,"label",46),k(107," Old Stork "),v(),v(),m(108,"div",47),re(109,"input",48),m(110,"label",49),k(111," Token Pets "),v(),v(),v(),m(112,"div",37),m(113,"div",50),re(114,"input",51),m(115,"label",52),k(116," Komodo Shuffle "),v(),v(),m(117,"div",53),re(118,"input",54),m(119,"label",55),k(120," Mana "),v(),v(),v(),v(),m(121,"div",56),m(122,"label",57),k(123,"Zoom"),v(),m(124,"div"),m(125,"button",58),Ge("click",function(){return i.zoomIn()}),k(126,"+"),v(),m(127,"button",59),Ge("click",function(){return i.zoomOut()}),k(128,"-"),v(),v(),v(),v(),v(),Re(129,JX,39,0,"div",60),m(130,"div",61),re(131,"div",62),v(),m(132,"div",63),m(133,"div",64),m(134,"div",65),m(135,"h2",66),k(136,"Player"),v(),m(137,"button",67),Ge("click",function(){return i.resetPlayer("player")}),k(138,"Reset"),v(),v(),m(139,"div",68),m(140,"div",69),Ge("cdkDropListDropped",function(r){return i.drop(r,"player")}),Re(141,ZX,6,10,"div",70),v(),v(),v(),m(142,"div",71),m(143,"div",65),m(144,"h2",66),k(145,"Opponent"),v(),m(146,"button",67),Ge("click",function(){return i.resetPlayer("opponent")}),k(147,"Reset"),v(),v(),m(148,"div",72),m(149,"div",69),Ge("cdkDropListDropped",function(r){return i.drop(r,"opponent")}),Re(150,XX,6,10,"div",73),v(),v(),v(),v(),m(151,"div",74),m(152,"div",75),m(153,"div"),m(154,"button",76),Ge("click",function(){return i.simulate()}),k(155,"Simulate"),v(),m(156,"button",76),Ge("click",function(){return i.randomize()}),k(157,"Randomize"),v(),v(),m(158,"div"),m(159,"button",77),k(160,"Report A Bug"),v(),m(161,"button",78),Ge("click",function(){return i.export()}),k(162,"Export Calculator"),v(),m(163,"button",79),k(164,"Import Calculator"),v(),v(),v(),v(),Re(165,eee,18,10,"div",80),m(166,"div",81),m(167,"div",82),m(168,"h3"),k(169,"Battles"),v(),m(170,"div",83),m(171,"div",62),m(172,"label",84),k(173,"Filter Battles By Winner"),v(),v(),m(174,"div",62),m(175,"div",85),re(176,"input",86),m(177,"label",87),k(178,"None"),v(),v(),m(179,"div",85),re(180,"input",88),m(181,"label",89),k(182,"Player"),v(),v(),m(183,"div",85),re(184,"input",90),m(185,"label",91),k(186,"Opponent"),v(),v(),m(187,"div",85),re(188,"input",92),m(189,"label",93),k(190,"Draw"),v(),v(),v(),v(),m(191,"div",94),m(192,"table",95),m(193,"thead"),m(194,"tr"),m(195,"th",96),k(196,"Battle No."),v(),m(197,"th"),k(198,"Winner"),v(),m(199,"th"),k(200,"Random Events"),v(),v(),v(),m(201,"tbody"),Re(202,tee,7,3,"tr",97),v(),v(),v(),v(),m(203,"div",98),m(204,"h3"),k(205,"Logs"),v(),m(206,"div",99),Re(207,nee,3,5,"div",100),v(),v(),v(),v(),m(208,"div",101),m(209,"div",102),m(210,"div",103),m(211,"div",104),m(212,"h1",105),k(213,"Patch Notes"),v(),re(214,"button",106),v(),m(215,"div",107),re(216,"app-patch-notes"),v(),m(217,"div",108),m(218,"span",36),Ge("click",function(){return i.clearCache()}),k(219,"Clear Cache"),v(),v(),v(),v(),v(),m(220,"div",109,110),m(222,"div",111),m(223,"div",103),m(224,"div",104),m(225,"h1",112),k(226,"Custom Pack Editor"),v(),re(227,"button",106),v(),m(228,"div",107),re(229,"app-custom-pack-editor",113),v(),v(),v(),v(),m(230,"div",114),m(231,"div",111),m(232,"div",103),m(233,"div",104),m(234,"h1",115),k(235,"Info"),v(),re(236,"button",106),v(),m(237,"div",107),re(238,"app-info"),v(),v(),v(),v(),m(239,"div",116),m(240,"div",111),m(241,"div",103),m(242,"div",104),m(243,"h1",117),k(244,"Import Calculator"),v(),re(245,"button",106),v(),m(246,"div",107),re(247,"app-import-calculator",118),v(),v(),v(),v(),m(248,"div",119),m(249,"div",111),m(250,"div",103),m(251,"div",104),m(252,"h1",120),k(253,"Report A Bug"),v(),re(254,"button",106),v(),m(255,"div",107),re(256,"app-report-a-bug",121),v(),v(),v(),v()),2&e&&(K("formGroup",i.formGroup),q(11),Ti("Version: ",i.version," "),q(4),Ti("SAP Version: ",i.sapVersion,""),q(19),K("ngForOf",i.validCustomPacks),q(18),K("ngForOf",i.validCustomPacks),q(7),K("ngValue",null),q(2),K("ngForOf",sc(62,21,i.toys)),q(16),K("ngValue",null),q(2),K("ngForOf",sc(80,23,i.toys)),q(14),Ti("",i.formGroup.get("showAdvanced").value?"Hide":"Show"," Advanced Settings"),q(36),K("ngIf",i.formGroup.get("showAdvanced").value),q(2),K("@dayNight",i.dayNight?"day":"night"),q(10),K("ngForOf",i.getPlayerPetsFormArray()),q(9),K("ngForOf",i.getOpponentPetsFormArray()),q(15),K("ngIf",i.simulated),q(11),K("value",null),q(26),K("ngForOf",i.filteredBattles),q(5),K("ngForOf",i.getViewBattleLogs()),q(22),K("formGroup",i.formGroup),q(18),K("importFunc",i.import.bind(i)),q(9),K("calcFormGroup",i.formGroup))},directives:[dc,Go,Op,hc,Fa,Y0,J0,kp,Ky,dh,dZ,qo,j0,rX,EX,wX,CX,GX,s_,r_,gZ,fZ,jB,p0],pipes:[v0],styles:[".app-wrapper[_ngcontent-%COMP%]{height:100vh}.day-night-container[_ngcontent-%COMP%]{min-height:1em}.header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:end}.flex-col[_ngcontent-%COMP%]{display:flex;flex-direction:column}.player-card[_ngcontent-%COMP%]{background-color:#e9c137;display:grid;grid-auto-rows:minmax(min-content,max-content);grid-template-columns:auto 1fr auto}.back[_ngcontent-%COMP%], .front[_ngcontent-%COMP%]{transform:rotate(180deg);writing-mode:vertical-lr;text-align:center}.battle-row[_ngcontent-%COMP%]{background-color:#5ebe09}.button-bar[_ngcontent-%COMP%], .battle-controller[_ngcontent-%COMP%]{background-color:#f5f5f5}.battle-controller[_ngcontent-%COMP%]   .min-w-input[_ngcontent-%COMP%]{min-width:100px}.small-w-input[_ngcontent-%COMP%]{width:60px}.stats[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{margin-right:.25em}.stats[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{margin-right:1em}.battle-no[_ngcontent-%COMP%]{width:1%;white-space:nowrap}.table-battle-row[_ngcontent-%COMP%]{cursor:pointer}.results-bar[_ngcontent-%COMP%], .draw-bar[_ngcontent-%COMP%], .lose-bar[_ngcontent-%COMP%]{display:inline-block}.draw-bar[_ngcontent-%COMP%], .lose-bar[_ngcontent-%COMP%]{height:100%;position:absolute;right:0}.results-bar[_ngcontent-%COMP%]{max-width:100%;border:.2em solid black;height:2em;width:30em;background-color:#0f0;position:relative}.draw-bar[_ngcontent-%COMP%]{background-color:#d3d3d3}.lose-bar[_ngcontent-%COMP%]{background-color:red}.log-player[_ngcontent-%COMP%]{background-color:#e4ffe0}.log-opponent[_ngcontent-%COMP%]{background-color:#ffe0e0}.log-container[_ngcontent-%COMP%]{display:flex;align-content:flex-start}.random-event[_ngcontent-%COMP%]{color:purple;font-weight:bold}.flex-1[_ngcontent-%COMP%]{flex:1}.bottom-container[_ngcontent-%COMP%]{min-height:30em}.bottom-container[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{min-height:15em}.scroll[_ngcontent-%COMP%]{overflow:scroll}.h-100[_ngcontent-%COMP%]{height:100%}.pre[_ngcontent-%COMP%]{white-space:pre}.btn-link[_ngcontent-%COMP%]{color:#0d6efd;cursor:pointer}.zoom-container[_ngcontent-%COMP%]{min-width:max-content}.zoom-container[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{width:2.5em}.cdk-drag-placeholder[_ngcontent-%COMP%]{opacity:0}.drag-container[_ngcontent-%COMP%]{position:relative}.drag-handle[_ngcontent-%COMP%]{width:1.25em;position:absolute;right:1em;z-index:1;opacity:.5;cursor:pointer}.info-link[_ngcontent-%COMP%]{margin-left:1em;margin-bottom:.5em}@media (max-width: 767.98px){.card[_ngcontent-%COMP%]{max-width:18em}.back[_ngcontent-%COMP%], .front[_ngcontent-%COMP%]{transform:initial;writing-mode:initial}.player-card[_ngcontent-%COMP%]{grid-template-columns:none}}.ml-auto[_ngcontent-%COMP%]{margin-left:auto}.bug-button[_ngcontent-%COMP%]{margin-right:.5em;margin-bottom:.25em}.advanced-input[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:60px}"],data:{animation:[yZ("dayNight",[N3("day",Tb({backgroundColor:"#85ddf2"})),N3("night",Tb({backgroundColor:"#33377a"})),bZ("day <=> night",[_Z("0.5s")])])]}}),n})();function J3(){return"undefined"!=typeof window&&void 0!==window.document}function FM(){return"undefined"!=typeof process&&"[object process]"==={}.toString.call(process)}function Za(n){switch(n.length){case 0:return new Hh;case 1:return n[0];default:return new L3(n)}}function Z3(n,t,e,i,s={},r={}){const o=[],a=[];let l=-1,h=null;if(i.forEach(f=>{const p=f.offset,y=p==l,_=y&&h||{};Object.keys(f).forEach(w=>{let T=w,P=f[w];if("offset"!==w)switch(T=t.normalizePropertyName(T,o),P){case"!":P=s[w];break;case Qo:P=r[w];break;default:P=t.normalizeStyleValue(w,T,P,o)}_[T]=P}),y||a.push(_),h=_,l=p}),o.length){const f="\n - ";throw new Error(`Unable to animate due to the following errors:${f}${o.join(f)}`)}return a}function HM(n,t,e,i){switch(t){case"start":n.onStart(()=>i(e&&qM(e,"start",n)));break;case"done":n.onDone(()=>i(e&&qM(e,"done",n)));break;case"destroy":n.onDestroy(()=>i(e&&qM(e,"destroy",n)))}}function qM(n,t,e){const i=e.totalTime,r=GM(n.element,n.triggerName,n.fromState,n.toState,t||n.phaseName,null==i?n.totalTime:i,!!e.disabled),o=n._data;return null!=o&&(r._data=o),r}function GM(n,t,e,i,s="",r=0,o){return{element:n,triggerName:t,fromState:e,toState:i,phaseName:s,totalTime:r,disabled:!!o}}function fs(n,t,e){let i;return n instanceof Map?(i=n.get(t),i||n.set(t,i=e)):(i=n[t],i||(i=n[t]=e)),i}function X3(n){const t=n.indexOf(":");return[n.substring(1,t),n.substr(t+1)]}let UM=(n,t)=>!1,jM=(n,t)=>!1,eF=(n,t,e)=>[];const tF=FM();(tF||"undefined"!=typeof Element)&&(UM=J3()?(n,t)=>{for(;t&&t!==document.documentElement;){if(t===n)return!0;t=t.parentNode||t.host}return!1}:(n,t)=>n.contains(t),jM=(()=>{if(tF||Element.prototype.matches)return(n,t)=>n.matches(t);{const n=Element.prototype,t=n.matchesSelector||n.mozMatchesSelector||n.msMatchesSelector||n.oMatchesSelector||n.webkitMatchesSelector;return t?(e,i)=>t.apply(e,[i]):jM}})(),eF=(n,t,e)=>{let i=[];if(e){const s=n.querySelectorAll(t);for(let r=0;r<s.length;r++)i.push(s[r])}else{const s=n.querySelector(t);s&&i.push(s)}return i});let Cc=null,iF=!1;function WM(n){Cc||(Cc=("undefined"!=typeof document?document.body:null)||{},iF=!!Cc.style&&"WebkitAppearance"in Cc.style);let t=!0;return Cc.style&&!function(n){return"ebkit"==n.substring(1,6)}(n)&&(t=n in Cc.style,!t&&iF&&(t="Webkit"+n.charAt(0).toUpperCase()+n.substr(1)in Cc.style)),t}const zM=jM,KM=UM,YM=eF;function nF(n){const t={};return Object.keys(n).forEach(e=>{const i=e.replace(/([a-z])([A-Z])/g,"$1-$2");t[i]=n[e]}),t}let sF=(()=>{class n{validateStyleProperty(e){return WM(e)}matchesElement(e,i){return zM(e,i)}containsElement(e,i){return KM(e,i)}query(e,i,s){return YM(e,i,s)}computeStyle(e,i,s){return s||""}animate(e,i,s,r,o,a=[],l){return new Hh(s,r)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=le({token:n,factory:n.\u0275fac}),n})(),QM=(()=>{class n{}return n.NOOP=new sF,n})();const JM="ng-enter",Mb="ng-leave",Ib="ng-trigger",Ob=".ng-trigger",oF="ng-animating",ZM=".ng-animating";function kc(n){if("number"==typeof n)return n;const t=n.match(/^(-?[\.\d]+)(m?s)/);return!t||t.length<2?0:XM(parseFloat(t[1]),t[2])}function XM(n,t){return"s"===t?1e3*n:n}function Nb(n,t,e){return n.hasOwnProperty("duration")?n:function(n,t,e){let s,r=0,o="";if("string"==typeof n){const a=n.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===a)return t.push(`The provided timing value "${n}" is invalid.`),{duration:0,delay:0,easing:""};s=XM(parseFloat(a[1]),a[2]);const l=a[3];null!=l&&(r=XM(parseFloat(l),a[4]));const h=a[5];h&&(o=h)}else s=n;if(!e){let a=!1,l=t.length;s<0&&(t.push("Duration values below 0 are not allowed for this animation step."),a=!0),r<0&&(t.push("Delay values below 0 are not allowed for this animation step."),a=!0),a&&t.splice(l,0,`The provided timing value "${n}" is invalid.`)}return{duration:s,delay:r,easing:o}}(n,t,e)}function qh(n,t={}){return Object.keys(n).forEach(e=>{t[e]=n[e]}),t}function Xa(n,t,e={}){if(t)for(let i in n)e[i]=n[i];else qh(n,e);return e}function lF(n,t,e){return e?t+":"+e+";":""}function cF(n){let t="";for(let e=0;e<n.style.length;e++){const i=n.style.item(e);t+=lF(0,i,n.style.getPropertyValue(i))}for(const e in n.style)n.style.hasOwnProperty(e)&&!e.startsWith("_")&&(t+=lF(0,pee(e),n.style[e]));n.setAttribute("style",t)}function Jr(n,t,e){n.style&&(Object.keys(t).forEach(i=>{const s=tI(i);e&&!e.hasOwnProperty(i)&&(e[i]=n.style[s]),n.style[s]=t[i]}),FM()&&cF(n))}function Dc(n,t){n.style&&(Object.keys(t).forEach(e=>{const i=tI(e);n.style[i]=""}),FM()&&cF(n))}function gg(n){return Array.isArray(n)?1==n.length?n[0]:O3(n):n}const eI=new RegExp("{{\\s*(.+?)\\s*}}","g");function uF(n){let t=[];if("string"==typeof n){let e;for(;e=eI.exec(n);)t.push(e[1]);eI.lastIndex=0}return t}function Rb(n,t,e){const i=n.toString(),s=i.replace(eI,(r,o)=>{let a=t[o];return t.hasOwnProperty(o)||(e.push(`Please provide a value for the animation param ${o}`),a=""),a.toString()});return s==i?n:s}function Lb(n){const t=[];let e=n.next();for(;!e.done;)t.push(e.value),e=n.next();return t}const fee=/-+([a-z0-9])/g;function tI(n){return n.replace(fee,(...t)=>t[1].toUpperCase())}function pee(n){return n.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}function hF(n,t){return 0===n||0===t}function dF(n,t,e){const i=Object.keys(e);if(i.length&&t.length){let r=t[0],o=[];if(i.forEach(a=>{r.hasOwnProperty(a)||o.push(a),r[a]=e[a]}),o.length)for(var s=1;s<t.length;s++){let a=t[s];o.forEach(function(l){a[l]=iI(n,l)})}}return t}function ps(n,t,e){switch(t.type){case 7:return n.visitTrigger(t,e);case 0:return n.visitState(t,e);case 1:return n.visitTransition(t,e);case 2:return n.visitSequence(t,e);case 3:return n.visitGroup(t,e);case 4:return n.visitAnimate(t,e);case 5:return n.visitKeyframes(t,e);case 6:return n.visitStyle(t,e);case 8:return n.visitReference(t,e);case 9:return n.visitAnimateChild(t,e);case 10:return n.visitAnimateRef(t,e);case 11:return n.visitQuery(t,e);case 12:return n.visitStagger(t,e);default:throw new Error(`Unable to resolve animation metadata node #${t.type}`)}}function iI(n,t){return window.getComputedStyle(n)[t]}function gee(n,t){const e=[];return"string"==typeof n?n.split(/\s*,\s*/).forEach(i=>function(n,t,e){if(":"==n[0]){const l=function(n,t){switch(n){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(e,i)=>parseFloat(i)>parseFloat(e);case":decrement":return(e,i)=>parseFloat(i)<parseFloat(e);default:return t.push(`The transition alias value "${n}" is not supported`),"* => *"}}(n,e);if("function"==typeof l)return void t.push(l);n=l}const i=n.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==i||i.length<4)return e.push(`The provided transition expression "${n}" is not supported`),t;const s=i[1],r=i[2],o=i[3];t.push(fF(s,o));"<"==r[0]&&!("*"==s&&"*"==o)&&t.push(fF(o,s))}(i,e,t)):e.push(n),e}const Vb=new Set(["true","1"]),$b=new Set(["false","0"]);function fF(n,t){const e=Vb.has(n)||$b.has(n),i=Vb.has(t)||$b.has(t);return(s,r)=>{let o="*"==n||n==s,a="*"==t||t==r;return!o&&e&&"boolean"==typeof s&&(o=s?Vb.has(n):$b.has(n)),!a&&i&&"boolean"==typeof r&&(a=r?Vb.has(t):$b.has(t)),o&&a}}const yee=new RegExp("s*:selfs*,?","g");function nI(n,t,e){return new _ee(n).build(t,e)}class _ee{constructor(t){this._driver=t}build(t,e){const i=new Eee(e);return this._resetContextStyleTimingState(i),ps(this,gg(t),i)}_resetContextStyleTimingState(t){t.currentQuerySelector="",t.collectedStyles={},t.collectedStyles[""]={},t.currentTime=0}visitTrigger(t,e){let i=e.queryCount=0,s=e.depCount=0;const r=[],o=[];return"@"==t.name.charAt(0)&&e.errors.push("animation triggers cannot be prefixed with an `@` sign (e.g. trigger('@foo', [...]))"),t.definitions.forEach(a=>{if(this._resetContextStyleTimingState(e),0==a.type){const l=a,h=l.name;h.toString().split(/\s*,\s*/).forEach(f=>{l.name=f,r.push(this.visitState(l,e))}),l.name=h}else if(1==a.type){const l=this.visitTransition(a,e);i+=l.queryCount,s+=l.depCount,o.push(l)}else e.errors.push("only state() and transition() definitions can sit inside of a trigger()")}),{type:7,name:t.name,states:r,transitions:o,queryCount:i,depCount:s,options:null}}visitState(t,e){const i=this.visitStyle(t.styles,e),s=t.options&&t.options.params||null;if(i.containsDynamicStyles){const r=new Set,o=s||{};if(i.styles.forEach(a=>{if(Fb(a)){const l=a;Object.keys(l).forEach(h=>{uF(l[h]).forEach(f=>{o.hasOwnProperty(f)||r.add(f)})})}}),r.size){const a=Lb(r.values());e.errors.push(`state("${t.name}", ...) must define default values for all the following style substitutions: ${a.join(", ")}`)}}return{type:0,name:t.name,style:i,options:s?{params:s}:null}}visitTransition(t,e){e.queryCount=0,e.depCount=0;const i=ps(this,gg(t.animation),e);return{type:1,matchers:gee(t.expr,e.errors),animation:i,queryCount:e.queryCount,depCount:e.depCount,options:Pc(t.options)}}visitSequence(t,e){return{type:2,steps:t.steps.map(i=>ps(this,i,e)),options:Pc(t.options)}}visitGroup(t,e){const i=e.currentTime;let s=0;const r=t.steps.map(o=>{e.currentTime=i;const a=ps(this,o,e);return s=Math.max(s,e.currentTime),a});return e.currentTime=s,{type:3,steps:r,options:Pc(t.options)}}visitAnimate(t,e){const i=function(n,t){let e=null;if(n.hasOwnProperty("duration"))e=n;else if("number"==typeof n)return sI(Nb(n,t).duration,0,"");const i=n;if(i.split(/\s+/).some(r=>"{"==r.charAt(0)&&"{"==r.charAt(1))){const r=sI(0,0,"");return r.dynamic=!0,r.strValue=i,r}return e=e||Nb(i,t),sI(e.duration,e.delay,e.easing)}(t.timings,e.errors);e.currentAnimateTimings=i;let s,r=t.styles?t.styles:Tb({});if(5==r.type)s=this.visitKeyframes(r,e);else{let o=t.styles,a=!1;if(!o){a=!0;const h={};i.easing&&(h.easing=i.easing),o=Tb(h)}e.currentTime+=i.duration+i.delay;const l=this.visitStyle(o,e);l.isEmptyStep=a,s=l}return e.currentAnimateTimings=null,{type:4,timings:i,style:s,options:null}}visitStyle(t,e){const i=this._makeStyleAst(t,e);return this._validateStyleAst(i,e),i}_makeStyleAst(t,e){const i=[];Array.isArray(t.styles)?t.styles.forEach(o=>{"string"==typeof o?o==Qo?i.push(o):e.errors.push(`The provided style string value ${o} is not allowed.`):i.push(o)}):i.push(t.styles);let s=!1,r=null;return i.forEach(o=>{if(Fb(o)){const a=o,l=a.easing;if(l&&(r=l,delete a.easing),!s)for(let h in a)if(a[h].toString().indexOf("{{")>=0){s=!0;break}}}),{type:6,styles:i,easing:r,offset:t.offset,containsDynamicStyles:s,options:null}}_validateStyleAst(t,e){const i=e.currentAnimateTimings;let s=e.currentTime,r=e.currentTime;i&&r>0&&(r-=i.duration+i.delay),t.styles.forEach(o=>{"string"!=typeof o&&Object.keys(o).forEach(a=>{if(!this._driver.validateStyleProperty(a))return void e.errors.push(`The provided animation property "${a}" is not a supported CSS property for animations`);const l=e.collectedStyles[e.currentQuerySelector],h=l[a];let f=!0;h&&(r!=s&&r>=h.startTime&&s<=h.endTime&&(e.errors.push(`The CSS property "${a}" that exists between the times of "${h.startTime}ms" and "${h.endTime}ms" is also being animated in a parallel animation between the times of "${r}ms" and "${s}ms"`),f=!1),r=h.startTime),f&&(l[a]={startTime:r,endTime:s}),e.options&&function(n,t,e){const i=t.params||{},s=uF(n);s.length&&s.forEach(r=>{i.hasOwnProperty(r)||e.push(`Unable to resolve the local animation param ${r} in the given list of values`)})}(o[a],e.options,e.errors)})})}visitKeyframes(t,e){const i={type:5,styles:[],options:null};if(!e.currentAnimateTimings)return e.errors.push("keyframes() must be placed inside of a call to animate()"),i;let r=0;const o=[];let a=!1,l=!1,h=0;const f=t.steps.map(N=>{const I=this._makeStyleAst(N,e);let H=null!=I.offset?I.offset:function(n){if("string"==typeof n)return null;let t=null;if(Array.isArray(n))n.forEach(e=>{if(Fb(e)&&e.hasOwnProperty("offset")){const i=e;t=parseFloat(i.offset),delete i.offset}});else if(Fb(n)&&n.hasOwnProperty("offset")){const e=n;t=parseFloat(e.offset),delete e.offset}return t}(I.styles),G=0;return null!=H&&(r++,G=I.offset=H),l=l||G<0||G>1,a=a||G<h,h=G,o.push(G),I});l&&e.errors.push("Please ensure that all keyframe offsets are between 0 and 1"),a&&e.errors.push("Please ensure that all keyframe offsets are in order");const p=t.steps.length;let y=0;r>0&&r<p?e.errors.push("Not all style() steps within the declared keyframes() contain offsets"):0==r&&(y=1/(p-1));const _=p-1,w=e.currentTime,T=e.currentAnimateTimings,P=T.duration;return f.forEach((N,I)=>{const H=y>0?I==_?1:y*I:o[I],G=H*P;e.currentTime=w+T.delay+G,T.duration=G,this._validateStyleAst(N,e),N.offset=H,i.styles.push(N)}),i}visitReference(t,e){return{type:8,animation:ps(this,gg(t.animation),e),options:Pc(t.options)}}visitAnimateChild(t,e){return e.depCount++,{type:9,options:Pc(t.options)}}visitAnimateRef(t,e){return{type:10,animation:this.visitReference(t.animation,e),options:Pc(t.options)}}visitQuery(t,e){const i=e.currentQuerySelector,s=t.options||{};e.queryCount++,e.currentQuery=t;const[r,o]=function(n){const t=!!n.split(/\s*,\s*/).find(e=>":self"==e);return t&&(n=n.replace(yee,"")),n=n.replace(/@\*/g,Ob).replace(/@\w+/g,e=>Ob+"-"+e.substr(1)).replace(/:animating/g,ZM),[n,t]}(t.selector);e.currentQuerySelector=i.length?i+" "+r:r,fs(e.collectedStyles,e.currentQuerySelector,{});const a=ps(this,gg(t.animation),e);return e.currentQuery=null,e.currentQuerySelector=i,{type:11,selector:r,limit:s.limit||0,optional:!!s.optional,includeSelf:o,animation:a,originalSelector:t.selector,options:Pc(t.options)}}visitStagger(t,e){e.currentQuery||e.errors.push("stagger() can only be used inside of query()");const i="full"===t.timings?{duration:0,delay:0,easing:"full"}:Nb(t.timings,e.errors,!0);return{type:12,animation:ps(this,gg(t.animation),e),timings:i,options:null}}}class Eee{constructor(t){this.errors=t,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles={},this.options=null}}function Fb(n){return!Array.isArray(n)&&"object"==typeof n}function Pc(n){return n?(n=qh(n)).params&&(n.params=function(n){return n?qh(n):null}(n.params)):n={},n}function sI(n,t,e){return{duration:n,delay:t,easing:e}}function rI(n,t,e,i,s,r,o=null,a=!1){return{type:1,element:n,keyframes:t,preStyleProps:e,postStyleProps:i,duration:s,delay:r,totalTime:s+r,easing:o,subTimeline:a}}class Hb{constructor(){this._map=new Map}consume(t){let e=this._map.get(t);return e?this._map.delete(t):e=[],e}append(t,e){let i=this._map.get(t);i||this._map.set(t,i=[]),i.push(...e)}has(t){return this._map.has(t)}clear(){this._map.clear()}}const Pee=new RegExp(":enter","g"),Tee=new RegExp(":leave","g");function oI(n,t,e,i,s,r={},o={},a,l,h=[]){return(new xee).buildKeyframes(n,t,e,i,s,r,o,a,l,h)}class xee{buildKeyframes(t,e,i,s,r,o,a,l,h,f=[]){h=h||new Hb;const p=new aI(t,e,h,s,r,f,[]);p.options=l,p.currentTimeline.setStyles([o],null,p.errors,l),ps(this,i,p);const y=p.timelines.filter(_=>_.containsAnimation());if(y.length&&Object.keys(a).length){const _=y[y.length-1];_.allowOnlyTimelineStyles()||_.setStyles([a],null,p.errors,l)}return y.length?y.map(_=>_.buildKeyframes()):[rI(e,[],[],[],0,0,"",!1)]}visitTrigger(t,e){}visitState(t,e){}visitTransition(t,e){}visitAnimateChild(t,e){const i=e.subInstructions.consume(e.element);if(i){const s=e.createSubContext(t.options),r=e.currentTimeline.currentTime,o=this._visitSubInstructions(i,s,s.options);r!=o&&e.transformIntoNewTimeline(o)}e.previousNode=t}visitAnimateRef(t,e){const i=e.createSubContext(t.options);i.transformIntoNewTimeline(),this.visitReference(t.animation,i),e.transformIntoNewTimeline(i.currentTimeline.currentTime),e.previousNode=t}_visitSubInstructions(t,e,i){let r=e.currentTimeline.currentTime;const o=null!=i.duration?kc(i.duration):null,a=null!=i.delay?kc(i.delay):null;return 0!==o&&t.forEach(l=>{const h=e.appendInstructionToTimeline(l,o,a);r=Math.max(r,h.duration+h.delay)}),r}visitReference(t,e){e.updateOptions(t.options,!0),ps(this,t.animation,e),e.previousNode=t}visitSequence(t,e){const i=e.subContextCount;let s=e;const r=t.options;if(r&&(r.params||r.delay)&&(s=e.createSubContext(r),s.transformIntoNewTimeline(),null!=r.delay)){6==s.previousNode.type&&(s.currentTimeline.snapshotCurrentStyles(),s.previousNode=qb);const o=kc(r.delay);s.delayNextStep(o)}t.steps.length&&(t.steps.forEach(o=>ps(this,o,s)),s.currentTimeline.applyStylesToKeyframe(),s.subContextCount>i&&s.transformIntoNewTimeline()),e.previousNode=t}visitGroup(t,e){const i=[];let s=e.currentTimeline.currentTime;const r=t.options&&t.options.delay?kc(t.options.delay):0;t.steps.forEach(o=>{const a=e.createSubContext(t.options);r&&a.delayNextStep(r),ps(this,o,a),s=Math.max(s,a.currentTimeline.currentTime),i.push(a.currentTimeline)}),i.forEach(o=>e.currentTimeline.mergeTimelineCollectedStyles(o)),e.transformIntoNewTimeline(s),e.previousNode=t}_visitTiming(t,e){if(t.dynamic){const i=t.strValue;return Nb(e.params?Rb(i,e.params,e.errors):i,e.errors)}return{duration:t.duration,delay:t.delay,easing:t.easing}}visitAnimate(t,e){const i=e.currentAnimateTimings=this._visitTiming(t.timings,e),s=e.currentTimeline;i.delay&&(e.incrementTime(i.delay),s.snapshotCurrentStyles());const r=t.style;5==r.type?this.visitKeyframes(r,e):(e.incrementTime(i.duration),this.visitStyle(r,e),s.applyStylesToKeyframe()),e.currentAnimateTimings=null,e.previousNode=t}visitStyle(t,e){const i=e.currentTimeline,s=e.currentAnimateTimings;!s&&i.getCurrentStyleProperties().length&&i.forwardFrame();const r=s&&s.easing||t.easing;t.isEmptyStep?i.applyEmptyStep(r):i.setStyles(t.styles,r,e.errors,e.options),e.previousNode=t}visitKeyframes(t,e){const i=e.currentAnimateTimings,s=e.currentTimeline.duration,r=i.duration,a=e.createSubContext().currentTimeline;a.easing=i.easing,t.styles.forEach(l=>{a.forwardTime((l.offset||0)*r),a.setStyles(l.styles,l.easing,e.errors,e.options),a.applyStylesToKeyframe()}),e.currentTimeline.mergeTimelineCollectedStyles(a),e.transformIntoNewTimeline(s+r),e.previousNode=t}visitQuery(t,e){const i=e.currentTimeline.currentTime,s=t.options||{},r=s.delay?kc(s.delay):0;r&&(6===e.previousNode.type||0==i&&e.currentTimeline.getCurrentStyleProperties().length)&&(e.currentTimeline.snapshotCurrentStyles(),e.previousNode=qb);let o=i;const a=e.invokeQuery(t.selector,t.originalSelector,t.limit,t.includeSelf,!!s.optional,e.errors);e.currentQueryTotal=a.length;let l=null;a.forEach((h,f)=>{e.currentQueryIndex=f;const p=e.createSubContext(t.options,h);r&&p.delayNextStep(r),h===e.element&&(l=p.currentTimeline),ps(this,t.animation,p),p.currentTimeline.applyStylesToKeyframe(),o=Math.max(o,p.currentTimeline.currentTime)}),e.currentQueryIndex=0,e.currentQueryTotal=0,e.transformIntoNewTimeline(o),l&&(e.currentTimeline.mergeTimelineCollectedStyles(l),e.currentTimeline.snapshotCurrentStyles()),e.previousNode=t}visitStagger(t,e){const i=e.parentContext,s=e.currentTimeline,r=t.timings,o=Math.abs(r.duration),a=o*(e.currentQueryTotal-1);let l=o*e.currentQueryIndex;switch(r.duration<0?"reverse":r.easing){case"reverse":l=a-l;break;case"full":l=i.currentStaggerTime}const f=e.currentTimeline;l&&f.delayNextStep(l);const p=f.currentTime;ps(this,t.animation,e),e.previousNode=t,i.currentStaggerTime=s.currentTime-p+(s.startTime-i.currentTimeline.startTime)}}const qb={};class aI{constructor(t,e,i,s,r,o,a,l){this._driver=t,this.element=e,this.subInstructions=i,this._enterClassName=s,this._leaveClassName=r,this.errors=o,this.timelines=a,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=qb,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=l||new Gb(this._driver,e,0),a.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(t,e){if(!t)return;const i=t;let s=this.options;null!=i.duration&&(s.duration=kc(i.duration)),null!=i.delay&&(s.delay=kc(i.delay));const r=i.params;if(r){let o=s.params;o||(o=this.options.params={}),Object.keys(r).forEach(a=>{(!e||!o.hasOwnProperty(a))&&(o[a]=Rb(r[a],o,this.errors))})}}_copyOptions(){const t={};if(this.options){const e=this.options.params;if(e){const i=t.params={};Object.keys(e).forEach(s=>{i[s]=e[s]})}}return t}createSubContext(t=null,e,i){const s=e||this.element,r=new aI(this._driver,s,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(s,i||0));return r.previousNode=this.previousNode,r.currentAnimateTimings=this.currentAnimateTimings,r.options=this._copyOptions(),r.updateOptions(t),r.currentQueryIndex=this.currentQueryIndex,r.currentQueryTotal=this.currentQueryTotal,r.parentContext=this,this.subContextCount++,r}transformIntoNewTimeline(t){return this.previousNode=qb,this.currentTimeline=this.currentTimeline.fork(this.element,t),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(t,e,i){const s={duration:null!=e?e:t.duration,delay:this.currentTimeline.currentTime+(null!=i?i:0)+t.delay,easing:""},r=new Mee(this._driver,t.element,t.keyframes,t.preStyleProps,t.postStyleProps,s,t.stretchStartingKeyframe);return this.timelines.push(r),s}incrementTime(t){this.currentTimeline.forwardTime(this.currentTimeline.duration+t)}delayNextStep(t){t>0&&this.currentTimeline.delayNextStep(t)}invokeQuery(t,e,i,s,r,o){let a=[];if(s&&a.push(this.element),t.length>0){t=(t=t.replace(Pee,"."+this._enterClassName)).replace(Tee,"."+this._leaveClassName);let h=this._driver.query(this.element,t,1!=i);0!==i&&(h=i<0?h.slice(h.length+i,h.length):h.slice(0,i)),a.push(...h)}return!r&&0==a.length&&o.push(`\`query("${e}")\` returned zero elements. (Use \`query("${e}", { optional: true })\` if you wish to allow this.)`),a}}class Gb{constructor(t,e,i,s){this._driver=t,this.element=e,this.startTime=i,this._elementTimelineStylesLookup=s,this.duration=0,this._previousKeyframe={},this._currentKeyframe={},this._keyframes=new Map,this._styleSummary={},this._pendingStyles={},this._backFill={},this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._localTimelineStyles=Object.create(this._backFill,{}),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(e),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(e,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.getCurrentStyleProperties().length>0;default:return!0}}getCurrentStyleProperties(){return Object.keys(this._currentKeyframe)}get currentTime(){return this.startTime+this.duration}delayNextStep(t){const e=1==this._keyframes.size&&Object.keys(this._pendingStyles).length;this.duration||e?(this.forwardTime(this.currentTime+t),e&&this.snapshotCurrentStyles()):this.startTime+=t}fork(t,e){return this.applyStylesToKeyframe(),new Gb(this._driver,t,e||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=Object.create(this._backFill,{}),this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(t){this.applyStylesToKeyframe(),this.duration=t,this._loadKeyframe()}_updateStyle(t,e){this._localTimelineStyles[t]=e,this._globalTimelineStyles[t]=e,this._styleSummary[t]={time:this.currentTime,value:e}}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(t){t&&(this._previousKeyframe.easing=t),Object.keys(this._globalTimelineStyles).forEach(e=>{this._backFill[e]=this._globalTimelineStyles[e]||Qo,this._currentKeyframe[e]=Qo}),this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(t,e,i,s){e&&(this._previousKeyframe.easing=e);const r=s&&s.params||{},o=function(n,t){const e={};let i;return n.forEach(s=>{"*"===s?(i=i||Object.keys(t),i.forEach(r=>{e[r]=Qo})):Xa(s,!1,e)}),e}(t,this._globalTimelineStyles);Object.keys(o).forEach(a=>{const l=Rb(o[a],r,i);this._pendingStyles[a]=l,this._localTimelineStyles.hasOwnProperty(a)||(this._backFill[a]=this._globalTimelineStyles.hasOwnProperty(a)?this._globalTimelineStyles[a]:Qo),this._updateStyle(a,l)})}applyStylesToKeyframe(){const t=this._pendingStyles,e=Object.keys(t);0!=e.length&&(this._pendingStyles={},e.forEach(i=>{this._currentKeyframe[i]=t[i]}),Object.keys(this._localTimelineStyles).forEach(i=>{this._currentKeyframe.hasOwnProperty(i)||(this._currentKeyframe[i]=this._localTimelineStyles[i])}))}snapshotCurrentStyles(){Object.keys(this._localTimelineStyles).forEach(t=>{const e=this._localTimelineStyles[t];this._pendingStyles[t]=e,this._updateStyle(t,e)})}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const t=[];for(let e in this._currentKeyframe)t.push(e);return t}mergeTimelineCollectedStyles(t){Object.keys(t._styleSummary).forEach(e=>{const i=this._styleSummary[e],s=t._styleSummary[e];(!i||s.time>i.time)&&this._updateStyle(e,s.value)})}buildKeyframes(){this.applyStylesToKeyframe();const t=new Set,e=new Set,i=1===this._keyframes.size&&0===this.duration;let s=[];this._keyframes.forEach((a,l)=>{const h=Xa(a,!0);Object.keys(h).forEach(f=>{const p=h[f];"!"==p?t.add(f):p==Qo&&e.add(f)}),i||(h.offset=l/this.duration),s.push(h)});const r=t.size?Lb(t.values()):[],o=e.size?Lb(e.values()):[];if(i){const a=s[0],l=qh(a);a.offset=0,l.offset=1,s=[a,l]}return rI(this.element,s,r,o,this.duration,this.startTime,this.easing,!1)}}class Mee extends Gb{constructor(t,e,i,s,r,o,a=!1){super(t,e,o.delay),this.keyframes=i,this.preStyleProps=s,this.postStyleProps=r,this._stretchStartingKeyframe=a,this.timings={duration:o.duration,delay:o.delay,easing:o.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let t=this.keyframes,{delay:e,duration:i,easing:s}=this.timings;if(this._stretchStartingKeyframe&&e){const r=[],o=i+e,a=e/o,l=Xa(t[0],!1);l.offset=0,r.push(l);const h=Xa(t[0],!1);h.offset=mF(a),r.push(h);const f=t.length-1;for(let p=1;p<=f;p++){let y=Xa(t[p],!1);y.offset=mF((e+y.offset*i)/o),r.push(y)}i=o,e=0,s="",t=r}return rI(this.element,t,this.preStyleProps,this.postStyleProps,i,e,s,!0)}}function mF(n,t=3){const e=Math.pow(10,t-1);return Math.round(n*e)/e}class lI{}class Oee extends lI{normalizePropertyName(t,e){return tI(t)}normalizeStyleValue(t,e,i,s){let r="";const o=i.toString().trim();if(Nee[e]&&0!==i&&"0"!==i)if("number"==typeof i)r="px";else{const a=i.match(/^[+-]?[\d\.]+([a-z]*)$/);a&&0==a[1].length&&s.push(`Please provide a CSS unit value for ${t}:${i}`)}return o+r}}const Nee=(()=>function(n){const t={};return n.forEach(e=>t[e]=!0),t}("width,height,minWidth,minHeight,maxWidth,maxHeight,left,top,bottom,right,fontSize,outlineWidth,outlineOffset,paddingTop,paddingLeft,paddingBottom,paddingRight,marginTop,marginLeft,marginBottom,marginRight,borderRadius,borderWidth,borderTopWidth,borderLeftWidth,borderRightWidth,borderBottomWidth,textIndent,perspective".split(",")))();function vF(n,t,e,i,s,r,o,a,l,h,f,p,y){return{type:0,element:n,triggerName:t,isRemovalTransition:s,fromState:e,fromStyles:r,toState:i,toStyles:o,timelines:a,queriedElements:l,preStyleProps:h,postStyleProps:f,totalTime:p,errors:y}}const cI={};class yF{constructor(t,e,i){this._triggerName=t,this.ast=e,this._stateStyles=i}match(t,e,i,s){return function(n,t,e,i,s){return n.some(r=>r(t,e,i,s))}(this.ast.matchers,t,e,i,s)}buildStyles(t,e,i){const s=this._stateStyles["*"],r=this._stateStyles[t],o=s?s.buildStyles(e,i):{};return r?r.buildStyles(e,i):o}build(t,e,i,s,r,o,a,l,h,f){const p=[],y=this.ast.options&&this.ast.options.params||cI,w=this.buildStyles(i,a&&a.params||cI,p),T=l&&l.params||cI,P=this.buildStyles(s,T,p),N=new Set,I=new Map,H=new Map,G="void"===s,Q={params:Object.assign(Object.assign({},y),T)},te=f?[]:oI(t,e,this.ast.animation,r,o,w,P,Q,h,p);let ae=0;if(te.forEach(Fe=>{ae=Math.max(Fe.duration+Fe.delay,ae)}),p.length)return vF(e,this._triggerName,i,s,G,w,P,[],[],I,H,ae,p);te.forEach(Fe=>{const Ye=Fe.element,yt=fs(I,Ye,{});Fe.preStyleProps.forEach(ft=>yt[ft]=!0);const Ht=fs(H,Ye,{});Fe.postStyleProps.forEach(ft=>Ht[ft]=!0),Ye!==e&&N.add(Ye)});const We=Lb(N.values());return vF(e,this._triggerName,i,s,G,w,P,te,We,I,H,ae)}}class Bee{constructor(t,e,i){this.styles=t,this.defaultParams=e,this.normalizer=i}buildStyles(t,e){const i={},s=qh(this.defaultParams);return Object.keys(t).forEach(r=>{const o=t[r];null!=o&&(s[r]=o)}),this.styles.styles.forEach(r=>{if("string"!=typeof r){const o=r;Object.keys(o).forEach(a=>{let l=o[a];l.length>1&&(l=Rb(l,s,e));const h=this.normalizer.normalizePropertyName(a,e);l=this.normalizer.normalizeStyleValue(a,h,l,e),i[h]=l})}}),i}}class $ee{constructor(t,e,i){this.name=t,this.ast=e,this._normalizer=i,this.transitionFactories=[],this.states={},e.states.forEach(s=>{this.states[s.name]=new Bee(s.style,s.options&&s.options.params||{},i)}),_F(this.states,"true","1"),_F(this.states,"false","0"),e.transitions.forEach(s=>{this.transitionFactories.push(new yF(t,s,this.states))}),this.fallbackTransition=function(n,t,e){return new yF(n,{type:1,animation:{type:2,steps:[],options:null},matchers:[(o,a)=>!0],options:null,queryCount:0,depCount:0},t)}(t,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(t,e,i,s){return this.transitionFactories.find(o=>o.match(t,e,i,s))||null}matchStyles(t,e,i){return this.fallbackTransition.buildStyles(t,e,i)}}function _F(n,t,e){n.hasOwnProperty(t)?n.hasOwnProperty(e)||(n[e]=n[t]):n.hasOwnProperty(e)&&(n[t]=n[e])}const Hee=new Hb;class qee{constructor(t,e,i){this.bodyNode=t,this._driver=e,this._normalizer=i,this._animations={},this._playersById={},this.players=[]}register(t,e){const i=[],s=nI(this._driver,e,i);if(i.length)throw new Error(`Unable to build the animation due to the following errors: ${i.join("\n")}`);this._animations[t]=s}_buildPlayer(t,e,i){const s=t.element,r=Z3(0,this._normalizer,0,t.keyframes,e,i);return this._driver.animate(s,r,t.duration,t.delay,t.easing,[],!0)}create(t,e,i={}){const s=[],r=this._animations[t];let o;const a=new Map;if(r?(o=oI(this._driver,e,r,JM,Mb,{},{},i,Hee,s),o.forEach(f=>{const p=fs(a,f.element,{});f.postStyleProps.forEach(y=>p[y]=null)})):(s.push("The requested animation doesn't exist or has already been destroyed"),o=[]),s.length)throw new Error(`Unable to create the animation due to the following errors: ${s.join("\n")}`);a.forEach((f,p)=>{Object.keys(f).forEach(y=>{f[y]=this._driver.computeStyle(p,y,Qo)})});const h=Za(o.map(f=>{const p=a.get(f.element);return this._buildPlayer(f,{},p)}));return this._playersById[t]=h,h.onDestroy(()=>this.destroy(t)),this.players.push(h),h}destroy(t){const e=this._getPlayer(t);e.destroy(),delete this._playersById[t];const i=this.players.indexOf(e);i>=0&&this.players.splice(i,1)}_getPlayer(t){const e=this._playersById[t];if(!e)throw new Error(`Unable to find the timeline player referenced by ${t}`);return e}listen(t,e,i,s){const r=GM(e,"","","");return HM(this._getPlayer(t),i,r,s),()=>{}}command(t,e,i,s){if("register"==i)return void this.register(t,s[0]);if("create"==i)return void this.create(t,e,s[0]||{});const r=this._getPlayer(t);switch(i){case"play":r.play();break;case"pause":r.pause();break;case"reset":r.reset();break;case"restart":r.restart();break;case"finish":r.finish();break;case"init":r.init();break;case"setPosition":r.setPosition(parseFloat(s[0]));break;case"destroy":this.destroy(t)}}}const bF="ng-animate-queued",SF="ng-animate-disabled",EF=".ng-animate-disabled",Wee=[],wF={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},zee={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},zs="__ng_removed";class uI{constructor(t,e=""){this.namespaceId=e;const i=t&&t.hasOwnProperty("value");if(this.value=function(n){return null!=n?n:null}(i?t.value:t),i){const r=qh(t);delete r.value,this.options=r}else this.options={};this.options.params||(this.options.params={})}get params(){return this.options.params}absorbOptions(t){const e=t.params;if(e){const i=this.options.params;Object.keys(e).forEach(s=>{null==i[s]&&(i[s]=e[s])})}}}const mg="void",hI=new uI(mg);class Kee{constructor(t,e,i){this.id=t,this.hostElement=e,this._engine=i,this.players=[],this._triggers={},this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+t,Ks(e,this._hostClassName)}listen(t,e,i,s){if(!this._triggers.hasOwnProperty(e))throw new Error(`Unable to listen on the animation trigger event "${i}" because the animation trigger "${e}" doesn't exist!`);if(null==i||0==i.length)throw new Error(`Unable to listen on the animation trigger "${e}" because the provided event is undefined!`);if(!function(n){return"start"==n||"done"==n}(i))throw new Error(`The provided animation trigger event "${i}" for the animation trigger "${e}" is not supported!`);const r=fs(this._elementListeners,t,[]),o={name:e,phase:i,callback:s};r.push(o);const a=fs(this._engine.statesByElement,t,{});return a.hasOwnProperty(e)||(Ks(t,Ib),Ks(t,Ib+"-"+e),a[e]=hI),()=>{this._engine.afterFlush(()=>{const l=r.indexOf(o);l>=0&&r.splice(l,1),this._triggers[e]||delete a[e]})}}register(t,e){return!this._triggers[t]&&(this._triggers[t]=e,!0)}_getTrigger(t){const e=this._triggers[t];if(!e)throw new Error(`The provided animation trigger "${t}" has not been registered!`);return e}trigger(t,e,i,s=!0){const r=this._getTrigger(e),o=new dI(this.id,e,t);let a=this._engine.statesByElement.get(t);a||(Ks(t,Ib),Ks(t,Ib+"-"+e),this._engine.statesByElement.set(t,a={}));let l=a[e];const h=new uI(i,this.id);if(!(i&&i.hasOwnProperty("value"))&&l&&h.absorbOptions(l.options),a[e]=h,l||(l=hI),h.value!==mg&&l.value===h.value){if(!function(n,t){const e=Object.keys(n),i=Object.keys(t);if(e.length!=i.length)return!1;for(let s=0;s<e.length;s++){const r=e[s];if(!t.hasOwnProperty(r)||n[r]!==t[r])return!1}return!0}(l.params,h.params)){const T=[],P=r.matchStyles(l.value,l.params,T),N=r.matchStyles(h.value,h.params,T);T.length?this._engine.reportError(T):this._engine.afterFlush(()=>{Dc(t,P),Jr(t,N)})}return}const y=fs(this._engine.playersByElement,t,[]);y.forEach(T=>{T.namespaceId==this.id&&T.triggerName==e&&T.queued&&T.destroy()});let _=r.matchTransition(l.value,h.value,t,h.params),w=!1;if(!_){if(!s)return;_=r.fallbackTransition,w=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:t,triggerName:e,transition:_,fromState:l,toState:h,player:o,isFallbackTransition:w}),w||(Ks(t,bF),o.onStart(()=>{Gh(t,bF)})),o.onDone(()=>{let T=this.players.indexOf(o);T>=0&&this.players.splice(T,1);const P=this._engine.playersByElement.get(t);if(P){let N=P.indexOf(o);N>=0&&P.splice(N,1)}}),this.players.push(o),y.push(o),o}deregister(t){delete this._triggers[t],this._engine.statesByElement.forEach((e,i)=>{delete e[t]}),this._elementListeners.forEach((e,i)=>{this._elementListeners.set(i,e.filter(s=>s.name!=t))})}clearElementCache(t){this._engine.statesByElement.delete(t),this._elementListeners.delete(t);const e=this._engine.playersByElement.get(t);e&&(e.forEach(i=>i.destroy()),this._engine.playersByElement.delete(t))}_signalRemovalForInnerTriggers(t,e){const i=this._engine.driver.query(t,Ob,!0);i.forEach(s=>{if(s[zs])return;const r=this._engine.fetchNamespacesByElement(s);r.size?r.forEach(o=>o.triggerLeaveAnimation(s,e,!1,!0)):this.clearElementCache(s)}),this._engine.afterFlushAnimationsDone(()=>i.forEach(s=>this.clearElementCache(s)))}triggerLeaveAnimation(t,e,i,s){const r=this._engine.statesByElement.get(t);if(r){const o=[];if(Object.keys(r).forEach(a=>{if(this._triggers[a]){const l=this.trigger(t,a,mg,s);l&&o.push(l)}}),o.length)return this._engine.markElementAsRemoved(this.id,t,!0,e),i&&Za(o).onDone(()=>this._engine.processLeaveNode(t)),!0}return!1}prepareLeaveAnimationListeners(t){const e=this._elementListeners.get(t),i=this._engine.statesByElement.get(t);if(e&&i){const s=new Set;e.forEach(r=>{const o=r.name;if(s.has(o))return;s.add(o);const l=this._triggers[o].fallbackTransition,h=i[o]||hI,f=new uI(mg),p=new dI(this.id,o,t);this._engine.totalQueuedPlayers++,this._queue.push({element:t,triggerName:o,transition:l,fromState:h,toState:f,player:p,isFallbackTransition:!0})})}}removeNode(t,e){const i=this._engine;if(t.childElementCount&&this._signalRemovalForInnerTriggers(t,e),this.triggerLeaveAnimation(t,e,!0))return;let s=!1;if(i.totalAnimations){const r=i.players.length?i.playersByQueriedElement.get(t):[];if(r&&r.length)s=!0;else{let o=t;for(;o=o.parentNode;)if(i.statesByElement.get(o)){s=!0;break}}}if(this.prepareLeaveAnimationListeners(t),s)i.markElementAsRemoved(this.id,t,!1,e);else{const r=t[zs];(!r||r===wF)&&(i.afterFlush(()=>this.clearElementCache(t)),i.destroyInnerAnimations(t),i._onRemovalComplete(t,e))}}insertNode(t,e){Ks(t,this._hostClassName)}drainQueuedTransitions(t){const e=[];return this._queue.forEach(i=>{const s=i.player;if(s.destroyed)return;const r=i.element,o=this._elementListeners.get(r);o&&o.forEach(a=>{if(a.name==i.triggerName){const l=GM(r,i.triggerName,i.fromState.value,i.toState.value);l._data=t,HM(i.player,a.phase,l,a.callback)}}),s.markedForDestroy?this._engine.afterFlush(()=>{s.destroy()}):e.push(i)}),this._queue=[],e.sort((i,s)=>{const r=i.transition.ast.depCount,o=s.transition.ast.depCount;return 0==r||0==o?r-o:this._engine.driver.containsElement(i.element,s.element)?1:-1})}destroy(t){this.players.forEach(e=>e.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,t)}elementContainsData(t){let e=!1;return this._elementListeners.has(t)&&(e=!0),e=!!this._queue.find(i=>i.element===t)||e,e}}class Yee{constructor(t,e,i){this.bodyNode=t,this.driver=e,this._normalizer=i,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(s,r)=>{}}_onRemovalComplete(t,e){this.onRemovalComplete(t,e)}get queuedPlayers(){const t=[];return this._namespaceList.forEach(e=>{e.players.forEach(i=>{i.queued&&t.push(i)})}),t}createNamespace(t,e){const i=new Kee(t,e,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,e)?this._balanceNamespaceList(i,e):(this.newHostElements.set(e,i),this.collectEnterElement(e)),this._namespaceLookup[t]=i}_balanceNamespaceList(t,e){const i=this._namespaceList.length-1;if(i>=0){let s=!1;for(let r=i;r>=0;r--)if(this.driver.containsElement(this._namespaceList[r].hostElement,e)){this._namespaceList.splice(r+1,0,t),s=!0;break}s||this._namespaceList.splice(0,0,t)}else this._namespaceList.push(t);return this.namespacesByHostElement.set(e,t),t}register(t,e){let i=this._namespaceLookup[t];return i||(i=this.createNamespace(t,e)),i}registerTrigger(t,e,i){let s=this._namespaceLookup[t];s&&s.register(e,i)&&this.totalAnimations++}destroy(t,e){if(!t)return;const i=this._fetchNamespace(t);this.afterFlush(()=>{this.namespacesByHostElement.delete(i.hostElement),delete this._namespaceLookup[t];const s=this._namespaceList.indexOf(i);s>=0&&this._namespaceList.splice(s,1)}),this.afterFlushAnimationsDone(()=>i.destroy(e))}_fetchNamespace(t){return this._namespaceLookup[t]}fetchNamespacesByElement(t){const e=new Set,i=this.statesByElement.get(t);if(i){const s=Object.keys(i);for(let r=0;r<s.length;r++){const o=i[s[r]].namespaceId;if(o){const a=this._fetchNamespace(o);a&&e.add(a)}}}return e}trigger(t,e,i,s){if(Ub(e)){const r=this._fetchNamespace(t);if(r)return r.trigger(e,i,s),!0}return!1}insertNode(t,e,i,s){if(!Ub(e))return;const r=e[zs];if(r&&r.setForRemoval){r.setForRemoval=!1,r.setForMove=!0;const o=this.collectedLeaveElements.indexOf(e);o>=0&&this.collectedLeaveElements.splice(o,1)}if(t){const o=this._fetchNamespace(t);o&&o.insertNode(e,i)}s&&this.collectEnterElement(e)}collectEnterElement(t){this.collectedEnterElements.push(t)}markElementAsDisabled(t,e){e?this.disabledNodes.has(t)||(this.disabledNodes.add(t),Ks(t,SF)):this.disabledNodes.has(t)&&(this.disabledNodes.delete(t),Gh(t,SF))}removeNode(t,e,i,s){if(Ub(e)){const r=t?this._fetchNamespace(t):null;if(r?r.removeNode(e,s):this.markElementAsRemoved(t,e,!1,s),i){const o=this.namespacesByHostElement.get(e);o&&o.id!==t&&o.removeNode(e,s)}}else this._onRemovalComplete(e,s)}markElementAsRemoved(t,e,i,s){this.collectedLeaveElements.push(e),e[zs]={namespaceId:t,setForRemoval:s,hasAnimation:i,removedBeforeQueried:!1}}listen(t,e,i,s,r){return Ub(e)?this._fetchNamespace(t).listen(e,i,s,r):()=>{}}_buildInstruction(t,e,i,s,r){return t.transition.build(this.driver,t.element,t.fromState.value,t.toState.value,i,s,t.fromState.options,t.toState.options,e,r)}destroyInnerAnimations(t){let e=this.driver.query(t,Ob,!0);e.forEach(i=>this.destroyActiveAnimationsForElement(i)),0!=this.playersByQueriedElement.size&&(e=this.driver.query(t,ZM,!0),e.forEach(i=>this.finishActiveQueriedAnimationOnElement(i)))}destroyActiveAnimationsForElement(t){const e=this.playersByElement.get(t);e&&e.forEach(i=>{i.queued?i.markedForDestroy=!0:i.destroy()})}finishActiveQueriedAnimationOnElement(t){const e=this.playersByQueriedElement.get(t);e&&e.forEach(i=>i.finish())}whenRenderingDone(){return new Promise(t=>{if(this.players.length)return Za(this.players).onDone(()=>t());t()})}processLeaveNode(t){const e=t[zs];if(e&&e.setForRemoval){if(t[zs]=wF,e.namespaceId){this.destroyInnerAnimations(t);const i=this._fetchNamespace(e.namespaceId);i&&i.clearElementCache(t)}this._onRemovalComplete(t,e.setForRemoval)}this.driver.matchesElement(t,EF)&&this.markElementAsDisabled(t,!1),this.driver.query(t,EF,!0).forEach(i=>{this.markElementAsDisabled(i,!1)})}flush(t=-1){let e=[];if(this.newHostElements.size&&(this.newHostElements.forEach((i,s)=>this._balanceNamespaceList(i,s)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let i=0;i<this.collectedEnterElements.length;i++)Ks(this.collectedEnterElements[i],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const i=[];try{e=this._flushAnimations(i,t)}finally{for(let s=0;s<i.length;s++)i[s]()}}else for(let i=0;i<this.collectedLeaveElements.length;i++)this.processLeaveNode(this.collectedLeaveElements[i]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(i=>i()),this._flushFns=[],this._whenQuietFns.length){const i=this._whenQuietFns;this._whenQuietFns=[],e.length?Za(e).onDone(()=>{i.forEach(s=>s())}):i.forEach(s=>s())}}reportError(t){throw new Error(`Unable to process animations due to the following failed trigger transitions\n ${t.join("\n")}`)}_flushAnimations(t,e){const i=new Hb,s=[],r=new Map,o=[],a=new Map,l=new Map,h=new Map,f=new Set;this.disabledNodes.forEach(J=>{f.add(J);const oe=this.driver.query(J,".ng-animate-queued",!0);for(let _e=0;_e<oe.length;_e++)f.add(oe[_e])});const p=this.bodyNode,y=Array.from(this.statesByElement.keys()),_=DF(y,this.collectedEnterElements),w=new Map;let T=0;_.forEach((J,oe)=>{const _e=JM+T++;w.set(oe,_e),J.forEach(Le=>Ks(Le,_e))});const P=[],N=new Set,I=new Set;for(let J=0;J<this.collectedLeaveElements.length;J++){const oe=this.collectedLeaveElements[J],_e=oe[zs];_e&&_e.setForRemoval&&(P.push(oe),N.add(oe),_e.hasAnimation?this.driver.query(oe,".ng-star-inserted",!0).forEach(Le=>N.add(Le)):I.add(oe))}const H=new Map,G=DF(y,Array.from(N));G.forEach((J,oe)=>{const _e=Mb+T++;H.set(oe,_e),J.forEach(Le=>Ks(Le,_e))}),t.push(()=>{_.forEach((J,oe)=>{const _e=w.get(oe);J.forEach(Le=>Gh(Le,_e))}),G.forEach((J,oe)=>{const _e=H.get(oe);J.forEach(Le=>Gh(Le,_e))}),P.forEach(J=>{this.processLeaveNode(J)})});const Q=[],te=[];for(let J=this._namespaceList.length-1;J>=0;J--)this._namespaceList[J].drainQueuedTransitions(e).forEach(_e=>{const Le=_e.player,Rt=_e.element;if(Q.push(Le),this.collectedEnterElements.length){const Ei=Rt[zs];if(Ei&&Ei.setForMove)return void Le.destroy()}const Wi=!p||!this.driver.containsElement(p,Rt),si=H.get(Rt),un=w.get(Rt),ht=this._buildInstruction(_e,i,un,si,Wi);if(ht.errors&&ht.errors.length)te.push(ht);else{if(Wi)return Le.onStart(()=>Dc(Rt,ht.fromStyles)),Le.onDestroy(()=>Jr(Rt,ht.toStyles)),void s.push(Le);if(_e.isFallbackTransition)return Le.onStart(()=>Dc(Rt,ht.fromStyles)),Le.onDestroy(()=>Jr(Rt,ht.toStyles)),void s.push(Le);ht.timelines.forEach(Ei=>Ei.stretchStartingKeyframe=!0),i.append(Rt,ht.timelines),o.push({instruction:ht,player:Le,element:Rt}),ht.queriedElements.forEach(Ei=>fs(a,Ei,[]).push(Le)),ht.preStyleProps.forEach((Ei,ms)=>{const On=Object.keys(Ei);if(On.length){let Yn=l.get(ms);Yn||l.set(ms,Yn=new Set),On.forEach(el=>Yn.add(el))}}),ht.postStyleProps.forEach((Ei,ms)=>{const On=Object.keys(Ei);let Yn=h.get(ms);Yn||h.set(ms,Yn=new Set),On.forEach(el=>Yn.add(el))})}});if(te.length){const J=[];te.forEach(oe=>{J.push(`@${oe.triggerName} has failed due to:\n`),oe.errors.forEach(_e=>J.push(`- ${_e}\n`))}),Q.forEach(oe=>oe.destroy()),this.reportError(J)}const ae=new Map,We=new Map;o.forEach(J=>{const oe=J.element;i.has(oe)&&(We.set(oe,oe),this._beforeAnimationBuild(J.player.namespaceId,J.instruction,ae))}),s.forEach(J=>{const oe=J.element;this._getPreviousPlayers(oe,!1,J.namespaceId,J.triggerName,null).forEach(Le=>{fs(ae,oe,[]).push(Le),Le.destroy()})});const Fe=P.filter(J=>AF(J,l,h)),Ye=new Map;kF(Ye,this.driver,I,h,Qo).forEach(J=>{AF(J,l,h)&&Fe.push(J)});const Ht=new Map;_.forEach((J,oe)=>{kF(Ht,this.driver,new Set(J),l,"!")}),Fe.forEach(J=>{const oe=Ye.get(J),_e=Ht.get(J);Ye.set(J,Object.assign(Object.assign({},oe),_e))});const ft=[],Ui=[],ji={};o.forEach(J=>{const{element:oe,player:_e,instruction:Le}=J;if(i.has(oe)){if(f.has(oe))return _e.onDestroy(()=>Jr(oe,Le.toStyles)),_e.disabled=!0,_e.overrideTotalTime(Le.totalTime),void s.push(_e);let Rt=ji;if(We.size>1){let si=oe;const un=[];for(;si=si.parentNode;){const ht=We.get(si);if(ht){Rt=ht;break}un.push(si)}un.forEach(ht=>We.set(ht,Rt))}const Wi=this._buildAnimation(_e.namespaceId,Le,ae,r,Ht,Ye);if(_e.setRealPlayer(Wi),Rt===ji)ft.push(_e);else{const si=this.playersByElement.get(Rt);si&&si.length&&(_e.parentPlayer=Za(si)),s.push(_e)}}else Dc(oe,Le.fromStyles),_e.onDestroy(()=>Jr(oe,Le.toStyles)),Ui.push(_e),f.has(oe)&&s.push(_e)}),Ui.forEach(J=>{const oe=r.get(J.element);if(oe&&oe.length){const _e=Za(oe);J.setRealPlayer(_e)}}),s.forEach(J=>{J.parentPlayer?J.syncPlayerEvents(J.parentPlayer):J.destroy()});for(let J=0;J<P.length;J++){const oe=P[J],_e=oe[zs];if(Gh(oe,Mb),_e&&_e.hasAnimation)continue;let Le=[];if(a.size){let Wi=a.get(oe);Wi&&Wi.length&&Le.push(...Wi);let si=this.driver.query(oe,ZM,!0);for(let un=0;un<si.length;un++){let ht=a.get(si[un]);ht&&ht.length&&Le.push(...ht)}}const Rt=Le.filter(Wi=>!Wi.destroyed);Rt.length?Xee(this,oe,Rt):this.processLeaveNode(oe)}return P.length=0,ft.forEach(J=>{this.players.push(J),J.onDone(()=>{J.destroy();const oe=this.players.indexOf(J);this.players.splice(oe,1)}),J.play()}),ft}elementContainsData(t,e){let i=!1;const s=e[zs];return s&&s.setForRemoval&&(i=!0),this.playersByElement.has(e)&&(i=!0),this.playersByQueriedElement.has(e)&&(i=!0),this.statesByElement.has(e)&&(i=!0),this._fetchNamespace(t).elementContainsData(e)||i}afterFlush(t){this._flushFns.push(t)}afterFlushAnimationsDone(t){this._whenQuietFns.push(t)}_getPreviousPlayers(t,e,i,s,r){let o=[];if(e){const a=this.playersByQueriedElement.get(t);a&&(o=a)}else{const a=this.playersByElement.get(t);if(a){const l=!r||r==mg;a.forEach(h=>{h.queued||!l&&h.triggerName!=s||o.push(h)})}}return(i||s)&&(o=o.filter(a=>!(i&&i!=a.namespaceId||s&&s!=a.triggerName))),o}_beforeAnimationBuild(t,e,i){const r=e.element,o=e.isRemovalTransition?void 0:t,a=e.isRemovalTransition?void 0:e.triggerName;for(const l of e.timelines){const h=l.element,f=h!==r,p=fs(i,h,[]);this._getPreviousPlayers(h,f,o,a,e.toState).forEach(_=>{const w=_.getRealPlayer();w.beforeDestroy&&w.beforeDestroy(),_.destroy(),p.push(_)})}Dc(r,e.fromStyles)}_buildAnimation(t,e,i,s,r,o){const a=e.triggerName,l=e.element,h=[],f=new Set,p=new Set,y=e.timelines.map(w=>{const T=w.element;f.add(T);const P=T[zs];if(P&&P.removedBeforeQueried)return new Hh(w.duration,w.delay);const N=T!==l,I=function(n){const t=[];return PF(n,t),t}((i.get(T)||Wee).map(ae=>ae.getRealPlayer())).filter(ae=>!!ae.element&&ae.element===T),H=r.get(T),G=o.get(T),Q=Z3(0,this._normalizer,0,w.keyframes,H,G),te=this._buildPlayer(w,Q,I);if(w.subTimeline&&s&&p.add(T),N){const ae=new dI(t,a,T);ae.setRealPlayer(te),h.push(ae)}return te});h.forEach(w=>{fs(this.playersByQueriedElement,w.element,[]).push(w),w.onDone(()=>function(n,t,e){let i;if(n instanceof Map){if(i=n.get(t),i){if(i.length){const s=i.indexOf(e);i.splice(s,1)}0==i.length&&n.delete(t)}}else if(i=n[t],i){if(i.length){const s=i.indexOf(e);i.splice(s,1)}0==i.length&&delete n[t]}return i}(this.playersByQueriedElement,w.element,w))}),f.forEach(w=>Ks(w,oF));const _=Za(y);return _.onDestroy(()=>{f.forEach(w=>Gh(w,oF)),Jr(l,e.toStyles)}),p.forEach(w=>{fs(s,w,[]).push(_)}),_}_buildPlayer(t,e,i){return e.length>0?this.driver.animate(t.element,e,t.duration,t.delay,t.easing,i):new Hh(t.duration,t.delay)}}class dI{constructor(t,e,i){this.namespaceId=t,this.triggerName=e,this.element=i,this._player=new Hh,this._containsRealPlayer=!1,this._queuedCallbacks={},this.destroyed=!1,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(t){this._containsRealPlayer||(this._player=t,Object.keys(this._queuedCallbacks).forEach(e=>{this._queuedCallbacks[e].forEach(i=>HM(t,e,void 0,i))}),this._queuedCallbacks={},this._containsRealPlayer=!0,this.overrideTotalTime(t.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(t){this.totalTime=t}syncPlayerEvents(t){const e=this._player;e.triggerCallback&&t.onStart(()=>e.triggerCallback("start")),t.onDone(()=>this.finish()),t.onDestroy(()=>this.destroy())}_queueEvent(t,e){fs(this._queuedCallbacks,t,[]).push(e)}onDone(t){this.queued&&this._queueEvent("done",t),this._player.onDone(t)}onStart(t){this.queued&&this._queueEvent("start",t),this._player.onStart(t)}onDestroy(t){this.queued&&this._queueEvent("destroy",t),this._player.onDestroy(t)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(t){this.queued||this._player.setPosition(t)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(t){const e=this._player;e.triggerCallback&&e.triggerCallback(t)}}function Ub(n){return n&&1===n.nodeType}function CF(n,t){const e=n.style.display;return n.style.display=null!=t?t:"none",e}function kF(n,t,e,i,s){const r=[];e.forEach(l=>r.push(CF(l)));const o=[];i.forEach((l,h)=>{const f={};l.forEach(p=>{const y=f[p]=t.computeStyle(h,p,s);(!y||0==y.length)&&(h[zs]=zee,o.push(h))}),n.set(h,f)});let a=0;return e.forEach(l=>CF(l,r[a++])),o}function DF(n,t){const e=new Map;if(n.forEach(a=>e.set(a,[])),0==t.length)return e;const s=new Set(t),r=new Map;function o(a){if(!a)return 1;let l=r.get(a);if(l)return l;const h=a.parentNode;return l=e.has(h)?h:s.has(h)?1:o(h),r.set(a,l),l}return t.forEach(a=>{const l=o(a);1!==l&&e.get(l).push(a)}),e}const jb="$$classes";function Ks(n,t){if(n.classList)n.classList.add(t);else{let e=n[jb];e||(e=n[jb]={}),e[t]=!0}}function Gh(n,t){if(n.classList)n.classList.remove(t);else{let e=n[jb];e&&delete e[t]}}function Xee(n,t,e){Za(e).onDone(()=>n.processLeaveNode(t))}function PF(n,t){for(let e=0;e<n.length;e++){const i=n[e];i instanceof L3?PF(i.players,t):t.push(i)}}function AF(n,t,e){const i=e.get(n);if(!i)return!1;let s=t.get(n);return s?i.forEach(r=>s.add(r)):t.set(n,i),e.delete(n),!0}class Wb{constructor(t,e,i){this.bodyNode=t,this._driver=e,this._normalizer=i,this._triggerCache={},this.onRemovalComplete=(s,r)=>{},this._transitionEngine=new Yee(t,e,i),this._timelineEngine=new qee(t,e,i),this._transitionEngine.onRemovalComplete=(s,r)=>this.onRemovalComplete(s,r)}registerTrigger(t,e,i,s,r){const o=t+"-"+s;let a=this._triggerCache[o];if(!a){const l=[],h=nI(this._driver,r,l);if(l.length)throw new Error(`The animation trigger "${s}" has failed to build due to the following errors:\n - ${l.join("\n - ")}`);a=function(n,t,e){return new $ee(n,t,e)}(s,h,this._normalizer),this._triggerCache[o]=a}this._transitionEngine.registerTrigger(e,s,a)}register(t,e){this._transitionEngine.register(t,e)}destroy(t,e){this._transitionEngine.destroy(t,e)}onInsert(t,e,i,s){this._transitionEngine.insertNode(t,e,i,s)}onRemove(t,e,i,s){this._transitionEngine.removeNode(t,e,s||!1,i)}disableAnimations(t,e){this._transitionEngine.markElementAsDisabled(t,e)}process(t,e,i,s){if("@"==i.charAt(0)){const[r,o]=X3(i);this._timelineEngine.command(r,e,o,s)}else this._transitionEngine.trigger(t,e,i,s)}listen(t,e,i,s,r){if("@"==i.charAt(0)){const[o,a]=X3(i);return this._timelineEngine.listen(o,e,a,r)}return this._transitionEngine.listen(t,e,i,s,r)}flush(t=-1){this._transitionEngine.flush(t)}get players(){return this._transitionEngine.players.concat(this._timelineEngine.players)}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}}function TF(n,t){let e=null,i=null;return Array.isArray(t)&&t.length?(e=fI(t[0]),t.length>1&&(i=fI(t[t.length-1]))):t&&(e=fI(t)),e||i?new ite(n,e,i):null}let ite=(()=>{class n{constructor(e,i,s){this._element=e,this._startStyles=i,this._endStyles=s,this._state=0;let r=n.initialStylesByElement.get(e);r||n.initialStylesByElement.set(e,r={}),this._initialStyles=r}start(){this._state<1&&(this._startStyles&&Jr(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(Jr(this._element,this._initialStyles),this._endStyles&&(Jr(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(n.initialStylesByElement.delete(this._element),this._startStyles&&(Dc(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(Dc(this._element,this._endStyles),this._endStyles=null),Jr(this._element,this._initialStyles),this._state=3)}}return n.initialStylesByElement=new WeakMap,n})();function fI(n){let t=null;const e=Object.keys(n);for(let i=0;i<e.length;i++){const s=e[i];nte(s)&&(t=t||{},t[s]=n[s])}return t}function nte(n){return"display"===n||"position"===n}const xF="animation",MF="animationend";class ote{constructor(t,e,i,s,r,o,a){this._element=t,this._name=e,this._duration=i,this._delay=s,this._easing=r,this._fillMode=o,this._onDoneFn=a,this._finished=!1,this._destroyed=!1,this._startTime=0,this._position=0,this._eventFn=l=>this._handleCallback(l)}apply(){(function(n,t){const e=gI(n,"").trim();let i=0;e.length&&(function(n,t){let e=0;for(let i=0;i<n.length;i++)","===n.charAt(i)&&e++;return e}(e)+1,t=`${e}, ${t}`),zb(n,"",t)})(this._element,`${this._duration}ms ${this._easing} ${this._delay}ms 1 normal ${this._fillMode} ${this._name}`),NF(this._element,this._eventFn,!1),this._startTime=Date.now()}pause(){IF(this._element,this._name,"paused")}resume(){IF(this._element,this._name,"running")}setPosition(t){const e=OF(this._element,this._name);this._position=t*this._duration,zb(this._element,"Delay",`-${this._position}ms`,e)}getPosition(){return this._position}_handleCallback(t){const e=t._ngTestManualTimestamp||Date.now(),i=1e3*parseFloat(t.elapsedTime.toFixed(3));t.animationName==this._name&&Math.max(e-this._startTime,0)>=this._delay&&i>=this._duration&&this.finish()}finish(){this._finished||(this._finished=!0,this._onDoneFn(),NF(this._element,this._eventFn,!0))}destroy(){this._destroyed||(this._destroyed=!0,this.finish(),function(n,t){const i=gI(n,"").split(","),s=pI(i,t);s>=0&&(i.splice(s,1),zb(n,"",i.join(",")))}(this._element,this._name))}}function IF(n,t,e){zb(n,"PlayState",e,OF(n,t))}function OF(n,t){const e=gI(n,"");return e.indexOf(",")>0?pI(e.split(","),t):pI([e],t)}function pI(n,t){for(let e=0;e<n.length;e++)if(n[e].indexOf(t)>=0)return e;return-1}function NF(n,t,e){e?n.removeEventListener(MF,t):n.addEventListener(MF,t)}function zb(n,t,e,i){const s=xF+t;if(null!=i){const r=n.style[s];if(r.length){const o=r.split(",");o[i]=e,e=o.join(",")}}n.style[s]=e}function gI(n,t){return n.style[xF+t]||""}class RF{constructor(t,e,i,s,r,o,a,l){this.element=t,this.keyframes=e,this.animationName=i,this._duration=s,this._delay=r,this._finalStyles=a,this._specialStyles=l,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this.currentSnapshot={},this._state=0,this.easing=o||"linear",this.totalTime=s+r,this._buildStyler()}onStart(t){this._onStartFns.push(t)}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}destroy(){this.init(),!(this._state>=4)&&(this._state=4,this._styler.destroy(),this._flushStartFns(),this._flushDoneFns(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}_flushDoneFns(){this._onDoneFns.forEach(t=>t()),this._onDoneFns=[]}_flushStartFns(){this._onStartFns.forEach(t=>t()),this._onStartFns=[]}finish(){this.init(),!(this._state>=3)&&(this._state=3,this._styler.finish(),this._flushStartFns(),this._specialStyles&&this._specialStyles.finish(),this._flushDoneFns())}setPosition(t){this._styler.setPosition(t)}getPosition(){return this._styler.getPosition()}hasStarted(){return this._state>=2}init(){this._state>=1||(this._state=1,this._styler.apply(),this._delay&&this._styler.pause())}play(){this.init(),this.hasStarted()||(this._flushStartFns(),this._state=2,this._specialStyles&&this._specialStyles.start()),this._styler.resume()}pause(){this.init(),this._styler.pause()}restart(){this.reset(),this.play()}reset(){this._state=0,this._styler.destroy(),this._buildStyler(),this._styler.apply()}_buildStyler(){this._styler=new ote(this.element,this.animationName,this._duration,this._delay,this.easing,"forwards",()=>this.finish())}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(i=>i()),e.length=0}beforeDestroy(){this.init();const t={};if(this.hasStarted()){const e=this._state>=3;Object.keys(this._finalStyles).forEach(i=>{"offset"!=i&&(t[i]=e?this._finalStyles[i]:iI(this.element,i))})}this.currentSnapshot=t}}class dte extends Hh{constructor(t,e){super(),this.element=t,this._startingStyles={},this.__initialized=!1,this._styles=nF(e)}init(){this.__initialized||!this._startingStyles||(this.__initialized=!0,Object.keys(this._styles).forEach(t=>{this._startingStyles[t]=this.element.style[t]}),super.init())}play(){!this._startingStyles||(this.init(),Object.keys(this._styles).forEach(t=>this.element.style.setProperty(t,this._styles[t])),super.play())}destroy(){!this._startingStyles||(Object.keys(this._startingStyles).forEach(t=>{const e=this._startingStyles[t];e?this.element.style.setProperty(t,e):this.element.style.removeProperty(t)}),this._startingStyles=null,super.destroy())}}class BF{constructor(){this._count=0}validateStyleProperty(t){return WM(t)}matchesElement(t,e){return zM(t,e)}containsElement(t,e){return KM(t,e)}query(t,e,i){return YM(t,e,i)}computeStyle(t,e,i){return window.getComputedStyle(t)[e]}buildKeyframeElement(t,e,i){i=i.map(a=>nF(a));let s=`@keyframes ${e} {\n`,r="";i.forEach(a=>{r=" ";const l=parseFloat(a.offset);s+=`${r}${100*l}% {\n`,r+=" ",Object.keys(a).forEach(h=>{const f=a[h];switch(h){case"offset":return;case"easing":return void(f&&(s+=`${r}animation-timing-function: ${f};\n`));default:return void(s+=`${r}${h}: ${f};\n`)}}),s+=`${r}}\n`}),s+="}\n";const o=document.createElement("style");return o.textContent=s,o}animate(t,e,i,s,r,o=[],a){const l=o.filter(P=>P instanceof RF),h={};hF(i,s)&&l.forEach(P=>{let N=P.currentSnapshot;Object.keys(N).forEach(I=>h[I]=N[I])});const f=function(n){let t={};return n&&(Array.isArray(n)?n:[n]).forEach(i=>{Object.keys(i).forEach(s=>{"offset"==s||"easing"==s||(t[s]=i[s])})}),t}(e=dF(t,e,h));if(0==i)return new dte(t,f);const p="gen_css_kf_"+this._count++,y=this.buildKeyframeElement(t,p,e);(function(n){var t;const e=null===(t=n.getRootNode)||void 0===t?void 0:t.call(n);return"undefined"!=typeof ShadowRoot&&e instanceof ShadowRoot?e:document.head})(t).appendChild(y);const w=TF(t,e),T=new RF(t,e,p,i,s,r,f,w);return T.onDestroy(()=>function(n){n.parentNode.removeChild(n)}(y)),T}}class $F{constructor(t,e,i,s){this.element=t,this.keyframes=e,this.options=i,this._specialStyles=s,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this.time=0,this.parentPlayer=null,this.currentSnapshot={},this._duration=i.duration,this._delay=i.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const t=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,t,this.options),this._finalKeyframe=t.length?t[t.length-1]:{},this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_triggerWebAnimation(t,e,i){return t.animate(e,i)}onStart(t){this._onStartFns.push(t)}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(t=>t()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}setPosition(t){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=t*this.time}getPosition(){return this.domPlayer.currentTime/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const t={};this.hasStarted()&&Object.keys(this._finalKeyframe).forEach(e=>{"offset"!=e&&(t[e]=this._finished?this._finalKeyframe[e]:iI(this.element,e))}),this.currentSnapshot=t}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(i=>i()),e.length=0}}class vte{constructor(){this._isNativeImpl=/\{\s*\[native\s+code\]\s*\}/.test(FF().toString()),this._cssKeyframesDriver=new BF}validateStyleProperty(t){return WM(t)}matchesElement(t,e){return zM(t,e)}containsElement(t,e){return KM(t,e)}query(t,e,i){return YM(t,e,i)}computeStyle(t,e,i){return window.getComputedStyle(t)[e]}overrideWebAnimationsSupport(t){this._isNativeImpl=t}animate(t,e,i,s,r,o=[],a){if(!a&&!this._isNativeImpl)return this._cssKeyframesDriver.animate(t,e,i,s,r,o);const f={duration:i,delay:s,fill:0==s?"both":"forwards"};r&&(f.easing=r);const p={},y=o.filter(w=>w instanceof $F);hF(i,s)&&y.forEach(w=>{let T=w.currentSnapshot;Object.keys(T).forEach(P=>p[P]=T[P])});const _=TF(t,e=dF(t,e=e.map(w=>Xa(w,!1)),p));return new $F(t,e,f,_)}}function FF(){return J3()&&Element.prototype.animate||{}}let _te=(()=>{class n extends I3{constructor(e,i){super(),this._nextAnimationId=0,this._renderer=e.createRenderer(i.body,{id:"0",encapsulation:Kt.None,styles:[],data:{animation:[]}})}build(e){const i=this._nextAnimationId.toString();this._nextAnimationId++;const s=Array.isArray(e)?O3(e):e;return HF(this._renderer,null,i,"register",[s]),new bte(i,this._renderer)}}return n.\u0275fac=function(e){return new(e||n)($(Zl),$(Je))},n.\u0275prov=le({token:n,factory:n.\u0275fac}),n})();class bte extends class{}{constructor(t,e){super(),this._id=t,this._renderer=e}create(t,e){return new Ste(this._id,t,e||{},this._renderer)}}class Ste{constructor(t,e,i,s){this.id=t,this.element=e,this._renderer=s,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",i)}_listen(t,e){return this._renderer.listen(this.element,`@@${this.id}:${t}`,e)}_command(t,...e){return HF(this._renderer,this.element,this.id,t,e)}onDone(t){this._listen("done",t)}onStart(t){this._listen("start",t)}onDestroy(t){this._listen("destroy",t)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(t){this._command("setPosition",t)}getPosition(){var t,e;return null!==(e=null===(t=this._renderer.engine.players[+this.id])||void 0===t?void 0:t.getPosition())&&void 0!==e?e:0}}function HF(n,t,e,i,s){return n.setProperty(t,`@@${e}:${i}`,s)}const qF="@.disabled";let Ete=(()=>{class n{constructor(e,i,s){this.delegate=e,this.engine=i,this._zone=s,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),i.onRemovalComplete=(r,o)=>{o&&o.parentNode(r)&&o.removeChild(r.parentNode,r)}}createRenderer(e,i){const r=this.delegate.createRenderer(e,i);if(!(e&&i&&i.data&&i.data.animation)){let f=this._rendererCache.get(r);return f||(f=new GF("",r,this.engine),this._rendererCache.set(r,f)),f}const o=i.id,a=i.id+"-"+this._currentId;this._currentId++,this.engine.register(a,e);const l=f=>{Array.isArray(f)?f.forEach(l):this.engine.registerTrigger(o,a,e,f.name,f)};return i.data.animation.forEach(l),new wte(this,a,r,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){this.promise.then(()=>{this._microtaskId++})}scheduleListenerCallback(e,i,s){e>=0&&e<this._microtaskId?this._zone.run(()=>i(s)):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(r=>{const[o,a]=r;o(a)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([i,s]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}return n.\u0275fac=function(e){return new(e||n)($(Zl),$(Wb),$(Ue))},n.\u0275prov=le({token:n,factory:n.\u0275fac}),n})();class GF{constructor(t,e,i){this.namespaceId=t,this.delegate=e,this.engine=i,this.destroyNode=this.delegate.destroyNode?s=>e.destroyNode(s):null}get data(){return this.delegate.data}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy()}createElement(t,e){return this.delegate.createElement(t,e)}createComment(t){return this.delegate.createComment(t)}createText(t){return this.delegate.createText(t)}appendChild(t,e){this.delegate.appendChild(t,e),this.engine.onInsert(this.namespaceId,e,t,!1)}insertBefore(t,e,i,s=!0){this.delegate.insertBefore(t,e,i),this.engine.onInsert(this.namespaceId,e,t,s)}removeChild(t,e,i){this.engine.onRemove(this.namespaceId,e,this.delegate,i)}selectRootElement(t,e){return this.delegate.selectRootElement(t,e)}parentNode(t){return this.delegate.parentNode(t)}nextSibling(t){return this.delegate.nextSibling(t)}setAttribute(t,e,i,s){this.delegate.setAttribute(t,e,i,s)}removeAttribute(t,e,i){this.delegate.removeAttribute(t,e,i)}addClass(t,e){this.delegate.addClass(t,e)}removeClass(t,e){this.delegate.removeClass(t,e)}setStyle(t,e,i,s){this.delegate.setStyle(t,e,i,s)}removeStyle(t,e,i){this.delegate.removeStyle(t,e,i)}setProperty(t,e,i){"@"==e.charAt(0)&&e==qF?this.disableAnimations(t,!!i):this.delegate.setProperty(t,e,i)}setValue(t,e){this.delegate.setValue(t,e)}listen(t,e,i){return this.delegate.listen(t,e,i)}disableAnimations(t,e){this.engine.disableAnimations(t,e)}}class wte extends GF{constructor(t,e,i,s){super(e,i,s),this.factory=t,this.namespaceId=e}setProperty(t,e,i){"@"==e.charAt(0)?"."==e.charAt(1)&&e==qF?this.disableAnimations(t,i=void 0===i||!!i):this.engine.process(this.namespaceId,t,e.substr(1),i):this.delegate.setProperty(t,e,i)}listen(t,e,i){if("@"==e.charAt(0)){const s=function(n){switch(n){case"body":return document.body;case"document":return document;case"window":return window;default:return n}}(t);let r=e.substr(1),o="";return"@"!=r.charAt(0)&&([r,o]=function(n){const t=n.indexOf(".");return[n.substring(0,t),n.substr(t+1)]}(r)),this.engine.listen(this.namespaceId,s,r,o,a=>{this.factory.scheduleListenerCallback(a._data||-1,i,a)})}return this.delegate.listen(t,e,i)}}let Dte=(()=>{class n extends Wb{constructor(e,i,s){super(e.body,i,s)}ngOnDestroy(){this.flush()}}return n.\u0275fac=function(e){return new(e||n)($(Je),$(QM),$(lI))},n.\u0275prov=le({token:n,factory:n.\u0275fac}),n})();const UF=new pe("AnimationModuleType"),jF=[{provide:I3,useClass:_te},{provide:lI,useFactory:function(){return new Oee}},{provide:Wb,useClass:Dte},{provide:Zl,useFactory:function(n,t,e){return new Ete(n,t,e)},deps:[Wy,Wb,Ue]}],WF=[{provide:QM,useFactory:function(){return"function"==typeof FF()?new vte:new BF}},{provide:UF,useValue:"BrowserAnimations"},...jF],zF=[{provide:QM,useClass:sF},{provide:UF,useValue:"NoopAnimations"},...jF];let xte=(()=>{class n{static withConfig(e){return{ngModule:n,providers:e.disableAnimations?zF:WF}}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=Xt({type:n}),n.\u0275inj=Gt({providers:WF,imports:[T0]}),n})(),Mte=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=Xt({type:n,bootstrap:[oee]}),n.\u0275inj=Gt({providers:[],imports:[[T0,JW,O2,ZW,xte,mZ,$X]]}),n})();(function(){if(BL)throw new Error("Cannot enable prod mode after platform setup.");LL=!1})(),eW().bootstrapModule(Mte).catch(n=>console.error(n))}},Wt=>{Wt(Wt.s=15)}]);