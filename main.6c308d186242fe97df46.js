var QZ=Object.defineProperty,ZZ=Object.defineProperties,JZ=Object.getOwnPropertyDescriptors,uB=Object.getOwnPropertySymbols,XZ=Object.prototype.hasOwnProperty,eJ=Object.prototype.propertyIsEnumerable,hB=(Vt,St,Gt)=>St in Vt?QZ(Vt,St,{enumerable:!0,configurable:!0,writable:!0,value:Gt}):Vt[St]=Gt,ei=(Vt,St)=>{for(var Gt in St||(St={}))XZ.call(St,Gt)&&hB(Vt,Gt,St[Gt]);if(uB)for(var Gt of uB(St))eJ.call(St,Gt)&&hB(Vt,Gt,St[Gt]);return Vt},ab=(Vt,St)=>ZZ(Vt,JZ(St));(self.webpackChunksap_calculator=self.webpackChunksap_calculator||[]).push([[179],{255:Vt=>{function St(Gt){return Promise.resolve().then(()=>{var qi=new Error("Cannot find module '"+Gt+"'");throw qi.code="MODULE_NOT_FOUND",qi})}St.keys=()=>[],St.resolve=St,St.id=255,Vt.exports=St},815:function(Vt,St,Gt){var qi;Vt=Gt.nmd(Vt),function(){var x,Pn="Expected a function",qa="__lodash_hash_undefined__",Ur="__lodash_placeholder__",Kr=1/0,mr=9007199254740991,as=4294967295,lb=[["ary",128],["bind",1],["bindKey",2],["curry",8],["curryRight",16],["flip",512],["partial",32],["partialRight",64],["rearg",256]],Bo="[object Arguments]",ja="[object Array]",$o="[object Boolean]",Wa="[object Date]",Ho="[object Error]",pc="[object Function]",eg="[object GeneratorFunction]",Ui="[object Map]",za="[object Number]",wi="[object Object]",ub="[object Promise]",_c="[object RegExp]",Bn="[object Set]",qo="[object String]",vc="[object Symbol]",yc="[object WeakMap]",Uo="[object ArrayBuffer]",_r="[object DataView]",bc="[object Float32Array]",Mh="[object Float64Array]",Ih="[object Int8Array]",Oh="[object Int16Array]",Nh="[object Int32Array]",Rh="[object Uint8Array]",ng="[object Uint8ClampedArray]",Lh="[object Uint16Array]",Vh="[object Uint32Array]",db=/\b__p \+= '';/g,fb=/\b(__p \+=) '' \+/g,pb=/(__e\(.*?\)|\b__t\)) \+\n'';/g,Je=/&(?:amp|lt|gt|quot|#39);/g,Sc=/[&<>"']/g,Oe=RegExp(Je.source),Fh=RegExp(Sc.source),gb=/<%-([\s\S]+?)%>/g,ft=/<%([\s\S]+?)%>/g,ae=/<%=([\s\S]+?)%>/g,ig=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,P1=/^\w*$/,vr=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,sg=/[\\^$.*+?()[\]{}|]/g,Bh=RegExp(sg.source),Ce=/^\s+/,kn=/\s/,mb=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,k1=/\{\n\/\* \[wrapped with (.+)\] \*/,T1=/,? & /,Ec=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,ii=/[()=,{}\[\]\/\s]/,x1=/\\(\\)?/g,_b=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,vb=/\w*$/,qs=/^[-+]0x[0-9a-f]+$/i,M1=/^0b[01]+$/i,I1=/^\[object .+?Constructor\]$/,O1=/^0o[0-7]+$/i,N1=/^(?:0|[1-9]\d*)$/,yb=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,$h=/($^)/,bb=/['\n\r\u2028\u2029\\]/g,Hh="\\ud800-\\udfff",Sb="\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff",Eb="\\u2700-\\u27bf",le="a-z\\xdf-\\xf6\\xf8-\\xff",og="A-Z\\xc0-\\xd6\\xd8-\\xde",ag="\\ufe0e\\ufe0f",qh="\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",Uh="["+Hh+"]",Gh="["+qh+"]",wc="["+Sb+"]",he="\\d+",jh="["+Eb+"]",lg="["+le+"]",Gs="[^"+Hh+qh+he+Eb+le+og+"]",Cc="\\ud83c[\\udffb-\\udfff]",js="[^"+Hh+"]",$n="(?:\\ud83c[\\udde6-\\uddff]){2}",cg="[\\ud800-\\udbff][\\udc00-\\udfff]",Ka="["+og+"]",ug="(?:"+lg+"|"+Gs+")",wb="(?:"+Ka+"|"+Gs+")",hg="(?:['\u2019](?:d|ll|m|re|s|t|ve))?",Cb="(?:['\u2019](?:D|LL|M|RE|S|T|VE))?",tt="(?:"+wc+"|"+Cc+")?",Db="["+ag+"]?",Ya=Db+tt+"(?:\\u200d(?:"+[js,$n,cg].join("|")+")"+Db+tt+")*",Wh="(?:"+[jh,$n,cg].join("|")+")"+Ya,zh="(?:"+[js+wc+"?",wc,$n,cg,Uh].join("|")+")",dg=RegExp("['\u2019]","g"),Ab=RegExp(wc,"g"),Gi=RegExp(Cc+"(?="+Cc+")|"+zh+Ya,"g"),Qa=RegExp([Ka+"?"+lg+"+"+hg+"(?="+[Gh,Ka,"$"].join("|")+")",wb+"+"+Cb+"(?="+[Gh,Ka+ug,"$"].join("|")+")",Ka+"?"+ug+"+"+hg,Ka+"+"+Cb,"\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])","\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",he,Wh].join("|"),"g"),Pb=RegExp("[\\u200d"+Hh+Sb+ag+"]"),Ws=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,kb=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],fg=-1,vt={};vt[bc]=vt[Mh]=vt[Ih]=vt[Oh]=vt[Nh]=vt[Rh]=vt[ng]=vt[Lh]=vt[Vh]=!0,vt[Bo]=vt[ja]=vt[Uo]=vt[$o]=vt[_r]=vt[Wa]=vt[Ho]=vt[pc]=vt[Ui]=vt[za]=vt[wi]=vt[_c]=vt[Bn]=vt[qo]=vt[yc]=!1;var gt={};gt[Bo]=gt[ja]=gt[Uo]=gt[_r]=gt[$o]=gt[Wa]=gt[bc]=gt[Mh]=gt[Ih]=gt[Oh]=gt[Nh]=gt[Ui]=gt[za]=gt[wi]=gt[_c]=gt[Bn]=gt[qo]=gt[vc]=gt[Rh]=gt[ng]=gt[Lh]=gt[Vh]=!0,gt[Ho]=gt[pc]=gt[yc]=!1;var se={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},Hn=parseFloat,_n=parseInt,zs="object"==typeof global&&global&&global.Object===Object&&global,Yr="object"==typeof self&&self&&self.Object===Object&&self,ut=zs||Yr||Function("return this")(),gg=St&&!St.nodeType&&St,vn=gg&&Vt&&!Vt.nodeType&&Vt,X=vn&&vn.exports===gg,Ne=X&&zs.process,We=function(){try{return vn&&vn.require&&vn.require("util").types||Ne&&Ne.binding&&Ne.binding("util")}catch(B){}}(),qn=We&&We.isArrayBuffer,yr=We&&We.isDate,Qt=We&&We.isMap,br=We&&We.isRegExp,Mt=We&&We.isSet,Wo=We&&We.isTypedArray;function sn(O,B,V){switch(V.length){case 0:return O.call(B);case 1:return O.call(B,V[0]);case 2:return O.call(B,V[0],V[1]);case 3:return O.call(B,V[0],V[1],V[2])}return O.apply(B,V)}function xe(O,B,V,ne){for(var De=-1,nt=null==O?0:O.length;++De<nt;){var $t=O[De];B(ne,$t,V($t),O)}return ne}function Tn(O,B){for(var V=-1,ne=null==O?0:O.length;++V<ne&&!1!==B(O[V],V,O););return O}function zo(O,B){for(var V=null==O?0:O.length;V--&&!1!==B(O[V],V,O););return O}function Dc(O,B){for(var V=-1,ne=null==O?0:O.length;++V<ne;)if(!B(O[V],V,O))return!1;return!0}function ri(O,B){for(var V=-1,ne=null==O?0:O.length,De=0,nt=[];++V<ne;){var $t=O[V];B($t,V,O)&&(nt[De++]=$t)}return nt}function rn(O,B){return!(null==O||!O.length)&&Bt(O,B,0)>-1}function Qr(O,B,V){for(var ne=-1,De=null==O?0:O.length;++ne<De;)if(V(B,O[ne]))return!0;return!1}function lt(O,B){for(var V=-1,ne=null==O?0:O.length,De=Array(ne);++V<ne;)De[V]=B(O[V],V,O);return De}function on(O,B){for(var V=-1,ne=B.length,De=O.length;++V<ne;)O[De+V]=B[V];return O}function ht(O,B,V,ne){var De=-1,nt=null==O?0:O.length;for(ne&&nt&&(V=O[++De]);++De<nt;)V=B(V,O[De],De,O);return V}function xb(O,B,V,ne){var De=null==O?0:O.length;for(ne&&De&&(V=O[--De]);De--;)V=B(V,O[De],De,O);return V}function Kh(O,B){for(var V=-1,ne=null==O?0:O.length;++V<ne;)if(B(O[V],V,O))return!0;return!1}var Ac=Xa("length");function Ja(O,B,V){var ne;return V(O,function(De,nt,$t){if(B(De,nt,$t))return ne=nt,!1}),ne}function ls(O,B,V,ne){for(var De=O.length,nt=V+(ne?1:-1);ne?nt--:++nt<De;)if(B(O[nt],nt,O))return nt;return-1}function Bt(O,B,V){return B==B?function(O,B,V){for(var ne=V-1,De=O.length;++ne<De;)if(O[ne]===B)return ne;return-1}(O,B,V):ls(O,ji,V)}function Mb(O,B,V,ne){for(var De=V-1,nt=O.length;++De<nt;)if(ne(O[De],B))return De;return-1}function ji(O){return O!=O}function Ci(O,B){var V=null==O?0:O.length;return V?Qh(O,B)/V:NaN}function Xa(O){return function(B){return null==B?x:B[O]}}function Ko(O){return function(B){return null==O?x:O[B]}}function el(O,B,V,ne,De){return De(O,function(nt,$t,bt){V=ne?(ne=!1,nt):B(V,nt,$t,bt)}),V}function Qh(O,B){for(var V,ne=-1,De=O.length;++ne<De;){var nt=B(O[ne]);nt!==x&&(V=V===x?nt:V+nt)}return V}function mg(O,B){for(var V=-1,ne=Array(O);++V<O;)ne[V]=B(V);return ne}function _g(O){return O&&O.slice(0,Xh(O)+1).replace(Ce,"")}function Di(O){return function(B){return O(B)}}function vg(O,B){return lt(B,function(V){return O[V]})}function Pc(O,B){return O.has(B)}function Ob(O,B){for(var V=-1,ne=O.length;++V<ne&&Bt(B,O[V],0)>-1;);return V}function Nb(O,B){for(var V=O.length;V--&&Bt(B,O[V],0)>-1;);return V}function B1(O,B){for(var V=O.length,ne=0;V--;)O[V]===B&&++ne;return ne}var $1=Ko({\u00c0:"A",\u00c1:"A",\u00c2:"A",\u00c3:"A",\u00c4:"A",\u00c5:"A",\u00e0:"a",\u00e1:"a",\u00e2:"a",\u00e3:"a",\u00e4:"a",\u00e5:"a",\u00c7:"C",\u00e7:"c",\u00d0:"D",\u00f0:"d",\u00c8:"E",\u00c9:"E",\u00ca:"E",\u00cb:"E",\u00e8:"e",\u00e9:"e",\u00ea:"e",\u00eb:"e",\u00cc:"I",\u00cd:"I",\u00ce:"I",\u00cf:"I",\u00ec:"i",\u00ed:"i",\u00ee:"i",\u00ef:"i",\u00d1:"N",\u00f1:"n",\u00d2:"O",\u00d3:"O",\u00d4:"O",\u00d5:"O",\u00d6:"O",\u00d8:"O",\u00f2:"o",\u00f3:"o",\u00f4:"o",\u00f5:"o",\u00f6:"o",\u00f8:"o",\u00d9:"U",\u00da:"U",\u00db:"U",\u00dc:"U",\u00f9:"u",\u00fa:"u",\u00fb:"u",\u00fc:"u",\u00dd:"Y",\u00fd:"y",\u00ff:"y",\u00c6:"Ae",\u00e6:"ae",\u00de:"Th",\u00fe:"th",\u00df:"ss",\u0100:"A",\u0102:"A",\u0104:"A",\u0101:"a",\u0103:"a",\u0105:"a",\u0106:"C",\u0108:"C",\u010a:"C",\u010c:"C",\u0107:"c",\u0109:"c",\u010b:"c",\u010d:"c",\u010e:"D",\u0110:"D",\u010f:"d",\u0111:"d",\u0112:"E",\u0114:"E",\u0116:"E",\u0118:"E",\u011a:"E",\u0113:"e",\u0115:"e",\u0117:"e",\u0119:"e",\u011b:"e",\u011c:"G",\u011e:"G",\u0120:"G",\u0122:"G",\u011d:"g",\u011f:"g",\u0121:"g",\u0123:"g",\u0124:"H",\u0126:"H",\u0125:"h",\u0127:"h",\u0128:"I",\u012a:"I",\u012c:"I",\u012e:"I",\u0130:"I",\u0129:"i",\u012b:"i",\u012d:"i",\u012f:"i",\u0131:"i",\u0134:"J",\u0135:"j",\u0136:"K",\u0137:"k",\u0138:"k",\u0139:"L",\u013b:"L",\u013d:"L",\u013f:"L",\u0141:"L",\u013a:"l",\u013c:"l",\u013e:"l",\u0140:"l",\u0142:"l",\u0143:"N",\u0145:"N",\u0147:"N",\u014a:"N",\u0144:"n",\u0146:"n",\u0148:"n",\u014b:"n",\u014c:"O",\u014e:"O",\u0150:"O",\u014d:"o",\u014f:"o",\u0151:"o",\u0154:"R",\u0156:"R",\u0158:"R",\u0155:"r",\u0157:"r",\u0159:"r",\u015a:"S",\u015c:"S",\u015e:"S",\u0160:"S",\u015b:"s",\u015d:"s",\u015f:"s",\u0161:"s",\u0162:"T",\u0164:"T",\u0166:"T",\u0163:"t",\u0165:"t",\u0167:"t",\u0168:"U",\u016a:"U",\u016c:"U",\u016e:"U",\u0170:"U",\u0172:"U",\u0169:"u",\u016b:"u",\u016d:"u",\u016f:"u",\u0171:"u",\u0173:"u",\u0174:"W",\u0175:"w",\u0176:"Y",\u0177:"y",\u0178:"Y",\u0179:"Z",\u017b:"Z",\u017d:"Z",\u017a:"z",\u017c:"z",\u017e:"z",\u0132:"IJ",\u0133:"ij",\u0152:"Oe",\u0153:"oe",\u0149:"'n",\u017f:"s"}),H1=Ko({"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"});function q1(O){return"\\"+se[O]}function tl(O){return Pb.test(O)}function yg(O){var B=-1,V=Array(O.size);return O.forEach(function(ne,De){V[++B]=[De,ne]}),V}function Zh(O,B){return function(V){return O(B(V))}}function cs(O,B){for(var V=-1,ne=O.length,De=0,nt=[];++V<ne;){var $t=O[V];($t===B||$t===Ur)&&(O[V]=Ur,nt[De++]=V)}return nt}function Jh(O){var B=-1,V=Array(O.size);return O.forEach(function(ne){V[++B]=ne}),V}function Jr(O){return tl(O)?function(O){for(var B=Gi.lastIndex=0;Gi.test(O);)++B;return B}(O):Ac(O)}function yt(O){return tl(O)?function(O){return O.match(Gi)||[]}(O):function(O){return O.split("")}(O)}function Xh(O){for(var B=O.length;B--&&kn.test(O.charAt(B)););return B}var Rb=Ko({"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"}),Yo=function O(B){var l,V=(B=null==B?ut:Yo.defaults(ut.Object(),B,Yo.pick(ut,kb))).Array,ne=B.Date,De=B.Error,nt=B.Function,$t=B.Math,bt=B.Object,Dt=B.RegExp,K1=B.String,oi=B.TypeError,kc=V.prototype,Qo=bt.prototype,ed=B["__core-js_shared__"],Xr=nt.prototype.toString,Ie=Qo.hasOwnProperty,Fb=0,Tc=(l=/[^.]+$/.exec(ed&&ed.keys&&ed.keys.IE_PROTO||""))?"Symbol(src)_1."+l:"",Ks=Qo.toString,ai=Xr.call(bt),Eg=ut._,td=Dt("^"+Xr.call(Ie).replace(sg,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),xc=X?B.Buffer:x,xn=B.Symbol,nl=B.Uint8Array,Mc=xc?xc.allocUnsafe:x,me=Zh(bt.getPrototypeOf,bt),Bb=bt.create,wg=Qo.propertyIsEnumerable,Ic=kc.splice,Cg=xn?xn.isConcatSpreadable:x,Zo=xn?xn.iterator:x,eo=xn?xn.toStringTag:x,Oc=function(){try{var l=So(bt,"defineProperty");return l({},"",{}),l}catch(c){}}(),j=B.clearTimeout!==ut.clearTimeout&&B.clearTimeout,Ye=ne&&ne.now!==ut.Date.now&&ne.now,us=B.setTimeout!==ut.setTimeout&&B.setTimeout,Lt=$t.ceil,il=$t.floor,to=bt.getOwnPropertySymbols,hs=xc?xc.isBuffer:x,Nc=B.isFinite,nd=kc.join,Y1=Zh(bt.keys,bt),Zt=$t.max,Jt=$t.min,Rc=ne.now,Mn=B.parseInt,zi=$t.random,Dg=kc.reverse,Sr=So(B,"DataView"),li=So(B,"Map"),id=So(B,"Promise"),no=So(B,"Set"),sl=So(B,"WeakMap"),rl=So(bt,"create"),Jo=sl&&new sl,Er={},Ag=Pr(Sr),sd=Pr(li),$b=Pr(id),Pg=Pr(no),Lc=Pr(sl),ol=xn?xn.prototype:x,Xo=ol?ol.valueOf:x,rd=ol?ol.toString:x;function S(l){if(Rt(l)&&!ue(l)&&!(l instanceof pe)){if(l instanceof Ai)return l;if(Ie.call(l,"__wrapped__"))return Hd(l)}return new Ai(l)}var Ys=function(){function l(){}return function(c){if(!Nt(c))return{};if(Bb)return Bb(c);l.prototype=c;var d=new l;return l.prototype=x,d}}();function Vc(){}function Ai(l,c){this.__wrapped__=l,this.__actions__=[],this.__chain__=!!c,this.__index__=0,this.__values__=x}function pe(l){this.__wrapped__=l,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=as,this.__views__=[]}function io(l){var c=-1,d=null==l?0:l.length;for(this.clear();++c<d;){var p=l[c];this.set(p[0],p[1])}}function Pi(l){var c=-1,d=null==l?0:l.length;for(this.clear();++c<d;){var p=l[c];this.set(p[0],p[1])}}function ci(l){var c=-1,d=null==l?0:l.length;for(this.clear();++c<d;){var p=l[c];this.set(p[0],p[1])}}function so(l){var c=-1,d=null==l?0:l.length;for(this.__data__=new ci;++c<d;)this.add(l[c])}function Un(l){var c=this.__data__=new Pi(l);this.size=c.size}function ro(l,c){var d=ue(l),p=!d&&_s(l),_=!d&&!p&&vs(l),w=!d&&!p&&!_&&xl(l),T=d||p||_||w,M=T?mg(l.length,K1):[],R=M.length;for(var H in l)(c||Ie.call(l,H))&&(!T||!("length"==H||_&&("offset"==H||"parent"==H)||w&&("buffer"==H||"byteLength"==H||"byteOffset"==H)||Qi(H,R)))&&M.push(H);return M}function Ig(l){var c=l.length;return c?l[_d(0,c-1)]:x}function ea(l,c){return ru(an(l),Qs(c,0,l.length))}function hd(l){return ru(an(l))}function ta(l,c,d){(d!==x&&!ce(l[c],d)||d===x&&!(c in l))&&ui(l,c,d)}function Hc(l,c,d){var p=l[c];(!Ie.call(l,c)||!ce(p,d)||d===x&&!(c in l))&&ui(l,c,d)}function ll(l,c){for(var d=l.length;d--;)if(ce(l[d][0],c))return d;return-1}function Og(l,c,d,p){return Zs(l,function(_,w,T){c(p,_,d(_),T)}),p}function Ng(l,c){return l&&Xt(c,dn(c),l)}function ui(l,c,d){"__proto__"==c&&Oc?Oc(l,c,{configurable:!0,enumerable:!0,value:d,writable:!0}):l[c]=d}function cl(l,c){for(var d=-1,p=c.length,_=V(p),w=null==l;++d<p;)_[d]=w?x:Ol(l,c[d]);return _}function Qs(l,c,d){return l==l&&(d!==x&&(l=l<=d?l:d),c!==x&&(l=l>=c?l:c)),l}function In(l,c,d,p,_,w){var T,M=1&c,R=2&c,H=4&c;if(d&&(T=_?d(l,p,_,w):d(l)),T!==x)return T;if(!Nt(l))return l;var q=ue(l);if(q){if(T=function(l){var c=l.length,d=new l.constructor(c);return c&&"string"==typeof l[0]&&Ie.call(l,"index")&&(d.index=l.index,d.input=l.input),d}(l),!M)return an(l,T)}else{var W=hn(l),J=W==pc||W==eg;if(vs(l))return zg(l,M);if(W==wi||W==Bo||J&&!_){if(T=R||J?{}:nu(l),!M)return R?function(l,c){return Xt(l,sm(l),c)}(l,function(l,c){return l&&Xt(c,Rn(c),l)}(T,l)):function(l,c){return Xt(l,yl(l),c)}(l,Ng(T,l))}else{if(!gt[W])return _?l:{};T=function(l,c,d){var p=l.constructor;switch(c){case Uo:return $(l);case $o:case Wa:return new p(+l);case _r:return function(l,c){var d=c?$(l.buffer):l.buffer;return new l.constructor(d,l.byteOffset,l.byteLength)}(l,d);case bc:case Mh:case Ih:case Oh:case Nh:case Rh:case ng:case Lh:case Vh:return la(l,d);case Ui:return new p;case za:case qo:return new p(l);case _c:return function(l){var c=new l.constructor(l.source,vb.exec(l));return c.lastIndex=l.lastIndex,c}(l);case Bn:return new p;case vc:return function(l){return Xo?bt(Xo.call(l)):{}}(l)}}(l,W,M)}}w||(w=new Un);var re=w.get(l);if(re)return re;w.set(l,T),cE(l)?l.forEach(function(ve){T.add(In(ve,c,d,ve,l,w))}):rE(l)&&l.forEach(function(ve,Le){T.set(Le,In(ve,c,d,Le,l,w))});var Re=q?x:(H?R?Td:kd:R?Rn:dn)(l);return Tn(Re||l,function(ve,Le){Re&&(ve=l[Le=ve]),Hc(T,Le,In(ve,c,d,Le,l,w))}),T}function Rg(l,c,d){var p=d.length;if(null==l)return!p;for(l=bt(l);p--;){var _=d[p],T=l[_];if(T===x&&!(_ in l)||!(0,c[_])(T))return!1}return!0}function dd(l,c,d){if("function"!=typeof l)throw new oi(Pn);return ha(function(){l.apply(x,d)},c)}function na(l,c,d,p){var _=-1,w=rn,T=!0,M=l.length,R=[],H=c.length;if(!M)return R;d&&(c=lt(c,Di(d))),p?(w=Qr,T=!1):c.length>=200&&(w=Pc,T=!1,c=new so(c));e:for(;++_<M;){var q=l[_],W=null==d?q:d(q);if(q=p||0!==q?q:0,T&&W==W){for(var J=H;J--;)if(c[J]===W)continue e;R.push(q)}else w(c,W,p)||R.push(q)}return R}S.templateSettings={escape:gb,evaluate:ft,interpolate:ae,variable:"",imports:{_:S}},(S.prototype=Vc.prototype).constructor=S,(Ai.prototype=Ys(Vc.prototype)).constructor=Ai,(pe.prototype=Ys(Vc.prototype)).constructor=pe,io.prototype.clear=function(){this.__data__=rl?rl(null):{},this.size=0},io.prototype.delete=function(l){var c=this.has(l)&&delete this.__data__[l];return this.size-=c?1:0,c},io.prototype.get=function(l){var c=this.__data__;if(rl){var d=c[l];return d===qa?x:d}return Ie.call(c,l)?c[l]:x},io.prototype.has=function(l){var c=this.__data__;return rl?c[l]!==x:Ie.call(c,l)},io.prototype.set=function(l,c){var d=this.__data__;return this.size+=this.has(l)?0:1,d[l]=rl&&c===x?qa:c,this},Pi.prototype.clear=function(){this.__data__=[],this.size=0},Pi.prototype.delete=function(l){var c=this.__data__,d=ll(c,l);return!(d<0||(d==c.length-1?c.pop():Ic.call(c,d,1),--this.size,0))},Pi.prototype.get=function(l){var c=this.__data__,d=ll(c,l);return d<0?x:c[d][1]},Pi.prototype.has=function(l){return ll(this.__data__,l)>-1},Pi.prototype.set=function(l,c){var d=this.__data__,p=ll(d,l);return p<0?(++this.size,d.push([l,c])):d[p][1]=c,this},ci.prototype.clear=function(){this.size=0,this.__data__={hash:new io,map:new(li||Pi),string:new io}},ci.prototype.delete=function(l){var c=vl(this,l).delete(l);return this.size-=c?1:0,c},ci.prototype.get=function(l){return vl(this,l).get(l)},ci.prototype.has=function(l){return vl(this,l).has(l)},ci.prototype.set=function(l,c){var d=vl(this,l),p=d.size;return d.set(l,c),this.size+=d.size==p?0:1,this},so.prototype.add=so.prototype.push=function(l){return this.__data__.set(l,qa),this},so.prototype.has=function(l){return this.__data__.has(l)},Un.prototype.clear=function(){this.__data__=new Pi,this.size=0},Un.prototype.delete=function(l){var c=this.__data__,d=c.delete(l);return this.size=c.size,d},Un.prototype.get=function(l){return this.__data__.get(l)},Un.prototype.has=function(l){return this.__data__.has(l)},Un.prototype.set=function(l,c){var d=this.__data__;if(d instanceof Pi){var p=d.__data__;if(!li||p.length<199)return p.push([l,c]),this.size=++d.size,this;d=this.__data__=new ci(p)}return d.set(l,c),this.size=d.size,this};var Zs=Zc(On),fd=Zc(Gn,!0);function Yb(l,c){var d=!0;return Zs(l,function(p,_,w){return d=!!c(p,_,w)}),d}function Uc(l,c,d){for(var p=-1,_=l.length;++p<_;){var w=l[p],T=c(w);if(null!=T&&(M===x?T==T&&!Oi(T):d(T,M)))var M=T,R=w}return R}function ia(l,c){var d=[];return Zs(l,function(p,_,w){c(p,_,w)&&d.push(p)}),d}function un(l,c,d,p,_){var w=-1,T=l.length;for(d||(d=ua),_||(_=[]);++w<T;){var M=l[w];c>0&&d(M)?c>1?un(M,c-1,d,p,_):on(_,M):p||(_[_.length]=M)}return _}var jc=pl(),pd=pl(!0);function On(l,c){return l&&jc(l,c,dn)}function Gn(l,c){return l&&pd(l,c,dn)}function sa(l,c){return ri(c,function(d){return Ii(l[d])})}function Js(l,c){for(var d=0,p=(c=go(c,l)).length;null!=l&&d<p;)l=l[Zi(c[d++])];return d&&d==p?l:x}function oo(l,c,d){var p=c(l);return ue(l)?p:on(p,d(l))}function zt(l){return null==l?l===x?"[object Undefined]":"[object Null]":eo&&eo in bt(l)?function(l){var c=Ie.call(l,eo),d=l[eo];try{l[eo]=x;var p=!0}catch(w){}var _=Ks.call(l);return p&&(c?l[eo]=d:delete l[eo]),_}(l):function(l){return Ks.call(l)}(l)}function Dr(l,c){return l>c}function ul(l,c){return null!=l&&Ie.call(l,c)}function gd(l,c){return null!=l&&c in bt(l)}function Lg(l,c,d){for(var p=d?Qr:rn,_=l[0].length,w=l.length,T=w,M=V(w),R=1/0,H=[];T--;){var q=l[T];T&&c&&(q=lt(q,Di(c))),R=Jt(q.length,R),M[T]=!d&&(c||_>=120&&q.length>=120)?new so(T&&q):x}q=l[0];var W=-1,J=M[0];e:for(;++W<_&&H.length<R;){var re=q[W],ge=c?c(re):re;if(re=d||0!==re?re:0,!(J?Pc(J,ge):p(H,ge,d))){for(T=w;--T;){var Re=M[T];if(!(Re?Pc(Re,ge):p(l[T],ge,d)))continue e}J&&J.push(ge),H.push(re)}}return H}function hl(l,c,d){var p=null==(l=dm(l,c=go(c,l)))?l:l[Zi(fi(c))];return null==p?x:sn(p,l,d)}function Qb(l){return Rt(l)&&zt(l)==Bo}function Wc(l,c,d,p,_){return l===c||(null==l||null==c||!Rt(l)&&!Rt(c)?l!=l&&c!=c:function(l,c,d,p,_,w){var T=ue(l),M=ue(c),R=T?ja:hn(l),H=M?ja:hn(c),q=(R=R==Bo?wi:R)==wi,W=(H=H==Bo?wi:H)==wi,J=R==H;if(J&&vs(l)){if(!vs(c))return!1;T=!0,q=!1}if(J&&!q)return w||(w=new Un),T||xl(l)?Pd(l,c,d,p,_,w):function(l,c,d,p,_,w,T){switch(d){case _r:if(l.byteLength!=c.byteLength||l.byteOffset!=c.byteOffset)return!1;l=l.buffer,c=c.buffer;case Uo:return!(l.byteLength!=c.byteLength||!w(new nl(l),new nl(c)));case $o:case Wa:case za:return ce(+l,+c);case Ho:return l.name==c.name&&l.message==c.message;case _c:case qo:return l==c+"";case Ui:var M=yg;case Bn:if(M||(M=Jh),l.size!=c.size&&!(1&p))return!1;var H=T.get(l);if(H)return H==c;p|=2,T.set(l,c);var q=Pd(M(l),M(c),p,_,w,T);return T.delete(l),q;case vc:if(Xo)return Xo.call(l)==Xo.call(c)}return!1}(l,c,R,d,p,_,w);if(!(1&d)){var re=q&&Ie.call(l,"__wrapped__"),ge=W&&Ie.call(c,"__wrapped__");if(re||ge){var Re=re?l.value():l,ve=ge?c.value():c;return w||(w=new Un),_(Re,ve,d,p,w)}}return!!J&&(w||(w=new Un),function(l,c,d,p,_,w){var T=1&d,M=kd(l),R=M.length;if(R!=kd(c).length&&!T)return!1;for(var W=R;W--;){var J=M[W];if(!(T?J in c:Ie.call(c,J)))return!1}var re=w.get(l),ge=w.get(c);if(re&&ge)return re==c&&ge==l;var Re=!0;w.set(l,c),w.set(c,l);for(var ve=T;++W<R;){var Le=l[J=M[W]],ze=c[J];if(p)var Kn=T?p(ze,Le,J,c,l,w):p(Le,ze,J,l,c,w);if(!(Kn===x?Le===ze||_(Le,ze,d,p,w):Kn)){Re=!1;break}ve||(ve="constructor"==J)}if(Re&&!ve){var En=l.constructor,Ni=c.constructor;En!=Ni&&"constructor"in l&&"constructor"in c&&!("function"==typeof En&&En instanceof En&&"function"==typeof Ni&&Ni instanceof Ni)&&(Re=!1)}return w.delete(l),w.delete(c),Re}(l,c,d,p,_,w))}(l,c,d,p,Wc,_))}function Fg(l,c,d,p){var _=d.length,w=_,T=!p;if(null==l)return!w;for(l=bt(l);_--;){var M=d[_];if(T&&M[2]?M[1]!==l[M[0]]:!(M[0]in l))return!1}for(;++_<w;){var R=(M=d[_])[0],H=l[R],q=M[1];if(T&&M[2]){if(H===x&&!(R in l))return!1}else{var W=new Un;if(p)var J=p(H,q,R,l,c,W);if(!(J===x?Wc(q,H,3,p,W):J))return!1}}return!0}function Jb(l){return!(!Nt(l)||function(l){return!!Tc&&Tc in l}(l))&&(Ii(l)?td:I1).test(Pr(l))}function Xb(l){return"function"==typeof l?l:null==l?Ln:"object"==typeof l?ue(l)?zc(l[0],l[1]):Kt(l):Po(l)}function Bg(l){if(!Sl(l))return Y1(l);var c=[];for(var d in bt(l))Ie.call(l,d)&&"constructor"!=d&&c.push(d);return c}function lo(l,c){return l<c}function eS(l,c){var d=-1,p=Wn(l)?V(l.length):[];return Zs(l,function(_,w,T){p[++d]=c(_,w,T)}),p}function Kt(l){var c=xd(l);return 1==c.length&&c[0][2]?lm(c[0][0],c[0][1]):function(d){return d===l||Fg(d,l,c)}}function zc(l,c){return Nd(l)&&am(c)?lm(Zi(l),c):function(d){var p=Ol(d,l);return p===x&&p===c?_u(d,l):Wc(c,p,3)}}function co(l,c,d,p,_){l!==c&&jc(c,function(w,T){if(_||(_=new Un),Nt(w))!function(l,c,d,p,_,w,T){var M=iu(l,d),R=iu(c,d),H=T.get(R);if(H)ta(l,d,H);else{var q=w?w(M,R,d+"",l,c,T):x,W=q===x;if(W){var J=ue(R),re=!J&&vs(R),ge=!J&&!re&&xl(R);q=R,J||re||ge?ue(M)?q=M:Ot(M)?q=an(M):re?(W=!1,q=zg(R,!0)):ge?(W=!1,q=la(R,!0)):q=[]:mu(R)||_s(R)?(q=M,_s(M)?q=Jm(M):(!Nt(M)||Ii(M))&&(q=nu(R))):W=!1}W&&(T.set(R,q),_(q,R,p,w,T),T.delete(R)),ta(l,d,q)}}(l,c,T,d,co,p,_);else{var M=p?p(iu(l,T),w,T+"",l,c,_):x;M===x&&(M=w),ta(l,T,M)}},Rn)}function $g(l,c){var d=l.length;if(d)return Qi(c+=c<0?d:0,d)?l[c]:x}function hi(l,c,d){c=c.length?lt(c,function(w){return ue(w)?function(T){return Js(T,1===w.length?w[0]:w)}:w}):[Ln];var p=-1;return c=lt(c,Di(de())),function(O,B){var V=O.length;for(O.sort(function(w,T){return function(l,c,d){for(var p=-1,_=l.criteria,w=c.criteria,T=_.length,M=d.length;++p<T;){var R=Yg(_[p],w[p]);if(R)return p>=M?R:R*("desc"==d[p]?-1:1)}return l.index-c.index}(w,T,d)});V--;)O[V]=O[V].value;return O}(eS(l,function(w,T,M){return{criteria:lt(c,function(H){return H(w)}),index:++p,value:w}}))}function dl(l,c,d){for(var p=-1,_=c.length,w={};++p<_;){var T=c[p],M=Js(l,T);d(M,T)&&ho(w,go(T,l),M)}return w}function fs(l,c,d,p){var _=p?Mb:Bt,w=-1,T=c.length,M=l;for(l===c&&(c=an(c)),d&&(M=lt(l,Di(d)));++w<T;)for(var R=0,H=c[w],q=d?d(H):H;(R=_(M,q,R,p))>-1;)M!==l&&Ic.call(M,R,1),Ic.call(l,R,1);return l}function md(l,c){for(var d=l?c.length:0,p=d-1;d--;){var _=c[d];if(d==p||_!==w){var w=_;Qi(_)?Ic.call(l,_,1):jg(l,_)}}return l}function _d(l,c){return l+il(zi()*(c-l+1))}function Hg(l,c){var d="";if(!l||c<1||c>mr)return d;do{c%2&&(d+=l),(c=il(c/2))&&(l+=l)}while(c);return d}function $e(l,c){return su(hm(l,c,Ln),l+"")}function qg(l){return Ig(_a(l))}function di(l,c){var d=_a(l);return ru(d,Qs(c,0,d.length))}function ho(l,c,d,p){if(!Nt(l))return l;for(var _=-1,w=(c=go(c,l)).length,T=w-1,M=l;null!=M&&++_<w;){var R=Zi(c[_]),H=d;if("__proto__"===R||"constructor"===R||"prototype"===R)return l;if(_!=T){var q=M[R];(H=p?p(q,R,M):x)===x&&(H=Nt(q)?q:Qi(c[_+1])?[]:{})}Hc(M,R,H),M=M[R]}return l}var fo=Jo?function(l,c){return Jo.set(l,c),l}:Ln,rx=Oc?function(l,c){return Oc(l,"toString",{configurable:!0,enumerable:!1,value:wf(c),writable:!0})}:Ln;function Ug(l){return ru(_a(l))}function ki(l,c,d){var p=-1,_=l.length;c<0&&(c=-c>_?0:_+c),(d=d>_?_:d)<0&&(d+=_),_=c>d?0:d-c>>>0,c>>>=0;for(var w=V(_);++p<_;)w[p]=l[p+c];return w}function nS(l,c){var d;return Zs(l,function(p,_,w){return!(d=c(p,_,w))}),!!d}function Kc(l,c,d){var p=0,_=null==l?p:l.length;if("number"==typeof c&&c==c&&_<=2147483647){for(;p<_;){var w=p+_>>>1,T=l[w];null!==T&&!Oi(T)&&(d?T<=c:T<c)?p=w+1:_=w}return _}return vd(l,c,Ln,d)}function vd(l,c,d,p){var _=0,w=null==l?0:l.length;if(0===w)return 0;for(var T=(c=d(c))!=c,M=null===c,R=Oi(c),H=c===x;_<w;){var q=il((_+w)/2),W=d(l[q]),J=W!==x,re=null===W,ge=W==W,Re=Oi(W);if(T)var ve=p||ge;else ve=H?ge&&(p||J):M?ge&&J&&(p||!re):R?ge&&J&&!re&&(p||!Re):!re&&!Re&&(p?W<=c:W<c);ve?_=q+1:w=q}return Jt(w,4294967294)}function Gg(l,c){for(var d=-1,p=l.length,_=0,w=[];++d<p;){var T=l[d],M=c?c(T):T;if(!d||!ce(M,R)){var R=M;w[_++]=0===T?0:T}}return w}function ra(l){return"number"==typeof l?l:Oi(l)?NaN:+l}function Nn(l){if("string"==typeof l)return l;if(ue(l))return lt(l,Nn)+"";if(Oi(l))return rd?rd.call(l):"";var c=l+"";return"0"==c&&1/l==-Kr?"-0":c}function Ki(l,c,d){var p=-1,_=rn,w=l.length,T=!0,M=[],R=M;if(d)T=!1,_=Qr;else if(w>=200){var H=c?null:aS(l);if(H)return Jh(H);T=!1,_=Pc,R=new so}else R=c?[]:M;e:for(;++p<w;){var q=l[p],W=c?c(q):q;if(q=d||0!==q?q:0,T&&W==W){for(var J=R.length;J--;)if(R[J]===W)continue e;c&&R.push(W),M.push(q)}else _(R,W,d)||(R!==M&&R.push(W),M.push(q))}return M}function jg(l,c){return null==(l=dm(l,c=go(c,l)))||delete l[Zi(fi(c))]}function oa(l,c,d,p){return ho(l,c,d(Js(l,c)),p)}function aa(l,c,d,p){for(var _=l.length,w=p?_:-1;(p?w--:++w<_)&&c(l[w],w,l););return d?ki(l,p?0:w,p?w+1:_):ki(l,p?w+1:0,p?_:w)}function po(l,c){var d=l;return d instanceof pe&&(d=d.value()),ht(c,function(p,_){return _.func.apply(_.thisArg,on([p],_.args))},d)}function yd(l,c,d){var p=l.length;if(p<2)return p?Ki(l[0]):[];for(var _=-1,w=V(p);++_<p;)for(var T=l[_],M=-1;++M<p;)M!=_&&(w[_]=na(w[_]||T,l[M],c,d));return Ki(un(w,1),c,d)}function Wg(l,c,d){for(var p=-1,_=l.length,w=c.length,T={};++p<_;)d(T,l[p],p<w?c[p]:x);return T}function bd(l){return Ot(l)?l:[]}function fl(l){return"function"==typeof l?l:Ln}function go(l,c){return ue(l)?l:Nd(l,c)?[l]:Bd(it(l))}var Sd=$e;function Ti(l,c,d){var p=l.length;return d=d===x?p:d,!c&&d>=p?l:ki(l,c,d)}var mo=j||function(l){return ut.clearTimeout(l)};function zg(l,c){if(c)return l.slice();var d=l.length,p=Mc?Mc(d):new l.constructor(d);return l.copy(p),p}function $(l){var c=new l.constructor(l.byteLength);return new nl(c).set(new nl(l)),c}function la(l,c){var d=c?$(l.buffer):l.buffer;return new l.constructor(d,l.byteOffset,l.length)}function Yg(l,c){if(l!==c){var d=l!==x,p=null===l,_=l==l,w=Oi(l),T=c!==x,M=null===c,R=c==c,H=Oi(c);if(!M&&!H&&!w&&l>c||w&&T&&R&&!M&&!H||p&&T&&R||!d&&R||!_)return 1;if(!p&&!w&&!H&&l<c||H&&d&&_&&!p&&!w||M&&d&&_||!T&&_||!R)return-1}return 0}function Ed(l,c,d,p){for(var _=-1,w=l.length,T=d.length,M=-1,R=c.length,H=Zt(w-T,0),q=V(R+H),W=!p;++M<R;)q[M]=c[M];for(;++_<T;)(W||_<w)&&(q[d[_]]=l[_]);for(;H--;)q[M++]=l[_++];return q}function sS(l,c,d,p){for(var _=-1,w=l.length,T=-1,M=d.length,R=-1,H=c.length,q=Zt(w-M,0),W=V(q+H),J=!p;++_<q;)W[_]=l[_];for(var re=_;++R<H;)W[re+R]=c[R];for(;++T<M;)(J||_<w)&&(W[re+d[T]]=l[_++]);return W}function an(l,c){var d=-1,p=l.length;for(c||(c=V(p));++d<p;)c[d]=l[d];return c}function Xt(l,c,d,p){var _=!d;d||(d={});for(var w=-1,T=c.length;++w<T;){var M=c[w],R=p?p(d[M],l[M],M,d,l):x;R===x&&(R=l[M]),_?ui(d,M,R):Hc(d,M,R)}return d}function Qc(l,c){return function(d,p){var _=ue(d)?xe:Og,w=c?c():{};return _(d,l,de(p,2),w)}}function yo(l){return $e(function(c,d){var p=-1,_=d.length,w=_>1?d[_-1]:x,T=_>2?d[2]:x;for(w=l.length>3&&"function"==typeof w?(_--,w):x,T&&Sn(d[0],d[1],T)&&(w=_<3?x:w,_=1),c=bt(c);++p<_;){var M=d[p];M&&l(c,M,p,w)}return c})}function Zc(l,c){return function(d,p){if(null==d)return d;if(!Wn(d))return l(d,p);for(var _=d.length,w=c?_:-1,T=bt(d);(c?w--:++w<_)&&!1!==p(T[w],w,T););return d}}function pl(l){return function(c,d,p){for(var _=-1,w=bt(c),T=p(c),M=T.length;M--;){var R=T[l?M:++_];if(!1===d(w[R],R,w))break}return c}}function Jg(l){return function(c){var d=tl(c=it(c))?yt(c):x,p=d?d[0]:c.charAt(0),_=d?Ti(d,1).join(""):c.slice(1);return p[l]()+_}}function ca(l){return function(c){return ht(Sf(pf(c).replace(dg,"")),l,"")}}function ps(l){return function(){var c=arguments;switch(c.length){case 0:return new l;case 1:return new l(c[0]);case 2:return new l(c[0],c[1]);case 3:return new l(c[0],c[1],c[2]);case 4:return new l(c[0],c[1],c[2],c[3]);case 5:return new l(c[0],c[1],c[2],c[3],c[4]);case 6:return new l(c[0],c[1],c[2],c[3],c[4],c[5]);case 7:return new l(c[0],c[1],c[2],c[3],c[4],c[5],c[6])}var d=Ys(l.prototype),p=l.apply(d,c);return Nt(p)?p:d}}function Xg(l){return function(c,d,p){var _=bt(c);if(!Wn(c)){var w=de(d,3);c=dn(c),d=function(M){return w(_[M],M,_)}}var T=l(c,d,p);return T>-1?_[w?c[T]:T]:x}}function rS(l){return Yi(function(c){var d=c.length,p=d,_=Ai.prototype.thru;for(l&&c.reverse();p--;){var w=c[p];if("function"!=typeof w)throw new oi(Pn);if(_&&!T&&"wrapper"==tu(w))var T=new Ai([],!0)}for(p=T?p:d;++p<d;){var M=tu(w=c[p]),R="wrapper"==M?eu(w):x;T=R&&Ld(R[0])&&424==R[1]&&!R[4].length&&1==R[9]?T[tu(R[0])].apply(T,R[3]):1==w.length&&Ld(w)?T[M]():T.thru(w)}return function(){var H=arguments,q=H[0];if(T&&1==H.length&&ue(q))return T.plant(q).value();for(var W=0,J=d?c[W].apply(this,H):q;++W<d;)J=c[W].call(this,J);return J}})}function ml(l,c,d,p,_,w,T,M,R,H){var q=128&c,W=1&c,J=2&c,re=24&c,ge=512&c,Re=J?x:ps(l);return function ve(){for(var Le=arguments.length,ze=V(Le),Kn=Le;Kn--;)ze[Kn]=arguments[Kn];if(re)var En=bo(ve),Ni=B1(ze,En);if(p&&(ze=Ed(ze,p,_,re)),w&&(ze=sS(ze,w,T,re)),Le-=Ni,re&&Le<H){var st=cs(ze,En);return jn(l,c,ml,ve.placeholder,d,ze,st,M,R,H-Le)}var Ss=W?d:this,Mr=J?Ss[l]:l;return Le=ze.length,M?ze=fm(ze,M):ge&&Le>1&&ze.reverse(),q&&R<Le&&(ze.length=R),this&&this!==ut&&this instanceof ve&&(Mr=Re||ps(Mr)),Mr.apply(Ss,ze)}}function em(l,c){return function(d,p){return function(l,c,d,p){return On(l,function(_,w,T){c(p,d(_),w,T)}),p}(d,l,c(p),{})}}function wd(l,c){return function(d,p){var _;if(d===x&&p===x)return c;if(d!==x&&(_=d),p!==x){if(_===x)return p;"string"==typeof d||"string"==typeof p?(d=Nn(d),p=Nn(p)):(d=ra(d),p=ra(p)),_=l(d,p)}return _}}function Cd(l){return Yi(function(c){return c=lt(c,Di(de())),$e(function(d){var p=this;return l(c,function(_){return sn(_,p,d)})})})}function Jc(l,c){var d=(c=c===x?" ":Nn(c)).length;if(d<2)return d?Hg(c,l):c;var p=Hg(c,Lt(l/Jr(c)));return tl(c)?Ti(yt(p),0,l).join(""):p.slice(0,l)}function tm(l){return function(c,d,p){return p&&"number"!=typeof p&&Sn(c,d,p)&&(d=p=x),c=ys(c),d===x?(d=c,c=0):d=ys(d),function(l,c,d,p){for(var _=-1,w=Zt(Lt((c-l)/(d||1)),0),T=V(w);w--;)T[p?w:++_]=l,l+=d;return T}(c,d,p=p===x?c<d?1:-1:ys(p),l)}}function Dd(l){return function(c,d){return"string"==typeof c&&"string"==typeof d||(c=zn(c),d=zn(d)),l(c,d)}}function jn(l,c,d,p,_,w,T,M,R,H){var q=8&c;c|=q?32:64,4&(c&=~(q?64:32))||(c&=-4);var Re=[l,c,_,q?w:x,q?T:x,q?x:w,q?x:T,M,R,H],ve=d.apply(x,Re);return Ld(l)&&Ar(ve,Re),ve.placeholder=p,pm(ve,l,c)}function Ad(l){var c=$t[l];return function(d,p){if(d=zn(d),(p=null==p?0:Jt(ke(p),292))&&Nc(d)){var _=(it(d)+"e").split("e");return+((_=(it(c(_[0]+"e"+(+_[1]+p)))+"e").split("e"))[0]+"e"+(+_[1]-p))}return c(d)}}var aS=no&&1/Jh(new no([,-0]))[1]==Kr?function(l){return new no(l)}:Af;function nm(l){return function(c){var d=hn(c);return d==Ui?yg(c):d==Bn?function(O){var B=-1,V=Array(O.size);return O.forEach(function(ne){V[++B]=[ne,ne]}),V}(c):function(O,B){return lt(B,function(V){return[V,O[V]]})}(c,l(c))}}function xi(l,c,d,p,_,w,T,M){var R=2&c;if(!R&&"function"!=typeof l)throw new oi(Pn);var H=p?p.length:0;if(H||(c&=-97,p=_=x),T=T===x?T:Zt(ke(T),0),M=M===x?M:ke(M),H-=_?_.length:0,64&c){var q=p,W=_;p=_=x}var J=R?x:eu(l),re=[l,c,d,p,_,q,W,w,T,M];if(J&&function(l,c){var d=l[1],p=c[1],_=d|p;if(!(_<131||(128==p&&8==d||128==p&&256==d&&l[7].length<=c[8]||384==p&&c[7].length<=c[8]&&8==d)))return l;1&p&&(l[2]=c[2],_|=1&d?0:4);var M=c[3];if(M){var R=l[3];l[3]=R?Ed(R,M,c[4]):M,l[4]=R?cs(l[3],Ur):c[4]}(M=c[5])&&(l[5]=(R=l[5])?sS(R,M,c[6]):M,l[6]=R?cs(l[5],Ur):c[6]),(M=c[7])&&(l[7]=M),128&p&&(l[8]=null==l[8]?c[8]:Jt(l[8],c[8])),null==l[9]&&(l[9]=c[9]),l[0]=c[0],l[1]=_}(re,J),l=re[0],c=re[1],d=re[2],p=re[3],_=re[4],!(M=re[9]=re[9]===x?R?0:l.length:Zt(re[9]-H,0))&&24&c&&(c&=-25),c&&1!=c)ge=8==c||16==c?function(l,c,d){var p=ps(l);return function _(){for(var w=arguments.length,T=V(w),M=w,R=bo(_);M--;)T[M]=arguments[M];var H=w<3&&T[0]!==R&&T[w-1]!==R?[]:cs(T,R);return(w-=H.length)<d?jn(l,c,ml,_.placeholder,x,T,H,x,x,d-w):sn(this&&this!==ut&&this instanceof _?p:l,this,T)}}(l,c,M):32!=c&&33!=c||_.length?ml.apply(x,re):function(l,c,d,p){var _=1&c,w=ps(l);return function T(){for(var M=-1,R=arguments.length,H=-1,q=p.length,W=V(q+R),J=this&&this!==ut&&this instanceof T?w:l;++H<q;)W[H]=p[H];for(;R--;)W[H++]=arguments[++M];return sn(J,_?d:this,W)}}(l,c,d,p);else var ge=function(l,c,d){var p=1&c,_=ps(l);return function w(){return(this&&this!==ut&&this instanceof w?_:l).apply(p?d:this,arguments)}}(l,c,d);return pm((J?fo:Ar)(ge,re),l,c)}function yn(l,c,d,p){return l===x||ce(l,Qo[d])&&!Ie.call(p,d)?c:l}function Xc(l,c,d,p,_,w){return Nt(l)&&Nt(c)&&(w.set(c,l),co(l,c,x,Xc,w),w.delete(c)),l}function im(l){return mu(l)?x:l}function Pd(l,c,d,p,_,w){var T=1&d,M=l.length,R=c.length;if(M!=R&&!(T&&R>M))return!1;var H=w.get(l),q=w.get(c);if(H&&q)return H==c&&q==l;var W=-1,J=!0,re=2&d?new so:x;for(w.set(l,c),w.set(c,l);++W<M;){var ge=l[W],Re=c[W];if(p)var ve=T?p(Re,ge,W,c,l,w):p(ge,Re,W,l,c,w);if(ve!==x){if(ve)continue;J=!1;break}if(re){if(!Kh(c,function(Le,ze){if(!Pc(re,ze)&&(ge===Le||_(ge,Le,d,p,w)))return re.push(ze)})){J=!1;break}}else if(ge!==Re&&!_(ge,Re,d,p,w)){J=!1;break}}return w.delete(l),w.delete(c),J}function Yi(l){return su(hm(l,x,Cl),l+"")}function kd(l){return oo(l,dn,yl)}function Td(l){return oo(l,Rn,sm)}var eu=Jo?function(l){return Jo.get(l)}:Af;function tu(l){for(var c=l.name+"",d=Er[c],p=Ie.call(Er,c)?d.length:0;p--;){var _=d[p],w=_.func;if(null==w||w==l)return _.name}return c}function bo(l){return(Ie.call(S,"placeholder")?S:l).placeholder}function de(){var l=S.iteratee||Ao;return l=l===Ao?Xb:l,arguments.length?l(arguments[0],arguments[1]):l}function vl(l,c){var d=l.__data__;return function(l){var c=typeof l;return"string"==c||"number"==c||"symbol"==c||"boolean"==c?"__proto__"!==l:null===l}(c)?d["string"==typeof c?"string":"hash"]:d.map}function xd(l){for(var c=dn(l),d=c.length;d--;){var p=c[d],_=l[p];c[d]=[p,_,am(_)]}return c}function So(l,c){var d=function(O,B){return null==O?x:O[B]}(l,c);return Jb(d)?d:x}var yl=to?function(l){return null==l?[]:(l=bt(l),ri(to(l),function(c){return wg.call(l,c)}))}:xr,sm=to?function(l){for(var c=[];l;)on(c,yl(l)),l=me(l);return c}:xr,hn=zt;function Id(l,c,d){for(var p=-1,_=(c=go(c,l)).length,w=!1;++p<_;){var T=Zi(c[p]);if(!(w=null!=l&&d(l,T)))break;l=l[T]}return w||++p!=_?w:!!(_=null==l?0:l.length)&&rf(_)&&Qi(T,_)&&(ue(l)||_s(l))}function nu(l){return"function"!=typeof l.constructor||Sl(l)?{}:Ys(me(l))}function ua(l){return ue(l)||_s(l)||!!(Cg&&l&&l[Cg])}function Qi(l,c){var d=typeof l;return!!(c=null==c?mr:c)&&("number"==d||"symbol"!=d&&N1.test(l))&&l>-1&&l%1==0&&l<c}function Sn(l,c,d){if(!Nt(d))return!1;var p=typeof c;return!!("number"==p?Wn(d)&&Qi(c,d.length):"string"==p&&c in d)&&ce(d[c],l)}function Nd(l,c){if(ue(l))return!1;var d=typeof l;return!("number"!=d&&"symbol"!=d&&"boolean"!=d&&null!=l&&!Oi(l))||P1.test(l)||!ig.test(l)||null!=c&&l in bt(c)}function Ld(l){var c=tu(l),d=S[c];if("function"!=typeof d||!(c in pe.prototype))return!1;if(l===d)return!0;var p=eu(d);return!!p&&l===p[0]}(Sr&&hn(new Sr(new ArrayBuffer(1)))!=_r||li&&hn(new li)!=Ui||id&&hn(id.resolve())!=ub||no&&hn(new no)!=Bn||sl&&hn(new sl)!=yc)&&(hn=function(l){var c=zt(l),d=c==wi?l.constructor:x,p=d?Pr(d):"";if(p)switch(p){case Ag:return _r;case sd:return Ui;case $b:return ub;case Pg:return Bn;case Lc:return yc}return c});var cS=ed?Ii:kf;function Sl(l){var c=l&&l.constructor;return l===("function"==typeof c&&c.prototype||Qo)}function am(l){return l==l&&!Nt(l)}function lm(l,c){return function(d){return null!=d&&d[l]===c&&(c!==x||l in bt(d))}}function hm(l,c,d){return c=Zt(c===x?l.length-1:c,0),function(){for(var p=arguments,_=-1,w=Zt(p.length-c,0),T=V(w);++_<w;)T[_]=p[c+_];_=-1;for(var M=V(c+1);++_<c;)M[_]=p[_];return M[c]=d(T),sn(l,this,M)}}function dm(l,c){return c.length<2?l:Js(l,ki(c,0,-1))}function fm(l,c){for(var d=l.length,p=Jt(c.length,d),_=an(l);p--;){var w=c[p];l[p]=Qi(w,d)?_[w]:x}return l}function iu(l,c){if(("constructor"!==c||"function"!=typeof l[c])&&"__proto__"!=c)return l[c]}var Ar=El(fo),ha=us||function(l,c){return ut.setTimeout(l,c)},su=El(rx);function pm(l,c,d){var p=c+"";return su(l,function(l,c){var d=c.length;if(!d)return l;var p=d-1;return c[p]=(d>1?"& ":"")+c[p],c=c.join(d>2?", ":" "),l.replace(mb,"{\n/* [wrapped with "+c+"] */\n")}(p,function(l,c){return Tn(lb,function(d){var p="_."+d[0];c&d[1]&&!rn(l,p)&&l.push(p)}),l.sort()}(function(l){var c=l.match(k1);return c?c[1].split(T1):[]}(p),d)))}function El(l){var c=0,d=0;return function(){var p=Rc(),_=16-(p-d);if(d=p,_>0){if(++c>=800)return arguments[0]}else c=0;return l.apply(x,arguments)}}function ru(l,c){var d=-1,p=l.length,_=p-1;for(c=c===x?p:c;++d<c;){var w=_d(d,_),T=l[w];l[w]=l[d],l[d]=T}return l.length=c,l}var c,d,Bd=(c=Tl(function(l){var c=[];return 46===l.charCodeAt(0)&&c.push(""),l.replace(vr,function(d,p,_,w){c.push(_?w.replace(x1,"$1"):p||d)}),c},function(p){return 500===d.size&&d.clear(),p}),d=c.cache,c);function Zi(l){if("string"==typeof l||Oi(l))return l;var c=l+"";return"0"==c&&1/l==-Kr?"-0":c}function Pr(l){if(null!=l){try{return Xr.call(l)}catch(c){}try{return l+""}catch(c){}}return""}function Hd(l){if(l instanceof pe)return l.clone();var c=new Ai(l.__wrapped__,l.__chain__);return c.__actions__=an(l.__actions__),c.__index__=l.__index__,c.__values__=l.__values__,c}var qd=$e(function(l,c){return Ot(l)?na(l,un(c,1,Ot,!0)):[]}),Ud=$e(function(l,c){var d=fi(c);return Ot(d)&&(d=x),Ot(l)?na(l,un(c,1,Ot,!0),de(d,2)):[]}),Gd=$e(function(l,c){var d=fi(c);return Ot(d)&&(d=x),Ot(l)?na(l,un(c,1,Ot,!0),x,d):[]});function jd(l,c,d){var p=null==l?0:l.length;if(!p)return-1;var _=null==d?0:ke(d);return _<0&&(_=Zt(p+_,0)),ls(l,de(c,3),_)}function lu(l,c,d){var p=null==l?0:l.length;if(!p)return-1;var _=p-1;return d!==x&&(_=ke(d),_=d<0?Zt(p+_,0):Jt(_,p-1)),ls(l,de(c,3),_,!0)}function Cl(l){return null!=l&&l.length?un(l,1):[]}function _m(l){return l&&l.length?l[0]:x}var cu=$e(function(l){var c=lt(l,bd);return c.length&&c[0]===l[0]?Lg(c):[]}),zd=$e(function(l){var c=fi(l),d=lt(l,bd);return c===fi(d)?c=x:d.pop(),d.length&&d[0]===l[0]?Lg(d,de(c,2)):[]}),vm=$e(function(l){var c=fi(l),d=lt(l,bd);return(c="function"==typeof c?c:x)&&d.pop(),d.length&&d[0]===l[0]?Lg(d,x,c):[]});function fi(l){var c=null==l?0:l.length;return c?l[c-1]:x}var mS=$e(bm);function bm(l,c){return l&&l.length&&c&&c.length?fs(l,c):l}var pi=Yi(function(l,c){var d=null==l?0:l.length,p=cl(l,c);return md(l,lt(c,function(_){return Qi(_,d)?+_:_}).sort(Yg)),p});function uu(l){return null==l?l:Dg.call(l)}var ms=$e(function(l){return Ki(un(l,1,Ot,!0))}),Al=$e(function(l){var c=fi(l);return Ot(c)&&(c=x),Ki(un(l,1,Ot,!0),de(c,2))}),wm=$e(function(l){var c=fi(l);return c="function"==typeof c?c:x,Ki(un(l,1,Ot,!0),x,c)});function Am(l){if(!l||!l.length)return[];var c=0;return l=ri(l,function(d){if(Ot(d))return c=Zt(d.length,c),!0}),mg(c,function(d){return lt(l,Xa(d))})}function TS(l,c){if(!l||!l.length)return[];var d=Am(l);return null==c?d:lt(d,function(p){return sn(c,x,p)})}var Kd=$e(function(l,c){return Ot(l)?na(l,c):[]}),Yd=$e(function(l){return yd(ri(l,Ot))}),Qd=$e(function(l){var c=fi(l);return Ot(c)&&(c=x),yd(ri(l,Ot),de(c,2))}),ux=$e(function(l){var c=fi(l);return c="function"==typeof c?c:x,yd(ri(l,Ot),x,c)}),hx=$e(Am),MS=$e(function(l){var c=l.length,d=c>1?l[c-1]:x;return d="function"==typeof d?(l.pop(),d):x,TS(l,d)});function km(l){var c=S(l);return c.__chain__=!0,c}function Pl(l,c){return c(l)}var hu=Yi(function(l){var c=l.length,d=c?l[0]:0,p=this.__wrapped__,_=function(w){return cl(w,l)};return!(c>1||this.__actions__.length)&&p instanceof pe&&Qi(d)?((p=p.slice(d,+d+(c?1:0))).__actions__.push({func:Pl,args:[_],thisArg:x}),new Ai(p,this.__chain__).thru(function(w){return c&&!w.length&&w.push(x),w})):this.thru(_)}),Mm=Qc(function(l,c,d){Ie.call(l,d)?++l[d]:ui(l,d,1)}),FS=Xg(jd),BS=Xg(lu);function da(l,c){return(ue(l)?Tn:Zs)(l,de(c,3))}function Im(l,c){return(ue(l)?zo:fd)(l,de(c,3))}var Om=Qc(function(l,c,d){Ie.call(l,d)?l[d].push(c):ui(l,d,[c])}),Nm=$e(function(l,c,d){var p=-1,_="function"==typeof c,w=Wn(l)?V(l.length):[];return Zs(l,function(T){w[++p]=_?sn(c,T,d):hl(T,c,d)}),w}),HS=Qc(function(l,c,d){ui(l,d,c)});function Xd(l,c){return(ue(l)?lt:eS)(l,de(c,3))}var du=Qc(function(l,c,d){l[d?0:1].push(c)},function(){return[[],[]]}),zS=$e(function(l,c){if(null==l)return[];var d=c.length;return d>1&&Sn(l,c[0],c[1])?c=[]:d>2&&Sn(c[0],c[1],c[2])&&(c=[c[0]]),hi(l,un(c,1),[])}),kl=Ye||function(){return ut.Date.now()};function ef(l,c,d){return c=d?x:c,xi(l,128,x,x,x,x,c=l&&null==c?l.length:c)}function Vm(l,c){var d;if("function"!=typeof c)throw new oi(Pn);return l=ke(l),function(){return--l>0&&(d=c.apply(this,arguments)),l<=1&&(c=x),d}}var tf=$e(function(l,c,d){var p=1;if(d.length){var _=cs(d,bo(tf));p|=32}return xi(l,p,c,d,_)}),Fm=$e(function(l,c,d){var p=3;if(d.length){var _=cs(d,bo(Fm));p|=32}return xi(c,p,l,d,_)});function KS(l,c,d){var p,_,w,T,M,R,H=0,q=!1,W=!1,J=!0;if("function"!=typeof l)throw new oi(Pn);function re(st){var Ss=p,Mr=_;return p=_=x,H=st,T=l.apply(Mr,Ss)}function ge(st){return H=st,M=ha(Le,c),q?re(st):T}function ve(st){var Ss=st-R;return R===x||Ss>=c||Ss<0||W&&st-H>=w}function Le(){var st=kl();if(ve(st))return ze(st);M=ha(Le,function(st){var JE=c-(st-R);return W?Jt(JE,w-(st-H)):JE}(st))}function ze(st){return M=x,J&&p?re(st):(p=_=x,T)}function Ni(){var st=kl(),Ss=ve(st);if(p=arguments,_=this,R=st,Ss){if(M===x)return ge(R);if(W)return mo(M),M=ha(Le,c),re(R)}return M===x&&(M=ha(Le,c)),T}return c=zn(c)||0,Nt(d)&&(q=!!d.leading,w=(W="maxWait"in d)?Zt(zn(d.maxWait)||0,c):w,J="trailing"in d?!!d.trailing:J),Ni.cancel=function(){M!==x&&mo(M),H=0,p=R=_=M=x},Ni.flush=function(){return M===x?T:ze(kl())},Ni}var gx=$e(function(l,c){return dd(l,1,c)}),Bm=$e(function(l,c,d){return dd(l,zn(c)||0,d)});function Tl(l,c){if("function"!=typeof l||null!=c&&"function"!=typeof c)throw new oi(Pn);var d=function(){var p=arguments,_=c?c.apply(this,p):p[0],w=d.cache;if(w.has(_))return w.get(_);var T=l.apply(this,p);return d.cache=w.set(_,T)||w,T};return d.cache=new(Tl.Cache||ci),d}function nf(l){if("function"!=typeof l)throw new oi(Pn);return function(){var c=arguments;switch(c.length){case 0:return!l.call(this);case 1:return!l.call(this,c[0]);case 2:return!l.call(this,c[0],c[1]);case 3:return!l.call(this,c[0],c[1],c[2])}return!l.apply(this,c)}}Tl.Cache=ci;var YS=Sd(function(l,c){var d=(c=1==c.length&&ue(c[0])?lt(c[0],Di(de())):lt(un(c,1),Di(de()))).length;return $e(function(p){for(var _=-1,w=Jt(p.length,d);++_<w;)p[_]=c[_].call(this,p[_]);return sn(l,this,p)})}),fu=$e(function(l,c){var d=cs(c,bo(fu));return xi(l,32,x,c,d)}),Hm=$e(function(l,c){var d=cs(c,bo(Hm));return xi(l,64,x,c,d)}),QS=Yi(function(l,c){return xi(l,256,x,x,x,c)});function ce(l,c){return l===c||l!=l&&c!=c}var G=Dd(Dr),Gm=Dd(function(l,c){return l>=c}),_s=Qb(function(){return arguments}())?Qb:function(l){return Rt(l)&&Ie.call(l,"callee")&&!wg.call(l,"callee")},ue=V.isArray,jm=qn?Di(qn):function(l){return Rt(l)&&zt(l)==Uo};function Wn(l){return null!=l&&rf(l.length)&&!Ii(l)}function Ot(l){return Rt(l)&&Wn(l)}var vs=hs||kf,Wm=yr?Di(yr):function(l){return Rt(l)&&zt(l)==Wa};function es(l){if(!Rt(l))return!1;var c=zt(l);return c==Ho||"[object DOMException]"==c||"string"==typeof l.message&&"string"==typeof l.name&&!mu(l)}function Ii(l){if(!Nt(l))return!1;var c=zt(l);return c==pc||c==eg||"[object AsyncFunction]"==c||"[object Proxy]"==c}function gu(l){return"number"==typeof l&&l==ke(l)}function rf(l){return"number"==typeof l&&l>-1&&l%1==0&&l<=mr}function Nt(l){var c=typeof l;return null!=l&&("object"==c||"function"==c)}function Rt(l){return null!=l&&"object"==typeof l}var rE=Qt?Di(Qt):function(l){return Rt(l)&&hn(l)==Ui};function lE(l){return"number"==typeof l||Rt(l)&&zt(l)==za}function mu(l){if(!Rt(l)||zt(l)!=wi)return!1;var c=me(l);if(null===c)return!0;var d=Ie.call(c,"constructor")&&c.constructor;return"function"==typeof d&&d instanceof d&&Xr.call(d)==ai}var Qm=br?Di(br):function(l){return Rt(l)&&zt(l)==_c},cE=Mt?Di(Mt):function(l){return Rt(l)&&hn(l)==Bn};function af(l){return"string"==typeof l||!ue(l)&&Rt(l)&&zt(l)==qo}function Oi(l){return"symbol"==typeof l||Rt(l)&&zt(l)==vc}var xl=Wo?Di(Wo):function(l){return Rt(l)&&rf(l.length)&&!!vt[zt(l)]},kr=Dd(lo),lf=Dd(function(l,c){return l<=c});function Zm(l){if(!l)return[];if(Wn(l))return af(l)?yt(l):an(l);if(Zo&&l[Zo])return function(O){for(var B,V=[];!(B=O.next()).done;)V.push(B.value);return V}(l[Zo]());var c=hn(l);return(c==Ui?yg:c==Bn?Jh:_a)(l)}function ys(l){return l?(l=zn(l))===Kr||l===-Kr?17976931348623157e292*(l<0?-1:1):l==l?l:0:0===l?l:0}function ke(l){var c=ys(l),d=c%1;return c==c?d?c-d:c:0}function cf(l){return l?Qs(ke(l),0,as):0}function zn(l){if("number"==typeof l)return l;if(Oi(l))return NaN;if(Nt(l)){var c="function"==typeof l.valueOf?l.valueOf():l;l=Nt(c)?c+"":c}if("string"!=typeof l)return 0===l?l:+l;l=_g(l);var d=M1.test(l);return d||O1.test(l)?_n(l.slice(2),d?2:8):qs.test(l)?NaN:+l}function Jm(l){return Xt(l,Rn(l))}function it(l){return null==l?"":Nn(l)}var uE=yo(function(l,c){if(Sl(c)||Wn(c))Xt(c,dn(c),l);else for(var d in c)Ie.call(c,d)&&Hc(l,d,c[d])}),hE=yo(function(l,c){Xt(c,Rn(c),l)}),fa=yo(function(l,c,d,p){Xt(c,Rn(c),l,p)}),dE=yo(function(l,c,d,p){Xt(c,dn(c),l,p)}),Xm=Yi(cl),pE=$e(function(l,c){l=bt(l);var d=-1,p=c.length,_=p>2?c[2]:x;for(_&&Sn(c[0],c[1],_)&&(p=1);++d<p;)for(var w=c[d],T=Rn(w),M=-1,R=T.length;++M<R;){var H=T[M],q=l[H];(q===x||ce(q,Qo[H])&&!Ie.call(l,H))&&(l[H]=w[H])}return l}),Ml=$e(function(l){return l.push(x,Xc),sn(r_,x,l)});function Ol(l,c,d){var p=null==l?x:Js(l,c);return p===x?d:p}function _u(l,c){return null!=l&&Id(l,c,gd)}var vu=em(function(l,c,d){null!=c&&"function"!=typeof c.toString&&(c=Ks.call(c)),l[c]=d},wf(Ln)),mE=em(function(l,c,d){null!=c&&"function"!=typeof c.toString&&(c=Ks.call(c)),Ie.call(l,c)?l[c].push(d):l[c]=[d]},de),n_=$e(hl);function dn(l){return Wn(l)?ro(l):Bg(l)}function Rn(l){return Wn(l)?ro(l,!0):function(l){if(!Nt(l))return function(l){var c=[];if(null!=l)for(var d in bt(l))c.push(d);return c}(l);var c=Sl(l),d=[];for(var p in l)"constructor"==p&&(c||!Ie.call(l,p))||d.push(p);return d}(l)}var s_=yo(function(l,c,d){co(l,c,d)}),r_=yo(function(l,c,d,p){co(l,c,d,p)}),vE=Yi(function(l,c){var d={};if(null==l)return d;var p=!1;c=lt(c,function(w){return w=go(w,l),p||(p=w.length>1),w}),Xt(l,Td(l),d),p&&(d=In(d,7,im));for(var _=c.length;_--;)jg(d,c[_]);return d}),yE=Yi(function(l,c){return null==l?{}:function(l,c){return dl(l,c,function(d,p){return _u(l,p)})}(l,c)});function o_(l,c){if(null==l)return{};var d=lt(Td(l),function(p){return[p]});return c=de(c),dl(l,d,function(p,_){return c(p,_[0])})}var bE=nm(dn),l_=nm(Rn);function _a(l){return null==l?[]:vg(l,dn(l))}var DE=ca(function(l,c,d){return c=c.toLowerCase(),l+(d?ff(c):c)});function ff(l){return bu(it(l).toLowerCase())}function pf(l){return(l=it(l))&&l.replace(yb,$1).replace(Ab,"")}var PE=ca(function(l,c,d){return l+(d?"-":"")+c.toLowerCase()}),kE=ca(function(l,c,d){return l+(d?" ":"")+c.toLowerCase()}),Ax=Jg("toLowerCase"),OE=ca(function(l,c,d){return l+(d?"_":"")+c.toLowerCase()}),_f=ca(function(l,c,d){return l+(d?" ":"")+bu(c)}),p_=ca(function(l,c,d){return l+(d?" ":"")+c.toUpperCase()}),bu=Jg("toUpperCase");function Sf(l,c,d){return l=it(l),(c=d?x:c)===x?function(O){return Ws.test(O)}(l)?function(O){return O.match(Qa)||[]}(l):function(O){return O.match(Ec)||[]}(l):l.match(c)||[]}var Ef=$e(function(l,c){try{return sn(l,x,c)}catch(d){return es(d)?d:new De(d)}}),g_=Yi(function(l,c){return Tn(c,function(d){d=Zi(d),ui(l,d,tf(l[d],l))}),l});function wf(l){return function(){return l}}var kx=rS(),va=rS(!0);function Ln(l){return l}function Ao(l){return Xb("function"==typeof l?l:In(l,1))}var Cf=$e(function(l,c){return function(d){return hl(d,l,c)}}),m_=$e(function(l,c){return function(d){return hl(l,d,c)}});function Df(l,c,d){var p=dn(c),_=sa(c,p);null==d&&(!Nt(c)||!_.length&&p.length)&&(d=c,c=l,l=this,_=sa(c,dn(c)));var w=!(Nt(d)&&"chain"in d&&!d.chain),T=Ii(l);return Tn(_,function(M){var R=c[M];l[M]=R,T&&(l.prototype[M]=function(){var H=this.__chain__;if(w||H){var q=l(this.__wrapped__),W=q.__actions__=an(this.__actions__);return W.push({func:R,args:arguments,thisArg:l}),q.__chain__=H,q}return R.apply(l,on([this.value()],arguments))})}),l}function Af(){}var $E=Cd(lt),HE=Cd(Dc),v_=Cd(Kh);function Po(l){return Nd(l)?Xa(Zi(l)):function(l){return function(c){return Js(c,l)}}(l)}var qE=tm(),UE=tm(!0);function xr(){return[]}function kf(){return!1}var Et=wd(function(l,c){return l+c},0),Tf=Ad("ceil"),xx=wd(function(l,c){return l/c},1),tr=Ad("floor"),E_=wd(function(l,c){return l*c},1),w_=Ad("round"),C_=wd(function(l,c){return l-c},0);return S.after=function(l,c){if("function"!=typeof c)throw new oi(Pn);return l=ke(l),function(){if(--l<1)return c.apply(this,arguments)}},S.ary=ef,S.assign=uE,S.assignIn=hE,S.assignInWith=fa,S.assignWith=dE,S.at=Xm,S.before=Vm,S.bind=tf,S.bindAll=g_,S.bindKey=Fm,S.castArray=function(){if(!arguments.length)return[];var l=arguments[0];return ue(l)?l:[l]},S.chain=km,S.chunk=function(l,c,d){c=(d?Sn(l,c,d):c===x)?1:Zt(ke(c),0);var p=null==l?0:l.length;if(!p||c<1)return[];for(var _=0,w=0,T=V(Lt(p/c));_<p;)T[w++]=ki(l,_,_+=c);return T},S.compact=function(l){for(var c=-1,d=null==l?0:l.length,p=0,_=[];++c<d;){var w=l[c];w&&(_[p++]=w)}return _},S.concat=function(){var l=arguments.length;if(!l)return[];for(var c=V(l-1),d=arguments[0],p=l;p--;)c[p-1]=arguments[p];return on(ue(d)?an(d):[d],un(c,1))},S.cond=function(l){var c=null==l?0:l.length,d=de();return l=c?lt(l,function(p){if("function"!=typeof p[1])throw new oi(Pn);return[d(p[0]),p[1]]}):[],$e(function(p){for(var _=-1;++_<c;){var w=l[_];if(sn(w[0],this,p))return sn(w[1],this,p)}})},S.conforms=function(l){return function(l){var c=dn(l);return function(d){return Rg(d,l,c)}}(In(l,1))},S.constant=wf,S.countBy=Mm,S.create=function(l,c){var d=Ys(l);return null==c?d:Ng(d,c)},S.curry=function Do(l,c,d){var p=xi(l,8,x,x,x,x,x,c=d?x:c);return p.placeholder=Do.placeholder,p},S.curryRight=function Ji(l,c,d){var p=xi(l,16,x,x,x,x,x,c=d?x:c);return p.placeholder=Ji.placeholder,p},S.debounce=KS,S.defaults=pE,S.defaultsDeep=Ml,S.defer=gx,S.delay=Bm,S.difference=qd,S.differenceBy=Ud,S.differenceWith=Gd,S.drop=function(l,c,d){var p=null==l?0:l.length;return p?ki(l,(c=d||c===x?1:ke(c))<0?0:c,p):[]},S.dropRight=function(l,c,d){var p=null==l?0:l.length;return p?ki(l,0,(c=p-(c=d||c===x?1:ke(c)))<0?0:c):[]},S.dropRightWhile=function(l,c){return l&&l.length?aa(l,de(c,3),!0,!0):[]},S.dropWhile=function(l,c){return l&&l.length?aa(l,de(c,3),!0):[]},S.fill=function(l,c,d,p){var _=null==l?0:l.length;return _?(d&&"number"!=typeof d&&Sn(l,c,d)&&(d=0,p=_),function(l,c,d,p){var _=l.length;for((d=ke(d))<0&&(d=-d>_?0:_+d),(p=p===x||p>_?_:ke(p))<0&&(p+=_),p=d>p?0:cf(p);d<p;)l[d++]=c;return l}(l,c,d,p)):[]},S.filter=function(l,c){return(ue(l)?ri:ia)(l,de(c,3))},S.flatMap=function(l,c){return un(Xd(l,c),1)},S.flatMapDeep=function(l,c){return un(Xd(l,c),Kr)},S.flatMapDepth=function(l,c,d){return d=d===x?1:ke(d),un(Xd(l,c),d)},S.flatten=Cl,S.flattenDeep=function(l){return null!=l&&l.length?un(l,Kr):[]},S.flattenDepth=function(l,c){return null!=l&&l.length?un(l,c=c===x?1:ke(c)):[]},S.flip=function(l){return xi(l,512)},S.flow=kx,S.flowRight=va,S.fromPairs=function(l){for(var c=-1,d=null==l?0:l.length,p={};++c<d;){var _=l[c];p[_[0]]=_[1]}return p},S.functions=function(l){return null==l?[]:sa(l,dn(l))},S.functionsIn=function(l){return null==l?[]:sa(l,Rn(l))},S.groupBy=Om,S.initial=function(l){return null!=l&&l.length?ki(l,0,-1):[]},S.intersection=cu,S.intersectionBy=zd,S.intersectionWith=vm,S.invert=vu,S.invertBy=mE,S.invokeMap=Nm,S.iteratee=Ao,S.keyBy=HS,S.keys=dn,S.keysIn=Rn,S.map=Xd,S.mapKeys=function(l,c){var d={};return c=de(c,3),On(l,function(p,_,w){ui(d,c(p,_,w),p)}),d},S.mapValues=function(l,c){var d={};return c=de(c,3),On(l,function(p,_,w){ui(d,_,c(p,_,w))}),d},S.matches=function(l){return Kt(In(l,1))},S.matchesProperty=function(l,c){return zc(l,In(c,1))},S.memoize=Tl,S.merge=s_,S.mergeWith=r_,S.method=Cf,S.methodOf=m_,S.mixin=Df,S.negate=nf,S.nthArg=function(l){return l=ke(l),$e(function(c){return $g(c,l)})},S.omit=vE,S.omitBy=function(l,c){return o_(l,nf(de(c)))},S.once=function(l){return Vm(2,l)},S.orderBy=function(l,c,d,p){return null==l?[]:(ue(c)||(c=null==c?[]:[c]),ue(d=p?x:d)||(d=null==d?[]:[d]),hi(l,c,d))},S.over=$E,S.overArgs=YS,S.overEvery=HE,S.overSome=v_,S.partial=fu,S.partialRight=Hm,S.partition=du,S.pick=yE,S.pickBy=o_,S.property=Po,S.propertyOf=function(l){return function(c){return null==l?x:Js(l,c)}},S.pull=mS,S.pullAll=bm,S.pullAllBy=function(l,c,d){return l&&l.length&&c&&c.length?fs(l,c,de(d,2)):l},S.pullAllWith=function(l,c,d){return l&&l.length&&c&&c.length?fs(l,c,x,d):l},S.pullAt=pi,S.range=qE,S.rangeRight=UE,S.rearg=QS,S.reject=function(l,c){return(ue(l)?ri:ia)(l,nf(de(c,3)))},S.remove=function(l,c){var d=[];if(!l||!l.length)return d;var p=-1,_=[],w=l.length;for(c=de(c,3);++p<w;){var T=l[p];c(T,p,l)&&(d.push(T),_.push(p))}return md(l,_),d},S.rest=function(l,c){if("function"!=typeof l)throw new oi(Pn);return $e(l,c=c===x?c:ke(c))},S.reverse=uu,S.sampleSize=function(l,c,d){return c=(d?Sn(l,c,d):c===x)?1:ke(c),(ue(l)?ea:di)(l,c)},S.set=function(l,c,d){return null==l?l:ho(l,c,d)},S.setWith=function(l,c,d,p){return p="function"==typeof p?p:x,null==l?l:ho(l,c,d,p)},S.shuffle=function(l){return(ue(l)?hd:Ug)(l)},S.slice=function(l,c,d){var p=null==l?0:l.length;return p?(d&&"number"!=typeof d&&Sn(l,c,d)?(c=0,d=p):(c=null==c?0:ke(c),d=d===x?p:ke(d)),ki(l,c,d)):[]},S.sortBy=zS,S.sortedUniq=function(l){return l&&l.length?Gg(l):[]},S.sortedUniqBy=function(l,c){return l&&l.length?Gg(l,de(c,2)):[]},S.split=function(l,c,d){return d&&"number"!=typeof d&&Sn(l,c,d)&&(c=d=x),(d=d===x?as:d>>>0)?(l=it(l))&&("string"==typeof c||null!=c&&!Qm(c))&&!(c=Nn(c))&&tl(l)?Ti(yt(l),0,d):l.split(c,d):[]},S.spread=function(l,c){if("function"!=typeof l)throw new oi(Pn);return c=null==c?0:Zt(ke(c),0),$e(function(d){var p=d[c],_=Ti(d,0,c);return p&&on(_,p),sn(l,this,_)})},S.tail=function(l){var c=null==l?0:l.length;return c?ki(l,1,c):[]},S.take=function(l,c,d){return l&&l.length?ki(l,0,(c=d||c===x?1:ke(c))<0?0:c):[]},S.takeRight=function(l,c,d){var p=null==l?0:l.length;return p?ki(l,(c=p-(c=d||c===x?1:ke(c)))<0?0:c,p):[]},S.takeRightWhile=function(l,c){return l&&l.length?aa(l,de(c,3),!1,!0):[]},S.takeWhile=function(l,c){return l&&l.length?aa(l,de(c,3)):[]},S.tap=function(l,c){return c(l),l},S.throttle=function(l,c,d){var p=!0,_=!0;if("function"!=typeof l)throw new oi(Pn);return Nt(d)&&(p="leading"in d?!!d.leading:p,_="trailing"in d?!!d.trailing:_),KS(l,c,{leading:p,maxWait:c,trailing:_})},S.thru=Pl,S.toArray=Zm,S.toPairs=bE,S.toPairsIn=l_,S.toPath=function(l){return ue(l)?lt(l,Zi):Oi(l)?[l]:an(Bd(it(l)))},S.toPlainObject=Jm,S.transform=function(l,c,d){var p=ue(l),_=p||vs(l)||xl(l);if(c=de(c,4),null==d){var w=l&&l.constructor;d=_?p?new w:[]:Nt(l)&&Ii(w)?Ys(me(l)):{}}return(_?Tn:On)(l,function(T,M,R){return c(d,T,M,R)}),d},S.unary=function(l){return ef(l,1)},S.union=ms,S.unionBy=Al,S.unionWith=wm,S.uniq=function(l){return l&&l.length?Ki(l):[]},S.uniqBy=function(l,c){return l&&l.length?Ki(l,de(c,2)):[]},S.uniqWith=function(l,c){return c="function"==typeof c?c:x,l&&l.length?Ki(l,x,c):[]},S.unset=function(l,c){return null==l||jg(l,c)},S.unzip=Am,S.unzipWith=TS,S.update=function(l,c,d){return null==l?l:oa(l,c,fl(d))},S.updateWith=function(l,c,d,p){return p="function"==typeof p?p:x,null==l?l:oa(l,c,fl(d),p)},S.values=_a,S.valuesIn=function(l){return null==l?[]:vg(l,Rn(l))},S.without=Kd,S.words=Sf,S.wrap=function(l,c){return fu(fl(c),l)},S.xor=Yd,S.xorBy=Qd,S.xorWith=ux,S.zip=hx,S.zipObject=function(l,c){return Wg(l||[],c||[],Hc)},S.zipObjectDeep=function(l,c){return Wg(l||[],c||[],ho)},S.zipWith=MS,S.entries=bE,S.entriesIn=l_,S.extend=hE,S.extendWith=fa,Df(S,S),S.add=Et,S.attempt=Ef,S.camelCase=DE,S.capitalize=ff,S.ceil=Tf,S.clamp=function(l,c,d){return d===x&&(d=c,c=x),d!==x&&(d=(d=zn(d))==d?d:0),c!==x&&(c=(c=zn(c))==c?c:0),Qs(zn(l),c,d)},S.clone=function(l){return In(l,4)},S.cloneDeep=function(l){return In(l,5)},S.cloneDeepWith=function(l,c){return In(l,5,c="function"==typeof c?c:x)},S.cloneWith=function(l,c){return In(l,4,c="function"==typeof c?c:x)},S.conformsTo=function(l,c){return null==c||Rg(l,c,dn(c))},S.deburr=pf,S.defaultTo=function(l,c){return null==l||l!=l?c:l},S.divide=xx,S.endsWith=function(l,c,d){l=it(l),c=Nn(c);var p=l.length,_=d=d===x?p:Qs(ke(d),0,p);return(d-=c.length)>=0&&l.slice(d,_)==c},S.eq=ce,S.escape=function(l){return(l=it(l))&&Fh.test(l)?l.replace(Sc,H1):l},S.escapeRegExp=function(l){return(l=it(l))&&Bh.test(l)?l.replace(sg,"\\$&"):l},S.every=function(l,c,d){var p=ue(l)?Dc:Yb;return d&&Sn(l,c,d)&&(c=x),p(l,de(c,3))},S.find=FS,S.findIndex=jd,S.findKey=function(l,c){return Ja(l,de(c,3),On)},S.findLast=BS,S.findLastIndex=lu,S.findLastKey=function(l,c){return Ja(l,de(c,3),Gn)},S.floor=tr,S.forEach=da,S.forEachRight=Im,S.forIn=function(l,c){return null==l?l:jc(l,de(c,3),Rn)},S.forInRight=function(l,c){return null==l?l:pd(l,de(c,3),Rn)},S.forOwn=function(l,c){return l&&On(l,de(c,3))},S.forOwnRight=function(l,c){return l&&Gn(l,de(c,3))},S.get=Ol,S.gt=G,S.gte=Gm,S.has=function(l,c){return null!=l&&Id(l,c,ul)},S.hasIn=_u,S.head=_m,S.identity=Ln,S.includes=function(l,c,d,p){l=Wn(l)?l:_a(l),d=d&&!p?ke(d):0;var _=l.length;return d<0&&(d=Zt(_+d,0)),af(l)?d<=_&&l.indexOf(c,d)>-1:!!_&&Bt(l,c,d)>-1},S.indexOf=function(l,c,d){var p=null==l?0:l.length;if(!p)return-1;var _=null==d?0:ke(d);return _<0&&(_=Zt(p+_,0)),Bt(l,c,_)},S.inRange=function(l,c,d){return c=ys(c),d===x?(d=c,c=0):d=ys(d),function(l,c,d){return l>=Jt(c,d)&&l<Zt(c,d)}(l=zn(l),c,d)},S.invoke=n_,S.isArguments=_s,S.isArray=ue,S.isArrayBuffer=jm,S.isArrayLike=Wn,S.isArrayLikeObject=Ot,S.isBoolean=function(l){return!0===l||!1===l||Rt(l)&&zt(l)==$o},S.isBuffer=vs,S.isDate=Wm,S.isElement=function(l){return Rt(l)&&1===l.nodeType&&!mu(l)},S.isEmpty=function(l){if(null==l)return!0;if(Wn(l)&&(ue(l)||"string"==typeof l||"function"==typeof l.splice||vs(l)||xl(l)||_s(l)))return!l.length;var c=hn(l);if(c==Ui||c==Bn)return!l.size;if(Sl(l))return!Bg(l).length;for(var d in l)if(Ie.call(l,d))return!1;return!0},S.isEqual=function(l,c){return Wc(l,c)},S.isEqualWith=function(l,c,d){var p=(d="function"==typeof d?d:x)?d(l,c):x;return p===x?Wc(l,c,x,d):!!p},S.isError=es,S.isFinite=function(l){return"number"==typeof l&&Nc(l)},S.isFunction=Ii,S.isInteger=gu,S.isLength=rf,S.isMap=rE,S.isMatch=function(l,c){return l===c||Fg(l,c,xd(c))},S.isMatchWith=function(l,c,d){return d="function"==typeof d?d:x,Fg(l,c,xd(c),d)},S.isNaN=function(l){return lE(l)&&l!=+l},S.isNative=function(l){if(cS(l))throw new De("Unsupported core-js use. Try https://npms.io/search?q=ponyfill.");return Jb(l)},S.isNil=function(l){return null==l},S.isNull=function(l){return null===l},S.isNumber=lE,S.isObject=Nt,S.isObjectLike=Rt,S.isPlainObject=mu,S.isRegExp=Qm,S.isSafeInteger=function(l){return gu(l)&&l>=-mr&&l<=mr},S.isSet=cE,S.isString=af,S.isSymbol=Oi,S.isTypedArray=xl,S.isUndefined=function(l){return l===x},S.isWeakMap=function(l){return Rt(l)&&hn(l)==yc},S.isWeakSet=function(l){return Rt(l)&&"[object WeakSet]"==zt(l)},S.join=function(l,c){return null==l?"":nd.call(l,c)},S.kebabCase=PE,S.last=fi,S.lastIndexOf=function(l,c,d){var p=null==l?0:l.length;if(!p)return-1;var _=p;return d!==x&&(_=(_=ke(d))<0?Zt(p+_,0):Jt(_,p-1)),c==c?function(O,B,V){for(var ne=V+1;ne--;)if(O[ne]===B)return ne;return ne}(l,c,_):ls(l,ji,_,!0)},S.lowerCase=kE,S.lowerFirst=Ax,S.lt=kr,S.lte=lf,S.max=function(l){return l&&l.length?Uc(l,Ln,Dr):x},S.maxBy=function(l,c){return l&&l.length?Uc(l,de(c,2),Dr):x},S.mean=function(l){return Ci(l,Ln)},S.meanBy=function(l,c){return Ci(l,de(c,2))},S.min=function(l){return l&&l.length?Uc(l,Ln,lo):x},S.minBy=function(l,c){return l&&l.length?Uc(l,de(c,2),lo):x},S.stubArray=xr,S.stubFalse=kf,S.stubObject=function(){return{}},S.stubString=function(){return""},S.stubTrue=function(){return!0},S.multiply=E_,S.nth=function(l,c){return l&&l.length?$g(l,ke(c)):x},S.noConflict=function(){return ut._===this&&(ut._=Eg),this},S.noop=Af,S.now=kl,S.pad=function(l,c,d){l=it(l);var p=(c=ke(c))?Jr(l):0;if(!c||p>=c)return l;var _=(c-p)/2;return Jc(il(_),d)+l+Jc(Lt(_),d)},S.padEnd=function(l,c,d){l=it(l);var p=(c=ke(c))?Jr(l):0;return c&&p<c?l+Jc(c-p,d):l},S.padStart=function(l,c,d){l=it(l);var p=(c=ke(c))?Jr(l):0;return c&&p<c?Jc(c-p,d)+l:l},S.parseInt=function(l,c,d){return d||null==c?c=0:c&&(c=+c),Mn(it(l).replace(Ce,""),c||0)},S.random=function(l,c,d){if(d&&"boolean"!=typeof d&&Sn(l,c,d)&&(c=d=x),d===x&&("boolean"==typeof c?(d=c,c=x):"boolean"==typeof l&&(d=l,l=x)),l===x&&c===x?(l=0,c=1):(l=ys(l),c===x?(c=l,l=0):c=ys(c)),l>c){var p=l;l=c,c=p}if(d||l%1||c%1){var _=zi();return Jt(l+_*(c-l+Hn("1e-"+((_+"").length-1))),c)}return _d(l,c)},S.reduce=function(l,c,d){var p=ue(l)?ht:el,_=arguments.length<3;return p(l,de(c,4),d,_,Zs)},S.reduceRight=function(l,c,d){var p=ue(l)?xb:el,_=arguments.length<3;return p(l,de(c,4),d,_,fd)},S.repeat=function(l,c,d){return c=(d?Sn(l,c,d):c===x)?1:ke(c),Hg(it(l),c)},S.replace=function(){var l=arguments,c=it(l[0]);return l.length<3?c:c.replace(l[1],l[2])},S.result=function(l,c,d){var p=-1,_=(c=go(c,l)).length;for(_||(_=1,l=x);++p<_;){var w=null==l?x:l[Zi(c[p])];w===x&&(p=_,w=d),l=Ii(w)?w.call(l):w}return l},S.round=w_,S.runInContext=O,S.sample=function(l){return(ue(l)?Ig:qg)(l)},S.size=function(l){if(null==l)return 0;if(Wn(l))return af(l)?Jr(l):l.length;var c=hn(l);return c==Ui||c==Bn?l.size:Bg(l).length},S.snakeCase=OE,S.some=function(l,c,d){var p=ue(l)?Kh:nS;return d&&Sn(l,c,d)&&(c=x),p(l,de(c,3))},S.sortedIndex=function(l,c){return Kc(l,c)},S.sortedIndexBy=function(l,c,d){return vd(l,c,de(d,2))},S.sortedIndexOf=function(l,c){var d=null==l?0:l.length;if(d){var p=Kc(l,c);if(p<d&&ce(l[p],c))return p}return-1},S.sortedLastIndex=function(l,c){return Kc(l,c,!0)},S.sortedLastIndexBy=function(l,c,d){return vd(l,c,de(d,2),!0)},S.sortedLastIndexOf=function(l,c){if(null!=l&&l.length){var p=Kc(l,c,!0)-1;if(ce(l[p],c))return p}return-1},S.startCase=_f,S.startsWith=function(l,c,d){return l=it(l),d=null==d?0:Qs(ke(d),0,l.length),c=Nn(c),l.slice(d,d+c.length)==c},S.subtract=C_,S.sum=function(l){return l&&l.length?Qh(l,Ln):0},S.sumBy=function(l,c){return l&&l.length?Qh(l,de(c,2)):0},S.template=function(l,c,d){var p=S.templateSettings;d&&Sn(l,c,d)&&(c=x),l=it(l),c=fa({},c,p,yn);var M,R,_=fa({},c.imports,p.imports,yn),w=dn(_),T=vg(_,w),H=0,q=c.interpolate||$h,W="__p += '",J=Dt((c.escape||$h).source+"|"+q.source+"|"+(q===ae?_b:$h).source+"|"+(c.evaluate||$h).source+"|$","g"),re="//# sourceURL="+(Ie.call(c,"sourceURL")?(c.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++fg+"]")+"\n";l.replace(J,function(ve,Le,ze,Kn,En,Ni){return ze||(ze=Kn),W+=l.slice(H,Ni).replace(bb,q1),Le&&(M=!0,W+="' +\n__e("+Le+") +\n'"),En&&(R=!0,W+="';\n"+En+";\n__p += '"),ze&&(W+="' +\n((__t = ("+ze+")) == null ? '' : __t) +\n'"),H=Ni+ve.length,ve}),W+="';\n";var ge=Ie.call(c,"variable")&&c.variable;if(ge){if(ii.test(ge))throw new De("Invalid `variable` option passed into `_.template`")}else W="with (obj) {\n"+W+"\n}\n";W=(R?W.replace(db,""):W).replace(fb,"$1").replace(pb,"$1;"),W="function("+(ge||"obj")+") {\n"+(ge?"":"obj || (obj = {});\n")+"var __t, __p = ''"+(M?", __e = _.escape":"")+(R?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+W+"return __p\n}";var Re=Ef(function(){return nt(w,re+"return "+W).apply(x,T)});if(Re.source=W,es(Re))throw Re;return Re},S.times=function(l,c){if((l=ke(l))<1||l>mr)return[];var d=as,p=Jt(l,as);c=de(c),l-=as;for(var _=mg(p,c);++d<l;)c(d);return _},S.toFinite=ys,S.toInteger=ke,S.toLength=cf,S.toLower=function(l){return it(l).toLowerCase()},S.toNumber=zn,S.toSafeInteger=function(l){return l?Qs(ke(l),-mr,mr):0===l?l:0},S.toString=it,S.toUpper=function(l){return it(l).toUpperCase()},S.trim=function(l,c,d){if((l=it(l))&&(d||c===x))return _g(l);if(!l||!(c=Nn(c)))return l;var p=yt(l),_=yt(c);return Ti(p,Ob(p,_),Nb(p,_)+1).join("")},S.trimEnd=function(l,c,d){if((l=it(l))&&(d||c===x))return l.slice(0,Xh(l)+1);if(!l||!(c=Nn(c)))return l;var p=yt(l);return Ti(p,0,Nb(p,yt(c))+1).join("")},S.trimStart=function(l,c,d){if((l=it(l))&&(d||c===x))return l.replace(Ce,"");if(!l||!(c=Nn(c)))return l;var p=yt(l);return Ti(p,Ob(p,yt(c))).join("")},S.truncate=function(l,c){var d=30,p="...";if(Nt(c)){var _="separator"in c?c.separator:_;d="length"in c?ke(c.length):d,p="omission"in c?Nn(c.omission):p}var w=(l=it(l)).length;if(tl(l)){var T=yt(l);w=T.length}if(d>=w)return l;var M=d-Jr(p);if(M<1)return p;var R=T?Ti(T,0,M).join(""):l.slice(0,M);if(_===x)return R+p;if(T&&(M+=R.length-M),Qm(_)){if(l.slice(M).search(_)){var H,q=R;for(_.global||(_=Dt(_.source,it(vb.exec(_))+"g")),_.lastIndex=0;H=_.exec(q);)var W=H.index;R=R.slice(0,W===x?M:W)}}else if(l.indexOf(Nn(_),M)!=M){var J=R.lastIndexOf(_);J>-1&&(R=R.slice(0,J))}return R+p},S.unescape=function(l){return(l=it(l))&&Oe.test(l)?l.replace(Je,Rb):l},S.uniqueId=function(l){var c=++Fb;return it(l)+c},S.upperCase=p_,S.upperFirst=bu,S.each=da,S.eachRight=Im,S.first=_m,Df(S,function(){var l={};return On(S,function(c,d){Ie.call(S.prototype,d)||(l[d]=c)}),l}(),{chain:!1}),S.VERSION="4.17.21",Tn(["bind","bindKey","curry","curryRight","partial","partialRight"],function(l){S[l].placeholder=S}),Tn(["drop","take"],function(l,c){pe.prototype[l]=function(d){d=d===x?1:Zt(ke(d),0);var p=this.__filtered__&&!c?new pe(this):this.clone();return p.__filtered__?p.__takeCount__=Jt(d,p.__takeCount__):p.__views__.push({size:Jt(d,as),type:l+(p.__dir__<0?"Right":"")}),p},pe.prototype[l+"Right"]=function(d){return this.reverse()[l](d).reverse()}}),Tn(["filter","map","takeWhile"],function(l,c){var d=c+1,p=1==d||3==d;pe.prototype[l]=function(_){var w=this.clone();return w.__iteratees__.push({iteratee:de(_,3),type:d}),w.__filtered__=w.__filtered__||p,w}}),Tn(["head","last"],function(l,c){var d="take"+(c?"Right":"");pe.prototype[l]=function(){return this[d](1).value()[0]}}),Tn(["initial","tail"],function(l,c){var d="drop"+(c?"":"Right");pe.prototype[l]=function(){return this.__filtered__?new pe(this):this[d](1)}}),pe.prototype.compact=function(){return this.filter(Ln)},pe.prototype.find=function(l){return this.filter(l).head()},pe.prototype.findLast=function(l){return this.reverse().find(l)},pe.prototype.invokeMap=$e(function(l,c){return"function"==typeof l?new pe(this):this.map(function(d){return hl(d,l,c)})}),pe.prototype.reject=function(l){return this.filter(nf(de(l)))},pe.prototype.slice=function(l,c){l=ke(l);var d=this;return d.__filtered__&&(l>0||c<0)?new pe(d):(l<0?d=d.takeRight(-l):l&&(d=d.drop(l)),c!==x&&(d=(c=ke(c))<0?d.dropRight(-c):d.take(c-l)),d)},pe.prototype.takeRightWhile=function(l){return this.reverse().takeWhile(l).reverse()},pe.prototype.toArray=function(){return this.take(as)},On(pe.prototype,function(l,c){var d=/^(?:filter|find|map|reject)|While$/.test(c),p=/^(?:head|last)$/.test(c),_=S[p?"take"+("last"==c?"Right":""):c],w=p||/^find/.test(c);!_||(S.prototype[c]=function(){var T=this.__wrapped__,M=p?[1]:arguments,R=T instanceof pe,H=M[0],q=R||ue(T),W=function(Le){var ze=_.apply(S,on([Le],M));return p&&J?ze[0]:ze};q&&d&&"function"==typeof H&&1!=H.length&&(R=q=!1);var J=this.__chain__,re=!!this.__actions__.length,ge=w&&!J,Re=R&&!re;if(!w&&q){T=Re?T:new pe(this);var ve=l.apply(T,M);return ve.__actions__.push({func:Pl,args:[W],thisArg:x}),new Ai(ve,J)}return ge&&Re?l.apply(this,M):(ve=this.thru(W),ge?p?ve.value()[0]:ve.value():ve)})}),Tn(["pop","push","shift","sort","splice","unshift"],function(l){var c=kc[l],d=/^(?:push|sort|unshift)$/.test(l)?"tap":"thru",p=/^(?:pop|shift)$/.test(l);S.prototype[l]=function(){var _=arguments;if(p&&!this.__chain__){var w=this.value();return c.apply(ue(w)?w:[],_)}return this[d](function(T){return c.apply(ue(T)?T:[],_)})}}),On(pe.prototype,function(l,c){var d=S[c];if(d){var p=d.name+"";Ie.call(Er,p)||(Er[p]=[]),Er[p].push({name:c,func:d})}}),Er[ml(x,2).name]=[{name:"wrapper",func:x}],pe.prototype.clone=function(){var l=new pe(this.__wrapped__);return l.__actions__=an(this.__actions__),l.__dir__=this.__dir__,l.__filtered__=this.__filtered__,l.__iteratees__=an(this.__iteratees__),l.__takeCount__=this.__takeCount__,l.__views__=an(this.__views__),l},pe.prototype.reverse=function(){if(this.__filtered__){var l=new pe(this);l.__dir__=-1,l.__filtered__=!0}else(l=this.clone()).__dir__*=-1;return l},pe.prototype.value=function(){var l=this.__wrapped__.value(),c=this.__dir__,d=ue(l),p=c<0,_=d?l.length:0,w=function(l,c,d){for(var p=-1,_=d.length;++p<_;){var w=d[p],T=w.size;switch(w.type){case"drop":l+=T;break;case"dropRight":c-=T;break;case"take":c=Jt(c,l+T);break;case"takeRight":l=Zt(l,c-T)}}return{start:l,end:c}}(0,_,this.__views__),T=w.start,M=w.end,R=M-T,H=p?M:T-1,q=this.__iteratees__,W=q.length,J=0,re=Jt(R,this.__takeCount__);if(!d||!p&&_==R&&re==R)return po(l,this.__actions__);var ge=[];e:for(;R--&&J<re;){for(var Re=-1,ve=l[H+=c];++Re<W;){var Le=q[Re],Kn=Le.type,En=(0,Le.iteratee)(ve);if(2==Kn)ve=En;else if(!En){if(1==Kn)continue e;break e}}ge[J++]=ve}return ge},S.prototype.at=hu,S.prototype.chain=function(){return km(this)},S.prototype.commit=function(){return new Ai(this.value(),this.__chain__)},S.prototype.next=function(){this.__values__===x&&(this.__values__=Zm(this.value()));var l=this.__index__>=this.__values__.length;return{done:l,value:l?x:this.__values__[this.__index__++]}},S.prototype.plant=function(l){for(var c,d=this;d instanceof Vc;){var p=Hd(d);p.__index__=0,p.__values__=x,c?_.__wrapped__=p:c=p;var _=p;d=d.__wrapped__}return _.__wrapped__=l,c},S.prototype.reverse=function(){var l=this.__wrapped__;if(l instanceof pe){var c=l;return this.__actions__.length&&(c=new pe(this)),(c=c.reverse()).__actions__.push({func:Pl,args:[uu],thisArg:x}),new Ai(c,this.__chain__)}return this.thru(uu)},S.prototype.toJSON=S.prototype.valueOf=S.prototype.value=function(){return po(this.__wrapped__,this.__actions__)},S.prototype.first=S.prototype.head,Zo&&(S.prototype[Zo]=function(){return this}),S}();ut._=Yo,(qi=function(){return Yo}.call(St,Gt,St,Vt))!==x&&(Vt.exports=qi)}.call(this)},230:(Vt,St,Gt)=>{"use strict";var qi={};function x(n){return"function"==typeof n}Gt.r(qi),Gt.d(qi,{afterMain:()=>bL,afterRead:()=>_L,afterWrite:()=>wL,applyStyles:()=>$k,arrow:()=>ML,auto:()=>hy,basePlacements:()=>rh,beforeMain:()=>vL,beforeRead:()=>gL,beforeWrite:()=>SL,bottom:()=>ts,clippingParents:()=>fL,computeStyles:()=>Gk,createPopper:()=>Zk,createPopperBase:()=>a5,createPopperLite:()=>u5,detectOverflow:()=>hh,end:()=>oh,eventListeners:()=>jk,flip:()=>VL,hide:()=>$L,left:()=>Ei,main:()=>yL,modifierPhases:()=>CL,offset:()=>HL,placements:()=>Fk,popper:()=>ah,popperGenerator:()=>my,popperOffsets:()=>Qk,preventOverflow:()=>qL,read:()=>mL,reference:()=>pL,right:()=>ns,start:()=>Zl,top:()=>Si,variationPlacements:()=>Vk,viewport:()=>Lk,write:()=>EL});let kh=!1;const ti={Promise:void 0,set useDeprecatedSynchronousErrorHandling(n){if(n){const t=new Error;console.warn("DEPRECATED! RxJS was set to use deprecated synchronous error handling behavior by code at: \n"+t.stack)}else kh&&console.log("RxJS: Back to a better error behavior. Thank you. <3");kh=n},get useDeprecatedSynchronousErrorHandling(){return kh}};function Lo(n){setTimeout(()=>{throw n},0)}const Pn={closed:!0,next(n){},error(n){if(ti.useDeprecatedSynchronousErrorHandling)throw n;Lo(n)},complete(){}},Ha=Array.isArray||(n=>n&&"number"==typeof n.length);function qa(n){return null!==n&&"object"==typeof n}const Ur=(()=>{function n(t){return Error.call(this),this.message=t?`${t.length} errors occurred during unsubscription:\n${t.map((e,i)=>`${i+1}) ${e.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=t,this}return n.prototype=Object.create(Error.prototype),n})();class Ue{constructor(t){this.closed=!1,this._parentOrParents=null,this._subscriptions=null,t&&(this._ctorUnsubscribe=!0,this._unsubscribe=t)}unsubscribe(){let t;if(this.closed)return;let{_parentOrParents:e,_ctorUnsubscribe:i,_unsubscribe:s,_subscriptions:r}=this;if(this.closed=!0,this._parentOrParents=null,this._subscriptions=null,e instanceof Ue)e.remove(this);else if(null!==e)for(let o=0;o<e.length;++o)e[o].remove(this);if(x(s)){i&&(this._unsubscribe=void 0);try{s.call(this)}catch(o){t=o instanceof Ur?Th(o.errors):[o]}}if(Ha(r)){let o=-1,a=r.length;for(;++o<a;){const u=r[o];if(qa(u))try{u.unsubscribe()}catch(h){t=t||[],h instanceof Ur?t=t.concat(Th(h.errors)):t.push(h)}}}if(t)throw new Ur(t)}add(t){let e=t;if(!t)return Ue.EMPTY;switch(typeof t){case"function":e=new Ue(t);case"object":if(e===this||e.closed||"function"!=typeof e.unsubscribe)return e;if(this.closed)return e.unsubscribe(),e;if(!(e instanceof Ue)){const r=e;e=new Ue,e._subscriptions=[r]}break;default:throw new Error("unrecognized teardown "+t+" added to Subscription.")}let{_parentOrParents:i}=e;if(null===i)e._parentOrParents=this;else if(i instanceof Ue){if(i===this)return e;e._parentOrParents=[i,this]}else{if(-1!==i.indexOf(this))return e;i.push(this)}const s=this._subscriptions;return null===s?this._subscriptions=[e]:s.push(e),e}remove(t){const e=this._subscriptions;if(e){const i=e.indexOf(t);-1!==i&&e.splice(i,1)}}}var n;function Th(n){return n.reduce((t,e)=>t.concat(e instanceof Ur?e.errors:e),[])}Ue.EMPTY=((n=new Ue).closed=!0,n);const $s="function"==typeof Symbol?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random();class Ct extends Ue{constructor(t,e,i){switch(super(),this.syncErrorValue=null,this.syncErrorThrown=!1,this.syncErrorThrowable=!1,this.isStopped=!1,arguments.length){case 0:this.destination=Pn;break;case 1:if(!t){this.destination=Pn;break}if("object"==typeof t){t instanceof Ct?(this.syncErrorThrowable=t.syncErrorThrowable,this.destination=t,t.add(this)):(this.syncErrorThrowable=!0,this.destination=new ni(this,t));break}default:this.syncErrorThrowable=!0,this.destination=new ni(this,t,e,i)}}[$s](){return this}static create(t,e,i){const s=new Ct(t,e,i);return s.syncErrorThrowable=!1,s}next(t){this.isStopped||this._next(t)}error(t){this.isStopped||(this.isStopped=!0,this._error(t))}complete(){this.isStopped||(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe())}_next(t){this.destination.next(t)}_error(t){this.destination.error(t),this.unsubscribe()}_complete(){this.destination.complete(),this.unsubscribe()}_unsubscribeAndRecycle(){const{_parentOrParents:t}=this;return this._parentOrParents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parentOrParents=t,this}}class ni extends Ct{constructor(t,e,i,s){super(),this._parentSubscriber=t;let r,o=this;x(e)?r=e:e&&(r=e.next,i=e.error,s=e.complete,e!==Pn&&(o=Object.create(e),x(o.unsubscribe)&&this.add(o.unsubscribe.bind(o)),o.unsubscribe=this.unsubscribe.bind(this))),this._context=o,this._next=r,this._error=i,this._complete=s}next(t){if(!this.isStopped&&this._next){const{_parentSubscriber:e}=this;ti.useDeprecatedSynchronousErrorHandling&&e.syncErrorThrowable?this.__tryOrSetError(e,this._next,t)&&this.unsubscribe():this.__tryOrUnsub(this._next,t)}}error(t){if(!this.isStopped){const{_parentSubscriber:e}=this,{useDeprecatedSynchronousErrorHandling:i}=ti;if(this._error)i&&e.syncErrorThrowable?(this.__tryOrSetError(e,this._error,t),this.unsubscribe()):(this.__tryOrUnsub(this._error,t),this.unsubscribe());else if(e.syncErrorThrowable)i?(e.syncErrorValue=t,e.syncErrorThrown=!0):Lo(t),this.unsubscribe();else{if(this.unsubscribe(),i)throw t;Lo(t)}}}complete(){if(!this.isStopped){const{_parentSubscriber:t}=this;if(this._complete){const e=()=>this._complete.call(this._context);ti.useDeprecatedSynchronousErrorHandling&&t.syncErrorThrowable?(this.__tryOrSetError(t,e),this.unsubscribe()):(this.__tryOrUnsub(e),this.unsubscribe())}else this.unsubscribe()}}__tryOrUnsub(t,e){try{t.call(this._context,e)}catch(i){if(this.unsubscribe(),ti.useDeprecatedSynchronousErrorHandling)throw i;Lo(i)}}__tryOrSetError(t,e,i){if(!ti.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{e.call(this._context,i)}catch(s){return ti.useDeprecatedSynchronousErrorHandling?(t.syncErrorValue=s,t.syncErrorThrown=!0,!0):(Lo(s),!0)}return!1}_unsubscribe(){const{_parentSubscriber:t}=this;this._context=null,this._parentSubscriber=null,t.unsubscribe()}}const Fn="function"==typeof Symbol&&Symbol.observable||"@@observable";function jr(n){return n}let He=(()=>{class n{constructor(e){this._isScalar=!1,e&&(this._subscribe=e)}lift(e){const i=new n;return i.source=this,i.operator=e,i}subscribe(e,i,s){const{operator:r}=this,o=function(n,t,e){if(n){if(n instanceof Ct)return n;if(n[$s])return n[$s]()}return n||t||e?new Ct(n,t,e):new Ct(Pn)}(e,i,s);if(o.add(r?r.call(o,this.source):this.source||ti.useDeprecatedSynchronousErrorHandling&&!o.syncErrorThrowable?this._subscribe(o):this._trySubscribe(o)),ti.useDeprecatedSynchronousErrorHandling&&o.syncErrorThrowable&&(o.syncErrorThrowable=!1,o.syncErrorThrown))throw o.syncErrorValue;return o}_trySubscribe(e){try{return this._subscribe(e)}catch(i){ti.useDeprecatedSynchronousErrorHandling&&(e.syncErrorThrown=!0,e.syncErrorValue=i),function(n){for(;n;){const{closed:t,destination:e,isStopped:i}=n;if(t||i)return!1;n=e&&e instanceof Ct?e:null}return!0}(e)?e.error(i):console.warn(i)}}forEach(e,i){return new(i=Vo(i))((s,r)=>{let o;o=this.subscribe(a=>{try{e(a)}catch(u){r(u),o&&o.unsubscribe()}},r,s)})}_subscribe(e){const{source:i}=this;return i&&i.subscribe(e)}[Fn](){return this}pipe(...e){return 0===e.length?this:function(n){return 0===n.length?jr:1===n.length?n[0]:function(e){return n.reduce((i,s)=>s(i),e)}}(e)(this)}toPromise(e){return new(e=Vo(e))((i,s)=>{let r;this.subscribe(o=>r=o,o=>s(o),()=>i(r))})}}return n.create=t=>new n(t),n})();function Vo(n){if(n||(n=ti.Promise||Promise),!n)throw new Error("no Promise impl found");return n}const zr=(()=>{function n(){return Error.call(this),this.message="object unsubscribed",this.name="ObjectUnsubscribedError",this}return n.prototype=Object.create(Error.prototype),n})();class Qp extends Ue{constructor(t,e){super(),this.subject=t,this.subscriber=e,this.closed=!1}unsubscribe(){if(this.closed)return;this.closed=!0;const t=this.subject,e=t.observers;if(this.subject=null,!e||0===e.length||t.isStopped||t.closed)return;const i=e.indexOf(this.subscriber);-1!==i&&e.splice(i,1)}}class Zp extends Ct{constructor(t){super(t),this.destination=t}}let qe=(()=>{class n extends He{constructor(){super(),this.observers=[],this.closed=!1,this.isStopped=!1,this.hasError=!1,this.thrownError=null}[$s](){return new Zp(this)}lift(e){const i=new xh(this,this);return i.operator=e,i}next(e){if(this.closed)throw new zr;if(!this.isStopped){const{observers:i}=this,s=i.length,r=i.slice();for(let o=0;o<s;o++)r[o].next(e)}}error(e){if(this.closed)throw new zr;this.hasError=!0,this.thrownError=e,this.isStopped=!0;const{observers:i}=this,s=i.length,r=i.slice();for(let o=0;o<s;o++)r[o].error(e);this.observers.length=0}complete(){if(this.closed)throw new zr;this.isStopped=!0;const{observers:e}=this,i=e.length,s=e.slice();for(let r=0;r<i;r++)s[r].complete();this.observers.length=0}unsubscribe(){this.isStopped=!0,this.closed=!0,this.observers=null}_trySubscribe(e){if(this.closed)throw new zr;return super._trySubscribe(e)}_subscribe(e){if(this.closed)throw new zr;return this.hasError?(e.error(this.thrownError),Ue.EMPTY):this.isStopped?(e.complete(),Ue.EMPTY):(this.observers.push(e),new Qp(this,e))}asObservable(){const e=new He;return e.source=this,e}}return n.create=(t,e)=>new xh(t,e),n})();class xh extends qe{constructor(t,e){super(),this.destination=t,this.source=e}next(t){const{destination:e}=this;e&&e.next&&e.next(t)}error(t){const{destination:e}=this;e&&e.error&&this.destination.error(t)}complete(){const{destination:t}=this;t&&t.complete&&this.destination.complete()}_subscribe(t){const{source:e}=this;return e?this.source.subscribe(t):Ue.EMPTY}}function Ga(n){return n&&"function"==typeof n.schedule}function Fo(n,t){return function(i){if("function"!=typeof n)throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return i.lift(new Kr(n,t))}}class Kr{constructor(t,e){this.project=t,this.thisArg=e}call(t,e){return e.subscribe(new mr(t,this.project,this.thisArg))}}class mr extends Ct{constructor(t,e,i){super(t),this.project=e,this.count=0,this.thisArg=i||this}_next(t){let e;try{e=this.project.call(this.thisArg,t,this.count++)}catch(i){return void this.destination.error(i)}this.destination.next(e)}}const Jp=n=>t=>{for(let e=0,i=n.length;e<i&&!t.closed;e++)t.next(n[e]);t.complete()},fc="function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator",ja=n=>n&&"number"==typeof n.length&&"function"!=typeof n;function Xp(n){return!!n&&"function"!=typeof n.subscribe&&"function"==typeof n.then}const $o=n=>{if(n&&"function"==typeof n[Fn])return(n=>t=>{const e=n[Fn]();if("function"!=typeof e.subscribe)throw new TypeError("Provided object does not correctly implement Symbol.observable");return e.subscribe(t)})(n);if(ja(n))return Jp(n);if(Xp(n))return(n=>t=>(n.then(e=>{t.closed||(t.next(e),t.complete())},e=>t.error(e)).then(null,Lo),t))(n);if(n&&"function"==typeof n[fc])return(n=>t=>{const e=n[fc]();for(;;){let i;try{i=e.next()}catch(s){return t.error(s),t}if(i.done){t.complete();break}if(t.next(i.value),t.closed)break}return"function"==typeof e.return&&t.add(()=>{e.return&&e.return()}),t})(n);{const e=`You provided ${qa(n)?"an invalid object":`'${n}'`} where a stream was expected. You can provide an Observable, Promise, Array, or Iterable.`;throw new TypeError(e)}};function Ho(n,t){return new He(e=>{const i=new Ue;let s=0;return i.add(t.schedule(function(){s!==n.length?(e.next(n[s++]),e.closed||i.add(this.schedule())):e.complete()})),i})}function gc(n,t){return t?function(n,t){if(null!=n){if(function(n){return n&&"function"==typeof n[Fn]}(n))return function(n,t){return new He(e=>{const i=new Ue;return i.add(t.schedule(()=>{const s=n[Fn]();i.add(s.subscribe({next(r){i.add(t.schedule(()=>e.next(r)))},error(r){i.add(t.schedule(()=>e.error(r)))},complete(){i.add(t.schedule(()=>e.complete()))}}))})),i})}(n,t);if(Xp(n))return function(n,t){return new He(e=>{const i=new Ue;return i.add(t.schedule(()=>n.then(s=>{i.add(t.schedule(()=>{e.next(s),i.add(t.schedule(()=>e.complete()))}))},s=>{i.add(t.schedule(()=>e.error(s)))}))),i})}(n,t);if(ja(n))return Ho(n,t);if(function(n){return n&&"function"==typeof n[fc]}(n)||"string"==typeof n)return function(n,t){if(!n)throw new Error("Iterable cannot be null");return new He(e=>{const i=new Ue;let s;return i.add(()=>{s&&"function"==typeof s.return&&s.return()}),i.add(t.schedule(()=>{s=n[fc](),i.add(t.schedule(function(){if(e.closed)return;let r,o;try{const a=s.next();r=a.value,o=a.done}catch(a){return void e.error(a)}o?e.complete():(e.next(r),this.schedule())}))})),i})}(n,t)}throw new TypeError((null!==n&&typeof n||n)+" is not observable")}(n,t):n instanceof He?n:new He($o(n))}class wi extends Ct{constructor(t){super(),this.parent=t}_next(t){this.parent.notifyNext(t)}_error(t){this.parent.notifyError(t),this.unsubscribe()}_complete(){this.parent.notifyComplete(),this.unsubscribe()}}class mc extends Ct{notifyNext(t){this.destination.next(t)}notifyError(t){this.destination.error(t)}notifyComplete(){this.destination.complete()}}function Bn(n,t){if(t.closed)return;if(n instanceof He)return n.subscribe(t);let e;try{e=$o(n)(t)}catch(i){t.error(i)}return e}function qo(n,t,e=Number.POSITIVE_INFINITY){return"function"==typeof t?i=>i.pipe(qo((s,r)=>gc(n(s,r)).pipe(Fo((o,a)=>t(s,o,r,a))),e)):("number"==typeof t&&(e=t),i=>i.lift(new vc(n,e)))}class vc{constructor(t,e=Number.POSITIVE_INFINITY){this.project=t,this.concurrent=e}call(t,e){return e.subscribe(new hb(t,this.project,this.concurrent))}}class hb extends mc{constructor(t,e,i=Number.POSITIVE_INFINITY){super(t),this.project=e,this.concurrent=i,this.hasCompleted=!1,this.buffer=[],this.active=0,this.index=0}_next(t){this.active<this.concurrent?this._tryNext(t):this.buffer.push(t)}_tryNext(t){let e;const i=this.index++;try{e=this.project(t,i)}catch(s){return void this.destination.error(s)}this.active++,this._innerSub(e)}_innerSub(t){const e=new wi(this),i=this.destination;i.add(e);const s=Bn(t,e);s!==e&&i.add(s)}_complete(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&this.destination.complete(),this.unsubscribe()}notifyNext(t){this.destination.next(t)}notifyComplete(){const t=this.buffer;this.active--,t.length>0?this._next(t.shift()):0===this.active&&this.hasCompleted&&this.destination.complete()}}function tg(n=Number.POSITIVE_INFINITY){return qo(jr,n)}function Uo(n,t){return t?Ho(n,t):new He(Jp(n))}function _r(...n){let t=Number.POSITIVE_INFINITY,e=null,i=n[n.length-1];return Ga(i)?(e=n.pop(),n.length>1&&"number"==typeof n[n.length-1]&&(t=n.pop())):"number"==typeof i&&(t=n.pop()),null===e&&1===n.length&&n[0]instanceof He?n[0]:tg(t)(Uo(n,e))}function bc(){return function(t){return t.lift(new Mh(t))}}class Mh{constructor(t){this.connectable=t}call(t,e){const{connectable:i}=this;i._refCount++;const s=new Ih(t,i),r=e.subscribe(s);return s.closed||(s.connection=i.connect()),r}}class Ih extends Ct{constructor(t,e){super(t),this.connectable=e}_unsubscribe(){const{connectable:t}=this;if(!t)return void(this.connection=null);this.connectable=null;const e=t._refCount;if(e<=0)return void(this.connection=null);if(t._refCount=e-1,e>1)return void(this.connection=null);const{connection:i}=this,s=t._connection;this.connection=null,s&&(!i||s===i)&&s.unsubscribe()}}class Oh extends He{constructor(t,e){super(),this.source=t,this.subjectFactory=e,this._refCount=0,this._isComplete=!1}_subscribe(t){return this.getSubject().subscribe(t)}getSubject(){const t=this._subject;return(!t||t.isStopped)&&(this._subject=this.subjectFactory()),this._subject}connect(){let t=this._connection;return t||(this._isComplete=!1,t=this._connection=new Ue,t.add(this.source.subscribe(new Rh(this.getSubject(),this))),t.closed&&(this._connection=null,t=Ue.EMPTY)),t}refCount(){return bc()(this)}}const Nh=(()=>{const n=Oh.prototype;return{operator:{value:null},_refCount:{value:0,writable:!0},_subject:{value:null,writable:!0},_connection:{value:null,writable:!0},_subscribe:{value:n._subscribe},_isComplete:{value:n._isComplete,writable:!0},getSubject:{value:n.getSubject},connect:{value:n.connect},refCount:{value:n.refCount}}})();class Rh extends Zp{constructor(t,e){super(t),this.connectable=e}_error(t){this._unsubscribe(),super._error(t)}_complete(){this.connectable._isComplete=!0,this._unsubscribe(),super._complete()}_unsubscribe(){const t=this.connectable;if(t){this.connectable=null;const e=t._connection;t._refCount=0,t._subject=null,t._connection=null,e&&e.unsubscribe()}}}function fb(){return new qe}function Je(n){for(let t in n)if(n[t]===Je)return t;throw Error("Could not find renamed property on target object.")}function Sc(n,t){for(const e in t)t.hasOwnProperty(e)&&!n.hasOwnProperty(e)&&(n[e]=t[e])}function Oe(n){if("string"==typeof n)return n;if(Array.isArray(n))return"["+n.map(Oe).join(", ")+"]";if(null==n)return""+n;if(n.overriddenName)return`${n.overriddenName}`;if(n.name)return`${n.name}`;const t=n.toString();if(null==t)return""+t;const e=t.indexOf("\n");return-1===e?t:t.substring(0,e)}function Fh(n,t){return null==n||""===n?null===t?"":t:null==t||""===t?n:n+" "+t}const gb=Je({__forward_ref__:Je});function ft(n){return n.__forward_ref__=ft,n.toString=function(){return Oe(this())},n}function ae(n){return ig(n)?n():n}function ig(n){return"function"==typeof n&&n.hasOwnProperty(gb)&&n.__forward_ref__===ft}class vr extends Error{constructor(t,e){super(function(n,t){return`${n?`NG0${n}: `:""}${t}`}(t,e)),this.code=t}}function Ce(n){return"string"==typeof n?n:null==n?"":String(n)}function kn(n){return"function"==typeof n?n.name||n.toString():"object"==typeof n&&null!=n&&"function"==typeof n.type?n.type.name||n.type.toString():Ce(n)}function Ec(n,t){const e=t?` in ${t}`:"";throw new vr("201",`No provider for ${kn(n)} found${e}`)}function si(n,t){null==n&&function(n,t,e,i){throw new Error(`ASSERTION ERROR: ${n}`+(null==i?"":` [Expected=> ${e} ${i} ${t} <=Actual]`))}(t,n,null,"!=")}function le(n){return{token:n.token,providedIn:n.providedIn||null,factory:n.factory,value:void 0}}function jt(n){return{providers:n.providers||[],imports:n.imports||[]}}function Us(n){return rg(n,Go)||rg(n,Gh)}function rg(n,t){return n.hasOwnProperty(t)?n[t]:null}function qh(n){return n&&(n.hasOwnProperty(Uh)||n.hasOwnProperty(wc))?n[Uh]:null}const Go=Je({\u0275prov:Je}),Uh=Je({\u0275inj:Je}),Gh=Je({ngInjectableDef:Je}),wc=Je({ngInjectorDef:Je});var he=(()=>((he=he||{})[he.Default=0]="Default",he[he.Host=1]="Host",he[he.Self=2]="Self",he[he.SkipSelf=4]="SkipSelf",he[he.Optional=8]="Optional",he))();let jh;function Gs(n){const t=jh;return jh=n,t}function Cc(n,t,e){const i=Us(n);return i&&"root"==i.providedIn?void 0===i.value?i.value=i.factory():i.value:e&he.Optional?null:void 0!==t?t:void Ec(Oe(n),"Injector")}function js(n){return{toString:n}.toString()}var $n=(()=>(($n=$n||{})[$n.OnPush=0]="OnPush",$n[$n.Default=1]="Default",$n))(),Ft=(()=>((Ft=Ft||{})[Ft.Emulated=0]="Emulated",Ft[Ft.None=2]="None",Ft[Ft.ShadowDom=3]="ShadowDom",Ft))();const ug="undefined"!=typeof globalThis&&globalThis,wb="undefined"!=typeof window&&window,hg="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,tt=ug||"undefined"!=typeof global&&global||wb||hg,jo={},ct=[],Ya=Je({\u0275cmp:Je}),Wh=Je({\u0275dir:Je}),zh=Je({\u0275pipe:Je}),dg=Je({\u0275mod:Je}),Ab=Je({\u0275loc:Je}),Gi=Je({\u0275fac:Je}),Qa=Je({__NG_ELEMENT_ID__:Je});let Pb=0;function Ws(n){return js(()=>{const e={},i={type:n.type,providersResolver:null,decls:n.decls,vars:n.vars,factory:null,template:n.template||null,consts:n.consts||null,ngContentSelectors:n.ngContentSelectors,hostBindings:n.hostBindings||null,hostVars:n.hostVars||0,hostAttrs:n.hostAttrs||null,contentQueries:n.contentQueries||null,declaredInputs:e,inputs:null,outputs:null,exportAs:n.exportAs||null,onPush:n.changeDetection===$n.OnPush,directiveDefs:null,pipeDefs:null,selectors:n.selectors||ct,viewQuery:n.viewQuery||null,features:n.features||null,data:n.data||{},encapsulation:n.encapsulation||Ft.Emulated,id:"c",styles:n.styles||ct,_:null,setInput:null,schemas:n.schemas||null,tView:null},s=n.directives,r=n.features,o=n.pipes;return i.id+=Pb++,i.inputs=pg(n.inputs,e),i.outputs=pg(n.outputs),r&&r.forEach(a=>a(i)),i.directiveDefs=s?()=>("function"==typeof s?s():s).map(fg):null,i.pipeDefs=o?()=>("function"==typeof o?o():o).map(vt):null,i})}function fg(n){return _n(n)||function(n){return n[Wh]||null}(n)}function vt(n){return function(n){return n[zh]||null}(n)}const gt={};function nn(n){return js(()=>{const t={type:n.type,bootstrap:n.bootstrap||ct,declarations:n.declarations||ct,imports:n.imports||ct,exports:n.exports||ct,transitiveCompileScopes:null,schemas:n.schemas||null,id:n.id||null};return null!=n.id&&(gt[n.id]=n.type),t})}function pg(n,t){if(null==n)return jo;const e={};for(const i in n)if(n.hasOwnProperty(i)){let s=n[i],r=s;Array.isArray(s)&&(r=s[1],s=s[0]),e[s]=i,t&&(t[s]=r)}return e}const se=Ws;function Hn(n){return{type:n.type,name:n.name,factory:null,pure:!1!==n.pure,onDestroy:n.type.prototype.ngOnDestroy||null}}function _n(n){return n[Ya]||null}function ut(n,t){const e=n[dg]||null;if(!e&&!0===t)throw new Error(`Type ${Oe(n)} does not have '\u0275mod' property.`);return e}function ji(n){return Array.isArray(n)&&"object"==typeof n[1]}function Ci(n){return Array.isArray(n)&&!0===n[1]}function Xa(n){return 0!=(8&n.flags)}function Ko(n){return 2==(2&n.flags)}function el(n){return 1==(1&n.flags)}function Wi(n){return null!==n.template}function Qh(n){return 0!=(512&n[2])}function Zr(n,t){return n.hasOwnProperty(Gi)?n[Gi]:null}class Jr{constructor(t,e,i){this.previousValue=t,this.currentValue=e,this.firstChange=i}isFirstChange(){return this.firstChange}}function yt(){return Xh}function Xh(n){return n.type.prototype.ngOnChanges&&(n.setInput=Lb),Rb}function Rb(){const n=Sg(this),t=null==n?void 0:n.current;if(t){const e=n.previous;if(e===jo)n.previous=t;else for(let i in t)e[i]=t[i];n.current=null,this.ngOnChanges(t)}}function Lb(n,t,e,i){const s=Sg(n)||function(n,t){return n[bg]=t}(n,{previous:jo,current:null}),r=s.current||(s.current={}),o=s.previous,a=this.declaredInputs[e],u=o[a];r[a]=new Jr(u&&u.currentValue,t,o===jo),n[i]=t}yt.ngInherit=!0;const bg="__ngSimpleChanges__";function Sg(n){return n[bg]||null}const V="http://www.w3.org/2000/svg";let De;function Dt(n){return!!n.listen}const oi={createRenderer:(n,t)=>void 0!==De?De:"undefined"!=typeof document?document:void 0};function Wt(n){for(;Array.isArray(n);)n=n[0];return n}function Xr(n,t){return Wt(t[n])}function Ie(n,t){return Wt(t[n.index])}function Tc(n,t){return n.data[t]}function ai(n,t){const e=t[n];return ji(e)?e:e[0]}function Eg(n){return 4==(4&n[2])}function td(n){return 128==(128&n[2])}function xn(n,t){return null==t?null:n[t]}function nl(n){n[18]=0}function Mc(n,t){n[5]+=t;let e=n,i=n[3];for(;null!==i&&(1===t&&1===e[5]||-1===t&&0===e[5]);)i[5]+=t,e=i,i=i[3]}const me={lFrame:Xo(null),bindingsEnabled:!0,isInCheckNoChangesMode:!1};function Zo(){return me.bindingsEnabled}function j(){return me.lFrame.lView}function Ye(){return me.lFrame.tView}function us(n){return me.lFrame.contextLView=n,n[8]}function Lt(){let n=il();for(;null!==n&&64===n.type;)n=n.parent;return n}function il(){return me.lFrame.currentTNode}function hs(n,t){const e=me.lFrame;e.currentTNode=n,e.isParent=t}function Nc(){return me.lFrame.isParent}function Jt(){return me.isInCheckNoChangesMode}function Rc(n){me.isInCheckNoChangesMode=n}function Mn(){const n=me.lFrame;let t=n.bindingRootIndex;return-1===t&&(t=n.bindingRootIndex=n.tView.bindingStartIndex),t}function zi(){return me.lFrame.bindingIndex}function Sr(){return me.lFrame.bindingIndex++}function li(n){const t=me.lFrame,e=t.bindingIndex;return t.bindingIndex=t.bindingIndex+n,e}function sl(n,t){const e=me.lFrame;e.bindingIndex=e.bindingRootIndex=n,Jo(t)}function Jo(n){me.lFrame.currentDirectiveIndex=n}function Ag(){return me.lFrame.currentQueryIndex}function sd(n){me.lFrame.currentQueryIndex=n}function $b(n){const t=n[1];return 2===t.type?t.declTNode:1===t.type?n[6]:null}function Pg(n,t,e){if(e&he.SkipSelf){let s=t,r=n;for(;!(s=s.parent,null!==s||e&he.Host||(s=$b(r),null===s||(r=r[15],10&s.type))););if(null===s)return!1;t=s,n=r}const i=me.lFrame=ol();return i.currentTNode=t,i.lView=n,!0}function Lc(n){const t=ol(),e=n[1];me.lFrame=t,t.currentTNode=e.firstChild,t.lView=n,t.tView=e,t.contextLView=n,t.bindingIndex=e.bindingStartIndex,t.inI18n=!1}function ol(){const n=me.lFrame,t=null===n?null:n.child;return null===t?Xo(n):t}function Xo(n){const t={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:n,child:null,inI18n:!1};return null!==n&&(n.child=t),t}function rd(){const n=me.lFrame;return me.lFrame=n.parent,n.currentTNode=null,n.lView=null,n}const S=rd;function Ys(){const n=rd();n.isParent=!0,n.tView=null,n.selectedIndex=-1,n.contextLView=null,n.elementDepthCount=0,n.currentDirectiveIndex=-1,n.currentNamespace=null,n.bindingRootIndex=-1,n.bindingIndex=-1,n.currentQueryIndex=0}function pe(){return me.lFrame.selectedIndex}function wr(n){me.lFrame.selectedIndex=n}function It(){const n=me.lFrame;return Tc(n.tView,n.selectedIndex)}function od(){me.lFrame.currentNamespace=V}function ad(){me.lFrame.currentNamespace=null}function Fc(n,t){for(let e=t.directiveStart,i=t.directiveEnd;e<i;e++){const r=n.data[e].type.prototype,{ngAfterContentInit:o,ngAfterContentChecked:a,ngAfterViewInit:u,ngAfterViewChecked:h,ngOnDestroy:f}=r;o&&(n.contentHooks||(n.contentHooks=[])).push(-e,o),a&&((n.contentHooks||(n.contentHooks=[])).push(e,a),(n.contentCheckHooks||(n.contentCheckHooks=[])).push(e,a)),u&&(n.viewHooks||(n.viewHooks=[])).push(-e,u),h&&((n.viewHooks||(n.viewHooks=[])).push(e,h),(n.viewCheckHooks||(n.viewCheckHooks=[])).push(e,h)),null!=f&&(n.destroyHooks||(n.destroyHooks=[])).push(e,f)}}function Pi(n,t,e){kg(n,t,3,e)}function Bc(n,t,e,i){(3&n[2])===e&&kg(n,t,e,i)}function ld(n,t){let e=n[2];(3&e)===t&&(e&=2047,e+=1,n[2]=e)}function kg(n,t,e,i){const r=null!=i?i:-1,o=t.length-1;let a=0;for(let u=void 0!==i?65535&n[18]:0;u<o;u++)if("number"==typeof t[u+1]){if(a=t[u],null!=i&&a>=i)break}else t[u]<0&&(n[18]+=65536),(a<r||-1==r)&&(Gb(n,e,t,u),n[18]=(4294901760&n[18])+u+2),u++}function Gb(n,t,e,i){const s=e[i]<0,r=e[i+1],a=n[s?-e[i]:e[i]];if(s){if(n[2]>>11<n[18]>>16&&(3&n[2])===t){n[2]+=2048;try{r.call(a)}finally{}}}else try{r.call(a)}finally{}}class ci{constructor(t,e,i){this.factory=t,this.resolving=!1,this.canSeeViewProviders=e,this.injectImpl=i}}function Un(n,t,e){const i=Dt(n);let s=0;for(;s<e.length;){const r=e[s];if("number"==typeof r){if(0!==r)break;s++;const o=e[s++],a=e[s++],u=e[s++];i?n.setAttribute(t,a,u,o):t.setAttributeNS(o,a,u)}else{const o=r,a=e[++s];ud(o)?i&&n.setProperty(t,o,a):i?n.setAttribute(t,o,a):t.setAttribute(o,a),s++}}return s}function Tg(n){return 3===n||4===n||6===n}function ud(n){return 64===n.charCodeAt(0)}function $c(n,t){if(null!==t&&0!==t.length)if(null===n||0===n.length)n=t.slice();else{let e=-1;for(let i=0;i<t.length;i++){const s=t[i];"number"==typeof s?e=s:0===e||xg(n,e,s,null,-1===e||2===e?t[++i]:null)}}return n}function xg(n,t,e,i,s){let r=0,o=n.length;if(-1===t)o=-1;else for(;r<n.length;){const a=n[r++];if("number"==typeof a){if(a===t){o=-1;break}if(a>t){o=r-1;break}}}for(;r<n.length;){const a=n[r];if("number"==typeof a)break;if(a===e){if(null===i)return void(null!==s&&(n[r+1]=s));if(i===n[r+1])return void(n[r+2]=s)}r++,null!==i&&r++,null!==s&&r++}-1!==o&&(n.splice(o,0,t),r=o+1),n.splice(r++,0,e),null!==i&&n.splice(r++,0,i),null!==s&&n.splice(r++,0,s)}function Mg(n){return-1!==n}function ro(n){return 32767&n}function ea(n,t){let e=function(n){return n>>16}(n),i=t;for(;e>0;)i=i[15],e--;return i}let hd=!0;function ta(n){const t=hd;return hd=n,t}let Ng=0;function ui(n,t){const e=Qs(n,t);if(-1!==e)return e;const i=t[1];i.firstCreatePass&&(n.injectorIndex=t.length,cl(i.data,n),cl(t,null),cl(i.blueprint,null));const s=In(n,t),r=n.injectorIndex;if(Mg(s)){const o=ro(s),a=ea(s,t),u=a[1].data;for(let h=0;h<8;h++)t[r+h]=a[o+h]|u[o+h]}return t[r+8]=s,r}function cl(n,t){n.push(0,0,0,0,0,0,0,0,t)}function Qs(n,t){return-1===n.injectorIndex||n.parent&&n.parent.injectorIndex===n.injectorIndex||null===t[n.injectorIndex+8]?-1:n.injectorIndex}function In(n,t){if(n.parent&&-1!==n.parent.injectorIndex)return n.parent.injectorIndex;let e=0,i=null,s=t;for(;null!==s;){const r=s[1],o=r.type;if(i=2===o?r.declTNode:1===o?s[6]:null,null===i)return-1;if(e++,s=s[15],-1!==i.injectorIndex)return i.injectorIndex|e<<16}return-1}function qc(n,t,e){!function(n,t,e){let i;"string"==typeof e?i=e.charCodeAt(0)||0:e.hasOwnProperty(Qa)&&(i=e[Qa]),null==i&&(i=e[Qa]=Ng++);const s=255&i;t.data[n+(s>>5)]|=1<<s}(n,t,e)}function dd(n,t,e){if(e&he.Optional)return n;Ec(t,"NodeInjector")}function na(n,t,e,i){if(e&he.Optional&&void 0===i&&(i=null),0==(e&(he.Self|he.Host))){const s=n[9],r=Gs(void 0);try{return s?s.get(t,i,e&he.Optional):Cc(t,i,e&he.Optional)}finally{Gs(r)}}return dd(i,t,e)}function Zs(n,t,e,i=he.Default,s){if(null!==n){const r=function(n){if("string"==typeof n)return n.charCodeAt(0)||0;const t=n.hasOwnProperty(Qa)?n[Qa]:void 0;return"number"==typeof t?t>=0?255&t:Yb:t}(e);if("function"==typeof r){if(!Pg(t,n,i))return i&he.Host?dd(s,e,i):na(t,e,i,s);try{const o=r(i);if(null!=o||i&he.Optional)return o;Ec(e)}finally{S()}}else if("number"==typeof r){let o=null,a=Qs(n,t),u=-1,h=i&he.Host?t[16][6]:null;for((-1===a||i&he.SkipSelf)&&(u=-1===a?In(n,t):t[a+8],-1!==u&&pd(i,!1)?(o=t[1],a=ro(u),t=ea(u,t)):a=-1);-1!==a;){const f=t[1];if(jc(r,a,f.data)){const g=Uc(a,t,e,o,i,h);if(g!==fd)return g}u=t[a+8],-1!==u&&pd(i,t[1].data[a+8]===h)&&jc(r,a,t)?(o=f,a=ro(u),t=ea(u,t)):a=-1}}}return na(t,e,i,s)}const fd={};function Yb(){return new On(Lt(),j())}function Uc(n,t,e,i,s,r){const o=t[1],a=o.data[n+8],f=Gc(a,o,e,null==i?Ko(a)&&hd:i!=o&&0!=(3&a.type),s&he.Host&&r===a);return null!==f?ia(t,o,f,a):fd}function Gc(n,t,e,i,s){const r=n.providerIndexes,o=t.data,a=1048575&r,u=n.directiveStart,f=r>>20,m=s?a+f:n.directiveEnd;for(let v=i?a:a+f;v<m;v++){const E=o[v];if(v<u&&e===E||v>=u&&E.type===e)return v}if(s){const v=o[u];if(v&&Wi(v)&&v.type===e)return u}return null}function ia(n,t,e,i){let s=n[e];const r=t.data;if(function(n){return n instanceof ci}(s)){const o=s;o.resolving&&function(n,t){throw new vr("200",`Circular dependency in DI detected for ${n}`)}(kn(r[e]));const a=ta(o.canSeeViewProviders);o.resolving=!0;const u=o.injectImpl?Gs(o.injectImpl):null;Pg(n,i,he.Default);try{s=n[e]=o.factory(void 0,r,n,i),t.firstCreatePass&&e>=i.directiveStart&&function(n,t,e){const{ngOnChanges:i,ngOnInit:s,ngDoCheck:r}=t.type.prototype;if(i){const o=Xh(t);(e.preOrderHooks||(e.preOrderHooks=[])).push(n,o),(e.preOrderCheckHooks||(e.preOrderCheckHooks=[])).push(n,o)}s&&(e.preOrderHooks||(e.preOrderHooks=[])).push(0-n,s),r&&((e.preOrderHooks||(e.preOrderHooks=[])).push(n,r),(e.preOrderCheckHooks||(e.preOrderCheckHooks=[])).push(n,r))}(e,r[e],t)}finally{null!==u&&Gs(u),ta(a),o.resolving=!1,S()}}return s}function jc(n,t,e){return!!(e[t+(n>>5)]&1<<n)}function pd(n,t){return!(n&he.Self||n&he.Host&&t)}class On{constructor(t,e){this._tNode=t,this._lView=e}get(t,e,i){return Zs(this._tNode,this._lView,t,i,e)}}function Gn(n){return js(()=>{const t=n.prototype.constructor,e=t[Gi]||sa(t),i=Object.prototype;let s=Object.getPrototypeOf(n.prototype).constructor;for(;s&&s!==i;){const r=s[Gi]||sa(s);if(r&&r!==e)return r;s=Object.getPrototypeOf(s)}return r=>new r})}function sa(n){return ig(n)?()=>{const t=sa(ae(n));return t&&t()}:Zr(n)}const zt="__parameters__";function ao(n,t,e){return js(()=>{const i=function(n){return function(...e){if(n){const i=n(...e);for(const s in i)this[s]=i[s]}}}(t);function s(...r){if(this instanceof s)return i.apply(this,r),this;const o=new s(...r);return a.annotation=o,a;function a(u,h,f){const g=u.hasOwnProperty(zt)?u[zt]:Object.defineProperty(u,zt,{value:[]})[zt];for(;g.length<=f;)g.push(null);return(g[f]=g[f]||[]).push(o),u}}return e&&(s.prototype=Object.create(e.prototype)),s.prototype.ngMetadataName=n,s.annotationCls=s,s})}class _e{constructor(t,e){this._desc=t,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof e?this.__NG_ELEMENT_ID__=e:void 0!==e&&(this.\u0275prov=le({token:this,providedIn:e.providedIn||"root",factory:e.factory}))}toString(){return`InjectionToken ${this._desc}`}}function hi(n,t){void 0===t&&(t=n);for(let e=0;e<n.length;e++){let i=n[e];Array.isArray(i)?(t===n&&(t=n.slice(0,e)),hi(i,t)):t!==n&&t.push(i)}return t}function ds(n,t){n.forEach(e=>Array.isArray(e)?ds(e,t):t(e))}function dl(n,t,e){t>=n.length?n.push(e):n.splice(t,0,e)}function uo(n,t){return t>=n.length-1?n.pop():n.splice(t,1)[0]}function di(n,t,e){let i=fo(n,t);return i>=0?n[1|i]=e:(i=~i,function(n,t,e,i){let s=n.length;if(s==t)n.push(e,i);else if(1===s)n.push(i,n[0]),n[0]=e;else{for(s--,n.push(n[s-1],n[s]);s>t;)n[s]=n[s-2],s--;n[t]=e,n[t+1]=i}}(n,i,t,e)),i}function ho(n,t){const e=fo(n,t);if(e>=0)return n[1|e]}function fo(n,t){return function(n,t,e){let i=0,s=n.length>>e;for(;s!==i;){const r=i+(s-i>>1),o=n[r<<e];if(t===o)return r<<e;o>t?s=r:i=r+1}return~(s<<e)}(n,t,1)}const oa={},aa="__NG_DI_FLAG__",po="ngTempTokenPath",Wg=/\n/gm,fl="__source",Sd=Je({provide:String,useValue:Je});let Ti;function mo(n){const t=Ti;return Ti=n,t}function zg(n,t=he.Default){if(void 0===Ti)throw new Error("inject() must be called from an injection context");return null===Ti?Cc(n,void 0,t):Ti.get(n,t&he.Optional?null:void 0,t)}function $(n,t=he.Default){return(jh||zg)(ae(n),t)}const iS=$;function _o(n){const t=[];for(let e=0;e<n.length;e++){const i=ae(n[e]);if(Array.isArray(i)){if(0===i.length)throw new Error("Arguments array must have arguments.");let s,r=he.Default;for(let o=0;o<i.length;o++){const a=i[o],u=Yg(a);"number"==typeof u?-1===u?s=a.token:r|=u:s=a}t.push($(s,r))}else t.push($(i))}return t}function la(n,t){return n[aa]=t,n.prototype[aa]=t,n}function Yg(n){return n[aa]}function Qg(n,t,e,i){const s=n[po];throw t[fl]&&s.unshift(t[fl]),n.message=function(n,t,e,i=null){n=n&&"\n"===n.charAt(0)&&"\u0275"==n.charAt(1)?n.substr(2):n;let s=Oe(t);if(Array.isArray(t))s=t.map(Oe).join(" -> ");else if("object"==typeof t){let r=[];for(let o in t)if(t.hasOwnProperty(o)){let a=t[o];r.push(o+":"+("string"==typeof a?JSON.stringify(a):Oe(a)))}s=`{${r.join(", ")}}`}return`${e}${i?"("+i+")":""}[${s}]: ${n.replace(Wg,"\n  ")}`}("\n"+n.message,s,e,i),n.ngTokenPath=s,n[po]=null,n}const an=la(ao("Inject",n=>({token:n})),-1),Xt=la(ao("Optional"),8),vo=la(ao("SkipSelf"),4);var jn=(()=>((jn=jn||{})[jn.Important=1]="Important",jn[jn.DashCase=2]="DashCase",jn))();const Pd="__ngContext__";function bn(n,t){n[Pd]=t}function Yi(n){const t=function(n){return n[Pd]||null}(n);return t?Array.isArray(t)?t:t.lView:null}function yl(n,t){return undefined(n,t)}function bl(n){const t=n[3];return Ci(t)?t[3]:t}function Od(n){return om(n[13])}function nu(n){return om(n[4])}function om(n){for(;null!==n&&!Ci(n);)n=n[4];return n}function ua(n,t,e,i,s){if(null!=i){let r,o=!1;Ci(i)?r=i:ji(i)&&(o=!0,i=i[0]);const a=Wt(i);0===n&&null!==e?null==s?ha(t,e,a):Ar(t,e,a,s||null,!0):1===n&&null!==e?Ar(t,e,a,s||null,!0):2===n?function(n,t,e){const i=El(n,t);i&&function(n,t,e,i){Dt(n)?n.removeChild(t,e,i):t.removeChild(e)}(n,i,t,e)}(t,a,o):3===n&&t.destroyNode(a),null!=r&&function(n,t,e,i,s){const r=e[7];r!==Wt(e)&&ua(t,n,i,r,s);for(let a=10;a<e.length;a++){const u=e[a];wl(u[1],u,n,t,i,r)}}(t,n,r,e,s)}}function Rd(n,t,e){return Dt(n)?n.createElement(t,e):null===e?n.createElement(t):n.createElementNS(e,t)}function cm(n,t){const e=n[9],i=e.indexOf(t),s=t[3];1024&t[2]&&(t[2]&=-1025,Mc(s,-1)),e.splice(i,1)}function Vd(n,t){if(n.length<=10)return;const e=10+t,i=n[e];if(i){const s=i[17];null!==s&&s!==n&&cm(s,i),t>0&&(n[e-1][4]=i[4]);const r=uo(n,10+t);!function(n,t){wl(n,t,t[11],2,null,null),t[0]=null,t[6]=null}(i[1],i);const o=r[19];null!==o&&o.detachView(r[1]),i[3]=null,i[4]=null,i[2]&=-129}return i}function um(n,t){if(!(256&t[2])){const e=t[11];Dt(e)&&e.destroyNode&&wl(n,t,e,3,null,null),function(n){let t=n[13];if(!t)return Fd(n[1],n);for(;t;){let e=null;if(ji(t))e=t[13];else{const i=t[10];i&&(e=i)}if(!e){for(;t&&!t[4]&&t!==n;)ji(t)&&Fd(t[1],t),t=t[3];null===t&&(t=n),ji(t)&&Fd(t[1],t),e=t&&t[4]}t=e}}(t)}}function Fd(n,t){if(!(256&t[2])){t[2]&=-129,t[2]|=256,function(n,t){let e;if(null!=n&&null!=(e=n.destroyHooks))for(let i=0;i<e.length;i+=2){const s=t[e[i]];if(!(s instanceof ci)){const r=e[i+1];if(Array.isArray(r))for(let o=0;o<r.length;o+=2){const a=s[r[o]],u=r[o+1];try{u.call(a)}finally{}}else try{r.call(s)}finally{}}}}(n,t),function(n,t){const e=n.cleanup,i=t[7];let s=-1;if(null!==e)for(let r=0;r<e.length-1;r+=2)if("string"==typeof e[r]){const o=e[r+1],a="function"==typeof o?o(t):Wt(t[o]),u=i[s=e[r+2]],h=e[r+3];"boolean"==typeof h?a.removeEventListener(e[r],u,h):h>=0?i[s=h]():i[s=-h].unsubscribe(),r+=2}else{const o=i[s=e[r+1]];e[r].call(o)}if(null!==i){for(let r=s+1;r<i.length;r++)i[r]();t[7]=null}}(n,t),1===t[1].type&&Dt(t[11])&&t[11].destroy();const e=t[17];if(null!==e&&Ci(t[3])){e!==t[3]&&cm(e,t);const i=t[19];null!==i&&i.detachView(n)}}}function fm(n,t,e){return function(n,t,e){let i=t;for(;null!==i&&40&i.type;)i=(t=i).parent;if(null===i)return e[0];if(2&i.flags){const s=n.data[i.directiveStart].encapsulation;if(s===Ft.None||s===Ft.Emulated)return null}return Ie(i,e)}(n,t.parent,e)}function Ar(n,t,e,i,s){Dt(n)?n.insertBefore(t,e,i,s):t.insertBefore(e,i,s)}function ha(n,t,e){Dt(n)?n.appendChild(t,e):t.appendChild(e)}function su(n,t,e,i,s){null!==i?Ar(n,t,e,i,s):ha(n,t,e)}function El(n,t){return Dt(n)?n.parentNode(t):t.parentNode}let Pr=function(n,t,e){return 40&n.type?Ie(n,e):null};function ou(n,t,e,i){const s=fm(n,i,t),r=t[11],a=function(n,t,e){return Pr(n,t,e)}(i.parent||t[6],i,t);if(null!=s)if(Array.isArray(e))for(let u=0;u<e.length;u++)su(r,s,e[u],a,!1);else su(r,s,e,a,!1)}function au(n,t){if(null!==t){const e=t.type;if(3&e)return Ie(t,n);if(4&e)return qd(-1,n[t.index]);if(8&e){const i=t.child;if(null!==i)return au(n,i);{const s=n[t.index];return Ci(s)?qd(-1,s):Wt(s)}}if(32&e)return yl(t,n)()||Wt(n[t.index]);{const i=gm(n,t);return null!==i?Array.isArray(i)?i[0]:au(bl(n[16]),i):au(n,t.next)}}return null}function gm(n,t){return null!==t?n[16][6].projection[t.projection]:null}function qd(n,t){const e=10+n+1;if(e<t.length){const i=t[e],s=i[1].firstChild;if(null!==s)return au(i,s)}return t[7]}function Gd(n,t,e,i,s,r,o){for(;null!=e;){const a=i[e.index],u=e.type;if(o&&0===t&&(a&&bn(Wt(a),i),e.flags|=4),64!=(64&e.flags))if(8&u)Gd(n,t,e.child,i,s,r,!1),ua(t,n,s,a,r);else if(32&u){const h=yl(e,i);let f;for(;f=h();)ua(t,n,s,f,r);ua(t,n,s,a,r)}else 16&u?mm(n,t,i,e,s,r):ua(t,n,s,a,r);e=o?e.projectionNext:e.next}}function wl(n,t,e,i,s,r){Gd(e,i,n.firstChild,t,s,r,!1)}function mm(n,t,e,i,s,r){const o=e[16],u=o[6].projection[i.projection];if(Array.isArray(u))for(let h=0;h<u.length;h++)ua(t,n,s,u[h],r);else Gd(n,t,u,o[3],s,r,!0)}function jd(n,t,e){Dt(n)?n.setAttribute(t,"style",e):t.style.cssText=e}function lu(n,t,e){Dt(n)?""===e?n.removeAttribute(t,"class"):n.setAttribute(t,"class",e):t.className=e}function pi(n){return n instanceof class{constructor(t){this.changingThisBreaksApplicationSecurity=t}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}?n.changingThisBreaksApplicationSecurity:n}function du(n){return n.ngOriginalError}function US(n,...t){n.error(...t)}class Co{constructor(){this._console=console}handleError(t){const e=this._findOriginalError(t),i=this._findContext(t),s=function(n){return n&&n.ngErrorLogger||US}(t);s(this._console,"ERROR",t),e&&s(this._console,"ORIGINAL ERROR",e),i&&s(this._console,"ERROR CONTEXT",i)}_findContext(t){return t?function(n){return n.ngDebugContext}(t)||this._findContext(du(t)):null}_findOriginalError(t){let e=t&&du(t);for(;e&&du(e);)e=du(e);return e||null}}const ef=(()=>("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(tt))();function Ji(n){return n instanceof Function?n():n}function Tl(n,t,e){let i=n.length;for(;;){const s=n.indexOf(t,e);if(-1===s)return s;if(0===s||n.charCodeAt(s-1)<=32){const r=t.length;if(s+r===i||n.charCodeAt(s+r)<=32)return s}e=s+1}}const $m="ng-template";function YS(n,t,e){let i=0;for(;i<n.length;){let s=n[i++];if(e&&"class"===s){if(s=n[i],-1!==Tl(s.toLowerCase(),t,0))return!0}else if(1===s){for(;i<n.length&&"string"==typeof(s=n[i++]);)if(s.toLowerCase()===t)return!0;return!1}}return!1}function fu(n){return 4===n.type&&n.value!==$m}function Hm(n,t,e){return t===(4!==n.type||e?n.value:$m)}function QS(n,t,e){let i=4;const s=n.attrs||[],r=function(n){for(let t=0;t<n.length;t++)if(Tg(n[t]))return t;return n.length}(s);let o=!1;for(let a=0;a<t.length;a++){const u=t[a];if("number"!=typeof u){if(!o)if(4&i){if(i=2|1&i,""!==u&&!Hm(n,u,e)||""===u&&1===t.length){if(Xi(i))return!1;o=!0}}else{const h=8&i?u:t[++a];if(8&i&&null!==n.attrs){if(!YS(n.attrs,h,e)){if(Xi(i))return!1;o=!0}continue}const g=ZS(8&i?"class":u,s,fu(n),e);if(-1===g){if(Xi(i))return!1;o=!0;continue}if(""!==h){let m;m=g>r?"":s[g+1].toLowerCase();const v=8&i?m:null;if(v&&-1!==Tl(v,h,0)||2&i&&h!==m){if(Xi(i))return!1;o=!0}}}}else{if(!o&&!Xi(i)&&!Xi(u))return!1;if(o&&Xi(u))continue;o=!1,i=u|1&i}}return Xi(i)||o}function Xi(n){return 0==(1&n)}function ZS(n,t,e,i){if(null===t)return-1;let s=0;if(i||!e){let r=!1;for(;s<t.length;){const o=t[s];if(o===n)return s;if(3===o||6===o)r=!0;else{if(1===o||2===o){let a=t[++s];for(;"string"==typeof a;)a=t[++s];continue}if(4===o)break;if(0===o){s+=4;continue}}s+=r?1:2}return-1}return function(n,t){let e=n.indexOf(4);if(e>-1)for(e++;e<n.length;){const i=n[e];if("number"==typeof i)return-1;if(i===t)return e;e++}return-1}(t,n)}function qm(n,t,e=!1){for(let i=0;i<t.length;i++)if(QS(n,t[i],e))return!0;return!1}function Um(n,t){return n?":not("+t.trim()+")":t}function nE(n){let t=n[0],e=1,i=2,s="",r=!1;for(;e<n.length;){let o=n[e];if("string"==typeof o)if(2&i){const a=n[++e];s+="["+o+(a.length>0?'="'+a+'"':"")+"]"}else 8&i?s+="."+o:4&i&&(s+=" "+o);else""!==s&&!Xi(o)&&(t+=Um(r,s),s=""),i=o,r=r||!Xi(i);e++}return""!==s&&(t+=Um(r,s)),t}const ce={};function G(n){Gm(Ye(),j(),pe()+n,Jt())}function Gm(n,t,e,i){if(!i)if(3==(3&t[2])){const r=n.preOrderCheckHooks;null!==r&&Pi(t,r,e)}else{const r=n.preOrderHooks;null!==r&&Bc(t,r,0,e)}wr(e)}function _s(n,t){return n<<17|t<<2}function ue(n){return n>>17&32767}function Ot(n){return 2|n}function Xs(n){return(131068&n)>>2}function vs(n,t){return-131069&n|t<<2}function sf(n){return 1|n}function Xm(n,t){const e=n.contentQueries;if(null!==e)for(let i=0;i<e.length;i+=2){const s=e[i],r=e[i+1];if(-1!==r){const o=n.data[r];sd(s),o.contentQueries(2,t[r],r)}}}function Ml(n,t,e,i,s,r,o,a,u,h){const f=t.blueprint.slice();return f[0]=s,f[2]=140|i,nl(f),f[3]=f[15]=n,f[8]=e,f[10]=o||n&&n[10],f[11]=a||n&&n[11],f[12]=u||n&&n[12]||null,f[9]=h||n&&n[9]||null,f[6]=r,f[16]=2==t.type?n[16]:f,f}function pa(n,t,e,i,s){let r=n.data[t];if(null===r)r=function(n,t,e,i,s){const r=il(),o=Nc(),u=n.data[t]=function(n,t,e,i,s,r){return{type:e,index:i,insertBeforeIndex:null,injectorIndex:t?t.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:s,attrs:r,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:t,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,o?r:r&&r.parent,e,t,i,s);return null===n.firstChild&&(n.firstChild=u),null!==r&&(o?null==r.child&&null!==u.parent&&(r.child=u):null===r.next&&(r.next=u)),u}(n,t,e,i,s),me.lFrame.inI18n&&(r.flags|=64);else if(64&r.type){r.type=e,r.value=i,r.attrs=s;const o=function(){const n=me.lFrame,t=n.currentTNode;return n.isParent?t:t.parent}();r.injectorIndex=null===o?-1:o.injectorIndex}return hs(r,!0),r}function ga(n,t,e,i){if(0===e)return-1;const s=t.length;for(let r=0;r<e;r++)t.push(i),n.blueprint.push(i),n.data.push(null);return s}function Il(n,t,e){Lc(t);try{const i=n.viewQuery;null!==i&&bf(1,i,e);const s=n.template;null!==s&&e_(n,t,s,1,e),n.firstCreatePass&&(n.firstCreatePass=!1),n.staticContentQueries&&Xm(n,t),n.staticViewQueries&&bf(2,n.viewQuery,e);const r=n.components;null!==r&&function(n,t){for(let e=0;e<t.length;e++)IE(n,t[e])}(t,r)}catch(i){throw n.firstCreatePass&&(n.incompleteFirstPass=!0,n.firstCreatePass=!1),i}finally{t[2]&=-5,Ys()}}function ma(n,t,e,i){const s=t[2];if(256==(256&s))return;Lc(t);const r=Jt();try{nl(t),function(n){me.lFrame.bindingIndex=n}(n.bindingStartIndex),null!==e&&e_(n,t,e,2,i);const o=3==(3&s);if(!r)if(o){const h=n.preOrderCheckHooks;null!==h&&Pi(t,h,null)}else{const h=n.preOrderHooks;null!==h&&Bc(t,h,0,null),ld(t,0)}if(function(n){for(let t=Od(n);null!==t;t=nu(t)){if(!t[2])continue;const e=t[9];for(let i=0;i<e.length;i++){const s=e[i],r=s[3];0==(1024&s[2])&&Mc(r,1),s[2]|=1024}}}(t),function(n){for(let t=Od(n);null!==t;t=nu(t))for(let e=10;e<t.length;e++){const i=t[e],s=i[1];td(i)&&ma(s,i,s.template,i[8])}}(t),null!==n.contentQueries&&Xm(n,t),!r)if(o){const h=n.contentCheckHooks;null!==h&&Pi(t,h)}else{const h=n.contentHooks;null!==h&&Bc(t,h,1),ld(t,1)}!function(n,t){const e=n.hostBindingOpCodes;if(null!==e)try{for(let i=0;i<e.length;i++){const s=e[i];if(s<0)wr(~s);else{const r=s,o=e[++i],a=e[++i];sl(o,r),a(2,t[r])}}}finally{wr(-1)}}(n,t);const a=n.components;null!==a&&function(n,t){for(let e=0;e<t.length;e++)ME(n,t[e])}(t,a);const u=n.viewQuery;if(null!==u&&bf(2,u,i),!r)if(o){const h=n.viewCheckHooks;null!==h&&Pi(t,h)}else{const h=n.viewHooks;null!==h&&Bc(t,h,2),ld(t,2)}!0===n.firstUpdatePass&&(n.firstUpdatePass=!1),r||(t[2]&=-73),1024&t[2]&&(t[2]&=-1025,Mc(t[3],-1))}finally{Ys()}}function gE(n,t,e,i){const s=t[10],r=!Jt(),o=Eg(t);try{r&&!o&&s.begin&&s.begin(),o&&Il(n,t,i),ma(n,t,e,i)}finally{r&&!o&&s.end&&s.end()}}function e_(n,t,e,i,s){const r=pe(),o=2&i;try{wr(-1),o&&t.length>20&&Gm(n,t,20,Jt()),e(i,s)}finally{wr(r)}}function Ol(n,t,e){!Zo()||(function(n,t,e,i){const s=e.directiveStart,r=e.directiveEnd;n.firstCreatePass||ui(e,t),bn(i,t);const o=e.initialInputs;for(let a=s;a<r;a++){const u=n.data[a],h=Wi(u);h&&AE(t,e,u);const f=ia(t,n,a,e);bn(f,t),null!==o&&PE(0,a-s,f,u,0,o),h&&(ai(e.index,t)[8]=f)}}(n,t,e,Ie(e,t)),128==(128&e.flags)&&function(n,t,e){const i=e.directiveStart,s=e.directiveEnd,o=e.index,a=me.lFrame.currentDirectiveIndex;try{wr(o);for(let u=i;u<s;u++){const h=n.data[u],f=t[u];Jo(u),(null!==h.hostBindings||0!==h.hostVars||null!==h.hostAttrs)&&u_(h,f)}}finally{wr(-1),Jo(a)}}(n,t,e))}function hf(n,t,e=Ie){const i=t.localNames;if(null!==i){let s=t.index+1;for(let r=0;r<i.length;r+=2){const o=i[r+1],a=-1===o?e(t,n):n[o];n[s++]=a}}}function _u(n){const t=n.tView;return null===t||t.incompleteFirstPass?n.tView=vu(1,null,n.template,n.decls,n.vars,n.directiveDefs,n.pipeDefs,n.viewQuery,n.schemas,n.consts):t}function vu(n,t,e,i,s,r,o,a,u,h){const f=20+i,g=f+s,m=function(n,t){const e=[];for(let i=0;i<t;i++)e.push(i<n?null:ce);return e}(f,g),v="function"==typeof h?h():h;return m[1]={type:n,blueprint:m,template:e,queries:null,viewQuery:a,declTNode:t,data:m.slice().fill(null,f),bindingStartIndex:f,expandoStartIndex:g,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof r?r():r,pipeRegistry:"function"==typeof o?o():o,firstChild:null,schemas:u,consts:v,incompleteFirstPass:!1}}function i_(n,t,e,i){const s=p_(t);null===e?s.push(i):(s.push(e),n.firstCreatePass&&bu(n).push(i,s.length-1))}function s_(n,t,e){for(let i in n)if(n.hasOwnProperty(i)){const s=n[i];(e=null===e?{}:e).hasOwnProperty(i)?e[i].push(t,s):e[i]=[t,s]}return e}function df(n,t,e,i){let s=!1;if(Zo()){const r=function(n,t,e){const i=n.directiveRegistry;let s=null;if(i)for(let r=0;r<i.length;r++){const o=i[r];qm(e,o.selectors,!1)&&(s||(s=[]),qc(ui(e,t),n,o.type),Wi(o)?(h_(n,e),s.unshift(o)):s.push(o))}return s}(n,t,e),o=null===i?null:{"":-1};if(null!==r){s=!0,ff(e,n.data.length,r.length);for(let f=0;f<r.length;f++){const g=r[f];g.providersResolver&&g.providersResolver(g)}let a=!1,u=!1,h=ga(n,t,r.length,null);for(let f=0;f<r.length;f++){const g=r[f];e.mergedAttrs=$c(e.mergedAttrs,g.hostAttrs),pf(n,e,t,h,g),DE(h,g,o),null!==g.contentQueries&&(e.flags|=8),(null!==g.hostBindings||null!==g.hostAttrs||0!==g.hostVars)&&(e.flags|=128);const m=g.type.prototype;!a&&(m.ngOnChanges||m.ngOnInit||m.ngDoCheck)&&((n.preOrderHooks||(n.preOrderHooks=[])).push(e.index),a=!0),!u&&(m.ngOnChanges||m.ngDoCheck)&&((n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(e.index),u=!0),h++}!function(n,t){const i=t.directiveEnd,s=n.data,r=t.attrs,o=[];let a=null,u=null;for(let h=t.directiveStart;h<i;h++){const f=s[h],g=f.inputs,m=null===r||fu(t)?null:kE(g,r);o.push(m),a=s_(g,h,a),u=s_(f.outputs,h,u)}null!==a&&(a.hasOwnProperty("class")&&(t.flags|=16),a.hasOwnProperty("style")&&(t.flags|=32)),t.initialInputs=o,t.inputs=a,t.outputs=u}(n,e)}o&&function(n,t,e){if(t){const i=n.localNames=[];for(let s=0;s<t.length;s+=2){const r=e[t[s+1]];if(null==r)throw new vr("301",`Export of name '${t[s+1]}' not found!`);i.push(t[s],r)}}}(e,i,o)}return e.mergedAttrs=$c(e.mergedAttrs,e.attrs),s}function c_(n,t,e,i,s,r){const o=r.hostBindings;if(o){let a=n.hostBindingOpCodes;null===a&&(a=n.hostBindingOpCodes=[]);const u=~t.index;(function(n){let t=n.length;for(;t>0;){const e=n[--t];if("number"==typeof e&&e<0)return e}return 0})(a)!=u&&a.push(u),a.push(i,s,o)}}function u_(n,t){null!==n.hostBindings&&n.hostBindings(1,t)}function h_(n,t){t.flags|=2,(n.components||(n.components=[])).push(t.index)}function DE(n,t,e){if(e){if(t.exportAs)for(let i=0;i<t.exportAs.length;i++)e[t.exportAs[i]]=n;Wi(t)&&(e[""]=n)}}function ff(n,t,e){n.flags|=1,n.directiveStart=t,n.directiveEnd=t+e,n.providerIndexes=t}function pf(n,t,e,i,s){n.data[i]=s;const r=s.factory||(s.factory=Zr(s.type)),o=new ci(r,Wi(s),null);n.blueprint[i]=o,e[i]=o,c_(n,t,0,i,ga(n,e,s.hostVars,ce),s)}function AE(n,t,e){const i=Ie(t,n),s=_u(e),r=n[10],o=yu(n,Ml(n,s,null,e.onPush?64:16,i,t,r,r.createRenderer(i,e),null,null));n[t.index]=o}function bs(n,t,e,i,s,r){const o=Ie(n,t);!function(n,t,e,i,s,r,o){if(null==r)Dt(n)?n.removeAttribute(t,s,e):t.removeAttribute(s);else{const a=null==o?Ce(r):o(r,i||"",s);Dt(n)?n.setAttribute(t,s,a,e):e?t.setAttributeNS(e,s,a):t.setAttribute(s,a)}}(t[11],o,r,n.value,e,i,s)}function PE(n,t,e,i,s,r){const o=r[t];if(null!==o){const a=i.setInput;for(let u=0;u<o.length;){const h=o[u++],f=o[u++],g=o[u++];null!==a?i.setInput(e,g,h,f):e[f]=g}}}function kE(n,t){let e=null,i=0;for(;i<t.length;){const s=t[i];if(0!==s)if(5!==s){if("number"==typeof s)break;n.hasOwnProperty(s)&&(null===e&&(e=[]),e.push(s,n[s],t[i+1])),i+=2}else i+=2;else i+=4}return e}function d_(n,t,e,i){return new Array(n,!0,!1,t,null,0,i,e,null,null)}function ME(n,t){const e=ai(t,n);if(td(e)){const i=e[1];80&e[2]?ma(i,e,i.template,e[8]):e[5]>0&&mf(e)}}function mf(n){for(let i=Od(n);null!==i;i=nu(i))for(let s=10;s<i.length;s++){const r=i[s];if(1024&r[2]){const o=r[1];ma(o,r,o.template,r[8])}else r[5]>0&&mf(r)}const e=n[1].components;if(null!==e)for(let i=0;i<e.length;i++){const s=ai(e[i],n);td(s)&&s[5]>0&&mf(s)}}function IE(n,t){const e=ai(t,n),i=e[1];(function(n,t){for(let e=t.length;e<n.blueprint.length;e++)t.push(n.blueprint[e])})(i,e),Il(i,e,e[8])}function yu(n,t){return n[13]?n[14][4]=t:n[13]=t,n[14]=t,t}function _f(n){for(;n;){n[2]|=64;const t=bl(n);if(Qh(n)&&!t)return n;n=t}return null}function yf(n,t,e){const i=t[10];i.begin&&i.begin();try{ma(n,t,n.template,e)}catch(s){throw Ef(t,s),s}finally{i.end&&i.end()}}function f_(n){!function(n){for(let t=0;t<n.components.length;t++){const e=n.components[t],i=Yi(e),s=i[1];gE(s,i,s.template,e)}}(n[8])}function bf(n,t,e){sd(0),t(n,e)}const VE=(()=>Promise.resolve(null))();function p_(n){return n[7]||(n[7]=[])}function bu(n){return n.cleanup||(n.cleanup=[])}function Ef(n,t){const e=n[9],i=e?e.get(Co,null):null;i&&i.handleError(t)}function g_(n,t,e,i,s){for(let r=0;r<e.length;){const o=e[r++],a=e[r++],u=t[o],h=n.data[o];null!==h.setInput?h.setInput(u,s,i,a):u[a]=s}}function er(n,t,e){const i=Xr(t,n);!function(n,t,e){Dt(n)?n.setValue(t,e):t.textContent=e}(n[11],i,e)}function Su(n,t,e){let i=e?n.styles:null,s=e?n.classes:null,r=0;if(null!==t)for(let o=0;o<t.length;o++){const a=t[o];"number"==typeof a?r=a:1==r?s=Fh(s,a):2==r&&(i=Fh(i,a+": "+t[++o]+";"))}e?n.styles=i:n.stylesWithoutHost=i,e?n.classes=s:n.classesWithoutHost=s}const va=new _e("INJECTOR",-1);class Ln{get(t,e=oa){if(e===oa){const i=new Error(`NullInjectorError: No provider for ${Oe(t)}!`);throw i.name="NullInjectorError",i}return e}}const Ao=new _e("Set Injector scope."),Nl={},BE={};let Cf;function m_(){return void 0===Cf&&(Cf=new Ln),Cf}function __(n,t=null,e=null,i){return new Af(n,e,t||m_(),i)}class Af{constructor(t,e,i,s=null){this.parent=i,this.records=new Map,this.injectorDefTypes=new Set,this.onDestroy=new Set,this._destroyed=!1;const r=[];e&&ds(e,a=>this.processProvider(a,t,e)),ds([t],a=>this.processInjectorType(a,[],r)),this.records.set(va,Po(void 0,this));const o=this.records.get(Ao);this.scope=null!=o?o.value:null,this.source=s||("object"==typeof t?null:Oe(t))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{this.onDestroy.forEach(t=>t.ngOnDestroy())}finally{this.records.clear(),this.onDestroy.clear(),this.injectorDefTypes.clear()}}get(t,e=oa,i=he.Default){this.assertNotDestroyed();const s=mo(this),r=Gs(void 0);try{if(!(i&he.SkipSelf)){let a=this.records.get(t);if(void 0===a){const u=function(n){return"function"==typeof n||"object"==typeof n&&n instanceof _e}(t)&&Us(t);a=u&&this.injectableDefInScope(u)?Po(Pf(t),Nl):null,this.records.set(t,a)}if(null!=a)return this.hydrate(t,a)}return(i&he.Self?m_():this.parent).get(t,e=i&he.Optional&&e===oa?null:e)}catch(o){if("NullInjectorError"===o.name){if((o[po]=o[po]||[]).unshift(Oe(t)),s)throw o;return Qg(o,t,"R3InjectorError",this.source)}throw o}finally{Gs(r),mo(s)}}_resolveInjectorDefTypes(){this.injectorDefTypes.forEach(t=>this.get(t))}toString(){const t=[];return this.records.forEach((i,s)=>t.push(Oe(s))),`R3Injector[${t.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Error("Injector has already been destroyed.")}processInjectorType(t,e,i){if(!(t=ae(t)))return!1;let s=qh(t);const r=null==s&&t.ngModule||void 0,o=void 0===r?t:r,a=-1!==i.indexOf(o);if(void 0!==r&&(s=qh(r)),null==s)return!1;if(null!=s.imports&&!a){let f;i.push(o);try{ds(s.imports,g=>{this.processInjectorType(g,e,i)&&(void 0===f&&(f=[]),f.push(g))})}finally{}if(void 0!==f)for(let g=0;g<f.length;g++){const{ngModule:m,providers:v}=f[g];ds(v,E=>this.processProvider(E,m,v||ct))}}this.injectorDefTypes.add(o);const u=Zr(o)||(()=>new o);this.records.set(o,Po(u,Nl));const h=s.providers;if(null!=h&&!a){const f=t;ds(h,g=>this.processProvider(g,f,h))}return void 0!==r&&void 0!==t.providers}processProvider(t,e,i){let s=xr(t=ae(t))?t:ae(t&&t.provide);const r=function(n,t,e){return y_(n)?Po(void 0,n.useValue):Po(v_(n),Nl)}(t);if(xr(t)||!0!==t.multi)this.records.get(s);else{let o=this.records.get(s);o||(o=Po(void 0,Nl,!0),o.factory=()=>_o(o.multi),this.records.set(s,o)),s=t,o.multi.push(t)}this.records.set(s,r)}hydrate(t,e){return e.value===Nl&&(e.value=BE,e.value=e.factory()),"object"==typeof e.value&&e.value&&function(n){return null!==n&&"object"==typeof n&&"function"==typeof n.ngOnDestroy}(e.value)&&this.onDestroy.add(e.value),e.value}injectableDefInScope(t){if(!t.providedIn)return!1;const e=ae(t.providedIn);return"string"==typeof e?"any"===e||e===this.scope:this.injectorDefTypes.has(e)}}function Pf(n){const t=Us(n),e=null!==t?t.factory:Zr(n);if(null!==e)return e;if(n instanceof _e)throw new Error(`Token ${Oe(n)} is missing a \u0275prov definition.`);if(n instanceof Function)return function(n){const t=n.length;if(t>0){const i=function(n,t){const e=[];for(let i=0;i<n;i++)e.push(t);return e}(t,"?");throw new Error(`Can't resolve all parameters for ${Oe(n)}: (${i.join(", ")}).`)}const e=function(n){const t=n&&(n[Go]||n[Gh]);if(t){const e=function(n){if(n.hasOwnProperty("name"))return n.name;const t=(""+n).match(/^function\s*([^\s(]+)/);return null===t?"":t[1]}(n);return console.warn(`DEPRECATED: DI is instantiating a token "${e}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${e}" class.`),t}return null}(n);return null!==e?()=>e.factory(n):()=>new n}(n);throw new Error("unreachable")}function v_(n,t,e){let i;if(xr(n)){const s=ae(n);return Zr(s)||Pf(s)}if(y_(n))i=()=>ae(n.useValue);else if(function(n){return!(!n||!n.useFactory)}(n))i=()=>n.useFactory(..._o(n.deps||[]));else if(function(n){return!(!n||!n.useExisting)}(n))i=()=>$(ae(n.useExisting));else{const s=ae(n&&(n.useClass||n.provide));if(!function(n){return!!n.deps}(n))return Zr(s)||Pf(s);i=()=>new s(..._o(n.deps))}return i}function Po(n,t,e=!1){return{factory:n,value:t,multi:e?[]:void 0}}function y_(n){return null!==n&&"object"==typeof n&&Sd in n}function xr(n){return"function"==typeof n}const b_=function(n,t,e){return function(n,t=null,e=null,i){const s=__(n,t,e,i);return s._resolveInjectorDefTypes(),s}({name:e},t,n,e)};let Et=(()=>{class n{static create(e,i){return Array.isArray(e)?b_(e,i,""):b_(e.providers,e.parent,e.name||"")}}return n.THROW_IF_NOT_FOUND=oa,n.NULL=new Ln,n.\u0275prov=le({token:n,providedIn:"any",factory:()=>$(va)}),n.__NG_ELEMENT_ID__=-1,n})();function dB(n,t){Fc(Yi(n)[1],Lt())}function At(n){let t=function(n){return Object.getPrototypeOf(n.prototype).constructor}(n.type),e=!0;const i=[n];for(;t;){let s;if(Wi(n))s=t.\u0275cmp||t.\u0275dir;else{if(t.\u0275cmp)throw new Error("Directives cannot inherit Components");s=t.\u0275dir}if(s){if(e){i.push(s);const o=n;o.inputs=XE(n.inputs),o.declaredInputs=XE(n.declaredInputs),o.outputs=XE(n.outputs);const a=s.hostBindings;a&&mB(n,a);const u=s.viewQuery,h=s.contentQueries;if(u&&pB(n,u),h&&gB(n,h),Sc(n.inputs,s.inputs),Sc(n.declaredInputs,s.declaredInputs),Sc(n.outputs,s.outputs),Wi(s)&&s.data.animation){const f=n.data;f.animation=(f.animation||[]).concat(s.data.animation)}}const r=s.features;if(r)for(let o=0;o<r.length;o++){const a=r[o];a&&a.ngInherit&&a(n),a===At&&(e=!1)}}t=Object.getPrototypeOf(t)}!function(n){let t=0,e=null;for(let i=n.length-1;i>=0;i--){const s=n[i];s.hostVars=t+=s.hostVars,s.hostAttrs=$c(s.hostAttrs,e=$c(e,s.hostAttrs))}}(i)}function XE(n){return n===jo?{}:n===ct?[]:n}function pB(n,t){const e=n.viewQuery;n.viewQuery=e?(i,s)=>{t(i,s),e(i,s)}:t}function gB(n,t){const e=n.contentQueries;n.contentQueries=e?(i,s,r)=>{t(i,s,r),e(i,s,r)}:t}function mB(n,t){const e=n.hostBindings;n.hostBindings=e?(i,s)=>{t(i,s),e(i,s)}:t}let D_=null;function Eu(){if(!D_){const n=tt.Symbol;if(n&&n.iterator)D_=n.iterator;else{const t=Object.getOwnPropertyNames(Map.prototype);for(let e=0;e<t.length;++e){const i=t[e];"entries"!==i&&"size"!==i&&Map.prototype[i]===Map.prototype.entries&&(D_=i)}}}return D_}class nr{constructor(t){this.wrapped=t}static wrap(t){return new nr(t)}static unwrap(t){return nr.isWrapped(t)?t.wrapped:t}static isWrapped(t){return t instanceof nr}}function If(n){return!!ew(n)&&(Array.isArray(n)||!(n instanceof Map)&&Eu()in n)}function ew(n){return null!==n&&("function"==typeof n||"object"==typeof n)}function Ir(n,t,e){return n[t]=e}function Yn(n,t,e){return!Object.is(n[t],e)&&(n[t]=e,!0)}function Rl(n,t,e,i){const s=Yn(n,t,e);return Yn(n,t+1,i)||s}function ir(n,t,e,i){const s=j();return Yn(s,Sr(),t)&&(Ye(),bs(It(),s,n,t,e,i)),ir}function Xe(n,t,e,i,s,r,o,a){const u=j(),h=Ye(),f=n+20,g=h.firstCreatePass?function(n,t,e,i,s,r,o,a,u){const h=t.consts,f=pa(t,n,4,o||null,xn(h,a));df(t,e,f,xn(h,u)),Fc(t,f);const g=f.tViews=vu(2,f,i,s,r,t.directiveRegistry,t.pipeRegistry,null,t.schemas,h);return null!==t.queries&&(t.queries.template(t,f),g.queries=t.queries.embeddedTView(f)),f}(f,h,u,t,e,i,s,r,o):h.data[f];hs(g,!1);const m=u[11].createComment("");ou(h,u,m,g),bn(m,u),yu(u,u[f]=d_(m,u,m,g)),el(g)&&Ol(h,u,g),null!=o&&hf(u,g,a)}function F(n,t=he.Default){const e=j();return null===e?$(n,t):Zs(Lt(),e,ae(n),t)}function Q(n,t,e){const i=j();return Yn(i,Sr(),t)&&function(n,t,e,i,s,r,o,a){const u=Ie(t,e);let f,h=t.inputs;!a&&null!=h&&(f=h[i])?(g_(n,e,f,i,s),Ko(t)&&function(n,t){const e=ai(t,n);16&e[2]||(e[2]|=64)}(e,t.index)):3&t.type&&(i=function(n){return"class"===n?"className":"for"===n?"htmlFor":"formaction"===n?"formAction":"innerHtml"===n?"innerHTML":"readonly"===n?"readOnly":"tabindex"===n?"tabIndex":n}(i),s=null!=o?o(s,t.value||"",i):s,Dt(r)?r.setProperty(u,i,s):ud(i)||(u.setProperty?u.setProperty(i,s):u[i]=s))}(Ye(),It(),i,n,t,i[11],e,!1),Q}function rw(n,t,e,i,s){const o=s?"class":"style";g_(n,e,t.inputs[o],o,i)}function y(n,t,e,i){const s=j(),r=Ye(),o=20+n,a=s[11],u=s[o]=Rd(a,t,me.lFrame.currentNamespace),h=r.firstCreatePass?function(n,t,e,i,s,r,o){const a=t.consts,h=pa(t,n,2,s,xn(a,r));return df(t,e,h,xn(a,o)),null!==h.attrs&&Su(h,h.attrs,!1),null!==h.mergedAttrs&&Su(h,h.mergedAttrs,!0),null!==t.queries&&t.queries.elementStart(t,h),h}(o,r,s,0,t,e,i):r.data[o];hs(h,!0);const f=h.mergedAttrs;null!==f&&Un(a,u,f);const g=h.classes;null!==g&&lu(a,u,g);const m=h.styles;null!==m&&jd(a,u,m),64!=(64&h.flags)&&ou(r,s,u,h),0===me.lFrame.elementDepthCount&&bn(u,s),me.lFrame.elementDepthCount++,el(h)&&(Ol(r,s,h),function(n,t,e){if(Xa(t)){const s=t.directiveEnd;for(let r=t.directiveStart;r<s;r++){const o=n.data[r];o.contentQueries&&o.contentQueries(1,e[r],r)}}}(r,h,s)),null!==i&&hf(s,h)}function b(){let n=Lt();Nc()?me.lFrame.isParent=!1:(n=n.parent,hs(n,!1));const t=n;me.lFrame.elementDepthCount--;const e=Ye();e.firstCreatePass&&(Fc(e,n),Xa(n)&&e.queries.elementEnd(n)),null!=t.classesWithoutHost&&function(n){return 0!=(16&n.flags)}(t)&&rw(e,t,j(),t.classesWithoutHost,!0),null!=t.stylesWithoutHost&&function(n){return 0!=(32&n.flags)}(t)&&rw(e,t,j(),t.stylesWithoutHost,!1)}function Ae(n,t,e,i){y(n,t,e,i),b()}function ya(){return j()}function k_(n){return!!n&&"function"==typeof n.then}const ow=function(n){return!!n&&"function"==typeof n.subscribe};function rt(n,t,e,i){const s=j(),r=Ye(),o=Lt();return function(n,t,e,i,s,r,o,a){const u=el(i),f=n.firstCreatePass&&bu(n),g=t[8],m=p_(t);let v=!0;if(3&i.type||a){const C=Ie(i,t),L=a?a(C):C,N=m.length,z=a?U=>a(Wt(U[i.index])):i.index;if(Dt(e)){let U=null;if(!a&&u&&(U=function(n,t,e,i){const s=n.cleanup;if(null!=s)for(let r=0;r<s.length-1;r+=2){const o=s[r];if(o===e&&s[r+1]===i){const a=t[7],u=s[r+2];return a.length>u?a[u]:null}"string"==typeof o&&(r+=2)}return null}(n,t,s,i.index)),null!==U)(U.__ngLastListenerFn__||U).__ngNextListenerFn__=r,U.__ngLastListenerFn__=r,v=!1;else{r=aw(i,t,g,r,!1);const ee=e.listen(L,s,r);m.push(r,ee),f&&f.push(s,z,N,N+1)}}else r=aw(i,t,g,r,!0),L.addEventListener(s,r,o),m.push(r),f&&f.push(s,z,N,o)}else r=aw(i,t,g,r,!1);const E=i.outputs;let D;if(v&&null!==E&&(D=E[s])){const C=D.length;if(C)for(let L=0;L<C;L+=2){const oe=t[D[L]][D[L+1]].subscribe(r),be=m.length;m.push(r,oe),f&&f.push(s,i.index,be,-(be+1))}}}(r,s,s[11],o,n,t,!!e,i),rt}function lM(n,t,e,i){try{return!1!==e(i)}catch(s){return Ef(n,s),!1}}function aw(n,t,e,i,s){return function r(o){if(o===Function)return i;const a=2&n.flags?ai(n.index,t):t;0==(32&t[2])&&_f(a);let u=lM(t,0,i,o),h=r.__ngNextListenerFn__;for(;h;)u=lM(t,0,h,o)&&u,h=h.__ngNextListenerFn__;return s&&!1===u&&(o.preventDefault(),o.returnValue=!1),u}}function fn(n=1){return function(n){return(me.lFrame.contextLView=function(n,t){for(;n>0;)t=t[15],n--;return t}(n,me.lFrame.contextLView))[8]}(n)}function bM(n,t,e,i,s){const r=n[e+1],o=null===t;let a=i?ue(r):Xs(r),u=!1;for(;0!==a&&(!1===u||o);){const f=n[a+1];t$(n[a],t)&&(u=!0,n[a+1]=i?sf(f):Ot(f)),a=i?ue(f):Xs(f)}u&&(n[e+1]=i?Ot(r):sf(r))}function t$(n,t){return null===n||null==t||(Array.isArray(n)?n[1]:n)===t||!(!Array.isArray(n)||"string"!=typeof t)&&fo(n,t)>=0}const pn={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function SM(n){return n.substring(pn.key,pn.keyEnd)}function EM(n,t){const e=pn.textEnd;return e===t?-1:(t=pn.keyEnd=function(n,t,e){for(;t<e&&n.charCodeAt(t)>32;)t++;return t}(n,pn.key=t,e),Ou(n,t,e))}function Ou(n,t,e){for(;t<e&&n.charCodeAt(t)<=32;)t++;return t}function Nf(n,t,e){return sr(n,t,e,!1),Nf}function Ll(n,t){return sr(n,t,null,!0),Ll}function ws(n){!function(n,t,e,i){const s=Ye(),r=li(2);s.firstUpdatePass&&kM(s,null,r,i);const o=j();if(e!==ce&&Yn(o,r,e)){const a=s.data[pe()];if(IM(a,i)&&!PM(s,r)){let u=i?a.classesWithoutHost:a.stylesWithoutHost;null!==u&&(e=Fh(u,e||"")),rw(s,a,o,e,i)}else!function(n,t,e,i,s,r,o,a){s===ce&&(s=ct);let u=0,h=0,f=0<s.length?s[0]:null,g=0<r.length?r[0]:null;for(;null!==f||null!==g;){const m=u<s.length?s[u+1]:void 0,v=h<r.length?r[h+1]:void 0;let D,E=null;f===g?(u+=2,h+=2,m!==v&&(E=g,D=v)):null===g||null!==f&&f<g?(u+=2,E=f):(h+=2,E=g,D=v),null!==E&&xM(n,t,e,i,E,D,o,a),f=u<s.length?s[u]:null,g=h<r.length?r[h]:null}}(s,a,o,o[11],o[r+1],o[r+1]=function(n,t,e){if(null==e||""===e)return ct;const i=[],s=pi(e);if(Array.isArray(s))for(let r=0;r<s.length;r++)n(i,s[r],!0);else if("object"==typeof s)for(const r in s)s.hasOwnProperty(r)&&n(i,r,s[r]);else"string"==typeof s&&t(i,s);return i}(n,t,e),i,r)}}(di,Nr,n,!0)}function Nr(n,t){for(let e=function(n){return function(n){pn.key=0,pn.keyEnd=0,pn.value=0,pn.valueEnd=0,pn.textEnd=n.length}(n),EM(n,Ou(n,0,pn.textEnd))}(t);e>=0;e=EM(t,e))di(n,SM(t),!0)}function sr(n,t,e,i){const s=j(),r=Ye(),o=li(2);r.firstUpdatePass&&kM(r,n,o,i),t!==ce&&Yn(s,o,t)&&xM(r,r.data[pe()],s,s[11],n,s[o+1]=function(n,t){return null==n||("string"==typeof t?n+=t:"object"==typeof n&&(n=Oe(pi(n)))),n}(t,e),i,o)}function PM(n,t){return t>=n.expandoStartIndex}function kM(n,t,e,i){const s=n.data;if(null===s[e+1]){const r=s[pe()],o=PM(n,e);IM(r,i)&&null===t&&!o&&(t=!1),t=function(n,t,e,i){const s=function(n){const t=me.lFrame.currentDirectiveIndex;return-1===t?null:n[t]}(n);let r=i?t.residualClasses:t.residualStyles;if(null===s)0===(i?t.classBindings:t.styleBindings)&&(e=Rf(e=cw(null,n,t,e,i),t.attrs,i),r=null);else{const o=t.directiveStylingLast;if(-1===o||n[o]!==s)if(e=cw(s,n,t,e,i),null===r){let u=function(n,t,e){const i=e?t.classBindings:t.styleBindings;if(0!==Xs(i))return n[ue(i)]}(n,t,i);void 0!==u&&Array.isArray(u)&&(u=cw(null,n,t,u[1],i),u=Rf(u,t.attrs,i),function(n,t,e,i){n[ue(e?t.classBindings:t.styleBindings)]=i}(n,t,i,u))}else r=function(n,t,e){let i;const s=t.directiveEnd;for(let r=1+t.directiveStylingLast;r<s;r++)i=Rf(i,n[r].hostAttrs,e);return Rf(i,t.attrs,e)}(n,t,i)}return void 0!==r&&(i?t.residualClasses=r:t.residualStyles=r),e}(s,r,t,i),function(n,t,e,i,s,r){let o=r?t.classBindings:t.styleBindings,a=ue(o),u=Xs(o);n[i]=e;let f,h=!1;if(Array.isArray(e)){const g=e;f=g[1],(null===f||fo(g,f)>0)&&(h=!0)}else f=e;if(s)if(0!==u){const m=ue(n[a+1]);n[i+1]=_s(m,a),0!==m&&(n[m+1]=vs(n[m+1],i)),n[a+1]=function(n,t){return 131071&n|t<<17}(n[a+1],i)}else n[i+1]=_s(a,0),0!==a&&(n[a+1]=vs(n[a+1],i)),a=i;else n[i+1]=_s(u,0),0===a?a=i:n[u+1]=vs(n[u+1],i),u=i;h&&(n[i+1]=Ot(n[i+1])),bM(n,f,i,!0),bM(n,f,i,!1),function(n,t,e,i,s){const r=s?n.residualClasses:n.residualStyles;null!=r&&"string"==typeof t&&fo(r,t)>=0&&(e[i+1]=sf(e[i+1]))}(t,f,n,i,r),o=_s(a,u),r?t.classBindings=o:t.styleBindings=o}(s,r,t,e,o,i)}}function cw(n,t,e,i,s){let r=null;const o=e.directiveEnd;let a=e.directiveStylingLast;for(-1===a?a=e.directiveStart:a++;a<o&&(r=t[a],i=Rf(i,r.hostAttrs,s),r!==n);)a++;return null!==n&&(e.directiveStylingLast=a),i}function Rf(n,t,e){const i=e?1:2;let s=-1;if(null!==t)for(let r=0;r<t.length;r++){const o=t[r];"number"==typeof o?s=o:s===i&&(Array.isArray(n)||(n=void 0===n?[]:["",n]),di(n,o,!!e||t[++r]))}return void 0===n?null:n}function xM(n,t,e,i,s,r,o,a){if(!(3&t.type))return;const u=n.data,h=u[a+1];T_(function(n){return 1==(1&n)}(h)?MM(u,t,e,s,Xs(h),o):void 0)||(T_(r)||function(n){return 2==(2&n)}(h)&&(r=MM(u,null,e,s,a,o)),function(n,t,e,i,s){const r=Dt(n);if(t)s?r?n.addClass(e,i):e.classList.add(i):r?n.removeClass(e,i):e.classList.remove(i);else{let o=-1===i.indexOf("-")?void 0:jn.DashCase;if(null==s)r?n.removeStyle(e,i,o):e.style.removeProperty(i);else{const a="string"==typeof s&&s.endsWith("!important");a&&(s=s.slice(0,-10),o|=jn.Important),r?n.setStyle(e,i,s,o):e.style.setProperty(i,s,a?"important":"")}}}(i,o,Xr(pe(),e),s,r))}function MM(n,t,e,i,s,r){const o=null===t;let a;for(;s>0;){const u=n[s],h=Array.isArray(u),f=h?u[1]:u,g=null===f;let m=e[s+1];m===ce&&(m=g?ct:void 0);let v=g?ho(m,i):f===i?m:void 0;if(h&&!T_(v)&&(v=ho(u,i)),T_(v)&&(a=v,o))return a;const E=n[s+1];s=o?ue(E):Xs(E)}if(null!==t){let u=r?t.residualClasses:t.residualStyles;null!=u&&(a=ho(u,i))}return a}function T_(n){return void 0!==n}function IM(n,t){return 0!=(n.flags&(t?16:32))}function I(n,t=""){const e=j(),i=Ye(),s=n+20,r=i.firstCreatePass?pa(i,s,1,t,null):i.data[s],o=e[s]=function(n,t){return Dt(n)?n.createText(t):n.createTextNode(t)}(e[11],t);ou(i,e,o,r),hs(r,!1)}function Ri(n){return Vn("",n,""),Ri}function Vn(n,t,e){const i=j(),s=function(n,t,e,i){return Yn(n,Sr(),e)?t+Ce(e)+i:ce}(i,n,t,e);return s!==ce&&er(i,pe(),s),Vn}function Lf(n,t,e,i,s){const r=j(),o=function(n,t,e,i,s,r){const a=Rl(n,zi(),e,s);return li(2),a?t+Ce(e)+i+Ce(s)+r:ce}(r,n,t,e,i,s);return o!==ce&&er(r,pe(),o),Lf}const Vl=void 0;var R$=["en",[["a","p"],["AM","PM"],Vl],[["AM","PM"],Vl,Vl],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Vl,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Vl,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Vl,"{1} 'at' {0}",Vl],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function(n){const t=Math.floor(Math.abs(n)),e=n.toString().replace(/^[^.]*\.?/,"").length;return 1===t&&0===e?1:5}];let Nu={};function JM(n){return n in Nu||(Nu[n]=tt.ng&&tt.ng.common&&tt.ng.common.locales&&tt.ng.common.locales[n]),Nu[n]}var te=(()=>((te=te||{})[te.LocaleId=0]="LocaleId",te[te.DayPeriodsFormat=1]="DayPeriodsFormat",te[te.DayPeriodsStandalone=2]="DayPeriodsStandalone",te[te.DaysFormat=3]="DaysFormat",te[te.DaysStandalone=4]="DaysStandalone",te[te.MonthsFormat=5]="MonthsFormat",te[te.MonthsStandalone=6]="MonthsStandalone",te[te.Eras=7]="Eras",te[te.FirstDayOfWeek=8]="FirstDayOfWeek",te[te.WeekendRange=9]="WeekendRange",te[te.DateFormat=10]="DateFormat",te[te.TimeFormat=11]="TimeFormat",te[te.DateTimeFormat=12]="DateTimeFormat",te[te.NumberSymbols=13]="NumberSymbols",te[te.NumberFormats=14]="NumberFormats",te[te.CurrencyCode=15]="CurrencyCode",te[te.CurrencySymbol=16]="CurrencySymbol",te[te.CurrencyName=17]="CurrencyName",te[te.Currencies=18]="Currencies",te[te.Directionality=19]="Directionality",te[te.PluralCase=20]="PluralCase",te[te.ExtraData=21]="ExtraData",te))();const x_="en-US";let XM=x_;function uw(n){si(n,"Expected localeId to be defined"),"string"==typeof n&&(XM=n.toLowerCase().replace(/_/g,"-"))}function fw(n,t,e,i,s){if(n=ae(n),Array.isArray(n))for(let r=0;r<n.length;r++)fw(n[r],t,e,i,s);else{const r=Ye(),o=j();let a=xr(n)?n:ae(n.provide),u=v_(n);const h=Lt(),f=1048575&h.providerIndexes,g=h.directiveStart,m=h.providerIndexes>>20;if(xr(n)||!n.multi){const v=new ci(u,s,F),E=gw(a,t,s?f:f+m,g);-1===E?(qc(ui(h,o),r,a),pw(r,n,t.length),t.push(a),h.directiveStart++,h.directiveEnd++,s&&(h.providerIndexes+=1048576),e.push(v),o.push(v)):(e[E]=v,o[E]=v)}else{const v=gw(a,t,f+m,g),E=gw(a,t,f,f+m),D=v>=0&&e[v],C=E>=0&&e[E];if(s&&!C||!s&&!D){qc(ui(h,o),r,a);const L=function(n,t,e,i,s){const r=new ci(n,e,F);return r.multi=[],r.index=t,r.componentProviders=0,wI(r,s,i&&!e),r}(s?I3:M3,e.length,s,i,u);!s&&C&&(e[E].providerFactory=L),pw(r,n,t.length,0),t.push(a),h.directiveStart++,h.directiveEnd++,s&&(h.providerIndexes+=1048576),e.push(L),o.push(L)}else pw(r,n,v>-1?v:E,wI(e[s?E:v],u,!s&&i));!s&&i&&C&&e[E].componentProviders++}}}function pw(n,t,e,i){const s=xr(t);if(s||function(n){return!!n.useClass}(t)){const o=(t.useClass||t).prototype.ngOnDestroy;if(o){const a=n.destroyHooks||(n.destroyHooks=[]);if(!s&&t.multi){const u=a.indexOf(e);-1===u?a.push(e,[i,o]):a[u+1].push(i,o)}else a.push(e,o)}}}function wI(n,t,e){return e&&n.componentProviders++,n.multi.push(t)-1}function gw(n,t,e,i){for(let s=e;s<i;s++)if(t[s]===n)return s;return-1}function M3(n,t,e,i){return mw(this.multi,[])}function I3(n,t,e,i){const s=this.multi;let r;if(this.providerFactory){const o=this.providerFactory.componentProviders,a=ia(e,e[1],this.providerFactory.index,i);r=a.slice(0,o),mw(s,r);for(let u=o;u<a.length;u++)r.push(a[u])}else r=[],mw(s,r);return r}function mw(n,t){for(let e=0;e<n.length;e++)t.push((0,n[e])());return t}function et(n,t=[]){return e=>{e.providersResolver=(i,s)=>function(n,t,e){const i=Ye();if(i.firstCreatePass){const s=Wi(n);fw(e,i.data,i.blueprint,s,!0),fw(t,i.data,i.blueprint,s,!1)}}(i,s?s(n):n,t)}}class CI{}const AI="ngComponent";class R3{resolveComponentFactory(t){throw function(n){const t=Error(`No component factory found for ${Oe(n)}. Did you add it to @NgModule.entryComponents?`);return t[AI]=n,t}(t)}}let Lu=(()=>{class n{}return n.NULL=new R3,n})();function R_(...n){}function Vu(n,t){return new Pt(Ie(n,t))}const F3=function(){return Vu(Lt(),j())};let Pt=(()=>{class n{constructor(e){this.nativeElement=e}}return n.__NG_ELEMENT_ID__=F3,n})();function PI(n){return n instanceof Pt?n.nativeElement:n}class Fl{}let Bl=(()=>{class n{}return n.__NG_ELEMENT_ID__=()=>$3(),n})();const $3=function(){const n=j(),e=ai(Lt().index,n);return function(n){return n[11]}(ji(e)?e:n)};let vw=(()=>{class n{}return n.\u0275prov=le({token:n,providedIn:"root",factory:()=>null}),n})();class L_{constructor(t){this.full=t,this.major=t.split(".")[0],this.minor=t.split(".")[1],this.patch=t.split(".").slice(2).join(".")}}const kI=new L_("12.2.17");class TI{constructor(){}supports(t){return If(t)}create(t){return new G3(t)}}const U3=(n,t)=>t;class G3{constructor(t){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=t||U3}forEachItem(t){let e;for(e=this._itHead;null!==e;e=e._next)t(e)}forEachOperation(t){let e=this._itHead,i=this._removalsHead,s=0,r=null;for(;e||i;){const o=!i||e&&e.currentIndex<MI(i,s,r)?e:i,a=MI(o,s,r),u=o.currentIndex;if(o===i)s--,i=i._nextRemoved;else if(e=e._next,null==o.previousIndex)s++;else{r||(r=[]);const h=a-s,f=u-s;if(h!=f){for(let m=0;m<h;m++){const v=m<r.length?r[m]:r[m]=0,E=v+m;f<=E&&E<h&&(r[m]=v+1)}r[o.previousIndex]=f-h}}a!==u&&t(o,a,u)}}forEachPreviousItem(t){let e;for(e=this._previousItHead;null!==e;e=e._nextPrevious)t(e)}forEachAddedItem(t){let e;for(e=this._additionsHead;null!==e;e=e._nextAdded)t(e)}forEachMovedItem(t){let e;for(e=this._movesHead;null!==e;e=e._nextMoved)t(e)}forEachRemovedItem(t){let e;for(e=this._removalsHead;null!==e;e=e._nextRemoved)t(e)}forEachIdentityChange(t){let e;for(e=this._identityChangesHead;null!==e;e=e._nextIdentityChange)t(e)}diff(t){if(null==t&&(t=[]),!If(t))throw new Error(`Error trying to diff '${Oe(t)}'. Only arrays and iterables are allowed`);return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let s,r,o,e=this._itHead,i=!1;if(Array.isArray(t)){this.length=t.length;for(let a=0;a<this.length;a++)r=t[a],o=this._trackByFn(a,r),null!==e&&Object.is(e.trackById,o)?(i&&(e=this._verifyReinsertion(e,r,o,a)),Object.is(e.item,r)||this._addIdentityChange(e,r)):(e=this._mismatch(e,r,o,a),i=!0),e=e._next}else s=0,function(n,t){if(Array.isArray(n))for(let e=0;e<n.length;e++)t(n[e]);else{const e=n[Eu()]();let i;for(;!(i=e.next()).done;)t(i.value)}}(t,a=>{o=this._trackByFn(s,a),null!==e&&Object.is(e.trackById,o)?(i&&(e=this._verifyReinsertion(e,a,o,s)),Object.is(e.item,a)||this._addIdentityChange(e,a)):(e=this._mismatch(e,a,o,s),i=!0),e=e._next,s++}),this.length=s;return this._truncate(e),this.collection=t,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let t;for(t=this._previousItHead=this._itHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._additionsHead;null!==t;t=t._nextAdded)t.previousIndex=t.currentIndex;for(this._additionsHead=this._additionsTail=null,t=this._movesHead;null!==t;t=t._nextMoved)t.previousIndex=t.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(t,e,i,s){let r;return null===t?r=this._itTail:(r=t._prev,this._remove(t)),null!==(t=null===this._unlinkedRecords?null:this._unlinkedRecords.get(i,null))?(Object.is(t.item,e)||this._addIdentityChange(t,e),this._reinsertAfter(t,r,s)):null!==(t=null===this._linkedRecords?null:this._linkedRecords.get(i,s))?(Object.is(t.item,e)||this._addIdentityChange(t,e),this._moveAfter(t,r,s)):t=this._addAfter(new j3(e,i),r,s),t}_verifyReinsertion(t,e,i,s){let r=null===this._unlinkedRecords?null:this._unlinkedRecords.get(i,null);return null!==r?t=this._reinsertAfter(r,t._prev,s):t.currentIndex!=s&&(t.currentIndex=s,this._addToMoves(t,s)),t}_truncate(t){for(;null!==t;){const e=t._next;this._addToRemovals(this._unlink(t)),t=e}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(t,e,i){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(t);const s=t._prevRemoved,r=t._nextRemoved;return null===s?this._removalsHead=r:s._nextRemoved=r,null===r?this._removalsTail=s:r._prevRemoved=s,this._insertAfter(t,e,i),this._addToMoves(t,i),t}_moveAfter(t,e,i){return this._unlink(t),this._insertAfter(t,e,i),this._addToMoves(t,i),t}_addAfter(t,e,i){return this._insertAfter(t,e,i),this._additionsTail=null===this._additionsTail?this._additionsHead=t:this._additionsTail._nextAdded=t,t}_insertAfter(t,e,i){const s=null===e?this._itHead:e._next;return t._next=s,t._prev=e,null===s?this._itTail=t:s._prev=t,null===e?this._itHead=t:e._next=t,null===this._linkedRecords&&(this._linkedRecords=new xI),this._linkedRecords.put(t),t.currentIndex=i,t}_remove(t){return this._addToRemovals(this._unlink(t))}_unlink(t){null!==this._linkedRecords&&this._linkedRecords.remove(t);const e=t._prev,i=t._next;return null===e?this._itHead=i:e._next=i,null===i?this._itTail=e:i._prev=e,t}_addToMoves(t,e){return t.previousIndex===e||(this._movesTail=null===this._movesTail?this._movesHead=t:this._movesTail._nextMoved=t),t}_addToRemovals(t){return null===this._unlinkedRecords&&(this._unlinkedRecords=new xI),this._unlinkedRecords.put(t),t.currentIndex=null,t._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=t,t._prevRemoved=null):(t._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=t),t}_addIdentityChange(t,e){return t.item=e,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=t:this._identityChangesTail._nextIdentityChange=t,t}}class j3{constructor(t,e){this.item=t,this.trackById=e,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class W3{constructor(){this._head=null,this._tail=null}add(t){null===this._head?(this._head=this._tail=t,t._nextDup=null,t._prevDup=null):(this._tail._nextDup=t,t._prevDup=this._tail,t._nextDup=null,this._tail=t)}get(t,e){let i;for(i=this._head;null!==i;i=i._nextDup)if((null===e||e<=i.currentIndex)&&Object.is(i.trackById,t))return i;return null}remove(t){const e=t._prevDup,i=t._nextDup;return null===e?this._head=i:e._nextDup=i,null===i?this._tail=e:i._prevDup=e,null===this._head}}class xI{constructor(){this.map=new Map}put(t){const e=t.trackById;let i=this.map.get(e);i||(i=new W3,this.map.set(e,i)),i.add(t)}get(t,e){const s=this.map.get(t);return s?s.get(t,e):null}remove(t){const e=t.trackById;return this.map.get(e).remove(t)&&this.map.delete(e),t}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function MI(n,t,e){const i=n.previousIndex;if(null===i)return i;let s=0;return e&&i<e.length&&(s=e[i]),i+t+s}class II{constructor(){}supports(t){return t instanceof Map||ew(t)}create(){return new z3}}class z3{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(t){let e;for(e=this._mapHead;null!==e;e=e._next)t(e)}forEachPreviousItem(t){let e;for(e=this._previousMapHead;null!==e;e=e._nextPrevious)t(e)}forEachChangedItem(t){let e;for(e=this._changesHead;null!==e;e=e._nextChanged)t(e)}forEachAddedItem(t){let e;for(e=this._additionsHead;null!==e;e=e._nextAdded)t(e)}forEachRemovedItem(t){let e;for(e=this._removalsHead;null!==e;e=e._nextRemoved)t(e)}diff(t){if(t){if(!(t instanceof Map||ew(t)))throw new Error(`Error trying to diff '${Oe(t)}'. Only maps and objects are allowed`)}else t=new Map;return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let e=this._mapHead;if(this._appendAfter=null,this._forEach(t,(i,s)=>{if(e&&e.key===s)this._maybeAddToChanges(e,i),this._appendAfter=e,e=e._next;else{const r=this._getOrCreateRecordForKey(s,i);e=this._insertBeforeOrAppend(e,r)}}),e){e._prev&&(e._prev._next=null),this._removalsHead=e;for(let i=e;null!==i;i=i._nextRemoved)i===this._mapHead&&(this._mapHead=null),this._records.delete(i.key),i._nextRemoved=i._next,i.previousValue=i.currentValue,i.currentValue=null,i._prev=null,i._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(t,e){if(t){const i=t._prev;return e._next=t,e._prev=i,t._prev=e,i&&(i._next=e),t===this._mapHead&&(this._mapHead=e),this._appendAfter=t,t}return this._appendAfter?(this._appendAfter._next=e,e._prev=this._appendAfter):this._mapHead=e,this._appendAfter=e,null}_getOrCreateRecordForKey(t,e){if(this._records.has(t)){const s=this._records.get(t);this._maybeAddToChanges(s,e);const r=s._prev,o=s._next;return r&&(r._next=o),o&&(o._prev=r),s._next=null,s._prev=null,s}const i=new K3(t);return this._records.set(t,i),i.currentValue=e,this._addToAdditions(i),i}_reset(){if(this.isDirty){let t;for(this._previousMapHead=this._mapHead,t=this._previousMapHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._changesHead;null!==t;t=t._nextChanged)t.previousValue=t.currentValue;for(t=this._additionsHead;null!=t;t=t._nextAdded)t.previousValue=t.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(t,e){Object.is(e,t.currentValue)||(t.previousValue=t.currentValue,t.currentValue=e,this._addToChanges(t))}_addToAdditions(t){null===this._additionsHead?this._additionsHead=this._additionsTail=t:(this._additionsTail._nextAdded=t,this._additionsTail=t)}_addToChanges(t){null===this._changesHead?this._changesHead=this._changesTail=t:(this._changesTail._nextChanged=t,this._changesTail=t)}_forEach(t,e){t instanceof Map?t.forEach(e):Object.keys(t).forEach(i=>e(t[i],i))}}class K3{constructor(t){this.key=t,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function OI(){return new Fu([new TI])}let Fu=(()=>{class n{constructor(e){this.factories=e}static create(e,i){if(null!=i){const s=i.factories.slice();e=e.concat(s)}return new n(e)}static extend(e){return{provide:n,useFactory:i=>n.create(e,i||OI()),deps:[[n,new vo,new Xt]]}}find(e){const i=this.factories.find(s=>s.supports(e));if(null!=i)return i;throw new Error(`Cannot find a differ supporting object '${e}' of type '${function(n){return n.name||typeof n}(e)}'`)}}return n.\u0275prov=le({token:n,providedIn:"root",factory:OI}),n})();function NI(){return new Bu([new II])}let Bu=(()=>{class n{constructor(e){this.factories=e}static create(e,i){if(i){const s=i.factories.slice();e=e.concat(s)}return new n(e)}static extend(e){return{provide:n,useFactory:i=>n.create(e,i||NI()),deps:[[n,new vo,new Xt]]}}find(e){const i=this.factories.find(s=>s.supports(e));if(i)return i;throw new Error(`Cannot find a differ supporting object '${e}'`)}}return n.\u0275prov=le({token:n,providedIn:"root",factory:NI}),n})();function V_(n,t,e,i,s=!1){for(;null!==e;){const r=t[e.index];if(null!==r&&i.push(Wt(r)),Ci(r))for(let a=10;a<r.length;a++){const u=r[a],h=u[1].firstChild;null!==h&&V_(u[1],u,h,i)}const o=e.type;if(8&o)V_(n,t,e.child,i);else if(32&o){const a=yl(e,t);let u;for(;u=a();)i.push(u)}else if(16&o){const a=gm(t,e);if(Array.isArray(a))i.push(...a);else{const u=bl(t[16]);V_(u[1],u,a,i,!0)}}e=s?e.projectionNext:e.next}return i}class Hf{constructor(t,e){this._lView=t,this._cdRefInjectingView=e,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const t=this._lView,e=t[1];return V_(e,t,e.firstChild,[])}get context(){return this._lView[8]}set context(t){this._lView[8]=t}get destroyed(){return 256==(256&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const t=this._lView[3];if(Ci(t)){const e=t[8],i=e?e.indexOf(this):-1;i>-1&&(Vd(t,i),uo(e,i))}this._attachedToViewContainer=!1}um(this._lView[1],this._lView)}onDestroy(t){i_(this._lView[1],this._lView,null,t)}markForCheck(){_f(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-129}reattach(){this._lView[2]|=128}detectChanges(){yf(this._lView[1],this._lView,this.context)}checkNoChanges(){!function(n,t,e){Rc(!0);try{yf(n,t,e)}finally{Rc(!1)}}(this._lView[1],this._lView,this.context)}attachToViewContainerRef(){if(this._appRef)throw new Error("This view is already attached directly to the ApplicationRef!");this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function(n,t){wl(n,t,t[11],2,null,null)}(this._lView[1],this._lView)}attachToAppRef(t){if(this._attachedToViewContainer)throw new Error("This view is already attached to a ViewContainer!");this._appRef=t}}class Q3 extends Hf{constructor(t){super(t),this._view=t}detectChanges(){f_(this._view)}checkNoChanges(){!function(n){Rc(!0);try{f_(n)}finally{Rc(!1)}}(this._view)}get context(){return null}}const J3=function(n){return function(n,t,e){if(Ko(n)&&!e){const i=ai(n.index,t);return new Hf(i,i)}return 47&n.type?new Hf(t[16],t):null}(Lt(),j(),16==(16&n))};let F_=(()=>{class n{}return n.__NG_ELEMENT_ID__=J3,n})();const tH=[new II],iH=new Fu([new TI]),sH=new Bu(tH),oH=function(){return B_(Lt(),j())};let Cs=(()=>{class n{}return n.__NG_ELEMENT_ID__=oH,n})();const aH=Cs,lH=class extends aH{constructor(t,e,i){super(),this._declarationLView=t,this._declarationTContainer=e,this.elementRef=i}createEmbeddedView(t){const e=this._declarationTContainer.tViews,i=Ml(this._declarationLView,e,t,16,null,e.declTNode,null,null,null,null);i[17]=this._declarationLView[this._declarationTContainer.index];const r=this._declarationLView[19];return null!==r&&(i[19]=r.createEmbeddedView(e)),Il(e,i,t),new Hf(i)}};function B_(n,t){return 4&n.type?new lH(t,n,Vu(n,t)):null}class $l{}const dH=function(){return VI(Lt(),j())};let Ds=(()=>{class n{}return n.__NG_ELEMENT_ID__=dH,n})();const pH=Ds,RI=class extends pH{constructor(t,e,i){super(),this._lContainer=t,this._hostTNode=e,this._hostLView=i}get element(){return Vu(this._hostTNode,this._hostLView)}get injector(){return new On(this._hostTNode,this._hostLView)}get parentInjector(){const t=In(this._hostTNode,this._hostLView);if(Mg(t)){const e=ea(t,this._hostLView),i=ro(t);return new On(e[1].data[i+8],e)}return new On(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(t){const e=LI(this._lContainer);return null!==e&&e[t]||null}get length(){return this._lContainer.length-10}createEmbeddedView(t,e,i){const s=t.createEmbeddedView(e||{});return this.insert(s,i),s}createComponent(t,e,i,s,r){const o=i||this.parentInjector;if(!r&&null==t.ngModule&&o){const u=o.get($l,null);u&&(r=u)}const a=t.create(o,s,void 0,r);return this.insert(a.hostView,e),a}insert(t,e){const i=t._lView,s=i[1];if(function(n){return Ci(n[3])}(i)){const f=this.indexOf(t);if(-1!==f)this.detach(f);else{const g=i[3],m=new RI(g,g[6],g[3]);m.detach(m.indexOf(t))}}const r=this._adjustIndex(e),o=this._lContainer;!function(n,t,e,i){const s=10+i,r=e.length;i>0&&(e[s-1][4]=t),i<r-10?(t[4]=e[s],dl(e,10+i,t)):(e.push(t),t[4]=null),t[3]=e;const o=t[17];null!==o&&e!==o&&function(n,t){const e=n[9];t[16]!==t[3][3][16]&&(n[2]=!0),null===e?n[9]=[t]:e.push(t)}(o,t);const a=t[19];null!==a&&a.insertView(n),t[2]|=128}(s,i,o,r);const a=qd(r,o),u=i[11],h=El(u,o[7]);return null!==h&&function(n,t,e,i,s,r){i[0]=s,i[6]=t,wl(n,i,e,1,s,r)}(s,o[6],u,i,h,a),t.attachToViewContainerRef(),dl(yw(o),r,t),t}move(t,e){return this.insert(t,e)}indexOf(t){const e=LI(this._lContainer);return null!==e?e.indexOf(t):-1}remove(t){const e=this._adjustIndex(t,-1),i=Vd(this._lContainer,e);i&&(uo(yw(this._lContainer),e),um(i[1],i))}detach(t){const e=this._adjustIndex(t,-1),i=Vd(this._lContainer,e);return i&&null!=uo(yw(this._lContainer),e)?new Hf(i):null}_adjustIndex(t,e=0){return null==t?this.length+e:t}};function LI(n){return n[8]}function yw(n){return n[8]||(n[8]=[])}function VI(n,t){let e;const i=t[n.index];if(Ci(i))e=i;else{let s;if(8&n.type)s=Wt(i);else{const r=t[11];s=r.createComment("");const o=Ie(n,t);Ar(r,El(r,o),s,function(n,t){return Dt(n)?n.nextSibling(t):t.nextSibling}(r,o),!1)}t[n.index]=e=d_(i,t,s,n),yu(t,e)}return new RI(e,n,t)}const Uu={};class iO extends Lu{constructor(t){super(),this.ngModule=t}resolveComponentFactory(t){const e=_n(t);return new rO(e,this.ngModule)}}function sO(n){const t=[];for(let e in n)n.hasOwnProperty(e)&&t.push({propName:n[e],templateName:e});return t}const uq=new _e("SCHEDULER_TOKEN",{providedIn:"root",factory:()=>ef});class rO extends CI{constructor(t,e){super(),this.componentDef=t,this.ngModule=e,this.componentType=t.type,this.selector=function(n){return n.map(nE).join(",")}(t.selectors),this.ngContentSelectors=t.ngContentSelectors?t.ngContentSelectors:[],this.isBoundToModule=!!e}get inputs(){return sO(this.componentDef.inputs)}get outputs(){return sO(this.componentDef.outputs)}create(t,e,i,s){const r=(s=s||this.ngModule)?function(n,t){return{get:(e,i,s)=>{const r=n.get(e,Uu,s);return r!==Uu||i===Uu?r:t.get(e,i,s)}}}(t,s.injector):t,o=r.get(Fl,oi),a=r.get(vw,null),u=o.createRenderer(null,this.componentDef),h=this.componentDef.selectors[0][0]||"div",f=i?function(n,t,e){if(Dt(n))return n.selectRootElement(t,e===Ft.ShadowDom);let i="string"==typeof t?n.querySelector(t):t;return i.textContent="",i}(u,i,this.componentDef.encapsulation):Rd(o.createRenderer(null,this.componentDef),h,function(n){const t=n.toLowerCase();return"svg"===t?V:"math"===t?"http://www.w3.org/1998/MathML/":null}(h)),g=this.componentDef.onPush?576:528,m=function(n,t){return{components:[],scheduler:n||ef,clean:VE,playerHandler:t||null,flags:0}}(),v=vu(0,null,null,1,0,null,null,null,null,null),E=Ml(null,v,m,g,null,null,o,u,a,r);let D,C;Lc(E);try{const L=function(n,t,e,i,s,r){const o=e[1];e[20]=n;const u=pa(o,20,2,"#host",null),h=u.mergedAttrs=t.hostAttrs;null!==h&&(Su(u,h,!0),null!==n&&(Un(s,n,h),null!==u.classes&&lu(s,n,u.classes),null!==u.styles&&jd(s,n,u.styles)));const f=i.createRenderer(n,t),g=Ml(e,_u(t),null,t.onPush?64:16,e[20],u,i,f,r||null,null);return o.firstCreatePass&&(qc(ui(u,e),o,t.type),h_(o,u),ff(u,e.length,1)),yu(e,g),e[20]=g}(f,this.componentDef,E,o,u);if(f)if(i)Un(u,f,["ng-version",kI.full]);else{const{attrs:N,classes:z}=function(n){const t=[],e=[];let i=1,s=2;for(;i<n.length;){let r=n[i];if("string"==typeof r)2===s?""!==r&&t.push(r,n[++i]):8===s&&e.push(r);else{if(!Xi(s))break;s=r}i++}return{attrs:t,classes:e}}(this.componentDef.selectors[0]);N&&Un(u,f,N),z&&z.length>0&&lu(u,f,z.join(" "))}if(C=Tc(v,20),void 0!==e){const N=C.projection=[];for(let z=0;z<this.ngContentSelectors.length;z++){const U=e[z];N.push(null!=U?Array.from(U):null)}}D=function(n,t,e,i,s){const r=e[1],o=function(n,t,e){const i=Lt();n.firstCreatePass&&(e.providersResolver&&e.providersResolver(e),pf(n,i,t,ga(n,t,1,null),e));const s=ia(t,n,i.directiveStart,i);bn(s,t);const r=Ie(i,t);return r&&bn(r,t),s}(r,e,t);if(i.components.push(o),n[8]=o,s&&s.forEach(u=>u(o,t)),t.contentQueries){const u=Lt();t.contentQueries(1,o,u.directiveStart)}const a=Lt();return!r.firstCreatePass||null===t.hostBindings&&null===t.hostAttrs||(wr(a.index),c_(e[1],a,0,a.directiveStart,a.directiveEnd,t),u_(t,o)),o}(L,this.componentDef,E,m,[dB]),Il(v,E,null)}finally{Ys()}return new fq(this.componentType,D,Vu(C,E),E,C)}}class fq extends class{}{constructor(t,e,i,s,r){super(),this.location=i,this._rootLView=s,this._tNode=r,this.instance=e,this.hostView=this.changeDetectorRef=new Q3(s),this.componentType=t}get injector(){return new On(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(t){this.hostView.onDestroy(t)}}const Gu=new Map;class mq extends $l{constructor(t,e){super(),this._parent=e,this._bootstrapComponents=[],this.injector=this,this.destroyCbs=[],this.componentFactoryResolver=new iO(this);const i=ut(t),s=function(n){return n[Ab]||null}(t);s&&uw(s),this._bootstrapComponents=Ji(i.bootstrap),this._r3Injector=__(t,e,[{provide:$l,useValue:this},{provide:Lu,useValue:this.componentFactoryResolver}],Oe(t)),this._r3Injector._resolveInjectorDefTypes(),this.instance=this.get(t)}get(t,e=Et.THROW_IF_NOT_FOUND,i=he.Default){return t===Et||t===$l||t===va?this:this._r3Injector.get(t,e,i)}destroy(){const t=this._r3Injector;!t.destroyed&&t.destroy(),this.destroyCbs.forEach(e=>e()),this.destroyCbs=null}onDestroy(t){this.destroyCbs.push(t)}}class Iw extends class{}{constructor(t){super(),this.moduleType=t,null!==ut(t)&&function(n){const t=new Set;!function e(i){const s=ut(i,!0),r=s.id;null!==r&&(function(n,t,e){if(t&&t!==e)throw new Error(`Duplicate module registered for ${n} - ${Oe(t)} vs ${Oe(t.name)}`)}(r,Gu.get(r),i),Gu.set(r,i));const o=Ji(s.imports);for(const a of o)t.has(a)||(t.add(a),e(a))}(n)}(t)}create(t){return new mq(this.moduleType,t)}}function lO(n,t,e,i,s){return function(n,t,e,i,s,r,o){const a=t+e;return Rl(n,a,s,r)?Ir(n,a+2,o?i.call(o,s,r):i(s,r)):Yf(n,a+2)}(j(),Mn(),n,t,e,i,s)}function Yf(n,t){const e=n[t];return e===ce?void 0:e}function ju(n,t){const e=Ye();let i;const s=n+20;e.firstCreatePass?(i=function(n,t){if(t)for(let e=t.length-1;e>=0;e--){const i=t[e];if(n===i.name)return i}throw new vr("302",`The pipe '${n}' could not be found!`)}(t,e.pipeRegistry),e.data[s]=i,i.onDestroy&&(e.destroyHooks||(e.destroyHooks=[])).push(s,i.onDestroy)):i=e.data[s];const r=i.factory||(i.factory=Zr(i.type)),o=Gs(F);try{const a=ta(!1),u=r();return ta(a),function(n,t,e,i){e>=n.data.length&&(n.data[e]=null,n.blueprint[e]=null),t[e]=i}(e,j(),s,u),u}finally{Gs(o)}}function Wu(n,t,e){const i=n+20,s=j(),r=function(n,t){return n[t]}(s,i);return function(n,t){nr.isWrapped(t)&&(t=nr.unwrap(t),n[zi()]=ce);return t}(s,function(n,t){return n[1].data[t].pure}(s,i)?function(n,t,e,i,s,r){const o=t+e;return Yn(n,o,s)?Ir(n,o+1,r?i.call(r,s):i(s)):Yf(n,o+1)}(s,Mn(),t,r.transform,e,r):r.transform(e))}function Ow(n){return t=>{setTimeout(n,void 0,t)}}const at=class extends qe{constructor(t=!1){super(),this.__isAsync=t}emit(t){super.next(t)}subscribe(t,e,i){var s,r,o;let a=t,u=e||(()=>null),h=i;if(t&&"object"==typeof t){const g=t;a=null===(s=g.next)||void 0===s?void 0:s.bind(g),u=null===(r=g.error)||void 0===r?void 0:r.bind(g),h=null===(o=g.complete)||void 0===o?void 0:o.bind(g)}this.__isAsync&&(u=Ow(u),a&&(a=Ow(a)),h&&(h=Ow(h)));const f=super.subscribe({next:a,error:u,complete:h});return t instanceof Ue&&t.add(f),f}};function Iq(){return this._results[Eu()]()}class G_{constructor(t=!1){this._emitDistinctChangesOnly=t,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const e=Eu(),i=G_.prototype;i[e]||(i[e]=Iq)}get changes(){return this._changes||(this._changes=new at)}get(t){return this._results[t]}map(t){return this._results.map(t)}filter(t){return this._results.filter(t)}find(t){return this._results.find(t)}reduce(t,e){return this._results.reduce(t,e)}forEach(t){this._results.forEach(t)}some(t){return this._results.some(t)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(t,e){const i=this;i.dirty=!1;const s=hi(t);(this._changesDetected=!function(n,t,e){if(n.length!==t.length)return!1;for(let i=0;i<n.length;i++){let s=n[i],r=t[i];if(e&&(s=e(s),r=e(r)),r!==s)return!1}return!0}(i._results,s,e))&&(i._results=s,i.length=s.length,i.last=s[this.length-1],i.first=s[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}Symbol;class Nw{constructor(t){this.queryList=t,this.matches=null}clone(){return new Nw(this.queryList)}setDirty(){this.queryList.setDirty()}}class Rw{constructor(t=[]){this.queries=t}createEmbeddedView(t){const e=t.queries;if(null!==e){const i=null!==t.contentQueries?t.contentQueries[0]:e.length,s=[];for(let r=0;r<i;r++){const o=e.getByIndex(r);s.push(this.queries[o.indexInDeclarationView].clone())}return new Rw(s)}return null}insertView(t){this.dirtyQueriesWithMatches(t)}detachView(t){this.dirtyQueriesWithMatches(t)}dirtyQueriesWithMatches(t){for(let e=0;e<this.queries.length;e++)null!==vO(t,e).matches&&this.queries[e].setDirty()}}class pO{constructor(t,e,i=null){this.predicate=t,this.flags=e,this.read=i}}class Lw{constructor(t=[]){this.queries=t}elementStart(t,e){for(let i=0;i<this.queries.length;i++)this.queries[i].elementStart(t,e)}elementEnd(t){for(let e=0;e<this.queries.length;e++)this.queries[e].elementEnd(t)}embeddedTView(t){let e=null;for(let i=0;i<this.length;i++){const s=null!==e?e.length:0,r=this.getByIndex(i).embeddedTView(t,s);r&&(r.indexInDeclarationView=i,null!==e?e.push(r):e=[r])}return null!==e?new Lw(e):null}template(t,e){for(let i=0;i<this.queries.length;i++)this.queries[i].template(t,e)}getByIndex(t){return this.queries[t]}get length(){return this.queries.length}track(t){this.queries.push(t)}}class Vw{constructor(t,e=-1){this.metadata=t,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=e}elementStart(t,e){this.isApplyingToNode(e)&&this.matchTNode(t,e)}elementEnd(t){this._declarationNodeIndex===t.index&&(this._appliesToNextNode=!1)}template(t,e){this.elementStart(t,e)}embeddedTView(t,e){return this.isApplyingToNode(t)?(this.crossesNgTemplate=!0,this.addMatch(-t.index,e),new Vw(this.metadata)):null}isApplyingToNode(t){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const e=this._declarationNodeIndex;let i=t.parent;for(;null!==i&&8&i.type&&i.index!==e;)i=i.parent;return e===(null!==i?i.index:-1)}return this._appliesToNextNode}matchTNode(t,e){const i=this.metadata.predicate;if(Array.isArray(i))for(let s=0;s<i.length;s++){const r=i[s];this.matchTNodeWithReadOption(t,e,Rq(e,r)),this.matchTNodeWithReadOption(t,e,Gc(e,t,r,!1,!1))}else i===Cs?4&e.type&&this.matchTNodeWithReadOption(t,e,-1):this.matchTNodeWithReadOption(t,e,Gc(e,t,i,!1,!1))}matchTNodeWithReadOption(t,e,i){if(null!==i){const s=this.metadata.read;if(null!==s)if(s===Pt||s===Ds||s===Cs&&4&e.type)this.addMatch(e.index,-2);else{const r=Gc(e,t,s,!1,!1);null!==r&&this.addMatch(e.index,r)}else this.addMatch(e.index,i)}}addMatch(t,e){null===this.matches?this.matches=[t,e]:this.matches.push(t,e)}}function Rq(n,t){const e=n.localNames;if(null!==e)for(let i=0;i<e.length;i+=2)if(e[i]===t)return e[i+1];return null}function Vq(n,t,e,i){return-1===e?function(n,t){return 11&n.type?Vu(n,t):4&n.type?B_(n,t):null}(t,n):-2===e?function(n,t,e){return e===Pt?Vu(t,n):e===Cs?B_(t,n):e===Ds?VI(t,n):void 0}(n,t,i):ia(n,n[1],e,t)}function gO(n,t,e,i){const s=t[19].queries[i];if(null===s.matches){const r=n.data,o=e.matches,a=[];for(let u=0;u<o.length;u+=2){const h=o[u];a.push(h<0?null:Vq(t,r[h],o[u+1],e.metadata.read))}s.matches=a}return s.matches}function Fw(n,t,e,i){const s=n.queries.getByIndex(e),r=s.matches;if(null!==r){const o=gO(n,t,s,e);for(let a=0;a<r.length;a+=2){const u=r[a];if(u>0)i.push(o[a/2]);else{const h=r[a+1],f=t[-u];for(let g=10;g<f.length;g++){const m=f[g];m[17]===m[3]&&Fw(m[1],m,h,i)}if(null!==f[9]){const g=f[9];for(let m=0;m<g.length;m++){const v=g[m];Fw(v[1],v,h,i)}}}}}return i}function Ul(n){const t=j(),e=Ye(),i=Ag();sd(i+1);const s=vO(e,i);if(n.dirty&&Eg(t)===(2==(2&s.metadata.flags))){if(null===s.matches)n.reset([]);else{const r=s.crossesNgTemplate?Fw(e,t,i,[]):gO(e,t,s,i);n.reset(r,PI),n.notifyOnChanges()}return!0}return!1}function j_(n,t,e){const i=Ye();i.firstCreatePass&&(_O(i,new pO(n,t,e),-1),2==(2&t)&&(i.staticViewQueries=!0)),mO(i,j(),t)}function W_(n,t,e,i){const s=Ye();if(s.firstCreatePass){const r=Lt();_O(s,new pO(t,e,i),r.index),function(n,t){const e=n.contentQueries||(n.contentQueries=[]);t!==(e.length?e[e.length-1]:-1)&&e.push(n.queries.length-1,t)}(s,n),2==(2&e)&&(s.staticContentQueries=!0)}mO(s,j(),e)}function Gl(){return function(n,t){return n[19].queries[t].queryList}(j(),Ag())}function mO(n,t,e){const i=new G_(4==(4&e));i_(n,t,i,i.destroy),null===t[19]&&(t[19]=new Rw),t[19].queries.push(new Nw(i))}function _O(n,t,e){null===n.queries&&(n.queries=new Lw),n.queries.track(new Vw(t,e))}function vO(n,t){return n.queries.getByIndex(t)}const Y_=new _e("Application Initializer");let Ku=(()=>{class n{constructor(e){this.appInits=e,this.resolve=R_,this.reject=R_,this.initialized=!1,this.done=!1,this.donePromise=new Promise((i,s)=>{this.resolve=i,this.reject=s})}runInitializers(){if(this.initialized)return;const e=[],i=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let s=0;s<this.appInits.length;s++){const r=this.appInits[s]();if(k_(r))e.push(r);else if(ow(r)){const o=new Promise((a,u)=>{r.subscribe({complete:a,error:u})});e.push(o)}}Promise.all(e).then(()=>{i()}).catch(s=>{this.reject(s)}),0===e.length&&i(),this.initialized=!0}}return n.\u0275fac=function(e){return new(e||n)($(Y_,8))},n.\u0275prov=le({token:n,factory:n.\u0275fac}),n})();const Xf=new _e("AppId"),p4={provide:Xf,useFactory:function(){return`${Gw()}${Gw()}${Gw()}`},deps:[]};function Gw(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const LO=new _e("Platform Initializer"),ep=new _e("Platform ID"),g4=new _e("appBootstrapListener");let jw=(()=>{class n{log(e){console.log(e)}warn(e){console.warn(e)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=le({token:n,factory:n.\u0275fac}),n})();const Sa=new _e("LocaleId"),VO=new _e("DefaultCurrencyCode");class _4{constructor(t,e){this.ngModuleFactory=t,this.componentFactories=e}}const Ww=function(n){return new Iw(n)},v4=Ww,y4=function(n){return Promise.resolve(Ww(n))},FO=function(n){const t=Ww(n),i=Ji(ut(n).declarations).reduce((s,r)=>{const o=_n(r);return o&&s.push(new rO(o)),s},[]);return new _4(t,i)},b4=FO,S4=function(n){return Promise.resolve(FO(n))};let Z_=(()=>{class n{constructor(){this.compileModuleSync=v4,this.compileModuleAsync=y4,this.compileModuleAndAllComponentsSync=b4,this.compileModuleAndAllComponentsAsync=S4}clearCache(){}clearCacheFor(e){}getModuleId(e){}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=le({token:n,factory:n.\u0275fac}),n})();const C4=(()=>Promise.resolve(0))();function zw(n){"undefined"==typeof Zone?C4.then(()=>{n&&n.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",n)}class Ve{constructor({enableLongStackTrace:t=!1,shouldCoalesceEventChangeDetection:e=!1,shouldCoalesceRunChangeDetection:i=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new at(!1),this.onMicrotaskEmpty=new at(!1),this.onStable=new at(!1),this.onError=new at(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched();const s=this;s._nesting=0,s._outer=s._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(s._inner=s._inner.fork(new Zone.TaskTrackingZoneSpec)),t&&Zone.longStackTraceZoneSpec&&(s._inner=s._inner.fork(Zone.longStackTraceZoneSpec)),s.shouldCoalesceEventChangeDetection=!i&&e,s.shouldCoalesceRunChangeDetection=i,s.lastRequestAnimationFrameId=-1,s.nativeRequestAnimationFrame=function(){let n=tt.requestAnimationFrame,t=tt.cancelAnimationFrame;if("undefined"!=typeof Zone&&n&&t){const e=n[Zone.__symbol__("OriginalDelegate")];e&&(n=e);const i=t[Zone.__symbol__("OriginalDelegate")];i&&(t=i)}return{nativeRequestAnimationFrame:n,nativeCancelAnimationFrame:t}}().nativeRequestAnimationFrame,function(n){const t=()=>{!function(n){n.isCheckStableRunning||-1!==n.lastRequestAnimationFrameId||(n.lastRequestAnimationFrameId=n.nativeRequestAnimationFrame.call(tt,()=>{n.fakeTopEventTask||(n.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{n.lastRequestAnimationFrameId=-1,Yw(n),n.isCheckStableRunning=!0,Kw(n),n.isCheckStableRunning=!1},void 0,()=>{},()=>{})),n.fakeTopEventTask.invoke()}),Yw(n))}(n)};n._inner=n._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(e,i,s,r,o,a)=>{try{return BO(n),e.invokeTask(s,r,o,a)}finally{(n.shouldCoalesceEventChangeDetection&&"eventTask"===r.type||n.shouldCoalesceRunChangeDetection)&&t(),$O(n)}},onInvoke:(e,i,s,r,o,a,u)=>{try{return BO(n),e.invoke(s,r,o,a,u)}finally{n.shouldCoalesceRunChangeDetection&&t(),$O(n)}},onHasTask:(e,i,s,r)=>{e.hasTask(s,r),i===s&&("microTask"==r.change?(n._hasPendingMicrotasks=r.microTask,Yw(n),Kw(n)):"macroTask"==r.change&&(n.hasPendingMacrotasks=r.macroTask))},onHandleError:(e,i,s,r)=>(e.handleError(s,r),n.runOutsideAngular(()=>n.onError.emit(r)),!1)})}(s)}static isInAngularZone(){return!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Ve.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}static assertNotInAngularZone(){if(Ve.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}run(t,e,i){return this._inner.run(t,e,i)}runTask(t,e,i,s){const r=this._inner,o=r.scheduleEventTask("NgZoneEvent: "+s,t,A4,R_,R_);try{return r.runTask(o,e,i)}finally{r.cancelTask(o)}}runGuarded(t,e,i){return this._inner.runGuarded(t,e,i)}runOutsideAngular(t){return this._outer.run(t)}}const A4={};function Kw(n){if(0==n._nesting&&!n.hasPendingMicrotasks&&!n.isStable)try{n._nesting++,n.onMicrotaskEmpty.emit(null)}finally{if(n._nesting--,!n.hasPendingMicrotasks)try{n.runOutsideAngular(()=>n.onStable.emit(null))}finally{n.isStable=!0}}}function Yw(n){n.hasPendingMicrotasks=!!(n._hasPendingMicrotasks||(n.shouldCoalesceEventChangeDetection||n.shouldCoalesceRunChangeDetection)&&-1!==n.lastRequestAnimationFrameId)}function BO(n){n._nesting++,n.isStable&&(n.isStable=!1,n.onUnstable.emit(null))}function $O(n){n._nesting--,Kw(n)}class T4{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new at,this.onMicrotaskEmpty=new at,this.onStable=new at,this.onError=new at}run(t,e,i){return t.apply(e,i)}runGuarded(t,e,i){return t.apply(e,i)}runOutsideAngular(t){return t()}runTask(t,e,i,s){return t.apply(e,i)}}let Qw=(()=>{class n{constructor(e){this._ngZone=e,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),e.run(()=>{this.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Ve.assertNotInAngularZone(),zw(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())zw(()=>{for(;0!==this._callbacks.length;){let e=this._callbacks.pop();clearTimeout(e.timeoutId),e.doneCb(this._didWork)}this._didWork=!1});else{let e=this.getPendingTasks();this._callbacks=this._callbacks.filter(i=>!i.updateCb||!i.updateCb(e)||(clearTimeout(i.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(e=>({source:e.source,creationLocation:e.creationLocation,data:e.data})):[]}addCallback(e,i,s){let r=-1;i&&i>0&&(r=setTimeout(()=>{this._callbacks=this._callbacks.filter(o=>o.timeoutId!==r),e(this._didWork,this.getPendingTasks())},i)),this._callbacks.push({doneCb:e,timeoutId:r,updateCb:s})}whenStable(e,i,s){if(s&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(e,i,s),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}findProviders(e,i,s){return[]}}return n.\u0275fac=function(e){return new(e||n)($(Ve))},n.\u0275prov=le({token:n,factory:n.\u0275fac}),n})(),HO=(()=>{class n{constructor(){this._applications=new Map,Zw.addToWindow(this)}registerApplication(e,i){this._applications.set(e,i)}unregisterApplication(e){this._applications.delete(e)}unregisterAllApplications(){this._applications.clear()}getTestability(e){return this._applications.get(e)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(e,i=!0){return Zw.findTestabilityInTree(this,e,i)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=le({token:n,factory:n.\u0275fac}),n})();class x4{addToWindow(t){}findTestabilityInTree(t,e,i){return null}}let Zw=new x4,qO=!0,UO=!1;let lr;const jO=new _e("AllowMultipleToken");function WO(n,t,e=[]){const i=`Platform: ${t}`,s=new _e(i);return(r=[])=>{let o=zO();if(!o||o.injector.get(jO,!1))if(n)n(e.concat(r).concat({provide:s,useValue:!0}));else{const a=e.concat(r).concat({provide:s,useValue:!0},{provide:Ao,useValue:"platform"});!function(n){if(lr&&!lr.destroyed&&!lr.injector.get(jO,!1))throw new Error("There can be only one platform. Destroy the previous one to create a new one.");lr=n.get(KO);const t=n.get(LO,null);t&&t.forEach(e=>e())}(Et.create({providers:a,name:i}))}return function(n){const t=zO();if(!t)throw new Error("No platform exists!");if(!t.injector.get(n,null))throw new Error("A platform with a different configuration has been created. Please destroy it first.");return t}(s)}}function zO(){return lr&&!lr.destroyed?lr:null}let KO=(()=>{class n{constructor(e){this._injector=e,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(e,i){const a=function(n,t){let e;return e="noop"===n?new T4:("zone.js"===n?void 0:n)||new Ve({enableLongStackTrace:(UO=!0,qO),shouldCoalesceEventChangeDetection:!!(null==t?void 0:t.ngZoneEventCoalescing),shouldCoalesceRunChangeDetection:!!(null==t?void 0:t.ngZoneRunCoalescing)}),e}(i?i.ngZone:void 0,{ngZoneEventCoalescing:i&&i.ngZoneEventCoalescing||!1,ngZoneRunCoalescing:i&&i.ngZoneRunCoalescing||!1}),u=[{provide:Ve,useValue:a}];return a.run(()=>{const h=Et.create({providers:u,parent:this.injector,name:e.moduleType.name}),f=e.create(h),g=f.injector.get(Co,null);if(!g)throw new Error("No ErrorHandler. Is platform module (BrowserModule) included?");return a.runOutsideAngular(()=>{const m=a.onError.subscribe({next:v=>{g.handleError(v)}});f.onDestroy(()=>{Jw(this._modules,f),m.unsubscribe()})}),function(n,t,e){try{const i=e();return k_(i)?i.catch(s=>{throw t.runOutsideAngular(()=>n.handleError(s)),s}):i}catch(i){throw t.runOutsideAngular(()=>n.handleError(i)),i}}(g,a,()=>{const m=f.injector.get(Ku);return m.runInitializers(),m.donePromise.then(()=>(uw(f.injector.get(Sa,x_)||x_),this._moduleDoBootstrap(f),f))})})}bootstrapModule(e,i=[]){const s=YO({},i);return function(n,t,e){const i=new Iw(e);return Promise.resolve(i)}(0,0,e).then(r=>this.bootstrapModuleFactory(r,s))}_moduleDoBootstrap(e){const i=e.injector.get(tp);if(e._bootstrapComponents.length>0)e._bootstrapComponents.forEach(s=>i.bootstrap(s));else{if(!e.instance.ngDoBootstrap)throw new Error(`The module ${Oe(e.instance.constructor)} was bootstrapped, but it does not declare "@NgModule.bootstrap" components nor a "ngDoBootstrap" method. Please define one of these.`);e.instance.ngDoBootstrap(i)}this._modules.push(e)}onDestroy(e){this._destroyListeners.push(e)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Error("The platform has already been destroyed!");this._modules.slice().forEach(e=>e.destroy()),this._destroyListeners.forEach(e=>e()),this._destroyed=!0}get destroyed(){return this._destroyed}}return n.\u0275fac=function(e){return new(e||n)($(Et))},n.\u0275prov=le({token:n,factory:n.\u0275fac}),n})();function YO(n,t){return Array.isArray(t)?t.reduce(YO,n):Object.assign(Object.assign({},n),t)}let tp=(()=>{class n{constructor(e,i,s,r,o){this._zone=e,this._injector=i,this._exceptionHandler=s,this._componentFactoryResolver=r,this._initStatus=o,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const a=new He(h=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{h.next(this._stable),h.complete()})}),u=new He(h=>{let f;this._zone.runOutsideAngular(()=>{f=this._zone.onStable.subscribe(()=>{Ve.assertNotInAngularZone(),zw(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,h.next(!0))})})});const g=this._zone.onUnstable.subscribe(()=>{Ve.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{h.next(!1)}))});return()=>{f.unsubscribe(),g.unsubscribe()}});this.isStable=_r(a,u.pipe(n=>bc()(function(n,t){return function(i){let s;s="function"==typeof n?n:function(){return n};const r=Object.create(i,Nh);return r.source=i,r.subjectFactory=s,r}}(fb)(n))))}bootstrap(e,i){if(!this._initStatus.done)throw new Error("Cannot bootstrap as there are still asynchronous initializers running. Bootstrap components in the `ngDoBootstrap` method of the root module.");let s;s=e instanceof CI?e:this._componentFactoryResolver.resolveComponentFactory(e),this.componentTypes.push(s.componentType);const r=function(n){return n.isBoundToModule}(s)?void 0:this._injector.get($l),a=s.create(Et.NULL,[],i||s.selector,r),u=a.location.nativeElement,h=a.injector.get(Qw,null),f=h&&a.injector.get(HO);return h&&f&&f.registerApplication(u,h),a.onDestroy(()=>{this.detachView(a.hostView),Jw(this.components,a),f&&f.unregisterApplication(u)}),this._loadComponent(a),a}tick(){if(this._runningTick)throw new Error("ApplicationRef.tick is called recursively");try{this._runningTick=!0;for(let e of this._views)e.detectChanges()}catch(e){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(e))}finally{this._runningTick=!1}}attachView(e){const i=e;this._views.push(i),i.attachToAppRef(this)}detachView(e){const i=e;Jw(this._views,i),i.detachFromAppRef()}_loadComponent(e){this.attachView(e.hostView),this.tick(),this.components.push(e),this._injector.get(g4,[]).concat(this._bootstrapListeners).forEach(s=>s(e))}ngOnDestroy(){this._views.slice().forEach(e=>e.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}get viewCount(){return this._views.length}}return n.\u0275fac=function(e){return new(e||n)($(Ve),$(Et),$(Co),$(Lu),$(Ku))},n.\u0275prov=le({token:n,factory:n.\u0275fac}),n})();function Jw(n,t){const e=n.indexOf(t);e>-1&&n.splice(e,1)}const iU=WO(null,"core",[{provide:ep,useValue:"unknown"},{provide:KO,deps:[Et]},{provide:HO,deps:[]},{provide:jw,deps:[]}]),lU=[{provide:tp,useClass:tp,deps:[Ve,Et,Co,Lu,Ku]},{provide:uq,deps:[Ve],useFactory:function(n){let t=[];return n.onStable.subscribe(()=>{for(;t.length;)t.pop()()}),function(e){t.push(e)}}},{provide:Ku,useClass:Ku,deps:[[new Xt,Y_]]},{provide:Z_,useClass:Z_,deps:[]},p4,{provide:Fu,useFactory:function(){return iH},deps:[]},{provide:Bu,useFactory:function(){return sH},deps:[]},{provide:Sa,useFactory:function(n){return uw(n=n||"undefined"!=typeof $localize&&$localize.locale||x_),n},deps:[[new an(Sa),new Xt,new vo]]},{provide:VO,useValue:"USD"}];let uU=(()=>{class n{constructor(e){}}return n.\u0275fac=function(e){return new(e||n)($(tp))},n.\u0275mod=nn({type:n}),n.\u0275inj=jt({providers:lU}),n})(),av=null;function zl(){return av}const Ge=new _e("DocumentToken");var ln=(()=>((ln=ln||{})[ln.Zero=0]="Zero",ln[ln.One=1]="One",ln[ln.Two=2]="Two",ln[ln.Few=3]="Few",ln[ln.Many=4]="Many",ln[ln.Other=5]="Other",ln))();const vG=function(n){return function(n){const t=function(n){return n.toLowerCase().replace(/_/g,"-")}(n);let e=JM(t);if(e)return e;const i=t.split("-")[0];if(e=JM(i),e)return e;if("en"===i)return R$;throw new Error(`Missing locale data for the locale "${n}".`)}(n)[te.PluralCase]};class _v{}let zG=(()=>{class n extends _v{constructor(e){super(),this.locale=e}getPluralCategory(e,i){switch(vG(i||this.locale)(e)){case ln.Zero:return"zero";case ln.One:return"one";case ln.Two:return"two";case ln.Few:return"few";case ln.Many:return"many";default:return"other"}}}return n.\u0275fac=function(e){return new(e||n)($(Sa))},n.\u0275prov=le({token:n,factory:n.\u0275fac}),n})(),ON=(()=>{class n{constructor(e,i,s,r){this._iterableDiffers=e,this._keyValueDiffers=i,this._ngEl=s,this._renderer=r,this._iterableDiffer=null,this._keyValueDiffer=null,this._initialClasses=[],this._rawClass=null}set klass(e){this._removeClasses(this._initialClasses),this._initialClasses="string"==typeof e?e.split(/\s+/):[],this._applyClasses(this._initialClasses),this._applyClasses(this._rawClass)}set ngClass(e){this._removeClasses(this._rawClass),this._applyClasses(this._initialClasses),this._iterableDiffer=null,this._keyValueDiffer=null,this._rawClass="string"==typeof e?e.split(/\s+/):e,this._rawClass&&(If(this._rawClass)?this._iterableDiffer=this._iterableDiffers.find(this._rawClass).create():this._keyValueDiffer=this._keyValueDiffers.find(this._rawClass).create())}ngDoCheck(){if(this._iterableDiffer){const e=this._iterableDiffer.diff(this._rawClass);e&&this._applyIterableChanges(e)}else if(this._keyValueDiffer){const e=this._keyValueDiffer.diff(this._rawClass);e&&this._applyKeyValueChanges(e)}}_applyKeyValueChanges(e){e.forEachAddedItem(i=>this._toggleClass(i.key,i.currentValue)),e.forEachChangedItem(i=>this._toggleClass(i.key,i.currentValue)),e.forEachRemovedItem(i=>{i.previousValue&&this._toggleClass(i.key,!1)})}_applyIterableChanges(e){e.forEachAddedItem(i=>{if("string"!=typeof i.item)throw new Error(`NgClass can only toggle CSS classes expressed as strings, got ${Oe(i.item)}`);this._toggleClass(i.item,!0)}),e.forEachRemovedItem(i=>this._toggleClass(i.item,!1))}_applyClasses(e){e&&(Array.isArray(e)||e instanceof Set?e.forEach(i=>this._toggleClass(i,!0)):Object.keys(e).forEach(i=>this._toggleClass(i,!!e[i])))}_removeClasses(e){e&&(Array.isArray(e)||e instanceof Set?e.forEach(i=>this._toggleClass(i,!1)):Object.keys(e).forEach(i=>this._toggleClass(i,!1)))}_toggleClass(e,i){(e=e.trim())&&e.split(/\s+/g).forEach(s=>{i?this._renderer.addClass(this._ngEl.nativeElement,s):this._renderer.removeClass(this._ngEl.nativeElement,s)})}}return n.\u0275fac=function(e){return new(e||n)(F(Fu),F(Bu),F(Pt),F(Bl))},n.\u0275dir=se({type:n,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"}}),n})();class QG{constructor(t,e,i,s){this.$implicit=t,this.ngForOf=e,this.index=i,this.count=s}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let lp=(()=>{class n{constructor(e,i,s){this._viewContainer=e,this._template=i,this._differs=s,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(e){this._ngForOf=e,this._ngForOfDirty=!0}set ngForTrackBy(e){this._trackByFn=e}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(e){e&&(this._template=e)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const e=this._ngForOf;if(!this._differ&&e)try{this._differ=this._differs.find(e).create(this.ngForTrackBy)}catch(i){throw new Error(`Cannot find a differ supporting object '${e}' of type '${function(n){return n.name||typeof n}(e)}'. NgFor only supports binding to Iterables such as Arrays.`)}}if(this._differ){const e=this._differ.diff(this._ngForOf);e&&this._applyChanges(e)}}_applyChanges(e){const i=[];e.forEachOperation((s,r,o)=>{if(null==s.previousIndex){const a=this._viewContainer.createEmbeddedView(this._template,new QG(null,this._ngForOf,-1,-1),null===o?void 0:o),u=new NN(s,a);i.push(u)}else if(null==o)this._viewContainer.remove(null===r?void 0:r);else if(null!==r){const a=this._viewContainer.get(r);this._viewContainer.move(a,o);const u=new NN(s,a);i.push(u)}});for(let s=0;s<i.length;s++)this._perViewChange(i[s].view,i[s].record);for(let s=0,r=this._viewContainer.length;s<r;s++){const o=this._viewContainer.get(s);o.context.index=s,o.context.count=r,o.context.ngForOf=this._ngForOf}e.forEachIdentityChange(s=>{this._viewContainer.get(s.currentIndex).context.$implicit=s.item})}_perViewChange(e,i){e.context.$implicit=i.item}static ngTemplateContextGuard(e,i){return!0}}return n.\u0275fac=function(e){return new(e||n)(F(Ds),F(Cs),F(Fu))},n.\u0275dir=se({type:n,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}}),n})();class NN{constructor(t,e){this.record=t,this.view=e}}let cp=(()=>{class n{constructor(e,i){this._viewContainer=e,this._context=new JG,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=i}set ngIf(e){this._context.$implicit=this._context.ngIf=e,this._updateView()}set ngIfThen(e){RN("ngIfThen",e),this._thenTemplateRef=e,this._thenViewRef=null,this._updateView()}set ngIfElse(e){RN("ngIfElse",e),this._elseTemplateRef=e,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(e,i){return!0}}return n.\u0275fac=function(e){return new(e||n)(F(Ds),F(Cs))},n.\u0275dir=se({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}}),n})();class JG{constructor(){this.$implicit=null,this.ngIf=null}}function RN(n,t){if(t&&!t.createEmbeddedView)throw new Error(`${n} must be a TemplateRef, but received '${Oe(t)}'.`)}let wC=(()=>{class n{constructor(e){this.differs=e,this.keyValues=[],this.compareFn=VN}transform(e,i=VN){if(!e||!(e instanceof Map)&&"object"!=typeof e)return null;this.differ||(this.differ=this.differs.find(e).create());const s=this.differ.diff(e),r=i!==this.compareFn;return s&&(this.keyValues=[],s.forEachItem(o=>{this.keyValues.push(function(n,t){return{key:n,value:t}}(o.key,o.currentValue))})),(s||r)&&(this.keyValues.sort(i),this.compareFn=i),this.keyValues}}return n.\u0275fac=function(e){return new(e||n)(F(Bu,16))},n.\u0275pipe=Hn({name:"keyvalue",type:n,pure:!1}),n})();function VN(n,t){const e=n.key,i=t.key;if(e===i)return 0;if(void 0===e)return 1;if(void 0===i)return-1;if(null===e)return 1;if(null===i)return-1;if("string"==typeof e&&"string"==typeof i)return e<i?-1:1;if("number"==typeof e&&"number"==typeof i)return e-i;if("boolean"==typeof e&&"boolean"==typeof i)return e<i?-1:1;const s=String(e),r=String(i);return s==r?0:s<r?-1:1}let FN=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=nn({type:n}),n.\u0275inj=jt({providers:[{provide:_v,useClass:zG}]}),n})();const BN="browser";class AC extends class extends class{}{constructor(){super(...arguments),this.supportsDOMEvents=!0}}{static makeCurrent(){!function(n){av||(av=n)}(new AC)}onAndCancel(t,e,i){return t.addEventListener(e,i,!1),()=>{t.removeEventListener(e,i,!1)}}dispatchEvent(t,e){t.dispatchEvent(e)}remove(t){t.parentNode&&t.parentNode.removeChild(t)}createElement(t,e){return(e=e||this.getDefaultDocument()).createElement(t)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(t){return t.nodeType===Node.ELEMENT_NODE}isShadowRoot(t){return t instanceof DocumentFragment}getGlobalEventTarget(t,e){return"window"===e?window:"document"===e?t:"body"===e?t.body:null}getBaseHref(t){const e=(up=up||document.querySelector("base"),up?up.getAttribute("href"):null);return null==e?null:function(n){vv=vv||document.createElement("a"),vv.setAttribute("href",n);const t=vv.pathname;return"/"===t.charAt(0)?t:`/${t}`}(e)}resetBaseElement(){up=null}getUserAgent(){return window.navigator.userAgent}getCookie(t){return function(n,t){t=encodeURIComponent(t);for(const e of n.split(";")){const i=e.indexOf("="),[s,r]=-1==i?[e,""]:[e.slice(0,i),e.slice(i+1)];if(s.trim()===t)return decodeURIComponent(r)}return null}(document.cookie,t)}}let vv,up=null;const HN=new _e("TRANSITION_ID"),O8=[{provide:Y_,useFactory:function(n,t,e){return()=>{e.get(Ku).donePromise.then(()=>{const i=zl(),s=t.querySelectorAll(`style[ng-transition="${n}"]`);for(let r=0;r<s.length;r++)i.remove(s[r])})}},deps:[HN,Ge,Et],multi:!0}];class PC{static init(){!function(n){Zw=n}(new PC)}addToWindow(t){tt.getAngularTestability=(i,s=!0)=>{const r=t.findTestabilityInTree(i,s);if(null==r)throw new Error("Could not find testability for element.");return r},tt.getAllAngularTestabilities=()=>t.getAllTestabilities(),tt.getAllAngularRootElements=()=>t.getAllRootElements(),tt.frameworkStabilizers||(tt.frameworkStabilizers=[]),tt.frameworkStabilizers.push(i=>{const s=tt.getAllAngularTestabilities();let r=s.length,o=!1;const a=function(u){o=o||u,r--,0==r&&i(o)};s.forEach(function(u){u.whenStable(a)})})}findTestabilityInTree(t,e,i){if(null==e)return null;const s=t.getTestability(e);return null!=s?s:i?zl().isShadowRoot(e)?this.findTestabilityInTree(t,e.host,!0):this.findTestabilityInTree(t,e.parentElement,!0):null}}let N8=(()=>{class n{build(){return new XMLHttpRequest}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=le({token:n,factory:n.\u0275fac}),n})();const hp=new _e("EventManagerPlugins");let bv=(()=>{class n{constructor(e,i){this._zone=i,this._eventNameToPlugin=new Map,e.forEach(s=>s.manager=this),this._plugins=e.slice().reverse()}addEventListener(e,i,s){return this._findPluginFor(i).addEventListener(e,i,s)}addGlobalEventListener(e,i,s){return this._findPluginFor(i).addGlobalEventListener(e,i,s)}getZone(){return this._zone}_findPluginFor(e){const i=this._eventNameToPlugin.get(e);if(i)return i;const s=this._plugins;for(let r=0;r<s.length;r++){const o=s[r];if(o.supports(e))return this._eventNameToPlugin.set(e,o),o}throw new Error(`No event manager plugin found for event ${e}`)}}return n.\u0275fac=function(e){return new(e||n)($(hp),$(Ve))},n.\u0275prov=le({token:n,factory:n.\u0275fac}),n})();class kC{constructor(t){this._doc=t}addGlobalEventListener(t,e,i){const s=zl().getGlobalEventTarget(this._doc,t);if(!s)throw new Error(`Unsupported event target ${s} for event ${e}`);return this.addEventListener(s,e,i)}}let UN=(()=>{class n{constructor(){this._stylesSet=new Set}addStyles(e){const i=new Set;e.forEach(s=>{this._stylesSet.has(s)||(this._stylesSet.add(s),i.add(s))}),this.onStylesAdded(i)}onStylesAdded(e){}getAllStyles(){return Array.from(this._stylesSet)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=le({token:n,factory:n.\u0275fac}),n})(),dp=(()=>{class n extends UN{constructor(e){super(),this._doc=e,this._hostNodes=new Map,this._hostNodes.set(e.head,[])}_addStylesToHost(e,i,s){e.forEach(r=>{const o=this._doc.createElement("style");o.textContent=r,s.push(i.appendChild(o))})}addHost(e){const i=[];this._addStylesToHost(this._stylesSet,e,i),this._hostNodes.set(e,i)}removeHost(e){const i=this._hostNodes.get(e);i&&i.forEach(GN),this._hostNodes.delete(e)}onStylesAdded(e){this._hostNodes.forEach((i,s)=>{this._addStylesToHost(e,s,i)})}ngOnDestroy(){this._hostNodes.forEach(e=>e.forEach(GN))}}return n.\u0275fac=function(e){return new(e||n)($(Ge))},n.\u0275prov=le({token:n,factory:n.\u0275fac}),n})();function GN(n){zl().remove(n)}const TC={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},xC=/%COMP%/g;function Sv(n,t,e){for(let i=0;i<t.length;i++){let s=t[i];Array.isArray(s)?Sv(n,s,e):(s=s.replace(xC,n),e.push(s))}return e}function zN(n){return t=>{if("__ngUnwrap__"===t)return n;!1===n(t)&&(t.preventDefault(),t.returnValue=!1)}}let Ev=(()=>{class n{constructor(e,i,s){this.eventManager=e,this.sharedStylesHost=i,this.appId=s,this.rendererByCompId=new Map,this.defaultRenderer=new MC(e)}createRenderer(e,i){if(!e||!i)return this.defaultRenderer;switch(i.encapsulation){case Ft.Emulated:{let s=this.rendererByCompId.get(i.id);return s||(s=new Y8(this.eventManager,this.sharedStylesHost,i,this.appId),this.rendererByCompId.set(i.id,s)),s.applyToHost(e),s}case 1:case Ft.ShadowDom:return new Q8(this.eventManager,this.sharedStylesHost,e,i);default:if(!this.rendererByCompId.has(i.id)){const s=Sv(i.id,i.styles,[]);this.sharedStylesHost.addStyles(s),this.rendererByCompId.set(i.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return n.\u0275fac=function(e){return new(e||n)($(bv),$(dp),$(Xf))},n.\u0275prov=le({token:n,factory:n.\u0275fac}),n})();class MC{constructor(t){this.eventManager=t,this.data=Object.create(null)}destroy(){}createElement(t,e){return e?document.createElementNS(TC[e]||e,t):document.createElement(t)}createComment(t){return document.createComment(t)}createText(t){return document.createTextNode(t)}appendChild(t,e){t.appendChild(e)}insertBefore(t,e,i){t&&t.insertBefore(e,i)}removeChild(t,e){t&&t.removeChild(e)}selectRootElement(t,e){let i="string"==typeof t?document.querySelector(t):t;if(!i)throw new Error(`The selector "${t}" did not match any elements`);return e||(i.textContent=""),i}parentNode(t){return t.parentNode}nextSibling(t){return t.nextSibling}setAttribute(t,e,i,s){if(s){e=s+":"+e;const r=TC[s];r?t.setAttributeNS(r,e,i):t.setAttribute(e,i)}else t.setAttribute(e,i)}removeAttribute(t,e,i){if(i){const s=TC[i];s?t.removeAttributeNS(s,e):t.removeAttribute(`${i}:${e}`)}else t.removeAttribute(e)}addClass(t,e){t.classList.add(e)}removeClass(t,e){t.classList.remove(e)}setStyle(t,e,i,s){s&(jn.DashCase|jn.Important)?t.style.setProperty(e,i,s&jn.Important?"important":""):t.style[e]=i}removeStyle(t,e,i){i&jn.DashCase?t.style.removeProperty(e):t.style[e]=""}setProperty(t,e,i){t[e]=i}setValue(t,e){t.nodeValue=e}listen(t,e,i){return"string"==typeof t?this.eventManager.addGlobalEventListener(t,e,zN(i)):this.eventManager.addEventListener(t,e,zN(i))}}class Y8 extends MC{constructor(t,e,i,s){super(t),this.component=i;const r=Sv(s+"-"+i.id,i.styles,[]);e.addStyles(r),this.contentAttr=function(n){return"_ngcontent-%COMP%".replace(xC,n)}(s+"-"+i.id),this.hostAttr=function(n){return"_nghost-%COMP%".replace(xC,n)}(s+"-"+i.id)}applyToHost(t){super.setAttribute(t,this.hostAttr,"")}createElement(t,e){const i=super.createElement(t,e);return super.setAttribute(i,this.contentAttr,""),i}}class Q8 extends MC{constructor(t,e,i,s){super(t),this.sharedStylesHost=e,this.hostEl=i,this.shadowRoot=i.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const r=Sv(s.id,s.styles,[]);for(let o=0;o<r.length;o++){const a=document.createElement("style");a.textContent=r[o],this.shadowRoot.appendChild(a)}}nodeOrShadowRoot(t){return t===this.hostEl?this.shadowRoot:t}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(t,e){return super.appendChild(this.nodeOrShadowRoot(t),e)}insertBefore(t,e,i){return super.insertBefore(this.nodeOrShadowRoot(t),e,i)}removeChild(t,e){return super.removeChild(this.nodeOrShadowRoot(t),e)}parentNode(t){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(t)))}}let Z8=(()=>{class n extends kC{constructor(e){super(e)}supports(e){return!0}addEventListener(e,i,s){return e.addEventListener(i,s,!1),()=>this.removeEventListener(e,i,s)}removeEventListener(e,i,s){return e.removeEventListener(i,s)}}return n.\u0275fac=function(e){return new(e||n)($(Ge))},n.\u0275prov=le({token:n,factory:n.\u0275fac}),n})();const QN=["alt","control","meta","shift"],sj={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},ZN={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},rj={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey};let oj=(()=>{class n extends kC{constructor(e){super(e)}supports(e){return null!=n.parseEventName(e)}addEventListener(e,i,s){const r=n.parseEventName(i),o=n.eventCallback(r.fullKey,s,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>zl().onAndCancel(e,r.domEventName,o))}static parseEventName(e){const i=e.toLowerCase().split("."),s=i.shift();if(0===i.length||"keydown"!==s&&"keyup"!==s)return null;const r=n._normalizeKey(i.pop());let o="";if(QN.forEach(u=>{const h=i.indexOf(u);h>-1&&(i.splice(h,1),o+=u+".")}),o+=r,0!=i.length||0===r.length)return null;const a={};return a.domEventName=s,a.fullKey=o,a}static getEventFullKey(e){let i="",s=function(n){let t=n.key;if(null==t){if(t=n.keyIdentifier,null==t)return"Unidentified";t.startsWith("U+")&&(t=String.fromCharCode(parseInt(t.substring(2),16)),3===n.location&&ZN.hasOwnProperty(t)&&(t=ZN[t]))}return sj[t]||t}(e);return s=s.toLowerCase()," "===s?s="space":"."===s&&(s="dot"),QN.forEach(r=>{r!=s&&rj[r](e)&&(i+=r+".")}),i+=s,i}static eventCallback(e,i,s){return r=>{n.getEventFullKey(r)===e&&s.runGuarded(()=>i(r))}}static _normalizeKey(e){return"esc"===e?"escape":e}}return n.\u0275fac=function(e){return new(e||n)($(Ge))},n.\u0275prov=le({token:n,factory:n.\u0275fac}),n})();const dj=[{provide:ep,useValue:BN},{provide:LO,useValue:function(){AC.makeCurrent(),PC.init()},multi:!0},{provide:Ge,useFactory:function(){return function(n){De=n}(document),document},deps:[]}],pj=WO(iU,"browser",dj),gj=[[],{provide:Ao,useValue:"root"},{provide:Co,useFactory:function(){return new Co},deps:[]},{provide:hp,useClass:Z8,multi:!0,deps:[Ge,Ve,ep]},{provide:hp,useClass:oj,multi:!0,deps:[Ge]},[],{provide:Ev,useClass:Ev,deps:[bv,dp,Xf]},{provide:Fl,useExisting:Ev},{provide:UN,useExisting:dp},{provide:dp,useClass:dp,deps:[Ge]},{provide:Qw,useClass:Qw,deps:[Ve]},{provide:bv,useClass:bv,deps:[hp,Ve]},{provide:class{},useClass:N8,deps:[]},[]];let RC=(()=>{class n{constructor(e){if(e)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}static withServerTransition(e){return{ngModule:n,providers:[{provide:Xf,useValue:e.appId},{provide:HN,useExisting:Xf},O8]}}}return n.\u0275fac=function(e){return new(e||n)($(n,12))},n.\u0275mod=nn({type:n}),n.\u0275inj=jt({providers:gj,imports:[FN,uU]}),n})();function wv(n,t){return new He(e=>{const i=n.length;if(0===i)return void e.complete();const s=new Array(i);let r=0,o=0;for(let a=0;a<i;a++){const u=gc(n[a]);let h=!1;e.add(u.subscribe({next:f=>{h||(h=!0,o++),s[a]=f},error:f=>e.error(f),complete:()=>{r++,(r===i||!h)&&(o===i&&e.next(t?t.reduce((f,g,m)=>(f[g]=s[m],f),{}):s),e.complete())}}))}})}"undefined"!=typeof window&&window;let XN=(()=>{class n{constructor(e,i){this._renderer=e,this._elementRef=i,this.onChange=s=>{},this.onTouched=()=>{}}setProperty(e,i){this._renderer.setProperty(this._elementRef.nativeElement,e,i)}registerOnTouched(e){this.onTouched=e}registerOnChange(e){this.onChange=e}setDisabledState(e){this.setProperty("disabled",e)}}return n.\u0275fac=function(e){return new(e||n)(F(Bl),F(Pt))},n.\u0275dir=se({type:n}),n})(),Kl=(()=>{class n extends XN{}return n.\u0275fac=function(){let t;return function(i){return(t||(t=Gn(n)))(i||n)}}(),n.\u0275dir=se({type:n,features:[At]}),n})();const Rr=new _e("NgValueAccessor"),Cj={provide:Rr,useExisting:ft(()=>Cv),multi:!0};let Cv=(()=>{class n extends Kl{writeValue(e){this.setProperty("checked",e)}}return n.\u0275fac=function(){let t;return function(i){return(t||(t=Gn(n)))(i||n)}}(),n.\u0275dir=se({type:n,selectors:[["input","type","checkbox","formControlName",""],["input","type","checkbox","formControl",""],["input","type","checkbox","ngModel",""]],hostBindings:function(e,i){1&e&&rt("change",function(r){return i.onChange(r.target.checked)})("blur",function(){return i.onTouched()})},features:[et([Cj]),At]}),n})();const Dj={provide:Rr,useExisting:ft(()=>Zu),multi:!0},Pj=new _e("CompositionEventMode");let Zu=(()=>{class n extends XN{constructor(e,i,s){super(e,i),this._compositionMode=s,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function(){const n=zl()?zl().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}())}writeValue(e){this.setProperty("value",null==e?"":e)}_handleInput(e){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(e)}_compositionStart(){this._composing=!0}_compositionEnd(e){this._composing=!1,this._compositionMode&&this.onChange(e)}}return n.\u0275fac=function(e){return new(e||n)(F(Bl),F(Pt),F(Pj,8))},n.\u0275dir=se({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(e,i){1&e&&rt("input",function(r){return i._handleInput(r.target.value)})("blur",function(){return i.onTouched()})("compositionstart",function(){return i._compositionStart()})("compositionend",function(r){return i._compositionEnd(r.target.value)})},features:[et([Dj]),At]}),n})();function Ca(n){return null==n||0===n.length}function eR(n){return null!=n&&"number"==typeof n.length}const Jn=new _e("NgValidators"),Da=new _e("NgAsyncValidators"),kj=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class tR{static min(t){return nR(t)}static max(t){return iR(t)}static required(t){return function(n){return Ca(n.value)?{required:!0}:null}(t)}static requiredTrue(t){return function(n){return!0===n.value?null:{required:!0}}(t)}static email(t){return function(n){return Ca(n.value)||kj.test(n.value)?null:{email:!0}}(t)}static minLength(t){return function(n){return t=>Ca(t.value)||!eR(t.value)?null:t.value.length<n?{minlength:{requiredLength:n,actualLength:t.value.length}}:null}(t)}static maxLength(t){return function(n){return t=>eR(t.value)&&t.value.length>n?{maxlength:{requiredLength:n,actualLength:t.value.length}}:null}(t)}static pattern(t){return function(n){if(!n)return Aa;let t,e;return"string"==typeof n?(e="","^"!==n.charAt(0)&&(e+="^"),e+=n,"$"!==n.charAt(n.length-1)&&(e+="$"),t=new RegExp(e)):(e=n.toString(),t=n),i=>{if(Ca(i.value))return null;const s=i.value;return t.test(s)?null:{pattern:{requiredPattern:e,actualValue:s}}}}(t)}static nullValidator(t){return null}static compose(t){return gR(t)}static composeAsync(t){return mR(t)}}function nR(n){return t=>{if(Ca(t.value)||Ca(n))return null;const e=parseFloat(t.value);return!isNaN(e)&&e<n?{min:{min:n,actual:t.value}}:null}}function iR(n){return t=>{if(Ca(t.value)||Ca(n))return null;const e=parseFloat(t.value);return!isNaN(e)&&e>n?{max:{max:n,actual:t.value}}:null}}function Aa(n){return null}function uR(n){return null!=n}function hR(n){const t=k_(n)?gc(n):n;return ow(t),t}function dR(n){let t={};return n.forEach(e=>{t=null!=e?Object.assign(Object.assign({},t),e):t}),0===Object.keys(t).length?null:t}function fR(n,t){return t.map(e=>e(n))}function pR(n){return n.map(t=>function(n){return!n.validate}(t)?t:e=>t.validate(e))}function gR(n){if(!n)return null;const t=n.filter(uR);return 0==t.length?null:function(e){return dR(fR(e,t))}}function VC(n){return null!=n?gR(pR(n)):null}function mR(n){if(!n)return null;const t=n.filter(uR);return 0==t.length?null:function(e){return function(...n){if(1===n.length){const t=n[0];if(Ha(t))return wv(t,null);if(qa(t)&&Object.getPrototypeOf(t)===Object.prototype){const e=Object.keys(t);return wv(e.map(i=>t[i]),e)}}if("function"==typeof n[n.length-1]){const t=n.pop();return wv(n=1===n.length&&Ha(n[0])?n[0]:n,null).pipe(Fo(e=>t(...e)))}return wv(n,null)}(fR(e,t).map(hR)).pipe(Fo(dR))}}function FC(n){return null!=n?mR(pR(n)):null}function _R(n,t){return null===n?[t]:Array.isArray(n)?[...n,t]:[n,t]}function vR(n){return n._rawValidators}function yR(n){return n._rawAsyncValidators}function BC(n){return n?Array.isArray(n)?n:[n]:[]}function Dv(n,t){return Array.isArray(n)?n.includes(t):n===t}function bR(n,t){const e=BC(t);return BC(n).forEach(s=>{Dv(e,s)||e.push(s)}),e}function SR(n,t){return BC(t).filter(e=>!Dv(n,e))}let ER=(()=>{class n{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=VC(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=FC(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e){this.control&&this.control.reset(e)}hasError(e,i){return!!this.control&&this.control.hasError(e,i)}getError(e,i){return this.control?this.control.getError(e,i):null}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=se({type:n}),n})(),yi=(()=>{class n extends ER{get formDirective(){return null}get path(){return null}}return n.\u0275fac=function(){let t;return function(i){return(t||(t=Gn(n)))(i||n)}}(),n.\u0275dir=se({type:n,features:[At]}),n})();class Pa extends ER{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class wR{constructor(t){this._cd=t}is(t){var e,i,s;return"submitted"===t?!!(null===(e=this._cd)||void 0===e?void 0:e.submitted):!!(null===(s=null===(i=this._cd)||void 0===i?void 0:i.control)||void 0===s?void 0:s[t])}}let Av=(()=>{class n extends wR{constructor(e){super(e)}}return n.\u0275fac=function(e){return new(e||n)(F(Pa,2))},n.\u0275dir=se({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(e,i){2&e&&Ll("ng-untouched",i.is("untouched"))("ng-touched",i.is("touched"))("ng-pristine",i.is("pristine"))("ng-dirty",i.is("dirty"))("ng-valid",i.is("valid"))("ng-invalid",i.is("invalid"))("ng-pending",i.is("pending"))},features:[At]}),n})(),fp=(()=>{class n extends wR{constructor(e){super(e)}}return n.\u0275fac=function(e){return new(e||n)(F(yi,10))},n.\u0275dir=se({type:n,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(e,i){2&e&&Ll("ng-untouched",i.is("untouched"))("ng-touched",i.is("touched"))("ng-pristine",i.is("pristine"))("ng-dirty",i.is("dirty"))("ng-valid",i.is("valid"))("ng-invalid",i.is("invalid"))("ng-pending",i.is("pending"))("ng-submitted",i.is("submitted"))},features:[At]}),n})();function pp(n,t){qC(n,t),t.valueAccessor.writeValue(n.value),function(n,t){t.valueAccessor.registerOnChange(e=>{n._pendingValue=e,n._pendingChange=!0,n._pendingDirty=!0,"change"===n.updateOn&&CR(n,t)})}(n,t),function(n,t){const e=(i,s)=>{t.valueAccessor.writeValue(i),s&&t.viewToModelUpdate(i)};n.registerOnChange(e),t._registerOnDestroy(()=>{n._unregisterOnChange(e)})}(n,t),function(n,t){t.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,"blur"===n.updateOn&&n._pendingChange&&CR(n,t),"submit"!==n.updateOn&&n.markAsTouched()})}(n,t),function(n,t){if(t.valueAccessor.setDisabledState){const e=i=>{t.valueAccessor.setDisabledState(i)};n.registerOnDisabledChange(e),t._registerOnDestroy(()=>{n._unregisterOnDisabledChange(e)})}}(n,t)}function Tv(n,t,e=!0){const i=()=>{};t.valueAccessor&&(t.valueAccessor.registerOnChange(i),t.valueAccessor.registerOnTouched(i)),Mv(n,t),n&&(t._invokeOnDestroyCallbacks(),n._registerOnCollectionChange(()=>{}))}function xv(n,t){n.forEach(e=>{e.registerOnValidatorChange&&e.registerOnValidatorChange(t)})}function qC(n,t){const e=vR(n);null!==t.validator?n.setValidators(_R(e,t.validator)):"function"==typeof e&&n.setValidators([e]);const i=yR(n);null!==t.asyncValidator?n.setAsyncValidators(_R(i,t.asyncValidator)):"function"==typeof i&&n.setAsyncValidators([i]);const s=()=>n.updateValueAndValidity();xv(t._rawValidators,s),xv(t._rawAsyncValidators,s)}function Mv(n,t){let e=!1;if(null!==n){if(null!==t.validator){const s=vR(n);if(Array.isArray(s)&&s.length>0){const r=s.filter(o=>o!==t.validator);r.length!==s.length&&(e=!0,n.setValidators(r))}}if(null!==t.asyncValidator){const s=yR(n);if(Array.isArray(s)&&s.length>0){const r=s.filter(o=>o!==t.asyncValidator);r.length!==s.length&&(e=!0,n.setAsyncValidators(r))}}}const i=()=>{};return xv(t._rawValidators,i),xv(t._rawAsyncValidators,i),e}function CR(n,t){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),t.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}function Iv(n,t){const e=n.indexOf(t);e>-1&&n.splice(e,1)}const gp="VALID",Ov="INVALID",Ju="PENDING",mp="DISABLED";function jC(n){return(zC(n)?n.validators:n)||null}function PR(n){return Array.isArray(n)?VC(n):n||null}function WC(n,t){return(zC(t)?t.asyncValidators:n)||null}function kR(n){return Array.isArray(n)?FC(n):n||null}function zC(n){return null!=n&&!Array.isArray(n)&&"object"==typeof n}class KC{constructor(t,e){this._hasOwnPendingAsyncValidator=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=t,this._rawAsyncValidators=e,this._composedValidatorFn=PR(this._rawValidators),this._composedAsyncValidatorFn=kR(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn}set validator(t){this._rawValidators=this._composedValidatorFn=t}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(t){this._rawAsyncValidators=this._composedAsyncValidatorFn=t}get parent(){return this._parent}get valid(){return this.status===gp}get invalid(){return this.status===Ov}get pending(){return this.status==Ju}get disabled(){return this.status===mp}get enabled(){return this.status!==mp}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(t){this._rawValidators=t,this._composedValidatorFn=PR(t)}setAsyncValidators(t){this._rawAsyncValidators=t,this._composedAsyncValidatorFn=kR(t)}addValidators(t){this.setValidators(bR(t,this._rawValidators))}addAsyncValidators(t){this.setAsyncValidators(bR(t,this._rawAsyncValidators))}removeValidators(t){this.setValidators(SR(t,this._rawValidators))}removeAsyncValidators(t){this.setAsyncValidators(SR(t,this._rawAsyncValidators))}hasValidator(t){return Dv(this._rawValidators,t)}hasAsyncValidator(t){return Dv(this._rawAsyncValidators,t)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(t={}){this.touched=!0,this._parent&&!t.onlySelf&&this._parent.markAsTouched(t)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(t=>t.markAllAsTouched())}markAsUntouched(t={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(e=>{e.markAsUntouched({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}markAsDirty(t={}){this.pristine=!1,this._parent&&!t.onlySelf&&this._parent.markAsDirty(t)}markAsPristine(t={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(e=>{e.markAsPristine({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}markAsPending(t={}){this.status=Ju,!1!==t.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!t.onlySelf&&this._parent.markAsPending(t)}disable(t={}){const e=this._parentMarkedDirty(t.onlySelf);this.status=mp,this.errors=null,this._forEachChild(i=>{i.disable(Object.assign(Object.assign({},t),{onlySelf:!0}))}),this._updateValue(),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Object.assign(Object.assign({},t),{skipPristineCheck:e})),this._onDisabledChange.forEach(i=>i(!0))}enable(t={}){const e=this._parentMarkedDirty(t.onlySelf);this.status=gp,this._forEachChild(i=>{i.enable(Object.assign(Object.assign({},t),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent}),this._updateAncestors(Object.assign(Object.assign({},t),{skipPristineCheck:e})),this._onDisabledChange.forEach(i=>i(!1))}_updateAncestors(t){this._parent&&!t.onlySelf&&(this._parent.updateValueAndValidity(t),t.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(t){this._parent=t}updateValueAndValidity(t={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===gp||this.status===Ju)&&this._runAsyncValidator(t.emitEvent)),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!t.onlySelf&&this._parent.updateValueAndValidity(t)}_updateTreeValidity(t={emitEvent:!0}){this._forEachChild(e=>e._updateTreeValidity(t)),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?mp:gp}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(t){if(this.asyncValidator){this.status=Ju,this._hasOwnPendingAsyncValidator=!0;const e=hR(this.asyncValidator(this));this._asyncValidationSubscription=e.subscribe(i=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(i,{emitEvent:t})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(t,e={}){this.errors=t,this._updateControlsErrors(!1!==e.emitEvent)}get(t){return function(n,t,e){if(null==t||(Array.isArray(t)||(t=t.split(".")),Array.isArray(t)&&0===t.length))return null;let i=n;return t.forEach(s=>{i=i instanceof bi?i.controls.hasOwnProperty(s)?i.controls[s]:null:i instanceof _p&&i.at(s)||null}),i}(this,t)}getError(t,e){const i=e?this.get(e):this;return i&&i.errors?i.errors[t]:null}hasError(t,e){return!!this.getError(t,e)}get root(){let t=this;for(;t._parent;)t=t._parent;return t}_updateControlsErrors(t){this.status=this._calculateStatus(),t&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(t)}_initObservables(){this.valueChanges=new at,this.statusChanges=new at}_calculateStatus(){return this._allControlsDisabled()?mp:this.errors?Ov:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Ju)?Ju:this._anyControlsHaveStatus(Ov)?Ov:gp}_anyControlsHaveStatus(t){return this._anyControls(e=>e.status===t)}_anyControlsDirty(){return this._anyControls(t=>t.dirty)}_anyControlsTouched(){return this._anyControls(t=>t.touched)}_updatePristine(t={}){this.pristine=!this._anyControlsDirty(),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}_updateTouched(t={}){this.touched=this._anyControlsTouched(),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}_isBoxedValue(t){return"object"==typeof t&&null!==t&&2===Object.keys(t).length&&"value"in t&&"disabled"in t}_registerOnCollectionChange(t){this._onCollectionChange=t}_setUpdateStrategy(t){zC(t)&&null!=t.updateOn&&(this._updateOn=t.updateOn)}_parentMarkedDirty(t){return!t&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}}class we extends KC{constructor(t=null,e,i){super(jC(e),WC(i,e)),this._onChange=[],this._applyFormState(t),this._setUpdateStrategy(e),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}setValue(t,e={}){this.value=this._pendingValue=t,this._onChange.length&&!1!==e.emitModelToViewChange&&this._onChange.forEach(i=>i(this.value,!1!==e.emitViewToModelChange)),this.updateValueAndValidity(e)}patchValue(t,e={}){this.setValue(t,e)}reset(t=null,e={}){this._applyFormState(t),this.markAsPristine(e),this.markAsUntouched(e),this.setValue(this.value,e),this._pendingChange=!1}_updateValue(){}_anyControls(t){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(t){this._onChange.push(t)}_unregisterOnChange(t){Iv(this._onChange,t)}registerOnDisabledChange(t){this._onDisabledChange.push(t)}_unregisterOnDisabledChange(t){Iv(this._onDisabledChange,t)}_forEachChild(t){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(t){this._isBoxedValue(t)?(this.value=this._pendingValue=t.value,t.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=t}}class bi extends KC{constructor(t,e,i){super(jC(e),WC(i,e)),this.controls=t,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(t,e){return this.controls[t]?this.controls[t]:(this.controls[t]=e,e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange),e)}addControl(t,e,i={}){this.registerControl(t,e),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}removeControl(t,e={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],this.updateValueAndValidity({emitEvent:e.emitEvent}),this._onCollectionChange()}setControl(t,e,i={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],e&&this.registerControl(t,e),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}contains(t){return this.controls.hasOwnProperty(t)&&this.controls[t].enabled}setValue(t,e={}){this._checkAllValuesPresent(t),Object.keys(t).forEach(i=>{this._throwIfControlMissing(i),this.controls[i].setValue(t[i],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(t,e={}){null!=t&&(Object.keys(t).forEach(i=>{this.controls[i]&&this.controls[i].patchValue(t[i],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e))}reset(t={},e={}){this._forEachChild((i,s)=>{i.reset(t[s],{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}getRawValue(){return this._reduceChildren({},(t,e,i)=>(t[i]=e instanceof we?e.value:e.getRawValue(),t))}_syncPendingControls(){let t=this._reduceChildren(!1,(e,i)=>!!i._syncPendingControls()||e);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_throwIfControlMissing(t){if(!Object.keys(this.controls).length)throw new Error("\n        There are no form controls registered with this group yet. If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.controls[t])throw new Error(`Cannot find form control with name: ${t}.`)}_forEachChild(t){Object.keys(this.controls).forEach(e=>{const i=this.controls[e];i&&t(i,e)})}_setUpControls(){this._forEachChild(t=>{t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(t){for(const e of Object.keys(this.controls)){const i=this.controls[e];if(this.contains(e)&&t(i))return!0}return!1}_reduceValue(){return this._reduceChildren({},(t,e,i)=>((e.enabled||this.disabled)&&(t[i]=e.value),t))}_reduceChildren(t,e){let i=t;return this._forEachChild((s,r)=>{i=e(i,s,r)}),i}_allControlsDisabled(){for(const t of Object.keys(this.controls))if(this.controls[t].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_checkAllValuesPresent(t){this._forEachChild((e,i)=>{if(void 0===t[i])throw new Error(`Must supply a value for form control with name: '${i}'.`)})}}class _p extends KC{constructor(t,e,i){super(jC(e),WC(i,e)),this.controls=t,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(t){return this.controls[t]}push(t,e={}){this.controls.push(t),this._registerControl(t),this.updateValueAndValidity({emitEvent:e.emitEvent}),this._onCollectionChange()}insert(t,e,i={}){this.controls.splice(t,0,e),this._registerControl(e),this.updateValueAndValidity({emitEvent:i.emitEvent})}removeAt(t,e={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),this.controls.splice(t,1),this.updateValueAndValidity({emitEvent:e.emitEvent})}setControl(t,e,i={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),this.controls.splice(t,1),e&&(this.controls.splice(t,0,e),this._registerControl(e)),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(t,e={}){this._checkAllValuesPresent(t),t.forEach((i,s)=>{this._throwIfControlMissing(s),this.at(s).setValue(i,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(t,e={}){null!=t&&(t.forEach((i,s)=>{this.at(s)&&this.at(s).patchValue(i,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e))}reset(t=[],e={}){this._forEachChild((i,s)=>{i.reset(t[s],{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}getRawValue(){return this.controls.map(t=>t instanceof we?t.value:t.getRawValue())}clear(t={}){this.controls.length<1||(this._forEachChild(e=>e._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:t.emitEvent}))}_syncPendingControls(){let t=this.controls.reduce((e,i)=>!!i._syncPendingControls()||e,!1);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_throwIfControlMissing(t){if(!this.controls.length)throw new Error("\n        There are no form controls registered with this array yet. If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.at(t))throw new Error(`Cannot find form control at index ${t}`)}_forEachChild(t){this.controls.forEach((e,i)=>{t(e,i)})}_updateValue(){this.value=this.controls.filter(t=>t.enabled||this.disabled).map(t=>t.value)}_anyControls(t){return this.controls.some(e=>e.enabled&&t(e))}_setUpControls(){this._forEachChild(t=>this._registerControl(t))}_checkAllValuesPresent(t){this._forEachChild((e,i)=>{if(void 0===t[i])throw new Error(`Must supply a value for form control at index: ${i}.`)})}_allControlsDisabled(){for(const t of this.controls)if(t.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(t){t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)}}let OR=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=se({type:n,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),n})();const Gj={provide:Rr,useExisting:ft(()=>Nv),multi:!0};let Nv=(()=>{class n extends Kl{writeValue(e){this.setProperty("value",null==e?"":e)}registerOnChange(e){this.onChange=i=>{e(""==i?null:parseFloat(i))}}}return n.\u0275fac=function(){let t;return function(i){return(t||(t=Gn(n)))(i||n)}}(),n.\u0275dir=se({type:n,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(e,i){1&e&&rt("input",function(r){return i.onChange(r.target.value)})("blur",function(){return i.onTouched()})},features:[et([Gj]),At]}),n})();const jj={provide:Rr,useExisting:ft(()=>QC),multi:!0};let NR=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=nn({type:n}),n.\u0275inj=jt({}),n})(),Wj=(()=>{class n{constructor(){this._accessors=[]}add(e,i){this._accessors.push([e,i])}remove(e){for(let i=this._accessors.length-1;i>=0;--i)if(this._accessors[i][1]===e)return void this._accessors.splice(i,1)}select(e){this._accessors.forEach(i=>{this._isSameGroup(i,e)&&i[1]!==e&&i[1].fireUncheck(e.value)})}_isSameGroup(e,i){return!!e[0].control&&e[0]._parent===i._control._parent&&e[1].name===i.name}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=le({factory:function(){return new n},token:n,providedIn:NR}),n})(),QC=(()=>{class n extends Kl{constructor(e,i,s,r){super(e,i),this._registry=s,this._injector=r,this.onChange=()=>{}}ngOnInit(){this._control=this._injector.get(Pa),this._checkName(),this._registry.add(this._control,this)}ngOnDestroy(){this._registry.remove(this)}writeValue(e){this._state=e===this.value,this.setProperty("checked",this._state)}registerOnChange(e){this._fn=e,this.onChange=()=>{e(this.value),this._registry.select(this)}}fireUncheck(e){this.writeValue(e)}_checkName(){!this.name&&this.formControlName&&(this.name=this.formControlName)}}return n.\u0275fac=function(e){return new(e||n)(F(Bl),F(Pt),F(Wj),F(Et))},n.\u0275dir=se({type:n,selectors:[["input","type","radio","formControlName",""],["input","type","radio","formControl",""],["input","type","radio","ngModel",""]],hostBindings:function(e,i){1&e&&rt("change",function(){return i.onChange()})("blur",function(){return i.onTouched()})},inputs:{name:"name",formControlName:"formControlName",value:"value"},features:[et([jj]),At]}),n})();const ZC=new _e("NgModelWithFormControlWarning"),Yj={provide:yi,useExisting:ft(()=>Yl)};let Yl=(()=>{class n extends yi{constructor(e,i){super(),this.validators=e,this.asyncValidators=i,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new at,this._setValidators(e),this._setAsyncValidators(i)}ngOnChanges(e){this._checkFormPresent(),e.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(Mv(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(e){const i=this.form.get(e.path);return pp(i,e),i.updateValueAndValidity({emitEvent:!1}),this.directives.push(e),i}getControl(e){return this.form.get(e.path)}removeControl(e){Tv(e.control||null,e,!1),Iv(this.directives,e)}addFormGroup(e){this._setUpFormContainer(e)}removeFormGroup(e){this._cleanUpFormContainer(e)}getFormGroup(e){return this.form.get(e.path)}addFormArray(e){this._setUpFormContainer(e)}removeFormArray(e){this._cleanUpFormContainer(e)}getFormArray(e){return this.form.get(e.path)}updateModel(e,i){this.form.get(e.path).setValue(i)}onSubmit(e){return this.submitted=!0,function(n,t){n._syncPendingControls(),t.forEach(e=>{const i=e.control;"submit"===i.updateOn&&i._pendingChange&&(e.viewToModelUpdate(i._pendingValue),i._pendingChange=!1)})}(this.form,this.directives),this.ngSubmit.emit(e),!1}onReset(){this.resetForm()}resetForm(e){this.form.reset(e),this.submitted=!1}_updateDomValue(){this.directives.forEach(e=>{const i=e.control,s=this.form.get(e.path);i!==s&&(Tv(i||null,e),s instanceof we&&(pp(s,e),e.control=s))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(e){const i=this.form.get(e.path);(function(n,t){qC(n,t)})(i,e),i.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(e){if(this.form){const i=this.form.get(e.path);i&&function(n,t){return Mv(n,t)}(i,e)&&i.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){qC(this.form,this),this._oldForm&&Mv(this._oldForm,this)}_checkFormPresent(){}}return n.\u0275fac=function(e){return new(e||n)(F(Jn,10),F(Da,10))},n.\u0275dir=se({type:n,selectors:[["","formGroup",""]],hostBindings:function(e,i){1&e&&rt("submit",function(r){return i.onSubmit(r)})("reset",function(){return i.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[et([Yj]),At,yt]}),n})();const Jj={provide:Pa,useExisting:ft(()=>yp)};let yp=(()=>{class n extends Pa{constructor(e,i,s,r,o){super(),this._ngModelWarningConfig=o,this._added=!1,this.update=new at,this._ngModelWarningSent=!1,this._parent=e,this._setValidators(i),this._setAsyncValidators(s),this.valueAccessor=function(n,t){if(!t)return null;let e,i,s;return Array.isArray(t),t.forEach(r=>{r.constructor===Zu?e=r:function(n){return Object.getPrototypeOf(n.constructor)===Kl}(r)?i=r:s=r}),s||i||e||null}(0,r)}set isDisabled(e){}ngOnChanges(e){this._added||this._setUpControl(),function(n,t){if(!n.hasOwnProperty("model"))return!1;const e=n.model;return!!e.isFirstChange()||!Object.is(t,e.currentValue)}(e,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(e){this.viewModel=e,this.update.emit(e)}get path(){return function(n,t){return[...t.path,n]}(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this.control.disabled&&this.valueAccessor.setDisabledState&&this.valueAccessor.setDisabledState(!0),this._added=!0}}return n.\u0275fac=function(e){return new(e||n)(F(yi,13),F(Jn,10),F(Da,10),F(Rr,10),F(ZC,8))},n.\u0275dir=se({type:n,selectors:[["","formControlName",""]],inputs:{isDisabled:["disabled","isDisabled"],name:["formControlName","name"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[et([Jj]),At,yt]}),n._ngModelWarningSentOnce=!1,n})();const Xj={provide:Rr,useExisting:ft(()=>bp),multi:!0};function FR(n,t){return null==n?`${t}`:(t&&"object"==typeof t&&(t="Object"),`${n}: ${t}`.slice(0,50))}let bp=(()=>{class n extends Kl{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(e){this._compareWith=e}writeValue(e){this.value=e;const i=this._getOptionId(e);null==i&&this.setProperty("selectedIndex",-1);const s=FR(i,e);this.setProperty("value",s)}registerOnChange(e){this.onChange=i=>{this.value=this._getOptionValue(i),e(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(e){for(const i of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(i),e))return i;return null}_getOptionValue(e){const i=function(n){return n.split(":")[0]}(e);return this._optionMap.has(i)?this._optionMap.get(i):e}}return n.\u0275fac=function(){let t;return function(i){return(t||(t=Gn(n)))(i||n)}}(),n.\u0275dir=se({type:n,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(e,i){1&e&&rt("change",function(r){return i.onChange(r.target.value)})("blur",function(){return i.onTouched()})},inputs:{compareWith:"compareWith"},features:[et([Xj]),At]}),n})(),eD=(()=>{class n{constructor(e,i,s){this._element=e,this._renderer=i,this._select=s,this._select&&(this.id=this._select._registerOption())}set ngValue(e){null!=this._select&&(this._select._optionMap.set(this.id,e),this._setElementValue(FR(this.id,e)),this._select.writeValue(this._select.value))}set value(e){this._setElementValue(e),this._select&&this._select.writeValue(this._select.value)}_setElementValue(e){this._renderer.setProperty(this._element.nativeElement,"value",e)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}}return n.\u0275fac=function(e){return new(e||n)(F(Pt),F(Bl),F(bp,9))},n.\u0275dir=se({type:n,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}}),n})();const t6={provide:Rr,useExisting:ft(()=>tD),multi:!0};function BR(n,t){return null==n?`${t}`:("string"==typeof t&&(t=`'${t}'`),t&&"object"==typeof t&&(t="Object"),`${n}: ${t}`.slice(0,50))}let tD=(()=>{class n extends Kl{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(e){this._compareWith=e}writeValue(e){let i;if(this.value=e,Array.isArray(e)){const s=e.map(r=>this._getOptionId(r));i=(r,o)=>{r._setSelected(s.indexOf(o.toString())>-1)}}else i=(s,r)=>{s._setSelected(!1)};this._optionMap.forEach(i)}registerOnChange(e){this.onChange=i=>{const s=[];if(void 0!==i.selectedOptions){const r=i.selectedOptions;for(let o=0;o<r.length;o++){const a=r.item(o),u=this._getOptionValue(a.value);s.push(u)}}else{const r=i.options;for(let o=0;o<r.length;o++){const a=r.item(o);if(a.selected){const u=this._getOptionValue(a.value);s.push(u)}}}this.value=s,e(s)}}_registerOption(e){const i=(this._idCounter++).toString();return this._optionMap.set(i,e),i}_getOptionId(e){for(const i of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(i)._value,e))return i;return null}_getOptionValue(e){const i=function(n){return n.split(":")[0]}(e);return this._optionMap.has(i)?this._optionMap.get(i)._value:e}}return n.\u0275fac=function(){let t;return function(i){return(t||(t=Gn(n)))(i||n)}}(),n.\u0275dir=se({type:n,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(e,i){1&e&&rt("change",function(r){return i.onChange(r.target)})("blur",function(){return i.onTouched()})},inputs:{compareWith:"compareWith"},features:[et([t6]),At]}),n})(),nD=(()=>{class n{constructor(e,i,s){this._element=e,this._renderer=i,this._select=s,this._select&&(this.id=this._select._registerOption(this))}set ngValue(e){null!=this._select&&(this._value=e,this._setElementValue(BR(this.id,e)),this._select.writeValue(this._select.value))}set value(e){this._select?(this._value=e,this._setElementValue(BR(this.id,e)),this._select.writeValue(this._select.value)):this._setElementValue(e)}_setElementValue(e){this._renderer.setProperty(this._element.nativeElement,"value",e)}_setSelected(e){this._renderer.setProperty(this._element.nativeElement,"selected",e)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}}return n.\u0275fac=function(e){return new(e||n)(F(Pt),F(Bl),F(tD,9))},n.\u0275dir=se({type:n,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}}),n})(),HR=(()=>{class n{constructor(){this._validator=Aa}handleChanges(e){if(this.inputName in e){const i=this.normalizeInput(e[this.inputName].currentValue);this._validator=this.createValidator(i),this._onChange&&this._onChange()}}validate(e){return this._validator(e)}registerOnValidatorChange(e){this._onChange=e}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=se({type:n}),n})();const i6={provide:Jn,useExisting:ft(()=>Rv),multi:!0};let Rv=(()=>{class n extends HR{constructor(){super(...arguments),this.inputName="max",this.normalizeInput=e=>parseFloat(e),this.createValidator=e=>iR(e)}ngOnChanges(e){this.handleChanges(e)}}return n.\u0275fac=function(){let t;return function(i){return(t||(t=Gn(n)))(i||n)}}(),n.\u0275dir=se({type:n,selectors:[["input","type","number","max","","formControlName",""],["input","type","number","max","","formControl",""],["input","type","number","max","","ngModel",""]],hostVars:1,hostBindings:function(e,i){if(2&e){let s;ir("max",null!==(s=i.max)&&void 0!==s?s:null)}},inputs:{max:"max"},features:[et([i6]),At,yt]}),n})();const s6={provide:Jn,useExisting:ft(()=>iD),multi:!0};let iD=(()=>{class n extends HR{constructor(){super(...arguments),this.inputName="min",this.normalizeInput=e=>parseFloat(e),this.createValidator=e=>nR(e)}ngOnChanges(e){this.handleChanges(e)}}return n.\u0275fac=function(){let t;return function(i){return(t||(t=Gn(n)))(i||n)}}(),n.\u0275dir=se({type:n,selectors:[["input","type","number","min","","formControlName",""],["input","type","number","min","","formControl",""],["input","type","number","min","","ngModel",""]],hostVars:1,hostBindings:function(e,i){if(2&e){let s;ir("min",null!==(s=i.min)&&void 0!==s?s:null)}},inputs:{min:"min"},features:[et([s6]),At,yt]}),n})(),zR=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=nn({type:n}),n.\u0275inj=jt({imports:[[NR]]}),n})(),h6=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=nn({type:n}),n.\u0275inj=jt({imports:[zR]}),n})(),d6=(()=>{class n{static withConfig(e){return{ngModule:n,providers:[{provide:ZC,useValue:e.warnOnNgModelWithFormControl}]}}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=nn({type:n}),n.\u0275inj=jt({imports:[zR]}),n})();var Me=Gt(815);function xo(n,t){return n=Math.ceil(n),t=Math.floor(t),Math.floor(Math.random()*(t-n+1))+n}function rD(n){return Math.ceil(100*n)/100}function Tt(n,t){let e;return e=n.player==t?n.opponet:n.player,e}function p6(n){var t,e,i,s,r,o,a;return new bi({name:new we(null!==(t=n.name)&&void 0!==t?t:null,tR.required),tier1Pets:new we(null!==(e=n.tier1Pets)&&void 0!==e?e:[],n=>10!==n.value.length?{length:!0}:null),tier2Pets:new we(null!==(i=n.tier2Pets)&&void 0!==i?i:[],n=>10!==n.value.length?{length:!0}:null),tier3Pets:new we(null!==(s=n.tier3Pets)&&void 0!==s?s:[],n=>10!==n.value.length?{length:!0}:null),tier4Pets:new we(null!==(r=n.tier4Pets)&&void 0!==r?r:[],n=>10!==n.value.length?{length:!0}:null),tier5Pets:new we(null!==(o=n.tier5Pets)&&void 0!==o?o:[],n=>10!==n.value.length?{length:!0}:null),tier6Pets:new we(null!==(a=n.tier6Pets)&&void 0!==a?a:[],n=>10!==n.value.length?{length:!0}:null)})}class je{constructor(){}reset(){this.uses=this.originalUses}}class Ql extends je{constructor(){super(...arguments),this.name="Peanut",this.equipmentClass="attack",this.power=0}}class Lv extends je{constructor(){super(),this.name="Salt",this.equipmentClass="attack"}}class Vv extends je{constructor(){super(...arguments),this.name="Cheese",this.equipmentClass="attack",this.uses=1,this.originalUses=1}}class Fv extends je{constructor(){super(...arguments),this.name="Pepper",this.equipmentClass="shield",this.uses=1,this.originalUses=1,this.power=0}}class Bv extends je{constructor(){super(),this.name="Fortune Cookie",this.equipmentClass="attack"}}class k{constructor(t,e,i){this.logService=t,this.abilityService=e,this.hidden=!1,this.maxAbilityUses=null,this.abilityUses=0,this.exp=0,this.originalExp=0,this.done=!1,this.seenDead=!1,this.swallowedPets=[],this.toyPet=!1,this.eggplantTouched=!1,this.parent=i}initPet(t,e,i,s){this.exp=null!=t?t:this.exp,this.health=null!=e?e:this.health*this.level,this.attack=null!=i?i:this.attack*this.level,this.originalHealth=this.health,this.originalAttack=this.attack,this.equipment=s,this.originalEquipment=s,this.originalExp=this.exp,this.setAbilityUses()}setAbilityUses(){this.abilityUses=0}tigerCheck(t){return null!=this.petBehind()&&("Tiger"==this.petBehind().name&&(null==t||0==t)||void 0)}superStartOfBattle(t,e=!1){if(!this.tigerCheck(e))return;let i=this.exp;this.exp=this.petBehind().minExpForLevel,this.startOfBattle(t,!0),this.exp=i}superHurt(t,e,i=!1){if(!this.tigerCheck(i))return;let s=this.exp;this.exp=this.petBehind().minExpForLevel,this.hurt(t,e,!0),this.exp=s}superFaint(t,e=!1){if(!this.tigerCheck(e))return;let i=this.exp;this.exp=this.petBehind().minExpForLevel,this.faint(t,!0),this.exp=i}superFriendSummoned(t,e=!1){if(!this.tigerCheck(e))return;let i=this.exp;this.exp=this.petBehind().minExpForLevel,this.friendSummoned(t,!0),this.exp=i}superFriendAheadAttacks(t,e=!1){if(!this.tigerCheck(e))return;let i=this.exp;this.exp=this.petBehind().minExpForLevel,this.friendAheadAttacks(t,!0),this.exp=i}superFriendAheadFaints(t,e=!1){if(!this.tigerCheck(e))return;let i=this.exp;this.exp=this.petBehind().minExpForLevel,this.friendAheadFaints(t,!0),this.exp=i}superAfterAttack(t,e=!1){if(!this.tigerCheck(e))return;let i=this.exp;this.exp=this.petBehind().minExpForLevel,this.afterAttack(t,!0),this.exp=i}superSummoned(t,e=!1){if(!this.tigerCheck(e))return;let i=this.exp;this.exp=this.petBehind().minExpForLevel,this.summoned(t,!0),this.exp=i}superKnockOut(t,e,i=!1){if(!this.tigerCheck(i))return;let s=this.exp;this.exp=this.petBehind().minExpForLevel,this.knockOut(t,e,!0),this.exp=s}superFriendFaints(t,e,i=!1){if(!this.tigerCheck(i))return;let s=this.exp;this.exp=this.petBehind().minExpForLevel,this.friendFaints(t,e,!0),this.exp=s}superBeforeAttack(t,e=!1){if(!this.tigerCheck(e))return;let i=this.exp;this.exp=this.petBehind().minExpForLevel,this.beforeAttack(t,!0),this.exp=i}superFriendGainedPerk(t,e,i=!1){if(!this.tigerCheck(i))return;let s=this.exp;this.exp=this.petBehind().minExpForLevel,this.friendGainedPerk(t,e,!0),this.exp=s}superFriendlyToyBroke(t,e=!1){if(!this.tigerCheck(e))return;let i=this.exp;this.exp=this.petBehind().minExpForLevel,this.friendlyToyBroke(t,!0),this.exp=i}superTransform(t,e=!1){if(!this.tigerCheck(e))return;let i=this.exp;this.exp=this.petBehind().minExpForLevel,this.transform(t,!0),this.exp=i}superEnemySummoned(t,e,i=!1){if(!this.tigerCheck(i))return;let s=this.exp;this.exp=this.petBehind().minExpForLevel,this.enemySummoned(t,e,!0),this.exp=s}superFriendHurt(t,e,i=!1){if(!this.tigerCheck(i))return;let s=this.exp;this.exp=this.petBehind().minExpForLevel,this.friendHurt(t,e,!0),this.exp=s}superAnyoneLevelUp(t,e,i=!1){if(!this.tigerCheck(i))return;let s=this.exp;this.exp=this.petBehind().minExpForLevel,this.anyoneLevelUp(t,e,!0),this.exp=s}superEnemyHurt(t,e,i=!1){if(!this.tigerCheck(i))return;let s=this.exp;this.exp=this.petBehind().minExpForLevel,this.enemyHurt(t,e,!0),this.exp=s}superFriendAttacks(t,e=!1){if(!this.tigerCheck(e))return;let i=this.exp;this.exp=this.petBehind().minExpForLevel,this.friendAttacks(t,!0),this.exp=i}attackPet(t){var e,i;let s=this.calculateDamgae(t),r=s.attackEquipment,o=s.defenseEquipment,a=s.damage,u=!1,h=1,f=1;if("Panther"==this.name&&(h=this.level+1),"Panther"==t.name&&(f=t.level+1),r instanceof Vv&&(a*=2),r instanceof Ql&&a>0)this.logService.createLog({message:`${this.name} attacks ${t.name} for ${t.health} (Peanut)`,type:"attack",player:this.parent}),t.health=0;else{t.health-=a;let g=`${this.name} attacks ${t.name} for ${a}.`;if(null!=r){let v=Math.abs(r.power),E="-";r.power>0&&(E="+");let D=`${E}${v}`;r instanceof Lv&&(D=t.tier<this.tier?"x2":"x1"),r instanceof Vv&&(D="x2"),r instanceof Bv&&(u=!0,D=s.fortuneCookie?"x2":"x1"),g+=` (${r.name} ${D})`,h>1&&(g+=` x${h} (Panther)`)}if(null!=o){let v=Math.abs(o.power),E="-";o.power<0&&(E="+"),o instanceof Fv&&(E=1==t.health?"!":"-",v=""),g+=` (${o.name} ${E}${v})`,f>1&&(g+=` x${f} (Panther)`)}this.logService.createLog({message:g,type:"attack",player:this.parent,randomEvent:u});let m="skewer"==(null===(e=this.equipment)||void 0===e?void 0:e.equipmentClass)?this.equipment:null;null!=m&&m.attackCallback(this,t)}this.abilityService.triggerFriendAttacksEvents(this.parent,this),null!=t.hurt&&a>0&&this.abilityService.setHurtEvent({callback:t.hurt.bind(t),priority:t.attack,player:t.parent,callbackPet:this}),null!=this.afterAttack&&this.abilityService.setAfterAttackEvent({callback:this.afterAttack.bind(this),priority:this.attack}),t.health<1&&null!=this.knockOut&&this.abilityService.setKnockOutEvent({callback:this.knockOut.bind(this),priority:this.attack,callbackPet:t}),null!=(null===(i=this.petBehind(!0))||void 0===i?void 0:i.friendAheadAttacks)&&this.abilityService.setFriendAheadAttacksEvents({callback:this.petBehind(!0).friendAheadAttacks.bind(this.petBehind(!0)),priority:this.petBehind(!0).attack}),t.alive&&a>0&&this.abilityService.triggerFriendHurtEvents(t.parent,t),t.alive&&a>0&&this.abilityService.triggerEnemyHurtEvents(this.parent,t)}snipePet(t,e,i,s,r){var o,a;let u=!1;"Wolverine"==(null===(o=this.petAhead)||void 0===o?void 0:o.name)&&(e+=3*this.petAhead.level,u=!0),"Wolverine"==(null===(a=this.petBehind())||void 0===a?void 0:a.name)&&(e+=3*this.petBehind().level,u=!0);let h=this.calculateDamgae(t,e,!0),f=h.attackEquipment,g=h.defenseEquipment,m=h.damage;t.health-=m;let v=`${this.name} sniped ${t.name} for ${m}.`;if(null!=g){t.useDefenseEquipment(!0);let E=Math.abs(g.power),D="-";g.power<0&&(D="+"),v+=` (${g.name} ${D}${E})`}if(null!=f&&"snipe"==f.equipmentClass){let E=Math.abs(f.power),D="-";f.power>0&&(D="+"),v+=` (${f.name} ${D}${E})`}s&&(v+=" (Tiger)"),u&&(v+=" (Wolverine)"),this.logService.createLog({message:v,type:"attack",randomEvent:i,player:this.parent,pteranodon:r}),null!=t.hurt&&m>0&&this.abilityService.setHurtEvent({callback:t.hurt.bind(t),priority:t.attack,player:t.parent,callbackPet:this}),t.health<1&&null!=this.knockOut&&this.abilityService.setKnockOutEvent({callback:this.knockOut.bind(this),priority:this.attack,callbackPet:t}),t.alive&&m>0&&this.abilityService.triggerFriendHurtEvents(t.parent,t),t.alive&&m>0&&this.abilityService.triggerEnemyHurtEvents(this.parent,t)}calculateDamgae(t,e,i=!1){var s,r,o,a,u,h;let f=1,g=1;"Panther"==this.name&&(f=this.level+1),"Panther"==t.name&&(g=t.level+1);let m="defense"==(null===(s=t.equipment)||void 0===s?void 0:s.equipmentClass)||"shield"==(null===(r=t.equipment)||void 0===r?void 0:r.equipmentClass)||"ailment-defense"==(null===(o=t.equipment)||void 0===o?void 0:o.equipmentClass)||i&&"shield-snipe"==(null===(a=t.equipment)||void 0===a?void 0:a.equipmentClass)?t.equipment:null,v="attack"==(null===(u=this.equipment)||void 0===u?void 0:u.equipmentClass)||"ailment-attack"==(null===(h=this.equipment)||void 0===h?void 0:h.equipmentClass)?this.equipment:null,E=null!=e?e+(i?0:(null==v?void 0:v.power)?v.power*f:0):this.attack+(i?0:(null==v?void 0:v.power)?v.power*f:0),D=(null==m?void 0:m.power)?m.power*g:0,C="shield"==(null==m?void 0:m.equipmentClass)||"shield-snipe"==(null==m?void 0:m.equipmentClass)?0:1;v instanceof Lv&&!i&&t.tier<this.tier&&(E*=2);let L=!1;v instanceof Bv&&!i&&Math.random()<.5&&(E*=2,L=!0);let N=Math.max(C,E-D);return m instanceof Fv&&(N=Math.min(N,t.health-1)),{defenseEquipment:m,attackEquipment:v,damage:N,fortuneCookie:L}}resetPet(){var t;this.health=this.originalHealth,this.attack=this.originalAttack,this.equipment=this.originalEquipment,this.exp=this.originalExp,this.done=!1,this.seenDead=!1,null===(t=this.equipment)||void 0===t||t.reset(),this.swallowedPets=[],this.setAbilityUses()}get alive(){return this.health>0}setFaintEventIfPresent(){var t;null!=this.faint&&this.abilityService.setFaintEvent({priority:this.attack,callback:this.faint.bind(this)}),"faint"==(null===(t=this.equipment)||void 0===t?void 0:t.equipmentClass)&&this.abilityService.setFaintEvent({priority:-1,callback:()=>{this.equipment.callback(this)}})}useDefenseEquipment(t=!1){null!=this.equipment&&("defense"!=this.equipment.equipmentClass&&"shield"!=this.equipment.equipmentClass&&t&&"shield-snipe"!=this.equipment.equipmentClass||null!=this.equipment.uses&&(this.equipment.uses-=1,0==this.equipment.uses&&(this.equipment=null)))}useAttackDefenseEquipment(){null!=this.equipment&&null!=this.equipment.uses&&("attack"!=this.equipment.equipmentClass&&"defense"!=this.equipment.equipmentClass&&"shield"!=this.equipment.equipmentClass&&"snipe"!=this.equipment.equipmentClass||(isNaN(this.equipment.uses)&&console.warn("uses is NaN",this.equipment),this.equipment.uses-=1,0==this.equipment.uses&&(this.equipment=null)))}increaseAttack(t){this.attack=Math.min(Math.max(this.attack+t,1),50)}increaseHealth(t){this.health=Math.min(Math.max(this.health+t,1),50)}increaseExp(t){let e=this.level;this.increaseAttack(t),this.increaseHealth(t),this.exp=Math.min(this.exp+t,5),this.level>e&&(this.logService.createLog({message:`${this.name} leveled up to level ${this.level}.`,type:"ability",player:this.parent}),this.abilityService.triggerLevelUpEvents(this.parent,this),this.abilityService.triggerLevelUpEvents(this.parent.opponent,this),this.abilityService.executeLevelUpEvents(),this.setAbilityUses())}givePetEquipment(t){this.equipment=t,null!=t&&("ailment-attack"==t.equipmentClass||"ailment-defense"==t.equipmentClass?(this.abilityService.triggerFriendGainedAilmentEvents(this),this.abilityService.executeFriendGainedAilmentEvents()):(this.abilityService.triggerFriendGainedPerkEvents(this),this.abilityService.executeFriendGainedPerkEvents()))}get level(){return this.exp<2?1:this.exp<5?2:3}get position(){return this==this.parent.pet0?0:this==this.parent.pet1?1:this==this.parent.pet2?2:this==this.parent.pet3?3:this==this.parent.pet4?4:void 0}petBehind(t=!1){for(let e=this.position+1;e<5;e++){let i=this.parent.getPetAtPosition(e);if(t&&null!=i&&!i.alive&&!i.seenDead)return null;if(null!=i&&i.alive)return i}return null}get petAhead(){for(let t=this.position-1;t>-1;t--){let e=this.parent.getPetAtPosition(t);if(null!=e&&e.alive)return e}return null}get minExpForLevel(){return 1==this.level?0:2==this.level?2:5}}class eh extends k{constructor(t,e,i,s,r,o,a){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Puma",this.tier=6,this.pack="Puppy",this.attack=6,this.health=5,this.initPet(o,s,r,a)}}class $v extends k{constructor(t,e,i,s,r,o,a){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Golden Retriever",this.tier=1,this.pack="Golden",this.hidden=!0,this.health=1,this.attack=1,this.initPet(o,s,r,a)}}class oD extends je{constructor(t){super(),this.logService=t,this.name="Onion",this.equipmentClass="shop",this.callback=e=>{this.logService.createLog({message:`${e.name} pushed itself to the back. (Onion)`,type:"equipment",player:e.parent}),e.givePetEquipment(null),e.parent.pushPetToBack(e)}}}class KR{constructor(t,e,i){this.logService=t,this.abilityService=e,this.gameService=i,this.pack="Turtle",this.trumpets=0,this.spawnedGoldenRetiever=!1}alive(){return this.petArray.length>0}resetPets(){var t,e,i,s,r;this.pet0=this.orignalPet0,null===(t=this.pet0)||void 0===t||t.resetPet(),this.pet1=this.orignalPet1,null===(e=this.pet1)||void 0===e||e.resetPet(),this.pet2=this.orignalPet2,null===(i=this.pet2)||void 0===i||i.resetPet(),this.pet3=this.orignalPet3,null===(s=this.pet3)||void 0===s||s.resetPet(),this.pet4=this.orignalPet4,null===(r=this.pet4)||void 0===r||r.resetPet(),this.orignalPet0=this.pet0,this.orignalPet1=this.pet1,this.orignalPet2=this.pet2,this.orignalPet3=this.pet3,this.orignalPet4=this.pet4,this.toy=this.originalToy,this.trumpets=0,this.spawnedGoldenRetiever=!1}setPet(t,e,i=!1){0==t&&(this.pet0=e,null!=e&&(this.pet0.savedPosition=0),i&&(this.orignalPet0=e)),1==t&&(this.pet1=e,null!=e&&(this.pet1.savedPosition=1),i&&(this.orignalPet1=e)),2==t&&(this.pet2=e,null!=e&&(this.pet2.savedPosition=2),i&&(this.orignalPet2=e)),3==t&&(this.pet3=e,null!=e&&(this.pet3.savedPosition=3),i&&(this.orignalPet3=e)),4==t&&(this.pet4=e,null!=e&&(this.pet4.savedPosition=4),i&&(this.orignalPet4=e))}getPet(t){return this[`pet${t}`]}pushPetsForward(){let t=(0,Me.clone)(this.petArray);try{this.setPet(0,t[0])}catch(e){this.pet0=null}try{this.setPet(1,t[1])}catch(e){this.pet1=null}try{this.setPet(2,t[2])}catch(e){this.pet2=null}try{this.setPet(3,t[3])}catch(e){this.pet3=null}try{this.setPet(4,t[4])}catch(e){this.pet4=null}this.onionCheck()}onionCheck(){var t;null!=(null===(t=this.pet0)||void 0===t?void 0:t.equipment)&&this.pet0.equipment instanceof oD&&(this.pet0.equipment.callback(this.pet0),this.pushPetsForward())}summonPet(t,e,i=!1){if(5==this.petArray.length)return i||this.logService.createLog({message:`No room to spawn ${t.name}!`,type:"ability",player:this}),!1;0==e&&(null!=this.pet0&&this.makeRoomForSlot(0),this.pet0=t),1==e&&(null!=this.pet1&&this.makeRoomForSlot(1),this.pet1=t),2==e&&(null!=this.pet2&&this.makeRoomForSlot(2),this.pet2=t),3==e&&(null!=this.pet3&&this.makeRoomForSlot(3),this.pet3=t),4==e&&(null!=this.pet4&&this.makeRoomForSlot(4),this.pet4=t),t.summoned&&t.summoned(null);let s=Tt(this.gameService.gameApi,this);return this.abilityService.triggerEnemySummonedEvents(s,t),!0}makeRoomForSlot(t){if(5==this.petArray.length)return void console.warn("No room to Make Room");let e=!1,i=null;if(t<4&&null==this.pet4&&(e=!0,i=4),t<3&&null==this.pet3&&(e=!0,i=3),t<2&&null==this.pet2&&(e=!0,i=2),t<1&&null==this.pet1&&(e=!0,i=1),e)for(let r=i;r>t;r--)this[`pet${r}`]=this["pet"+(r-1)];let s=!1;if(t>0&&null==this.pet0&&(s=!0,i=0),t>1&&null==this.pet1&&(s=!0,i=1),t>2&&null==this.pet2&&(s=!0,i=2),t>3&&null==this.pet3&&(s=!0,i=3),s)for(let r=i;r<t;r++)this[`pet${r}`]=this[`pet${r+1}`]}get petArray(){let t=[];return null!=this.pet0&&t.push(this.pet0),null!=this.pet1&&t.push(this.pet1),null!=this.pet2&&t.push(this.pet2),null!=this.pet3&&t.push(this.pet3),null!=this.pet4&&t.push(this.pet4),t}handleDeath(t){var e;t.seenDead=!0,t.setFaintEventIfPresent(),null!=(null===(e=t.petBehind(!0))||void 0===e?void 0:e.friendAheadFaints)&&this.abilityService.setFriendAheadFaintsEvent({callback:t.petBehind().friendAheadFaints.bind(t.petBehind()),priority:t.petBehind().attack,player:this}),this.abilityService.triggerFriendFaintsEvents(t),this.createDeathLog(t)}checkPetsAlive(){this.pet0&&!this.pet0.alive&&!this.pet0.seenDead&&this.handleDeath(this.pet0),this.pet1&&!this.pet1.alive&&!this.pet1.seenDead&&this.handleDeath(this.pet1),this.pet2&&!this.pet2.alive&&!this.pet2.seenDead&&this.handleDeath(this.pet2),this.pet3&&!this.pet3.alive&&!this.pet3.seenDead&&this.handleDeath(this.pet3),this.pet4&&!this.pet4.alive&&!this.pet4.seenDead&&this.handleDeath(this.pet4)}removeDeadPets(){var t,e,i,s,r;(null===(t=this.pet0)||void 0===t?void 0:t.alive)||(this.pet0=null),(null===(e=this.pet1)||void 0===e?void 0:e.alive)||(this.pet1=null),(null===(i=this.pet2)||void 0===i?void 0:i.alive)||(this.pet2=null),(null===(s=this.pet3)||void 0===s?void 0:s.alive)||(this.pet3=null),(null===(r=this.pet4)||void 0===r?void 0:r.alive)||(this.pet4=null)}createDeathLog(t){this.logService.createLog({message:`${t.name} fainted.`,type:"death",player:t.parent})}getRandomPet(t,e,i){let s=this.petArray;if(e){let o=this.getPetsWithEquipment("Donut");o.length>0&&(s=o)}if(i){let o=this.getPetsWithEquipment("Blueberry");o.length>0&&(s=o)}return s=s.filter(o=>{let a=!0;return t&&(a=!t.includes(o)),a&&o.health>0}),0==s.length?null:s[xo(0,s.length-1)]}getRandomPets(t,e,i,s){let r=[];e=null!=e?e:[];for(let o=0;o<t;o++){let a=this.getRandomPet(e,i,s);if(null==a)break;e.push(a),r.push(a)}if(r.length<t)for(let o=r.length;o<t;o++){let a=this.getRandomPet(e);if(null==a)break;e.push(a),r.push(a)}return r}getPetsWithEquipment(t){var e;let i=[];for(let s of this.petArray)!s.alive||(null===(e=s.equipment)||void 0===e?void 0:e.name)==t&&i.push(s);return i}getPetAtPosition(t){for(let e of this.petArray)if(e.position==t)return e;return null}getLastPet(){for(let t of this.petArray.reverse())if(t.alive)return t}getHighestHealthPet(t){let e;for(let i in this.petArray){let r=this.petArray[+i];if(r!=t){if(null==e){e=[r];continue}if(r.health==e[0].health){e.push(r);continue}r.health>e[0].health&&(e=[r])}}return{pet:e[xo(0,e.length-1)],random:e.length>1}}getLowestHealthPet(t){let e;for(let i in this.petArray){let r=this.petArray[+i];if(r!=t&&r.alive){if(null==e){e=[r];continue}if(r.health==e[0].health){e.push(r);continue}r.health<e[0].health&&(e=[r])}}return{pet:e[xo(0,e.length-1)],random:e.length>1}}get furthestUpPet(){for(let t of this.petArray)if(t.alive)return t;return null}breakToy(t=!1){if(null==this.toy||null==this.toy.onBreak)return;this.logService.createLog({message:`${this.toy.name} broke!`,type:"ability",player:this,randomEvent:!1});let e=[{callback:this.toy.onBreak.bind(this.toy),priority:99}],i=this.toy.level;for(let r of this.petArray)r instanceof eh&&e.push({callback:()=>{this.toy.level=r.level,this.toy.onBreak(this.gameService.gameApi,!0),this.toy.level=i},priority:r.attack});e.sort((r,o)=>r.priority>o.priority?-1:r.priority<o.priority?1:0);for(let r of e)r.callback(this.gameService.gameApi);let s=(0,Me.cloneDeep)(this.toy);this.toy=null,t&&this.setToy(s)}setToy(t){this.toy=t}getStrongestPet(){let t,e=(0,Me.shuffle)(this.petArray);for(let i of e)null!=t?i.attack+i.health>t.attack+t.health&&(t=i):t=i;return t}pushPetToFront(t){this.pushPet(t,4)}pushPetToBack(t){this.pushPet(t,-4)}pushPet(t,e=1){let r,i=t.parent,s=t.position;i[`pet${s}`]=null,e>0&&(r=Math.max(s-e,0)),e<0&&(r=Math.max(s-e,4)),i.summonPet(t,r),this.onionCheck()}getRandomStrawberryPet(t){let e=this.getPetsWithEquipment("Strawberry"),i=e.filter(s=>s!=t);return 0==i.length?null:e[xo(0,i.length-1)]}get opponent(){return Tt(this.gameService.gameApi,this)}gainTrumpets(t,e,i,s){this.trumpets=Math.min(50,this.trumpets+=t),this.logService.createLog({message:`${e.name} gained ${t} trumpets. (${this.trumpets})`,type:"trumpets",player:this,pteranodon:i,pantherMultiplier:s})}spendTrumpets(t,e,i){this.trumpets=Math.max(0,this.trumpets-=t),this.logService.createLog({message:`${e.name} spent ${t} trumpets. (${this.trumpets})`,type:"trumpets",player:this,pteranodon:i})}checkGoldenSpawn(){if(this.spawnedGoldenRetiever||this.petArray.length>1||0==this.trumpets)return;let t=new $v(this.logService,this.abilityService,this,this.trumpets,this.trumpets);this.logService.createLog({message:`${this==this.gameService.gameApi.player?"Player":"Opponent"} spawned Golden Retriever (${t.attack}/${t.health})`,type:"ability",player:this}),this.summonPet(t,0)&&this.abilityService.triggerSummonedEvents(t),this.trumpets=0,this.spawnedGoldenRetiever=!0}}class Hv extends k{constructor(t,e,i,s,r,o,a){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Ant",this.tier=1,this.pack="Turtle",this.health=2,this.attack=2,this.initPet(o,s,r,a)}faint(t,e,i){let s=1==this.level?{health:1,attack:1}:2==this.level?{health:2,attack:2}:{health:3,attack:3},r=this.parent.getRandomPet([this],!0);null!=r&&(r.increaseAttack(s.attack),r.increaseHealth(s.health),this.logService.createLog({message:`${this.name} gave ${r.name} ${s.attack} attack and ${s.health} health.`,type:"ability",randomEvent:!0,player:this.parent,tiger:e,pteranodon:i}),this.superFaint(t,e),this.done=!0)}}class th extends k{constructor(t,e,i,s,r,o,a){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Zombie Cricket",this.tier=1,this.pack="Turtle",this.hidden=!0,this.health=1,this.attack=1,this.initPet(o,s,r,a)}}class aD extends k{constructor(t,e,i,s,r,o,a){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Cricket",this.tier=1,this.pack="Turtle",this.health=2,this.attack=1,this.initPet(o,s,r,a)}faint(t,e,i){let s=1,r=0;2==this.level?(r=2,s=2):3==this.level&&(r=5,s=3),this.abilityService.setSpawnEvent({callback:()=>{let o=new th(this.logService,this.abilityService,this.parent,null,null,r);this.logService.createLog({message:`${this.name} spawned Zombie Cricket Level ${s}`,type:"ability",player:this.parent,tiger:e,pteranodon:i}),this.parent.summonPet(o,this.savedPosition)&&this.abilityService.triggerSummonedEvents(o)},priority:this.attack}),super.superFaint(t,e)}}class lD extends k{constructor(t,e,i,s,r,o,a){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Fish",this.tier=1,this.pack="Turtle",this.health=3,this.attack=2,this.initPet(o,s,r,a)}}class cD extends k{constructor(t,e,i,s,r,o,a){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Horse",this.tier=1,this.pack="Turtle",this.health=1,this.attack=2,this.initPet(o,s,r,a)}friendSummoned(t,e){t.increaseAttack(this.level),this.logService.createLog({message:`${this.name} gave ${t.name} ${this.level} attack`,type:"ability",player:this.parent,tiger:e}),super.superFriendSummoned(t,e)}}class uD extends k{constructor(t,e,i,s,r,o,a){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Mosquito",this.tier=1,this.pack="Turtle",this.health=2,this.attack=2,this.initPet(o,s,r,a)}startOfBattle(t,e){let i;i=t.player==this.parent?t.opponet:t.player;let s=i.getRandomPets(this.level,null,null,!0);for(let r of s)this.snipePet(r,1,!0,e);super.superStartOfBattle(t,e)}}class qv extends k{constructor(t,e,i,s,r,o,a){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Duck",this.tier=1,this.pack="Turtle",this.health=3,this.attack=2,this.initPet(o,s,r,a)}}class Uv extends k{constructor(t,e,i,s,r,o,a){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Beaver",this.tier=1,this.pack="Turtle",this.health=2,this.attack=3,this.initPet(o,s,r,a)}}class hD extends k{constructor(t,e,i,s,r,o,a){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Otter",this.tier=1,this.pack="Turtle",this.health=3,this.attack=1,this.initPet(o,s,r,a)}}class dD extends k{constructor(t,e,i,s,r,o,a){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Pig",this.tier=1,this.pack="Turtle",this.health=1,this.attack=4,this.initPet(o,s,r,a)}}class fD extends k{constructor(t,e,i,s,r,o,a){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Mouse",this.tier=1,this.pack="Turtle",this.health=3,this.attack=2,this.initPet(o,s,r,a)}}class g6 extends k{constructor(t,e,i,s,r,o,a){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Snail",this.tier=2,this.pack="Turtle",this.health=2,this.attack=2,this.initPet(o,s,r,a)}}class pD extends k{constructor(t,e,i,s,r,o,a){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Crab",this.tier=2,this.pack="Turtle",this.health=1,this.attack=4,this.initPet(o,s,r,a)}startOfBattle(t,e){let i=this.parent.getHighestHealthPet(this).pet,s=.5*this.level,r=Math.floor(i.health*s);this.health=r,this.logService.createLog({message:`${this.name} copied ${100*s}% of ${i.name}'s health (${r})`,type:"ability",player:this.parent,tiger:e}),super.superStartOfBattle(t,e)}}class gD extends k{constructor(t,e,i,s,r,o,a){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Swan",this.tier=2,this.pack="Turtle",this.health=2,this.attack=1,this.initPet(o,s,r,a)}}class Gv extends k{constructor(t,e,i,s,r,o,a){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Dirty Rat",this.tier=1,this.pack="Turtle",this.hidden=!0,this.health=1,this.attack=1,this.initPet(o,s,r,a)}}class mD extends k{constructor(t,e,i,s,r,o,a){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Rat",this.tier=2,this.pack="Turtle",this.health=6,this.attack=3,this.initPet(o,s,r,a)}faint(t,e,i){let s;s=t.player==this.parent?t.opponet:t.player;for(let r=0;r<this.level;r++)this.abilityService.setSpawnEvent({callback:()=>{this.logService.createLog({message:`${this.name} Summoned Dirty Rat on Opponent`,type:"ability",player:this.parent,tiger:e,pteranodon:i});let o=new Gv(this.logService,this.abilityService,s,null,null,0);s.summonPet(o,0)&&this.abilityService.triggerSummonedEvents(o)},priority:this.attack});super.superFaint(t,e)}}class _D extends k{constructor(t,e,i,s,r,o,a){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Hedgehog",this.tier=2,this.pack="Turtle",this.attack=4,this.health=2,this.initPet(o,s,r,a)}faint(t,e,i){let s=t.player.petArray.filter(o=>o!=this&&o.alive);s.reverse(),s=[...s,...t.opponet.petArray.filter(o=>o.alive)];let r=2*this.level;for(let o of s)this.snipePet(o,r,!1,e,i);super.superFaint(t,e),this.done=!0}}class vD extends k{constructor(t,e,i,s,r,o,a){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Peacock",this.tier=2,this.pack="Turtle",this.health=5,this.attack=2,this.initPet(o,s,r,a)}hurt(t,e,i){if(this.health<1)return;let s=4*this.level;this.increaseAttack(s),this.logService.createLog({message:`${this.name} increased attack by ${s} (${this.attack})`,type:"ability",player:this.parent,tiger:i}),super.superHurt(t,i)}}class yD extends k{constructor(t,e,i,s,r,o,a){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Flamingo",this.tier=2,this.pack="Turtle",this.health=2,this.attack=3,this.initPet(o,s,r,a)}faint(t,e,i){let o,a,u,r=this.parent.petArray;for(let h in r)r[+h]==this&&(o=+h);for(let h=o;h<5;h++){let f=r[h];if(null!=f&&f.health>0){if(null==a){a=f;continue}u=f;break}}if(a){let h=a;h.increaseAttack(this.level),h.increaseHealth(this.level),this.logService.createLog({message:`${this.name} gave ${h.name} ${this.level} attack and ${this.level} health.`,type:"ability",player:this.parent,tiger:e,pteranodon:i})}if(u){let h=u;h.increaseAttack(this.level),h.increaseHealth(this.level),this.logService.createLog({message:`Flamingo gave ${h.name} ${this.level} attack and ${this.level} health.`,type:"ability",player:this.parent,tiger:e,pteranodon:i})}super.superFaint(t,e)}}class bD extends k{constructor(t,e,i,s,r,o,a){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Worm",this.tier=2,this.pack="Turtle",this.health=1,this.attack=3,this.initPet(o,s,r,a)}}class SD extends k{constructor(t,e,i,s,r,o,a){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Kangaroo",this.tier=2,this.pack="Turtle",this.health=3,this.attack=2,this.initPet(o,s,r,a)}friendAheadAttacks(t,e){this.increaseAttack(this.level),this.increaseHealth(this.level),this.logService.createLog({message:`${this.name} gained ${this.level} attack and ${this.level} health.`,type:"ability",player:this.parent,tiger:e}),super.superFriendAheadAttacks(t,e)}}class ED extends k{constructor(t,e,i,s,r,o,a,u){super(t,e,s),this.logService=t,this.abilityService=e,this.petService=i,this.name="Spider",this.tier=2,this.pack="Turtle",this.health=2,this.attack=2,this.initPet(a,r,o,u)}faint(t,e,i){let s;s=this.parent==t.player?t.playerPetPool.get(3):t.opponentPetPool.get(3);let r=s.filter(f=>"Spider"!=f),o=r[xo(0,r.length-1)],a=this.level,u=2*this.level,h=this.petService.createPet({attack:u,exp:this.minExpForLevel,equipment:null,health:u,name:o},this.parent);this.abilityService.setSpawnEvent({callback:()=>{this.logService.createLog({message:`${this.name} spawned ${h.name} level ${a} (${u}/${u})`,type:"ability",player:this.parent,randomEvent:!0,tiger:e,pteranodon:i}),this.parent.summonPet(h,this.savedPosition)&&this.abilityService.triggerSummonedEvents(h)},priority:this.attack}),super.superFaint(t,e)}}class wD extends k{constructor(t,e,i,s,r,o,a){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Dodo",this.tier=3,this.pack="Turtle",this.health=2,this.attack=4,this.initPet(o,s,r,a)}startOfBattle(t,e){let i=this.petAhead;if(null==i)return;let s=Math.floor(this.attack*(.5*this.level));i.increaseAttack(s),this.logService.createLog({message:`${this.name} gave ${i.name} ${s} attack.`,player:this.parent,type:"ability",tiger:e}),super.superStartOfBattle(t,e)}}class CD extends k{constructor(t,e,i,s,r,o,a){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Badger",this.tier=3,this.pack="Turtle",this.health=3,this.attack=6,this.initPet(o,s,r,a)}faint(t,e,i){let s;s=t.player==this.parent?t.opponet:t.player;let o,r=this.attack*(.5*this.level);this.petBehind()&&this.snipePet(this.petBehind(),r,!1,e,i),o=this.petAhead?this.petAhead:s.furthestUpPet,null!=o&&this.snipePet(o,r,!1,e,i),super.superFaint(t,e),this.done=!0}}class jv extends k{constructor(t,e,i,s,r,o,a){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Dolphin",this.tier=3,this.pack="Turtle",this.health=3,this.attack=4,this.initPet(o,s,r,a)}startOfBattle(t,e){let i;i=t.player==this.parent?t.opponet:t.player;for(let s=0;s<this.level;s++){let r=i.getLowestHealthPet();if(!r.pet)break;this.snipePet(r.pet,3,r.random,e)}super.superStartOfBattle(t,e)}}class DD extends k{constructor(t,e,i,s,r,o,a){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Giraffe",this.tier=3,this.pack="Turtle",this.attack=1,this.health=2,this.initPet(o,s,r,a)}}class AD extends k{constructor(t,e,i,s,r,o,a){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Elephant",this.tier=3,this.pack="Turtle",this.health=7,this.attack=3,this.initPet(o,s,r,a)}afterAttack(t,e){for(let i=0;i<this.level;i++)this.petBehind()&&this.snipePet(this.petBehind(),1,!1,e);super.superAfterAttack(t,e)}}class PD extends k{constructor(t,e,i,s,r,o,a){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Camel",this.tier=3,this.pack="Turtle",this.health=4,this.attack=3,this.initPet(o,s,r,a)}hurt(t,e,i){let s=this.petBehind();if(null==s)return;let r=2*this.level;s&&(s.increaseAttack(this.level),s.increaseHealth(r)),this.logService.createLog({message:`${this.name} gave ${s.name} ${r} attack and ${r} health.`,type:"ability",player:this.parent,tiger:i}),super.superHurt(t,i)}}class kD extends k{constructor(t,e,i,s,r,o,a){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Rabbit",this.tier=3,this.pack="Turtle",this.health=2,this.attack=1,this.initPet(o,s,r,a)}}class ka extends je{constructor(){super(...arguments),this.name="Melon",this.equipmentClass="shield",this.power=20,this.uses=1,this.originalUses=1}}class TD extends k{constructor(t,e,i,s,r,o,a){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Ox",this.tier=3,this.pack="Turtle",this.health=3,this.attack=1,this.initPet(o,s,r,a)}friendAheadFaints(t,e){this.abilityUses>=this.maxAbilityUses||(this.equipment=new ka,this.logService.createLog({message:`${this.name} gained Melon.`,type:"ability",player:this.parent,tiger:e}),this.abilityUses++,super.superFriendAheadFaints(t,e))}setAbilityUses(){super.setAbilityUses(),this.maxAbilityUses=this.level}}class xD extends k{constructor(t,e,i,s,r,o,a){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Dog",this.tier=3,this.pack="Turtle",this.attack=2,this.health=3,this.initPet(o,s,r,a)}friendSummoned(t,e){if(t==this)return;let i=2*this.level,s=this.level;this.increaseAttack(i),this.increaseHealth(s),this.logService.createLog({message:`${this.name} gained ${i} attack and ${s} health.`,type:"ability",player:this.parent,tiger:e}),super.superFriendSummoned(t,e)}}class Wv extends k{constructor(t,e,i,s,r,o,a){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Ram",this.tier=1,this.pack="Turtle",this.hidden=!0,this.health=2,this.attack=2,this.initPet(o,s,r,a)}}class MD extends k{constructor(t,e,i,s,r,o,a){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Sheep",this.tier=3,this.pack="Turtle",this.attack=2,this.health=2,this.initPet(o,s,r,a)}faint(t,e,i){for(let s=0;s<2;s++)this.abilityService.setSpawnEvent({callback:()=>{let r=new Wv(this.logService,this.abilityService,this.parent,null,null,this.minExpForLevel);this.logService.createLog({message:`${this.name} spawned Ram (${r.attack}/${r.health}).`,type:"ability",player:this.parent,tiger:e,pteranodon:i}),this.parent.summonPet(r,this.savedPosition)&&this.abilityService.triggerSummonedEvents(r)},priority:this.attack});super.superFaint(t,e)}}class ID extends k{constructor(t,e,i,s,r,o,a){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Tiger",this.tier=6,this.pack="Turtle",this.attack=6,this.health=4,this.initPet(o,s,r,a)}}class OD extends k{constructor(t,e,i,s,r,o,a,u){super(t,e,s),this.logService=t,this.abilityService=e,this.petService=i,this.name="Parrot",this.tier=4,this.pack="Turtle",this.attack=4,this.health=2,this.initPet(a,r,o,u)}endTurn(t){var e,i,s,r,o,a,u,h,f,g,m;let v=this.petAhead;null!=this.petAhead&&(this.startOfBattle=null===(e=v.startOfBattle)||void 0===e?void 0:e.bind(this),this.hurt=null===(i=v.hurt)||void 0===i?void 0:i.bind(this),this.faint=null===(s=v.faint)||void 0===s?void 0:s.bind(this),this.friendSummoned=null===(r=v.friendSummoned)||void 0===r?void 0:r.bind(this),this.friendAheadAttacks=null===(o=v.friendAheadAttacks)||void 0===o?void 0:o.bind(this),this.friendAheadFaints=null===(a=v.friendAheadFaints)||void 0===a?void 0:a.bind(this),this.friendFaints=null===(u=v.friendFaints)||void 0===u?void 0:u.bind(this),this.afterAttack=null===(h=v.afterAttack)||void 0===h?void 0:h.bind(this),this.beforeAttack=null===(f=v.beforeAttack)||void 0===f?void 0:f.bind(this),this.knockOut=null===(g=v.knockOut)||void 0===g?void 0:g.bind(this),this.summoned=null===(m=v.summoned)||void 0===m?void 0:m.bind(this),this.logService.createLog({message:`Parrot copied ${v.name}`,type:"ability",player:this.parent}))}}class ND extends k{constructor(t,e,i,s,r,o,a){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Skunk",this.tier=4,this.pack="Turtle",this.attack=3,this.health=5,this.initPet(o,s,r,a)}startOfBattle(t,e){let s=Tt(t,this.parent).getHighestHealthPet(),r=s.pet,o=.33*this.level,a=Math.max(1,Math.floor(r.health*(1-o)));r.health=a,this.logService.createLog({message:`${this.name} reduced ${r.name} health by ${100*o}% (${a})`,type:"ability",player:this.parent,randomEvent:s.random,tiger:e}),this.superStartOfBattle(t,e)}}class RD extends k{constructor(t,e,i,s,r,o,a){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Hippo",this.tier=4,this.pack="Turtle",this.attack=4,this.health=7,this.initPet(o,s,r,a)}knockOut(t,e,i){if(this.health<1)return;let s=2*this.level;e.tier>3&&(s*=2),this.increaseAttack(s),this.increaseHealth(s),this.logService.createLog({message:`${this.name} gained ${s} attack and ${s} health.`,type:"ability",player:this.parent,tiger:i}),this.superKnockOut(t,e,i)}}class LD extends k{constructor(t,e,i,s,r,o,a){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Bison",this.tier=4,this.pack="Turtle",this.attack=4,this.health=4,this.initPet(o,s,r,a)}}class VD extends k{constructor(t,e,i,s,r,o,a){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Blowfish",this.tier=4,this.pack="Turtle",this.attack=3,this.health=6,this.initPet(o,s,r,a)}hurt(t,e,i){let s=3*this.level,r=Tt(t,this.parent).getRandomPet(null,null,!0);r&&this.snipePet(r,s,!0,i),this.superHurt(t,i)}}class FD extends k{constructor(t,e,i,s,r,o,a){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Turtle",this.tier=4,this.pack="Turtle",this.attack=2,this.health=5,this.initPet(o,s,r,a)}faint(t,e,i){let s=this.petBehind();for(;s&&s.equipment instanceof ka;)s=s.petBehind();null!=s&&(s.givePetEquipment(new ka),this.logService.createLog({message:`${this.name} gave ${s.name} Melon.`,type:"ability",tiger:e,player:this.parent,pteranodon:i}),this.superFaint(t,e))}}class BD extends k{constructor(t,e,i,s,r,o,a){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Squirrel",this.tier=4,this.pack="Turtle",this.attack=2,this.health=5,this.initPet(o,s,r,a)}}class $D extends k{constructor(t,e,i,s,r,o,a){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Penguin",this.tier=4,this.pack="Turtle",this.attack=2,this.health=4,this.initPet(o,s,r,a)}}class Dn extends k{constructor(t,e,i,s,r,o,a){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Panther",this.tier=5,this.pack="Puppy",this.attack=3,this.health=5,this.initPet(o,s,r,a)}}class Sp extends je{constructor(t,e){super(),this.logService=t,this.abilityService=e,this.name="Chili",this.equipmentClass="skewer",this.power=0,this.attackCallback=(i,s)=>{let r=s.parent.getPetAtPosition(1);if(null==r)return;let o=1;i instanceof Dn&&(o=1+i.level);let a=i.calculateDamgae(r,5),u=a.defenseEquipment,h=a.damage*o;r.health-=h;let f=`${i.name} attacks ${r.name} for ${h}`;if(i instanceof Dn&&(f+=` x${o} (Panther)`),null!=u){r.useDefenseEquipment();let g=Math.abs(u.power),m="-";u.power<0&&(m="+"),f+=` (${u.name} ${m}${g})`,s instanceof Dn&&(f+=` x${1+i.level} (Panther)`)}this.logService.createLog({message:f+=" (Chili).",type:"attack",player:i.parent}),null!=r.hurt&&h>0&&this.abilityService.setHurtEvent({callback:r.hurt.bind(r),priority:r.attack,player:r.parent,callbackPet:s}),r.health<1&&null!=i.knockOut&&this.abilityService.setKnockOutEvent({callback:i.knockOut.bind(i),priority:i.attack,callbackPet:r}),r.alive&&h>0&&this.abilityService.triggerFriendHurtEvents(s.parent,s),i.alive&&h>0&&this.abilityService.triggerEnemyHurtEvents(i.parent,r)}}}class zv extends k{constructor(t,e,i,s,r,o,a){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Bus",this.tier=1,this.pack="Turtle",this.hidden=!0,this.health=5,this.attack=5,this.initPet(o,s,r,a)}}class HD extends k{constructor(t,e,i,s,r,o,a){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Deer",this.tier=4,this.pack="Turtle",this.attack=1,this.health=1,this.initPet(o,s,r,a)}faint(t,e,i){let s=new zv(this.logService,this.abilityService,this.parent,null,null,this.minExpForLevel,new Sp(this.logService,this.abilityService));this.abilityService.setSpawnEvent({callback:()=>{this.logService.createLog({message:`${this.name} spawned Bus level ${this.level}`,type:"ability",player:this.parent,tiger:e,pteranodon:i}),this.parent.summonPet(s,this.savedPosition)&&this.abilityService.triggerSummonedEvents(s)},priority:this.attack}),super.superFaint(t,e)}}class qD extends k{constructor(t,e,i,s,r,o,a,u){super(t,e,s),this.logService=t,this.abilityService=e,this.petService=i,this.name="Whale",this.tier=4,this.pack="Turtle",this.attack=4,this.health=10,this.initPet(a,r,o,u)}startOfBattle(t,e){let i=this.petAhead;if(!i)return;let s=(0,Me.clone)(i);s.exp=this.exp,this.swallowedPets.push(this.petService.createDefaultVersionOfPet(s)),i.health=0,this.logService.createLog({message:`${this.name} swallowed ${i.name}`,type:"ability",player:this.parent,tiger:e}),this.superStartOfBattle(t,e)}faint(t,e,i){for(let s of this.swallowedPets)console.log(s),this.abilityService.setSpawnEvent({callback:()=>{this.logService.createLog({message:`${this.name} summoned ${s.name} (level ${s.level}).`,type:"ability",player:this.parent,tiger:e,pteranodon:i}),this.parent.summonPet(s,this.savedPosition)},priority:this.attack,player:this.parent})}}class nh extends k{constructor(t,e,i,s,r,o,a){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Bee",this.tier=1,this.pack="Turtle",this.hidden=!0,this.health=1,this.attack=1,this.initPet(o,s,r,a)}}class UD extends k{constructor(t,e,i,s,r,o,a){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Scorpion",this.tier=5,this.pack="Turtle",this.attack=1,this.health=1,this.initPet(o,s,r,a)}summoned(t,e){this.equipment=new Ql,this.logService.createLog({message:`${this.name} gained the Peanut perk.`,type:"ability",player:this.parent,tiger:e}),this.superSummoned(t,e)}}class GD extends k{constructor(t,e,i,s,r,o,a){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Crocodile",this.tier=5,this.pack="Turtle",this.attack=8,this.health=4,this.initPet(o,s,r,a)}startOfBattle(t,e){for(let i=0;i<this.level;i++){let s=Tt(t,this.parent).getLastPet();s&&this.snipePet(s,8,!1,e)}super.superStartOfBattle(t,e)}}class jD extends k{constructor(t,e,i,s,r,o,a){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Rhino",this.tier=5,this.pack="Turtle",this.attack=3,this.health=6,this.initPet(o,s,r,a)}knockOut(t,e,i){let s=Tt(t,this.parent).furthestUpPet;if(null==s)return;let r=4*this.level;1==s.tier&&(r*=2),this.snipePet(s,r,!1,i),this.superKnockOut(t,e,i)}}class Kv extends k{constructor(t,e,i,s,r,o,a){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Monkey",this.tier=5,this.pack="Turtle",this.attack=1,this.health=2,this.initPet(o,s,r,a)}}class WD extends k{constructor(t,e,i,s,r,o,a){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Armadillo",this.tier=5,this.pack="Turtle",this.attack=2,this.health=6,this.initPet(o,s,r,a)}startOfBattle(t,e){let i=[...this.parent.petArray.filter(s=>s!=this),...Tt(t,this.parent).petArray];for(let s of i){if(!s.alive)continue;let r=8*this.level;s.increaseHealth(r),this.logService.createLog({message:`${this.name} increased health of ${s.name} by ${r}.`,type:"ability",player:this.parent,tiger:e})}this.superStartOfBattle(t,e)}}class zD extends k{constructor(t,e,i,s,r,o,a){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Cow",this.tier=5,this.pack="Turtle",this.attack=4,this.health=6,this.initPet(o,s,r,a)}}class KD extends k{constructor(t,e,i,s,r,o,a){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Seal",this.tier=5,this.pack="Turtle",this.attack=3,this.health=8,this.initPet(o,s,r,a)}}class Yv extends k{constructor(t,e,i,s,r,o,a){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Chick",this.tier=1,this.pack="Turtle",this.hidden=!0,this.health=1,this.attack=1,this.initPet(o,s,r,a)}}class YD extends k{constructor(t,e,i,s,r,o,a){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Rooster",this.tier=5,this.pack="Turtle",this.attack=6,this.health=4,this.initPet(o,s,r,a)}faint(t,e,i){let s=Math.floor(.5*this.attack);for(let r=0;r<this.level;r++)this.abilityService.setSpawnEvent({callback:()=>{this.logService.createLog({message:`${this.name} summoned Chick (${s}).`,type:"ability",player:this.parent,tiger:e,pteranodon:i}),this.parent.summonPet(new Yv(this.logService,this.abilityService,this.parent,1,s,this.minExpForLevel),this.savedPosition)},priority:this.attack,player:this.parent});this.superFaint(t,e)}}class QD extends k{constructor(t,e,i,s,r,o,a){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Shark",this.tier=5,this.pack="Turtle",this.attack=2,this.health=2,this.initPet(o,s,r,a)}friendFaints(t,e,i){if(this.health<=0||e==this)return;let s={attack:2*this.level,health:2*this.level};this.increaseAttack(s.attack),this.increaseHealth(s.health),this.logService.createLog({message:`${this.name} gained ${s.attack} attack and ${s.health} health.`,type:"ability",player:this.parent,tiger:i}),super.superFriendFaints(t,e,i)}}class ZD extends k{constructor(t,e,i,s,r,o,a){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Turkey",this.tier=5,this.pack="Turtle",this.attack=3,this.health=4,this.initPet(o,s,r,a)}friendSummoned(t,e){let i={attack:3*this.level,health:2*this.level};t.increaseAttack(i.attack),t.increaseHealth(i.health),this.logService.createLog({message:`${this.name} gave ${t.name} ${i.attack} attack and ${i.health} health.`,type:"ability",player:this.parent,tiger:e}),super.superFriendSummoned(t,e)}}class JD extends k{constructor(t,e,i,s,r,o,a){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Leopard",this.tier=6,this.pack="Turtle",this.attack=10,this.health=4,this.initPet(o,s,r,a)}startOfBattle(t,e){let i=Math.floor(.5*this.attack),s=this.parent.opponent.getRandomPets(this.level,null,null,!0);for(let r of s)this.snipePet(r,i,!0,e);this.superStartOfBattle(t,e)}}class XD extends k{constructor(t,e,i,s,r,o,a){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Boar",this.tier=6,this.pack="Turtle",this.attack=10,this.health=6,this.initPet(o,s,r,a)}beforeAttack(t,e){let i={attack:4*this.level,health:2*this.level};this.increaseAttack(i.attack),this.increaseHealth(i.health),this.logService.createLog({message:`${this.name} gained ${i.attack} attack and ${i.health} health.`,type:"ability",player:this.parent,tiger:e}),this.superBeforeAttack(t,e)}}class e0 extends k{constructor(t,e,i,s,r,o,a){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Wolverine",this.tier=6,this.pack="Turtle",this.attack=5,this.health=4,this.initPet(o,s,r,a)}}class Ta extends je{constructor(){super(...arguments),this.name="Coconut",this.equipmentClass="shield",this.power=999,this.uses=1,this.originalUses=1}}class t0 extends k{constructor(t,e,i,s,r,o,a){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Gorilla",this.tier=6,this.pack="Turtle",this.attack=7,this.health=10,this.initPet(o,s,r,a)}hurt(t,e,i){!this.alive||(this.abilityUses<this.maxAbilityUses&&(this.abilityUses++,this.equipment=new Ta,this.logService.createLog({message:`${this.name} gained a Coconut.`,type:"ability",player:this.parent,tiger:i})),super.superHurt(t,i))}setAbilityUses(){super.setAbilityUses(),this.maxAbilityUses=this.level}}class n0 extends k{constructor(t,e,i,s,r,o,a){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Dragon",this.tier=6,this.pack="Turtle",this.attack=6,this.health=8,this.initPet(o,s,r,a)}}class s0 extends k{constructor(t,e,i,s,r,o,a){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Mammoth",this.tier=6,this.pack="Turtle",this.attack=4,this.health=12,this.initPet(o,s,r,a)}faint(t,e,i){let s=2*this.level;for(let r of this.parent.petArray.filter(o=>o!=this&&o.alive))r.increaseAttack(s),r.increaseHealth(s),this.logService.createLog({message:`${this.name} gave ${r.name} ${s} attack and ${s} health.`,type:"ability",player:this.parent,tiger:e,pteranodon:i});super.superFaint(t,e)}}class r0 extends k{constructor(t,e,i,s,r,o,a){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Cat",this.tier=6,this.pack="Turtle",this.attack=4,this.health=5,this.initPet(o,s,r,a)}}class o0 extends k{constructor(t,e,i,s,r,o,a){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Snake",this.tier=6,this.pack="Turtle",this.attack=6,this.health=6,this.initPet(o,s,r,a)}friendAheadAttacks(t,e){let i=5*this.level,s=Tt(t,this.parent).getRandomPet(null,null,!0);!s||(this.snipePet(s,i,!0,e),this.superFriendAheadAttacks(t,e))}}class Ep extends k{constructor(t,e,i,s,r,o,a){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Zombie Fly",this.tier=1,this.pack="Turtle",this.hidden=!0,this.health=4,this.attack=4,this.initPet(o,s,r,a)}}class a0 extends k{constructor(t,e,i,s,r,o,a){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Fly",this.tier=6,this.pack="Turtle",this.attack=5,this.health=5,this.maxAbilityUses=3,this.initPet(o,s,r,a)}friendFaints(t,e,i){e instanceof Ep||this.abilityUses>=this.maxAbilityUses||!this.alive||this.abilityService.setSpawnEvent({callback:()=>{let s=new Ep(this.logService,this.abilityService,this.parent,null,null,this.minExpForLevel);this.parent.summonPet(s,e.savedPosition,!0)&&(this.abilityService.triggerSummonedEvents(s),this.abilityUses++,this.logService.createLog({message:`${this.name} spawned Zombie Fly Level ${this.level}`,type:"ability",player:this.parent,tiger:i}))},priority:-1})}}class l0 extends k{constructor(t,e,i,s,r,o,a){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Moth",this.tier=1,this.pack="Puppy",this.health=1,this.attack=3,this.initPet(o,s,r,a)}startOfBattle(t,e){let i=this.parent.furthestUpPet,s=2*this.level;i.increaseAttack(s),this.logService.createLog({message:`${this.name} gave ${i.name} ${s} attack.`,type:"ability",player:this.parent,tiger:e}),this.superStartOfBattle(t,e)}}class c0 extends k{constructor(t,e,i,s,r,o,a){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Bluebird",this.tier=1,this.pack="Puppy",this.attack=2,this.health=1,this.initPet(o,s,r,a)}}class u0 extends k{constructor(t,e,i,s,r,o,a){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Chinchilla",this.tier=1,this.pack="Puppy",this.attack=2,this.health=2,this.initPet(o,s,r,a)}}class wp extends je{constructor(){super(...arguments),this.equipmentClass="defense",this.name="Garlic",this.power=2}}class Qv extends je{constructor(t,e){super(),this.logService=t,this.abilityService=e,this.name="Honey",this.equipmentClass="faint",this.callback=i=>{let s=1;i instanceof Dn&&(s=1+i.level);for(let r=0;r<s;r++)this.abilityService.setSpawnEvent({callback:()=>{let o=new nh(this.logService,this.abilityService,i.parent,null,null,0);i.parent.summonPet(o,i.savedPosition);let a="";r>0&&(a=" (Panther)"),this.logService.createLog({message:`${i.name} Spawned Bee (Honey)${a}`,type:"ability",player:i.parent}),this.abilityService.triggerSummonedEvents(o)},priority:i.attack})}}}class h0 extends je{constructor(){super(...arguments),this.name="Meat Bone",this.equipmentClass="attack",this.power=3}}class d0 extends k{constructor(t,e,i,s,r,o,a){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Beetle",this.tier=1,this.pack="Puppy",this.attack=1,this.health=2,this.initPet(o,s,r,a)}startOfBattle(t,e){let i;switch(this.level){case 1:i=new Qv(this.logService,this.abilityService);break;case 2:i=new h0;break;case 3:i=new wp}this.logService.createLog({message:`${this.name} gained ${i.name} perk.`,type:"ability",player:this.parent,tiger:e}),this.givePetEquipment(i),super.superStartOfBattle(t,e)}}class f0 extends k{constructor(t,e,i,s,r,o,a){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Ladybug",this.tier=1,this.pack="Puppy",this.attack=1,this.health=3,this.initPet(o,s,r,a)}friendGainedPerk(t,e,i){let s=2*this.level;this.increaseAttack(s),this.logService.createLog({message:`${this.name} gained ${s} attack.`,type:"ability",player:this.parent,tiger:i}),this.superFriendGainedPerk(t,e,i)}}class p0 extends k{constructor(t,e,i,s,r,o,a){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Chipmunk",this.tier=1,this.pack="Puppy",this.attack=3,this.health=2,this.initPet(o,s,r,a)}}class g0 extends k{constructor(t,e,i,s,r,o,a){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Gecko",this.tier=1,this.pack="Puppy",this.attack=3,this.health=1,this.toyPet=!0,this.initPet(o,s,r,a)}startOfBattle(t,e){if(null==this.parent.toy)return;let i=2*this.level;this.increaseHealth(i),this.logService.createLog({message:`${this.name} gained ${i} health.`,type:"ability",player:this.parent,tiger:e}),this.superStartOfBattle(t,e)}}class m0 extends k{constructor(t,e,i,s,r,o,a){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Ferret",this.tier=1,this.pack="Puppy",this.attack=2,this.health=1,this.initPet(o,s,r,a)}}class ih extends je{constructor(){super(...arguments),this.name="Weak",this.equipmentClass="ailment-defense",this.power=-3}}class _0 extends k{constructor(t,e,i,s,r,o,a){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Bat",this.tier=2,this.pack="Puppy",this.attack=1,this.health=2,this.initPet(o,s,r,a)}startOfBattle(t,e){let i=Tt(t,this.parent),s=i.getPetsWithEquipment("Weak"),r=i.getRandomPets(this.level,s,null,!0);for(let o of r)o.givePetEquipment(new ih),this.logService.createLog({message:`${this.name} made ${o.name} weak.`,type:"ability",player:this.parent,randomEvent:!0,tiger:e});this.superStartOfBattle(t,e)}}class Zv extends je{constructor(){super(...arguments),this.name="Rice",this.equipmentClass="shop"}}class v0 extends k{constructor(t,e,i,s,r,o,a){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Frigatebird",this.tier=2,this.pack="Puppy",this.attack=2,this.health=1,this.initPet(o,s,r,a)}friendGainedAilment(t,e){if(this.abilityUses>=this.level||e==this)return;let i=e.equipment;e.givePetEquipment(new Zv),this.abilityUses++,this.logService.createLog({message:`${this.name} removed ${i.name} from ${e.name} and gave ${e.name} Rice.`,type:"ability",player:this.parent})}resetPet(){super.resetPet()}setAbilityUses(){super.setAbilityUses(),this.maxAbilityUses=this.level}}class y0 extends je{constructor(t,e){super(),this.logService=t,this.abilityService=e,this.name="Egg",this.equipmentClass="snipe",this.uses=1,this.originalUses=1,this.attackCallback=(i,s)=>{let r=s.parent.getPetAtPosition(0);if(null==r)return void console.warn("egg didn't find target");let o=i.calculateDamgae(r,2,!0),a=o.defenseEquipment,u=o.damage;r.health-=u;let h=`${i.name} sniped ${r.name} for ${u}`;if(i instanceof Dn&&(h+=` x${1+i.level} (Panther)`),null!=a){r.useDefenseEquipment();let f=Math.abs(a.power),g="-";a.power<0&&(g="+"),h+=` (${a.name} ${g}${f})`}this.logService.createLog({message:h+=" (Egg).",type:"attack",player:i.parent}),null!=r.hurt&&this.abilityService.setHurtEvent({callback:r.hurt.bind(r),priority:r.attack,player:r.parent,callbackPet:s}),r.health<1&&null!=i.knockOut&&(console.log("knock out!"),this.abilityService.setKnockOutEvent({callback:i.knockOut.bind(i),priority:i.attack,callbackPet:r})),r.alive&&this.abilityService.triggerFriendHurtEvents(s.parent,s),r.alive&&u>0&&this.abilityService.triggerEnemyHurtEvents(i.parent,r)}}}class Jv extends k{constructor(t,e,i,s,r,o,a){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Nest",this.tier=1,this.pack="Puppy",this.hidden=!0,this.attack=2,this.health=3,this.initPet(o,s,r,a)}}class b0 extends k{constructor(t,e,i,s,r,o,a){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Robin",this.tier=2,this.pack="Puppy",this.attack=2,this.health=3,this.initPet(o,s,r,a)}startOfBattle(t,e){let i=new Jv(this.logService,this.abilityService,this.parent,null,null,this.minExpForLevel,new y0(this.logService,this.abilityService));this.logService.createLog({message:`${this.name} summoned a Nest (level ${this.level}).`,type:"ability",player:this.parent,randomEvent:!1,tiger:e}),this.parent.summonPet(i,this.position)&&this.abilityService.triggerSummonedEvents(i),this.superStartOfBattle(t,e)}}class S0 extends k{constructor(t,e,i,s,r,o,a){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Dromedary",this.tier=2,this.pack="Puppy",this.attack=2,this.health=4,this.initPet(o,s,r,a)}}class E0 extends k{constructor(t,e,i,s,r,o,a){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Shrimp",this.tier=2,this.pack="Puppy",this.attack=2,this.health=2,this.initPet(o,s,r,a)}}class w0 extends k{constructor(t,e,i,s,r,o,a){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Toucan",this.tier=2,this.pack="Puppy",this.attack=3,this.health=3,this.initPet(o,s,r,a)}faint(t,e,i){var s;if(null==this.equipment)return;let r=this.parent.petArray,o=[],a=!1;for(let u of r)u==this&&(a=!0),a&&(null===(s=u.equipment)||void 0===s?void 0:s.name)!=this.equipment.name&&o.push(u);for(let u=0;u<this.level;u++){let h=o[u];if(null==h)break;this.logService.createLog({message:`${this.name} gave ${h.name} ${this.equipment.name}`,type:"ability",player:this.parent,randomEvent:!1,tiger:e,pteranodon:i}),h.givePetEquipment((0,Me.cloneDeep)(this.equipment))}this.superFaint(t,e)}}class C0 extends k{constructor(t,e,i,s,r,o,a){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Beluga Sturgeon",this.tier=2,this.pack="Puppy",this.attack=2,this.health=3,this.initPet(o,s,r,a)}faint(t,e,i){for(let s=0;s<this.level;s++)this.abilityService.setSpawnEvent({callback:()=>{let r=new jv(this.logService,this.abilityService,this.parent,3,2,0,new Zv);this.logService.createLog({message:`${this.name} summoned a 2/3 Dolphin with Rice in the back.`,type:"ability",player:this.parent,randomEvent:!1,tiger:e,pteranodon:i}),this.parent.summonPet(r,4)&&this.abilityService.triggerSummonedEvents(r)},priority:this.attack});this.superFaint(t,e)}}class D0 extends k{constructor(t,e,i,s,r,o,a){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Tabby Cat",this.tier=2,this.pack="Puppy",this.attack=4,this.health=3,this.initPet(o,s,r,a)}}class Xv extends k{constructor(t,e,i,s,r,o,a){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Flying Squirrel",this.tier=3,this.pack="Puppy",this.attack=3,this.health=3,this.initPet(o,s,r,a)}friendlyToyBroke(t,e){this.logService.createLog({message:`${this.parent.toy.name} respawned!`,type:"ability",player:this.parent,tiger:e});let i=this.level;this.increaseAttack(i),this.logService.createLog({message:`${this.name} gained ${i} attack.`,type:"ability",player:this.parent,tiger:e}),this.superFriendlyToyBroke(t,e)}}class A0 extends k{constructor(t,e,i,s,r,o,a){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Mandrill",this.tier=2,this.pack="Puppy",this.attack=3,this.health=4,this.initPet(o,s,r,a)}faint(t,e,i){var s;if((null===(s=this.parent.toy)||void 0===s?void 0:s.tier)<=2*this.level){let o=!1;for(let a of this.parent.petArray)if(a instanceof Xv){o=!0;break}this.parent.breakToy(o),this.abilityService.triggerFriendlyToyBrokeEvents(this.parent)}}}class P0 extends k{constructor(t,e,i,s,r,o,a){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Lemur",this.tier=2,this.pack="Puppy",this.attack=3,this.health=3,this.initPet(o,s,r,a)}}class k0 extends k{constructor(t,e,i,s,r,o,a){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Hoopoe Bird",this.tier=3,this.pack="Puppy",this.attack=3,this.health=2,this.initPet(o,s,r,a)}faint(t,e,i){let s=Tt(t,this.parent),r=s.furthestUpPet,o=s.getLastPet(),a=2*this.level;!r||(this.snipePet(r,a,!1,e,i),this.snipePet(o,a,!1,e,i),this.superFaint(t,e))}}class T0 extends k{constructor(t,e,i,s,r,o,a){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Tropical Fish",this.tier=3,this.pack="Puppy",this.attack=2,this.health=4,this.initPet(o,s,r,a)}}class x0 extends k{constructor(t,e,i,s,r,o,a){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Hatching Chick",this.tier=3,this.pack="Puppy",this.attack=2,this.health=2,this.initPet(o,s,r,a)}endTurn(t){if(this.level>1)return;let e=this.petAhead;null!=e&&(e.increaseAttack(4),e.increaseHealth(4),this.logService.createLog({message:`${this.name} gave ${e.name} 4 attack and 4 health.`,type:"ability",player:this.parent}))}}class M0 extends k{constructor(t,e,i,s,r,o,a){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Goldfish",this.tier=3,this.pack="Puppy",this.attack=1,this.health=5,this.initPet(o,s,r,a)}}class I0 extends k{constructor(t,e,i,s,r,o,a){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Owl",this.tier=3,this.pack="Puppy",this.attack=4,this.health=4,this.initPet(o,s,r,a)}}class Cp extends k{constructor(t,e,i,s,r,o,a){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Mole",this.tier=3,this.pack="Puppy",this.attack=2,this.health=3,this.initPet(o,s,r,a)}faint(t,e,i){let s=6*this.level,r=[];for(let o of this.parent.petArray)o!=this&&o.equipment&&r.push(o);if(r=r.slice(0,2),!(r.length<2)){for(let o of r)o.equipment=null,this.logService.createLog({message:`${this.name} removed ${o.name}'s equipment.`,type:"ability",player:this.parent,pteranodon:i});this.abilityService.setSpawnEvent({callback:()=>{this.logService.createLog({message:`${this.name} summoned a ${s}/${s} Mole.`,type:"ability",player:this.parent,pteranodon:i});let o=new Cp(this.logService,this.abilityService,this.parent,s,s);this.parent.summonPet(o,this.savedPosition)&&this.abilityService.triggerSummonedEvents(o)},priority:this.attack})}}}class O0 extends k{constructor(t,e,i,s,r,o,a){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Raccoon",this.tier=3,this.pack="Puppy",this.attack=3,this.health=2,this.initPet(o,s,r,a)}beforeAttack(t,e){let s=Tt(t,this.parent).getPetAtPosition(0);null!=s&&null!=s.equipment&&(this.abilityUses>=this.maxAbilityUses||(this.logService.createLog({message:`${this.name} stole ${s.name}'s equipment. (${s.equipment.name})`,type:"ability",player:this.parent}),this.givePetEquipment(s.equipment),s.equipment=null,this.abilityUses++))}setAbilityUses(){super.setAbilityUses(),this.maxAbilityUses=this.level}}class N0 extends k{constructor(t,e,i,s,r,o,a){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Pangolin",this.tier=3,this.pack="Puppy",this.attack=2,this.health=5,this.initPet(o,s,r,a)}faint(t,e,i){if(null==this.parent.toy||null==this.petBehind())return;let s=5*this.level;this.petBehind().increaseHealth(s),this.logService.createLog({message:`${this.name} gave ${this.petBehind().name} ${s} health.`,type:"ability",player:this.parent,tiger:e,pteranodon:i}),this.superFaint(t,e)}}class R0 extends k{constructor(t,e,i,s,r,o,a){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Puppy",this.tier=3,this.pack="Puppy",this.attack=3,this.health=3,this.initPet(o,s,r,a)}}class L0 extends k{constructor(t,e,i,s,r,o,a){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Microbe",this.tier=4,this.pack="Puppy",this.attack=1,this.health=1,this.initPet(o,s,r,a)}faint(t,e,i){let s=this.parent.petArray.filter(r=>r!=this);s=[...s,...Tt(t,this.parent).petArray];for(let r of s)!r.alive||(this.logService.createLog({message:`${this.name} gave ${r.name} Weak.`,type:"ability",player:this.parent,tiger:e,pteranodon:i}),r.givePetEquipment(new ih));this.superFaint(t,e)}}class V0 extends k{constructor(t,e,i,s,r,o,a){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Lobster",this.tier=4,this.pack="Puppy",this.attack=3,this.health=3,this.initPet(o,s,r,a)}}class F0 extends k{constructor(t,e,i,s,r,o,a){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Buffalo",this.tier=4,this.pack="Puppy",this.attack=4,this.health=4,this.initPet(o,s,r,a)}}class B0 extends k{constructor(t,e,i,s,r,o,a){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Llama",this.tier=4,this.pack="Puppy",this.attack=2,this.health=5,this.initPet(o,s,r,a)}}class ey extends k{constructor(t,e,i,s,r,o,a){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Butterly",this.tier=1,this.pack="Puppy",this.hidden=!0,this.health=1,this.attack=1,this.initPet(o,s,r,a)}transform(t,e){let s=Tt(t,this.parent).getStrongestPet();this.health=s.health,this.attack=s.attack,this.logService.createLog({message:`${this.name} copied stats from the strongest enemy (${this.attack}/${this.health}).`,type:"ability",player:this.parent,tiger:e}),this.superTransform(t,e)}}class $0 extends k{constructor(t,e,i,s,r,o,a){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Caterpillar",this.tier=4,this.pack="Puppy",this.attack=1,this.health=1,this.initPet(o,s,r,a)}startOfBattle(t,e){if(this.level<3)return;let i=new ey(this.logService,this.abilityService,this.parent,1,1,this.exp);this.parent.setPet(this.position,i),this.logService.createLog({message:`${this.name} transformed into a Butterfly.`,type:"ability",player:this.parent})}}class H0 extends k{constructor(t,e,i,s,r,o,a){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Doberman",this.tier=4,this.pack="Puppy",this.attack=4,this.health=5,this.initPet(o,s,r,a)}startOfBattle(t,e){let i=!0;for(let r of this.parent.petArray)if(r!=this&&r.tier<=this.tier){i=!1;break}if(!i)return;let s=8*this.level;this.increaseAttack(s),this.givePetEquipment(new Ta),this.logService.createLog({message:`${this.name} gained ${s} attack and gained a Coconut.`,type:"ability",player:this.parent,tiger:e}),this.superStartOfBattle(t,e)}}class q0 extends k{constructor(t,e,i,s,r,o,a){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Tahr",this.tier=4,this.pack="Puppy",this.attack=5,this.health=3,this.initPet(o,s,r,a)}faint(t,e,i){if(null==this.petBehind())return;let s=this.petBehind(),r=[s];for(;null!=s.petBehind();)s=s.petBehind(),r.push(s);let o=1;for(let a of r){if(o>this.level)break;a.equipment instanceof Sp||(this.logService.createLog({message:`${this.name} gave ${a.name} Chili.`,type:"ability",player:this.parent,tiger:e,pteranodon:i}),a.givePetEquipment(new Sp(this.logService,this.abilityService)),o++)}this.superFaint(t,e)}}class U0 extends k{constructor(t,e,i,s,r,o,a){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Whale Shark",this.tier=4,this.pack="Puppy",this.attack=1,this.health=4,this.initPet(o,s,r,a)}givePetEquipment(t){super.givePetEquipment(t),this.equipment=null;let e=2*this.level;this.increaseAttack(e),this.increaseHealth(e),this.logService.createLog({message:`${this.name} removed ${t.name} and gained ${e} attack and ${e} health.`,type:"ability",player:this.parent})}}class G0 extends k{constructor(t,e,i,s,r,o,a){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Chameleon",this.tier=4,this.pack="Puppy",this.attack=3,this.health=5,this.initPet(o,s,r,a)}faint(t,e,i){if(null==this.parent.toy)return;let s=this.parent.toy,r=s.level;s.level=this.level,this.logService.createLog({message:`${this.name} activated ${s.name}.`,type:"ability",player:this.parent,pteranodon:i}),s.onBreak&&this.parent.breakToy(!0),s.startOfBattle&&s.startOfBattle(t),s.level=r}}class j0 extends k{constructor(t,e,i,s,r,o,a){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Gharial",this.tier=4,this.pack="Puppy",this.attack=5,this.health=3,this.initPet(o,s,r,a)}}class W0 extends k{constructor(t,e,i,s,r,o,a){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Stonefish",this.tier=5,this.pack="Puppy",this.attack=7,this.health=4,this.initPet(o,s,r,a)}faint(t,e,i){let s=Tt(t,this.parent);null==s.pet0||!s.pet0.alive||(this.snipePet(s.pet0,this.attack*this.level,!1,e,i),this.superFaint(t,e))}}class z0 extends k{constructor(t,e,i,s,r,o,a){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Poodle",this.tier=5,this.pack="Puppy",this.attack=2,this.health=2,this.initPet(o,s,r,a)}}class K0 extends k{constructor(t,e,i,s,r,o,a){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Chicken",this.tier=5,this.pack="Puppy",this.attack=3,this.health=4,this.initPet(o,s,r,a)}}class Y0 extends k{constructor(t,e,i,s,r,o,a,u){super(t,e,s),this.logService=t,this.abilityService=e,this.petService=i,this.name="Eagle",this.tier=5,this.pack="Puppy",this.attack=6,this.health=5,this.initPet(a,r,o,u)}faint(t,e,i){let r,s=Math.min(6,t.previousShopTier+1);r=this.parent==t.player?t.playerPetPool.get(s):t.opponentPetPool.get(s);let o=r[Math.floor(Math.random()*r.length)],a=5*this.level;this.abilityService.setSpawnEvent({callback:()=>{let u=this.petService.createPet({name:o,attack:a,health:a,exp:this.minExpForLevel,equipment:null},this.parent);this.logService.createLog({message:`${this.name} spawned ${u.name} Level ${u.level}`,type:"ability",player:this.parent,tiger:e,randomEvent:!0,pteranodon:i}),this.parent.summonPet(u,this.savedPosition)&&this.abilityService.triggerSummonedEvents(u)},priority:this.attack}),this.superFaint(t,e)}}class Q0 extends k{constructor(t,e,i,s,r,o,a){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Axolotl",this.tier=5,this.pack="Puppy",this.attack=2,this.health=3,this.initPet(o,s,r,a)}friendGainedPerk(t,e,i){if(e==this)return;let s=this.level;e.increaseAttack(s),e.increaseHealth(s),this.logService.createLog({message:`${this.name} gave ${e.name} ${s} attack and ${s} health.`,type:"ability",player:this.parent,tiger:i}),this.superFriendGainedPerk(t,e,i)}}class Z0 extends k{constructor(t,e,i,s,r,o,a){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Goat",this.tier=5,this.pack="Puppy",this.attack=4,this.health=6,this.initPet(o,s,r,a)}}class ty extends je{constructor(t){super(),this.logService=t,this.name="Skewer",this.equipmentClass="skewer",this.power=0,this.attackCallback=(e,i)=>{this.skewer(e,i,1),this.skewer(e,i,2)}}skewer(t,e,i){let s=e.parent.getPetAtPosition(i);if(null==s)return;let r=1;t instanceof Dn&&(r=1+t.level);let o=t.calculateDamgae(s,3),a=o.defenseEquipment,u=o.damage*r;s.health-=u;let h=`${t.name} attacks ${s.name} for ${u}`;if(t instanceof Dn&&(h+=` x${r} (Panther)`),null!=a){s.useDefenseEquipment();let f=Math.abs(a.power),g="-";a.power<0&&(g="+"),h+=` (${a.name} ${g}${f})`,e instanceof Dn&&(h+=` x${1+t.level} (Panther)`)}this.logService.createLog({message:h+=" (Skewer).",type:"attack",player:t.parent})}}class J0 extends k{constructor(t,e,i,s,r,o,a){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Snapping Turtle",this.tier=5,this.pack="Puppy",this.attack=4,this.health=5,this.initPet(o,s,r,a)}faint(t,e,i){if(null==this.petBehind())return;let s=this.petBehind(),r=[s];for(;null!=s.petBehind();)s=s.petBehind(),r.push(s);let o=1;for(let a of r){if(o>this.level)break;a.equipment instanceof ty||(this.logService.createLog({message:`${this.name} gave ${a.name} Skewer.`,type:"ability",player:this.parent,tiger:e,pteranodon:i}),a.givePetEquipment(new ty(this.logService)),o++)}this.superFaint(t,e)}}class X0 extends k{constructor(t,e,i,s,r,o,a){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Mosasaurus",this.tier=5,this.pack="Puppy",this.attack=5,this.health=6,this.initPet(o,s,r,a)}}class eA extends k{constructor(t,e,i,s,r,o,a){super(t,e,i),this.logService=t,this.abilityService=e,this.name="String Ray",this.tier=5,this.pack="Puppy",this.attack=4,this.health=6,this.initPet(o,s,r,a)}}class tA extends k{constructor(t,e,i,s,r,o,a){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Mantis Shrimp",this.tier=6,this.pack="Puppy",this.attack=9,this.health=3,this.initPet(o,s,r,a)}startOfBattle(t,e){let i=Tt(t,this.parent);for(let s=0;s<this.level;s++){let r=i.furthestUpPet;if(null==r)return;this.snipePet(r,10,!1,e)}this.superStartOfBattle(t,e)}}class nA extends k{constructor(t,e,i,s,r,o,a){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Lionfish",this.tier=6,this.pack="Puppy",this.attack=8,this.health=4,this.initPet(o,s,r,a)}faint(t,e,i){let s=Tt(t,this.parent),r=1+Math.floor(this.attack/10);for(let o=0;o<r;o++){let a=s.getRandomPet(null,null,!0);if(null==a)return;this.snipePet(a,3*this.level,!0,e,i)}this.superFaint(t,e)}}class iA extends k{constructor(t,e,i,s,r,o,a){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Tyrannosaurus",this.tier=6,this.pack="Puppy",this.attack=6,this.health=4,this.initPet(o,s,r,a)}}class sA extends k{constructor(t,e,i,s,r,o,a){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Octopus",this.tier=6,this.pack="Puppy",this.attack=8,this.health=8,this.initPet(o,s,r,a)}afterAttack(t,e){let i=Tt(t,this.parent);for(let s=0;s<this.level;s++){let r=i.getRandomPet(null,null,!0);if(null==r)return;this.snipePet(r,6,!0,e)}this.superAfterAttack(t,e)}}class rA extends k{constructor(t,e,i,s,r,o,a){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Anglerfish",this.tier=6,this.pack="Puppy",this.attack=7,this.health=4,this.initPet(o,s,r,a)}}class oA extends k{constructor(t,e,i,s,r,o,a){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Sauropod",this.tier=6,this.pack="Puppy",this.attack=4,this.health=12,this.initPet(o,s,r,a)}}class aA extends k{constructor(t,e,i,s,r,o,a){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Elephant Seal",this.tier=6,this.pack="Puppy",this.attack=3,this.health=9,this.initPet(o,s,r,a)}givePetEquipment(t){super.givePetEquipment(t);let e=this.level;for(let i of this.parent.petArray)i!=this&&(!i.alive||(i.increaseAttack(e),i.increaseHealth(e),this.logService.createLog({message:`${this.name} gave ${i.name} ${e} attack and ${e} health.`,type:"ability",player:this.parent})))}}class lA extends k{constructor(t,e,i,s,r,o,a){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Mongoose",this.tier=6,this.pack="Puppy",this.attack=4,this.health=3,this.initPet(o,s,r,a)}}class cA extends k{constructor(t,e,i,s,r,o,a){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Pillbug",this.tier=1,this.pack="Star",this.attack=2,this.health=2,this.initPet(o,s,r,a)}}class uA extends k{constructor(t,e,i,s,r,o,a){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Duckling",this.tier=1,this.pack="Star",this.attack=1,this.health=2,this.initPet(o,s,r,a)}}class hA extends k{constructor(t,e,i,s,r,o,a){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Cockroach",this.tier=1,this.pack="Star",this.attack=1,this.health=4,this.initPet(o,s,r,a)}}class Dp extends k{constructor(t,e,i,s,r,o,a){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Frog",this.tier=1,this.pack="Star",this.attack=3,this.health=2,this.initPet(o,s,r,a)}startOfBattle(t,e){if(this.level>1)return;let i=this.petAhead,s=this.petBehind();if(null==i||null==s)return;let r=i.attack,o=i.health,u=s.health;i.attack=s.attack,i.health=u,s.attack=r,s.health=o,this.logService.createLog({message:`${this.name} swapped the attack and health of ${i.name} and ${s.name}.`,type:"ability",player:this.parent,tiger:e}),this.superStartOfBattle(t,e)}}class dA extends k{constructor(t,e,i,s,r,o,a){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Seahorse",this.tier=1,this.pack="Puppy",this.attack=2,this.health=3,this.initPet(o,s,r,a)}startOfBattle(t,e){let s=Tt(t,this.parent).getLastPet();this.parent.pushPet(s,this.level),this.logService.createLog({message:`${this.name} pushes ${s.name} forward ${this.level} space${this.level>1?"s":""}.`,type:"ability",player:this.parent,tiger:e}),this.superStartOfBattle(t,e)}}class fA extends k{constructor(t,e,i,s,r,o,a){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Iguana",this.tier=2,this.pack="Star",this.attack=3,this.health=3,this.initPet(o,s,r,a)}enemySummoned(t,e,i){null!=e&&e.alive&&(this.snipePet(e,2*this.level,!1,i),this.superEnemySummoned(t,e,i))}}class pA extends k{constructor(t,e,i,s,r,o,a){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Hummingbird",this.tier=1,this.pack="Star",this.attack=2,this.health=2,this.initPet(o,s,r,a)}startOfBattle(t,e){let i=this.parent.getRandomStrawberryPet(this);if(null==i)return;let s={attack:2*this.level,health:this.level};i.increaseHealth(s.health),i.increaseAttack(s.attack),this.logService.createLog({message:`${this.name} increased ${i.name}'s attack by ${s.attack} and health by ${s.health}.`,type:"ability",player:this.parent,tiger:e,randomEvent:!0}),this.superStartOfBattle(t,e)}}class gA extends k{constructor(t,e,i,s,r,o,a){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Koala",this.tier=2,this.pack="Star",this.attack=3,this.health=2,this.maxAbilityUses=1,this.initPet(o,s,r,a)}friendHurt(t,e,i){this.abilityUses>=this.maxAbilityUses&&!i||(e.increaseAttack(this.level),e.increaseHealth(this.level),this.logService.createLog({message:`${this.name} gave ${e.name} ${this.level} attack and ${this.level} health.`,type:"ability",player:this.parent,tiger:i}),this.abilityUses+=1,this.superFriendHurt(t,e,i))}}class mA extends k{constructor(t,e,i,s,r,o,a){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Yak",this.tier=2,this.pack="Star",this.attack=3,this.health=5,this.initPet(o,s,r,a)}}class _A extends k{constructor(t,e,i,s,r,o,a){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Salamander",this.tier=2,this.pack="Star",this.attack=2,this.health=4,this.initPet(o,s,r,a)}}class vA extends k{constructor(t,e,i,s,r,o,a){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Panda",this.tier=2,this.pack="Star",this.attack=2,this.health=4,this.initPet(o,s,r,a)}startOfBattle(t,e){let i=.5*this.level,s={attack:Math.floor(this.attack*i),health:Math.floor(this.health*i)},r=this.petAhead;null!=r&&(r.increaseAttack(s.attack),r.increaseHealth(s.health),this.logService.createLog({message:`${this.name} gave ${r.name} ${s.attack} attack and ${s.health} health.`,type:"ability",player:this.parent,tiger:e}),this.health=0,this.superStartOfBattle(t,e))}}class yA extends k{constructor(t,e,i,s,r,o,a){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Guinea Pig",this.tier=2,this.pack="Star",this.attack=2,this.health=3,this.initPet(o,s,r,a)}}class bA extends k{constructor(t,e,i,s,r,o,a){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Pug",this.tier=2,this.pack="Star",this.attack=5,this.health=2,this.initPet(o,s,r,a)}startOfBattle(t,e){if(null==this.petAhead)return;let i=this.level;this.logService.createLog({message:`${this.name} gave ${this.petAhead.name} ${i} exp.`,type:"ability",player:this.parent,tiger:e}),this.petAhead.increaseExp(i),this.superStartOfBattle(t,e)}}class SA extends k{constructor(t,e,i,s,r,o,a){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Jellyfish",this.tier=2,this.pack="Star",this.attack=2,this.health=3,this.initPet(o,s,r,a)}anyoneLevelUp(t,e,i){if(e.parent!=this.parent)return;let s=this.level;this.increaseAttack(s),this.increaseHealth(s),this.logService.createLog({message:`${this.name} increased attack by ${s} and health by ${s}`,type:"ability",player:this.parent,tiger:i}),this.superAnyoneLevelUp(t,e,i)}}class EA extends k{constructor(t,e,i,s,r,o,a){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Atlantic Puffin",this.tier=2,this.pack="Star",this.attack=2,this.health=3,this.initPet(o,s,r,a)}startOfBattle(t,e){let i=this.parent.getPetsWithEquipment("Strawberry").filter(r=>r!==this),s=Tt(t,this.parent);for(let r=0;r<this.level;r++)for(let o=0;o<i.length;o++){let a=s.getRandomPet(null,null,!0);if(null==a)break;this.snipePet(a,2,!0,e)}this.superStartOfBattle(t,e)}}class wA extends k{constructor(t,e,i,s,r,o,a){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Dove",this.tier=2,this.pack="Star",this.attack=2,this.health=1,this.initPet(o,s,r,a)}faint(t,e,i){let s=this.parent.getPetsWithEquipment("Strawberry").filter(a=>a!==this&&a.alive);s=(0,Me.shuffle)(s);let r=2*this.level,o=!1;if(s.length>2&&(o=!0),s.length>0){let a=s[0];a.increaseAttack(r),a.increaseHealth(r),this.logService.createLog({message:`${this.name} gave ${a.name} ${r} attack ${r} health.`,type:"ability",player:this.parent,tiger:e,randomEvent:o,pteranodon:i})}if(s.length>1){let a=s[1];a.increaseAttack(r),a.increaseHealth(r),this.logService.createLog({message:`${this.name} gave ${a.name} ${r} attack ${r} health.`,type:"ability",player:this.parent,tiger:e,randomEvent:o})}this.superFaint(t,e)}}class CA extends k{constructor(t,e,i,s,r,o,a,u){super(t,e,s),this.logService=t,this.abilityService=e,this.petService=i,this.name="Stork",this.tier=2,this.pack="Star",this.attack=2,this.health=1,this.initPet(a,r,o,u)}faint(t,e,i){let s,r=Math.max(1,t.previousShopTier-1);s=this.parent==t.player?t.playerPetPool.get(r):t.opponentPetPool.get(r);let o=s[Math.floor(Math.random()*s.length)];this.abilityService.setSpawnEvent({callback:()=>{let a=this.petService.createPet({name:o,attack:null,equipment:null,exp:this.minExpForLevel,health:null},this.parent);this.logService.createLog({message:`${this.name} spawned ${a.name} Level ${this.level}`,type:"ability",player:this.parent,tiger:e,randomEvent:!0,pteranodon:i}),this.parent.summonPet(a,this.savedPosition)&&this.abilityService.triggerSummonedEvents(a)},priority:this.attack}),this.superFaint(t,e)}}class DA extends k{constructor(t,e,i,s,r,o,a){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Leech",this.tier=3,this.pack="Star",this.attack=4,this.health=2,this.initPet(o,s,r,a)}}class AA extends k{constructor(t,e,i,s,r,o,a){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Woodpecker",this.tier=3,this.pack="Star",this.attack=4,this.health=3,this.uses=0,this.initPet(o,s,r,a)}startOfBattle(t,e){let i=this.parent.opponent;for(let s=0;s<this.level;s++){let o,r=this.petAhead;null==r?(r=i.furthestUpPet,o=null==r?void 0:r.petBehind()):(o=r.petAhead,null==o&&(o=i.furthestUpPet)),null!=r&&this.snipePet(r,2,!1,e),null!=o&&this.snipePet(o,2,!1,e)}this.superStartOfBattle(t,e)}}class PA extends k{constructor(t,e,i,s,r,o,a){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Toad",this.tier=3,this.pack="Star",this.attack=3,this.health=3,this.initPet(o,s,r,a)}enemyHurt(t,e,i){!e.alive||this.abilityUses>=this.maxAbilityUses||e.equipment instanceof ih||(e.givePetEquipment(new ih),this.abilityUses++,this.logService.createLog({message:`${this.name} gave ${e.name} Weak.`,type:"ability",player:this.parent,tiger:i}),this.enemyHurt(t,e,i))}setAbilityUses(){super.setAbilityUses(),this.maxAbilityUses=2*this.level}}class kA extends k{constructor(t,e,i,s,r,o,a){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Starfish",this.tier=4,this.pack="Star",this.attack=3,this.health=4,this.initPet(o,s,r,a)}}class TA extends k{constructor(t,e,i,s,r,o,a){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Clownfish",this.tier=4,this.pack="Star",this.attack=3,this.health=4,this.initPet(o,s,r,a)}anyoneLevelUp(t,e,i){if(e.parent!==this.parent)return;let s=2*this.level;e.increaseAttack(s),e.increaseHealth(s),this.logService.createLog({message:`${this.name} gave ${e.name} ${s} attack and ${s} health.`,type:"ability",player:this.parent,tiger:i}),this.superAnyoneLevelUp(t,e,i)}}class xA extends k{constructor(t,e,i,s,r,o,a){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Blobfish",this.tier=4,this.pack="Star",this.attack=2,this.health=6,this.initPet(o,s,r,a)}faint(t,e,i){let s=this.petBehind();if(null==s)return;let r=2*this.level;this.logService.createLog({message:`${this.name} gave ${s.name} ${r} attack and ${r} health.`,type:"ability",player:this.parent,tiger:e,pteranodon:i}),s.increaseAttack(r),s.increaseHealth(r),this.logService.createLog({message:`${this.name} gave ${s.name} ${r} exp.`,type:"ability",player:this.parent,tiger:e}),s.increaseExp(r),this.superFaint(t,e)}}class MA extends k{constructor(t,e,i,s,r,o,a){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Cabybara",this.tier=3,this.pack="Star",this.attack=2,this.health=5,this.initPet(o,s,r,a)}}class IA extends k{constructor(t,e,i,s,r,o,a){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Okapi",this.tier=3,this.pack="Star",this.attack=2,this.health=3,this.initPet(o,s,r,a)}}class OA extends k{constructor(t,e,i,s,r,o,a){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Cassowary",this.tier=3,this.pack="Star",this.attack=2,this.health=4,this.initPet(o,s,r,a)}}class ny extends k{constructor(t,e,i,s,r,o,a){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Orangutang",this.tier=4,this.pack="Star",this.attack=3,this.health=6,this.initPet(o,s,r,a)}}class NA extends k{constructor(t,e,i,s,r,o,a){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Eel",this.tier=3,this.pack="Star",this.attack=4,this.health=2,this.initPet(o,s,r,a)}startOfBattle(t,e){let i=.5*this.level;this.health=Math.min(50,Math.floor(this.health*(1+i))),this.logService.createLog({message:`${this.name} has gained ${100*i}% health. (${this.health})`,type:"ability",player:this.parent,tiger:e}),this.superStartOfBattle(t,e)}}class RA extends k{constructor(t,e,i,s,r,o,a){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Hawk",this.tier=4,this.pack="Star",this.attack=4,this.health=3,this.initPet(o,s,r,a)}startOfBattle(t,e){let i=this.parent.opponent,s=this.position,r=i.getPetAtPosition(this.position),o=1;for(;null==r&&o<5;)r=i.getPetAtPosition(s+o),null==r&&(r=i.getPetAtPosition(s-o)),o++;null!=r&&this.snipePet(r,7*this.level,!1,e)}}class LA extends k{constructor(t,e,i,s,r,o,a){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Platypus",this.tier=4,this.pack="Star",this.attack=2,this.health=2,this.initPet(o,s,r,a)}faint(t,e,i){let s=3*this.level,r=new qv(this.logService,this.abilityService,this.parent,s,s,this.minExpForLevel),o=new Uv(this.logService,this.abilityService,this.parent,s,s,this.minExpForLevel);this.abilityService.setSpawnEvent({callback:()=>{this.logService.createLog({message:`${this.name} spawned ${s}/${s} Duck level ${this.level}`,type:"ability",player:this.parent,tiger:e,pteranodon:i}),this.parent.summonPet(r,this.savedPosition)&&this.abilityService.triggerSummonedEvents(r)},priority:this.attack}),this.abilityService.setSpawnEvent({callback:()=>{this.logService.createLog({message:`${this.name} spawned ${s}/${s} Beaver level ${this.level}`,type:"ability",player:this.parent,tiger:e,pteranodon:i}),this.parent.summonPet(o,this.savedPosition)&&this.abilityService.triggerSummonedEvents(o)},priority:this.attack})}}class VA extends k{constructor(t,e,i,s,r,o,a){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Praying Mantis",this.tier=4,this.pack="Star",this.attack=7,this.health=2,this.initPet(o,s,r,a)}}class FA extends k{constructor(t,e,i,s,r,o,a){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Crow",this.tier=4,this.pack="Star",this.attack=3,this.health=3,this.initPet(o,s,r,a)}}class BA extends k{constructor(t,e,i,s,r,o,a){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Donkey",this.tier=4,this.pack="Star",this.attack=4,this.health=6,this.initPet(o,s,r,a)}friendFaints(t,e,i){if(this.abilityUses>=this.maxAbilityUses)return;let r=this.parent.opponent.getLastPet();null!=r&&(this.parent.pushPet(r,r.position),this.logService.createLog({message:`${this.name} pushed ${r.name} to the front.`,type:"ability",player:this.parent,tiger:i}),this.superFriendFaints(t,e,i),this.abilityUses++)}setAbilityUses(){super.setAbilityUses(),this.maxAbilityUses=this.level}}class $A extends k{constructor(t,e,i,s,r,o,a){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Pelican",this.tier=4,this.pack="Star",this.attack=2,this.health=3,this.initPet(o,s,r,a)}startOfBattle(t,e){let i=this.parent.getRandomStrawberryPet(this),s={attack:2*this.level,health:this.level};if(null==i)return;let r=this.parent.getPetsWithEquipment("Strawberry").filter(o=>o!=this).length>1;i.increaseAttack(s.attack),i.increaseHealth(s.health),this.logService.createLog({message:`${this.name} gave ${i.name} ${s.attack} attack and ${s.health} health.`,type:"ability",player:this.parent,tiger:e,randomEvent:r}),this.superStartOfBattle(t,e)}}class HA extends k{constructor(t,e,i,s,r,o,a){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Anteater",this.tier=3,this.pack="Star",this.attack=3,this.health=2,this.initPet(o,s,r,a)}faint(t,e,i){for(let s=0;s<this.level;s++)this.abilityService.setSpawnEvent({callback:()=>{let r=new Hv(this.logService,this.abilityService,this.parent,1,1,5);this.logService.createLog({message:`${this.name} spawned 1/1 Ant level 3`,type:"ability",player:this.parent,tiger:e,pteranodon:i}),this.parent.summonPet(r,this.savedPosition)&&this.abilityService.triggerSummonedEvents(r)},priority:this.attack});super.superFaint(t,e)}}class qA extends k{constructor(t,e,i,s,r,o,a){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Sword Fish",this.tier=5,this.pack="Star",this.attack=5,this.health=5,this.initPet(o,s,r,a)}startOfBattle(t,e){let s=this.parent.opponent.getHighestHealthPet(),r=s.pet,o=this.attack*this.level;null!=r&&this.snipePet(r,o,s.random,e),this.snipePet(this,o,!1,e),this.superStartOfBattle(t,e)}}class UA extends k{constructor(t,e,i,s,r,o,a){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Polar Bear",this.tier=5,this.pack="Star",this.attack=4,this.health=8,this.initPet(o,s,r,a)}}class GA extends k{constructor(t,e,i,s,r,o,a){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Siberian Huskey",this.tier=5,this.pack="Star",this.attack=4,this.health=3,this.initPet(o,s,r,a)}}class jA extends k{constructor(t,e,i,s,r,o,a){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Lion",this.tier=5,this.pack="Star",this.attack=6,this.health=6,this.initPet(o,s,r,a)}startOfBattle(t,e){let i=this.parent.petArray.filter(o=>o!==this),s=0;for(let o of i)o.tier>s&&(s=o.tier);let r=.5*this.level;this.tier<=s||(this.increaseAttack(Math.floor(this.attack*r)),this.increaseHealth(Math.floor(this.health*r)),this.logService.createLog({message:`${this.name} increased its attack and health by ${100*r}% (${this.attack}/${this.health})`,type:"ability",player:this.parent,tiger:e}),this.superStartOfBattle(t,e))}}class WA extends k{constructor(t,e,i,s,r,o,a){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Triceratops",this.tier=5,this.pack="Star",this.attack=5,this.health=6,this.initPet(o,s,r,a)}hurt(t,e,i){let s=this.parent.getRandomPet([this],!0,null),r=3*this.level;null!=s&&(s.increaseAttack(r),s.increaseHealth(r),this.logService.createLog({message:`${this.name} gave ${s.name} ${r} attack and ${r} health.`,type:"ability",player:this.parent,tiger:i,randomEvent:!0}),this.superHurt(t,i))}}class zA extends k{constructor(t,e,i,s,r,o,a){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Zebra",this.tier=5,this.pack="Star",this.attack=3,this.health=5,this.initPet(o,s,r,a)}}class KA extends k{constructor(t,e,i,s,r,o,a){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Fox",this.tier=5,this.pack="Star",this.attack=6,this.health=4,this.initPet(o,s,r,a)}}class YA extends k{constructor(t,e,i,s,r,o,a){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Hamster",this.tier=5,this.pack="Star",this.attack=2,this.health=4,this.initPet(o,s,r,a)}}class QA extends k{constructor(t,e,i,s,r,o,a){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Shoebill",this.tier=5,this.pack="Star",this.attack=2,this.health=4,this.initPet(o,s,r,a)}}class ZA extends k{constructor(t,e,i,s,r,o,a){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Vulture",this.tier=5,this.pack="Star",this.attack=4,this.health=3,this.initPet(o,s,r,a)}friendFaints(t,e,i){if(i||this.abilityUses++,this.abilityUses%2==1)return;let r=this.parent.opponent.getRandomPet(null,null,!0);null!=r&&(this.snipePet(r,4*this.level,!0,i),this.superFriendFaints(t,e,i))}}class JA extends k{constructor(t,e,i,s,r,o,a){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Komodo",this.tier=6,this.pack="Star",this.attack=6,this.health=6,this.initPet(o,s,r,a)}}class XA extends k{constructor(t,e,i,s,r,o,a){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Ostrich",this.tier=6,this.pack="Star",this.attack=2,this.health=8,this.initPet(o,s,r,a)}}class eP extends k{constructor(t,e,i,s,r,o,a){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Reindeer",this.tier=6,this.pack="Star",this.attack=6,this.health=4,this.initPet(o,s,r,a)}beforeAttack(t,e){this.abilityUses>=this.maxAbilityUses||(this.givePetEquipment(new ka),this.abilityUses++,this.logService.createLog({message:`${this.name} gained Melon.`,type:"ability",player:this.parent,tiger:e}),this.superAfterAttack(t,e))}setAbilityUses(){super.setAbilityUses(),this.maxAbilityUses=this.level}}class tP extends k{constructor(t,e,i,s,r,o,a){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Stegosaurus",this.tier=6,this.pack="Star",this.attack=3,this.health=8,this.initPet(o,s,r,a)}startOfBattle(t,e){let i=this.parent.getPetsWithEquipment(null).filter(o=>o!==this),s=i[Math.floor(Math.random()*i.length)];if(null==s)return;let r=this.level*t.turnNumber;s.increaseAttack(r),s.increaseHealth(r),this.logService.createLog({message:`${this.name} gave ${s.name} ${r} attack and ${r} health.`,type:"ability",player:this.parent,tiger:e,randomEvent:i.length>1}),this.superStartOfBattle(t,e)}}class nP extends k{constructor(t,e,i,s,r,o,a){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Piranha",this.tier=6,this.pack="Star",this.attack=10,this.health=4,this.initPet(o,s,r,a)}hurt(t,e,i){let s=this.parent.petArray.filter(o=>o!==this&&o.alive),r=3*this.level;for(let o of s)o.increaseAttack(r),this.logService.createLog({message:`${this.name} gave ${o.name} ${r} attack.`,type:"ability",player:this.parent,tiger:i});this.superHurt(t,i)}}class iP extends k{constructor(t,e,i,s,r,o,a){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Hammerhead Shark",this.tier=6,this.pack="Star",this.attack=5,this.health=5,this.initPet(o,s,r,a)}}class sP extends k{constructor(t,e,i,s,r,o,a){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Velociraptor",this.tier=6,this.pack="Star",this.attack=3,this.health=2,this.initPet(o,s,r,a)}startOfBattle(t,e){let i=this.parent.getPetsWithEquipment("Strawberry").filter(r=>r!==this&&r.alive);i=(0,Me.shuffle)(i);let s=[];for(let r=0;r<this.level&&null!=i[r];r++)s.push(i[r]);for(let r of s)r.givePetEquipment(new Ta),this.logService.createLog({message:`${this.name} gave ${r.name} Coconut.`,type:"ability",player:this.parent,tiger:e,randomEvent:this.level<i.length})}}class rP extends k{constructor(t,e,i,s,r,o,a,u){super(t,e,s),this.logService=t,this.abilityService=e,this.petService=i,this.name="Sabertooth Tiger",this.tier=6,this.pack="Star",this.attack=6,this.health=6,this.initPet(a,r,o,u)}hurt(t,e,i){let r,s=5*this.level;r=this.parent==t.player?t.playerPetPool.get(1):t.opponentPetPool.get(1);let o=r[Math.floor(Math.random()*r.length)];this.abilityService.setSpawnEvent({callback:()=>{let a=this.petService.createPet({name:o,attack:s,health:s,equipment:null,exp:0},this.parent);this.logService.createLog({message:`${this.name} spawned ${a.name} (${s}/${s}).`,type:"ability",player:this.parent,tiger:i,randomEvent:!0}),this.parent.summonPet(a,this.savedPosition)&&this.abilityService.triggerSummonedEvents(a)},priority:this.attack}),super.superHurt(t,i)}}class oP extends k{constructor(t,e,i,s,r,o,a,u){super(t,e,s),this.logService=t,this.abilityService=e,this.petService=i,this.name="Orca",this.tier=6,this.pack="Star",this.attack=4,this.health=8,this.initPet(a,r,o,u)}faint(t,e,i){for(let s=0;s<this.level;s++){let r=this.petService.getRandomFaintPet(this.parent);this.abilityService.setSpawnEvent({callback:()=>{this.logService.createLog({message:`${this.name} spawned ${r.name}.`,type:"ability",player:this.parent,tiger:e,randomEvent:!0,pteranodon:i}),this.parent.summonPet(r,this.savedPosition)&&this.abilityService.triggerSummonedEvents(r)},priority:this.attack}),super.superFaint(t,e)}}}class aP extends k{constructor(t,e,i,s,r,o,a){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Spinosaurus",this.tier=6,this.pack="Star",this.attack=4,this.health=8,this.initPet(o,s,r,a)}friendFaints(t,e,i){let s={attack:3*this.level,health:2*this.level},r=this.parent.getRandomPet([this],!0);null!=r&&(r.increaseAttack(s.attack),r.increaseHealth(s.health),this.logService.createLog({message:`${this.name} gave ${r.name} ${s.attack} attack and ${s.health} health.`,type:"ability",player:this.parent,tiger:i,randomEvent:!0}))}}class lP extends k{constructor(t,e,i,s,r,o,a){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Bulldog",this.tier=1,this.pack="Golden",this.attack=1,this.health=3,this.initPet(o,s,r,a)}afterAttack(t,e){!this.alive||(this.attack=Math.min(50,this.health+this.level),this.logService.createLog({message:`${this.name} attack is set to ${this.attack}.`,type:"ability",player:this.parent,tiger:e}),this.superAfterAttack(t,e))}}class iy extends k{constructor(t,e,i,s,r,o,a){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Groundhog",this.tier=1,this.pack="Golden",this.attack=2,this.health=1,this.initPet(o,s,r,a)}faint(t,e,i){this.parent.gainTrumpets(this.level,this,i),this.superFaint(t,e)}}class cP extends k{constructor(t,e,i,s,r,o,a){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Cone Snail",this.tier=1,this.pack="Golden",this.attack=1,this.health=2,this.initPet(o,s,r,a)}startOfBattle(t,e){let i=this.petBehind();if(null==i)return;let s=2*this.level;i.increaseHealth(s),this.logService.createLog({message:`${this.name} gave ${i.name} ${s} health.`,type:"ability",player:this.parent,tiger:e}),this.superStartOfBattle(t,e)}}class uP extends k{constructor(t,e,i,s,r,o,a){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Goose",this.tier=1,this.pack="Golden",this.attack=2,this.health=2,this.initPet(o,s,r,a)}startOfBattle(t,e){let i=this.parent.opponent.furthestUpPet;if(null==i)return;let s=this.level;i.increaseAttack(-this.level),this.logService.createLog({message:`${this.name} removed ${s} attack from ${i.name}.`,type:"ability",player:this.parent,tiger:e}),this.superStartOfBattle(t,e)}}class hP extends k{constructor(t,e,i,s,r,o,a){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Pied Tamarin",this.tier=1,this.pack="Golden",this.attack=1,this.health=2,this.initPet(o,s,r,a)}faint(t,e,i){if(this.parent.trumpets<1)return;let s=this.parent.opponent.getRandomPets(this.level,null,null,!0);for(let r of s)this.snipePet(r,3,!0,e,i);s.length>0&&this.parent.spendTrumpets(1,this,i)}}class dP extends k{constructor(t,e,i,s,r,o,a){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Opposum",this.tier=1,this.pack="Golden",this.attack=2,this.health=3,this.initPet(o,s,r,a)}}class fP extends k{constructor(t,e,i,s,r,o,a){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Silkmoth",this.tier=1,this.pack="Golden",this.attack=3,this.health=1,this.maxAbilityUses=2,this.initPet(o,s,r,a)}friendHurt(t,e,i){if(this.abilityUses>=this.maxAbilityUses||e!=this.petAhead||!e.alive)return;let s=this.level;e.increaseHealth(s),this.logService.createLog({message:`${this.name} gave ${e.name} ${s} health.`,type:"ability",player:this.parent,tiger:i}),this.abilityUses++,this.superFriendHurt(t,e,i)}}class pP extends k{constructor(t,e,i,s,r,o,a){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Magpie",this.tier=1,this.pack="Golden",this.attack=1,this.health=4,this.initPet(o,s,r,a)}}class gP extends k{constructor(t,e,i,s,r,o,a){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Hercules Beetle",this.tier=2,this.pack="Golden",this.attack=3,this.health=4,this.initPet(o,s,r,a)}}class mP extends k{constructor(t,e,i,s,r,o,a){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Stoat",this.tier=2,this.pack="Golden",this.attack=2,this.health=2,this.initPet(o,s,r,a)}}class _P extends k{constructor(t,e,i,s,r,o,a){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Black Necked Stilt",this.tier=2,this.pack="Golden",this.attack=3,this.health=2,this.initPet(o,s,r,a)}faint(t,e,i){this.parent.gainTrumpets(2*this.level,this,i),this.superFaint(t,e)}}class YR extends je{constructor(){super(...arguments),this.name="Ink",this.equipmentClass="ailment-attack",this.power=-3}}class vP extends k{constructor(t,e,i,s,r,o,a){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Squid",this.tier=2,this.pack="Golden",this.attack=5,this.health=2,this.initPet(o,s,r,a)}faint(t,e,i){if(this.parent.trumpets<1)return;let s=!1,r=this.parent.opponent.petArray.filter(o=>{var a;return o.health>0&&"Ink"!=(null===(a=o.equipment)||void 0===a?void 0:a.name)});for(let o=0;o<this.level;o++){let a=r[o];if(null==a)break;s=!0,a.givePetEquipment(new YR),this.logService.createLog({message:`${this.name} gave ${a.name} Ink.`,type:"ability",player:this.parent,tiger:e,pteranodon:i})}s&&this.parent.spendTrumpets(1,this,i),this.superFaint(t,e)}}class yP extends k{constructor(t,e,i,s,r,o,a){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Sea Urchin",this.tier=2,this.pack="Golden",this.attack=3,this.health=2,this.initPet(o,s,r,a)}faint(t,e,i){let s=[this.parent.opponent.furthestUpPet];if(null!=s[0]){for(let r=0;r<this.level-1;r++){let a=s[r].petBehind();if(null==a)break;s.push(a)}for(let r of s)r.increaseHealth(-5),this.logService.createLog({message:`${this.name} removed 5 health from ${r.name}.`,type:"ability",player:this.parent,tiger:e,pteranodon:i});this.superFaint(t,e)}}}class bP extends k{constructor(t,e,i,s,r,o,a){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Door Head Ant",this.tier=2,this.pack="Golden",this.attack=2,this.health=2,this.initPet(o,s,r,a)}emptyFrontSpace(t,e){if(null!=this.parent.pet0)return;this.parent.pushPetToFront(this),this.logService.createLog({message:`${this.name} pushed itself to the front.`,type:"ability",player:this.parent,tiger:e});let i=4*this.level;this.increaseHealth(i),this.logService.createLog({message:`${this.name} gained ${i} health.`,type:"ability",player:this.parent,tiger:e})}}class sy extends k{constructor(t,e,i,s,r,o,a){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Lizard Tail",this.tier=1,this.pack="Golden",this.hidden=!0,this.attack=3,this.health=1,this.initPet(o,s,r,a)}}class SP extends k{constructor(t,e,i,s,r,o,a){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Lizard",this.tier=2,this.pack="Golden",this.attack=1,this.health=3,this.maxAbilityUses=2,this.initPet(o,s,r,a)}hurt(t,e,i){this.abilityUses>=this.maxAbilityUses||(this.abilityService.setSpawnEvent({callback:()=>{let s=new sy(this.logService,this.abilityService,this.parent,null,null,this.minExpForLevel);this.logService.createLog({message:`${this.name} spawned Liazrd Tail Level ${this.level}`,type:"ability",player:this.parent,tiger:i}),this.parent.summonPet(s,this.savedPosition)&&this.abilityService.triggerSummonedEvents(s)},priority:this.attack}),this.abilityUses++,super.superFaint(t,i))}}class EP extends k{constructor(t,e,i,s,r,o,a){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Sea Turtle",this.tier=2,this.pack="Golden",this.attack=2,this.health=5,this.initPet(o,s,r,a)}friendSummoned(t,e){let i=3*this.level;t.increaseHealth(i),this.logService.createLog({message:`${this.name} gave ${t.name} ${i} health.`,type:"ability",player:this.parent,tiger:e}),this.superFriendSummoned(t,e)}}class wP extends k{constructor(t,e,i,s,r,o,a){super(t,e,i),this.logService=t,this.abilityService=e,this.name="African Penguin",this.tier=2,this.pack="Golden",this.attack=1,this.health=3,this.initPet(o,s,r,a)}}class CP extends k{constructor(t,e,i,s,r,o,a){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Musk Ox",this.tier=3,this.pack="Golden",this.attack=2,this.health=4,this.initPet(o,s,r,a)}friendAheadFaints(t,e){let i={attack:this.level,health:2*this.level};this.increaseAttack(i.attack),this.increaseHealth(i.health),this.logService.createLog({message:`${this.name} gained ${i.attack} attack and ${i.health} health.`,type:"ability",player:this.parent,tiger:e}),this.superFriendAheadFaints(t,e)}}class DP extends k{constructor(t,e,i,s,r,o,a){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Flea",this.tier=3,this.pack="Golden",this.attack=4,this.health=2,this.initPet(o,s,r,a)}faint(t,e,i){let s=(0,Me.clone)(this.parent.opponent.petArray);(0,Me.shuffle)(s),s=s.sort((r,o)=>r.health>o.health?-1:o.health>r.health?1:0).filter(r=>{var o;return"Weak"!=(null===(o=r.equipment)||void 0===o?void 0:o.name)});for(let r=0;r<this.level;r++){let o=s[r];if(null==o)break;o.givePetEquipment(new ih),this.logService.createLog({message:`${this.name} gave ${o.name} Weak.`,type:"ability",player:this.parent,tiger:e,pteranodon:i})}this.superFaint(t,e)}}class AP extends k{constructor(t,e,i,s,r,o,a){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Surgeon Fish",this.tier=3,this.pack="Golden",this.attack=3,this.health=3,this.initPet(o,s,r,a)}beforeAttack(t,e){let i=this.petBehind();if(null==i||this.parent.trumpets<2)return;this.parent.spendTrumpets(2,this);let s=6*this.level;i.increaseHealth(s),this.logService.createLog({message:`${this.name} gave ${i.name} ${s} health.`,type:"ability",player:this.parent,tiger:e}),this.superBeforeAttack(t,e)}}class PP extends k{constructor(t,e,i,s,r,o,a){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Weasel",this.tier=3,this.pack="Golden",this.attack=3,this.health=4,this.initPet(o,s,r,a)}faint(t,e,i){this.logService.createLog({message:`${this.name} gained ${this.level} Gold.`,type:"ability",player:this.parent,tiger:e,pteranodon:i}),this.superFaint(t,e)}}class kP extends k{constructor(t,e,i,s,r,o,a){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Guineafowl",this.tier=3,this.pack="Golden",this.attack=2,this.health=4,this.initPet(o,s,r,a)}hurt(t,e,i){this.parent.gainTrumpets(2*this.level,this),this.superHurt(t,i)}}class TP extends k{constructor(t,e,i,s,r,o,a){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Betta Fish",this.tier=3,this.pack="Golden",this.attack=2,this.health=3,this.initPet(o,s,r,a)}faint(t,e,i){let s=this.petBehind();if(null==s)return;let r={health:2*this.level,attack:4*this.level};s.increaseAttack(r.attack),s.increaseHealth(r.health),this.logService.createLog({message:`${this.name} gave ${s.name} ${r.attack} attack and ${r.health} health.`,type:"ability",player:this.parent,tiger:e,pteranodon:i}),this.superFaint(t,e)}}class xP extends k{constructor(t,e,i,s,r,o,a){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Meerkat",this.tier=3,this.pack="Golden",this.attack=1,this.health=3,this.initPet(o,s,r,a)}startOfBattle(t,e){let i;i=this.parent==t.player?t.playerGoldSpent:t.opponentGoldSpent;let s=Math.floor(i/3)*this.level,r=this.petAhead,o=this.petBehind();null!=r&&(r.increaseAttack(s),this.logService.createLog({message:`${this.name} gave ${r.name} ${s} attack.`,type:"ability",player:this.parent,tiger:e})),null!=o&&(o.increaseAttack(s),this.logService.createLog({message:`${this.name} gave ${o.name} ${s} attack.`,type:"ability",player:this.parent,tiger:e})),this.superFaint(t,e)}}class MP extends k{constructor(t,e,i,s,r,o,a){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Flying Fish",this.tier=3,this.pack="Golden",this.attack=3,this.health=2,this.maxAbilityUses=2,this.initPet(o,s,r,a)}friendSummoned(t,e){if(this.abilityUses>=this.maxAbilityUses)return;let i=2*this.level;this.logService.createLog({message:`${this.name} gave ${t.name} ${i} exp.`,type:"ability",player:this.parent,tiger:e}),t.increaseExp(i),this.abilityUses++,this.superFriendSummoned(t,e)}}class IP extends k{constructor(t,e,i,s,r,o,a){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Baboon",this.tier=3,this.pack="Golden",this.attack=1,this.health=2,this.initPet(o,s,r,a)}}class OP extends k{constructor(t,e,i,s,r,o,a){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Osprey",this.tier=3,this.pack="Golden",this.attack=3,this.health=3,this.initPet(o,s,r,a)}faint(t,e,i){for(let s=0;s<this.level;s++)this.abilityService.setSpawnEvent({callback:()=>{let r=new iy(this.logService,this.abilityService,this.parent,null,null,0);this.logService.createLog({message:`${this.name} summoned a 2/1 Groundhog`,type:"ability",player:this.parent,tiger:e,pteranodon:i}),this.parent.summonPet(r,this.savedPosition)&&this.abilityService.triggerSummonedEvents(r)},priority:this.attack});super.superFaint(t,e)}}class NP extends k{constructor(t,e,i,s,r,o,a){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Manatee",this.tier=4,this.pack="Golden",this.attack=2,this.health=11,this.initPet(o,s,r,a)}}class RP extends k{constructor(t,e,i,s,r,o,a){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Cuttlefish",this.tier=4,this.pack="Golden",this.attack=8,this.health=4,this.initPet(o,s,r,a)}faint(t,e,i){let s=this.parent.opponent.petArray,r=[];for(let o=0;o<this.level;o++){let a=s[s.length-(o+1)];if(null==a)break;r.push(a)}for(let o of r)o.givePetEquipment(new YR),this.logService.createLog({message:`${this.name} gave ${o.name} Ink.`,type:"ability",player:this.parent,tiger:e,pteranodon:i});this.superFaint(t,e)}}class LP extends k{constructor(t,e,i,s,r,o,a){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Egyptian Vulture",this.tier=5,this.pack="Golden",this.attack=7,this.health=4,this.initPet(o,s,r,a)}knockOut(t,e,i){if(this.abilityUses>=this.maxAbilityUses)return;let s=this.petBehind();for(;null!=s&&null==s.faint;)s=s.petBehind();null!=s&&null!=s.faint&&(this.logService.createLog({message:`${this.name} activated ${s.name}'s ability.`,type:"ability",player:this.parent,tiger:i}),s.faint(t,!1))}setAbilityUses(){super.setAbilityUses(),this.maxAbilityUses=this.level}}class VP extends k{constructor(t,e,i,s,r,o,a){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Saiga Antelope",this.tier=4,this.pack="Golden",this.attack=4,this.health=3,this.initPet(o,s,r,a)}friendFaints(t,e,i){!this.alive||this.parent.gainTrumpets(this.level,this)}}class FP extends k{constructor(t,e,i,s,r,o,a){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Sealion",this.tier=4,this.pack="Golden",this.attack=3,this.health=6,this.initPet(o,s,r,a)}}class BP extends k{constructor(t,e,i,s,r,o,a){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Vaquita",this.tier=4,this.pack="Golden",this.attack=3,this.health=4,this.initPet(o,s,r,a)}faint(t,e,i){let s=Math.floor(.5*this.level*this.parent.trumpets);this.parent.gainTrumpets(s,this,i)}}class ry extends k{constructor(t,e,i,s,r,o,a){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Smallest Slug",this.tier=1,this.pack="Golden",this.hidden=!0,this.health=1,this.attack=1,this.initPet(o,s,r,a)}}class oy extends k{constructor(t,e,i,s,r,o,a){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Smaller Slug",this.tier=1,this.pack="Golden",this.hidden=!0,this.health=2,this.attack=2,this.initPet(o,s,r,a)}faint(t,e,i){this.abilityService.setSpawnEvent({callback:()=>{let s=new ry(this.logService,this.abilityService,this.parent,null,null,this.minExpForLevel);this.logService.createLog({message:`${this.name} spawned Smallest Slug Level ${this.level}`,type:"ability",player:this.parent,tiger:e,pteranodon:i}),this.parent.summonPet(s,this.savedPosition)&&this.abilityService.triggerSummonedEvents(s)},priority:this.attack}),super.superFaint(t,e)}}class $P extends k{constructor(t,e,i,s,r,o,a){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Slug",this.tier=4,this.pack="Golden",this.attack=4,this.health=4,this.initPet(o,s,r,a)}faint(t,e,i){this.abilityService.setSpawnEvent({callback:()=>{let s=new oy(this.logService,this.abilityService,this.parent,null,null,this.minExpForLevel);this.logService.createLog({message:`${this.name} spawned Smaller Slug Level ${this.level}`,type:"ability",player:this.parent,tiger:e,pteranodon:i}),this.parent.summonPet(s,this.savedPosition)&&this.abilityService.triggerSummonedEvents(s)},priority:this.attack}),super.superFaint(t,e)}}class HP extends k{constructor(t,e,i,s,r,o,a){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Poison Dart Frog",this.tier=4,this.pack="Golden",this.attack=5,this.health=2,this.initPet(o,s,r,a)}friendAheadFaints(t,e){let i=this.parent.opponent.getHighestHealthPet(),s=i.pet;null!=s&&this.snipePet(s,4*this.level,i.random,e)}}class qP extends k{constructor(t,e,i,s,r,o,a){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Secretary Bird",this.tier=4,this.pack="Golden",this.attack=2,this.health=5,this.initPet(o,s,r,a)}friendFaints(t,e,i){if(i||this.abilityUses++,this.abilityUses%2==1)return;let s=this.petAhead;if(null==s)return;let r=3*this.level;s.increaseAttack(r),s.increaseHealth(r),this.logService.createLog({message:`${this.name} gave ${s.name} ${r} attack and ${r} health.`,type:"ability",player:this.parent,tiger:i}),this.superFriendFaints(t,e,i)}}class UP extends k{constructor(t,e,i,s,r,o,a){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Royal Flycatcher",this.tier=3,this.pack="Golden",this.attack=2,this.health=4,this.initPet(o,s,r,a)}enemySummoned(t,e,i){let s=this.parent.opponent.getRandomPet(null,null,!0);null!=s&&(this.snipePet(s,3*this.level,!0,i),this.superEnemySummoned(t,e,i))}}class GP extends k{constructor(t,e,i,s,r,o,a,u){super(t,e,s),this.logService=t,this.abilityService=e,this.petService=i,this.name="Falcon",this.tier=4,this.pack="Golden",this.attack=5,this.health=5,this.maxAbilityUses=3,this.initPet(a,r,o,u)}knockOut(t,e,i){this.abilityUses>=this.maxAbilityUses||(this.abilityService.setSpawnEvent({callback:()=>{let s=3*this.level,r=this.petService.createPet({attack:s,health:s,name:e.name,exp:this.minExpForLevel,equipment:null},this.parent);this.logService.createLog({message:`${this.name} spawned ${r.name} ${s}/${s} Level ${this.level}`,type:"ability",player:this.parent,tiger:i}),this.parent.summonPet(r,this.savedPosition)&&this.abilityService.triggerSummonedEvents(r)},priority:this.attack}),this.abilityUses++,super.superKnockOut(t,e,i))}}class jP extends k{constructor(t,e,i,s,r,o,a){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Manta Ray",this.tier=4,this.pack="Golden",this.attack=5,this.health=6,this.initPet(o,s,r,a)}}class WP extends k{constructor(t,e,i,s,r,o,a){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Macaque",this.tier=5,this.pack="Golden",this.attack=2,this.health=2,this.initPet(o,s,r,a)}startOfBattle(t,e){let i=12*this.level,s=new ny(this.logService,this.abilityService,this.parent,i,i,this.minExpForLevel,(0,Me.cloneDeep)(this.equipment)),r=`${this.name} spawned Orangutang ${s.attack}/${s.health}`;null!=this.equipment&&(r+=` with ${this.equipment.name}`),r+=".",this.logService.createLog({message:r,type:"ability",player:this.parent,tiger:e}),this.parent.summonPet(s,this.position)&&this.abilityService.triggerSummonedEvents(s),this.superStartOfBattle(t,e)}}class zP extends k{constructor(t,e,i,s,r,o,a){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Nyala",this.tier=5,this.pack="Golden",this.attack=3,this.health=4,this.initPet(o,s,r,a)}faint(t,e,i){this.parent.gainTrumpets(8*this.level,this,i),this.superFaint(t,e)}}class KP extends k{constructor(t,e,i,s,r,o,a){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Nurse Shark",this.tier=5,this.pack="Golden",this.attack=4,this.health=6,this.initPet(o,s,r,a)}faint(t,e,i){if(0==this.parent.trumpets)return;let s=3*Math.min(this.parent.trumpets,6),r=!1,o=(0,Me.shuffle)((0,Me.clone)(this.parent.opponent.petArray));for(let a=0;a<this.level;a++){let u=o[a];if(null==u)break;r=!0,this.snipePet(u,s,!0,e,i)}r&&this.parent.spendTrumpets(Math.min(this.parent.trumpets,6),this,i),this.superFaint(t,e)}}class YP extends k{constructor(t,e,i,s,r,o,a,u){super(t,e,s),this.logService=t,this.abilityService=e,this.petService=i,this.name="Beluga Whale",this.tier=5,this.pack="Golden",this.attack=3,this.health=8,this.initPet(a,r,o,u)}faint(t,e,i){null!=this.belugaSwallowedPet&&(this.abilityService.setSpawnEvent({callback:()=>{let s=this.petService.createPet({attack:null,equipment:null,exp:this.minExpForLevel,health:null,name:this.belugaSwallowedPet},this.parent);this.logService.createLog({message:`${this.name} spawned ${s.name} Level ${this.level}`,type:"ability",player:this.parent,tiger:e,pteranodon:i}),this.parent.summonPet(s,this.savedPosition)&&this.abilityService.triggerSummonedEvents(s)},priority:this.attack}),super.superFaint(t,e))}}class QP extends k{constructor(t,e,i,s,r,o,a,u){super(t,e,s),this.logService=t,this.abilityService=e,this.petService=i,this.name="Wolf",this.tier=5,this.pack="Golden",this.attack=4,this.health=4,this.initPet(a,r,o,u)}faint(t,e,i){let s={attack:3*this.level,health:2*this.level};for(let r=0;r<3;r++)this.abilityService.setSpawnEvent({callback:()=>{let o=this.petService.createPet({attack:s.attack,equipment:null,exp:this.minExpForLevel,health:s.health,name:"Pig"},this.parent);this.logService.createLog({message:`${this.name} spawned ${o.name} ${s.attack}/${s.health}`,type:"ability",player:this.parent,tiger:e,pteranodon:i}),this.parent.summonPet(o,this.savedPosition)&&this.abilityService.triggerSummonedEvents(o)},priority:this.attack});this.superFaint(t,e)}}class ZP extends k{constructor(t,e,i,s,r,o,a){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Silver Fox",this.tier=5,this.pack="Golden",this.attack=3,this.health=6,this.initPet(o,s,r,a)}beforeAttack(t,e){this.logService.createLog({message:`${this.name} gained ${this.level} Gold.`,type:"ability",player:this.parent,tiger:e}),this.superBeforeAttack(t,e)}}class JP extends k{constructor(t,e,i,s,r,o,a){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Fire Ant",this.tier=5,this.pack="Golden",this.attack=6,this.health=3,this.initPet(o,s,r,a)}faint(t,e,i){let s=(0,Me.shuffle)(this.parent.petArray.filter(r=>r!=this));s.sort((r,o)=>o.tier-r.tier);for(let r=0;r<this.level;r++){let o=s[r];if(null==o)break;o.increaseAttack(this.attack),this.logService.createLog({message:`${this.name} gave ${o.name} ${this.attack} attack.`,type:"ability",player:this.parent,tiger:e,randomEvent:!0,pteranodon:i})}super.superFaint(t,e)}}class XP extends k{constructor(t,e,i,s,r,o,a){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Cockatoo",this.tier=4,this.pack="Golden",this.attack=4,this.health=2,this.initPet(o,s,r,a)}}class ek extends k{constructor(t,e,i,s,r,o,a){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Blue Ringed Octopus",this.tier=5,this.pack="Golden",this.attack=2,this.health=4,this.initPet(o,s,r,a)}}class tk extends k{constructor(t,e,i,s,r,o,a){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Crane",this.tier=5,this.pack="Golden",this.attack=6,this.health=5,this.initPet(o,s,r,a)}friendHurt(t,e,i){e==this.petAhead&&(this.abilityUses>=this.maxAbilityUses||(this.petAhead.increaseAttack(5),this.logService.createLog({message:`${this.name} gave ${this.petAhead.name} 5 attack.`,type:"ability",player:this.parent,tiger:i}),this.petAhead.givePetEquipment(new ka),this.logService.createLog({message:`${this.name} gave ${this.petAhead.name} a Melon.`,type:"ability",player:this.parent,tiger:i}),this.abilityUses++,this.superFriendHurt(t,e,i)))}setAbilityUses(){super.setAbilityUses(),this.maxAbilityUses=this.level}}class nk extends k{constructor(t,e,i,s,r,o,a){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Emu",this.tier=5,this.pack="Golden",this.attack=3,this.health=4,this.initPet(o,s,r,a)}emptyFrontSpace(t,e){let i=this.petAhead;if(!i||null!=this.parent.pet0)return;this.parent.pushPet(i,4),this.logService.createLog({message:`${this.name} pushed ${i.name} to the front.`,type:"ability",player:this.parent,tiger:e});let s=4*this.level;i.increaseHealth(s),this.logService.createLog({message:`${this.name} gave ${i.name} ${s} health.`,type:"ability",player:this.parent,tiger:e})}}class ik extends k{constructor(t,e,i,s,r,o,a){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Wildebeast",this.tier=6,this.pack="Golden",this.attack=8,this.health=6,this.initPet(o,s,r,a)}beforeAttack(t,e){this.parent.trumpets<4||this.abilityUses>=this.maxAbilityUses||(this.givePetEquipment(new Ta),this.logService.createLog({message:`${this.name} gave itself a Coconut.`,type:"ability",player:this.parent,tiger:e}),this.parent.spendTrumpets(4,this),this.abilityUses++)}setAbilityUses(){super.setAbilityUses(),this.maxAbilityUses=this.level}}class sk extends k{constructor(t,e,i,s,r,o,a){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Highland Cow",this.tier=6,this.pack="Golden",this.attack=4,this.health=12,this.initPet(o,s,r,a)}startOfBattle(t,e){let i=Math.floor(this.health/3*this.level);this.parent.gainTrumpets(i,this)}}class rk extends k{constructor(t,e,i,s,r,o,a){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Catfish",this.tier=6,this.pack="Golden",this.attack=3,this.health=3,this.initPet(o,s,r,a)}}class ok extends k{constructor(t,e,i,s,r,o,a,u){super(t,e,s),this.logService=t,this.abilityService=e,this.petService=i,this.name="Pteranodon",this.tier=6,this.pack="Golden",this.attack=5,this.health=3,this.initPet(a,r,o,u)}friendFaints(t,e,i){this.abilityUses>=this.maxAbilityUses||e.name!=this.name&&(this.abilityService.setSpawnEvent({callback:()=>{let s=this.petService.createPet({attack:1,health:1,equipment:null,exp:e.exp,name:e.name},this.parent);this.logService.createLog({message:`${this.name} summoned a 1/1 ${e.name} behind it.`,type:"ability",player:this.parent,randomEvent:!1,tiger:i}),this.parent.summonPet(s,this.position)&&this.abilityService.triggerSummonedEvents(s)},priority:this.attack}),this.abilityUses++)}setAbilityUses(){super.setAbilityUses(),this.maxAbilityUses=this.level}}class ak extends k{constructor(t,e,i,s,r,o,a){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Warthog",this.tier=6,this.pack="Golden",this.attack=9,this.health=6,this.initPet(o,s,r,a)}faint(t,e,i){let s=this.level,r=Math.floor(this.attack/3);for(let o=0;o<r;o++){let a=this.parent.getRandomPet(null,!0,null);if(null==a)break;a.increaseAttack(s),a.increaseHealth(s),this.logService.createLog({message:`${this.name} gave ${a.name} ${s} attack and ${s} health.`,type:"ability",player:this.parent,tiger:e,pteranodon:i,randomEvent:!0})}}}class lk extends k{constructor(t,e,i,s,r,o,a){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Cobra",this.tier=6,this.pack="Golden",this.attack=12,this.health=6,this.initPet(o,s,r,a)}friendAheadAttacks(t,e){let i=this.parent.opponent.getRandomPet(null,null,!0);if(null==i)return;let s=Math.floor(.2*this.attack*this.level);this.snipePet(i,s,!0,e)}}class ck extends k{constructor(t,e,i,s,r,o,a){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Grizzly Bear",this.tier=6,this.pack="Golden",this.attack=6,this.health=6,this.initPet(o,s,r,a)}friendAttacks(t,e){if(e||this.abilityUses++,this.abilityUses%5!=0)return;let i=(0,Me.shuffle)(this.parent.opponent.petArray),s=6*this.level;for(let r=0;r<2;r++){let o=i[r];if(null==o)break;this.snipePet(o,s,!0,e)}this.superFriendAttacks(t,e)}}class uk extends k{constructor(t,e,i,s,r,o,a){super(t,e,i),this.logService=t,this.abilityService=e,this.name="German Shephard",this.tier=6,this.pack="Golden",this.attack=10,this.health=4,this.initPet(o,s,r,a)}friendSummoned(t,e){let i=Math.floor(this.attack*this.level*.25);t.increaseAttack(i),this.logService.createLog({message:`${this.name} gave ${t.name} ${i} attack.`,type:"ability",player:this.parent,tiger:e})}}class hk extends k{constructor(t,e,i,s,r,o,a){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Bird of Paradise",this.tier=6,this.pack="Golden",this.attack=3,this.health=3,this.initPet(o,s,r,a)}}class dk extends k{constructor(t,e,i,s,r,o,a){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Oyster",this.tier=6,this.pack="Golden",this.attack=2,this.health=10,this.initPet(o,s,r,a)}}class m6 extends k{constructor(t,e,i,s,r,o,a){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Maromoset",this.tier=1,this.pack="Star",this.attack=2,this.health=3,this.initPet(o,s,r,a)}}class fk extends k{constructor(t,e,i,s,r,o,a){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Jerboa",this.tier=4,this.pack="Custom",this.attack=1,this.health=3,this.initPet(o,s,r,a)}}class pk extends k{constructor(t,e,i,s,r,o,a){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Frilled Dragon",this.tier=1,this.pack="Custom",this.attack=1,this.health=1,this.initPet(o,s,r,a)}startOfBattle(t,e){let i=0;for(let s of this.parent.petArray)s!==this&&null!=s.faint&&i++;i*=this.level,this.increaseAttack(i),this.increaseHealth(i),this.logService.createLog({message:`${this.name} gained ${i} attack and ${i} health.`,type:"ability",player:this.parent,tiger:e})}}class gk extends k{constructor(t,e,i,s,r,o,a){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Wombat",this.tier=2,this.pack="Custom",this.attack=3,this.health=3,this.initPet(o,s,r,a)}startOfBattle(t,e){let i=Tt(t,this.parent),s=[],r=0;for(let a of i.petArray)null!=a.faint&&(a.tier>r?(s=[a],r=a.tier):a.tier==r&&s.push(a));if(0==s.length)return;let o=s[Math.floor(Math.random()*s.length)];this.faint=o.faint.bind(this),this.logService.createLog({message:`${this.name} has copied ${o.name}'s faint ability as level ${this.level}.`,type:"ability",player:this.parent,tiger:e,randomEvent:s.length>1}),this.superStartOfBattle(t,e)}}class mk extends k{constructor(t,e,i,s,r,o,a){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Aardvark",this.tier=3,this.pack="Custom",this.attack=2,this.health=3,this.initPet(o,s,r,a)}enemySummoned(t,e,i){let s=2*this.level;this.increaseAttack(s),this.increaseHealth(s),this.logService.createLog({message:`${this.name} gained ${s} attack and ${s} health.`,type:"ability",player:this.parent,tiger:i})}}class _k extends k{constructor(t,e,i,s,r,o,a){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Bear",this.tier=3,this.pack="Custom",this.attack=3,this.health=5,this.initPet(o,s,r,a)}faint(t,e,i){let s=[],r=this.petBehind();for(;null!=r&&(s.push(r),s.length!=this.level);)r=r.petBehind();let o=[];for(r=Tt(t,this.parent).petArray[0];null!=r;)if(r.alive){if(o.push(r),o.length==this.level)break;r=r.petBehind()}else r=r.petBehind();for(let a of[...s,...o])a.givePetEquipment(new Qv(this.logService,this.abilityService)),this.logService.createLog({message:`${this.name} gave ${a.name} Honey.`,type:"ability",player:this.parent,tiger:e,pteranodon:i})}}class vk extends k{constructor(t,e,i,s,r,o,a){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Emperor Tamarin",this.tier=3,this.pack="Custom",this.attack=3,this.health=3,this.initPet(o,s,r,a)}}class yk extends k{constructor(t,e,i,s,r,o,a){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Porcupine",this.tier=3,this.pack="Custom",this.attack=2,this.health=6,this.initPet(o,s,r,a)}hurt(t,e,i){this.snipePet(e,3*this.level)}}class bk extends k{constructor(t,e,i,s,r,o,a){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Wasp",this.tier=3,this.pack="Custom",this.attack=2,this.health=2,this.initPet(o,s,r,a)}}class Sk extends k{constructor(t,e,i,s,r,o,a){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Dragonfly",this.tier=4,this.pack="Custom",this.attack=1,this.health=1,this.initPet(o,s,r,a)}}class Ek extends k{constructor(t,e,i,s,r,o,a){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Lynx",this.tier=4,this.pack="Custom",this.attack=5,this.health=3,this.initPet(o,s,r,a)}startOfBattle(t,e){let i;i=t.player==this.parent?t.opponet:t.player;let s=0;for(let o of this.parent.petArray)s+=o.level;let r=i.getRandomPets(this.level,null,null,!0);for(let o of r)this.snipePet(o,s,!0,e);super.superStartOfBattle(t,e)}}class QR extends je{constructor(){super(...arguments),this.name="Steak",this.equipmentClass="attack",this.power=20,this.uses=1,this.originalUses=1}}class ZR extends je{constructor(t,e,i){super(),this.logService=t,this.abilityService=e,this.petService=i,this.name="Mushroom",this.equipmentClass="faint",this.callback=s=>{let r=1;s instanceof Dn&&(r=1+s.level);for(let o=0;o<r;o++){let a=this.petService.createDefaultVersionOfPet(s,1,1);this.abilityService.setSpawnEvent({callback:()=>{let u="";o>0&&(u=" (Panther)"),this.logService.createLog({message:`${s.name} Spawned ${a.name} (level ${a.level}) (Mushroom)${u}`,type:"ability",player:s.parent}),s.parent.summonPet(a,s.savedPosition)&&this.abilityService.triggerSummonedEvents(a)},priority:-1})}}}}class JR extends je{constructor(){super(),this.name="Croissant",this.equipmentClass="shop"}}class wk extends je{constructor(){super(...arguments),this.name="Pie",this.equipmentClass="beforeStartOfBattle"}}class XR extends je{constructor(){super(...arguments),this.equipmentClass="defense",this.name="Lemon",this.power=7,this.uses=2,this.originalUses=2}}class Ck extends je{constructor(){super(...arguments),this.name="Pancakes",this.equipmentClass="beforeStartOfBattle"}}class eL extends je{constructor(){super(...arguments),this.name="Strawberry",this.equipmentClass="shop"}}class tL extends je{constructor(){super(...arguments),this.name="Cucumber",this.equipmentClass="shop"}}class nL extends je{constructor(t,e){super(),this.logService=t,this.abilityService=e,this.name="Banana",this.equipmentClass="faint",this.callback=i=>{let s=1;i instanceof Dn&&(s=1+i.level);for(let r=0;r<s;r++)this.abilityService.setSpawnEvent({callback:()=>{let o=new Kv(this.logService,this.abilityService,i.parent,4,4,0);i.parent.summonPet(o,i.savedPosition);let a="";r>0&&(a=" (Panther)"),this.logService.createLog({message:`${i.name} Spawned Monkey (Banana)${a}`,type:"ability",player:i.parent}),this.abilityService.triggerSummonedEvents(o)},priority:i.attack})}}}class iL extends je{constructor(){super(...arguments),this.name="Cherry",this.equipmentClass="faint",this.callback=t=>{let e=1;t instanceof Dn&&(e=1+t.level),t.parent.gainTrumpets(2*e,this,!1,e)}}}class ay extends je{constructor(t){super(),this.logService=t,this.name="Chocolate Cake",this.equipmentClass="beforeAttack",this.callback=e=>{this.logService.createLog({message:`${e.name} gained 3 exp. (Chocolate Cake)`,type:"equipment",player:e.parent}),e.increaseExp(3),e.health=0,this.logService.createLog({message:`${e.name} fainted. (Chocolate Cake)`,type:"equipment",player:e.parent})}}}class sL extends je{constructor(t,e){super(),this.logService=t,this.abilityService=e,this.name="Durian",this.equipmentClass="snipe",this.uses=1,this.originalUses=1,this.attackCallback=(i,s)=>{let r=s.parent.getPetAtPosition(0);if(null==r)return void console.warn("durian didn't find target");let a=Math.max(1,Math.floor(r.health*(1-.33)));r.health=a,this.logService.createLog({message:`${this.name} reduced ${r.name} health by 33% (${a})`,type:"ability",player:i.parent})}}}class Dk extends je{constructor(t){super(),this.logService=t,this.name="Eggplant",this.equipmentClass="beforeStartOfBattle",this.callback=e=>{var i;if(e.eggplantTouched)return;let s=null===(i=e.startOfBattle)||void 0===i?void 0:i.bind(e);e.startOfBattle=r=>{null!=s&&s(r);let o=e.parent.opponent,a=o.getPet(e.position);null!=a&&(this.logService.createLog({message:`${e.name} pushed ${a.name} 1 space forward. (Eggplant)`,type:"equipment",player:e.parent}),o.pushPet(a,1))}}}}class Ak extends je{constructor(t){super(),this.logService=t,this.name="Pita Bread",this.power=0,this.equipmentClass="hurt",this.callback=e=>{var i;let s=null===(i=e.hurt)||void 0===i?void 0:i.bind(e);e.hurt=r=>{var o;if(null!=s&&s(r),"Pita Bread"!=(null===(o=e.equipment)||void 0===o?void 0:o.name)||!e.alive)return;let a=1;e instanceof Dn&&(a=1+e.level);let u=15*a;e.increaseHealth(u);let h=`${e.name} gained ${u} health. (Pita Bread)`;h+=".",this.logService.createLog({message:h,type:"equipment",player:e.parent,pantherMultiplier:a}),e.givePetEquipment(null)}}}}class rL extends je{constructor(){super(...arguments),this.name="Potato",this.equipmentClass="shield-snipe",this.power=10,this.uses=2,this.originalUses=2}}class oL extends je{constructor(t,e){super(),this.logService=t,this.abilityService=e,this.name="Tomato",this.equipmentClass="snipe",this.uses=1,this.originalUses=1,this.attackCallback=(i,s)=>{let r=s.parent.getLastPet();if(null==r)return void console.warn("tomato didn't find target");let o=i.calculateDamgae(r,8,!0),a=o.defenseEquipment,u=o.damage;r.health-=u;let h=`${i.name} sniped ${r.name} for ${u}`;if(i instanceof Dn&&(h+=` x${1+i.level} (Panther)`),null!=a){r.useDefenseEquipment();let f=Math.abs(a.power),g="-";a.power<0&&(g="+"),h+=` (${a.name} ${g}${f})`}this.logService.createLog({message:h+=" (Tomato).",type:"attack",player:i.parent}),null!=r.hurt&&this.abilityService.setHurtEvent({callback:r.hurt.bind(r),priority:r.attack,player:r.parent,callbackPet:s}),r.health<1&&null!=i.knockOut&&(console.log("knock out!"),this.abilityService.setKnockOutEvent({callback:i.knockOut.bind(i),priority:i.attack,callbackPet:r})),r.alive&&this.abilityService.triggerFriendHurtEvents(s.parent,s),r.alive&&u>0&&this.abilityService.triggerEnemyHurtEvents(i.parent,r)}}}class aL extends je{constructor(){super(...arguments),this.name="Carrot",this.equipmentClass="shop"}}class lL extends je{constructor(){super(...arguments),this.name="Grapes",this.equipmentClass="shop"}}class cL extends je{constructor(t,e,i,s){super(),this.logService=t,this.abilityService=e,this.petSerivce=i,this.gameService=s,this.name="Popcorn",this.equipmentClass="faint",this.callback=r=>{let o=1;r instanceof Dn&&(o=1+r.level);for(let a=0;a<o;a++)this.abilityService.setSpawnEvent({callback:()=>{let u;u=r.parent==this.gameService.gameApi.player?this.gameService.gameApi.playerPetPool:this.gameService.gameApi.opponentPetPool;let h=u.get(r.tier),f=h[Math.floor(Math.random()*h.length)],g=this.petSerivce.createPet({attack:null,equipment:null,exp:0,health:null,name:f},r.parent),m="";a>0&&(m=" (Panther)"),this.logService.createLog({message:`${r.name} Spawned ${g.name} (Popcorn)${m}`,type:"ability",player:r.parent,randomEvent:!0}),r.parent.summonPet(g,r.savedPosition),this.abilityService.triggerSummonedEvents(g)},priority:r.attack})}}}class uL extends je{constructor(){super(),this.name="Blueberry",this.equipmentClass="target"}}class hL extends je{constructor(){super(),this.name="Donut",this.equipmentClass="target"}}class Pk extends k{constructor(t,e,i,s,r,o,a,u,h){super(t,e,r),this.logService=t,this.abilityService=e,this.petService=i,this.gameService=s,this.name="Seagull",this.tier=4,this.pack="Custom",this.attack=4,this.health=3,this.initPet(u,o,a,h)}friendSummoned(t,e){this.abilityUses>=this.maxAbilityUses||null!=this.equipment&&(t.givePetEquipment(this.getInstanceOfAllEquipment().get(this.equipment.name)),this.logService.createLog({message:`${this.name} gave ${t.name} a ${this.equipment.name}`,type:"ability",player:this.parent,tiger:e}),this.abilityUses++,this.superFriendSummoned(t,e))}setAbilityUses(){super.setAbilityUses(),this.maxAbilityUses=this.level}getInstanceOfAllEquipment(){let t=new Map;return t.set("Garlic",new wp),t.set("Meat Bone",new h0),t.set("Steak",new QR),t.set("Melon",new ka),t.set("Honey",new Qv(this.logService,this.abilityService)),t.set("Chili",new Sp(this.logService,this.abilityService)),t.set("Mushroom",new ZR(this.logService,this.abilityService,this.petService)),t.set("Coconut",new Ta),t.set("Peanut",new Ql),t.set("Croissant",new JR),t.set("Rice",new Zv),t.set("Egg",new y0(this.logService,this.abilityService)),t.set("Salt",new Lv),t.set("Pie",new wk),t.set("Skewer",new ty(this.logService)),t.set("Lemon",new XR),t.set("Pancakes",new Ck),t.set("Strawberry",new eL),t.set("Cucumber",new tL),t.set("Cheese",new Vv),t.set("Grapes",new lL),t.set("Carrot",new aL),t.set("Pepper",new Fv),t.set("Popcorn",new cL(this.logService,this.abilityService,this.petService,this.gameService)),t.set("Cherry",new iL),t.set("Chocolate Cake",new ay(this.logService)),t.set("Eggplant",new Dk(this.logService)),t.set("Potato",new rL),t.set("Banana",new nL(this.logService,this.abilityService)),t.set("Onion",new oD(this.logService)),t.set("Pita Bread",new Ak(this.logService)),t.set("Tomato",new oL(this.logService,this.abilityService)),t.set("Durian",new sL(this.logService,this.abilityService)),t.set("Fortune Cookie",new Bv),t.set("Blueberry",new uL),t.set("Donut",new hL),t}}class kk extends k{constructor(t,e,i,s,r,o,a){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Alpaca",this.tier=5,this.pack="Custom",this.attack=3,this.health=7,this.initPet(o,s,r,a)}friendSummoned(t,e){this.abilityUses>=this.maxAbilityUses||(t.increaseExp(1),this.logService.createLog({message:`${this.name} gave ${t.name} 1 exp.`,type:"ability",player:this.parent,tiger:e}),this.abilityUses++,this.superFriendSummoned(t,e))}setAbilityUses(){super.setAbilityUses(),this.maxAbilityUses=this.level}}class Tk extends k{constructor(t,e,i,s,r,o,a){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Hyena",this.tier=5,this.pack="Custom",this.attack=5,this.health=5,this.initPet(o,s,r,a)}startOfBattle(t,e){switch(this.level){case 1:this.level1Ability(t,e);break;case 2:this.level2Ability(t,e);break;case 3:this.level3Ability(t,e)}}level1Ability(t,e){let i=[...t.player.petArray,...t.opponet.petArray];for(let s of i){let r=s.health;s.health=s.attack,s.attack=r}this.logService.createLog({message:`${this.name} swapped all pets attack and health.`,type:"ability",player:this.parent,tiger:e})}level2Ability(t,e){this.shufflePets(t.player),this.shufflePets(t.opponet),this.logService.createLog({message:`${this.name} shuffled positions of all pets.`,type:"ability",player:this.parent,tiger:e,randomEvent:!0})}level3Ability(t,e){this.level1Ability(t,e),this.level2Ability(t,e)}shufflePets(t){let e=t.petArray;!function(n){let e,t=n.length;for(;0!=t;)e=Math.floor(Math.random()*t),t--,[n[t],n[e]]=[n[e],n[t]]}(e);for(let i=0;i<e.length;i++)t[`pet${i}`]=e[i]}}class xk extends k{constructor(t,e,i,s,r,o,a){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Moose",this.tier=5,this.pack="Custom",this.attack=5,this.health=6,this.initPet(o,s,r,a)}}class Mk extends k{constructor(t,e,i,s,r,o,a){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Lioness",this.tier=6,this.pack="Custom",this.attack=4,this.health=5,this.initPet(o,s,r,a)}}class Ik extends k{constructor(t,e,i,s,r,o,a,u){super(t,e,s),this.logService=t,this.abilityService=e,this.petService=i,this.name="Tapir",this.tier=6,this.pack="Custom",this.attack=4,this.health=3,this.initPet(a,r,o,u)}faint(t,e,i){let s=this.parent.petArray.filter(o=>"Tapir"==o.name),r=this.parent.getRandomPet(s,!0);null!=r&&this.abilityService.setSpawnEvent({callback:()=>{r=(0,Me.cloneDeep)(r),r.exp=this.minExpForLevel;let o=this.petService.createDefaultVersionOfPet(r);this.logService.createLog({message:`${this.name} spawned a ${o.name} level ${o.level}.`,type:"ability",player:this.parent,tiger:e,pteranodon:i,randomEvent:!0}),this.parent.summonPet(o,this.savedPosition)&&this.abilityService.triggerSummonedEvents(r)},priority:this.attack})}}class Ok extends k{constructor(t,e,i,s,r,o,a){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Walrus",this.tier=6,this.pack="Custom",this.attack=7,this.health=5,this.initPet(o,s,r,a)}faint(t,e,i){let s=this.parent.getRandomPets(this.level,null,!0,null);for(let r of s)r.givePetEquipment(new Ql),this.logService.createLog({message:`${this.name} gave ${r.name} a Peanut.`,type:"ability",player:this.parent,tiger:e,pteranodon:i,randomEvent:!0})}}class Nk extends k{constructor(t,e,i,s,r,o,a){super(t,e,i),this.logService=t,this.abilityService=e,this.name="White Tiger",this.tier=6,this.pack="Custom",this.attack=4,this.health=3,this.initPet(o,s,r,a)}startOfBattle(t,e){let i=[],s=this.petBehind();for(;s&&i.length<this.level;)i.push(s),s=s.petBehind();for(let r of i)this.logService.createLog({message:`${this.name} gave ${r.name} +3 experience.`,type:"ability",player:this.parent,tiger:e}),r.increaseExp(3)}}let ly=(()=>{class n{constructor(){this.logs=[]}createLog(e){e.tiger&&(e.message+=" (Tiger)"),e.puma&&(e.message+=" (Puma)"),e.pteranodon&&(e.message+=" (Pteranodon)"),null!=e.pantherMultiplier&&e.pantherMultiplier>1&&(e.message+=` x${e.pantherMultiplier} (Panther)`),this.logs.push(e)}getLogs(){return this.logs}reset(){this.logs=[]}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=le({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),sh=(()=>{class n{constructor(){}init(e,i){this.gameApi={player:e,opponet:i}}setTierGroupPets(e,i){null!=e&&(this.gameApi.playerPetPool=e),null!=i&&(this.gameApi.opponentPetPool=i)}setPreviousShopTier(e){this.gameApi.previousShopTier=e}setTurnNumber(e){this.gameApi.turnNumber=e}setGoldSpent(e,i){null!=e&&(this.gameApi.playerGoldSpent=e),null!=i&&(this.gameApi.opponentGoldSpent=i)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=le({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),cy=(()=>{class n{constructor(e){this.gameService=e,this.startOfBattleEvents=[],this.hurtEvents=[],this.faintEvents=[],this.summonedEvents=[],this.friendFaintsEvents=[],this.spawnEvents=[],this.friendAheadAttacksEvents=[],this.afterAttackEvents=[],this.friendAheadFaintsEvents=[],this.knockOutEvents=[],this.beforeAttackEvents=[],this.equipmentBeforeAttackEvents=[],this.friendGainedPerkEvents=[],this.friendGainedAilmentEvents=[],this.friendlyToyBrokeEvents=[],this.transformEvents=[],this.enemySummonedEvents=[],this.friendHurtEvents=[],this.levelUpEvents=[],this.enemyHurtEvents=[],this.emptyFrontSpaceEvents=[],this.friendAttacksEvents=[]}get hasAbilityCycleEvents(){return this.hasFaintEvents||this.hasSummonedEvents||this.hasHurtEvents||this.hasEquipmentBeforeAttackEvents||this.hasFriendHurtEvents||this.hasEnemyHurtEvents||this.hasKnockOutEvents||this.hasEmptyFrontSpaceEvents||this.hasFriendFaintsEvents}initEndTurnEvents(e){let i=[];for(let s of e.petArray)s.endTurn&&i.push({callback:s.endTurn.bind(s),priority:s.attack,player:e});i=(0,Me.shuffle)(i),i.sort((s,r)=>s.priority>r.priority?-1:s.priority<r.priority?1:0);for(let s of i)s.callback(this.gameService.gameApi)}initStartOfBattleEvents(){this.gameApi=this.gameService.gameApi;for(let e of this.gameApi.player.petArray)null!=e.startOfBattle&&this.startOfBattleEvents.push({callback:()=>{e.startOfBattle(this.gameApi)},priority:e.attack,player:this.gameApi.player});for(let e of this.gameApi.opponet.petArray)null!=e.startOfBattle&&this.startOfBattleEvents.push({callback:()=>{e.startOfBattle(this.gameApi)},priority:e.attack,player:this.gameApi.opponet});this.executeStartOfBattleEvents()}setStartOfBattleEvent(e){this.startOfBattleEvents.push(e)}resetStartOfBattleEvents(){this.startOfBattleEvents=[]}executeStartOfBattleEvents(){this.startOfBattleEvents=(0,Me.shuffle)(this.startOfBattleEvents),this.startOfBattleEvents.sort((e,i)=>e.priority>i.priority?-1:e.priority<i.priority?1:0);for(let e of this.startOfBattleEvents)e.callback(this.gameService.gameApi);this.resetStartOfBattleEvents()}setHurtEvent(e){this.hurtEvents.push(e)}resetHurtEvents(){this.hurtEvents=[]}executeHurtEvents(){this.hurtEvents=(0,Me.shuffle)(this.hurtEvents),this.hurtEvents.sort((e,i)=>e.priority>i.priority?-1:e.priority<i.priority?1:0);for(let e of this.hurtEvents)e.callback(this.gameService.gameApi,e.callbackPet);this.resetHurtEvents()}get hasHurtEvents(){return this.hurtEvents.length>0}setFaintEvent(e){this.faintEvents.push(e)}resetFaintEvents(){this.faintEvents=[]}executeFaintEvents(){this.faintEvents=(0,Me.shuffle)(this.faintEvents),this.faintEvents.sort((e,i)=>e.priority>i.priority?-1:e.priority<i.priority?1:0);for(let e of this.faintEvents)e.callback(this.gameService.gameApi);this.resetFaintEvents()}get hasFaintEvents(){return this.faintEvents.length>0}triggerSummonedEvents(e){for(let i of e.parent.petArray)null!=i.friendSummoned&&this.setSummonedEvent({callback:()=>{i.friendSummoned(e)},priority:i.attack})}setSummonedEvent(e){this.summonedEvents.push(e)}resetSummonedEvents(){this.summonedEvents=[]}executeSummonedEvents(){this.summonedEvents=(0,Me.shuffle)(this.summonedEvents),this.summonedEvents.sort((e,i)=>e.priority>i.priority?-1:e.priority<i.priority?1:0);for(let e of this.summonedEvents)e.callback();this.resetSummonedEvents()}get hasSummonedEvents(){return this.summonedEvents.length>0}setSpawnEvent(e){this.spawnEvents.push(e)}resetSpawnEvents(){this.spawnEvents=[]}executeSpawnEvents(){this.summonedEvents=(0,Me.shuffle)(this.summonedEvents),this.summonedEvents.sort((e,i)=>e.priority>i.priority?-1:e.priority<i.priority?1:0);for(let e of this.spawnEvents)e.callback();this.resetSpawnEvents()}setFriendAheadAttacksEvents(e){this.friendAheadAttacksEvents.push(e)}resetFriendAheadAttacksEvents(){this.friendAheadAttacksEvents=[]}executeFriendAheadAttacksEvents(){this.friendAheadAttacksEvents=(0,Me.shuffle)(this.friendAheadAttacksEvents),this.friendAheadAttacksEvents.sort((e,i)=>e.priority>i.priority?-1:e.priority<i.priority?1:0);for(let e of this.friendAheadAttacksEvents)e.callback(this.gameService.gameApi);this.resetFriendAheadAttacksEvents()}setAfterAttackEvent(e){this.afterAttackEvents.push(e)}resetAfterAttackEvents(){this.afterAttackEvents=[]}executeAfterAttackEvents(){this.afterAttackEvents=(0,Me.shuffle)(this.afterAttackEvents),this.afterAttackEvents.sort((e,i)=>e.priority>i.priority?-1:e.priority<i.priority?1:0);for(let e of this.afterAttackEvents)e.callback(this.gameService.gameApi);this.resetAfterAttackEvents()}setFriendAheadFaintsEvent(e){this.friendAheadFaintsEvents.push(e)}resetFriendAheadFaintsEvents(){this.friendAheadFaintsEvents=[]}executeFriendAheadFaintsEvents(){this.friendAheadFaintsEvents=(0,Me.shuffle)(this.friendAheadFaintsEvents),this.friendAheadFaintsEvents.sort((e,i)=>e.priority>i.priority?-1:e.priority<i.priority?1:0);for(let e of this.friendAheadFaintsEvents)e.callback();this.resetFriendAheadFaintsEvents()}setKnockOutEvent(e){this.knockOutEvents.push(e)}resetKnockOutEvents(){this.knockOutEvents=[]}executeKnockOutEvents(){this.knockOutEvents=(0,Me.shuffle)(this.knockOutEvents),this.knockOutEvents.sort((e,i)=>e.priority>i.priority?-1:e.priority<i.priority?1:0);for(let e of this.knockOutEvents)e.callback(this.gameService.gameApi,e.callbackPet);this.resetKnockOutEvents()}get hasKnockOutEvents(){return this.knockOutEvents.length>0}triggerFriendFaintsEvents(e){for(let i of e.parent.petArray)null!=i.friendFaints&&this.setFriendFaintsEvent({callback:i.friendFaints.bind(i),priority:i.attack,callbackPet:e})}setFriendFaintsEvent(e){this.friendFaintsEvents.push(e)}resetFriendFaintsEvents(){this.friendFaintsEvents=[]}executeFriendFaintsEvents(){this.friendFaintsEvents=(0,Me.shuffle)(this.friendFaintsEvents),this.friendFaintsEvents.sort((e,i)=>e.priority>i.priority?-1:e.priority<i.priority?1:0);for(let e of this.friendFaintsEvents)e.callback(this.gameService.gameApi,e.callbackPet,null);this.resetFriendFaintsEvents()}get hasFriendFaintsEvents(){return this.friendFaintsEvents.length>0}setBeforeAttackEvent(e){this.beforeAttackEvents.push(e)}resetBeforeAttackEvents(){this.beforeAttackEvents=[]}executeBeforeAttackEvents(){this.beforeAttackEvents=(0,Me.shuffle)(this.beforeAttackEvents),this.beforeAttackEvents.sort((e,i)=>e.priority>i.priority?-1:e.priority<i.priority?1:0);for(let e of this.beforeAttackEvents)e.callback(this.gameService.gameApi);this.resetBeforeAttackEvents()}setEqiupmentBeforeAttackEvent(e){this.equipmentBeforeAttackEvents.push(e)}resetEqiupmentBeforeAttackEvents(){this.equipmentBeforeAttackEvents=[]}executeEqiupmentBeforeAttackEvents(){this.equipmentBeforeAttackEvents=(0,Me.shuffle)(this.equipmentBeforeAttackEvents),this.equipmentBeforeAttackEvents.sort((e,i)=>e.priority>i.priority?-1:e.priority<i.priority?1:0);for(let e of this.equipmentBeforeAttackEvents)e.callback(this.gameService.gameApi);this.resetEqiupmentBeforeAttackEvents()}get hasEquipmentBeforeAttackEvents(){return this.hurtEvents.length>0}triggerFriendGainedPerkEvents(e){for(let i of e.parent.petArray)null!=i.friendGainedPerk&&this.setFriendGainedPerkEvent({callback:i.friendGainedPerk.bind(i),priority:i.attack,callbackPet:e})}setFriendGainedPerkEvent(e){this.friendGainedPerkEvents.push(e)}resetFriendGainedPerkEvents(){this.friendGainedPerkEvents=[]}executeFriendGainedPerkEvents(){this.friendGainedPerkEvents=(0,Me.shuffle)(this.friendGainedPerkEvents),this.friendGainedPerkEvents.sort((e,i)=>e.priority>i.priority?-1:e.priority<i.priority?1:0);for(let e of this.friendGainedPerkEvents)e.callback(this.gameService.gameApi,e.callbackPet);this.resetFriendGainedPerkEvents()}triggerFriendGainedAilmentEvents(e){for(let i of e.parent.petArray)null!=i.friendGainedAilment&&this.setFriendGainedAilmentEvent({callback:i.friendGainedAilment.bind(i),priority:i.attack,callbackPet:e})}setFriendGainedAilmentEvent(e){this.friendGainedAilmentEvents.push(e)}resetFriendGainedAilmentEvents(){this.friendGainedAilmentEvents=[]}executeFriendGainedAilmentEvents(){this.friendGainedAilmentEvents.sort((e,i)=>e.priority>i.priority?-1:e.priority<i.priority?1:0);for(let e of this.friendGainedAilmentEvents)e.callback(this.gameService.gameApi,e.callbackPet);this.resetFriendGainedAilmentEvents()}triggerFriendlyToyBrokeEvents(e){for(let i of e.petArray)null!=i.friendlyToyBroke&&this.setFriendlyToyBrokeEvent({callback:i.friendlyToyBroke.bind(i),priority:i.attack})}setFriendlyToyBrokeEvent(e){this.friendlyToyBrokeEvents.push(e)}resetFriendlyToyBrokeEvents(){this.friendlyToyBrokeEvents=[]}executeFriendlyToyBrokeEvents(){this.friendlyToyBrokeEvents=(0,Me.shuffle)(this.friendlyToyBrokeEvents),this.friendlyToyBrokeEvents.sort((e,i)=>e.priority>i.priority?-1:e.priority<i.priority?1:0);for(let e of this.friendlyToyBrokeEvents)e.callback(this.gameService.gameApi,!1);this.resetFriendlyToyBrokeEvents()}triggerTransformEvents(e){for(let i of e.petArray)null!=i.transform&&this.setTransformEvent({callback:i.transform.bind(i),priority:i.attack})}setTransformEvent(e){this.transformEvents.push(e)}resetTransformEvents(){this.transformEvents=[]}executeTransformEvents(){this.transformEvents=(0,Me.shuffle)(this.transformEvents),this.transformEvents.sort((e,i)=>e.priority>i.priority?-1:e.priority<i.priority?1:0);for(let e of this.transformEvents)e.callback(this.gameService.gameApi,!1);this.resetTransformEvents()}triggerEnemySummonedEvents(e,i){for(let s of e.petArray)null!=s.enemySummoned&&this.setEnemySummonedEvent({callback:s.enemySummoned.bind(s),priority:s.attack,callbackPet:i})}setEnemySummonedEvent(e){this.enemySummonedEvents.push(e)}resetEnemySummonedEvents(){this.enemySummonedEvents=[]}executeEnemySummonedEvents(){this.enemySummonedEvents=(0,Me.shuffle)(this.enemySummonedEvents),this.enemySummonedEvents.sort((e,i)=>e.priority>i.priority?-1:e.priority<i.priority?1:0);for(let e of this.enemySummonedEvents)e.callback(this.gameService.gameApi,e.callbackPet,!1);this.resetEnemySummonedEvents()}triggerFriendHurtEvents(e,i){for(let s of e.petArray)null!=s.friendHurt&&this.setFriendHurtEvent({callback:s.friendHurt.bind(s),priority:s.attack,callbackPet:i})}setFriendHurtEvent(e){this.friendHurtEvents.push(e)}resetFriendHurtEvents(){this.friendHurtEvents=[]}executeFriendHurtEvents(){this.friendHurtEvents=(0,Me.shuffle)(this.friendHurtEvents),this.friendHurtEvents.sort((e,i)=>e.priority>i.priority?-1:e.priority<i.priority?1:0);for(let e of this.friendHurtEvents)e.callback(this.gameService.gameApi,e.callbackPet,!1);this.resetFriendHurtEvents()}get hasFriendHurtEvents(){return this.friendHurtEvents.length>0}triggerLevelUpEvents(e,i){for(let s of e.petArray)null!=s.anyoneLevelUp&&this.setLevelUpEvent({callback:s.anyoneLevelUp.bind(s),priority:s.attack,callbackPet:i})}setLevelUpEvent(e){this.levelUpEvents.push(e)}resetLevelUpEvents(){this.levelUpEvents=[]}executeLevelUpEvents(){this.levelUpEvents=(0,Me.shuffle)(this.levelUpEvents),this.levelUpEvents.sort((e,i)=>e.priority>i.priority?-1:e.priority<i.priority?1:0);for(let e of this.levelUpEvents)e.callback(this.gameService.gameApi,e.callbackPet,!1);this.resetLevelUpEvents()}triggerEmptyFrontSpaceEvents(e){for(let i of e.petArray)null!=i.emptyFrontSpace&&this.setEmptyFrontSpaceEvent({callback:i.emptyFrontSpace.bind(i),priority:i.attack})}setEmptyFrontSpaceEvent(e){this.emptyFrontSpaceEvents.push(e)}resetEmptyFrontSpaceEvents(){this.emptyFrontSpaceEvents=[]}executeEmptyFrontSpaceEvents(){this.emptyFrontSpaceEvents=(0,Me.shuffle)(this.emptyFrontSpaceEvents),this.emptyFrontSpaceEvents.sort((e,i)=>e.priority>i.priority?-1:e.priority<i.priority?1:0);for(let e of this.emptyFrontSpaceEvents)e.callback(this.gameService.gameApi,!1);this.resetEmptyFrontSpaceEvents()}get hasEmptyFrontSpaceEvents(){return this.emptyFrontSpaceEvents.length>0}triggerEnemyHurtEvents(e,i){for(let s of e.petArray)null!=s.enemyHurt&&this.setEnemyHurtEvent({callback:s.enemyHurt.bind(s),priority:s.attack,callbackPet:i})}setEnemyHurtEvent(e){this.enemyHurtEvents.push(e)}resetEnemyHurtEvents(){this.enemyHurtEvents=[]}executeEnemyHurtEvents(){this.enemyHurtEvents=(0,Me.shuffle)(this.enemyHurtEvents),this.enemyHurtEvents.sort((e,i)=>e.priority>i.priority?-1:e.priority<i.priority?1:0);for(let e of this.enemyHurtEvents)e.callback(this.gameService.gameApi,e.callbackPet,!1);this.resetEnemyHurtEvents()}get hasEnemyHurtEvents(){return this.enemyHurtEvents.length>0}triggerFriendAttacksEvents(e,i){for(let s of e.petArray)s!=i&&null!=s.friendAttacks&&this.setFriendAttacksEvent({callback:s.friendAttacks.bind(s),priority:s.attack})}setFriendAttacksEvent(e){this.friendAttacksEvents.push(e)}resetFriendAttacksEvents(){this.friendAttacksEvents=[]}executeFriendAttacksEvents(){this.friendAttacksEvents=(0,Me.shuffle)(this.friendAttacksEvents),this.friendAttacksEvents.sort((e,i)=>e.priority>i.priority?-1:e.priority<i.priority?1:0);for(let e of this.friendAttacksEvents)e.callback(this.gameService.gameApi,!1);this.resetFriendAttacksEvents()}}return n.\u0275fac=function(e){return new(e||n)($(sh))},n.\u0275prov=le({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),uy=(()=>{class n{constructor(e,i,s){this.logService=e,this.abilityService=i,this.gameService=s,this.turtlePackPets=new Map,this.puppyPackPets=new Map,this.starPackPets=new Map,this.goldenPackPets=new Map,this.customPackPets=new Map,this.playerCustomPackPets=new Map,this.allPets=new Map}buildCustomPackPets(e){for(let i of e.controls){let s=new Map;for(let r=1;r<=6;r++)s.set(r,i.get(`tier${r}Pets`).value);this.playerCustomPackPets.set(i.get("name").value,s)}}init(){this.turtlePackPets.set(1,["Ant","Cricket","Duck","Fish","Horse","Mosquito","Beaver","Otter","Pig","Mouse"]),this.turtlePackPets.set(2,["Snail","Crab","Swan","Rat","Hedgehog","Peacock","Flamingo","Worm","Kangaroo","Spider"]),this.turtlePackPets.set(3,["Dodo","Badger","Dolphin","Giraffe","Elephant","Camel","Rabbit","Ox","Dog","Sheep"]),this.turtlePackPets.set(4,["Skunk","Hippo","Bison","Blowfish","Turtle","Squirrel","Penguin","Deer","Whale","Parrot"]),this.turtlePackPets.set(5,["Scorpion","Crocodile","Rhino","Monkey","Armadillo","Cow","Seal","Rooster","Shark","Turkey"]),this.turtlePackPets.set(6,["Leopard","Tiger","Boar","Wolverine","Gorilla","Dragon","Mammoth","Cat","Snake","Fly"]),this.puppyPackPets.set(1,["Duck","Beaver","Moth","Bluebird","Chinchilla","Beetle","Ladybug","Chipmunk","Gecko","Ferret"]),this.puppyPackPets.set(2,["Frigatebird","Robin","Bat","Dromedary","Shrimp","Toucan","Beluga Sturgeon","Tabby Cat","Mandrill","Lemur"]),this.puppyPackPets.set(3,["Hoopoe Bird","Tropical Fish","Hatching Chick","Goldfish","Owl","Mole","Raccoon","Flying Squirrel","Pangolin","Puppy"]),this.puppyPackPets.set(4,["Microbe","Lobster","Buffalo","Llama","Caterpillar","Doberman","Tahr","Whale Shark","Chameleon","Gharial"]),this.puppyPackPets.set(5,["Stonefish","Poodle","Goat","Chicken","Eagle","Panther","Axolotl","Snapping Turtle","Mosasaurus","String Ray"]),this.puppyPackPets.set(6,["Dragon","Mantis Shrimp","Lionfish","Tyrannosaurus","Octopus","Anglerfish","Sauropod","Elephant Seal","Puma","Mongoose"]),this.starPackPets.set(1,["Mouse","Pillbug","Duckling","Cockroach","Frog","Seahorse","Hummingbird","Marmoset"]),this.starPackPets.set(2,["Koala","Yak","Salamander","Panda","Guinea Pig","Jellyfish","Pug","Atlantic Puffin","Dove","Stork","Iguana"]),this.starPackPets.set(3,["Leech","Woodpecker","Toad","Clownfish","Cabybara","Okapi","Cassowary","Anteater"]),this.starPackPets.set(4,["Orangutang","Eel","Hawk","Platypus","Praying Mantis","Crow","Donkey","Pelican","Starfish","Blobfish"]),this.starPackPets.set(5,["Sword Fish","Polar Bear","Siberian Huskey","Lion","Triceratops","Zebra","Fox","Hamster","Shoebill","Vulture"]),this.starPackPets.set(6,["Komodo","Ostrich","Reindeer","Stegosaurus","Piranha","Hammerhead Shark","Velociraptor","Sabertooth Tiger","Orca","Spinosaurus"]),this.goldenPackPets.set(1,["Chipmunk","Bulldog","Groundhog","Cone Snail","Goose","Pied Tamarin","Opposum","Silkmoth","Magpie"]),this.goldenPackPets.set(2,["Hercules Beetle","Stoat","Black Necked Stilt","Squid","Sea Urchin","Door Head Ant","Lizard","Sea Turtle","African Penguin"]),this.goldenPackPets.set(3,["Musk Ox","Flea","Royal Flycatcher","Surgeon Fish","Weasel","Guineafowl","Betta Fish","Meerkat","Flying Fish","Baboon","Osprey"]),this.goldenPackPets.set(4,["Manatee","Cuttlefish","Saiga Antelope","Sealion","Vaquita","Slug","Poison Dart Frog","Secretary Bird","Falcon","Manta Ray","Cockatoo"]),this.goldenPackPets.set(5,["Macaque","Nyala","Nurse Shark","Beluga Whale","Wolf","Silver Fox","Fire Ant","Blue Ringed Octopus","Crane","Emu","Egyptian Vulture"]),this.goldenPackPets.set(6,["Wildebeast","Highland Cow","Catfish","Pteranodon","Warthog","Cobra","Grizzly Bear","German Shephard","Bird of Paradise","Oyster"]),this.customPackPets.set(1,["Frilled Dragon"]),this.customPackPets.set(2,["Wombat"]),this.customPackPets.set(3,["Aardvark","Bear","Emperor Tamarin","Porcupine","Wasp"]),this.customPackPets.set(4,["Jerboa","Dragonfly","Lynx","Seagull"]),this.customPackPets.set(5,["Alpaca","Hyena","Moose"]),this.customPackPets.set(6,["Lioness","Tapir","Walrus","White Tiger"]),this.setAllPets()}setAllPets(){this.allPets=new Map;for(let e=1;e<=6;e++)this.allPets.set(e,[]);for(let[e,i]of this.turtlePackPets)this.allPets.get(e).push(...i);for(let[e,i]of this.puppyPackPets)this.allPets.get(e).push(...i);for(let[e,i]of this.starPackPets)this.allPets.get(e).push(...i);for(let[e,i]of this.goldenPackPets)this.allPets.get(e).push(...i);for(let[e,i]of this.allPets)this.allPets.set(e,[...new Set(i)])}createPet(e,i){switch(e.name){case"Ant":return new Hv(this.logService,this.abilityService,i,e.health,e.attack,e.exp,e.equipment);case"Cricket":return new aD(this.logService,this.abilityService,i,e.health,e.attack,e.exp,e.equipment);case"Fish":return new lD(this.logService,this.abilityService,i,e.health,e.attack,e.exp,e.equipment);case"Horse":return new cD(this.logService,this.abilityService,i,e.health,e.attack,e.exp,e.equipment);case"Mosquito":return new uD(this.logService,this.abilityService,i,e.health,e.attack,e.exp,e.equipment);case"Duck":return new qv(this.logService,this.abilityService,i,e.health,e.attack,e.exp,e.equipment);case"Beaver":return new Uv(this.logService,this.abilityService,i,e.health,e.attack,e.exp,e.equipment);case"Otter":return new hD(this.logService,this.abilityService,i,e.health,e.attack,e.exp,e.equipment);case"Pig":return new dD(this.logService,this.abilityService,i,e.health,e.attack,e.exp,e.equipment);case"Mouse":return new fD(this.logService,this.abilityService,i,e.health,e.attack,e.exp,e.equipment);case"Snail":return new g6(this.logService,this.abilityService,i,e.health,e.attack,e.exp,e.equipment);case"Crab":return new pD(this.logService,this.abilityService,i,e.health,e.attack,e.exp,e.equipment);case"Swan":return new gD(this.logService,this.abilityService,i,e.health,e.attack,e.exp,e.equipment);case"Rat":return new mD(this.logService,this.abilityService,i,e.health,e.attack,e.exp,e.equipment);case"Hedgehog":return new _D(this.logService,this.abilityService,i,e.health,e.attack,e.exp,e.equipment);case"Peacock":return new vD(this.logService,this.abilityService,i,e.health,e.attack,e.exp,e.equipment);case"Flamingo":return new yD(this.logService,this.abilityService,i,e.health,e.attack,e.exp,e.equipment);case"Worm":return new bD(this.logService,this.abilityService,i,e.health,e.attack,e.exp,e.equipment);case"Kangaroo":return new SD(this.logService,this.abilityService,i,e.health,e.attack,e.exp,e.equipment);case"Spider":return new ED(this.logService,this.abilityService,this,i,e.health,e.attack,e.exp,e.equipment);case"Dodo":return new wD(this.logService,this.abilityService,i,e.health,e.attack,e.exp,e.equipment);case"Badger":return new CD(this.logService,this.abilityService,i,e.health,e.attack,e.exp,e.equipment);case"Dolphin":return new jv(this.logService,this.abilityService,i,e.health,e.attack,e.exp,e.equipment);case"Giraffe":return new DD(this.logService,this.abilityService,i,e.health,e.attack,e.exp,e.equipment);case"Elephant":return new AD(this.logService,this.abilityService,i,e.health,e.attack,e.exp,e.equipment);case"Camel":return new PD(this.logService,this.abilityService,i,e.health,e.attack,e.exp,e.equipment);case"Rabbit":return new kD(this.logService,this.abilityService,i,e.health,e.attack,e.exp,e.equipment);case"Ox":return new TD(this.logService,this.abilityService,i,e.health,e.attack,e.exp,e.equipment);case"Dog":return new xD(this.logService,this.abilityService,i,e.health,e.attack,e.exp,e.equipment);case"Sheep":return new MD(this.logService,this.abilityService,i,e.health,e.attack,e.exp,e.equipment);case"Skunk":return new ND(this.logService,this.abilityService,i,e.health,e.attack,e.exp,e.equipment);case"Hippo":return new RD(this.logService,this.abilityService,i,e.health,e.attack,e.exp,e.equipment);case"Bison":return new LD(this.logService,this.abilityService,i,e.health,e.attack,e.exp,e.equipment);case"Blowfish":return new VD(this.logService,this.abilityService,i,e.health,e.attack,e.exp,e.equipment);case"Turtle":return new FD(this.logService,this.abilityService,i,e.health,e.attack,e.exp,e.equipment);case"Squirrel":return new BD(this.logService,this.abilityService,i,e.health,e.attack,e.exp,e.equipment);case"Penguin":return new $D(this.logService,this.abilityService,i,e.health,e.attack,e.exp,e.equipment);case"Deer":return new HD(this.logService,this.abilityService,i,e.health,e.attack,e.exp,e.equipment);case"Whale":return new qD(this.logService,this.abilityService,this,i,e.health,e.attack,e.exp,e.equipment);case"Parrot":return new OD(this.logService,this.abilityService,this,i,e.health,e.attack,e.exp,e.equipment);case"Scorpion":return new UD(this.logService,this.abilityService,i,e.health,e.attack,e.exp,e.equipment);case"Crocodile":return new GD(this.logService,this.abilityService,i,e.health,e.attack,e.exp,e.equipment);case"Rhino":return new jD(this.logService,this.abilityService,i,e.health,e.attack,e.exp,e.equipment);case"Monkey":return new Kv(this.logService,this.abilityService,i,e.health,e.attack,e.exp,e.equipment);case"Armadillo":return new WD(this.logService,this.abilityService,i,e.health,e.attack,e.exp,e.equipment);case"Cow":return new zD(this.logService,this.abilityService,i,e.health,e.attack,e.exp,e.equipment);case"Seal":return new KD(this.logService,this.abilityService,i,e.health,e.attack,e.exp,e.equipment);case"Rooster":return new YD(this.logService,this.abilityService,i,e.health,e.attack,e.exp,e.equipment);case"Shark":return new QD(this.logService,this.abilityService,i,e.health,e.attack,e.exp,e.equipment);case"Turkey":return new ZD(this.logService,this.abilityService,i,e.health,e.attack,e.exp,e.equipment);case"Leopard":return new JD(this.logService,this.abilityService,i,e.health,e.attack,e.exp,e.equipment);case"Boar":return new XD(this.logService,this.abilityService,i,e.health,e.attack,e.exp,e.equipment);case"Tiger":return new ID(this.logService,this.abilityService,i,e.health,e.attack,e.exp,e.equipment);case"Wolverine":return new e0(this.logService,this.abilityService,i,e.health,e.attack,e.exp,e.equipment);case"Gorilla":return new t0(this.logService,this.abilityService,i,e.health,e.attack,e.exp,e.equipment);case"Dragon":return new n0(this.logService,this.abilityService,i,e.health,e.attack,e.exp,e.equipment);case"Mammoth":return new s0(this.logService,this.abilityService,i,e.health,e.attack,e.exp,e.equipment);case"Cat":return new r0(this.logService,this.abilityService,i,e.health,e.attack,e.exp,e.equipment);case"Snake":return new o0(this.logService,this.abilityService,i,e.health,e.attack,e.exp,e.equipment);case"Fly":return new a0(this.logService,this.abilityService,i,e.health,e.attack,e.exp,e.equipment);case"Moth":return new l0(this.logService,this.abilityService,i,e.health,e.attack,e.exp,e.equipment);case"Bluebird":return new c0(this.logService,this.abilityService,i,e.health,e.attack,e.exp,e.equipment);case"Chinchilla":return new u0(this.logService,this.abilityService,i,e.health,e.attack,e.exp,e.equipment);case"Beetle":return new d0(this.logService,this.abilityService,i,e.health,e.attack,e.exp,e.equipment);case"Ladybug":return new f0(this.logService,this.abilityService,i,e.health,e.attack,e.exp,e.equipment);case"Chipmunk":return new p0(this.logService,this.abilityService,i,e.health,e.attack,e.exp,e.equipment);case"Gecko":return new g0(this.logService,this.abilityService,i,e.health,e.attack,e.exp,e.equipment);case"Ferret":return new m0(this.logService,this.abilityService,i,e.health,e.attack,e.exp,e.equipment);case"Frigatebird":return new v0(this.logService,this.abilityService,i,e.health,e.attack,e.exp,e.equipment);case"Robin":return new b0(this.logService,this.abilityService,i,e.health,e.attack,e.exp,e.equipment);case"Bat":return new _0(this.logService,this.abilityService,i,e.health,e.attack,e.exp,e.equipment);case"Dromedary":return new S0(this.logService,this.abilityService,i,e.health,e.attack,e.exp,e.equipment);case"Shrimp":return new E0(this.logService,this.abilityService,i,e.health,e.attack,e.exp,e.equipment);case"Toucan":return new w0(this.logService,this.abilityService,i,e.health,e.attack,e.exp,e.equipment);case"Beluga Sturgeon":return new C0(this.logService,this.abilityService,i,e.health,e.attack,e.exp,e.equipment);case"Tabby Cat":return new D0(this.logService,this.abilityService,i,e.health,e.attack,e.exp,e.equipment);case"Mandrill":return new A0(this.logService,this.abilityService,i,e.health,e.attack,e.exp,e.equipment);case"Lemur":return new P0(this.logService,this.abilityService,i,e.health,e.attack,e.exp,e.equipment);case"Hoopoe Bird":return new k0(this.logService,this.abilityService,i,e.health,e.attack,e.exp,e.equipment);case"Tropical Fish":return new T0(this.logService,this.abilityService,i,e.health,e.attack,e.exp,e.equipment);case"Hatching Chick":return new x0(this.logService,this.abilityService,i,e.health,e.attack,e.exp,e.equipment);case"Goldfish":return new M0(this.logService,this.abilityService,i,e.health,e.attack,e.exp,e.equipment);case"Owl":return new I0(this.logService,this.abilityService,i,e.health,e.attack,e.exp,e.equipment);case"Mole":return new Cp(this.logService,this.abilityService,i,e.health,e.attack,e.exp,e.equipment);case"Raccoon":return new O0(this.logService,this.abilityService,i,e.health,e.attack,e.exp,e.equipment);case"Flying Squirrel":return new Xv(this.logService,this.abilityService,i,e.health,e.attack,e.exp,e.equipment);case"Pangolin":return new N0(this.logService,this.abilityService,i,e.health,e.attack,e.exp,e.equipment);case"Puppy":return new R0(this.logService,this.abilityService,i,e.health,e.attack,e.exp,e.equipment);case"Microbe":return new L0(this.logService,this.abilityService,i,e.health,e.attack,e.exp,e.equipment);case"Lobster":return new V0(this.logService,this.abilityService,i,e.health,e.attack,e.exp,e.equipment);case"Buffalo":return new F0(this.logService,this.abilityService,i,e.health,e.attack,e.exp,e.equipment);case"Llama":return new B0(this.logService,this.abilityService,i,e.health,e.attack,e.exp,e.equipment);case"Caterpillar":return new $0(this.logService,this.abilityService,i,e.health,e.attack,e.exp,e.equipment);case"Doberman":return new H0(this.logService,this.abilityService,i,e.health,e.attack,e.exp,e.equipment);case"Tahr":return new q0(this.logService,this.abilityService,i,e.health,e.attack,e.exp,e.equipment);case"Whale Shark":return new U0(this.logService,this.abilityService,i,e.health,e.attack,e.exp,e.equipment);case"Chameleon":return new G0(this.logService,this.abilityService,i,e.health,e.attack,e.exp,e.equipment);case"Gharial":return new j0(this.logService,this.abilityService,i,e.health,e.attack,e.exp,e.equipment);case"Stonefish":return new W0(this.logService,this.abilityService,i,e.health,e.attack,e.exp,e.equipment);case"Poodle":return new z0(this.logService,this.abilityService,i,e.health,e.attack,e.exp,e.equipment);case"Goat":return new Z0(this.logService,this.abilityService,i,e.health,e.attack,e.exp,e.equipment);case"Chicken":return new K0(this.logService,this.abilityService,i,e.health,e.attack,e.exp,e.equipment);case"Eagle":return new Y0(this.logService,this.abilityService,this,i,e.health,e.attack,e.exp,e.equipment);case"Panther":return new Dn(this.logService,this.abilityService,i,e.health,e.attack,e.exp,e.equipment);case"Axolotl":return new Q0(this.logService,this.abilityService,i,e.health,e.attack,e.exp,e.equipment);case"Snapping Turtle":return new J0(this.logService,this.abilityService,i,e.health,e.attack,e.exp,e.equipment);case"Mosasaurus":return new X0(this.logService,this.abilityService,i,e.health,e.attack,e.exp,e.equipment);case"String Ray":return new eA(this.logService,this.abilityService,i,e.health,e.attack,e.exp,e.equipment);case"Mantis Shrimp":return new tA(this.logService,this.abilityService,i,e.health,e.attack,e.exp,e.equipment);case"Lionfish":return new nA(this.logService,this.abilityService,i,e.health,e.attack,e.exp,e.equipment);case"Tyrannosaurus":return new iA(this.logService,this.abilityService,i,e.health,e.attack,e.exp,e.equipment);case"Octopus":return new sA(this.logService,this.abilityService,i,e.health,e.attack,e.exp,e.equipment);case"Anglerfish":return new rA(this.logService,this.abilityService,i,e.health,e.attack,e.exp,e.equipment);case"Sauropod":return new oA(this.logService,this.abilityService,i,e.health,e.attack,e.exp,e.equipment);case"Elephant Seal":return new aA(this.logService,this.abilityService,i,e.health,e.attack,e.exp,e.equipment);case"Puma":return new eh(this.logService,this.abilityService,i,e.health,e.attack,e.exp,e.equipment);case"Mongoose":return new lA(this.logService,this.abilityService,i,e.health,e.attack,e.exp,e.equipment);case"Pillbug":return new cA(this.logService,this.abilityService,i,e.health,e.attack,e.exp,e.equipment);case"Duckling":return new uA(this.logService,this.abilityService,i,e.health,e.attack,e.exp,e.equipment);case"Cockroach":return new hA(this.logService,this.abilityService,i,e.health,e.attack,e.exp,e.equipment);case"Frog":return new Dp(this.logService,this.abilityService,i,e.health,e.attack,e.exp,e.equipment);case"Seahorse":return new dA(this.logService,this.abilityService,i,e.health,e.attack,e.exp,e.equipment);case"Iguana":return new fA(this.logService,this.abilityService,i,e.health,e.attack,e.exp,e.equipment);case"Hummingbird":return new pA(this.logService,this.abilityService,i,e.health,e.attack,e.exp,e.equipment);case"Marmoset":return new m6(this.logService,this.abilityService,i,e.health,e.attack,e.exp,e.equipment);case"Koala":return new gA(this.logService,this.abilityService,i,e.health,e.attack,e.exp,e.equipment);case"Yak":return new mA(this.logService,this.abilityService,i,e.health,e.attack,e.exp,e.equipment);case"Salamander":return new _A(this.logService,this.abilityService,i,e.health,e.attack,e.exp,e.equipment);case"Panda":return new vA(this.logService,this.abilityService,i,e.health,e.attack,e.exp,e.equipment);case"Guinea Pig":return new yA(this.logService,this.abilityService,i,e.health,e.attack,e.exp,e.equipment);case"Jellyfish":return new SA(this.logService,this.abilityService,i,e.health,e.attack,e.exp,e.equipment);case"Pug":return new bA(this.logService,this.abilityService,i,e.health,e.attack,e.exp,e.equipment);case"Atlantic Puffin":return new EA(this.logService,this.abilityService,i,e.health,e.attack,e.exp,e.equipment);case"Dove":return new wA(this.logService,this.abilityService,i,e.health,e.attack,e.exp,e.equipment);case"Stork":return new CA(this.logService,this.abilityService,this,i,e.health,e.attack,e.exp,e.equipment);case"Leech":return new DA(this.logService,this.abilityService,i,e.health,e.attack,e.exp,e.equipment);case"Woodpecker":return new AA(this.logService,this.abilityService,i,e.health,e.attack,e.exp,e.equipment);case"Toad":return new PA(this.logService,this.abilityService,i,e.health,e.attack,e.exp,e.equipment);case"Starfish":return new kA(this.logService,this.abilityService,i,e.health,e.attack,e.exp,e.equipment);case"Clownfish":return new TA(this.logService,this.abilityService,i,e.health,e.attack,e.exp,e.equipment);case"Blobfish":return new xA(this.logService,this.abilityService,i,e.health,e.attack,e.exp,e.equipment);case"Cabybara":return new MA(this.logService,this.abilityService,i,e.health,e.attack,e.exp,e.equipment);case"Okapi":return new IA(this.logService,this.abilityService,i,e.health,e.attack,e.exp,e.equipment);case"Cassowary":return new OA(this.logService,this.abilityService,i,e.health,e.attack,e.exp,e.equipment);case"Orangutang":return new ny(this.logService,this.abilityService,i,e.health,e.attack,e.exp,e.equipment);case"Eel":return new NA(this.logService,this.abilityService,i,e.health,e.attack,e.exp,e.equipment);case"Hawk":return new RA(this.logService,this.abilityService,i,e.health,e.attack,e.exp,e.equipment);case"Platypus":return new LA(this.logService,this.abilityService,i,e.health,e.attack,e.exp,e.equipment);case"Praying Mantis":return new VA(this.logService,this.abilityService,i,e.health,e.attack,e.exp,e.equipment);case"Crow":return new FA(this.logService,this.abilityService,i,e.health,e.attack,e.exp,e.equipment);case"Donkey":return new BA(this.logService,this.abilityService,i,e.health,e.attack,e.exp,e.equipment);case"Pelican":return new $A(this.logService,this.abilityService,i,e.health,e.attack,e.exp,e.equipment);case"Anteater":return new HA(this.logService,this.abilityService,i,e.health,e.attack,e.exp,e.equipment);case"Sword Fish":return new qA(this.logService,this.abilityService,i,e.health,e.attack,e.exp,e.equipment);case"Polar Bear":return new UA(this.logService,this.abilityService,i,e.health,e.attack,e.exp,e.equipment);case"Siberian Huskey":return new GA(this.logService,this.abilityService,i,e.health,e.attack,e.exp,e.equipment);case"Lion":return new jA(this.logService,this.abilityService,i,e.health,e.attack,e.exp,e.equipment);case"Triceratops":return new WA(this.logService,this.abilityService,i,e.health,e.attack,e.exp,e.equipment);case"Zebra":return new zA(this.logService,this.abilityService,i,e.health,e.attack,e.exp,e.equipment);case"Fox":return new KA(this.logService,this.abilityService,i,e.health,e.attack,e.exp,e.equipment);case"Hamster":return new YA(this.logService,this.abilityService,i,e.health,e.attack,e.exp,e.equipment);case"Shoebill":return new QA(this.logService,this.abilityService,i,e.health,e.attack,e.exp,e.equipment);case"Vulture":return new ZA(this.logService,this.abilityService,i,e.health,e.attack,e.exp,e.equipment);case"Komodo":return new JA(this.logService,this.abilityService,i,e.health,e.attack,e.exp,e.equipment);case"Ostrich":return new XA(this.logService,this.abilityService,i,e.health,e.attack,e.exp,e.equipment);case"Reindeer":return new eP(this.logService,this.abilityService,i,e.health,e.attack,e.exp,e.equipment);case"Stegosaurus":return new tP(this.logService,this.abilityService,i,e.health,e.attack,e.exp,e.equipment);case"Piranha":return new nP(this.logService,this.abilityService,i,e.health,e.attack,e.exp,e.equipment);case"Hammerhead Shark":return new iP(this.logService,this.abilityService,i,e.health,e.attack,e.exp,e.equipment);case"Velociraptor":return new sP(this.logService,this.abilityService,i,e.health,e.attack,e.exp,e.equipment);case"Sabertooth Tiger":return new rP(this.logService,this.abilityService,this,i,e.health,e.attack,e.exp,e.equipment);case"Orca":return new oP(this.logService,this.abilityService,this,i,e.health,e.attack,e.exp,e.equipment);case"Spinosaurus":return new aP(this.logService,this.abilityService,i,e.health,e.attack,e.exp,e.equipment);case"Bulldog":return new lP(this.logService,this.abilityService,i,e.health,e.attack,e.exp,e.equipment);case"Groundhog":return new iy(this.logService,this.abilityService,i,e.health,e.attack,e.exp,e.equipment);case"Cone Snail":return new cP(this.logService,this.abilityService,i,e.health,e.attack,e.exp,e.equipment);case"Goose":return new uP(this.logService,this.abilityService,i,e.health,e.attack,e.exp,e.equipment);case"Pied Tamarin":return new hP(this.logService,this.abilityService,i,e.health,e.attack,e.exp,e.equipment);case"Opposum":return new dP(this.logService,this.abilityService,i,e.health,e.attack,e.exp,e.equipment);case"Silkmoth":return new fP(this.logService,this.abilityService,i,e.health,e.attack,e.exp,e.equipment);case"Magpie":return new pP(this.logService,this.abilityService,i,e.health,e.attack,e.exp,e.equipment);case"Hercules Beetle":return new gP(this.logService,this.abilityService,i,e.health,e.attack,e.exp,e.equipment);case"Stoat":return new mP(this.logService,this.abilityService,i,e.health,e.attack,e.exp,e.equipment);case"Black Necked Stilt":return new _P(this.logService,this.abilityService,i,e.health,e.attack,e.exp,e.equipment);case"Squid":return new vP(this.logService,this.abilityService,i,e.health,e.attack,e.exp,e.equipment);case"Sea Urchin":return new yP(this.logService,this.abilityService,i,e.health,e.attack,e.exp,e.equipment);case"Door Head Ant":return new bP(this.logService,this.abilityService,i,e.health,e.attack,e.exp,e.equipment);case"Lizard":return new SP(this.logService,this.abilityService,i,e.health,e.attack,e.exp,e.equipment);case"Sea Turtle":return new EP(this.logService,this.abilityService,i,e.health,e.attack,e.exp,e.equipment);case"African Penguin":return new wP(this.logService,this.abilityService,i,e.health,e.attack,e.exp,e.equipment);case"Musk Ox":return new CP(this.logService,this.abilityService,i,e.health,e.attack,e.exp,e.equipment);case"Flea":return new DP(this.logService,this.abilityService,i,e.health,e.attack,e.exp,e.equipment);case"Royal Flycatcher":return new UP(this.logService,this.abilityService,i,e.health,e.attack,e.exp,e.equipment);case"Surgeon Fish":return new AP(this.logService,this.abilityService,i,e.health,e.attack,e.exp,e.equipment);case"Weasel":return new PP(this.logService,this.abilityService,i,e.health,e.attack,e.exp,e.equipment);case"Guineafowl":return new kP(this.logService,this.abilityService,i,e.health,e.attack,e.exp,e.equipment);case"Betta Fish":return new TP(this.logService,this.abilityService,i,e.health,e.attack,e.exp,e.equipment);case"Meerkat":return new xP(this.logService,this.abilityService,i,e.health,e.attack,e.exp,e.equipment);case"Flying Fish":return new MP(this.logService,this.abilityService,i,e.health,e.attack,e.exp,e.equipment);case"Baboon":return new IP(this.logService,this.abilityService,i,e.health,e.attack,e.exp,e.equipment);case"Osprey":return new OP(this.logService,this.abilityService,i,e.health,e.attack,e.exp,e.equipment);case"Manatee":return new NP(this.logService,this.abilityService,i,e.health,e.attack,e.exp,e.equipment);case"Cuttlefish":return new RP(this.logService,this.abilityService,i,e.health,e.attack,e.exp,e.equipment);case"Egyptian Vulture":return new LP(this.logService,this.abilityService,i,e.health,e.attack,e.exp,e.equipment);case"Saiga Antelope":return new VP(this.logService,this.abilityService,i,e.health,e.attack,e.exp,e.equipment);case"Sealion":return new FP(this.logService,this.abilityService,i,e.health,e.attack,e.exp,e.equipment);case"Vaquita":return new BP(this.logService,this.abilityService,i,e.health,e.attack,e.exp,e.equipment);case"Slug":return new $P(this.logService,this.abilityService,i,e.health,e.attack,e.exp,e.equipment);case"Poison Dart Frog":return new HP(this.logService,this.abilityService,i,e.health,e.attack,e.exp,e.equipment);case"Secretary Bird":return new qP(this.logService,this.abilityService,i,e.health,e.attack,e.exp,e.equipment);case"Falcon":return new GP(this.logService,this.abilityService,this,i,e.health,e.attack,e.exp,e.equipment);case"Manta Ray":return new jP(this.logService,this.abilityService,i,e.health,e.attack,e.exp,e.equipment);case"Macaque":return new WP(this.logService,this.abilityService,i,e.health,e.attack,e.exp,e.equipment);case"Nyala":return new zP(this.logService,this.abilityService,i,e.health,e.attack,e.exp,e.equipment);case"Nurse Shark":return new KP(this.logService,this.abilityService,i,e.health,e.attack,e.exp,e.equipment);case"Beluga Whale":return new YP(this.logService,this.abilityService,this,i,e.health,e.attack,e.exp,e.equipment);case"Wolf":return new QP(this.logService,this.abilityService,this,i,e.health,e.attack,e.exp,e.equipment);case"Silver Fox":return new ZP(this.logService,this.abilityService,i,e.health,e.attack,e.exp,e.equipment);case"Fire Ant":return new JP(this.logService,this.abilityService,i,e.health,e.attack,e.exp,e.equipment);case"Cockatoo":return new XP(this.logService,this.abilityService,i,e.health,e.attack,e.exp,e.equipment);case"Blue Ringed Octopus":return new ek(this.logService,this.abilityService,i,e.health,e.attack,e.exp,e.equipment);case"Crane":return new tk(this.logService,this.abilityService,i,e.health,e.attack,e.exp,e.equipment);case"Emu":return new nk(this.logService,this.abilityService,i,e.health,e.attack,e.exp,e.equipment);case"Wildebeast":return new ik(this.logService,this.abilityService,i,e.health,e.attack,e.exp,e.equipment);case"Highland Cow":return new sk(this.logService,this.abilityService,i,e.health,e.attack,e.exp,e.equipment);case"Catfish":return new rk(this.logService,this.abilityService,i,e.health,e.attack,e.exp,e.equipment);case"Pteranodon":return new ok(this.logService,this.abilityService,this,i,e.health,e.attack,e.exp,e.equipment);case"Warthog":return new ak(this.logService,this.abilityService,i,e.health,e.attack,e.exp,e.equipment);case"Cobra":return new lk(this.logService,this.abilityService,i,e.health,e.attack,e.exp,e.equipment);case"Grizzly Bear":return new ck(this.logService,this.abilityService,i,e.health,e.attack,e.exp,e.equipment);case"German Shephard":return new uk(this.logService,this.abilityService,i,e.health,e.attack,e.exp,e.equipment);case"Bird of Paradise":return new hk(this.logService,this.abilityService,i,e.health,e.attack,e.exp,e.equipment);case"Oyster":return new dk(this.logService,this.abilityService,i,e.health,e.attack,e.exp,e.equipment);case"Jerboa":return new fk(this.logService,this.abilityService,i,e.health,e.attack,e.exp,e.equipment);case"Frilled Dragon":return new pk(this.logService,this.abilityService,i,e.health,e.attack,e.exp,e.equipment);case"Wombat":return new gk(this.logService,this.abilityService,i,e.health,e.attack,e.exp,e.equipment);case"Aardvark":return new mk(this.logService,this.abilityService,i,e.health,e.attack,e.exp,e.equipment);case"Bear":return new _k(this.logService,this.abilityService,i,e.health,e.attack,e.exp,e.equipment);case"Emperor Tamarin":return new vk(this.logService,this.abilityService,i,e.health,e.attack,e.exp,e.equipment);case"Porcupine":return new yk(this.logService,this.abilityService,i,e.health,e.attack,e.exp,e.equipment);case"Wasp":return new bk(this.logService,this.abilityService,i,e.health,e.attack,e.exp,e.equipment);case"Dragonfly":return new Sk(this.logService,this.abilityService,i,e.health,e.attack,e.exp,e.equipment);case"Lynx":return new Ek(this.logService,this.abilityService,i,e.health,e.attack,e.exp,e.equipment);case"Seagull":return new Pk(this.logService,this.abilityService,this,this.gameService,i,e.health,e.attack,e.exp,e.equipment);case"Alpaca":return new kk(this.logService,this.abilityService,i,e.health,e.attack,e.exp,e.equipment);case"Hyena":return new Tk(this.logService,this.abilityService,i,e.health,e.attack,e.exp,e.equipment);case"Moose":return new xk(this.logService,this.abilityService,i,e.health,e.attack,e.exp,e.equipment);case"Lioness":return new Mk(this.logService,this.abilityService,i,e.health,e.attack,e.exp,e.equipment);case"Tapir":return new Ik(this.logService,this.abilityService,this,i,e.health,e.attack,e.exp,e.equipment);case"Walrus":return new Ok(this.logService,this.abilityService,i,e.health,e.attack,e.exp,e.equipment);case"White Tiger":return new Nk(this.logService,this.abilityService,i,e.health,e.attack,e.exp,e.equipment);case"Bee":return new nh(this.logService,this.abilityService,i,e.health,e.attack,e.exp,e.equipment);case"Bus":return new zv(this.logService,this.abilityService,i,e.health,e.attack,e.exp,e.equipment);case"Butterfly":return new ey(this.logService,this.abilityService,i,e.health,e.attack,e.exp,e.equipment);case"Chick":return new Yv(this.logService,this.abilityService,i,e.health,e.attack,e.exp,e.equipment);case"Dirty Ray":return new Gv(this.logService,this.abilityService,i,e.health,e.attack,e.exp,e.equipment);case"Golden Retriever":return new $v(this.logService,this.abilityService,i,e.health,e.attack,e.exp,e.equipment);case"Lizard Tail":return new sy(this.logService,this.abilityService,i,e.health,e.attack,e.exp,e.equipment);case"Nest":return new Jv(this.logService,this.abilityService,i,e.health,e.attack,e.exp,e.equipment);case"Ram":return new Wv(this.logService,this.abilityService,i,e.health,e.attack,e.exp,e.equipment);case"Smaller Slug":return new oy(this.logService,this.abilityService,i,e.health,e.attack,e.exp,e.equipment);case"Smallest Slug":return new ry(this.logService,this.abilityService,i,e.health,e.attack,e.exp,e.equipment);case"Zombie Cricket":return new th(this.logService,this.abilityService,i,e.health,e.attack,e.exp,e.equipment);case"Zombie Fly":return new Ep(this.logService,this.abilityService,i,e.health,e.attack,e.exp,e.equipment)}}createDefaultVersionOfPet(e,i=null,s=null){let r;return e instanceof Hv&&(r=new Hv(this.logService,this.abilityService,e.parent,i,s,P(e.level))),e instanceof nh&&(r=new nh(this.logService,this.abilityService,e.parent,i,s,P(e.level))),e instanceof aD&&(r=new aD(this.logService,this.abilityService,e.parent,i,s,P(e.level))),e instanceof lD&&(r=new lD(this.logService,this.abilityService,e.parent,i,s,P(e.level))),e instanceof cD&&(r=new cD(this.logService,this.abilityService,e.parent,i,s,P(e.level))),e instanceof uD&&(r=new uD(this.logService,this.abilityService,e.parent,i,s,P(e.level))),e instanceof th&&(r=new th(this.logService,this.abilityService,e.parent,i,s,P(e.level))),e instanceof qv&&(r=new qv(this.logService,this.abilityService,e.parent,i,s,P(e.level))),e instanceof Uv&&(r=new Uv(this.logService,this.abilityService,e.parent,i,s,P(e.level))),e instanceof hD&&(r=new hD(this.logService,this.abilityService,e.parent,i,s,P(e.level))),e instanceof dD&&(r=new dD(this.logService,this.abilityService,e.parent,i,s,P(e.level))),e instanceof fD&&(r=new fD(this.logService,this.abilityService,e.parent,i,s,P(e.level))),e instanceof pD&&(r=new pD(this.logService,this.abilityService,e.parent,i,s,P(e.level))),e instanceof gD&&(r=new gD(this.logService,this.abilityService,e.parent,i,s,P(e.level))),e instanceof mD&&(r=new mD(this.logService,this.abilityService,e.parent,i,s,P(e.level))),e instanceof _D&&(r=new _D(this.logService,this.abilityService,e.parent,i,s,P(e.level))),e instanceof vD&&(r=new vD(this.logService,this.abilityService,e.parent,i,s,P(e.level))),e instanceof yD&&(r=new yD(this.logService,this.abilityService,e.parent,i,s,P(e.level))),e instanceof bD&&(r=new bD(this.logService,this.abilityService,e.parent,i,s,P(e.level))),e instanceof SD&&(r=new SD(this.logService,this.abilityService,e.parent,i,s,P(e.level))),e instanceof ED&&(r=new ED(this.logService,this.abilityService,this,e.parent,i,s,P(e.level))),e instanceof wD&&(r=new wD(this.logService,this.abilityService,e.parent,i,s,P(e.level))),e instanceof CD&&(r=new CD(this.logService,this.abilityService,e.parent,i,s,P(e.level))),e instanceof jv&&(r=new jv(this.logService,this.abilityService,e.parent,i,s,P(e.level))),e instanceof DD&&(r=new DD(this.logService,this.abilityService,e.parent,i,s,P(e.level))),e instanceof AD&&(r=new AD(this.logService,this.abilityService,e.parent,i,s,P(e.level))),e instanceof PD&&(r=new PD(this.logService,this.abilityService,e.parent,i,s,P(e.level))),e instanceof kD&&(r=new kD(this.logService,this.abilityService,e.parent,i,s,P(e.level))),e instanceof TD&&(r=new TD(this.logService,this.abilityService,e.parent,i,s,P(e.level))),e instanceof xD&&(r=new xD(this.logService,this.abilityService,e.parent,i,s,P(e.level))),e instanceof MD&&(r=new MD(this.logService,this.abilityService,e.parent,i,s,P(e.level))),e instanceof ND&&(r=new ND(this.logService,this.abilityService,e.parent,i,s,P(e.level))),e instanceof RD&&(r=new RD(this.logService,this.abilityService,e.parent,i,s,P(e.level))),e instanceof LD&&(r=new LD(this.logService,this.abilityService,e.parent,i,s,P(e.level))),e instanceof VD&&(r=new VD(this.logService,this.abilityService,e.parent,i,s,P(e.level))),e instanceof FD&&(r=new FD(this.logService,this.abilityService,e.parent,i,s,P(e.level))),e instanceof BD&&(r=new BD(this.logService,this.abilityService,e.parent,i,s,P(e.level))),e instanceof $D&&(r=new $D(this.logService,this.abilityService,e.parent,i,s,P(e.level))),e instanceof HD&&(r=new HD(this.logService,this.abilityService,e.parent,i,s,P(e.level))),e instanceof qD&&(r=new qD(this.logService,this.abilityService,this,e.parent,i,s,P(e.level))),e instanceof OD&&(r=new OD(this.logService,this.abilityService,this,e.parent,i,s,P(e.level))),e instanceof UD&&(r=new UD(this.logService,this.abilityService,e.parent,i,s,P(e.level))),e instanceof GD&&(r=new GD(this.logService,this.abilityService,e.parent,i,s,P(e.level))),e instanceof jD&&(r=new jD(this.logService,this.abilityService,e.parent,i,s,P(e.level))),e instanceof Kv&&(r=new Kv(this.logService,this.abilityService,e.parent,i,s,P(e.level))),e instanceof WD&&(r=new WD(this.logService,this.abilityService,e.parent,i,s,P(e.level))),e instanceof zD&&(r=new zD(this.logService,this.abilityService,e.parent,i,s,P(e.level))),e instanceof KD&&(r=new KD(this.logService,this.abilityService,e.parent,i,s,P(e.level))),e instanceof YD&&(r=new YD(this.logService,this.abilityService,e.parent,i,s,P(e.level))),e instanceof QD&&(r=new QD(this.logService,this.abilityService,e.parent,i,s,P(e.level))),e instanceof ZD&&(r=new ZD(this.logService,this.abilityService,e.parent,i,s,P(e.level))),e instanceof JD&&(r=new JD(this.logService,this.abilityService,e.parent,i,s,P(e.level))),e instanceof XD&&(r=new XD(this.logService,this.abilityService,e.parent,i,s,P(e.level))),e instanceof ID&&(r=new ID(this.logService,this.abilityService,e.parent,i,s,P(e.level))),e instanceof e0&&(r=new e0(this.logService,this.abilityService,e.parent,i,s,P(e.level))),e instanceof t0&&(r=new t0(this.logService,this.abilityService,e.parent,i,s,P(e.level))),e instanceof n0&&(r=new n0(this.logService,this.abilityService,e.parent,i,s,P(e.level))),e instanceof s0&&(r=new s0(this.logService,this.abilityService,e.parent,i,s,P(e.level))),e instanceof r0&&(r=new r0(this.logService,this.abilityService,e.parent,i,s,P(e.level))),e instanceof o0&&(r=new o0(this.logService,this.abilityService,e.parent,i,s,P(e.level))),e instanceof a0&&(r=new a0(this.logService,this.abilityService,e.parent,i,s,P(e.level))),e instanceof l0&&(r=new l0(this.logService,this.abilityService,e.parent,i,s,P(e.level))),e instanceof c0&&(r=new c0(this.logService,this.abilityService,e.parent,i,s,P(e.level))),e instanceof u0&&(r=new u0(this.logService,this.abilityService,e.parent,i,s,P(e.level))),e instanceof d0&&(r=new d0(this.logService,this.abilityService,e.parent,i,s,P(e.level))),e instanceof f0&&(r=new f0(this.logService,this.abilityService,e.parent,i,s,P(e.level))),e instanceof p0&&(r=new p0(this.logService,this.abilityService,e.parent,i,s,P(e.level))),e instanceof g0&&(r=new g0(this.logService,this.abilityService,e.parent,i,s,P(e.level))),e instanceof m0&&(r=new m0(this.logService,this.abilityService,e.parent,i,s,P(e.level))),e instanceof v0&&(r=new v0(this.logService,this.abilityService,e.parent,i,s,P(e.level))),e instanceof b0&&(r=new b0(this.logService,this.abilityService,e.parent,i,s,P(e.level))),e instanceof _0&&(r=new _0(this.logService,this.abilityService,e.parent,i,s,P(e.level))),e instanceof S0&&(r=new S0(this.logService,this.abilityService,e.parent,i,s,P(e.level))),e instanceof E0&&(r=new E0(this.logService,this.abilityService,e.parent,i,s,P(e.level))),e instanceof w0&&(r=new w0(this.logService,this.abilityService,e.parent,i,s,P(e.level))),e instanceof C0&&(r=new C0(this.logService,this.abilityService,e.parent,i,s,P(e.level))),e instanceof D0&&(r=new D0(this.logService,this.abilityService,e.parent,i,s,P(e.level))),e instanceof A0&&(r=new A0(this.logService,this.abilityService,e.parent,i,s,P(e.level))),e instanceof P0&&(r=new P0(this.logService,this.abilityService,e.parent,i,s,P(e.level))),e instanceof k0&&(r=new k0(this.logService,this.abilityService,e.parent,i,s,P(e.level))),e instanceof T0&&(r=new T0(this.logService,this.abilityService,e.parent,i,s,P(e.level))),e instanceof x0&&(r=new x0(this.logService,this.abilityService,e.parent,i,s,P(e.level))),e instanceof M0&&(r=new M0(this.logService,this.abilityService,e.parent,i,s,P(e.level))),e instanceof I0&&(r=new I0(this.logService,this.abilityService,e.parent,i,s,P(e.level))),e instanceof Cp&&(r=new Cp(this.logService,this.abilityService,e.parent,i,s,P(e.level))),e instanceof O0&&(r=new O0(this.logService,this.abilityService,e.parent,i,s,P(e.level))),e instanceof Xv&&(r=new Xv(this.logService,this.abilityService,e.parent,i,s,P(e.level))),e instanceof N0&&(r=new N0(this.logService,this.abilityService,e.parent,i,s,P(e.level))),e instanceof R0&&(r=new R0(this.logService,this.abilityService,e.parent,i,s,P(e.level))),e instanceof L0&&(r=new L0(this.logService,this.abilityService,e.parent,i,s,P(e.level))),e instanceof V0&&(r=new V0(this.logService,this.abilityService,e.parent,i,s,P(e.level))),e instanceof F0&&(r=new F0(this.logService,this.abilityService,e.parent,i,s,P(e.level))),e instanceof B0&&(r=new B0(this.logService,this.abilityService,e.parent,i,s,P(e.level))),e instanceof $0&&(r=new $0(this.logService,this.abilityService,e.parent,i,s,P(e.level))),e instanceof H0&&(r=new H0(this.logService,this.abilityService,e.parent,i,s,P(e.level))),e instanceof q0&&(r=new q0(this.logService,this.abilityService,e.parent,i,s,P(e.level))),e instanceof U0&&(r=new U0(this.logService,this.abilityService,e.parent,i,s,P(e.level))),e instanceof G0&&(r=new G0(this.logService,this.abilityService,e.parent,i,s,P(e.level))),e instanceof j0&&(r=new j0(this.logService,this.abilityService,e.parent,i,s,P(e.level))),e instanceof W0&&(r=new W0(this.logService,this.abilityService,e.parent,i,s,P(e.level))),e instanceof z0&&(r=new z0(this.logService,this.abilityService,e.parent,i,s,P(e.level))),e instanceof Z0&&(r=new Z0(this.logService,this.abilityService,e.parent,i,s,P(e.level))),e instanceof K0&&(r=new K0(this.logService,this.abilityService,e.parent,i,s,P(e.level))),e instanceof Y0&&(r=new Y0(this.logService,this.abilityService,this,e.parent,i,s,P(e.level))),e instanceof Dn&&(r=new Dn(this.logService,this.abilityService,e.parent,i,s,P(e.level))),e instanceof Q0&&(r=new Q0(this.logService,this.abilityService,e.parent,i,s,P(e.level))),e instanceof J0&&(r=new J0(this.logService,this.abilityService,e.parent,i,s,P(e.level))),e instanceof X0&&(r=new X0(this.logService,this.abilityService,e.parent,i,s,P(e.level))),e instanceof eA&&(r=new eA(this.logService,this.abilityService,e.parent,i,s,P(e.level))),e instanceof tA&&(r=new tA(this.logService,this.abilityService,e.parent,i,s,P(e.level))),e instanceof nA&&(r=new nA(this.logService,this.abilityService,e.parent,i,s,P(e.level))),e instanceof iA&&(r=new iA(this.logService,this.abilityService,e.parent,i,s,P(e.level))),e instanceof sA&&(r=new sA(this.logService,this.abilityService,e.parent,i,s,P(e.level))),e instanceof rA&&(r=new rA(this.logService,this.abilityService,e.parent,i,s,P(e.level))),e instanceof oA&&(r=new oA(this.logService,this.abilityService,e.parent,i,s,P(e.level))),e instanceof aA&&(r=new aA(this.logService,this.abilityService,e.parent,i,s,P(e.level))),e instanceof eh&&(r=new eh(this.logService,this.abilityService,e.parent,i,s,P(e.level))),e instanceof lA&&(r=new lA(this.logService,this.abilityService,e.parent,i,s,P(e.level))),e instanceof cA&&(r=new cA(this.logService,this.abilityService,e.parent,i,s,P(e.level))),e instanceof uA&&(r=new uA(this.logService,this.abilityService,e.parent,i,s,P(e.level))),e instanceof hA&&(r=new hA(this.logService,this.abilityService,e.parent,i,s,P(e.level))),e instanceof Dp&&(r=new Dp(this.logService,this.abilityService,e.parent,i,s,P(e.level))),e instanceof Dp&&(r=new Dp(this.logService,this.abilityService,e.parent,i,s,P(e.level))),e instanceof dA&&(r=new dA(this.logService,this.abilityService,e.parent,i,s,P(e.level))),e instanceof fA&&(r=new fA(this.logService,this.abilityService,e.parent,i,s,P(e.level))),e instanceof pA&&(r=new pA(this.logService,this.abilityService,e.parent,i,s,P(e.level))),e instanceof gA&&(r=new gA(this.logService,this.abilityService,e.parent,i,s,P(e.level))),e instanceof mA&&(r=new mA(this.logService,this.abilityService,e.parent,i,s,P(e.level))),e instanceof _A&&(r=new _A(this.logService,this.abilityService,e.parent,i,s,P(e.level))),e instanceof vA&&(r=new vA(this.logService,this.abilityService,e.parent,i,s,P(e.level))),e instanceof yA&&(r=new yA(this.logService,this.abilityService,e.parent,i,s,P(e.level))),e instanceof SA&&(r=new SA(this.logService,this.abilityService,e.parent,i,s,P(e.level))),e instanceof bA&&(r=new bA(this.logService,this.abilityService,e.parent,i,s,P(e.level))),e instanceof EA&&(r=new EA(this.logService,this.abilityService,e.parent,i,s,P(e.level))),e instanceof wA&&(r=new wA(this.logService,this.abilityService,e.parent,i,s,P(e.level))),e instanceof CA&&(r=new CA(this.logService,this.abilityService,this,e.parent,i,s,P(e.level))),e instanceof DA&&(r=new DA(this.logService,this.abilityService,e.parent,i,s,P(e.level))),e instanceof AA&&(r=new AA(this.logService,this.abilityService,e.parent,i,s,P(e.level))),e instanceof PA&&(r=new PA(this.logService,this.abilityService,e.parent,i,s,P(e.level))),e instanceof kA&&(r=new kA(this.logService,this.abilityService,e.parent,i,s,P(e.level))),e instanceof TA&&(r=new TA(this.logService,this.abilityService,e.parent,i,s,P(e.level))),e instanceof xA&&(r=new xA(this.logService,this.abilityService,e.parent,i,s,P(e.level))),e instanceof MA&&(r=new MA(this.logService,this.abilityService,e.parent,i,s,P(e.level))),e instanceof IA&&(r=new IA(this.logService,this.abilityService,e.parent,i,s,P(e.level))),e instanceof OA&&(r=new OA(this.logService,this.abilityService,e.parent,i,s,P(e.level))),e instanceof ny&&(r=new ny(this.logService,this.abilityService,e.parent,i,s,P(e.level))),e instanceof NA&&(r=new NA(this.logService,this.abilityService,e.parent,i,s,P(e.level))),e instanceof RA&&(r=new RA(this.logService,this.abilityService,e.parent,i,s,P(e.level))),e instanceof LA&&(r=new LA(this.logService,this.abilityService,e.parent,i,s,P(e.level))),e instanceof VA&&(r=new VA(this.logService,this.abilityService,e.parent,i,s,P(e.level))),e instanceof FA&&(r=new FA(this.logService,this.abilityService,e.parent,i,s,P(e.level))),e instanceof BA&&(r=new BA(this.logService,this.abilityService,e.parent,i,s,P(e.level))),e instanceof $A&&(r=new $A(this.logService,this.abilityService,e.parent,i,s,P(e.level))),e instanceof HA&&(r=new HA(this.logService,this.abilityService,e.parent,i,s,P(e.level))),e instanceof qA&&(r=new qA(this.logService,this.abilityService,e.parent,i,s,P(e.level))),e instanceof UA&&(r=new UA(this.logService,this.abilityService,e.parent,i,s,P(e.level))),e instanceof GA&&(r=new GA(this.logService,this.abilityService,e.parent,i,s,P(e.level))),e instanceof jA&&(r=new jA(this.logService,this.abilityService,e.parent,i,s,P(e.level))),e instanceof WA&&(r=new WA(this.logService,this.abilityService,e.parent,i,s,P(e.level))),e instanceof zA&&(r=new zA(this.logService,this.abilityService,e.parent,i,s,P(e.level))),e instanceof KA&&(r=new KA(this.logService,this.abilityService,e.parent,i,s,P(e.level))),e instanceof YA&&(r=new YA(this.logService,this.abilityService,e.parent,i,s,P(e.level))),e instanceof QA&&(r=new QA(this.logService,this.abilityService,e.parent,i,s,P(e.level))),e instanceof ZA&&(r=new ZA(this.logService,this.abilityService,e.parent,i,s,P(e.level))),e instanceof JA&&(r=new JA(this.logService,this.abilityService,e.parent,i,s,P(e.level))),e instanceof XA&&(r=new XA(this.logService,this.abilityService,e.parent,i,s,P(e.level))),e instanceof eP&&(r=new eP(this.logService,this.abilityService,e.parent,i,s,P(e.level))),e instanceof tP&&(r=new tP(this.logService,this.abilityService,e.parent,i,s,P(e.level))),e instanceof nP&&(r=new nP(this.logService,this.abilityService,e.parent,i,s,P(e.level))),e instanceof iP&&(r=new iP(this.logService,this.abilityService,e.parent,i,s,P(e.level))),e instanceof sP&&(r=new sP(this.logService,this.abilityService,e.parent,i,s,P(e.level))),e instanceof rP&&(r=new rP(this.logService,this.abilityService,this,e.parent,i,s,P(e.level))),e instanceof oP&&(r=new oP(this.logService,this.abilityService,this,e.parent,i,s,P(e.level))),e instanceof aP&&(r=new aP(this.logService,this.abilityService,e.parent,i,s,P(e.level))),e instanceof lP&&(r=new lP(this.logService,this.abilityService,e.parent,i,s,P(e.level))),e instanceof iy&&(r=new iy(this.logService,this.abilityService,e.parent,i,s,P(e.level))),e instanceof cP&&(r=new cP(this.logService,this.abilityService,e.parent,i,s,P(e.level))),e instanceof uP&&(r=new uP(this.logService,this.abilityService,e.parent,i,s,P(e.level))),e instanceof hP&&(r=new hP(this.logService,this.abilityService,e.parent,i,s,P(e.level))),e instanceof dP&&(r=new dP(this.logService,this.abilityService,e.parent,i,s,P(e.level))),e instanceof fP&&(r=new fP(this.logService,this.abilityService,e.parent,i,s,P(e.level))),e instanceof pP&&(r=new pP(this.logService,this.abilityService,e.parent,i,s,P(e.level))),e instanceof gP&&(r=new gP(this.logService,this.abilityService,e.parent,i,s,P(e.level))),e instanceof mP&&(r=new mP(this.logService,this.abilityService,e.parent,i,s,P(e.level))),e instanceof _P&&(r=new _P(this.logService,this.abilityService,e.parent,i,s,P(e.level))),e instanceof vP&&(r=new vP(this.logService,this.abilityService,e.parent,i,s,P(e.level))),e instanceof yP&&(r=new yP(this.logService,this.abilityService,e.parent,i,s,P(e.level))),e instanceof bP&&(r=new bP(this.logService,this.abilityService,e.parent,i,s,P(e.level))),e instanceof SP&&(r=new SP(this.logService,this.abilityService,e.parent,i,s,P(e.level))),e instanceof EP&&(r=new EP(this.logService,this.abilityService,e.parent,i,s,P(e.level))),e instanceof wP&&(r=new wP(this.logService,this.abilityService,e.parent,i,s,P(e.level))),e instanceof CP&&(r=new CP(this.logService,this.abilityService,e.parent,i,s,P(e.level))),e instanceof DP&&(r=new DP(this.logService,this.abilityService,e.parent,i,s,P(e.level))),e instanceof UP&&(r=new UP(this.logService,this.abilityService,e.parent,i,s,P(e.level))),e instanceof AP&&(r=new AP(this.logService,this.abilityService,e.parent,i,s,P(e.level))),e instanceof PP&&(r=new PP(this.logService,this.abilityService,e.parent,i,s,P(e.level))),e instanceof kP&&(r=new kP(this.logService,this.abilityService,e.parent,i,s,P(e.level))),e instanceof TP&&(r=new TP(this.logService,this.abilityService,e.parent,i,s,P(e.level))),e instanceof xP&&(r=new xP(this.logService,this.abilityService,e.parent,i,s,P(e.level))),e instanceof MP&&(r=new MP(this.logService,this.abilityService,e.parent,i,s,P(e.level))),e instanceof IP&&(r=new IP(this.logService,this.abilityService,e.parent,i,s,P(e.level))),e instanceof OP&&(r=new OP(this.logService,this.abilityService,e.parent,i,s,P(e.level))),e instanceof NP&&(r=new NP(this.logService,this.abilityService,e.parent,i,s,P(e.level))),e instanceof RP&&(r=new RP(this.logService,this.abilityService,e.parent,i,s,P(e.level))),e instanceof LP&&(r=new LP(this.logService,this.abilityService,e.parent,i,s,P(e.level))),e instanceof VP&&(r=new VP(this.logService,this.abilityService,e.parent,i,s,P(e.level))),e instanceof FP&&(r=new FP(this.logService,this.abilityService,e.parent,i,s,P(e.level))),e instanceof BP&&(r=new BP(this.logService,this.abilityService,e.parent,i,s,P(e.level))),e instanceof $P&&(r=new $P(this.logService,this.abilityService,e.parent,i,s,P(e.level))),e instanceof HP&&(r=new HP(this.logService,this.abilityService,e.parent,i,s,P(e.level))),e instanceof qP&&(r=new qP(this.logService,this.abilityService,e.parent,i,s,P(e.level))),e instanceof GP&&(r=new GP(this.logService,this.abilityService,this,e.parent,i,s,P(e.level))),e instanceof jP&&(r=new jP(this.logService,this.abilityService,e.parent,i,s,P(e.level))),e instanceof WP&&(r=new WP(this.logService,this.abilityService,e.parent,i,s,P(e.level))),e instanceof zP&&(r=new zP(this.logService,this.abilityService,e.parent,i,s,P(e.level))),e instanceof KP&&(r=new KP(this.logService,this.abilityService,e.parent,i,s,P(e.level))),e instanceof YP&&(r=new YP(this.logService,this.abilityService,this,e.parent,i,s,P(e.level))),e instanceof QP&&(r=new QP(this.logService,this.abilityService,this,e.parent,i,s,P(e.level))),e instanceof ZP&&(r=new ZP(this.logService,this.abilityService,e.parent,i,s,P(e.level))),e instanceof JP&&(r=new JP(this.logService,this.abilityService,e.parent,i,s,P(e.level))),e instanceof XP&&(r=new XP(this.logService,this.abilityService,e.parent,i,s,P(e.level))),e instanceof ek&&(r=new ek(this.logService,this.abilityService,e.parent,i,s,P(e.level))),e instanceof tk&&(r=new tk(this.logService,this.abilityService,e.parent,i,s,P(e.level))),e instanceof nk&&(r=new nk(this.logService,this.abilityService,e.parent,i,s,P(e.level))),e instanceof ik&&(r=new ik(this.logService,this.abilityService,e.parent,i,s,P(e.level))),e instanceof sk&&(r=new sk(this.logService,this.abilityService,e.parent,i,s,P(e.level))),e instanceof rk&&(r=new rk(this.logService,this.abilityService,e.parent,i,s,P(e.level))),e instanceof ok&&(r=new ok(this.logService,this.abilityService,this,e.parent,i,s,P(e.level))),e instanceof ak&&(r=new ak(this.logService,this.abilityService,e.parent,i,s,P(e.level))),e instanceof lk&&(r=new lk(this.logService,this.abilityService,e.parent,i,s,P(e.level))),e instanceof ck&&(r=new ck(this.logService,this.abilityService,e.parent,i,s,P(e.level))),e instanceof uk&&(r=new uk(this.logService,this.abilityService,e.parent,i,s,P(e.level))),e instanceof hk&&(r=new hk(this.logService,this.abilityService,e.parent,i,s,P(e.level))),e instanceof dk&&(r=new dk(this.logService,this.abilityService,e.parent,i,s,P(e.level))),e instanceof nh&&(r=new nh(this.logService,this.abilityService,e.parent,i,s,P(e.level))),e instanceof zv&&(r=new zv(this.logService,this.abilityService,e.parent,i,s,P(e.level))),e instanceof ey&&(r=new ey(this.logService,this.abilityService,e.parent,i,s,P(e.level))),e instanceof Yv&&(r=new Yv(this.logService,this.abilityService,e.parent,i,s,P(e.level))),e instanceof Gv&&(r=new Gv(this.logService,this.abilityService,e.parent,i,s,P(e.level))),e instanceof $v&&(r=new $v(this.logService,this.abilityService,e.parent,i,s,P(e.level))),e instanceof sy&&(r=new sy(this.logService,this.abilityService,e.parent,i,s,P(e.level))),e instanceof Jv&&(r=new Jv(this.logService,this.abilityService,e.parent,i,s,P(e.level))),e instanceof Wv&&(r=new Wv(this.logService,this.abilityService,e.parent,i,s,P(e.level))),e instanceof oy&&(r=new oy(this.logService,this.abilityService,e.parent,i,s,P(e.level))),e instanceof ry&&(r=new ry(this.logService,this.abilityService,e.parent,i,s,P(e.level))),e instanceof th&&(r=new th(this.logService,this.abilityService,e.parent,i,s,P(e.level))),e instanceof Ep&&(r=new Ep(this.logService,this.abilityService,e.parent,i,s,P(e.level))),e instanceof fk&&(r=new fk(this.logService,this.abilityService,e.parent,i,s,P(e.level))),e instanceof pk&&(r=new pk(this.logService,this.abilityService,e.parent,i,s,P(e.level))),e instanceof gk&&(r=new gk(this.logService,this.abilityService,e.parent,i,s,P(e.level))),e instanceof mk&&(r=new mk(this.logService,this.abilityService,e.parent,i,s,P(e.level))),e instanceof _k&&(r=new _k(this.logService,this.abilityService,e.parent,i,s,P(e.level))),e instanceof vk&&(r=new vk(this.logService,this.abilityService,e.parent,i,s,P(e.level))),e instanceof yk&&(r=new yk(this.logService,this.abilityService,e.parent,i,s,P(e.level))),e instanceof bk&&(r=new bk(this.logService,this.abilityService,e.parent,i,s,P(e.level))),e instanceof Sk&&(r=new Sk(this.logService,this.abilityService,e.parent,i,s,P(e.level))),e instanceof Ek&&(r=new Ek(this.logService,this.abilityService,e.parent,i,s,P(e.level))),e instanceof Pk&&(r=new Pk(this.logService,this.abilityService,this,this.gameService,e.parent,i,s,P(e.level))),e instanceof kk&&(r=new kk(this.logService,this.abilityService,e.parent,i,s,P(e.level))),e instanceof Tk&&(r=new Tk(this.logService,this.abilityService,e.parent,i,s,P(e.level))),e instanceof xk&&(r=new xk(this.logService,this.abilityService,e.parent,i,s,P(e.level))),e instanceof Mk&&(r=new Mk(this.logService,this.abilityService,e.parent,i,s,P(e.level))),e instanceof Ik&&(r=new Ik(this.logService,this.abilityService,this,e.parent,i,s,P(e.level))),e instanceof Ok&&(r=new Ok(this.logService,this.abilityService,e.parent,i,s,P(e.level))),e instanceof Nk&&(r=new Nk(this.logService,this.abilityService,e.parent,i,s,P(e.level))),r}getRandomPet(e){let s,i=xo(1,6);s="Turtle"==e.pack?this.turtlePackPets.get(i):"Puppy"==e.pack?this.puppyPackPets.get(i):"Star"==e.pack?this.starPackPets.get(i):"Golden"==e.pack?this.goldenPackPets.get(i):this.playerCustomPackPets.get(e.pack).get(i);let o=s[xo(0,s.length-1)];return this.createPet({attack:null,equipment:null,exp:xo(0,5),health:null,name:o},e)}getRandomFaintPet(e){let i=["Ant","Cricket","Rat","Hedgehog","Flamingo","Spider","Badger","Sheep","Turtle","Deer","Rooster","Mammoth","Beluga Sturgeon","Hoopoe Bird","Mole","Pangolin","Microbe","Tahr","Chameleon","Stonefish","Chicken","Eagle","Snapping Turtle","Lionfish","Stork","Blobfish","Anteater","Groundhog","Pied Tamarin","Black Necked Stilt","Squid","Flea","Weasel","Betta Fish","Osprey","Cuttlefish","Vaquita","Slug","Nyala","Nurse Shark","Beluga Whale","Wolf","Fire Ant","Warthog","Bear","Tapir","Walrus"],s=i[xo(0,i.length-1)];return this.createPet({name:s,attack:null,equipment:null,exp:0,health:null},e)}}return n.\u0275fac=function(e){return new(e||n)($(ly),$(cy),$(sh))},n.\u0275prov=le({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function P(n){return 1==n?0:2==n?2:5}let Rk=(()=>{class n{constructor(e,i,s,r){this.logService=e,this.abilityService=i,this.petService=s,this.gameService=r}getInstanceOfAllEquipment(){let e=new Map;return e.set("Garlic",new wp),e.set("Meat Bone",new h0),e.set("Steak",new QR),e.set("Melon",new ka),e.set("Honey",new Qv(this.logService,this.abilityService)),e.set("Chili",new Sp(this.logService,this.abilityService)),e.set("Mushroom",new ZR(this.logService,this.abilityService,this.petService)),e.set("Coconut",new Ta),e.set("Peanut",new Ql),e.set("Croissant",new JR),e.set("Rice",new Zv),e.set("Egg",new y0(this.logService,this.abilityService)),e.set("Salt",new Lv),e.set("Pie",new wk),e.set("Skewer",new ty(this.logService)),e.set("Lemon",new XR),e.set("Pancakes",new Ck),e.set("Strawberry",new eL),e.set("Cucumber",new tL),e.set("Cheese",new Vv),e.set("Grapes",new lL),e.set("Carrot",new aL),e.set("Pepper",new Fv),e.set("Popcorn",new cL(this.logService,this.abilityService,this.petService,this.gameService)),e.set("Cherry",new iL),e.set("Chocolate Cake",new ay(this.logService)),e.set("Eggplant",new Dk(this.logService)),e.set("Potato",new rL),e.set("Banana",new nL(this.logService,this.abilityService)),e.set("Onion",new oD(this.logService)),e.set("Pita Bread",new Ak(this.logService)),e.set("Tomato",new oL(this.logService,this.abilityService)),e.set("Durian",new sL(this.logService,this.abilityService)),e.set("Fortune Cookie",new Bv),e.set("Blueberry",new uL),e.set("Donut",new hL),e}}return n.\u0275fac=function(e){return new(e||n)($(ly),$(cy),$(uy),$(sh))},n.\u0275prov=le({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function _6(n,t){if(1&n){const e=ya();y(0,"span",19),rt("click",function(){return us(e),fn().setExp(0)}),I(1,"x"),b()}}function v6(n,t){if(1&n&&(y(0,"option",22),I(1),b()),2&n){const e=t.$implicit,i=fn(2);Q("ngValue",e)("hidden",i.optionHidden(e))("disabled",i.optionHidden(e)),G(1),Ri(e)}}function y6(n,t){if(1&n&&(y(0,"optgroup",20),Xe(1,v6,2,4,"option",21),b()),2&n){const e=t.$implicit;Q("label","Tier "+e.key),G(1),Q("ngForOf",e.value)}}function b6(n,t){if(1&n){const e=ya();y(0,"button",23),rt("click",function(){return us(e),fn().toggleFlyOut()}),I(1,">"),b()}}function S6(n,t){if(1&n&&(y(0,"option",9),I(1),b()),2&n){const e=t.$implicit;Q("ngValue",e),G(1),Ri(e)}}function E6(n,t){if(1&n&&(y(0,"optgroup",20),Xe(1,S6,2,2,"option",15),b()),2&n){const e=t.$implicit;Q("label","Tier "+e.key),G(1),Q("ngForOf",e.value)}}function w6(n,t){if(1&n&&(y(0,"div",24),y(1,"label",25),I(2,"Swallowed Pet"),b(),y(3,"select",26),y(4,"option",9),I(5,"None"),b(),Xe(6,E6,2,2,"optgroup",10),ju(7,"keyvalue"),b(),b()),2&n){const e=fn();G(4),Q("ngValue",null),G(2),Q("ngForOf",Wu(7,2,e.pets))}}function C6(n,t){if(1&n&&(y(0,"option",9),I(1),b()),2&n){const e=t.$implicit;Q("ngValue",e.value),G(1),Ri(e.key)}}let dL=(()=>{class n{constructor(e,i){this.petService=e,this.equipmentService=i,this.showFlyOut=!1}ngOnInit(){this.initSelector(),this.fixLoadEquipment()}initSelector(){this.initPets(),this.initEquipment(),this.initForm()}initPets(){this.pets=new Map;for(let e=1;e<=6;e++)this.pets.set(e,[]);for(let[e,i]of this.petService.turtlePackPets)this.pets.get(e).push(...i);for(let[e,i]of this.petService.puppyPackPets)this.pets.get(e).push(...i);for(let[e,i]of this.petService.starPackPets)this.pets.get(e).push(...i);for(let[e,i]of this.petService.goldenPackPets)this.pets.get(e).push(...i);for(let[e,i]of this.petService.customPackPets)this.pets.get(e).push(...i);for(let[e,i]of this.pets)this.pets.set(e,[...new Set(i)])}getPack(e){let i;return i="Turtle"==e.pack?this.petService.turtlePackPets:"Puppy"==e.pack?this.petService.puppyPackPets:"Star"==e.pack?this.petService.starPackPets:"Golden"==e.pack?this.petService.goldenPackPets:this.buildCustomPack(e.pack),(0,Me.cloneDeep)(i)}buildCustomPack(e){let i;for(let r of this.customPacks.controls)if(r.get("name").value==e){i=r;break}let s=new Map;for(let r=1;r<=6;r++)s.set(r,i.get(`tier${r}Pets`).value);return s}initEquipment(){this.equipment=this.equipmentService.getInstanceOfAllEquipment()}initForm(){this.formGroup.get("name").valueChanges.subscribe(e=>{null!=e?this.substitutePet(!0):this.removePet()}),this.formGroup.get("attack").valueChanges.subscribe(()=>{this.substitutePet(!1)}),this.formGroup.get("health").valueChanges.subscribe(()=>{this.substitutePet(!1)}),this.formGroup.get("exp").valueChanges.subscribe(()=>{this.substitutePet(!1)}),this.formGroup.get("equipment").valueChanges.subscribe(()=>{this.substitutePet(!1)}),this.formGroup.get("belugaSwallowedPet").valueChanges.subscribe(e=>{this.setBelugaSwallow(e)})}setExp(e){this.formGroup.get("exp").setValue(e)}getIsSelected(e){return this.formGroup.get("exp").value>=e}showRemoveExp(){return this.formGroup.get("exp").value>0}substitutePet(e=!1){setTimeout(()=>{let i=this.formGroup.value;e&&(i.attack=null,i.health=null);let s=this.petService.createPet(i,this.player);this.player.setPet(this.index,s,!0),console.log("pet substituted",this.player),e&&(this.formGroup.get("attack").setValue(s.attack,{emitEvent:!1}),this.formGroup.get("health").setValue(s.health,{emitEvent:!1}))})}setBelugaSwallow(e){let i=this.player.getPet(this.index);i.belugaSwallowedPet=e,console.log(i)}showFlyOutButton(){return"Beluga Whale"==this.formGroup.get("name").value}toggleFlyOut(){this.showFlyOut=!this.showFlyOut}removePet(){this.player.setPet(this.index,null,!0),this.formGroup.get("attack").setValue(null,{emitEvent:!1}),this.formGroup.get("health").setValue(null,{emitEvent:!1}),this.formGroup.get("exp").setValue(0,{emitEvent:!1})}optionHidden(e){var i;if(this.allPets)return!1;let s=this.getPack(this.player);for(let[r,o]of s)if(o.includes(e))return!1;if(this.angler){let r=this.getPack(this.opponent);for(let[o,a]of r)if(a.includes(e))return!1}return(null===(i=this.player.getPet(this.index))||void 0===i?void 0:i.name)!=e}fixLoadEquipment(){let e=this.formGroup.get("equipment").value;null!=e&&this.formGroup.get("equipment").setValue(this.equipment.get(e.name))}}return n.\u0275fac=function(e){return new(e||n)(F(uy),F(Rk))},n.\u0275cmp=Ws({type:n,selectors:[["app-pet-selector"]],inputs:{pet:"pet",player:"player",opponent:"opponent",index:"index",angler:"angler",allPets:"allPets",formGroup:"formGroup",customPacks:"customPacks"},decls:36,vars:22,consts:[[1,"card","p-3"],[1,"row","form-group",3,"formGroup"],[1,"col-12","d-flex","level-bar-numbers","mb-1"],[1,"level-3"],[1,"col-12","d-flex","level-bar","mb-2"],["class","remove-exp",3,"click",4,"ngIf"],[3,"click"],[1,"col-12","mb-2","d-flex"],["formControlName","name",1,"form-control"],[3,"ngValue"],[3,"label",4,"ngFor","ngForOf"],["class","btn btn-secondary",3,"click",4,"ngIf"],["class","fly-out border p-3",4,"ngIf"],[1,"col-12","mb-2"],["formControlName","equipment",1,"form-control"],[3,"ngValue",4,"ngFor","ngForOf"],[1,"col-6"],["formControlName","attack","type","number","min","1","max","50",1,"form-control","select-attack"],["formControlName","health","type","number","min","1","max","50",1,"form-control","select-health"],[1,"remove-exp",3,"click"],[3,"label"],[3,"ngValue","hidden","disabled",4,"ngFor","ngForOf"],[3,"ngValue","hidden","disabled"],[1,"btn","btn-secondary",3,"click"],[1,"fly-out","border","p-3"],["for","belugaSwallowedPet"],["formControlName","belugaSwallowedPet",1,"form-control"]],template:function(e,i){1&e&&(y(0,"div",0),y(1,"div",1),y(2,"div",2),y(3,"span"),I(4,"1"),b(),Ae(5,"span"),y(6,"span"),I(7,"2"),b(),Ae(8,"span"),y(9,"span",3),I(10,"3"),b(),b(),y(11,"div",4),Xe(12,_6,2,0,"span",5),y(13,"span",6),rt("click",function(){return i.setExp(1)}),b(),y(14,"span",6),rt("click",function(){return i.setExp(2)}),b(),y(15,"span",6),rt("click",function(){return i.setExp(3)}),b(),y(16,"span",6),rt("click",function(){return i.setExp(4)}),b(),y(17,"span",6),rt("click",function(){return i.setExp(5)}),b(),b(),y(18,"div",7),y(19,"select",8),y(20,"option",9),I(21,"None"),b(),Xe(22,y6,2,2,"optgroup",10),ju(23,"keyvalue"),b(),Xe(24,b6,2,0,"button",11),Xe(25,w6,8,4,"div",12),b(),y(26,"div",13),y(27,"select",14),y(28,"option",9),I(29,"None"),b(),Xe(30,C6,2,2,"option",15),ju(31,"keyvalue"),b(),b(),y(32,"div",16),Ae(33,"input",17),b(),y(34,"div",16),Ae(35,"input",18),b(),b(),b()),2&e&&(G(1),Q("formGroup",i.formGroup),G(11),Q("ngIf",i.showRemoveExp()),G(1),ws(i.getIsSelected(1)?"selected":""),G(1),ws(i.getIsSelected(2)?"selected":""),G(1),ws(i.getIsSelected(3)?"selected":""),G(1),ws(i.getIsSelected(4)?"selected":""),G(1),ws(i.getIsSelected(5)?"selected":""),G(3),Q("ngValue",null),G(2),Q("ngForOf",Wu(23,18,i.pets)),G(2),Q("ngIf",i.showFlyOutButton()),G(1),Q("ngIf",i.showFlyOut),G(3),Q("ngValue",null),G(2),Q("ngForOf",Wu(31,20,i.equipment)))},directives:[fp,Yl,cp,bp,Av,yp,eD,nD,lp,Zu,Nv,iD,Rv],pipes:[wC],styles:[".select-attack[_ngcontent-%COMP%]{background-color:gray;color:#fff}.select-health[_ngcontent-%COMP%]{background-color:#ca0202;color:#fff}.select-attack[_ngcontent-%COMP%], .select-health[_ngcontent-%COMP%]{font-size:1.5em;padding-right:0}.level-bar[_ngcontent-%COMP%], .level-bar-numbers[_ngcontent-%COMP%]{height:1em}.level-bar[_ngcontent-%COMP%]   span[_ngcontent-%COMP%], .level-bar-numbers[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{width:calc(100% / 5);height:100%}.level-bar[_ngcontent-%COMP%]{position:relative}.level-bar[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{cursor:pointer;border:2px solid black;background-color:#9c5900;border-radius:20%}.level-bar[_ngcontent-%COMP%]   .remove-exp[_ngcontent-%COMP%]{border:initial;background-color:initial;border-radius:initial;width:initial;position:absolute;left:0;bottom:.33em}.level-bar[_ngcontent-%COMP%]   span.selected[_ngcontent-%COMP%]{background-color:#feb900}.level-3[_ngcontent-%COMP%]{text-align:right}.fly-out[_ngcontent-%COMP%]{position:absolute;left:100%;background-color:#fff;width:100%;z-index:1;box-shadow:12px 4px 9px 7px #0000001a}"]}),n})();var Si="top",ts="bottom",ns="right",Ei="left",hy="auto",rh=[Si,ts,ns,Ei],Zl="start",oh="end",fL="clippingParents",Lk="viewport",ah="popper",pL="reference",Vk=rh.reduce(function(n,t){return n.concat([t+"-"+Zl,t+"-"+oh])},[]),Fk=[].concat(rh,[hy]).reduce(function(n,t){return n.concat([t,t+"-"+Zl,t+"-"+oh])},[]),gL="beforeRead",mL="read",_L="afterRead",vL="beforeMain",yL="main",bL="afterMain",SL="beforeWrite",EL="write",wL="afterWrite",CL=[gL,mL,_L,vL,yL,bL,SL,EL,wL];function Lr(n){return n?(n.nodeName||"").toLowerCase():null}function is(n){if(null==n)return window;if("[object Window]"!==n.toString()){var t=n.ownerDocument;return t&&t.defaultView||window}return n}function Jl(n){return n instanceof is(n).Element||n instanceof Element}function xs(n){return n instanceof is(n).HTMLElement||n instanceof HTMLElement}function Bk(n){return"undefined"!=typeof ShadowRoot&&(n instanceof is(n).ShadowRoot||n instanceof ShadowRoot)}const $k={name:"applyStyles",enabled:!0,phase:"write",fn:function(n){var t=n.state;Object.keys(t.elements).forEach(function(e){var i=t.styles[e]||{},s=t.attributes[e]||{},r=t.elements[e];!xs(r)||!Lr(r)||(Object.assign(r.style,i),Object.keys(s).forEach(function(o){var a=s[o];!1===a?r.removeAttribute(o):r.setAttribute(o,!0===a?"":a)}))})},effect:function(n){var t=n.state,e={popper:{position:t.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(t.elements.popper.style,e.popper),t.styles=e,t.elements.arrow&&Object.assign(t.elements.arrow.style,e.arrow),function(){Object.keys(t.elements).forEach(function(i){var s=t.elements[i],r=t.attributes[i]||{},a=Object.keys(t.styles.hasOwnProperty(i)?t.styles[i]:e[i]).reduce(function(u,h){return u[h]="",u},{});!xs(s)||!Lr(s)||(Object.assign(s.style,a),Object.keys(r).forEach(function(u){s.removeAttribute(u)}))})}},requires:["computeStyles"]};function Vr(n){return n.split("-")[0]}var Xl=Math.max,dy=Math.min,lh=Math.round;function Hk(){var n=navigator.userAgentData;return null!=n&&n.brands&&Array.isArray(n.brands)?n.brands.map(function(t){return t.brand+"/"+t.version}).join(" "):navigator.userAgent}function DL(){return!/^((?!chrome|android).)*safari/i.test(Hk())}function ch(n,t,e){void 0===t&&(t=!1),void 0===e&&(e=!1);var i=n.getBoundingClientRect(),s=1,r=1;t&&xs(n)&&(s=n.offsetWidth>0&&lh(i.width)/n.offsetWidth||1,r=n.offsetHeight>0&&lh(i.height)/n.offsetHeight||1);var a=(Jl(n)?is(n):window).visualViewport,u=!DL()&&e,h=(i.left+(u&&a?a.offsetLeft:0))/s,f=(i.top+(u&&a?a.offsetTop:0))/r,g=i.width/s,m=i.height/r;return{width:g,height:m,top:f,right:h+g,bottom:f+m,left:h,x:h,y:f}}function qk(n){var t=ch(n),e=n.offsetWidth,i=n.offsetHeight;return Math.abs(t.width-e)<=1&&(e=t.width),Math.abs(t.height-i)<=1&&(i=t.height),{x:n.offsetLeft,y:n.offsetTop,width:e,height:i}}function AL(n,t){var e=t.getRootNode&&t.getRootNode();if(n.contains(t))return!0;if(e&&Bk(e)){var i=t;do{if(i&&n.isSameNode(i))return!0;i=i.parentNode||i.host}while(i)}return!1}function Mo(n){return is(n).getComputedStyle(n)}function P6(n){return["table","td","th"].indexOf(Lr(n))>=0}function xa(n){return((Jl(n)?n.ownerDocument:n.document)||window.document).documentElement}function fy(n){return"html"===Lr(n)?n:n.assignedSlot||n.parentNode||(Bk(n)?n.host:null)||xa(n)}function PL(n){return xs(n)&&"fixed"!==Mo(n).position?n.offsetParent:null}function Ap(n){for(var t=is(n),e=PL(n);e&&P6(e)&&"static"===Mo(e).position;)e=PL(e);return e&&("html"===Lr(e)||"body"===Lr(e)&&"static"===Mo(e).position)?t:e||function(n){var t=/firefox/i.test(Hk());if(/Trident/i.test(Hk())&&xs(n)&&"fixed"===Mo(n).position)return null;var s=fy(n);for(Bk(s)&&(s=s.host);xs(s)&&["html","body"].indexOf(Lr(s))<0;){var r=Mo(s);if("none"!==r.transform||"none"!==r.perspective||"paint"===r.contain||-1!==["transform","perspective"].indexOf(r.willChange)||t&&"filter"===r.willChange||t&&r.filter&&"none"!==r.filter)return s;s=s.parentNode}return null}(n)||t}function Uk(n){return["top","bottom"].indexOf(n)>=0?"x":"y"}function Pp(n,t,e){return Xl(n,dy(t,e))}function TL(n){return Object.assign({},{top:0,right:0,bottom:0,left:0},n)}function xL(n,t){return t.reduce(function(e,i){return e[i]=n,e},{})}const ML={name:"arrow",enabled:!0,phase:"main",fn:function(n){var t,e=n.state,i=n.name,s=n.options,r=e.elements.arrow,o=e.modifiersData.popperOffsets,a=Vr(e.placement),u=Uk(a),f=[Ei,ns].indexOf(a)>=0?"height":"width";if(r&&o){var g=function(t,e){return TL("number"!=typeof(t="function"==typeof t?t(Object.assign({},e.rects,{placement:e.placement})):t)?t:xL(t,rh))}(s.padding,e),m=qk(r),v="y"===u?Si:Ei,E="y"===u?ts:ns,D=e.rects.reference[f]+e.rects.reference[u]-o[u]-e.rects.popper[f],C=o[u]-e.rects.reference[u],L=Ap(r),N=L?"y"===u?L.clientHeight||0:L.clientWidth||0:0,oe=N/2-m[f]/2+(D/2-C/2),be=Pp(g[v],oe,N-m[f]-g[E]);e.modifiersData[i]=((t={})[u]=be,t.centerOffset=be-oe,t)}},effect:function(n){var t=n.state,i=n.options.element,s=void 0===i?"[data-popper-arrow]":i;null!=s&&("string"==typeof s&&!(s=t.elements.popper.querySelector(s))||!AL(t.elements.popper,s)||(t.elements.arrow=s))},requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function uh(n){return n.split("-")[1]}var O6={top:"auto",right:"auto",bottom:"auto",left:"auto"};function IL(n){var t,e=n.popper,i=n.popperRect,s=n.placement,r=n.variation,o=n.offsets,a=n.position,u=n.gpuAcceleration,h=n.adaptive,f=n.roundOffsets,g=n.isFixed,m=o.x,v=void 0===m?0:m,E=o.y,D=void 0===E?0:E,C="function"==typeof f?f({x:v,y:D}):{x:v,y:D};v=C.x,D=C.y;var L=o.hasOwnProperty("x"),N=o.hasOwnProperty("y"),z=Ei,U=Si,ee=window;if(h){var oe=Ap(e),be="clientHeight",ot="clientWidth";oe===is(e)&&"static"!==Mo(oe=xa(e)).position&&"absolute"===a&&(be="scrollHeight",ot="scrollWidth"),(s===Si||(s===Ei||s===ns)&&r===oh)&&(U=ts,D-=(g&&oe===ee&&ee.visualViewport?ee.visualViewport.height:oe[be])-i.height,D*=u?1:-1),s!==Ei&&(s!==Si&&s!==ts||r!==oh)||(z=ns,v-=(g&&oe===ee&&ee.visualViewport?ee.visualViewport.width:oe[ot])-i.width,v*=u?1:-1)}var wt,xt=Object.assign({position:a},h&&O6),tn=!0===f?function(n,t){var i=n.y,s=t.devicePixelRatio||1;return{x:lh(n.x*s)/s||0,y:lh(i*s)/s||0}}({x:v,y:D},is(e)):{x:v,y:D};return v=tn.x,D=tn.y,Object.assign({},xt,u?((wt={})[U]=N?"0":"",wt[z]=L?"0":"",wt.transform=(ee.devicePixelRatio||1)<=1?"translate("+v+"px, "+D+"px)":"translate3d("+v+"px, "+D+"px, 0)",wt):((t={})[U]=N?D+"px":"",t[z]=L?v+"px":"",t.transform="",t))}const Gk={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:function(n){var t=n.state,e=n.options,i=e.gpuAcceleration,s=void 0===i||i,r=e.adaptive,o=void 0===r||r,a=e.roundOffsets,u=void 0===a||a,h={placement:Vr(t.placement),variation:uh(t.placement),popper:t.elements.popper,popperRect:t.rects.popper,gpuAcceleration:s,isFixed:"fixed"===t.options.strategy};null!=t.modifiersData.popperOffsets&&(t.styles.popper=Object.assign({},t.styles.popper,IL(Object.assign({},h,{offsets:t.modifiersData.popperOffsets,position:t.options.strategy,adaptive:o,roundOffsets:u})))),null!=t.modifiersData.arrow&&(t.styles.arrow=Object.assign({},t.styles.arrow,IL(Object.assign({},h,{offsets:t.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:u})))),t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-placement":t.placement})},data:{}};var py={passive:!0};const jk={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:function(n){var t=n.state,e=n.instance,i=n.options,s=i.scroll,r=void 0===s||s,o=i.resize,a=void 0===o||o,u=is(t.elements.popper),h=[].concat(t.scrollParents.reference,t.scrollParents.popper);return r&&h.forEach(function(f){f.addEventListener("scroll",e.update,py)}),a&&u.addEventListener("resize",e.update,py),function(){r&&h.forEach(function(f){f.removeEventListener("scroll",e.update,py)}),a&&u.removeEventListener("resize",e.update,py)}},data:{}};var V6={left:"right",right:"left",bottom:"top",top:"bottom"};function gy(n){return n.replace(/left|right|bottom|top/g,function(t){return V6[t]})}var F6={start:"end",end:"start"};function OL(n){return n.replace(/start|end/g,function(t){return F6[t]})}function Wk(n){var t=is(n);return{scrollLeft:t.pageXOffset,scrollTop:t.pageYOffset}}function zk(n){return ch(xa(n)).left+Wk(n).scrollLeft}function Kk(n){var t=Mo(n);return/auto|scroll|overlay|hidden/.test(t.overflow+t.overflowY+t.overflowX)}function NL(n){return["html","body","#document"].indexOf(Lr(n))>=0?n.ownerDocument.body:xs(n)&&Kk(n)?n:NL(fy(n))}function kp(n,t){var e;void 0===t&&(t=[]);var i=NL(n),s=i===(null==(e=n.ownerDocument)?void 0:e.body),r=is(i),o=s?[r].concat(r.visualViewport||[],Kk(i)?i:[]):i,a=t.concat(o);return s?a:a.concat(kp(fy(o)))}function Yk(n){return Object.assign({},n,{left:n.x,top:n.y,right:n.x+n.width,bottom:n.y+n.height})}function RL(n,t,e){return t===Lk?Yk(function(n,t){var e=is(n),i=xa(n),s=e.visualViewport,r=i.clientWidth,o=i.clientHeight,a=0,u=0;if(s){r=s.width,o=s.height;var h=DL();(h||!h&&"fixed"===t)&&(a=s.offsetLeft,u=s.offsetTop)}return{width:r,height:o,x:a+zk(n),y:u}}(n,e)):Jl(t)?function(n,t){var e=ch(n,!1,"fixed"===t);return e.top=e.top+n.clientTop,e.left=e.left+n.clientLeft,e.bottom=e.top+n.clientHeight,e.right=e.left+n.clientWidth,e.width=n.clientWidth,e.height=n.clientHeight,e.x=e.left,e.y=e.top,e}(t,e):Yk(function(n){var t,e=xa(n),i=Wk(n),s=null==(t=n.ownerDocument)?void 0:t.body,r=Xl(e.scrollWidth,e.clientWidth,s?s.scrollWidth:0,s?s.clientWidth:0),o=Xl(e.scrollHeight,e.clientHeight,s?s.scrollHeight:0,s?s.clientHeight:0),a=-i.scrollLeft+zk(n),u=-i.scrollTop;return"rtl"===Mo(s||e).direction&&(a+=Xl(e.clientWidth,s?s.clientWidth:0)-r),{width:r,height:o,x:a,y:u}}(xa(n)))}function LL(n){var u,t=n.reference,e=n.element,i=n.placement,s=i?Vr(i):null,r=i?uh(i):null,o=t.x+t.width/2-e.width/2,a=t.y+t.height/2-e.height/2;switch(s){case Si:u={x:o,y:t.y-e.height};break;case ts:u={x:o,y:t.y+t.height};break;case ns:u={x:t.x+t.width,y:a};break;case Ei:u={x:t.x-e.width,y:a};break;default:u={x:t.x,y:t.y}}var h=s?Uk(s):null;if(null!=h){var f="y"===h?"height":"width";switch(r){case Zl:u[h]=u[h]-(t[f]/2-e[f]/2);break;case oh:u[h]=u[h]+(t[f]/2-e[f]/2)}}return u}function hh(n,t){void 0===t&&(t={});var i=t.placement,s=void 0===i?n.placement:i,r=t.strategy,o=void 0===r?n.strategy:r,a=t.boundary,u=void 0===a?fL:a,h=t.rootBoundary,f=void 0===h?Lk:h,g=t.elementContext,m=void 0===g?ah:g,v=t.altBoundary,E=void 0!==v&&v,D=t.padding,C=void 0===D?0:D,L=TL("number"!=typeof C?C:xL(C,rh)),z=n.rects.popper,U=n.elements[E?m===ah?pL:ah:m],ee=function(n,t,e,i){var s="clippingParents"===t?function(n){var t=kp(fy(n)),i=["absolute","fixed"].indexOf(Mo(n).position)>=0&&xs(n)?Ap(n):n;return Jl(i)?t.filter(function(s){return Jl(s)&&AL(s,i)&&"body"!==Lr(s)}):[]}(n):[].concat(t),r=[].concat(s,[e]),a=r.reduce(function(u,h){var f=RL(n,h,i);return u.top=Xl(f.top,u.top),u.right=dy(f.right,u.right),u.bottom=dy(f.bottom,u.bottom),u.left=Xl(f.left,u.left),u},RL(n,r[0],i));return a.width=a.right-a.left,a.height=a.bottom-a.top,a.x=a.left,a.y=a.top,a}(Jl(U)?U:U.contextElement||xa(n.elements.popper),u,f,o),oe=ch(n.elements.reference),be=LL({reference:oe,element:z,strategy:"absolute",placement:s}),ot=Yk(Object.assign({},z,be)),Ze=m===ah?ot:oe,Qe={top:ee.top-Ze.top+L.top,bottom:Ze.bottom-ee.bottom+L.bottom,left:ee.left-Ze.left+L.left,right:Ze.right-ee.right+L.right},xt=n.modifiersData.offset;if(m===ah&&xt){var tn=xt[s];Object.keys(Qe).forEach(function(wt){var Bi=[ns,ts].indexOf(wt)>=0?1:-1,$i=[Si,ts].indexOf(wt)>=0?"y":"x";Qe[wt]+=tn[$i]*Bi})}return Qe}const VL={name:"flip",enabled:!0,phase:"main",fn:function(n){var t=n.state,e=n.options,i=n.name;if(!t.modifiersData[i]._skip){for(var s=e.mainAxis,r=void 0===s||s,o=e.altAxis,a=void 0===o||o,u=e.fallbackPlacements,h=e.padding,f=e.boundary,g=e.rootBoundary,m=e.altBoundary,v=e.flipVariations,E=void 0===v||v,D=e.allowedAutoPlacements,C=t.options.placement,L=Vr(C),z=u||(L!==C&&E?function(n){if(Vr(n)===hy)return[];var t=gy(n);return[OL(n),t,OL(t)]}(C):[gy(C)]),U=[C].concat(z).reduce(function(_t,Hr){return _t.concat(Vr(Hr)===hy?function(n,t){void 0===t&&(t={});var s=t.boundary,r=t.rootBoundary,o=t.padding,a=t.flipVariations,u=t.allowedAutoPlacements,h=void 0===u?Fk:u,f=uh(t.placement),g=f?a?Vk:Vk.filter(function(E){return uh(E)===f}):rh,m=g.filter(function(E){return h.indexOf(E)>=0});0===m.length&&(m=g);var v=m.reduce(function(E,D){return E[D]=hh(n,{placement:D,boundary:s,rootBoundary:r,padding:o})[Vr(D)],E},{});return Object.keys(v).sort(function(E,D){return v[E]-v[D]})}(t,{placement:Hr,boundary:f,rootBoundary:g,padding:h,flipVariations:E,allowedAutoPlacements:D}):Hr)},[]),ee=t.rects.reference,oe=t.rects.popper,be=new Map,ot=!0,Ze=U[0],Qe=0;Qe<U.length;Qe++){var xt=U[Qe],tn=Vr(xt),wt=uh(xt)===Zl,Bi=[Si,ts].indexOf(tn)>=0,$i=Bi?"width":"height",Y=hh(t,{placement:xt,boundary:f,rootBoundary:g,altBoundary:m,padding:h}),ie=Bi?wt?ns:Ei:wt?ts:Si;ee[$i]>oe[$i]&&(ie=gy(ie));var Se=gy(ie),Be=[];if(r&&Be.push(Y[tn]<=0),a&&Be.push(Y[ie]<=0,Y[Se]<=0),Be.every(function(_t){return _t})){Ze=xt,ot=!1;break}be.set(xt,Be)}if(ot)for(var Hi=function(Hr){var Xn=U.find(function(qr){var Bs=be.get(qr);if(Bs)return Bs.slice(0,Hr).every(function(gr){return gr})});if(Xn)return Ze=Xn,"break"},mn=E?3:1;mn>0&&"break"!==Hi(mn);mn--);t.placement!==Ze&&(t.modifiersData[i]._skip=!0,t.placement=Ze,t.reset=!0)}},requiresIfExists:["offset"],data:{_skip:!1}};function FL(n,t,e){return void 0===e&&(e={x:0,y:0}),{top:n.top-t.height-e.y,right:n.right-t.width+e.x,bottom:n.bottom-t.height+e.y,left:n.left-t.width-e.x}}function BL(n){return[Si,ns,ts,Ei].some(function(t){return n[t]>=0})}const $L={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:function(n){var t=n.state,e=n.name,i=t.rects.reference,s=t.rects.popper,r=t.modifiersData.preventOverflow,o=hh(t,{elementContext:"reference"}),a=hh(t,{altBoundary:!0}),u=FL(o,i),h=FL(a,s,r),f=BL(u),g=BL(h);t.modifiersData[e]={referenceClippingOffsets:u,popperEscapeOffsets:h,isReferenceHidden:f,hasPopperEscaped:g},t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-reference-hidden":f,"data-popper-escaped":g})}},HL={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:function(n){var t=n.state,i=n.name,s=n.options.offset,r=void 0===s?[0,0]:s,o=Fk.reduce(function(f,g){return f[g]=function(n,t,e){var i=Vr(n),s=[Ei,Si].indexOf(i)>=0?-1:1,r="function"==typeof e?e(Object.assign({},t,{placement:n})):e,o=r[0],a=r[1];return o=o||0,a=(a||0)*s,[Ei,ns].indexOf(i)>=0?{x:a,y:o}:{x:o,y:a}}(g,t.rects,r),f},{}),a=o[t.placement],h=a.y;null!=t.modifiersData.popperOffsets&&(t.modifiersData.popperOffsets.x+=a.x,t.modifiersData.popperOffsets.y+=h),t.modifiersData[i]=o}},Qk={name:"popperOffsets",enabled:!0,phase:"read",fn:function(n){var t=n.state;t.modifiersData[n.name]=LL({reference:t.rects.reference,element:t.rects.popper,strategy:"absolute",placement:t.placement})},data:{}},qL={name:"preventOverflow",enabled:!0,phase:"main",fn:function(n){var t=n.state,e=n.options,i=n.name,s=e.mainAxis,r=void 0===s||s,o=e.altAxis,a=void 0!==o&&o,m=e.tether,v=void 0===m||m,E=e.tetherOffset,D=void 0===E?0:E,C=hh(t,{boundary:e.boundary,rootBoundary:e.rootBoundary,padding:e.padding,altBoundary:e.altBoundary}),L=Vr(t.placement),N=uh(t.placement),z=!N,U=Uk(L),ee=function(n){return"x"===n?"y":"x"}(U),oe=t.modifiersData.popperOffsets,be=t.rects.reference,ot=t.rects.popper,Ze="function"==typeof D?D(Object.assign({},t.rects,{placement:t.placement})):D,Qe="number"==typeof Ze?{mainAxis:Ze,altAxis:Ze}:Object.assign({mainAxis:0,altAxis:0},Ze),xt=t.modifiersData.offset?t.modifiersData.offset[t.placement]:null,tn={x:0,y:0};if(oe){if(r){var wt,Bi="y"===U?Si:Ei,$i="y"===U?ts:ns,Y="y"===U?"height":"width",ie=oe[U],Se=ie+C[Bi],Be=ie-C[$i],Ut=v?-ot[Y]/2:0,Hi=N===Zl?be[Y]:ot[Y],mn=N===Zl?-ot[Y]:-be[Y],os=t.elements.arrow,_t=v&&os?qk(os):{width:0,height:0},Hr=t.modifiersData["arrow#persistent"]?t.modifiersData["arrow#persistent"].padding:{top:0,right:0,bottom:0,left:0},Xn=Hr[Bi],qr=Hr[$i],Bs=Pp(0,be[Y],_t[Y]),gr=z?be[Y]/2-Ut-Bs-Xn-Qe.mainAxis:Hi-Bs-Xn-Qe.mainAxis,zp=z?-be[Y]/2+Ut+Bs+qr+Qe.mainAxis:mn+Bs+qr+Qe.mainAxis,w1=t.elements.arrow&&Ap(t.elements.arrow),tB=null!=(wt=null==xt?void 0:xt[U])?wt:0,zZ=ie+zp-tB,nB=Pp(v?dy(Se,ie+gr-tB-(w1?"y"===U?w1.clientTop||0:w1.clientLeft||0:0)):Se,ie,v?Xl(Be,zZ):Be);oe[U]=nB,tn[U]=nB-ie}if(a){var iB,hc=oe[ee],ob="y"===ee?"height":"width",sB=hc+C["x"===U?Si:Ei],rB=hc-C["x"===U?ts:ns],C1=-1!==[Si,Ei].indexOf(L),oB=null!=(iB=null==xt?void 0:xt[ee])?iB:0,aB=C1?sB:hc-be[ob]-ot[ob]-oB+Qe.altAxis,lB=C1?hc+be[ob]+ot[ob]-oB-Qe.altAxis:rB,cB=v&&C1?function(n,t,e){var i=Pp(n,t,e);return i>e?e:i}(aB,hc,lB):Pp(v?aB:sB,hc,v?lB:rB);oe[ee]=cB,tn[ee]=cB-hc}t.modifiersData[i]=tn}},requiresIfExists:["offset"]};function n5(n,t,e){void 0===e&&(e=!1);var i=xs(t),s=xs(t)&&function(n){var t=n.getBoundingClientRect(),e=lh(t.width)/n.offsetWidth||1,i=lh(t.height)/n.offsetHeight||1;return 1!==e||1!==i}(t),r=xa(t),o=ch(n,s,e),a={scrollLeft:0,scrollTop:0},u={x:0,y:0};return(i||!i&&!e)&&(("body"!==Lr(t)||Kk(r))&&(a=function(n){return n!==is(n)&&xs(n)?function(n){return{scrollLeft:n.scrollLeft,scrollTop:n.scrollTop}}(n):Wk(n)}(t)),xs(t)?((u=ch(t,!0)).x+=t.clientLeft,u.y+=t.clientTop):r&&(u.x=zk(r))),{x:o.left+a.scrollLeft-u.x,y:o.top+a.scrollTop-u.y,width:o.width,height:o.height}}function i5(n){var t=new Map,e=new Set,i=[];function s(r){e.add(r.name),[].concat(r.requires||[],r.requiresIfExists||[]).forEach(function(a){if(!e.has(a)){var u=t.get(a);u&&s(u)}}),i.push(r)}return n.forEach(function(r){t.set(r.name,r)}),n.forEach(function(r){e.has(r.name)||s(r)}),i}function r5(n){var t;return function(){return t||(t=new Promise(function(e){Promise.resolve().then(function(){t=void 0,e(n())})})),t}}var UL={placement:"bottom",modifiers:[],strategy:"absolute"};function GL(){for(var n=arguments.length,t=new Array(n),e=0;e<n;e++)t[e]=arguments[e];return!t.some(function(i){return!(i&&"function"==typeof i.getBoundingClientRect)})}function my(n){void 0===n&&(n={});var e=n.defaultModifiers,i=void 0===e?[]:e,s=n.defaultOptions,r=void 0===s?UL:s;return function(a,u,h){void 0===h&&(h=r);var f={placement:"bottom",orderedModifiers:[],options:Object.assign({},UL,r),modifiersData:{},elements:{reference:a,popper:u},attributes:{},styles:{}},g=[],m=!1,v={state:f,setOptions:function(L){var N="function"==typeof L?L(f.options):L;D(),f.options=Object.assign({},r,f.options,N),f.scrollParents={reference:Jl(a)?kp(a):a.contextElement?kp(a.contextElement):[],popper:kp(u)};var z=function(n){var t=i5(n);return CL.reduce(function(e,i){return e.concat(t.filter(function(s){return s.phase===i}))},[])}(function(n){var t=n.reduce(function(e,i){var s=e[i.name];return e[i.name]=s?Object.assign({},s,i,{options:Object.assign({},s.options,i.options),data:Object.assign({},s.data,i.data)}):i,e},{});return Object.keys(t).map(function(e){return t[e]})}([].concat(i,f.options.modifiers)));return f.orderedModifiers=z.filter(function(U){return U.enabled}),f.orderedModifiers.forEach(function(C){var N=C.options,U=C.effect;if("function"==typeof U){var ee=U({state:f,name:C.name,instance:v,options:void 0===N?{}:N});g.push(ee||function(){})}}),v.update()},forceUpdate:function(){if(!m){var L=f.elements,N=L.reference,z=L.popper;if(GL(N,z)){f.rects={reference:n5(N,Ap(z),"fixed"===f.options.strategy),popper:qk(z)},f.reset=!1,f.placement=f.options.placement,f.orderedModifiers.forEach(function(Qe){return f.modifiersData[Qe.name]=Object.assign({},Qe.data)});for(var U=0;U<f.orderedModifiers.length;U++)if(!0!==f.reset){var ee=f.orderedModifiers[U],oe=ee.fn,be=ee.options;"function"==typeof oe&&(f=oe({state:f,options:void 0===be?{}:be,name:ee.name,instance:v})||f)}else f.reset=!1,U=-1}}},update:r5(function(){return new Promise(function(C){v.forceUpdate(),C(f)})}),destroy:function(){D(),m=!0}};if(!GL(a,u))return v;function D(){g.forEach(function(C){return C()}),g=[]}return v.setOptions(h).then(function(C){!m&&h.onFirstUpdate&&h.onFirstUpdate(C)}),v}}var a5=my(),Zk=my({defaultModifiers:[jk,Qk,Gk,$k,HL,VL,qL,ML,$L]}),u5=my({defaultModifiers:[jk,Qk,Gk,$k]});const Ma=new Map,Jk={set(n,t,e){Ma.has(n)||Ma.set(n,new Map);const i=Ma.get(n);i.has(t)||0===i.size?i.set(t,e):console.error(`Bootstrap doesn't allow more than one instance per element. Bound instance: ${Array.from(i.keys())[0]}.`)},get:(n,t)=>Ma.has(n)&&Ma.get(n).get(t)||null,remove(n,t){if(!Ma.has(n))return;const e=Ma.get(n);e.delete(t),0===e.size&&Ma.delete(n)}},Xk="transitionend",jL=n=>(n&&window.CSS&&window.CSS.escape&&(n=n.replace(/#([^\s"#']+)/g,(t,e)=>`#${CSS.escape(e)}`)),n),f5=n=>null==n?`${n}`:Object.prototype.toString.call(n).match(/\s([a-z]+)/i)[1].toLowerCase(),WL=n=>{n.dispatchEvent(new Event(Xk))},Io=n=>!(!n||"object"!=typeof n)&&(void 0!==n.jquery&&(n=n[0]),void 0!==n.nodeType),Ia=n=>Io(n)?n.jquery?n[0]:n:"string"==typeof n&&n.length>0?document.querySelector(jL(n)):null,dh=n=>{if(!Io(n)||0===n.getClientRects().length)return!1;const t="visible"===getComputedStyle(n).getPropertyValue("visibility"),e=n.closest("details:not([open])");if(!e)return t;if(e!==n){const i=n.closest("summary");if(i&&i.parentNode!==e||null===i)return!1}return t},Oa=n=>!(n&&n.nodeType===Node.ELEMENT_NODE&&!n.classList.contains("disabled"))||(void 0!==n.disabled?n.disabled:n.hasAttribute("disabled")&&"false"!==n.getAttribute("disabled")),zL=n=>{if(!document.documentElement.attachShadow)return null;if("function"==typeof n.getRootNode){const t=n.getRootNode();return t instanceof ShadowRoot?t:null}return n instanceof ShadowRoot?n:n.parentNode?zL(n.parentNode):null},_y=()=>{},KL=()=>window.jQuery&&!document.body.hasAttribute("data-bs-no-jquery")?window.jQuery:null,eT=[],Ms=()=>"rtl"===document.documentElement.dir,Is=n=>{(n=>{"loading"===document.readyState?(eT.length||document.addEventListener("DOMContentLoaded",()=>{for(const t of eT)t()}),eT.push(n)):n()})(()=>{const t=KL();if(t){const e=n.NAME,i=t.fn[e];t.fn[e]=n.jQueryInterface,t.fn[e].Constructor=n,t.fn[e].noConflict=()=>(t.fn[e]=i,n.jQueryInterface)}})},Vi=(n,t=[],e=n)=>"function"==typeof n?n(...t):e,YL=(n,t,e=!0)=>{if(!e)return void Vi(n);const s=(n=>{if(!n)return 0;let{transitionDuration:t,transitionDelay:e}=window.getComputedStyle(n);const i=Number.parseFloat(t),s=Number.parseFloat(e);return i||s?(t=t.split(",")[0],e=e.split(",")[0],1e3*(Number.parseFloat(t)+Number.parseFloat(e))):0})(t)+5;let r=!1;const o=({target:a})=>{a===t&&(r=!0,t.removeEventListener(Xk,o),Vi(n))};t.addEventListener(Xk,o),setTimeout(()=>{r||WL(t)},s)},tT=(n,t,e,i)=>{const s=n.length;let r=n.indexOf(t);return-1===r?!e&&i?n[s-1]:n[0]:(r+=e?1:-1,i&&(r=(r+s)%s),n[Math.max(0,Math.min(r,s-1))])},_5=/[^.]*(?=\..*)\.|.*/,v5=/\..*/,y5=/::\d+$/,nT={};let QL=1;const ZL={mouseenter:"mouseover",mouseleave:"mouseout"},b5=new Set(["click","dblclick","mouseup","mousedown","contextmenu","mousewheel","DOMMouseScroll","mouseover","mouseout","mousemove","selectstart","selectend","keydown","keypress","keyup","orientationchange","touchstart","touchmove","touchend","touchcancel","pointerdown","pointermove","pointerup","pointerleave","pointercancel","gesturestart","gesturechange","gestureend","focus","blur","change","reset","select","submit","focusin","focusout","load","unload","beforeunload","resize","move","DOMContentLoaded","readystatechange","error","abort","scroll"]);function JL(n,t){return t&&`${t}::${QL++}`||n.uidEvent||QL++}function XL(n){const t=JL(n);return n.uidEvent=t,nT[t]=nT[t]||{},nT[t]}function eV(n,t,e=null){return Object.values(n).find(i=>i.callable===t&&i.delegationSelector===e)}function tV(n,t,e){const i="string"==typeof t,s=i?e:t||e;let r=iV(n);return b5.has(r)||(r=n),[i,s,r]}function nV(n,t,e,i,s){if("string"!=typeof t||!n)return;let[r,o,a]=tV(t,e,i);var E;t in ZL&&(E=o,o=function(D){if(!D.relatedTarget||D.relatedTarget!==D.delegateTarget&&!D.delegateTarget.contains(D.relatedTarget))return E.call(this,D)});const u=XL(n),h=u[a]||(u[a]={}),f=eV(h,o,r?e:null);if(f)return void(f.oneOff=f.oneOff&&s);const g=JL(o,t.replace(_5,"")),m=r?function(n,t,e){return function i(s){const r=n.querySelectorAll(t);for(let{target:o}=s;o&&o!==this;o=o.parentNode)for(const a of r)if(a===o)return sT(s,{delegateTarget:o}),i.oneOff&&K.off(n,s.type,t,e),e.apply(o,[s])}}(n,e,o):function(n,t){return function e(i){return sT(i,{delegateTarget:n}),e.oneOff&&K.off(n,i.type,t),t.apply(n,[i])}}(n,o);m.delegationSelector=r?e:null,m.callable=o,m.oneOff=s,m.uidEvent=g,h[g]=m,n.addEventListener(a,m,r)}function iT(n,t,e,i,s){const r=eV(t[e],i,s);!r||(n.removeEventListener(e,r,Boolean(s)),delete t[e][r.uidEvent])}function w5(n,t,e,i){const s=t[e]||{};for(const[r,o]of Object.entries(s))r.includes(i)&&iT(n,t,e,o.callable,o.delegationSelector)}function iV(n){return n=n.replace(v5,""),ZL[n]||n}const K={on(n,t,e,i){nV(n,t,e,i,!1)},one(n,t,e,i){nV(n,t,e,i,!0)},off(n,t,e,i){if("string"!=typeof t||!n)return;const[s,r,o]=tV(t,e,i),a=o!==t,u=XL(n),h=u[o]||{},f=t.startsWith(".");if(void 0===r){if(f)for(const g of Object.keys(u))w5(n,u,g,t.slice(1));for(const[g,m]of Object.entries(h)){const v=g.replace(y5,"");(!a||t.includes(v))&&iT(n,u,o,m.callable,m.delegationSelector)}}else{if(!Object.keys(h).length)return;iT(n,u,o,r,s?e:null)}},trigger(n,t,e){if("string"!=typeof t||!n)return null;const i=KL();let o=null,a=!0,u=!0,h=!1;t!==iV(t)&&i&&(o=i.Event(t,e),i(n).trigger(o),a=!o.isPropagationStopped(),u=!o.isImmediatePropagationStopped(),h=o.isDefaultPrevented());const f=sT(new Event(t,{bubbles:a,cancelable:!0}),e);return h&&f.preventDefault(),u&&n.dispatchEvent(f),f.defaultPrevented&&o&&o.preventDefault(),f}};function sT(n,t={}){for(const[e,i]of Object.entries(t))try{n[e]=i}catch(s){Object.defineProperty(n,e,{configurable:!0,get:()=>i})}return n}function sV(n){if("true"===n)return!0;if("false"===n)return!1;if(n===Number(n).toString())return Number(n);if(""===n||"null"===n)return null;if("string"!=typeof n)return n;try{return JSON.parse(decodeURIComponent(n))}catch(t){return n}}function rT(n){return n.replace(/[A-Z]/g,t=>`-${t.toLowerCase()}`)}const Oo={setDataAttribute(n,t,e){n.setAttribute(`data-bs-${rT(t)}`,e)},removeDataAttribute(n,t){n.removeAttribute(`data-bs-${rT(t)}`)},getDataAttributes(n){if(!n)return{};const t={},e=Object.keys(n.dataset).filter(i=>i.startsWith("bs")&&!i.startsWith("bsConfig"));for(const i of e){let s=i.replace(/^bs/,"");s=s.charAt(0).toLowerCase()+s.slice(1,s.length),t[s]=sV(n.dataset[i])}return t},getDataAttribute:(n,t)=>sV(n.getAttribute(`data-bs-${rT(t)}`))};class xp{static get Default(){return{}}static get DefaultType(){return{}}static get NAME(){throw new Error('You have to implement the static method "NAME", for each component!')}_getConfig(t){return t=this._mergeConfigObj(t),t=this._configAfterMerge(t),this._typeCheckConfig(t),t}_configAfterMerge(t){return t}_mergeConfigObj(t,e){const i=Io(e)?Oo.getDataAttribute(e,"config"):{};return ei(ei(ei(ei({},this.constructor.Default),"object"==typeof i?i:{}),Io(e)?Oo.getDataAttributes(e):{}),"object"==typeof t?t:{})}_typeCheckConfig(t,e=this.constructor.DefaultType){for(const[i,s]of Object.entries(e)){const r=t[i],o=Io(r)?"element":f5(r);if(!new RegExp(s).test(o))throw new TypeError(`${this.constructor.NAME.toUpperCase()}: Option "${i}" provided type "${o}" but expected type "${s}".`)}}}class fr extends xp{constructor(t,e){super(),(t=Ia(t))&&(this._element=t,this._config=this._getConfig(e),Jk.set(this._element,this.constructor.DATA_KEY,this))}dispose(){Jk.remove(this._element,this.constructor.DATA_KEY),K.off(this._element,this.constructor.EVENT_KEY);for(const t of Object.getOwnPropertyNames(this))this[t]=null}_queueCallback(t,e,i=!0){YL(t,e,i)}_getConfig(t){return t=this._mergeConfigObj(t,this._element),t=this._configAfterMerge(t),this._typeCheckConfig(t),t}static getInstance(t){return Jk.get(Ia(t),this.DATA_KEY)}static getOrCreateInstance(t,e={}){return this.getInstance(t)||new this(t,"object"==typeof e?e:null)}static get VERSION(){return"5.3.1"}static get DATA_KEY(){return`bs.${this.NAME}`}static get EVENT_KEY(){return`.${this.DATA_KEY}`}static eventName(t){return`${t}${this.EVENT_KEY}`}}const oT=n=>{let t=n.getAttribute("data-bs-target");if(!t||"#"===t){let e=n.getAttribute("href");if(!e||!e.includes("#")&&!e.startsWith("."))return null;e.includes("#")&&!e.startsWith("#")&&(e=`#${e.split("#")[1]}`),t=e&&"#"!==e?e.trim():null}return jL(t)},fe={find:(n,t=document.documentElement)=>[].concat(...Element.prototype.querySelectorAll.call(t,n)),findOne:(n,t=document.documentElement)=>Element.prototype.querySelector.call(t,n),children:(n,t)=>[].concat(...n.children).filter(e=>e.matches(t)),parents(n,t){const e=[];let i=n.parentNode.closest(t);for(;i;)e.push(i),i=i.parentNode.closest(t);return e},prev(n,t){let e=n.previousElementSibling;for(;e;){if(e.matches(t))return[e];e=e.previousElementSibling}return[]},next(n,t){let e=n.nextElementSibling;for(;e;){if(e.matches(t))return[e];e=e.nextElementSibling}return[]},focusableChildren(n){const t=["a","button","input","textarea","select","details","[tabindex]",'[contenteditable="true"]'].map(e=>`${e}:not([tabindex^="-"])`).join(",");return this.find(t,n).filter(e=>!Oa(e)&&dh(e))},getSelectorFromElement(n){const t=oT(n);return t&&fe.findOne(t)?t:null},getElementFromSelector(n){const t=oT(n);return t?fe.findOne(t):null},getMultipleElementsFromSelector(n){const t=oT(n);return t?fe.find(t):[]}},vy=(n,t="hide")=>{const i=n.NAME;K.on(document,`click.dismiss${n.EVENT_KEY}`,`[data-bs-dismiss="${i}"]`,function(s){if(["A","AREA"].includes(this.tagName)&&s.preventDefault(),Oa(this))return;const r=fe.getElementFromSelector(this)||this.closest(`.${i}`);n.getOrCreateInstance(r)[t]()})},rV=".bs.alert",A5=`close${rV}`,P5=`closed${rV}`;class yy extends fr{static get NAME(){return"alert"}close(){if(K.trigger(this._element,A5).defaultPrevented)return;this._element.classList.remove("show");const e=this._element.classList.contains("fade");this._queueCallback(()=>this._destroyElement(),this._element,e)}_destroyElement(){this._element.remove(),K.trigger(this._element,P5),this.dispose()}static jQueryInterface(t){return this.each(function(){const e=yy.getOrCreateInstance(this);if("string"==typeof t){if(void 0===e[t]||t.startsWith("_")||"constructor"===t)throw new TypeError(`No method named "${t}"`);e[t](this)}})}}vy(yy,"close"),Is(yy);const oV='[data-bs-toggle="button"]';class by extends fr{static get NAME(){return"button"}toggle(){this._element.setAttribute("aria-pressed",this._element.classList.toggle("active"))}static jQueryInterface(t){return this.each(function(){const e=by.getOrCreateInstance(this);"toggle"===t&&e[t]()})}}K.on(document,"click.bs.button.data-api",oV,n=>{n.preventDefault();const t=n.target.closest(oV);by.getOrCreateInstance(t).toggle()}),Is(by);const fh=".bs.swipe",L5=`touchstart${fh}`,V5=`touchmove${fh}`,F5=`touchend${fh}`,B5=`pointerdown${fh}`,$5=`pointerup${fh}`,j5={endCallback:null,leftCallback:null,rightCallback:null},W5={endCallback:"(function|null)",leftCallback:"(function|null)",rightCallback:"(function|null)"};class Sy extends xp{constructor(t,e){super(),this._element=t,t&&Sy.isSupported()&&(this._config=this._getConfig(e),this._deltaX=0,this._supportPointerEvents=Boolean(window.PointerEvent),this._initEvents())}static get Default(){return j5}static get DefaultType(){return W5}static get NAME(){return"swipe"}dispose(){K.off(this._element,fh)}_start(t){this._supportPointerEvents?this._eventIsPointerPenTouch(t)&&(this._deltaX=t.clientX):this._deltaX=t.touches[0].clientX}_end(t){this._eventIsPointerPenTouch(t)&&(this._deltaX=t.clientX-this._deltaX),this._handleSwipe(),Vi(this._config.endCallback)}_move(t){this._deltaX=t.touches&&t.touches.length>1?0:t.touches[0].clientX-this._deltaX}_handleSwipe(){const t=Math.abs(this._deltaX);if(t<=40)return;const e=t/this._deltaX;this._deltaX=0,e&&Vi(e>0?this._config.rightCallback:this._config.leftCallback)}_initEvents(){this._supportPointerEvents?(K.on(this._element,B5,t=>this._start(t)),K.on(this._element,$5,t=>this._end(t)),this._element.classList.add("pointer-event")):(K.on(this._element,L5,t=>this._start(t)),K.on(this._element,V5,t=>this._move(t)),K.on(this._element,F5,t=>this._end(t)))}_eventIsPointerPenTouch(t){return this._supportPointerEvents&&("pen"===t.pointerType||"touch"===t.pointerType)}static isSupported(){return"ontouchstart"in document.documentElement||navigator.maxTouchPoints>0}}const Na=".bs.carousel",aV=".data-api",Mp="next",ph="prev",gh="left",Ey="right",Z5=`slide${Na}`,aT=`slid${Na}`,J5=`keydown${Na}`,X5=`mouseenter${Na}`,eW=`mouseleave${Na}`,tW=`dragstart${Na}`,nW=`load${Na}${aV}`,iW=`click${Na}${aV}`,lV="carousel",wy="active",pW={ArrowLeft:Ey,ArrowRight:gh},gW={interval:5e3,keyboard:!0,pause:"hover",ride:!1,touch:!0,wrap:!0},mW={interval:"(number|boolean)",keyboard:"boolean",pause:"(string|boolean)",ride:"(boolean|string)",touch:"boolean",wrap:"boolean"};class Ip extends fr{constructor(t,e){super(t,e),this._interval=null,this._activeElement=null,this._isSliding=!1,this.touchTimeout=null,this._swipeHelper=null,this._indicatorsElement=fe.findOne(".carousel-indicators",this._element),this._addEventListeners(),this._config.ride===lV&&this.cycle()}static get Default(){return gW}static get DefaultType(){return mW}static get NAME(){return"carousel"}next(){this._slide(Mp)}nextWhenVisible(){!document.hidden&&dh(this._element)&&this.next()}prev(){this._slide(ph)}pause(){this._isSliding&&WL(this._element),this._clearInterval()}cycle(){this._clearInterval(),this._updateInterval(),this._interval=setInterval(()=>this.nextWhenVisible(),this._config.interval)}_maybeEnableCycle(){if(this._config.ride){if(this._isSliding)return void K.one(this._element,aT,()=>this.cycle());this.cycle()}}to(t){const e=this._getItems();if(t>e.length-1||t<0)return;if(this._isSliding)return void K.one(this._element,aT,()=>this.to(t));const i=this._getItemIndex(this._getActive());i!==t&&this._slide(t>i?Mp:ph,e[t])}dispose(){this._swipeHelper&&this._swipeHelper.dispose(),super.dispose()}_configAfterMerge(t){return t.defaultInterval=t.interval,t}_addEventListeners(){this._config.keyboard&&K.on(this._element,J5,t=>this._keydown(t)),"hover"===this._config.pause&&(K.on(this._element,X5,()=>this.pause()),K.on(this._element,eW,()=>this._maybeEnableCycle())),this._config.touch&&Sy.isSupported()&&this._addTouchEventListeners()}_addTouchEventListeners(){for(const i of fe.find(".carousel-item img",this._element))K.on(i,tW,s=>s.preventDefault());this._swipeHelper=new Sy(this._element,{leftCallback:()=>this._slide(this._directionToOrder(gh)),rightCallback:()=>this._slide(this._directionToOrder(Ey)),endCallback:()=>{"hover"===this._config.pause&&(this.pause(),this.touchTimeout&&clearTimeout(this.touchTimeout),this.touchTimeout=setTimeout(()=>this._maybeEnableCycle(),500+this._config.interval))}})}_keydown(t){if(/input|textarea/i.test(t.target.tagName))return;const e=pW[t.key];e&&(t.preventDefault(),this._slide(this._directionToOrder(e)))}_getItemIndex(t){return this._getItems().indexOf(t)}_setActiveIndicatorElement(t){if(!this._indicatorsElement)return;const e=fe.findOne(".active",this._indicatorsElement);e.classList.remove(wy),e.removeAttribute("aria-current");const i=fe.findOne(`[data-bs-slide-to="${t}"]`,this._indicatorsElement);i&&(i.classList.add(wy),i.setAttribute("aria-current","true"))}_updateInterval(){const t=this._activeElement||this._getActive();if(!t)return;const e=Number.parseInt(t.getAttribute("data-bs-interval"),10);this._config.interval=e||this._config.defaultInterval}_slide(t,e=null){if(this._isSliding)return;const i=this._getActive(),s=t===Mp,r=e||tT(this._getItems(),i,s,this._config.wrap);if(r===i)return;const o=this._getItemIndex(r),a=v=>K.trigger(this._element,v,{relatedTarget:r,direction:this._orderToDirection(t),from:this._getItemIndex(i),to:o});if(a(Z5).defaultPrevented||!i||!r)return;const h=Boolean(this._interval);this.pause(),this._isSliding=!0,this._setActiveIndicatorElement(o),this._activeElement=r;const f=s?"carousel-item-start":"carousel-item-end",g=s?"carousel-item-next":"carousel-item-prev";r.classList.add(g),i.classList.add(f),r.classList.add(f),this._queueCallback(()=>{r.classList.remove(f,g),r.classList.add(wy),i.classList.remove(wy,g,f),this._isSliding=!1,a(aT)},i,this._isAnimated()),h&&this.cycle()}_isAnimated(){return this._element.classList.contains("slide")}_getActive(){return fe.findOne(".active.carousel-item",this._element)}_getItems(){return fe.find(".carousel-item",this._element)}_clearInterval(){this._interval&&(clearInterval(this._interval),this._interval=null)}_directionToOrder(t){return Ms()?t===gh?ph:Mp:t===gh?Mp:ph}_orderToDirection(t){return Ms()?t===ph?gh:Ey:t===ph?Ey:gh}static jQueryInterface(t){return this.each(function(){const e=Ip.getOrCreateInstance(this,t);if("number"!=typeof t){if("string"==typeof t){if(void 0===e[t]||t.startsWith("_")||"constructor"===t)throw new TypeError(`No method named "${t}"`);e[t]()}}else e.to(t)})}}K.on(document,iW,"[data-bs-slide], [data-bs-slide-to]",function(n){const t=fe.getElementFromSelector(this);if(!t||!t.classList.contains(lV))return;n.preventDefault();const e=Ip.getOrCreateInstance(t),i=this.getAttribute("data-bs-slide-to");return i?(e.to(i),void e._maybeEnableCycle()):"next"===Oo.getDataAttribute(this,"slide")?(e.next(),void e._maybeEnableCycle()):(e.prev(),void e._maybeEnableCycle())}),K.on(window,nW,()=>{const n=fe.find('[data-bs-ride="carousel"]');for(const t of n)Ip.getOrCreateInstance(t)}),Is(Ip);const Op=".bs.collapse",yW=`show${Op}`,bW=`shown${Op}`,SW=`hide${Op}`,EW=`hidden${Op}`,wW=`click${Op}.data-api`,lT="show",mh="collapse",Cy="collapsing",DW=`:scope .${mh} .${mh}`,cT='[data-bs-toggle="collapse"]',xW={parent:null,toggle:!0},MW={parent:"(null|element)",toggle:"boolean"};class Np extends fr{constructor(t,e){super(t,e),this._isTransitioning=!1,this._triggerArray=[];const i=fe.find(cT);for(const s of i){const r=fe.getSelectorFromElement(s),o=fe.find(r).filter(a=>a===this._element);null!==r&&o.length&&this._triggerArray.push(s)}this._initializeChildren(),this._config.parent||this._addAriaAndCollapsedClass(this._triggerArray,this._isShown()),this._config.toggle&&this.toggle()}static get Default(){return xW}static get DefaultType(){return MW}static get NAME(){return"collapse"}toggle(){this._isShown()?this.hide():this.show()}show(){if(this._isTransitioning||this._isShown())return;let t=[];if(this._config.parent&&(t=this._getFirstLevelChildren(".collapse.show, .collapse.collapsing").filter(a=>a!==this._element).map(a=>Np.getOrCreateInstance(a,{toggle:!1}))),t.length&&t[0]._isTransitioning||K.trigger(this._element,yW).defaultPrevented)return;for(const a of t)a.hide();const i=this._getDimension();this._element.classList.remove(mh),this._element.classList.add(Cy),this._element.style[i]=0,this._addAriaAndCollapsedClass(this._triggerArray,!0),this._isTransitioning=!0;const o=`scroll${i[0].toUpperCase()+i.slice(1)}`;this._queueCallback(()=>{this._isTransitioning=!1,this._element.classList.remove(Cy),this._element.classList.add(mh,lT),this._element.style[i]="",K.trigger(this._element,bW)},this._element,!0),this._element.style[i]=`${this._element[o]}px`}hide(){if(this._isTransitioning||!this._isShown()||K.trigger(this._element,SW).defaultPrevented)return;const e=this._getDimension();this._element.style[e]=`${this._element.getBoundingClientRect()[e]}px`,this._element.classList.add(Cy),this._element.classList.remove(mh,lT);for(const s of this._triggerArray){const r=fe.getElementFromSelector(s);r&&!this._isShown(r)&&this._addAriaAndCollapsedClass([s],!1)}this._isTransitioning=!0,this._element.style[e]="",this._queueCallback(()=>{this._isTransitioning=!1,this._element.classList.remove(Cy),this._element.classList.add(mh),K.trigger(this._element,EW)},this._element,!0)}_isShown(t=this._element){return t.classList.contains(lT)}_configAfterMerge(t){return t.toggle=Boolean(t.toggle),t.parent=Ia(t.parent),t}_getDimension(){return this._element.classList.contains("collapse-horizontal")?"width":"height"}_initializeChildren(){if(!this._config.parent)return;const t=this._getFirstLevelChildren(cT);for(const e of t){const i=fe.getElementFromSelector(e);i&&this._addAriaAndCollapsedClass([e],this._isShown(i))}}_getFirstLevelChildren(t){const e=fe.find(DW,this._config.parent);return fe.find(t,this._config.parent).filter(i=>!e.includes(i))}_addAriaAndCollapsedClass(t,e){if(t.length)for(const i of t)i.classList.toggle("collapsed",!e),i.setAttribute("aria-expanded",e)}static jQueryInterface(t){const e={};return"string"==typeof t&&/show|hide/.test(t)&&(e.toggle=!1),this.each(function(){const i=Np.getOrCreateInstance(this,e);if("string"==typeof t){if(void 0===i[t])throw new TypeError(`No method named "${t}"`);i[t]()}})}}K.on(document,wW,cT,function(n){("A"===n.target.tagName||n.delegateTarget&&"A"===n.delegateTarget.tagName)&&n.preventDefault();for(const t of fe.getMultipleElementsFromSelector(this))Np.getOrCreateInstance(t,{toggle:!1}).toggle()}),Is(Np);const hV="dropdown",ec=".bs.dropdown",uT=".data-api",OW="ArrowUp",fV="ArrowDown",RW=`hide${ec}`,LW=`hidden${ec}`,VW=`show${ec}`,FW=`shown${ec}`,pV=`click${ec}${uT}`,gV=`keydown${ec}${uT}`,BW=`keyup${ec}${uT}`,_h="show",tc='[data-bs-toggle="dropdown"]:not(.disabled):not(:disabled)',jW=`${tc}.show`,Dy=".dropdown-menu",YW=Ms()?"top-end":"top-start",QW=Ms()?"top-start":"top-end",ZW=Ms()?"bottom-end":"bottom-start",JW=Ms()?"bottom-start":"bottom-end",XW=Ms()?"left-start":"right-start",e7=Ms()?"right-start":"left-start",i7={autoClose:!0,boundary:"clippingParents",display:"dynamic",offset:[0,2],popperConfig:null,reference:"toggle"},s7={autoClose:"(boolean|string)",boundary:"(string|element)",display:"string",offset:"(array|string|function)",popperConfig:"(null|object|function)",reference:"(string|element|object)"};class Fr extends fr{constructor(t,e){super(t,e),this._popper=null,this._parent=this._element.parentNode,this._menu=fe.next(this._element,Dy)[0]||fe.prev(this._element,Dy)[0]||fe.findOne(Dy,this._parent),this._inNavbar=this._detectNavbar()}static get Default(){return i7}static get DefaultType(){return s7}static get NAME(){return hV}toggle(){return this._isShown()?this.hide():this.show()}show(){if(Oa(this._element)||this._isShown())return;const t={relatedTarget:this._element};if(!K.trigger(this._element,VW,t).defaultPrevented){if(this._createPopper(),"ontouchstart"in document.documentElement&&!this._parent.closest(".navbar-nav"))for(const i of[].concat(...document.body.children))K.on(i,"mouseover",_y);this._element.focus(),this._element.setAttribute("aria-expanded",!0),this._menu.classList.add(_h),this._element.classList.add(_h),K.trigger(this._element,FW,t)}}hide(){!Oa(this._element)&&this._isShown()&&this._completeHide({relatedTarget:this._element})}dispose(){this._popper&&this._popper.destroy(),super.dispose()}update(){this._inNavbar=this._detectNavbar(),this._popper&&this._popper.update()}_completeHide(t){if(!K.trigger(this._element,RW,t).defaultPrevented){if("ontouchstart"in document.documentElement)for(const i of[].concat(...document.body.children))K.off(i,"mouseover",_y);this._popper&&this._popper.destroy(),this._menu.classList.remove(_h),this._element.classList.remove(_h),this._element.setAttribute("aria-expanded","false"),Oo.removeDataAttribute(this._menu,"popper"),K.trigger(this._element,LW,t)}}_getConfig(t){if("object"==typeof(t=super._getConfig(t)).reference&&!Io(t.reference)&&"function"!=typeof t.reference.getBoundingClientRect)throw new TypeError(`${hV.toUpperCase()}: Option "reference" provided type "object" without a required "getBoundingClientRect" method.`);return t}_createPopper(){if(void 0===qi)throw new TypeError("Bootstrap's dropdowns require Popper (https://popper.js.org)");let t=this._element;"parent"===this._config.reference?t=this._parent:Io(this._config.reference)?t=Ia(this._config.reference):"object"==typeof this._config.reference&&(t=this._config.reference);const e=this._getPopperConfig();this._popper=Zk(t,this._menu,e)}_isShown(){return this._menu.classList.contains(_h)}_getPlacement(){const t=this._parent;if(t.classList.contains("dropend"))return XW;if(t.classList.contains("dropstart"))return e7;if(t.classList.contains("dropup-center"))return"top";if(t.classList.contains("dropdown-center"))return"bottom";const e="end"===getComputedStyle(this._menu).getPropertyValue("--bs-position").trim();return t.classList.contains("dropup")?e?QW:YW:e?JW:ZW}_detectNavbar(){return null!==this._element.closest(".navbar")}_getOffset(){const{offset:t}=this._config;return"string"==typeof t?t.split(",").map(e=>Number.parseInt(e,10)):"function"==typeof t?e=>t(e,this._element):t}_getPopperConfig(){const t={placement:this._getPlacement(),modifiers:[{name:"preventOverflow",options:{boundary:this._config.boundary}},{name:"offset",options:{offset:this._getOffset()}}]};return(this._inNavbar||"static"===this._config.display)&&(Oo.setDataAttribute(this._menu,"popper","static"),t.modifiers=[{name:"applyStyles",enabled:!1}]),ei(ei({},t),Vi(this._config.popperConfig,[t]))}_selectMenuItem({key:t,target:e}){const i=fe.find(".dropdown-menu .dropdown-item:not(.disabled):not(:disabled)",this._menu).filter(s=>dh(s));!i.length||tT(i,e,t===fV,!i.includes(e)).focus()}static jQueryInterface(t){return this.each(function(){const e=Fr.getOrCreateInstance(this,t);if("string"==typeof t){if(void 0===e[t])throw new TypeError(`No method named "${t}"`);e[t]()}})}static clearMenus(t){if(2===t.button||"keyup"===t.type&&"Tab"!==t.key)return;const e=fe.find(jW);for(const i of e){const s=Fr.getInstance(i);if(!s||!1===s._config.autoClose)continue;const r=t.composedPath(),o=r.includes(s._menu);if(r.includes(s._element)||"inside"===s._config.autoClose&&!o||"outside"===s._config.autoClose&&o||s._menu.contains(t.target)&&("keyup"===t.type&&"Tab"===t.key||/input|select|option|textarea|form/i.test(t.target.tagName)))continue;const a={relatedTarget:s._element};"click"===t.type&&(a.clickEvent=t),s._completeHide(a)}}static dataApiKeydownHandler(t){const e=/input|textarea/i.test(t.target.tagName),i="Escape"===t.key,s=[OW,fV].includes(t.key);if(!s&&!i||e&&!i)return;t.preventDefault();const r=this.matches(tc)?this:fe.prev(this,tc)[0]||fe.next(this,tc)[0]||fe.findOne(tc,t.delegateTarget.parentNode),o=Fr.getOrCreateInstance(r);if(s)return t.stopPropagation(),o.show(),void o._selectMenuItem(t);o._isShown()&&(t.stopPropagation(),o.hide(),r.focus())}}K.on(document,gV,tc,Fr.dataApiKeydownHandler),K.on(document,gV,Dy,Fr.dataApiKeydownHandler),K.on(document,pV,Fr.clearMenus),K.on(document,BW,Fr.clearMenus),K.on(document,pV,tc,function(n){n.preventDefault(),Fr.getOrCreateInstance(this).toggle()}),Is(Fr);const mV="backdrop",vV=`mousedown.bs.${mV}`,o7={className:"modal-backdrop",clickCallback:null,isAnimated:!1,isVisible:!0,rootElement:"body"},a7={className:"string",clickCallback:"(function|null)",isAnimated:"boolean",isVisible:"boolean",rootElement:"(element|string)"};class yV extends xp{constructor(t){super(),this._config=this._getConfig(t),this._isAppended=!1,this._element=null}static get Default(){return o7}static get DefaultType(){return a7}static get NAME(){return mV}show(t){if(!this._config.isVisible)return void Vi(t);this._append();this._getElement().classList.add("show"),this._emulateAnimation(()=>{Vi(t)})}hide(t){this._config.isVisible?(this._getElement().classList.remove("show"),this._emulateAnimation(()=>{this.dispose(),Vi(t)})):Vi(t)}dispose(){!this._isAppended||(K.off(this._element,vV),this._element.remove(),this._isAppended=!1)}_getElement(){if(!this._element){const t=document.createElement("div");t.className=this._config.className,this._config.isAnimated&&t.classList.add("fade"),this._element=t}return this._element}_configAfterMerge(t){return t.rootElement=Ia(t.rootElement),t}_append(){if(this._isAppended)return;const t=this._getElement();this._config.rootElement.append(t),K.on(t,vV,()=>{Vi(this._config.clickCallback)}),this._isAppended=!0}_emulateAnimation(t){YL(t,this._getElement(),this._config.isAnimated)}}const Ay=".bs.focustrap",c7=`focusin${Ay}`,u7=`keydown.tab${Ay}`,bV="backward",f7={autofocus:!0,trapElement:null},p7={autofocus:"boolean",trapElement:"element"};class SV extends xp{constructor(t){super(),this._config=this._getConfig(t),this._isActive=!1,this._lastTabNavDirection=null}static get Default(){return f7}static get DefaultType(){return p7}static get NAME(){return"focustrap"}activate(){this._isActive||(this._config.autofocus&&this._config.trapElement.focus(),K.off(document,Ay),K.on(document,c7,t=>this._handleFocusin(t)),K.on(document,u7,t=>this._handleKeydown(t)),this._isActive=!0)}deactivate(){!this._isActive||(this._isActive=!1,K.off(document,Ay))}_handleFocusin(t){const{trapElement:e}=this._config;if(t.target===document||t.target===e||e.contains(t.target))return;const i=fe.focusableChildren(e);0===i.length?e.focus():this._lastTabNavDirection===bV?i[i.length-1].focus():i[0].focus()}_handleKeydown(t){"Tab"===t.key&&(this._lastTabNavDirection=t.shiftKey?bV:"forward")}}const EV=".fixed-top, .fixed-bottom, .is-fixed, .sticky-top",wV=".sticky-top",Py="padding-right",CV="margin-right";class hT{constructor(){this._element=document.body}getWidth(){const t=document.documentElement.clientWidth;return Math.abs(window.innerWidth-t)}hide(){const t=this.getWidth();this._disableOverFlow(),this._setElementAttributes(this._element,Py,e=>e+t),this._setElementAttributes(EV,Py,e=>e+t),this._setElementAttributes(wV,CV,e=>e-t)}reset(){this._resetElementAttributes(this._element,"overflow"),this._resetElementAttributes(this._element,Py),this._resetElementAttributes(EV,Py),this._resetElementAttributes(wV,CV)}isOverflowing(){return this.getWidth()>0}_disableOverFlow(){this._saveInitialAttribute(this._element,"overflow"),this._element.style.overflow="hidden"}_setElementAttributes(t,e,i){const s=this.getWidth();this._applyManipulationCallback(t,o=>{if(o!==this._element&&window.innerWidth>o.clientWidth+s)return;this._saveInitialAttribute(o,e);const a=window.getComputedStyle(o).getPropertyValue(e);o.style.setProperty(e,`${i(Number.parseFloat(a))}px`)})}_saveInitialAttribute(t,e){const i=t.style.getPropertyValue(e);i&&Oo.setDataAttribute(t,e,i)}_resetElementAttributes(t,e){this._applyManipulationCallback(t,s=>{const r=Oo.getDataAttribute(s,e);null!==r?(Oo.removeDataAttribute(s,e),s.style.setProperty(e,r)):s.style.removeProperty(e)})}_applyManipulationCallback(t,e){if(Io(t))e(t);else for(const i of fe.find(t,this._element))e(i)}}const Os=".bs.modal",v7=`hide${Os}`,y7=`hidePrevented${Os}`,DV=`hidden${Os}`,AV=`show${Os}`,b7=`shown${Os}`,S7=`resize${Os}`,E7=`click.dismiss${Os}`,w7=`mousedown.dismiss${Os}`,C7=`keydown.dismiss${Os}`,D7=`click${Os}.data-api`,PV="modal-open",dT="modal-static",M7={backdrop:!0,focus:!0,keyboard:!0},I7={backdrop:"(boolean|string)",focus:"boolean",keyboard:"boolean"};class nc extends fr{constructor(t,e){super(t,e),this._dialog=fe.findOne(".modal-dialog",this._element),this._backdrop=this._initializeBackDrop(),this._focustrap=this._initializeFocusTrap(),this._isShown=!1,this._isTransitioning=!1,this._scrollBar=new hT,this._addEventListeners()}static get Default(){return M7}static get DefaultType(){return I7}static get NAME(){return"modal"}toggle(t){return this._isShown?this.hide():this.show(t)}show(t){this._isShown||this._isTransitioning||K.trigger(this._element,AV,{relatedTarget:t}).defaultPrevented||(this._isShown=!0,this._isTransitioning=!0,this._scrollBar.hide(),document.body.classList.add(PV),this._adjustDialog(),this._backdrop.show(()=>this._showElement(t)))}hide(){!this._isShown||this._isTransitioning||K.trigger(this._element,v7).defaultPrevented||(this._isShown=!1,this._isTransitioning=!0,this._focustrap.deactivate(),this._element.classList.remove("show"),this._queueCallback(()=>this._hideModal(),this._element,this._isAnimated()))}dispose(){K.off(window,Os),K.off(this._dialog,Os),this._backdrop.dispose(),this._focustrap.deactivate(),super.dispose()}handleUpdate(){this._adjustDialog()}_initializeBackDrop(){return new yV({isVisible:Boolean(this._config.backdrop),isAnimated:this._isAnimated()})}_initializeFocusTrap(){return new SV({trapElement:this._element})}_showElement(t){document.body.contains(this._element)||document.body.append(this._element),this._element.style.display="block",this._element.removeAttribute("aria-hidden"),this._element.setAttribute("aria-modal",!0),this._element.setAttribute("role","dialog"),this._element.scrollTop=0;const e=fe.findOne(".modal-body",this._dialog);e&&(e.scrollTop=0),this._element.classList.add("show"),this._queueCallback(()=>{this._config.focus&&this._focustrap.activate(),this._isTransitioning=!1,K.trigger(this._element,b7,{relatedTarget:t})},this._dialog,this._isAnimated())}_addEventListeners(){K.on(this._element,C7,t=>{if("Escape"===t.key){if(this._config.keyboard)return void this.hide();this._triggerBackdropTransition()}}),K.on(window,S7,()=>{this._isShown&&!this._isTransitioning&&this._adjustDialog()}),K.on(this._element,w7,t=>{K.one(this._element,E7,e=>{if(this._element===t.target&&this._element===e.target){if("static"===this._config.backdrop)return void this._triggerBackdropTransition();this._config.backdrop&&this.hide()}})})}_hideModal(){this._element.style.display="none",this._element.setAttribute("aria-hidden",!0),this._element.removeAttribute("aria-modal"),this._element.removeAttribute("role"),this._isTransitioning=!1,this._backdrop.hide(()=>{document.body.classList.remove(PV),this._resetAdjustments(),this._scrollBar.reset(),K.trigger(this._element,DV)})}_isAnimated(){return this._element.classList.contains("fade")}_triggerBackdropTransition(){if(K.trigger(this._element,y7).defaultPrevented)return;const e=this._element.scrollHeight>document.documentElement.clientHeight,i=this._element.style.overflowY;"hidden"===i||this._element.classList.contains(dT)||(e||(this._element.style.overflowY="hidden"),this._element.classList.add(dT),this._queueCallback(()=>{this._element.classList.remove(dT),this._queueCallback(()=>{this._element.style.overflowY=i},this._dialog)},this._dialog),this._element.focus())}_adjustDialog(){const t=this._element.scrollHeight>document.documentElement.clientHeight,e=this._scrollBar.getWidth(),i=e>0;if(i&&!t){const s=Ms()?"paddingLeft":"paddingRight";this._element.style[s]=`${e}px`}if(!i&&t){const s=Ms()?"paddingRight":"paddingLeft";this._element.style[s]=`${e}px`}}_resetAdjustments(){this._element.style.paddingLeft="",this._element.style.paddingRight=""}static jQueryInterface(t,e){return this.each(function(){const i=nc.getOrCreateInstance(this,t);if("string"==typeof t){if(void 0===i[t])throw new TypeError(`No method named "${t}"`);i[t](e)}})}}K.on(document,D7,'[data-bs-toggle="modal"]',function(n){const t=fe.getElementFromSelector(this);["A","AREA"].includes(this.tagName)&&n.preventDefault(),K.one(t,AV,s=>{s.defaultPrevented||K.one(t,DV,()=>{dh(this)&&this.focus()})});const e=fe.findOne(".modal.show");e&&nc.getInstance(e).hide(),nc.getOrCreateInstance(t).toggle(this)}),vy(nc),Is(nc);const No=".bs.offcanvas",TV=".data-api",N7=`load${No}${TV}`,MV="showing",OV=".offcanvas.show",V7=`show${No}`,F7=`shown${No}`,B7=`hide${No}`,NV=`hidePrevented${No}`,RV=`hidden${No}`,$7=`resize${No}`,H7=`click${No}${TV}`,q7=`keydown.dismiss${No}`,G7={backdrop:!0,keyboard:!0,scroll:!1},j7={backdrop:"(boolean|string)",keyboard:"boolean",scroll:"boolean"};class Ra extends fr{constructor(t,e){super(t,e),this._isShown=!1,this._backdrop=this._initializeBackDrop(),this._focustrap=this._initializeFocusTrap(),this._addEventListeners()}static get Default(){return G7}static get DefaultType(){return j7}static get NAME(){return"offcanvas"}toggle(t){return this._isShown?this.hide():this.show(t)}show(t){this._isShown||K.trigger(this._element,V7,{relatedTarget:t}).defaultPrevented||(this._isShown=!0,this._backdrop.show(),this._config.scroll||(new hT).hide(),this._element.setAttribute("aria-modal",!0),this._element.setAttribute("role","dialog"),this._element.classList.add(MV),this._queueCallback(()=>{(!this._config.scroll||this._config.backdrop)&&this._focustrap.activate(),this._element.classList.add("show"),this._element.classList.remove(MV),K.trigger(this._element,F7,{relatedTarget:t})},this._element,!0))}hide(){this._isShown&&!K.trigger(this._element,B7).defaultPrevented&&(this._focustrap.deactivate(),this._element.blur(),this._isShown=!1,this._element.classList.add("hiding"),this._backdrop.hide(),this._queueCallback(()=>{this._element.classList.remove("show","hiding"),this._element.removeAttribute("aria-modal"),this._element.removeAttribute("role"),this._config.scroll||(new hT).reset(),K.trigger(this._element,RV)},this._element,!0))}dispose(){this._backdrop.dispose(),this._focustrap.deactivate(),super.dispose()}_initializeBackDrop(){const e=Boolean(this._config.backdrop);return new yV({className:"offcanvas-backdrop",isVisible:e,isAnimated:!0,rootElement:this._element.parentNode,clickCallback:e?()=>{"static"!==this._config.backdrop?this.hide():K.trigger(this._element,NV)}:null})}_initializeFocusTrap(){return new SV({trapElement:this._element})}_addEventListeners(){K.on(this._element,q7,t=>{if("Escape"===t.key){if(this._config.keyboard)return void this.hide();K.trigger(this._element,NV)}})}static jQueryInterface(t){return this.each(function(){const e=Ra.getOrCreateInstance(this,t);if("string"==typeof t){if(void 0===e[t]||t.startsWith("_")||"constructor"===t)throw new TypeError(`No method named "${t}"`);e[t](this)}})}}K.on(document,H7,'[data-bs-toggle="offcanvas"]',function(n){const t=fe.getElementFromSelector(this);if(["A","AREA"].includes(this.tagName)&&n.preventDefault(),Oa(this))return;K.one(t,RV,()=>{dh(this)&&this.focus()});const e=fe.findOne(OV);e&&e!==t&&Ra.getInstance(e).hide(),Ra.getOrCreateInstance(t).toggle(this)}),K.on(window,N7,()=>{for(const n of fe.find(OV))Ra.getOrCreateInstance(n).show()}),K.on(window,$7,()=>{for(const n of fe.find("[aria-modal][class*=show][class*=offcanvas-]"))"fixed"!==getComputedStyle(n).position&&Ra.getOrCreateInstance(n).hide()}),vy(Ra),Is(Ra);const LV={"*":["class","dir","id","lang","role",/^aria-[\w-]*$/i],a:["target","href","title","rel"],area:[],b:[],br:[],col:[],code:[],div:[],em:[],hr:[],h1:[],h2:[],h3:[],h4:[],h5:[],h6:[],i:[],img:["src","srcset","alt","title","width","height"],li:[],ol:[],p:[],pre:[],s:[],small:[],span:[],sub:[],sup:[],strong:[],u:[],ul:[]},W7=new Set(["background","cite","href","itemtype","longdesc","poster","src","xlink:href"]),z7=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:/?#]*(?:[/?#]|$))/i,K7=(n,t)=>{const e=n.nodeName.toLowerCase();return t.includes(e)?!W7.has(e)||Boolean(z7.test(n.nodeValue)):t.filter(i=>i instanceof RegExp).some(i=>i.test(e))},Z7={allowList:LV,content:{},extraClass:"",html:!1,sanitize:!0,sanitizeFn:null,template:"<div></div>"},J7={allowList:"object",content:"object",extraClass:"(string|function)",html:"boolean",sanitize:"boolean",sanitizeFn:"(null|function)",template:"string"},X7={entry:"(string|element|function|null)",selector:"(string|element)"};class ez extends xp{constructor(t){super(),this._config=this._getConfig(t)}static get Default(){return Z7}static get DefaultType(){return J7}static get NAME(){return"TemplateFactory"}getContent(){return Object.values(this._config.content).map(t=>this._resolvePossibleFunction(t)).filter(Boolean)}hasContent(){return this.getContent().length>0}changeContent(t){return this._checkContent(t),this._config.content=ei(ei({},this._config.content),t),this}toHtml(){const t=document.createElement("div");t.innerHTML=this._maybeSanitize(this._config.template);for(const[s,r]of Object.entries(this._config.content))this._setContent(t,r,s);const e=t.children[0],i=this._resolvePossibleFunction(this._config.extraClass);return i&&e.classList.add(...i.split(" ")),e}_typeCheckConfig(t){super._typeCheckConfig(t),this._checkContent(t.content)}_checkContent(t){for(const[e,i]of Object.entries(t))super._typeCheckConfig({selector:e,entry:i},X7)}_setContent(t,e,i){const s=fe.findOne(i,t);if(s){if(!(e=this._resolvePossibleFunction(e)))return void s.remove();if(Io(e))return void this._putElementInTemplate(Ia(e),s);if(this._config.html)return void(s.innerHTML=this._maybeSanitize(e));s.textContent=e}}_maybeSanitize(t){return this._config.sanitize?function(n,t,e){if(!n.length)return n;if(e&&"function"==typeof e)return e(n);const s=(new window.DOMParser).parseFromString(n,"text/html"),r=[].concat(...s.body.querySelectorAll("*"));for(const o of r){const a=o.nodeName.toLowerCase();if(!Object.keys(t).includes(a)){o.remove();continue}const u=[].concat(...o.attributes),h=[].concat(t["*"]||[],t[a]||[]);for(const f of u)K7(f,h)||o.removeAttribute(f.nodeName)}return s.body.innerHTML}(t,this._config.allowList,this._config.sanitizeFn):t}_resolvePossibleFunction(t){return Vi(t,[this])}_putElementInTemplate(t,e){if(this._config.html)return e.innerHTML="",void e.append(t);e.textContent=t.textContent}}const nz=new Set(["sanitize","allowList","sanitizeFn"]),fT="fade",ky="show",FV="hide.bs.modal",Rp="hover",pT="focus",_z={AUTO:"auto",TOP:"top",RIGHT:Ms()?"left":"right",BOTTOM:"bottom",LEFT:Ms()?"right":"left"},vz={allowList:LV,animation:!0,boundary:"clippingParents",container:!1,customClass:"",delay:0,fallbackPlacements:["top","right","bottom","left"],html:!1,offset:[0,6],placement:"top",popperConfig:null,sanitize:!0,sanitizeFn:null,selector:!1,template:'<div class="tooltip" role="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',title:"",trigger:"hover focus"},yz={allowList:"object",animation:"boolean",boundary:"(string|element)",container:"(string|element|boolean)",customClass:"(string|function)",delay:"(number|object)",fallbackPlacements:"array",html:"boolean",offset:"(array|string|function)",placement:"(string|function)",popperConfig:"(null|object|function)",sanitize:"boolean",sanitizeFn:"(null|function)",selector:"(string|boolean)",template:"string",title:"(string|element|function)",trigger:"string"};class vh extends fr{constructor(t,e){if(void 0===qi)throw new TypeError("Bootstrap's tooltips require Popper (https://popper.js.org)");super(t,e),this._isEnabled=!0,this._timeout=0,this._isHovered=null,this._activeTrigger={},this._popper=null,this._templateFactory=null,this._newContent=null,this.tip=null,this._setListeners(),this._config.selector||this._fixTitle()}static get Default(){return vz}static get DefaultType(){return yz}static get NAME(){return"tooltip"}enable(){this._isEnabled=!0}disable(){this._isEnabled=!1}toggleEnabled(){this._isEnabled=!this._isEnabled}toggle(){if(this._isEnabled){if(this._activeTrigger.click=!this._activeTrigger.click,this._isShown())return void this._leave();this._enter()}}dispose(){clearTimeout(this._timeout),K.off(this._element.closest(".modal"),FV,this._hideModalHandler),this._element.getAttribute("data-bs-original-title")&&this._element.setAttribute("title",this._element.getAttribute("data-bs-original-title")),this._disposePopper(),super.dispose()}show(){if("none"===this._element.style.display)throw new Error("Please use show on visible elements");if(!this._isWithContent()||!this._isEnabled)return;const t=K.trigger(this._element,this.constructor.eventName("show")),i=(zL(this._element)||this._element.ownerDocument.documentElement).contains(this._element);if(t.defaultPrevented||!i)return;this._disposePopper();const s=this._getTipElement();this._element.setAttribute("aria-describedby",s.getAttribute("id"));const{container:r}=this._config;if(this._element.ownerDocument.documentElement.contains(this.tip)||(r.append(s),K.trigger(this._element,this.constructor.eventName("inserted"))),this._popper=this._createPopper(s),s.classList.add(ky),"ontouchstart"in document.documentElement)for(const a of[].concat(...document.body.children))K.on(a,"mouseover",_y);this._queueCallback(()=>{K.trigger(this._element,this.constructor.eventName("shown")),!1===this._isHovered&&this._leave(),this._isHovered=!1},this.tip,this._isAnimated())}hide(){if(this._isShown()&&!K.trigger(this._element,this.constructor.eventName("hide")).defaultPrevented){if(this._getTipElement().classList.remove(ky),"ontouchstart"in document.documentElement)for(const s of[].concat(...document.body.children))K.off(s,"mouseover",_y);this._activeTrigger.click=!1,this._activeTrigger[pT]=!1,this._activeTrigger[Rp]=!1,this._isHovered=null,this._queueCallback(()=>{this._isWithActiveTrigger()||(this._isHovered||this._disposePopper(),this._element.removeAttribute("aria-describedby"),K.trigger(this._element,this.constructor.eventName("hidden")))},this.tip,this._isAnimated())}}update(){this._popper&&this._popper.update()}_isWithContent(){return Boolean(this._getTitle())}_getTipElement(){return this.tip||(this.tip=this._createTipElement(this._newContent||this._getContentForTemplate())),this.tip}_createTipElement(t){const e=this._getTemplateFactory(t).toHtml();if(!e)return null;e.classList.remove(fT,ky),e.classList.add(`bs-${this.constructor.NAME}-auto`);const i=(n=>{do{n+=Math.floor(1e6*Math.random())}while(document.getElementById(n));return n})(this.constructor.NAME).toString();return e.setAttribute("id",i),this._isAnimated()&&e.classList.add(fT),e}setContent(t){this._newContent=t,this._isShown()&&(this._disposePopper(),this.show())}_getTemplateFactory(t){return this._templateFactory?this._templateFactory.changeContent(t):this._templateFactory=new ez(ab(ei({},this._config),{content:t,extraClass:this._resolvePossibleFunction(this._config.customClass)})),this._templateFactory}_getContentForTemplate(){return{".tooltip-inner":this._getTitle()}}_getTitle(){return this._resolvePossibleFunction(this._config.title)||this._element.getAttribute("data-bs-original-title")}_initializeOnDelegatedTarget(t){return this.constructor.getOrCreateInstance(t.delegateTarget,this._getDelegateConfig())}_isAnimated(){return this._config.animation||this.tip&&this.tip.classList.contains(fT)}_isShown(){return this.tip&&this.tip.classList.contains(ky)}_createPopper(t){const e=Vi(this._config.placement,[this,t,this._element]),i=_z[e.toUpperCase()];return Zk(this._element,t,this._getPopperConfig(i))}_getOffset(){const{offset:t}=this._config;return"string"==typeof t?t.split(",").map(e=>Number.parseInt(e,10)):"function"==typeof t?e=>t(e,this._element):t}_resolvePossibleFunction(t){return Vi(t,[this._element])}_getPopperConfig(t){const e={placement:t,modifiers:[{name:"flip",options:{fallbackPlacements:this._config.fallbackPlacements}},{name:"offset",options:{offset:this._getOffset()}},{name:"preventOverflow",options:{boundary:this._config.boundary}},{name:"arrow",options:{element:`.${this.constructor.NAME}-arrow`}},{name:"preSetPlacement",enabled:!0,phase:"beforeMain",fn:i=>{this._getTipElement().setAttribute("data-popper-placement",i.state.placement)}}]};return ei(ei({},e),Vi(this._config.popperConfig,[e]))}_setListeners(){const t=this._config.trigger.split(" ");for(const e of t)if("click"===e)K.on(this._element,this.constructor.eventName("click"),this._config.selector,i=>{this._initializeOnDelegatedTarget(i).toggle()});else if("manual"!==e){const i=this.constructor.eventName(e===Rp?"mouseenter":"focusin"),s=this.constructor.eventName(e===Rp?"mouseleave":"focusout");K.on(this._element,i,this._config.selector,r=>{const o=this._initializeOnDelegatedTarget(r);o._activeTrigger["focusin"===r.type?pT:Rp]=!0,o._enter()}),K.on(this._element,s,this._config.selector,r=>{const o=this._initializeOnDelegatedTarget(r);o._activeTrigger["focusout"===r.type?pT:Rp]=o._element.contains(r.relatedTarget),o._leave()})}this._hideModalHandler=()=>{this._element&&this.hide()},K.on(this._element.closest(".modal"),FV,this._hideModalHandler)}_fixTitle(){const t=this._element.getAttribute("title");!t||(!this._element.getAttribute("aria-label")&&!this._element.textContent.trim()&&this._element.setAttribute("aria-label",t),this._element.setAttribute("data-bs-original-title",t),this._element.removeAttribute("title"))}_enter(){this._isShown()||this._isHovered?this._isHovered=!0:(this._isHovered=!0,this._setTimeout(()=>{this._isHovered&&this.show()},this._config.delay.show))}_leave(){this._isWithActiveTrigger()||(this._isHovered=!1,this._setTimeout(()=>{this._isHovered||this.hide()},this._config.delay.hide))}_setTimeout(t,e){clearTimeout(this._timeout),this._timeout=setTimeout(t,e)}_isWithActiveTrigger(){return Object.values(this._activeTrigger).includes(!0)}_getConfig(t){const e=Oo.getDataAttributes(this._element);for(const i of Object.keys(e))nz.has(i)&&delete e[i];return t=ei(ei({},e),"object"==typeof t&&t?t:{}),t=this._mergeConfigObj(t),t=this._configAfterMerge(t),this._typeCheckConfig(t),t}_configAfterMerge(t){return t.container=!1===t.container?document.body:Ia(t.container),"number"==typeof t.delay&&(t.delay={show:t.delay,hide:t.delay}),"number"==typeof t.title&&(t.title=t.title.toString()),"number"==typeof t.content&&(t.content=t.content.toString()),t}_getDelegateConfig(){const t={};for(const[e,i]of Object.entries(this._config))this.constructor.Default[e]!==i&&(t[e]=i);return t.selector=!1,t.trigger="manual",t}_disposePopper(){this._popper&&(this._popper.destroy(),this._popper=null),this.tip&&(this.tip.remove(),this.tip=null)}static jQueryInterface(t){return this.each(function(){const e=vh.getOrCreateInstance(this,t);if("string"==typeof t){if(void 0===e[t])throw new TypeError(`No method named "${t}"`);e[t]()}})}}Is(vh);const wz=ab(ei({},vh.Default),{content:"",offset:[0,8],placement:"right",template:'<div class="popover" role="tooltip"><div class="popover-arrow"></div><h3 class="popover-header"></h3><div class="popover-body"></div></div>',trigger:"click"}),Cz=ab(ei({},vh.DefaultType),{content:"(null|string|element|function)"});class gT extends vh{static get Default(){return wz}static get DefaultType(){return Cz}static get NAME(){return"popover"}_isWithContent(){return this._getTitle()||this._getContent()}_getContentForTemplate(){return{".popover-header":this._getTitle(),".popover-body":this._getContent()}}_getContent(){return this._resolvePossibleFunction(this._config.content)}static jQueryInterface(t){return this.each(function(){const e=gT.getOrCreateInstance(this,t);if("string"==typeof t){if(void 0===e[t])throw new TypeError(`No method named "${t}"`);e[t]()}})}}Is(gT);const mT=".bs.scrollspy",Pz=`activate${mT}`,BV=`click${mT}`,kz=`load${mT}.data-api`,yh="active",_T="[href]",$V=".nav-link",Iz=`${$V}, .nav-item > ${$V}, .list-group-item`,Rz={offset:null,rootMargin:"0px 0px -25%",smoothScroll:!1,target:null,threshold:[.1,.5,1]},Lz={offset:"(number|null)",rootMargin:"string",smoothScroll:"boolean",target:"element",threshold:"array"};class Ty extends fr{constructor(t,e){super(t,e),this._targetLinks=new Map,this._observableSections=new Map,this._rootElement="visible"===getComputedStyle(this._element).overflowY?null:this._element,this._activeTarget=null,this._observer=null,this._previousScrollData={visibleEntryTop:0,parentScrollTop:0},this.refresh()}static get Default(){return Rz}static get DefaultType(){return Lz}static get NAME(){return"scrollspy"}refresh(){this._initializeTargetsAndObservables(),this._maybeEnableSmoothScroll(),this._observer?this._observer.disconnect():this._observer=this._getNewObserver();for(const t of this._observableSections.values())this._observer.observe(t)}dispose(){this._observer.disconnect(),super.dispose()}_configAfterMerge(t){return t.target=Ia(t.target)||document.body,t.rootMargin=t.offset?`${t.offset}px 0px -30%`:t.rootMargin,"string"==typeof t.threshold&&(t.threshold=t.threshold.split(",").map(e=>Number.parseFloat(e))),t}_maybeEnableSmoothScroll(){!this._config.smoothScroll||(K.off(this._config.target,BV),K.on(this._config.target,BV,_T,t=>{const e=this._observableSections.get(t.target.hash);if(e){t.preventDefault();const i=this._rootElement||window,s=e.offsetTop-this._element.offsetTop;if(i.scrollTo)return void i.scrollTo({top:s,behavior:"smooth"});i.scrollTop=s}}))}_getNewObserver(){return new IntersectionObserver(e=>this._observerCallback(e),{root:this._rootElement,threshold:this._config.threshold,rootMargin:this._config.rootMargin})}_observerCallback(t){const e=o=>this._targetLinks.get(`#${o.target.id}`),i=o=>{this._previousScrollData.visibleEntryTop=o.target.offsetTop,this._process(e(o))},s=(this._rootElement||document.documentElement).scrollTop,r=s>=this._previousScrollData.parentScrollTop;this._previousScrollData.parentScrollTop=s;for(const o of t){if(!o.isIntersecting){this._activeTarget=null,this._clearActiveClass(e(o));continue}const a=o.target.offsetTop>=this._previousScrollData.visibleEntryTop;if(r&&a){if(i(o),!s)return}else!r&&!a&&i(o)}}_initializeTargetsAndObservables(){this._targetLinks=new Map,this._observableSections=new Map;const t=fe.find(_T,this._config.target);for(const e of t){if(!e.hash||Oa(e))continue;const i=fe.findOne(decodeURI(e.hash),this._element);dh(i)&&(this._targetLinks.set(decodeURI(e.hash),e),this._observableSections.set(e.hash,i))}}_process(t){this._activeTarget!==t&&(this._clearActiveClass(this._config.target),this._activeTarget=t,t.classList.add(yh),this._activateParents(t),K.trigger(this._element,Pz,{relatedTarget:t}))}_activateParents(t){if(t.classList.contains("dropdown-item"))fe.findOne(".dropdown-toggle",t.closest(".dropdown")).classList.add(yh);else for(const e of fe.parents(t,".nav, .list-group"))for(const i of fe.prev(e,Iz))i.classList.add(yh)}_clearActiveClass(t){t.classList.remove(yh);const e=fe.find(`${_T}.${yh}`,t);for(const i of e)i.classList.remove(yh)}static jQueryInterface(t){return this.each(function(){const e=Ty.getOrCreateInstance(this,t);if("string"==typeof t){if(void 0===e[t]||t.startsWith("_")||"constructor"===t)throw new TypeError(`No method named "${t}"`);e[t]()}})}}K.on(window,kz,()=>{for(const n of fe.find('[data-bs-spy="scroll"]'))Ty.getOrCreateInstance(n)}),Is(Ty);const ic=".bs.tab",Fz=`hide${ic}`,Bz=`hidden${ic}`,$z=`show${ic}`,Hz=`shown${ic}`,qz=`click${ic}`,Uz=`keydown${ic}`,Gz=`load${ic}`,jz="ArrowLeft",HV="ArrowRight",Wz="ArrowUp",qV="ArrowDown",vT="Home",UV="End",sc="active",yT="show",bT=":not(.dropdown-toggle)",jV='[data-bs-toggle="tab"], [data-bs-toggle="pill"], [data-bs-toggle="list"]',ST=`.nav-link${bT}, .list-group-item${bT}, [role="tab"]${bT}, ${jV}`,Xz=`.${sc}[data-bs-toggle="tab"], .${sc}[data-bs-toggle="pill"], .${sc}[data-bs-toggle="list"]`;class bh extends fr{constructor(t){super(t),this._parent=this._element.closest('.list-group, .nav, [role="tablist"]'),this._parent&&(this._setInitialAttributes(this._parent,this._getChildren()),K.on(this._element,Uz,e=>this._keydown(e)))}static get NAME(){return"tab"}show(){const t=this._element;if(this._elemIsActive(t))return;const e=this._getActiveElem(),i=e?K.trigger(e,Fz,{relatedTarget:t}):null;K.trigger(t,$z,{relatedTarget:e}).defaultPrevented||i&&i.defaultPrevented||(this._deactivate(e,t),this._activate(t,e))}_activate(t,e){t&&(t.classList.add(sc),this._activate(fe.getElementFromSelector(t)),this._queueCallback(()=>{"tab"===t.getAttribute("role")?(t.removeAttribute("tabindex"),t.setAttribute("aria-selected",!0),this._toggleDropDown(t,!0),K.trigger(t,Hz,{relatedTarget:e})):t.classList.add(yT)},t,t.classList.contains("fade")))}_deactivate(t,e){t&&(t.classList.remove(sc),t.blur(),this._deactivate(fe.getElementFromSelector(t)),this._queueCallback(()=>{"tab"===t.getAttribute("role")?(t.setAttribute("aria-selected",!1),t.setAttribute("tabindex","-1"),this._toggleDropDown(t,!1),K.trigger(t,Bz,{relatedTarget:e})):t.classList.remove(yT)},t,t.classList.contains("fade")))}_keydown(t){if(![jz,HV,Wz,qV,vT,UV].includes(t.key))return;t.stopPropagation(),t.preventDefault();const e=this._getChildren().filter(s=>!Oa(s));let i;if([vT,UV].includes(t.key))i=e[t.key===vT?0:e.length-1];else{const s=[HV,qV].includes(t.key);i=tT(e,t.target,s,!0)}i&&(i.focus({preventScroll:!0}),bh.getOrCreateInstance(i).show())}_getChildren(){return fe.find(ST,this._parent)}_getActiveElem(){return this._getChildren().find(t=>this._elemIsActive(t))||null}_setInitialAttributes(t,e){this._setAttributeIfNotExists(t,"role","tablist");for(const i of e)this._setInitialAttributesOnChild(i)}_setInitialAttributesOnChild(t){t=this._getInnerElement(t);const e=this._elemIsActive(t),i=this._getOuterElement(t);t.setAttribute("aria-selected",e),i!==t&&this._setAttributeIfNotExists(i,"role","presentation"),e||t.setAttribute("tabindex","-1"),this._setAttributeIfNotExists(t,"role","tab"),this._setInitialAttributesOnTargetPanel(t)}_setInitialAttributesOnTargetPanel(t){const e=fe.getElementFromSelector(t);!e||(this._setAttributeIfNotExists(e,"role","tabpanel"),t.id&&this._setAttributeIfNotExists(e,"aria-labelledby",`${t.id}`))}_toggleDropDown(t,e){const i=this._getOuterElement(t);if(!i.classList.contains("dropdown"))return;const s=(r,o)=>{const a=fe.findOne(r,i);a&&a.classList.toggle(o,e)};s(".dropdown-toggle",sc),s(".dropdown-menu",yT),i.setAttribute("aria-expanded",e)}_setAttributeIfNotExists(t,e,i){t.hasAttribute(e)||t.setAttribute(e,i)}_elemIsActive(t){return t.classList.contains(sc)}_getInnerElement(t){return t.matches(ST)?t:fe.findOne(ST,t)}_getOuterElement(t){return t.closest(".nav-item, .list-group-item")||t}static jQueryInterface(t){return this.each(function(){const e=bh.getOrCreateInstance(this);if("string"==typeof t){if(void 0===e[t]||t.startsWith("_")||"constructor"===t)throw new TypeError(`No method named "${t}"`);e[t]()}})}}K.on(document,qz,jV,function(n){["A","AREA"].includes(this.tagName)&&n.preventDefault(),!Oa(this)&&bh.getOrCreateInstance(this).show()}),K.on(window,Gz,()=>{for(const n of fe.find(Xz))bh.getOrCreateInstance(n)}),Is(bh);const La=".bs.toast",t9=`mouseover${La}`,n9=`mouseout${La}`,i9=`focusin${La}`,s9=`focusout${La}`,r9=`hide${La}`,o9=`hidden${La}`,a9=`show${La}`,l9=`shown${La}`,xy="show",My="showing",u9={animation:"boolean",autohide:"boolean",delay:"number"},h9={animation:!0,autohide:!0,delay:5e3};class Iy extends fr{constructor(t,e){super(t,e),this._timeout=null,this._hasMouseInteraction=!1,this._hasKeyboardInteraction=!1,this._setListeners()}static get Default(){return h9}static get DefaultType(){return u9}static get NAME(){return"toast"}show(){K.trigger(this._element,a9).defaultPrevented||(this._clearTimeout(),this._config.animation&&this._element.classList.add("fade"),this._element.classList.remove("hide"),this._element.classList.add(xy,My),this._queueCallback(()=>{this._element.classList.remove(My),K.trigger(this._element,l9),this._maybeScheduleHide()},this._element,this._config.animation))}hide(){this.isShown()&&!K.trigger(this._element,r9).defaultPrevented&&(this._element.classList.add(My),this._queueCallback(()=>{this._element.classList.add("hide"),this._element.classList.remove(My,xy),K.trigger(this._element,o9)},this._element,this._config.animation))}dispose(){this._clearTimeout(),this.isShown()&&this._element.classList.remove(xy),super.dispose()}isShown(){return this._element.classList.contains(xy)}_maybeScheduleHide(){!this._config.autohide||this._hasMouseInteraction||this._hasKeyboardInteraction||(this._timeout=setTimeout(()=>{this.hide()},this._config.delay))}_onInteraction(t,e){switch(t.type){case"mouseover":case"mouseout":this._hasMouseInteraction=e;break;case"focusin":case"focusout":this._hasKeyboardInteraction=e}if(e)return void this._clearTimeout();const i=t.relatedTarget;this._element===i||this._element.contains(i)||this._maybeScheduleHide()}_setListeners(){K.on(this._element,t9,t=>this._onInteraction(t,!0)),K.on(this._element,n9,t=>this._onInteraction(t,!1)),K.on(this._element,i9,t=>this._onInteraction(t,!0)),K.on(this._element,s9,t=>this._onInteraction(t,!1))}_clearTimeout(){clearTimeout(this._timeout),this._timeout=null}static jQueryInterface(t){return this.each(function(){const e=Iy.getOrCreateInstance(this,t);if("string"==typeof t){if(void 0===e[t])throw new TypeError(`No method named "${t}"`);e[t](this)}})}}function Ns(n){return null!=n&&"false"!=`${n}`}function rc(n,t=0){return function(n){return!isNaN(parseFloat(n))&&!isNaN(Number(n))}(n)?Number(n):t}function An(n){return n instanceof Pt?n.nativeElement:n}function Sh(...n){let t=n[n.length-1];return Ga(t)?(n.pop(),Ho(n,t)):Uo(n)}function ET(n,t,e,i){return x(e)&&(i=e,e=void 0),i?ET(n,t,e).pipe(Fo(s=>Ha(s)?i(...s):i(s))):new He(s=>{zV(n,t,function(o){s.next(arguments.length>1?Array.prototype.slice.call(arguments):o)},s,e)})}function zV(n,t,e,i,s){let r;if(function(n){return n&&"function"==typeof n.addEventListener&&"function"==typeof n.removeEventListener}(n)){const o=n;n.addEventListener(t,e,s),r=()=>o.removeEventListener(t,e,s)}else if(function(n){return n&&"function"==typeof n.on&&"function"==typeof n.off}(n)){const o=n;n.on(t,e),r=()=>o.off(t,e)}else if(function(n){return n&&"function"==typeof n.addListener&&"function"==typeof n.removeListener}(n)){const o=n;n.addListener(t,e),r=()=>o.removeListener(t,e)}else{if(!n||!n.length)throw new TypeError("Invalid event target");for(let o=0,a=n.length;o<a;o++)zV(n[o],t,e,i,s)}i.add(r)}vy(Iy),Is(Iy);class _9 extends Ue{constructor(t,e){super()}schedule(t,e=0){return this}}class Oy extends _9{constructor(t,e){super(t,e),this.scheduler=t,this.work=e,this.pending=!1}schedule(t,e=0){if(this.closed)return this;this.state=t;const i=this.id,s=this.scheduler;return null!=i&&(this.id=this.recycleAsyncId(s,i,e)),this.pending=!0,this.delay=e,this.id=this.id||this.requestAsyncId(s,this.id,e),this}requestAsyncId(t,e,i=0){return setInterval(t.flush.bind(t,this),i)}recycleAsyncId(t,e,i=0){if(null!==i&&this.delay===i&&!1===this.pending)return e;clearInterval(e)}execute(t,e){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const i=this._execute(t,e);if(i)return i;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(t,e){let s,i=!1;try{this.work(t)}catch(r){i=!0,s=!!r&&r||new Error(r)}if(i)return this.unsubscribe(),s}_unsubscribe(){const t=this.id,e=this.scheduler,i=e.actions,s=i.indexOf(this);this.work=null,this.state=null,this.pending=!1,this.scheduler=null,-1!==s&&i.splice(s,1),null!=t&&(this.id=this.recycleAsyncId(e,t,null)),this.delay=null}}let KV=(()=>{class n{constructor(e,i=n.now){this.SchedulerAction=e,this.now=i}schedule(e,i=0,s){return new this.SchedulerAction(this,e).schedule(s,i)}}return n.now=()=>Date.now(),n})();class pr extends KV{constructor(t,e=KV.now){super(t,()=>pr.delegate&&pr.delegate!==this?pr.delegate.now():e()),this.actions=[],this.active=!1,this.scheduled=void 0}schedule(t,e=0,i){return pr.delegate&&pr.delegate!==this?pr.delegate.schedule(t,e,i):super.schedule(t,e,i)}flush(t){const{actions:e}=this;if(this.active)return void e.push(t);let i;this.active=!0;do{if(i=t.execute(t.state,t.delay))break}while(t=e.shift());if(this.active=!1,i){for(;t=e.shift();)t.unsubscribe();throw i}}}const YV=new class extends pr{flush(t){this.active=!0,this.scheduled=void 0;const{actions:e}=this;let i,s=-1,r=e.length;t=t||e.shift();do{if(i=t.execute(t.state,t.delay))break}while(++s<r&&(t=e.shift()));if(this.active=!1,i){for(;++s<r&&(t=e.shift());)t.unsubscribe();throw i}}}(class extends Oy{constructor(t,e){super(t,e),this.scheduler=t,this.work=e}requestAsyncId(t,e,i=0){return null!==i&&i>0?super.requestAsyncId(t,e,i):(t.actions.push(this),t.scheduled||(t.scheduled=requestAnimationFrame(()=>t.flush(null))))}recycleAsyncId(t,e,i=0){if(null!==i&&i>0||null===i&&this.delay>0)return super.recycleAsyncId(t,e,i);0===t.actions.length&&(cancelAnimationFrame(e),t.scheduled=void 0)}});let b9=1;const S9=Promise.resolve(),Ny={};function QV(n){return n in Ny&&(delete Ny[n],!0)}const ZV={setImmediate(n){const t=b9++;return Ny[t]=!0,S9.then(()=>QV(t)&&n()),t},clearImmediate(n){QV(n)}},Lp=(new class extends pr{flush(t){this.active=!0,this.scheduled=void 0;const{actions:e}=this;let i,s=-1,r=e.length;t=t||e.shift();do{if(i=t.execute(t.state,t.delay))break}while(++s<r&&(t=e.shift()));if(this.active=!1,i){for(;++s<r&&(t=e.shift());)t.unsubscribe();throw i}}}(class extends Oy{constructor(t,e){super(t,e),this.scheduler=t,this.work=e}requestAsyncId(t,e,i=0){return null!==i&&i>0?super.requestAsyncId(t,e,i):(t.actions.push(this),t.scheduled||(t.scheduled=ZV.setImmediate(t.flush.bind(t,null))))}recycleAsyncId(t,e,i=0){if(null!==i&&i>0||null===i&&this.delay>0)return super.recycleAsyncId(t,e,i);0===t.actions.length&&(ZV.clearImmediate(e),t.scheduled=void 0)}}),new pr(Oy));class k9{constructor(t){this.durationSelector=t}call(t,e){return e.subscribe(new T9(t,this.durationSelector))}}class T9 extends mc{constructor(t,e){super(t),this.durationSelector=e,this.hasValue=!1}_next(t){if(this.value=t,this.hasValue=!0,!this.throttled){let e;try{const{durationSelector:s}=this;e=s(t)}catch(s){return this.destination.error(s)}const i=Bn(e,new wi(this));!i||i.closed?this.clearThrottle():this.add(this.throttled=i)}}clearThrottle(){const{value:t,hasValue:e,throttled:i}=this;i&&(this.remove(i),this.throttled=void 0,i.unsubscribe()),e&&(this.value=void 0,this.hasValue=!1,this.destination.next(t))}notifyNext(){this.clearThrottle()}notifyComplete(){this.clearThrottle()}}function wT(n){return!Ha(n)&&n-parseFloat(n)+1>=0}function M9(n){const{index:t,period:e,subscriber:i}=n;if(i.next(t),!i.closed){if(-1===e)return i.complete();n.index=t+1,this.schedule(n,e)}}function CT(n,t=Lp){return function(n){return function(e){return e.lift(new k9(n))}}(()=>function(n=0,t,e){let i=-1;return wT(t)?i=Number(t)<1?1:Number(t):Ga(t)&&(e=t),Ga(e)||(e=Lp),new He(s=>{const r=wT(n)?n:+n-e.now();return e.schedule(M9,r,{index:0,period:i,subscriber:s})})}(n,t))}class O9{constructor(t,e){this.predicate=t,this.thisArg=e}call(t,e){return e.subscribe(new N9(t,this.predicate,this.thisArg))}}class N9 extends Ct{constructor(t,e,i){super(t),this.predicate=e,this.thisArg=i,this.count=0}_next(t){let e;try{e=this.predicate.call(this.thisArg,t,this.count++)}catch(i){return void this.destination.error(i)}e&&this.destination.next(t)}}function Va(n){return t=>t.lift(new R9(n))}class R9{constructor(t){this.notifier=t}call(t,e){const i=new L9(t),s=Bn(this.notifier,new wi(i));return s&&!i.seenValue?(i.add(s),e.subscribe(i)):i}}class L9 extends mc{constructor(t){super(t),this.seenValue=!1}notifyNext(){this.seenValue=!0,this.complete()}notifyComplete(){}}function eF(...n){return tg(1)(Sh(...n))}function Vp(...n){const t=n[n.length-1];return Ga(t)?(n.pop(),e=>eF(n,e,t)):e=>eF(n,e)}function DT(n,t){return"function"==typeof t?e=>e.pipe(DT((i,s)=>gc(n(i,s)).pipe(Fo((r,o)=>t(i,r,s,o))))):e=>e.lift(new H9(n))}class H9{constructor(t){this.project=t}call(t,e){return e.subscribe(new q9(t,this.project))}}class q9 extends mc{constructor(t,e){super(t),this.project=e,this.index=0}_next(t){let e;const i=this.index++;try{e=this.project(t,i)}catch(s){return void this.destination.error(s)}this._innerSub(e)}_innerSub(t){const e=this.innerSubscription;e&&e.unsubscribe();const i=new wi(this),s=this.destination;s.add(i),this.innerSubscription=Bn(t,i),this.innerSubscription!==i&&s.add(this.innerSubscription)}_complete(){const{innerSubscription:t}=this;(!t||t.closed)&&super._complete(),this.unsubscribe()}_unsubscribe(){this.innerSubscription=void 0}notifyComplete(){this.innerSubscription=void 0,this.isStopped&&super._complete()}notifyNext(t){this.destination.next(t)}}new class extends pr{}(class extends Oy{constructor(t,e){super(t,e),this.scheduler=t,this.work=e}schedule(t,e=0){return e>0?super.schedule(t,e):(this.delay=e,this.state=t,this.scheduler.flush(this),this)}execute(t,e){return e>0||this.closed?super.execute(t,e):this._execute(t,e)}requestAsyncId(t,e,i=0){return null!==i&&i>0||null===i&&this.delay>0?super.requestAsyncId(t,e,i):t.flush(this)}});const W9=new He(n=>n.complete());function tF(n){return n?function(n){return new He(t=>n.schedule(()=>t.complete()))}(n):W9}class Rs{constructor(t,e,i){this.kind=t,this.value=e,this.error=i,this.hasValue="N"===t}observe(t){switch(this.kind){case"N":return t.next&&t.next(this.value);case"E":return t.error&&t.error(this.error);case"C":return t.complete&&t.complete()}}do(t,e,i){switch(this.kind){case"N":return t&&t(this.value);case"E":return e&&e(this.error);case"C":return i&&i()}}accept(t,e,i){return t&&"function"==typeof t.next?this.observe(t):this.do(t,e,i)}toObservable(){switch(this.kind){case"N":return Sh(this.value);case"E":return function(n,t){return new He(e=>e.error(n))}(this.error);case"C":return tF()}throw new Error("unexpected notification kind value")}static createNext(t){return void 0!==t?new Rs("N",t):Rs.undefinedValueNotification}static createError(t){return new Rs("E",void 0,t)}static createComplete(){return Rs.completeNotification}}let AT;Rs.completeNotification=new Rs("C"),Rs.undefinedValueNotification=new Rs("N",void 0);try{AT="undefined"!=typeof Intl&&Intl.v8BreakIterator}catch(n){AT=!1}let Fp,PT,Ls=(()=>{class n{constructor(e){this._platformId=e,this.isBrowser=this._platformId?function(n){return n===BN}(this._platformId):"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!AT)&&"undefined"!=typeof CSS&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}}return n.\u0275fac=function(e){return new(e||n)($(ep))},n.\u0275prov=le({factory:function(){return new n($(ep))},token:n,providedIn:"root"}),n})();function Bp(n){return function(){if(null==Fp&&"undefined"!=typeof window)try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>Fp=!0}))}finally{Fp=Fp||!1}return Fp}()?n:!!n.capture}function kT(n){if(function(){if(null==PT){const n="undefined"!=typeof document?document.head:null;PT=!(!n||!n.createShadowRoot&&!n.attachShadow)}return PT}()){const t=n.getRootNode?n.getRootNode():null;if("undefined"!=typeof ShadowRoot&&ShadowRoot&&t instanceof ShadowRoot)return t}return null}function Br(n){return n.composedPath?n.composedPath()[0]:n.target}const sF=new _e("cdk-dir-doc",{providedIn:"root",factory:function(){return iS(Ge)}});let Hp=(()=>{class n{constructor(e){if(this.value="ltr",this.change=new at,e){const s=e.documentElement?e.documentElement.dir:null,r=(e.body?e.body.dir:null)||s;this.value="ltr"===r||"rtl"===r?r:"ltr"}}ngOnDestroy(){this.change.complete()}}return n.\u0275fac=function(e){return new(e||n)($(sF,8))},n.\u0275prov=le({factory:function(){return new n($(sF,8))},token:n,providedIn:"root"}),n})(),TT=(()=>{class n{constructor(e,i,s){this._ngZone=e,this._platform=i,this._scrolled=new qe,this._globalSubscription=null,this._scrolledCount=0,this.scrollContainers=new Map,this._document=s}register(e){this.scrollContainers.has(e)||this.scrollContainers.set(e,e.elementScrolled().subscribe(()=>this._scrolled.next(e)))}deregister(e){const i=this.scrollContainers.get(e);i&&(i.unsubscribe(),this.scrollContainers.delete(e))}scrolled(e=20){return this._platform.isBrowser?new He(i=>{this._globalSubscription||this._addGlobalListener();const s=e>0?this._scrolled.pipe(CT(e)).subscribe(i):this._scrolled.subscribe(i);return this._scrolledCount++,()=>{s.unsubscribe(),this._scrolledCount--,this._scrolledCount||this._removeGlobalListener()}}):Sh()}ngOnDestroy(){this._removeGlobalListener(),this.scrollContainers.forEach((e,i)=>this.deregister(i)),this._scrolled.complete()}ancestorScrolled(e,i){const s=this.getAncestorScrollContainers(e);return this.scrolled(i).pipe(function(n,t){return function(i){return i.lift(new O9(n,undefined))}}(r=>!r||s.indexOf(r)>-1))}getAncestorScrollContainers(e){const i=[];return this.scrollContainers.forEach((s,r)=>{this._scrollableContainsElement(r,e)&&i.push(r)}),i}_getWindow(){return this._document.defaultView||window}_scrollableContainsElement(e,i){let s=An(i),r=e.getElementRef().nativeElement;do{if(s==r)return!0}while(s=s.parentElement);return!1}_addGlobalListener(){this._globalSubscription=this._ngZone.runOutsideAngular(()=>ET(this._getWindow().document,"scroll").subscribe(()=>this._scrolled.next()))}_removeGlobalListener(){this._globalSubscription&&(this._globalSubscription.unsubscribe(),this._globalSubscription=null)}}return n.\u0275fac=function(e){return new(e||n)($(Ve),$(Ls),$(Ge,8))},n.\u0275prov=le({factory:function(){return new n($(Ve),$(Ls),$(Ge,8))},token:n,providedIn:"root"}),n})(),xT=(()=>{class n{constructor(e,i,s){this._platform=e,this._change=new qe,this._changeListener=r=>{this._change.next(r)},this._document=s,i.runOutsideAngular(()=>{if(e.isBrowser){const r=this._getWindow();r.addEventListener("resize",this._changeListener),r.addEventListener("orientationchange",this._changeListener)}this.change().subscribe(()=>this._viewportSize=null)})}ngOnDestroy(){if(this._platform.isBrowser){const e=this._getWindow();e.removeEventListener("resize",this._changeListener),e.removeEventListener("orientationchange",this._changeListener)}this._change.complete()}getViewportSize(){this._viewportSize||this._updateViewportSize();const e={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),e}getViewportRect(){const e=this.getViewportScrollPosition(),{width:i,height:s}=this.getViewportSize();return{top:e.top,left:e.left,bottom:e.top+s,right:e.left+i,height:s,width:i}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};const e=this._document,i=this._getWindow(),s=e.documentElement,r=s.getBoundingClientRect();return{top:-r.top||e.body.scrollTop||i.scrollY||s.scrollTop||0,left:-r.left||e.body.scrollLeft||i.scrollX||s.scrollLeft||0}}change(e=20){return e>0?this._change.pipe(CT(e)):this._change}_getWindow(){return this._document.defaultView||window}_updateViewportSize(){const e=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:e.innerWidth,height:e.innerHeight}:{width:0,height:0}}}return n.\u0275fac=function(e){return new(e||n)($(Ls),$(Ve),$(Ge,8))},n.\u0275prov=le({factory:function(){return new n($(Ls),$(Ve),$(Ge,8))},token:n,providedIn:"root"}),n})(),MT=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=nn({type:n}),n.\u0275inj=jt({}),n})();const AK=(()=>{function n(){return Error.call(this),this.message="argument out of range",this.name="ArgumentOutOfRangeError",this}return n.prototype=Object.create(Error.prototype),n})();function IT(n){return t=>0===n?tF():t.lift(new PK(n))}class PK{constructor(t){if(this.total=t,this.total<0)throw new AK}call(t,e){return e.subscribe(new kK(t,this.total))}}class kK extends Ct{constructor(t,e){super(t),this.total=e,this.count=0}_next(t){const e=this.total,i=++this.count;i<=e&&(this.destination.next(t),i===e&&(this.destination.complete(),this.unsubscribe()))}}function aY(n){const{subscriber:t,counter:e,period:i}=n;t.next(e),this.schedule({subscriber:t,counter:e+1,period:i},i)}function Fa(){}"undefined"!=typeof Element&&Element;class cY{constructor(t,e,i){this.nextOrObserver=t,this.error=e,this.complete=i}call(t,e){return e.subscribe(new uY(t,this.nextOrObserver,this.error,this.complete))}}class uY extends Ct{constructor(t,e,i,s){super(t),this._tapNext=Fa,this._tapError=Fa,this._tapComplete=Fa,this._tapError=i||Fa,this._tapComplete=s||Fa,x(e)?(this._context=this,this._tapNext=e):e&&(this._context=e,this._tapNext=e.next||Fa,this._tapError=e.error||Fa,this._tapComplete=e.complete||Fa)}_next(t){try{this._tapNext.call(this._context,t)}catch(e){return void this.destination.error(e)}this.destination.next(t)}_error(t){try{this._tapError.call(this._context,t)}catch(e){return void this.destination.error(e)}this.destination.error(t)}_complete(){try{this._tapComplete.call(this._context)}catch(t){return void this.destination.error(t)}return this.destination.complete()}}function RT(n,t,e){for(let i in t)if(t.hasOwnProperty(i)){const s=t[i];s?n.setProperty(i,s,(null==e?void 0:e.has(i))?"important":""):n.removeProperty(i)}return n}function Ch(n,t){const e=t?"":"none";RT(n.style,{"touch-action":t?"":"none","-webkit-user-drag":t?"":"none","-webkit-tap-highlight-color":t?"":"transparent","user-select":e,"-ms-user-select":e,"-webkit-user-select":e,"-moz-user-select":e})}function AF(n,t,e){RT(n.style,{position:t?"":"fixed",top:t?"":"0",opacity:t?"":"0",left:t?"":"-999em"},e)}function Fy(n,t){return t&&"none"!=t?n+" "+t:n}function PF(n){const t=n.toLowerCase().indexOf("ms")>-1?1:1e3;return parseFloat(n)*t}function LT(n,t){return n.getPropertyValue(t).split(",").map(i=>i.trim())}function VT(n){const t=n.getBoundingClientRect();return{top:t.top,right:t.right,bottom:t.bottom,left:t.left,width:t.width,height:t.height}}function FT(n,t,e){const{top:i,bottom:s,left:r,right:o}=n;return e>=i&&e<=s&&t>=r&&t<=o}function qp(n,t,e){n.top+=t,n.bottom=n.top+n.height,n.left+=e,n.right=n.left+n.width}function kF(n,t,e,i){const{top:s,right:r,bottom:o,left:a,width:u,height:h}=n,f=u*t,g=h*t;return i>s-g&&i<o+g&&e>a-f&&e<r+f}class TF{constructor(t,e){this._document=t,this._viewportRuler=e,this.positions=new Map}clear(){this.positions.clear()}cache(t){this.clear(),this.positions.set(this._document,{scrollPosition:this._viewportRuler.getViewportScrollPosition()}),t.forEach(e=>{this.positions.set(e,{scrollPosition:{top:e.scrollTop,left:e.scrollLeft},clientRect:VT(e)})})}handleScroll(t){const e=Br(t),i=this.positions.get(e);if(!i)return null;const s=e===this._document?e.documentElement:e,r=i.scrollPosition;let o,a;if(e===this._document){const f=this._viewportRuler.getViewportScrollPosition();o=f.top,a=f.left}else o=e.scrollTop,a=e.scrollLeft;const u=r.top-o,h=r.left-a;return this.positions.forEach((f,g)=>{f.clientRect&&e!==g&&s.contains(g)&&qp(f.clientRect,u,h)}),r.top=o,r.left=a,{top:u,left:h}}}function xF(n){const t=n.cloneNode(!0),e=t.querySelectorAll("[id]"),i=n.nodeName.toLowerCase();t.removeAttribute("id");for(let s=0;s<e.length;s++)e[s].removeAttribute("id");return"canvas"===i?OF(n,t):("input"===i||"select"===i||"textarea"===i)&&IF(n,t),MF("canvas",n,t,OF),MF("input, textarea, select",n,t,IF),t}function MF(n,t,e,i){const s=t.querySelectorAll(n);if(s.length){const r=e.querySelectorAll(n);for(let o=0;o<s.length;o++)i(s[o],r[o])}}let dY=0;function IF(n,t){"file"!==t.type&&(t.value=n.value),"radio"===t.type&&t.name&&(t.name=`mat-clone-${t.name}-${dY++}`)}function OF(n,t){const e=t.getContext("2d");if(e)try{e.drawImage(n,0,0)}catch(i){}}const NF=Bp({passive:!0}),RF=Bp({passive:!1}),BT=new Set(["position"]);class pY{constructor(t,e,i,s,r,o){this._config=e,this._document=i,this._ngZone=s,this._viewportRuler=r,this._dragDropRegistry=o,this._passiveTransform={x:0,y:0},this._activeTransform={x:0,y:0},this._hasStartedDragging=!1,this._moveEvents=new qe,this._pointerMoveSubscription=Ue.EMPTY,this._pointerUpSubscription=Ue.EMPTY,this._scrollSubscription=Ue.EMPTY,this._resizeSubscription=Ue.EMPTY,this._boundaryElement=null,this._nativeInteractionsEnabled=!0,this._handles=[],this._disabledHandles=new Set,this._direction="ltr",this.dragStartDelay=0,this._disabled=!1,this.beforeStarted=new qe,this.started=new qe,this.released=new qe,this.ended=new qe,this.entered=new qe,this.exited=new qe,this.dropped=new qe,this.moved=this._moveEvents,this._pointerDown=a=>{if(this.beforeStarted.next(),this._handles.length){const u=this._handles.find(h=>{const f=Br(a);return!!f&&(f===h||h.contains(f))});u&&!this._disabledHandles.has(u)&&!this.disabled&&this._initializeDragSequence(u,a)}else this.disabled||this._initializeDragSequence(this._rootElement,a)},this._pointerMove=a=>{const u=this._getPointerPositionOnPage(a);if(!this._hasStartedDragging){if(Math.abs(u.x-this._pickupPositionOnPage.x)+Math.abs(u.y-this._pickupPositionOnPage.y)>=this._config.dragStartThreshold){const v=Date.now()>=this._dragStartTime+this._getDragStartDelay(a),E=this._dropContainer;if(!v)return void this._endDragSequence(a);(!E||!E.isDragging()&&!E.isReceiving())&&(a.preventDefault(),this._hasStartedDragging=!0,this._ngZone.run(()=>this._startDragSequence(a)))}return}this._boundaryElement&&(!this._previewRect||!this._previewRect.width&&!this._previewRect.height)&&(this._previewRect=(this._preview||this._rootElement).getBoundingClientRect()),a.preventDefault();const h=this._getConstrainedPointerPosition(u);if(this._hasMoved=!0,this._lastKnownPointerPosition=u,this._updatePointerDirectionDelta(h),this._dropContainer)this._updateActiveDropContainer(h,u);else{const f=this._activeTransform;f.x=h.x-this._pickupPositionOnPage.x+this._passiveTransform.x,f.y=h.y-this._pickupPositionOnPage.y+this._passiveTransform.y,this._applyRootElementTransform(f.x,f.y),"undefined"!=typeof SVGElement&&this._rootElement instanceof SVGElement&&this._rootElement.setAttribute("transform",`translate(${f.x} ${f.y})`)}this._moveEvents.observers.length&&this._ngZone.run(()=>{this._moveEvents.next({source:this,pointerPosition:h,event:a,distance:this._getDragDistance(h),delta:this._pointerDirectionDelta})})},this._pointerUp=a=>{this._endDragSequence(a)},this.withRootElement(t).withParent(e.parentDragRef||null),this._parentPositions=new TF(i,r),o.registerDragItem(this)}get disabled(){return this._disabled||!(!this._dropContainer||!this._dropContainer.disabled)}set disabled(t){const e=Ns(t);e!==this._disabled&&(this._disabled=e,this._toggleNativeDragInteractions(),this._handles.forEach(i=>Ch(i,e)))}getPlaceholderElement(){return this._placeholder}getRootElement(){return this._rootElement}getVisibleElement(){return this.isDragging()?this.getPlaceholderElement():this.getRootElement()}withHandles(t){this._handles=t.map(i=>An(i)),this._handles.forEach(i=>Ch(i,this.disabled)),this._toggleNativeDragInteractions();const e=new Set;return this._disabledHandles.forEach(i=>{this._handles.indexOf(i)>-1&&e.add(i)}),this._disabledHandles=e,this}withPreviewTemplate(t){return this._previewTemplate=t,this}withPlaceholderTemplate(t){return this._placeholderTemplate=t,this}withRootElement(t){const e=An(t);return e!==this._rootElement&&(this._rootElement&&this._removeRootElementListeners(this._rootElement),this._ngZone.runOutsideAngular(()=>{e.addEventListener("mousedown",this._pointerDown,RF),e.addEventListener("touchstart",this._pointerDown,NF)}),this._initialTransform=void 0,this._rootElement=e),"undefined"!=typeof SVGElement&&this._rootElement instanceof SVGElement&&(this._ownerSVGElement=this._rootElement.ownerSVGElement),this}withBoundaryElement(t){return this._boundaryElement=t?An(t):null,this._resizeSubscription.unsubscribe(),t&&(this._resizeSubscription=this._viewportRuler.change(10).subscribe(()=>this._containInsideBoundaryOnResize())),this}withParent(t){return this._parentDragRef=t,this}dispose(){this._removeRootElementListeners(this._rootElement),this.isDragging()&&$y(this._rootElement),$y(this._anchor),this._destroyPreview(),this._destroyPlaceholder(),this._dragDropRegistry.removeDragItem(this),this._removeSubscriptions(),this.beforeStarted.complete(),this.started.complete(),this.released.complete(),this.ended.complete(),this.entered.complete(),this.exited.complete(),this.dropped.complete(),this._moveEvents.complete(),this._handles=[],this._disabledHandles.clear(),this._dropContainer=void 0,this._resizeSubscription.unsubscribe(),this._parentPositions.clear(),this._boundaryElement=this._rootElement=this._ownerSVGElement=this._placeholderTemplate=this._previewTemplate=this._anchor=this._parentDragRef=null}isDragging(){return this._hasStartedDragging&&this._dragDropRegistry.isDragging(this)}reset(){this._rootElement.style.transform=this._initialTransform||"",this._activeTransform={x:0,y:0},this._passiveTransform={x:0,y:0}}disableHandle(t){!this._disabledHandles.has(t)&&this._handles.indexOf(t)>-1&&(this._disabledHandles.add(t),Ch(t,!0))}enableHandle(t){this._disabledHandles.has(t)&&(this._disabledHandles.delete(t),Ch(t,this.disabled))}withDirection(t){return this._direction=t,this}_withDropContainer(t){this._dropContainer=t}getFreeDragPosition(){const t=this.isDragging()?this._activeTransform:this._passiveTransform;return{x:t.x,y:t.y}}setFreeDragPosition(t){return this._activeTransform={x:0,y:0},this._passiveTransform.x=t.x,this._passiveTransform.y=t.y,this._dropContainer||this._applyRootElementTransform(t.x,t.y),this}withPreviewContainer(t){return this._previewContainer=t,this}_sortFromLastPointerPosition(){const t=this._lastKnownPointerPosition;t&&this._dropContainer&&this._updateActiveDropContainer(this._getConstrainedPointerPosition(t),t)}_removeSubscriptions(){this._pointerMoveSubscription.unsubscribe(),this._pointerUpSubscription.unsubscribe(),this._scrollSubscription.unsubscribe()}_destroyPreview(){this._preview&&$y(this._preview),this._previewRef&&this._previewRef.destroy(),this._preview=this._previewRef=null}_destroyPlaceholder(){this._placeholder&&$y(this._placeholder),this._placeholderRef&&this._placeholderRef.destroy(),this._placeholder=this._placeholderRef=null}_endDragSequence(t){if(this._dragDropRegistry.isDragging(this)&&(this._removeSubscriptions(),this._dragDropRegistry.stopDragging(this),this._toggleNativeDragInteractions(),this._handles&&(this._rootElement.style.webkitTapHighlightColor=this._rootElementTapHighlight),this._hasStartedDragging))if(this.released.next({source:this}),this._dropContainer)this._dropContainer._stopScrolling(),this._animatePreviewToPlaceholder().then(()=>{this._cleanupDragArtifacts(t),this._cleanupCachedDimensions(),this._dragDropRegistry.stopDragging(this)});else{this._passiveTransform.x=this._activeTransform.x;const e=this._getPointerPositionOnPage(t);this._passiveTransform.y=this._activeTransform.y,this._ngZone.run(()=>{this.ended.next({source:this,distance:this._getDragDistance(e),dropPoint:e})}),this._cleanupCachedDimensions(),this._dragDropRegistry.stopDragging(this)}}_startDragSequence(t){Up(t)&&(this._lastTouchEventTime=Date.now()),this._toggleNativeDragInteractions();const e=this._dropContainer;if(e){const i=this._rootElement,s=i.parentNode,r=this._placeholder=this._createPlaceholderElement(),o=this._anchor=this._anchor||this._document.createComment(""),a=this._getShadowRoot();s.insertBefore(o,i),this._initialTransform=i.style.transform||"",this._preview=this._createPreviewElement(),AF(i,!1,BT),this._document.body.appendChild(s.replaceChild(r,i)),this._getPreviewInsertionPoint(s,a).appendChild(this._preview),this.started.next({source:this}),e.start(),this._initialContainer=e,this._initialIndex=e.getItemIndex(this)}else this.started.next({source:this}),this._initialContainer=this._initialIndex=void 0;this._parentPositions.cache(e?e.getScrollableParents():[])}_initializeDragSequence(t,e){this._parentDragRef&&e.stopPropagation();const i=this.isDragging(),s=Up(e),r=!s&&0!==e.button,o=this._rootElement,a=Br(e),u=!s&&this._lastTouchEventTime&&this._lastTouchEventTime+800>Date.now(),h=s?function(n){const t=n.touches&&n.touches[0]||n.changedTouches&&n.changedTouches[0];return!(!t||-1!==t.identifier||null!=t.radiusX&&1!==t.radiusX||null!=t.radiusY&&1!==t.radiusY)}(e):function(n){return 0===n.offsetX&&0===n.offsetY}(e);if(a&&a.draggable&&"mousedown"===e.type&&e.preventDefault(),i||r||u||h)return;this._handles.length&&(this._rootElementTapHighlight=o.style.webkitTapHighlightColor||"",o.style.webkitTapHighlightColor="transparent"),this._hasStartedDragging=this._hasMoved=!1,this._removeSubscriptions(),this._pointerMoveSubscription=this._dragDropRegistry.pointerMove.subscribe(this._pointerMove),this._pointerUpSubscription=this._dragDropRegistry.pointerUp.subscribe(this._pointerUp),this._scrollSubscription=this._dragDropRegistry.scrolled(this._getShadowRoot()).subscribe(m=>this._updateOnScroll(m)),this._boundaryElement&&(this._boundaryRect=VT(this._boundaryElement));const f=this._previewTemplate;this._pickupPositionInElement=f&&f.template&&!f.matchSize?{x:0,y:0}:this._getPointerPositionInElement(t,e);const g=this._pickupPositionOnPage=this._lastKnownPointerPosition=this._getPointerPositionOnPage(e);this._pointerDirectionDelta={x:0,y:0},this._pointerPositionAtLastDirectionChange={x:g.x,y:g.y},this._dragStartTime=Date.now(),this._dragDropRegistry.startDragging(this,e)}_cleanupDragArtifacts(t){AF(this._rootElement,!0,BT),this._anchor.parentNode.replaceChild(this._rootElement,this._anchor),this._destroyPreview(),this._destroyPlaceholder(),this._boundaryRect=this._previewRect=this._initialTransform=void 0,this._ngZone.run(()=>{const e=this._dropContainer,i=e.getItemIndex(this),s=this._getPointerPositionOnPage(t),r=this._getDragDistance(s),o=e._isOverContainer(s.x,s.y);this.ended.next({source:this,distance:r,dropPoint:s}),this.dropped.next({item:this,currentIndex:i,previousIndex:this._initialIndex,container:e,previousContainer:this._initialContainer,isPointerOverContainer:o,distance:r,dropPoint:s}),e.drop(this,i,this._initialIndex,this._initialContainer,o,r,s),this._dropContainer=this._initialContainer})}_updateActiveDropContainer({x:t,y:e},{x:i,y:s}){let r=this._initialContainer._getSiblingContainerFromPosition(this,t,e);!r&&this._dropContainer!==this._initialContainer&&this._initialContainer._isOverContainer(t,e)&&(r=this._initialContainer),r&&r!==this._dropContainer&&this._ngZone.run(()=>{this.exited.next({item:this,container:this._dropContainer}),this._dropContainer.exit(this),this._dropContainer=r,this._dropContainer.enter(this,t,e,r===this._initialContainer&&r.sortingDisabled?this._initialIndex:void 0),this.entered.next({item:this,container:r,currentIndex:r.getItemIndex(this)})}),this.isDragging()&&(this._dropContainer._startScrollingIfNecessary(i,s),this._dropContainer._sortItem(this,t,e,this._pointerDirectionDelta),this._applyPreviewTransform(t-this._pickupPositionInElement.x,e-this._pickupPositionInElement.y))}_createPreviewElement(){const t=this._previewTemplate,e=this.previewClass,i=t?t.template:null;let s;if(i&&t){const r=t.matchSize?this._rootElement.getBoundingClientRect():null,o=t.viewContainer.createEmbeddedView(i,t.context);o.detectChanges(),s=VF(o,this._document),this._previewRef=o,t.matchSize?FF(s,r):s.style.transform=By(this._pickupPositionOnPage.x,this._pickupPositionOnPage.y)}else{const r=this._rootElement;s=xF(r),FF(s,r.getBoundingClientRect()),this._initialTransform&&(s.style.transform=this._initialTransform)}return RT(s.style,{"pointer-events":"none",margin:"0",position:"fixed",top:"0",left:"0","z-index":`${this._config.zIndex||1e3}`},BT),Ch(s,!1),s.classList.add("cdk-drag-preview"),s.setAttribute("dir",this._direction),e&&(Array.isArray(e)?e.forEach(r=>s.classList.add(r)):s.classList.add(e)),s}_animatePreviewToPlaceholder(){if(!this._hasMoved)return Promise.resolve();const t=this._placeholder.getBoundingClientRect();this._preview.classList.add("cdk-drag-animating"),this._applyPreviewTransform(t.left,t.top);const e=function(n){const t=getComputedStyle(n),e=LT(t,"transition-property"),i=e.find(a=>"transform"===a||"all"===a);if(!i)return 0;const s=e.indexOf(i),r=LT(t,"transition-duration"),o=LT(t,"transition-delay");return PF(r[s])+PF(o[s])}(this._preview);return 0===e?Promise.resolve():this._ngZone.runOutsideAngular(()=>new Promise(i=>{const s=o=>{var a;(!o||Br(o)===this._preview&&"transform"===o.propertyName)&&(null===(a=this._preview)||void 0===a||a.removeEventListener("transitionend",s),i(),clearTimeout(r))},r=setTimeout(s,1.5*e);this._preview.addEventListener("transitionend",s)}))}_createPlaceholderElement(){const t=this._placeholderTemplate,e=t?t.template:null;let i;return e?(this._placeholderRef=t.viewContainer.createEmbeddedView(e,t.context),this._placeholderRef.detectChanges(),i=VF(this._placeholderRef,this._document)):i=xF(this._rootElement),i.classList.add("cdk-drag-placeholder"),i}_getPointerPositionInElement(t,e){const i=this._rootElement.getBoundingClientRect(),s=t===this._rootElement?null:t,r=s?s.getBoundingClientRect():i,o=Up(e)?e.targetTouches[0]:e,a=this._getViewportScrollPosition();return{x:r.left-i.left+(o.pageX-r.left-a.left),y:r.top-i.top+(o.pageY-r.top-a.top)}}_getPointerPositionOnPage(t){const e=this._getViewportScrollPosition(),i=Up(t)?t.touches[0]||t.changedTouches[0]||{pageX:0,pageY:0}:t,s=i.pageX-e.left,r=i.pageY-e.top;if(this._ownerSVGElement){const o=this._ownerSVGElement.getScreenCTM();if(o){const a=this._ownerSVGElement.createSVGPoint();return a.x=s,a.y=r,a.matrixTransform(o.inverse())}}return{x:s,y:r}}_getConstrainedPointerPosition(t){const e=this._dropContainer?this._dropContainer.lockAxis:null;let{x:i,y:s}=this.constrainPosition?this.constrainPosition(t,this):t;if("x"===this.lockAxis||"x"===e?s=this._pickupPositionOnPage.y:("y"===this.lockAxis||"y"===e)&&(i=this._pickupPositionOnPage.x),this._boundaryRect){const{x:r,y:o}=this._pickupPositionInElement,a=this._boundaryRect,u=this._previewRect,h=a.top+o,f=a.bottom-(u.height-o);i=LF(i,a.left+r,a.right-(u.width-r)),s=LF(s,h,f)}return{x:i,y:s}}_updatePointerDirectionDelta(t){const{x:e,y:i}=t,s=this._pointerDirectionDelta,r=this._pointerPositionAtLastDirectionChange,o=Math.abs(e-r.x),a=Math.abs(i-r.y);return o>this._config.pointerDirectionChangeThreshold&&(s.x=e>r.x?1:-1,r.x=e),a>this._config.pointerDirectionChangeThreshold&&(s.y=i>r.y?1:-1,r.y=i),s}_toggleNativeDragInteractions(){if(!this._rootElement||!this._handles)return;const t=this._handles.length>0||!this.isDragging();t!==this._nativeInteractionsEnabled&&(this._nativeInteractionsEnabled=t,Ch(this._rootElement,t))}_removeRootElementListeners(t){t.removeEventListener("mousedown",this._pointerDown,RF),t.removeEventListener("touchstart",this._pointerDown,NF)}_applyRootElementTransform(t,e){const i=By(t,e);null==this._initialTransform&&(this._initialTransform=this._rootElement.style.transform&&"none"!=this._rootElement.style.transform?this._rootElement.style.transform:""),this._rootElement.style.transform=Fy(i,this._initialTransform)}_applyPreviewTransform(t,e){var i;const s=(null===(i=this._previewTemplate)||void 0===i?void 0:i.template)?void 0:this._initialTransform,r=By(t,e);this._preview.style.transform=Fy(r,s)}_getDragDistance(t){const e=this._pickupPositionOnPage;return e?{x:t.x-e.x,y:t.y-e.y}:{x:0,y:0}}_cleanupCachedDimensions(){this._boundaryRect=this._previewRect=void 0,this._parentPositions.clear()}_containInsideBoundaryOnResize(){let{x:t,y:e}=this._passiveTransform;if(0===t&&0===e||this.isDragging()||!this._boundaryElement)return;const i=this._boundaryElement.getBoundingClientRect(),s=this._rootElement.getBoundingClientRect();if(0===i.width&&0===i.height||0===s.width&&0===s.height)return;const r=i.left-s.left,o=s.right-i.right,a=i.top-s.top,u=s.bottom-i.bottom;i.width>s.width?(r>0&&(t+=r),o>0&&(t-=o)):t=0,i.height>s.height?(a>0&&(e+=a),u>0&&(e-=u)):e=0,(t!==this._passiveTransform.x||e!==this._passiveTransform.y)&&this.setFreeDragPosition({y:e,x:t})}_getDragStartDelay(t){const e=this.dragStartDelay;return"number"==typeof e?e:Up(t)?e.touch:e?e.mouse:0}_updateOnScroll(t){const e=this._parentPositions.handleScroll(t);if(e){const i=Br(t);this._boundaryRect&&(i===this._document||i!==this._boundaryElement&&i.contains(this._boundaryElement))&&qp(this._boundaryRect,e.top,e.left),this._pickupPositionOnPage.x+=e.left,this._pickupPositionOnPage.y+=e.top,this._dropContainer||(this._activeTransform.x-=e.left,this._activeTransform.y-=e.top,this._applyRootElementTransform(this._activeTransform.x,this._activeTransform.y))}}_getViewportScrollPosition(){const t=this._parentPositions.positions.get(this._document);return t?t.scrollPosition:this._viewportRuler.getViewportScrollPosition()}_getShadowRoot(){return void 0===this._cachedShadowRoot&&(this._cachedShadowRoot=kT(this._rootElement)),this._cachedShadowRoot}_getPreviewInsertionPoint(t,e){const i=this._previewContainer||"global";if("parent"===i)return t;if("global"===i){const s=this._document;return e||s.fullscreenElement||s.webkitFullscreenElement||s.mozFullScreenElement||s.msFullscreenElement||s.body}return An(i)}}function By(n,t){return`translate3d(${Math.round(n)}px, ${Math.round(t)}px, 0)`}function LF(n,t,e){return Math.max(t,Math.min(e,n))}function $y(n){n&&n.parentNode&&n.parentNode.removeChild(n)}function Up(n){return"t"===n.type[0]}function VF(n,t){const e=n.rootNodes;if(1===e.length&&e[0].nodeType===t.ELEMENT_NODE)return e[0];const i=t.createElement("div");return e.forEach(s=>i.appendChild(s)),i}function FF(n,t){n.style.width=`${t.width}px`,n.style.height=`${t.height}px`,n.style.transform=By(t.left,t.top)}function $T(n,t,e){const i=Gp(t,n.length-1),s=Gp(e,n.length-1);if(i===s)return;const r=n[i],o=s<i?-1:1;for(let a=i;a!==s;a+=o)n[a]=n[a+o];n[s]=r}function Gp(n,t){return Math.max(0,Math.min(t,n))}class gY{constructor(t,e,i,s,r){this._dragDropRegistry=e,this._ngZone=s,this._viewportRuler=r,this.disabled=!1,this.sortingDisabled=!1,this.autoScrollDisabled=!1,this.autoScrollStep=2,this.enterPredicate=()=>!0,this.sortPredicate=()=>!0,this.beforeStarted=new qe,this.entered=new qe,this.exited=new qe,this.dropped=new qe,this.sorted=new qe,this._isDragging=!1,this._itemPositions=[],this._previousSwap={drag:null,delta:0,overlaps:!1},this._draggables=[],this._siblings=[],this._orientation="vertical",this._activeSiblings=new Set,this._direction="ltr",this._viewportScrollSubscription=Ue.EMPTY,this._verticalScrollDirection=0,this._horizontalScrollDirection=0,this._stopScrollTimers=new qe,this._cachedShadowRoot=null,this._startScrollInterval=()=>{this._stopScrolling(),function(n=0,t=Lp){return(!wT(n)||n<0)&&(n=0),(!t||"function"!=typeof t.schedule)&&(t=Lp),new He(e=>(e.add(t.schedule(aY,n,{subscriber:e,counter:0,period:n})),e))}(0,YV).pipe(Va(this._stopScrollTimers)).subscribe(()=>{const o=this._scrollNode,a=this.autoScrollStep;1===this._verticalScrollDirection?HF(o,-a):2===this._verticalScrollDirection&&HF(o,a),1===this._horizontalScrollDirection?qF(o,-a):2===this._horizontalScrollDirection&&qF(o,a)})},this.element=An(t),this._document=i,this.withScrollableParents([this.element]),e.registerDropContainer(this),this._parentPositions=new TF(i,r)}dispose(){this._stopScrolling(),this._stopScrollTimers.complete(),this._viewportScrollSubscription.unsubscribe(),this.beforeStarted.complete(),this.entered.complete(),this.exited.complete(),this.dropped.complete(),this.sorted.complete(),this._activeSiblings.clear(),this._scrollNode=null,this._parentPositions.clear(),this._dragDropRegistry.removeDropContainer(this)}isDragging(){return this._isDragging}start(){this._draggingStarted(),this._notifyReceivingSiblings()}enter(t,e,i,s){let r;this._draggingStarted(),null==s?(r=this.sortingDisabled?this._draggables.indexOf(t):-1,-1===r&&(r=this._getItemIndexFromPointerPosition(t,e,i))):r=s;const o=this._activeDraggables,a=o.indexOf(t),u=t.getPlaceholderElement();let h=o[r];if(h===t&&(h=o[r+1]),a>-1&&o.splice(a,1),h&&!this._dragDropRegistry.isDragging(h)){const f=h.getRootElement();f.parentElement.insertBefore(u,f),o.splice(r,0,t)}else if(this._shouldEnterAsFirstChild(e,i)){const f=o[0].getRootElement();f.parentNode.insertBefore(u,f),o.unshift(t)}else An(this.element).appendChild(u),o.push(t);u.style.transform="",this._cacheItemPositions(),this._cacheParentPositions(),this._notifyReceivingSiblings(),this.entered.next({item:t,container:this,currentIndex:this.getItemIndex(t)})}exit(t){this._reset(),this.exited.next({item:t,container:this})}drop(t,e,i,s,r,o,a){this._reset(),this.dropped.next({item:t,currentIndex:e,previousIndex:i,container:this,previousContainer:s,isPointerOverContainer:r,distance:o,dropPoint:a})}withItems(t){const e=this._draggables;return this._draggables=t,t.forEach(i=>i._withDropContainer(this)),this.isDragging()&&(e.filter(s=>s.isDragging()).every(s=>-1===t.indexOf(s))?this._reset():this._cacheItems()),this}withDirection(t){return this._direction=t,this}connectedTo(t){return this._siblings=t.slice(),this}withOrientation(t){return this._orientation=t,this}withScrollableParents(t){const e=An(this.element);return this._scrollableElements=-1===t.indexOf(e)?[e,...t]:t.slice(),this}getScrollableParents(){return this._scrollableElements}getItemIndex(t){return this._isDragging?HT("horizontal"===this._orientation&&"rtl"===this._direction?this._itemPositions.slice().reverse():this._itemPositions,i=>i.drag===t):this._draggables.indexOf(t)}isReceiving(){return this._activeSiblings.size>0}_sortItem(t,e,i,s){if(this.sortingDisabled||!this._clientRect||!kF(this._clientRect,.05,e,i))return;const r=this._itemPositions,o=this._getItemIndexFromPointerPosition(t,e,i,s);if(-1===o&&r.length>0)return;const a="horizontal"===this._orientation,u=HT(r,C=>C.drag===t),h=r[o],g=h.clientRect,m=u>o?1:-1,v=this._getItemOffsetPx(r[u].clientRect,g,m),E=this._getSiblingOffsetPx(u,r,m),D=r.slice();$T(r,u,o),this.sorted.next({previousIndex:u,currentIndex:o,container:this,item:t}),r.forEach((C,L)=>{if(D[L]===C)return;const N=C.drag===t,z=N?v:E,U=N?t.getPlaceholderElement():C.drag.getRootElement();C.offset+=z,a?(U.style.transform=Fy(`translate3d(${Math.round(C.offset)}px, 0, 0)`,C.initialTransform),qp(C.clientRect,0,z)):(U.style.transform=Fy(`translate3d(0, ${Math.round(C.offset)}px, 0)`,C.initialTransform),qp(C.clientRect,z,0))}),this._previousSwap.overlaps=FT(g,e,i),this._previousSwap.drag=h.drag,this._previousSwap.delta=a?s.x:s.y}_startScrollingIfNecessary(t,e){if(this.autoScrollDisabled)return;let i,s=0,r=0;if(this._parentPositions.positions.forEach((o,a)=>{a===this._document||!o.clientRect||i||kF(o.clientRect,.05,t,e)&&([s,r]=function(n,t,e,i){const s=UF(t,i),r=GF(t,e);let o=0,a=0;if(s){const u=n.scrollTop;1===s?u>0&&(o=1):n.scrollHeight-u>n.clientHeight&&(o=2)}if(r){const u=n.scrollLeft;1===r?u>0&&(a=1):n.scrollWidth-u>n.clientWidth&&(a=2)}return[o,a]}(a,o.clientRect,t,e),(s||r)&&(i=a))}),!s&&!r){const{width:o,height:a}=this._viewportRuler.getViewportSize(),u={width:o,height:a,top:0,right:o,bottom:a,left:0};s=UF(u,e),r=GF(u,t),i=window}i&&(s!==this._verticalScrollDirection||r!==this._horizontalScrollDirection||i!==this._scrollNode)&&(this._verticalScrollDirection=s,this._horizontalScrollDirection=r,this._scrollNode=i,(s||r)&&i?this._ngZone.runOutsideAngular(this._startScrollInterval):this._stopScrolling())}_stopScrolling(){this._stopScrollTimers.next()}_draggingStarted(){const t=An(this.element).style;this.beforeStarted.next(),this._isDragging=!0,this._initialScrollSnap=t.msScrollSnapType||t.scrollSnapType||"",t.scrollSnapType=t.msScrollSnapType="none",this._cacheItems(),this._viewportScrollSubscription.unsubscribe(),this._listenToScrollEvents()}_cacheParentPositions(){const t=An(this.element);this._parentPositions.cache(this._scrollableElements),this._clientRect=this._parentPositions.positions.get(t).clientRect}_cacheItemPositions(){const t="horizontal"===this._orientation;this._itemPositions=this._activeDraggables.map(e=>{const i=e.getVisibleElement();return{drag:e,offset:0,initialTransform:i.style.transform||"",clientRect:VT(i)}}).sort((e,i)=>t?e.clientRect.left-i.clientRect.left:e.clientRect.top-i.clientRect.top)}_reset(){this._isDragging=!1;const t=An(this.element).style;t.scrollSnapType=t.msScrollSnapType=this._initialScrollSnap,this._activeDraggables.forEach(e=>{var i;const s=e.getRootElement();if(s){const r=null===(i=this._itemPositions.find(o=>o.drag===e))||void 0===i?void 0:i.initialTransform;s.style.transform=r||""}}),this._siblings.forEach(e=>e._stopReceiving(this)),this._activeDraggables=[],this._itemPositions=[],this._previousSwap.drag=null,this._previousSwap.delta=0,this._previousSwap.overlaps=!1,this._stopScrolling(),this._viewportScrollSubscription.unsubscribe(),this._parentPositions.clear()}_getSiblingOffsetPx(t,e,i){const s="horizontal"===this._orientation,r=e[t].clientRect,o=e[t+-1*i];let a=r[s?"width":"height"]*i;if(o){const u=s?"left":"top",h=s?"right":"bottom";-1===i?a-=o.clientRect[u]-r[h]:a+=r[u]-o.clientRect[h]}return a}_getItemOffsetPx(t,e,i){const s="horizontal"===this._orientation;let r=s?e.left-t.left:e.top-t.top;return-1===i&&(r+=s?e.width-t.width:e.height-t.height),r}_shouldEnterAsFirstChild(t,e){if(!this._activeDraggables.length)return!1;const i=this._itemPositions,s="horizontal"===this._orientation;if(i[0].drag!==this._activeDraggables[0]){const o=i[i.length-1].clientRect;return s?t>=o.right:e>=o.bottom}{const o=i[0].clientRect;return s?t<=o.left:e<=o.top}}_getItemIndexFromPointerPosition(t,e,i,s){const r="horizontal"===this._orientation,o=HT(this._itemPositions,({drag:a,clientRect:u},h,f)=>{if(a===t)return f.length<2;if(s){const g=r?s.x:s.y;if(a===this._previousSwap.drag&&this._previousSwap.overlaps&&g===this._previousSwap.delta)return!1}return r?e>=Math.floor(u.left)&&e<Math.floor(u.right):i>=Math.floor(u.top)&&i<Math.floor(u.bottom)});return-1!==o&&this.sortPredicate(o,t,this)?o:-1}_cacheItems(){this._activeDraggables=this._draggables.slice(),this._cacheItemPositions(),this._cacheParentPositions()}_isOverContainer(t,e){return null!=this._clientRect&&FT(this._clientRect,t,e)}_getSiblingContainerFromPosition(t,e,i){return this._siblings.find(s=>s._canReceive(t,e,i))}_canReceive(t,e,i){if(!this._clientRect||!FT(this._clientRect,e,i)||!this.enterPredicate(t,this))return!1;const s=this._getShadowRoot().elementFromPoint(e,i);if(!s)return!1;const r=An(this.element);return s===r||r.contains(s)}_startReceiving(t,e){const i=this._activeSiblings;!i.has(t)&&e.every(s=>this.enterPredicate(s,this)||this._draggables.indexOf(s)>-1)&&(i.add(t),this._cacheParentPositions(),this._listenToScrollEvents())}_stopReceiving(t){this._activeSiblings.delete(t),this._viewportScrollSubscription.unsubscribe()}_listenToScrollEvents(){this._viewportScrollSubscription=this._dragDropRegistry.scrolled(this._getShadowRoot()).subscribe(t=>{if(this.isDragging()){const e=this._parentPositions.handleScroll(t);e&&(this._itemPositions.forEach(({clientRect:i})=>{qp(i,e.top,e.left)}),this._itemPositions.forEach(({drag:i})=>{this._dragDropRegistry.isDragging(i)&&i._sortFromLastPointerPosition()}))}else this.isReceiving()&&this._cacheParentPositions()})}_getShadowRoot(){if(!this._cachedShadowRoot){const t=kT(An(this.element));this._cachedShadowRoot=t||this._document}return this._cachedShadowRoot}_notifyReceivingSiblings(){const t=this._activeDraggables.filter(e=>e.isDragging());this._siblings.forEach(e=>e._startReceiving(this,t))}}function HT(n,t){for(let e=0;e<n.length;e++)if(t(n[e],e,n))return e;return-1}function HF(n,t){n===window?n.scrollBy(0,t):n.scrollTop+=t}function qF(n,t){n===window?n.scrollBy(t,0):n.scrollLeft+=t}function UF(n,t){const{top:e,bottom:i,height:s}=n,r=.05*s;return t>=e-r&&t<=e+r?1:t>=i-r&&t<=i+r?2:0}function GF(n,t){const{left:e,right:i,width:s}=n,r=.05*s;return t>=e-r&&t<=e+r?1:t>=i-r&&t<=i+r?2:0}const Hy=Bp({passive:!1,capture:!0});let jF=(()=>{class n{constructor(e,i){this._ngZone=e,this._dropInstances=new Set,this._dragInstances=new Set,this._activeDragInstances=[],this._globalListeners=new Map,this._draggingPredicate=s=>s.isDragging(),this.pointerMove=new qe,this.pointerUp=new qe,this.scroll=new qe,this._preventDefaultWhileDragging=s=>{this._activeDragInstances.length>0&&s.preventDefault()},this._persistentTouchmoveListener=s=>{this._activeDragInstances.length>0&&(this._activeDragInstances.some(this._draggingPredicate)&&s.preventDefault(),this.pointerMove.next(s))},this._document=i}registerDropContainer(e){this._dropInstances.has(e)||this._dropInstances.add(e)}registerDragItem(e){this._dragInstances.add(e),1===this._dragInstances.size&&this._ngZone.runOutsideAngular(()=>{this._document.addEventListener("touchmove",this._persistentTouchmoveListener,Hy)})}removeDropContainer(e){this._dropInstances.delete(e)}removeDragItem(e){this._dragInstances.delete(e),this.stopDragging(e),0===this._dragInstances.size&&this._document.removeEventListener("touchmove",this._persistentTouchmoveListener,Hy)}startDragging(e,i){if(!(this._activeDragInstances.indexOf(e)>-1)&&(this._activeDragInstances.push(e),1===this._activeDragInstances.length)){const s=i.type.startsWith("touch");this._globalListeners.set(s?"touchend":"mouseup",{handler:r=>this.pointerUp.next(r),options:!0}).set("scroll",{handler:r=>this.scroll.next(r),options:!0}).set("selectstart",{handler:this._preventDefaultWhileDragging,options:Hy}),s||this._globalListeners.set("mousemove",{handler:r=>this.pointerMove.next(r),options:Hy}),this._ngZone.runOutsideAngular(()=>{this._globalListeners.forEach((r,o)=>{this._document.addEventListener(o,r.handler,r.options)})})}}stopDragging(e){const i=this._activeDragInstances.indexOf(e);i>-1&&(this._activeDragInstances.splice(i,1),0===this._activeDragInstances.length&&this._clearGlobalListeners())}isDragging(e){return this._activeDragInstances.indexOf(e)>-1}scrolled(e){const i=[this.scroll];return e&&e!==this._document&&i.push(new He(s=>this._ngZone.runOutsideAngular(()=>{const o=a=>{this._activeDragInstances.length&&s.next(a)};return e.addEventListener("scroll",o,!0),()=>{e.removeEventListener("scroll",o,!0)}}))),_r(...i)}ngOnDestroy(){this._dragInstances.forEach(e=>this.removeDragItem(e)),this._dropInstances.forEach(e=>this.removeDropContainer(e)),this._clearGlobalListeners(),this.pointerMove.complete(),this.pointerUp.complete()}_clearGlobalListeners(){this._globalListeners.forEach((e,i)=>{this._document.removeEventListener(i,e.handler,e.options)}),this._globalListeners.clear()}}return n.\u0275fac=function(e){return new(e||n)($(Ve),$(Ge))},n.\u0275prov=le({factory:function(){return new n($(Ve),$(Ge))},token:n,providedIn:"root"}),n})();const _Y={dragStartThreshold:5,pointerDirectionChangeThreshold:5};let qT=(()=>{class n{constructor(e,i,s,r){this._document=e,this._ngZone=i,this._viewportRuler=s,this._dragDropRegistry=r}createDrag(e,i=_Y){return new pY(e,i,this._document,this._ngZone,this._viewportRuler,this._dragDropRegistry)}createDropList(e){return new gY(e,this._dragDropRegistry,this._document,this._ngZone,this._viewportRuler)}}return n.\u0275fac=function(e){return new(e||n)($(Ge),$(Ve),$(xT),$(jF))},n.\u0275prov=le({factory:function(){return new n($(Ge),$(Ve),$(xT),$(jF))},token:n,providedIn:"root"}),n})();const UT=new _e("CDK_DRAG_PARENT"),GT=new _e("CdkDropListGroup"),WF=new _e("CDK_DRAG_CONFIG");let vY=0;const zF=new _e("CdkDropList");let bY=(()=>{class n{constructor(e,i,s,r,o,a,u){this.element=e,this._changeDetectorRef=s,this._scrollDispatcher=r,this._dir=o,this._group=a,this._destroyed=new qe,this.connectedTo=[],this.id="cdk-drop-list-"+vY++,this.enterPredicate=()=>!0,this.sortPredicate=()=>!0,this.dropped=new at,this.entered=new at,this.exited=new at,this.sorted=new at,this._unsortedItems=new Set,this._dropListRef=i.createDropList(e),this._dropListRef.data=this,u&&this._assignDefaults(u),this._dropListRef.enterPredicate=(h,f)=>this.enterPredicate(h.data,f.data),this._dropListRef.sortPredicate=(h,f,g)=>this.sortPredicate(h,f.data,g.data),this._setupInputSyncSubscription(this._dropListRef),this._handleEvents(this._dropListRef),n._dropLists.push(this),a&&a._items.add(this)}get disabled(){return this._disabled||!!this._group&&this._group.disabled}set disabled(e){this._dropListRef.disabled=this._disabled=Ns(e)}addItem(e){this._unsortedItems.add(e),this._dropListRef.isDragging()&&this._syncItemsWithRef()}removeItem(e){this._unsortedItems.delete(e),this._dropListRef.isDragging()&&this._syncItemsWithRef()}getSortedItems(){return Array.from(this._unsortedItems).sort((e,i)=>e._dragRef.getVisibleElement().compareDocumentPosition(i._dragRef.getVisibleElement())&Node.DOCUMENT_POSITION_FOLLOWING?-1:1)}ngOnDestroy(){const e=n._dropLists.indexOf(this);e>-1&&n._dropLists.splice(e,1),this._group&&this._group._items.delete(this),this._unsortedItems.clear(),this._dropListRef.dispose(),this._destroyed.next(),this._destroyed.complete()}_setupInputSyncSubscription(e){this._dir&&this._dir.change.pipe(Vp(this._dir.value),Va(this._destroyed)).subscribe(i=>e.withDirection(i)),e.beforeStarted.subscribe(()=>{const i=function(n){return Array.isArray(n)?n:[n]}(this.connectedTo).map(s=>"string"==typeof s?n._dropLists.find(o=>o.id===s):s);if(this._group&&this._group._items.forEach(s=>{-1===i.indexOf(s)&&i.push(s)}),!this._scrollableParentsResolved){const s=this._scrollDispatcher.getAncestorScrollContainers(this.element).map(r=>r.getElementRef().nativeElement);this._dropListRef.withScrollableParents(s),this._scrollableParentsResolved=!0}e.disabled=this.disabled,e.lockAxis=this.lockAxis,e.sortingDisabled=Ns(this.sortingDisabled),e.autoScrollDisabled=Ns(this.autoScrollDisabled),e.autoScrollStep=rc(this.autoScrollStep,2),e.connectedTo(i.filter(s=>s&&s!==this).map(s=>s._dropListRef)).withOrientation(this.orientation)})}_handleEvents(e){e.beforeStarted.subscribe(()=>{this._syncItemsWithRef(),this._changeDetectorRef.markForCheck()}),e.entered.subscribe(i=>{this.entered.emit({container:this,item:i.item.data,currentIndex:i.currentIndex})}),e.exited.subscribe(i=>{this.exited.emit({container:this,item:i.item.data}),this._changeDetectorRef.markForCheck()}),e.sorted.subscribe(i=>{this.sorted.emit({previousIndex:i.previousIndex,currentIndex:i.currentIndex,container:this,item:i.item.data})}),e.dropped.subscribe(i=>{this.dropped.emit({previousIndex:i.previousIndex,currentIndex:i.currentIndex,previousContainer:i.previousContainer.data,container:i.container.data,item:i.item.data,isPointerOverContainer:i.isPointerOverContainer,distance:i.distance,dropPoint:i.dropPoint}),this._changeDetectorRef.markForCheck()})}_assignDefaults(e){const{lockAxis:i,draggingDisabled:s,sortingDisabled:r,listAutoScrollDisabled:o,listOrientation:a}=e;this.disabled=null!=s&&s,this.sortingDisabled=null!=r&&r,this.autoScrollDisabled=null!=o&&o,this.orientation=a||"vertical",i&&(this.lockAxis=i)}_syncItemsWithRef(){this._dropListRef.withItems(this.getSortedItems().map(e=>e._dragRef))}}return n.\u0275fac=function(e){return new(e||n)(F(Pt),F(qT),F(F_),F(TT),F(Hp,8),F(GT,12),F(WF,8))},n.\u0275dir=se({type:n,selectors:[["","cdkDropList",""],["cdk-drop-list"]],hostAttrs:[1,"cdk-drop-list"],hostVars:7,hostBindings:function(e,i){2&e&&(ir("id",i.id),Ll("cdk-drop-list-disabled",i.disabled)("cdk-drop-list-dragging",i._dropListRef.isDragging())("cdk-drop-list-receiving",i._dropListRef.isReceiving()))},inputs:{connectedTo:["cdkDropListConnectedTo","connectedTo"],id:"id",enterPredicate:["cdkDropListEnterPredicate","enterPredicate"],sortPredicate:["cdkDropListSortPredicate","sortPredicate"],disabled:["cdkDropListDisabled","disabled"],sortingDisabled:["cdkDropListSortingDisabled","sortingDisabled"],autoScrollDisabled:["cdkDropListAutoScrollDisabled","autoScrollDisabled"],orientation:["cdkDropListOrientation","orientation"],lockAxis:["cdkDropListLockAxis","lockAxis"],data:["cdkDropListData","data"],autoScrollStep:["cdkDropListAutoScrollStep","autoScrollStep"]},outputs:{dropped:"cdkDropListDropped",entered:"cdkDropListEntered",exited:"cdkDropListExited",sorted:"cdkDropListSorted"},exportAs:["cdkDropList"],features:[et([{provide:GT,useValue:void 0},{provide:zF,useExisting:n}])]}),n._dropLists=[],n})();const jT=new _e("CdkDragHandle");let SY=(()=>{class n{constructor(e,i){this.element=e,this._stateChanges=new qe,this._disabled=!1,this._parentDrag=i}get disabled(){return this._disabled}set disabled(e){this._disabled=Ns(e),this._stateChanges.next(this)}ngOnDestroy(){this._stateChanges.complete()}}return n.\u0275fac=function(e){return new(e||n)(F(Pt),F(UT,12))},n.\u0275dir=se({type:n,selectors:[["","cdkDragHandle",""]],hostAttrs:[1,"cdk-drag-handle"],inputs:{disabled:["cdkDragHandleDisabled","disabled"]},features:[et([{provide:jT,useExisting:n}])]}),n})();const KF=new _e("CdkDragPlaceholder"),YF=new _e("CdkDragPreview");let wY=(()=>{class n{constructor(e,i,s,r,o,a,u,h,f,g,m){this.element=e,this.dropContainer=i,this._ngZone=r,this._viewContainerRef=o,this._dir=u,this._changeDetectorRef=f,this._selfHandle=g,this._parentDrag=m,this._destroyed=new qe,this.started=new at,this.released=new at,this.ended=new at,this.entered=new at,this.exited=new at,this.dropped=new at,this.moved=new He(v=>{const E=this._dragRef.moved.pipe(Fo(D=>({source:this,pointerPosition:D.pointerPosition,event:D.event,delta:D.delta,distance:D.distance}))).subscribe(v);return()=>{E.unsubscribe()}}),this._dragRef=h.createDrag(e,{dragStartThreshold:a&&null!=a.dragStartThreshold?a.dragStartThreshold:5,pointerDirectionChangeThreshold:a&&null!=a.pointerDirectionChangeThreshold?a.pointerDirectionChangeThreshold:5,zIndex:null==a?void 0:a.zIndex}),this._dragRef.data=this,n._dragInstances.push(this),a&&this._assignDefaults(a),i&&(this._dragRef._withDropContainer(i._dropListRef),i.addItem(this)),this._syncInputs(this._dragRef),this._handleEvents(this._dragRef)}get disabled(){return this._disabled||this.dropContainer&&this.dropContainer.disabled}set disabled(e){this._disabled=Ns(e),this._dragRef.disabled=this._disabled}getPlaceholderElement(){return this._dragRef.getPlaceholderElement()}getRootElement(){return this._dragRef.getRootElement()}reset(){this._dragRef.reset()}getFreeDragPosition(){return this._dragRef.getFreeDragPosition()}ngAfterViewInit(){this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.pipe(IT(1),Va(this._destroyed)).subscribe(()=>{this._updateRootElement(),this._setupHandlesListener(),this.freeDragPosition&&this._dragRef.setFreeDragPosition(this.freeDragPosition)})})}ngOnChanges(e){const i=e.rootElementSelector,s=e.freeDragPosition;i&&!i.firstChange&&this._updateRootElement(),s&&!s.firstChange&&this.freeDragPosition&&this._dragRef.setFreeDragPosition(this.freeDragPosition)}ngOnDestroy(){this.dropContainer&&this.dropContainer.removeItem(this);const e=n._dragInstances.indexOf(this);e>-1&&n._dragInstances.splice(e,1),this._ngZone.runOutsideAngular(()=>{this._destroyed.next(),this._destroyed.complete(),this._dragRef.dispose()})}_updateRootElement(){const e=this.element.nativeElement,i=this.rootElementSelector?QF(e,this.rootElementSelector):e;this._dragRef.withRootElement(i||e)}_getBoundaryElement(){const e=this.boundaryElement;return e?"string"==typeof e?QF(this.element.nativeElement,e):An(e):null}_syncInputs(e){e.beforeStarted.subscribe(()=>{if(!e.isDragging()){const i=this._dir,s=this.dragStartDelay,r=this._placeholderTemplate?{template:this._placeholderTemplate.templateRef,context:this._placeholderTemplate.data,viewContainer:this._viewContainerRef}:null,o=this._previewTemplate?{template:this._previewTemplate.templateRef,context:this._previewTemplate.data,matchSize:this._previewTemplate.matchSize,viewContainer:this._viewContainerRef}:null;e.disabled=this.disabled,e.lockAxis=this.lockAxis,e.dragStartDelay="object"==typeof s&&s?s:rc(s),e.constrainPosition=this.constrainPosition,e.previewClass=this.previewClass,e.withBoundaryElement(this._getBoundaryElement()).withPlaceholderTemplate(r).withPreviewTemplate(o).withPreviewContainer(this.previewContainer||"global"),i&&e.withDirection(i.value)}}),e.beforeStarted.pipe(IT(1)).subscribe(()=>{var i,s;if(this._parentDrag)return void e.withParent(this._parentDrag._dragRef);let r=this.element.nativeElement.parentElement;for(;r;){if(null===(i=r.classList)||void 0===i?void 0:i.contains("cdk-drag")){e.withParent((null===(s=n._dragInstances.find(o=>o.element.nativeElement===r))||void 0===s?void 0:s._dragRef)||null);break}r=r.parentElement}})}_handleEvents(e){e.started.subscribe(()=>{this.started.emit({source:this}),this._changeDetectorRef.markForCheck()}),e.released.subscribe(()=>{this.released.emit({source:this})}),e.ended.subscribe(i=>{this.ended.emit({source:this,distance:i.distance,dropPoint:i.dropPoint}),this._changeDetectorRef.markForCheck()}),e.entered.subscribe(i=>{this.entered.emit({container:i.container.data,item:this,currentIndex:i.currentIndex})}),e.exited.subscribe(i=>{this.exited.emit({container:i.container.data,item:this})}),e.dropped.subscribe(i=>{this.dropped.emit({previousIndex:i.previousIndex,currentIndex:i.currentIndex,previousContainer:i.previousContainer.data,container:i.container.data,isPointerOverContainer:i.isPointerOverContainer,item:this,distance:i.distance,dropPoint:i.dropPoint})})}_assignDefaults(e){const{lockAxis:i,dragStartDelay:s,constrainPosition:r,previewClass:o,boundaryElement:a,draggingDisabled:u,rootElementSelector:h,previewContainer:f}=e;this.disabled=null!=u&&u,this.dragStartDelay=s||0,i&&(this.lockAxis=i),r&&(this.constrainPosition=r),o&&(this.previewClass=o),a&&(this.boundaryElement=a),h&&(this.rootElementSelector=h),f&&(this.previewContainer=f)}_setupHandlesListener(){this._handles.changes.pipe(Vp(this._handles),function(n,t,e){return function(s){return s.lift(new cY(n,undefined,undefined))}}(e=>{const i=e.filter(s=>s._parentDrag===this).map(s=>s.element);this._selfHandle&&this.rootElementSelector&&i.push(this.element),this._dragRef.withHandles(i)}),DT(e=>_r(...e.map(i=>i._stateChanges.pipe(Vp(i))))),Va(this._destroyed)).subscribe(e=>{const i=this._dragRef,s=e.element.nativeElement;e.disabled?i.disableHandle(s):i.enableHandle(s)})}}return n.\u0275fac=function(e){return new(e||n)(F(Pt),F(zF,12),F(Ge),F(Ve),F(Ds),F(WF,8),F(Hp,8),F(qT),F(F_),F(jT,10),F(UT,12))},n.\u0275dir=se({type:n,selectors:[["","cdkDrag",""]],contentQueries:function(e,i,s){if(1&e&&(W_(s,YF,5),W_(s,KF,5),W_(s,jT,5)),2&e){let r;Ul(r=Gl())&&(i._previewTemplate=r.first),Ul(r=Gl())&&(i._placeholderTemplate=r.first),Ul(r=Gl())&&(i._handles=r)}},hostAttrs:[1,"cdk-drag"],hostVars:4,hostBindings:function(e,i){2&e&&Ll("cdk-drag-disabled",i.disabled)("cdk-drag-dragging",i._dragRef.isDragging())},inputs:{disabled:["cdkDragDisabled","disabled"],dragStartDelay:["cdkDragStartDelay","dragStartDelay"],lockAxis:["cdkDragLockAxis","lockAxis"],constrainPosition:["cdkDragConstrainPosition","constrainPosition"],previewClass:["cdkDragPreviewClass","previewClass"],boundaryElement:["cdkDragBoundary","boundaryElement"],rootElementSelector:["cdkDragRootElement","rootElementSelector"],previewContainer:["cdkDragPreviewContainer","previewContainer"],data:["cdkDragData","data"],freeDragPosition:["cdkDragFreeDragPosition","freeDragPosition"]},outputs:{started:"cdkDragStarted",released:"cdkDragReleased",ended:"cdkDragEnded",entered:"cdkDragEntered",exited:"cdkDragExited",dropped:"cdkDragDropped",moved:"cdkDragMoved"},exportAs:["cdkDrag"],features:[et([{provide:UT,useExisting:n}]),yt]}),n._dragInstances=[],n})();function QF(n,t){let e=n.parentElement;for(;e;){if(e.matches?e.matches(t):e.msMatchesSelector(t))return e;e=e.parentElement}return null}let CY=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=nn({type:n}),n.\u0275inj=jt({providers:[qT],imports:[MT]}),n})();class Fi{constructor(t,e,i,s){this.logService=t,this.toyService=e,this.parent=i,this.level=s}}class DY extends Fi{constructor(){super(...arguments),this.name="Balloon",this.tier=1}onBreak(t,e){let i=this.parent.furthestUpPet,s=this.level;i.increaseAttack(s),i.increaseHealth(s),this.logService.createLog({message:`${this.name} gave ${i.name} ${s} attack and ${s} health.`,type:"ability",player:this.parent,puma:e})}}class AY extends Fi{constructor(){super(...arguments),this.name="Tennis Ball",this.tier=1}startOfBattle(t,e){let i=Tt(t,this.parent),s=i.getRandomPet(null,null,!0);this.toyService.snipePet(s,this.level,this.parent,this.name,!0,e),s=i.getRandomPet(null,null,!0),this.toyService.snipePet(s,this.level,this.parent,this.name,!0,e)}}class PY extends Fi{constructor(){super(...arguments),this.name="Radio",this.tier=2}onBreak(t,e){let i=this.parent.petArray;for(let s of i)!s.alive||(s.increaseHealth(this.level),this.logService.createLog({message:`${this.name} gave ${s.name} ${this.level} health.`,type:"ability",player:this.parent,puma:e}))}}class kY extends Fi{constructor(){super(...arguments),this.name="Garlic Press",this.tier=2}startOfBattle(t,e){for(let i=0;i<this.level;i++)for(let s of this.parent.petArray)if(!((null==s?void 0:s.equipment)instanceof wp)){s.givePetEquipment(new wp),this.logService.createLog({message:`${this.name} gave ${s.name} Garlic.`,type:"ability",player:this.parent,puma:e});break}}}class TY extends Fi{constructor(){super(...arguments),this.name="Toilet Paper",this.tier=3}startOfBattle(t,e){let s=Tt(t,this.parent).petArray.slice(0,this.level);for(let r of s)r.givePetEquipment(new ih),this.logService.createLog({message:`${this.name} gave ${r.name} Weak.`,type:"ability",player:this.parent,puma:e})}}class xY extends Fi{constructor(){super(...arguments),this.name="Oven Mitts",this.tier=3}onBreak(t){}}class MY extends Fi{constructor(){super(...arguments),this.name="Melon Helmet",this.tier=4}onBreak(t,e){let i=this.parent.petArray.filter(s=>s.alive).slice(0,this.level);for(let s of i)s.givePetEquipment(new ka),this.logService.createLog({message:`${this.name} gave ${s.name} Melon.`,type:"ability",player:this.parent,puma:e})}}class IY extends Fi{constructor(){super(...arguments),this.name="Foam Sword",this.tier=4}startOfBattle(t,e){let i=Tt(t,this.parent);for(let s=0;s<this.level;s++){let r=i.getLowestHealthPet();this.toyService.snipePet(r.pet,6,this.parent,this.name,r.random,e)}}}class OY extends Fi{constructor(){super(...arguments),this.name="Toy Gun",this.tier=4}startOfBattle(t,e){let i=Tt(t,this.parent);for(let s=0;s<this.level;s++){let r=i.getLastPet();this.toyService.snipePet(r,6,this.parent,this.name,!1,e)}}}class NY extends Fi{constructor(){super(...arguments),this.name="Flashlight",this.tier=5}onBreak(t,e){let i=6*this.level,s=this.parent.furthestUpPet;s.increaseAttack(i),s.increaseHealth(i),this.logService.createLog({message:`${this.name} gave ${s.name} ${i} attack and ${i} health.`,type:"ability",player:this.parent,puma:e})}}class RY extends Fi{constructor(){super(...arguments),this.name="Strinky Sock",this.tier=5}startOfBattle(t,e){let i=Tt(t,this.parent);for(let s=0;s<this.level;s++){let r=i.getHighestHealthPet(),o=r.pet,a=.4,u=Math.max(1,Math.floor(o.health*(1-a)));o.health=u,this.logService.createLog({message:`${this.name} reduced ${o.name} health by ${100*a}% (${u})`,type:"ability",player:this.parent,puma:e,randomEvent:r.random})}}}class LY extends Fi{constructor(){super(...arguments),this.name="Television",this.tier=6}onBreak(t,e){let i=2*this.level;for(let s of this.parent.petArray)!s.alive||(s.increaseAttack(i),s.increaseHealth(i),this.logService.createLog({message:`${this.name} gave ${s.name} ${i} attack and ${i} health.`,type:"ability",player:this.parent,puma:e}))}}class VY extends Fi{constructor(){super(...arguments),this.name="Peanut Jar",this.tier=6}startOfBattle(t,e){for(let i=0;i<this.level;i++)for(let s of this.parent.petArray)if(!((null==s?void 0:s.equipment)instanceof Ql)){s.givePetEquipment(new Ql),this.logService.createLog({message:`${this.name} gave ${s.name} Peanut.`,type:"ability",player:this.parent,puma:e});break}}}class FY extends Fi{constructor(){super(...arguments),this.name="Air Palm Tree",this.tier=6}startOfBattle(t,e){for(let i=0;i<this.level;i++)for(let s of this.parent.petArray)if(!((null==s?void 0:s.equipment)instanceof Ta)){s.givePetEquipment(new Ta),this.logService.createLog({message:`${this.name} gave ${s.name} Coconut.`,type:"ability",player:this.parent,puma:e});break}}}let BY=(()=>{class n{constructor(e,i,s){this.logService=e,this.abilityService=i,this.gameService=s,this.toys=new Map,this.startOfBattleEvents=[],this.setToys()}setToys(){this.toys.set(1,["Ballon","Tennis Ball"]),this.toys.set(2,["Radio","Garlic Press"]),this.toys.set(3,["Toilet Paper","Oven Mitts"]),this.toys.set(4,["Melon Helmet","Foam Sword","Toy Gun"]),this.toys.set(5,["Flashlight","Stinky Sock"]),this.toys.set(6,["Television","Peanut Jar","Air Palm Tree"])}createToy(e,i,s=1){switch(e){case"Ballon":return new DY(this.logService,this,i,s);case"Tennis Ball":return new AY(this.logService,this,i,s);case"Radio":return new PY(this.logService,this,i,s);case"Garlic Press":return new kY(this.logService,this,i,s);case"Toilet Paper":return new TY(this.logService,this,i,s);case"Oven Mitts":return new xY(this.logService,this,i,s);case"Melon Helmet":return new MY(this.logService,this,i,s);case"Foam Sword":return new IY(this.logService,this,i,s);case"Toy Gun":return new OY(this.logService,this,i,s);case"Flashlight":return new NY(this.logService,this,i,s);case"Stinky Sock":return new RY(this.logService,this,i,s);case"Television":return new LY(this.logService,this,i,s);case"Peanut Jar":return new VY(this.logService,this,i,s);case"Air Palm Tree":return new FY(this.logService,this,i,s)}}snipePet(e,i,s,r,o=!1,a=!1){let u=this.calculateDamgae(e,i),h=u.defenseEquipment,f=u.damage;e.health-=f;let g=`${r} sniped ${e.name} for ${f}.`;null!=h&&(e.useDefenseEquipment(),g+=` (${h.name} -${h.power})`),a&&(g+=" (Puma)"),this.logService.createLog({message:g,type:"attack",randomEvent:o,player:s}),null!=e.hurt&&this.abilityService.setHurtEvent({callback:e.hurt.bind(e),priority:e.attack,player:e.parent})}calculateDamgae(e,i){var s,r,o;let a="defense"==(null===(s=e.equipment)||void 0===s?void 0:s.equipmentClass)||"shield"==(null===(r=e.equipment)||void 0===r?void 0:r.equipmentClass)?e.equipment:null,u=null!==(o=null==a?void 0:a.power)&&void 0!==o?o:0;return{defenseEquipment:a,damage:Math.max("shield"==(null==a?void 0:a.equipmentClass)?0:1,i-u)}}setStartOfBattleEvent(e){this.startOfBattleEvents.push(e)}resetStartOfBattleEvents(){this.startOfBattleEvents=[]}executeStartOfBattleEvents(){this.startOfBattleEvents=(0,Me.shuffle)(this.startOfBattleEvents),this.startOfBattleEvents.sort((e,i)=>e.priority>i.priority?-1:e.priority<i.priority?1:0);for(let e of this.startOfBattleEvents)e.callback(this.gameService.gameApi);this.resetStartOfBattleEvents()}}return n.\u0275fac=function(e){return new(e||n)($(ly),$(cy),$(sh))},n.\u0275prov=le({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),$Y=(()=>{class n{constructor(e){this.gameService=e,this.toyPetEvents=[],this.nonToyPetEvents=[]}initStartOfBattleEvents(){this.gameApi=this.gameService.gameApi;for(let e of this.gameApi.player.petArray)if(null!=e.startOfBattle){let i=this.toyPetEvents;e.toyPet||(i=this.nonToyPetEvents),i.push({callback:e.startOfBattle.bind(e),priority:e.attack,player:this.gameApi.player})}for(let e of this.gameApi.opponet.petArray)if(null!=e.startOfBattle){let i=this.toyPetEvents;e.toyPet||(i=this.nonToyPetEvents),i.push({callback:e.startOfBattle.bind(e),priority:e.attack,player:this.gameApi.opponet})}}resetToyPetEvents(){this.toyPetEvents=[]}resetNonToyPetEvents(){this.nonToyPetEvents=[]}executeToyPetEvents(){this.toyPetEvents=(0,Me.shuffle)(this.toyPetEvents),this.toyPetEvents.sort((e,i)=>e.priority>i.priority?-1:e.priority<i.priority?1:0);for(let e of this.toyPetEvents)e.callback(this.gameApi);this.resetToyPetEvents()}executeNonToyPetEvents(){this.nonToyPetEvents=(0,Me.shuffle)(this.nonToyPetEvents),this.nonToyPetEvents.sort((e,i)=>e.priority>i.priority?-1:e.priority<i.priority?1:0);for(let e of this.nonToyPetEvents)e.callback(this.gameApi);this.resetNonToyPetEvents()}}return n.\u0275fac=function(e){return new(e||n)($(sh))},n.\u0275prov=le({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),ZF=(()=>{class n{constructor(){this.key="sapData"}getStorage(){let e=window.localStorage.getItem(this.key);return console.log(JSON.parse(e)),window.localStorage.getItem(this.key)}setFormStorage(e){let i=e.value;for(let s of i.playerPets)null!=s.equipment&&(s.equipment={name:s.equipment.name});for(let s of i.opponentPets)null!=s.equipment&&(s.equipment={name:s.equipment.name});this.setStorage(i)}setStorage(e){console.log("setting storage",e),"object"==typeof e&&(e=JSON.stringify(e)),window.localStorage.setItem(this.key,e)}clearStorage(){window.localStorage.removeItem(this.key)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=le({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),HY=(()=>{class n{constructor(){}ngOnInit(){}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=Ws({type:n,selectors:[["app-patch-notes"]],decls:143,vars:0,template:function(e,i){1&e&&(y(0,"h2"),I(1,"v0.5.1"),b(),y(2,"ul"),y(3,"li"),I(4,"Added remaining custom pack pets."),b(),y(5,"ul"),y(6,"li"),I(7,"Frilled Dragon, Wombat, Aardvark, Bear, Emperor Tamerain, Procupine, Wasp Dragonfly, Lynx, Seagull, Alpaca, Hyena, Moose, Lioness, Tapir, Walrus, White Tiger"),b(),b(),y(8,"li"),I(9,"Added remaining custom pack food."),b(),y(10,"ul"),y(11,"li"),I(12,"Blueberry, Donut"),b(),b(),y(13,"li"),I(14,"Fixed bug with blobfish showing as tier 3. (Thanks Freetz)"),b(),y(15,"li"),I(16,"Fixed bug with eggplant triggering multiple times when running the simulation multiple times. (Thanks Freetz)"),b(),y(17,"li"),I(18,"Fixed bug with mosquito able to target the same pet."),b(),b(),y(19,"h2"),I(20,"v0.5.0"),b(),y(21,"ul"),y(22,"li"),I(23,"Added custom packs!"),b(),y(24,"li"),I(25,"Added Jerboa"),b(),y(26,"li"),I(27,"Added Fortune Cookie"),b(),b(),y(28,"h2"),I(29,"v0.4.16"),b(),y(30,"ul"),y(31,"li"),I(32,"Updated to SAP Version 0.30.6-138 BETA"),b(),y(33,"ul"),y(34,"li"),I(35," Updated stats/abilities of these pets: Whale, Frog, Iguana, Marmoset, Mouse, Koala, Panda, Shrimp, Tabby Cat, Camel, Eel, Giraffe, Musk Ox, Owl, Ox, Starfish, Anteater, Chameleon, Egyptian Vulture, Manta Ray, Platypus, Cockatoo, Crane, Monkey, Shark, Piranha, Sabertooth Tiger. "),b(),y(36,"li"),I(37," Added Durian. "),b(),b(),b(),y(38,"h2"),I(39,"v0.4.15"),b(),y(40,"ul"),y(41,"li"),I(42,"Fixed bug with Eggplant triggering too many times. (Thanks Freetz)"),b(),b(),y(43,"h2"),I(44,"v0.4.14"),b(),y(45,"ul"),y(46,"li"),I(47,"Fixed rounding error with Skunk ability/Stinky Sock."),b(),y(48,"li"),I(49,"Fixed faint pets ability being the level of the whale when swallowed. (Thanks kutarba)"),b(),b(),y(50,"h2"),I(51,"v0.4.13"),b(),y(52,"ul"),y(53,"li"),I(54,"Fixed Pteradon"),b(),b(),y(55,"h2"),I(56,"v0.4.12"),b(),y(57,"ul"),y(58,"li"),I(59,"Updated to SAP Version 0.29.6-135 BETA"),b(),y(60,"ul"),y(61,"li"),I(62,"Updated stats/abilities of these pets: Ladybug, Atlantic Puffin, Guinea Pig, Hedgehog, Jellyfish, Pug, Salamander, Toucan, Blobfish, Clownfish, Flea, Flying Fish, Mole, Chameleon, Eel, Hippo, Poison Dart Frog, Whale, Fire Ant, Fox, Turkey, Lionfish, Pteradon, Tyrannosaurus. "),b(),b(),b(),y(63,"h2"),I(64,"v0.4.11"),b(),y(65,"ul"),y(66,"li"),I(67,"Fixed bug with Tiger not triggering Leopard when there are few enemies. (Thanks /u/MHolmesSC)"),b(),y(68,"li"),I(69,"Fixed bug with Ant over buffing units on faint. (Thanks /u/MHolmesSC)"),b(),y(70,"li"),I(71,"Fixed bug with Spider behaving odd. (Thanks /u/-RARO-)"),b(),I(72,"ng\n"),b(),y(73,"h2"),I(74,"v0.4.10"),b(),y(75,"ul"),y(76,"li"),I(77,"Fixed bug with Fly not spawning Zombie Fly from Start of Battle abilities fainting pets. (Thanks /u/Danielmac757)"),b(),b(),y(78,"h2"),I(79,"v0.4.9"),b(),y(80,"ul"),y(81,"li"),I(82,"Info/Guide modal."),b(),b(),y(83,"h2"),I(84,"v0.4.8"),b(),y(85,"ul"),y(86,"li"),I(87,"Fixed a bug with Fly attempting to spawn Zombie Fly when there is no room."),b(),b(),y(88,"h2"),I(89,"v0.4.7"),b(),y(90,"ul"),y(91,"li"),I(92,"Updated to SAP Version 0.28.20-130 BETA"),b(),y(93,"ul"),y(94,"li"),I(95,"Changed pets so they all move forward after start of battle abilities."),b(),b(),b(),y(96,"h2"),I(97,"v0.4.6"),b(),y(98,"ul"),y(99,"li"),I(100,"Fixed a bug with mushroom breaking the simulation by breaking the cache process. (Thanks BeastiaVenator)"),b(),y(101,"li"),I(102,"Fixed a bug with loading equipment from the browser cache."),b(),b(),y(103,"h2"),I(104,"v0.4.5"),b(),y(105,"ul"),y(106,"li"),I(107,"Drag and Drop!"),b(),b(),y(108,"h2"),I(109,"v0.4.4"),b(),y(110,"ul"),y(111,"li"),I(112,"Fixed a handful of Tiger bugs causing infinite loops."),b(),y(113,"li"),I(114,"Fixed a bug with typing select options."),b(),b(),y(115,"h2"),I(116,"v0.4.3"),b(),y(117,"ul"),y(118,"li"),I(119,"Duplicate pet option hotfix."),b(),b(),y(120,"h2"),I(121,"v0.4.2"),b(),y(122,"ul"),y(123,"li"),I(124,"Calculator state saves on 'Simulate'."),b(),y(125,"ul"),y(126,"li"),I(127,"This is stored in the browser cache. You can clear the cache by clicking on the link on the bottom of this modal."),b(),b(),y(128,"li"),I(129,"Fixed bugs with Angler mode toggling."),b(),y(130,"li"),I(131,"Zoom In/Out feature."),b(),y(132,"li"),I(133,"Fixed bug with Fly triggering twice instead of three times. (Thanks nob)"),b(),y(134,"li"),I(135,"Fixed bug with some snipe pets having no targets breaking simulation."),b(),b(),y(136,"h2"),I(137,"v0.4.1"),b(),y(138,"ul"),y(139,"li"),I(140,"Fixed a bug where Shark would gain attack/health on its own death. (Thanks mumf)"),b(),y(141,"li"),I(142,"Fixed a bug where attack bonus food would affect snipes. (Thanks Tangl)"),b(),b())},styles:[""]}),n})();function qY(n,t){1&n&&(y(0,"div",11),I(1," That name is not allowed. "),b())}function UY(n,t){if(1&n&&(y(0,"div",12),Ae(1,"input",13),y(2,"label",14),I(3),b(),b()),2&n){const e=t.$implicit;G(1),Q("id",e)("formControlName",e),G(1),Q("for",e),G(1),Vn(" ",e," ")}}function GY(n,t){if(1&n&&(y(0,"div",12),Ae(1,"input",13),y(2,"label",14),I(3),b(),b()),2&n){const e=t.$implicit;G(1),Q("id",e)("formControlName",e),G(1),Q("for",e),G(1),Vn(" ",e," ")}}function jY(n,t){if(1&n&&(y(0,"div",12),Ae(1,"input",13),y(2,"label",14),I(3),b(),b()),2&n){const e=t.$implicit;G(1),Q("id",e)("formControlName",e),G(1),Q("for",e),G(1),Vn(" ",e," ")}}function WY(n,t){if(1&n&&(y(0,"div",12),Ae(1,"input",13),y(2,"label",14),I(3),b(),b()),2&n){const e=t.$implicit;G(1),Q("id",e)("formControlName",e),G(1),Q("for",e),G(1),Vn(" ",e," ")}}function zY(n,t){if(1&n&&(y(0,"div",12),Ae(1,"input",13),y(2,"label",14),I(3),b(),b()),2&n){const e=t.$implicit;G(1),Q("id",e)("formControlName",e),G(1),Q("for",e),G(1),Vn(" ",e," ")}}function KY(n,t){if(1&n&&(y(0,"div",12),Ae(1,"input",13),y(2,"label",14),I(3),b(),b()),2&n){const e=t.$implicit;G(1),Q("id",e)("formControlName",e),G(1),Q("for",e),G(1),Vn(" ",e," ")}}function YY(n,t){1&n&&(y(0,"div",11),I(1," Name is required. "),b())}let QY=(()=>{class n{constructor(e){this.equipmentService=e,this.submitEvent=new at,this.cancelEvent=new at,this.loaded=!1}ngOnInit(){this.initCheckboxFormGroup(),this.formGroup.updateValueAndValidity()}initCheckboxFormGroup(){let e=new bi({}),i=new bi({}),s=new bi({}),r=new bi({}),o=new bi({}),a=new bi({});for(let u of this.getPets(1)){let h=new we(this.formGroup.get("tier1Pets").value.includes(u));h.valueChanges.subscribe(f=>{this.processCheckboxChange(1,u,f)}),e.addControl(u,h)}for(let u of this.getPets(2)){let h=new we(this.formGroup.get("tier2Pets").value.includes(u));h.valueChanges.subscribe(f=>{this.processCheckboxChange(2,u,f)}),i.addControl(u,h)}for(let u of this.getPets(3)){let h=new we(this.formGroup.get("tier3Pets").value.includes(u));h.valueChanges.subscribe(f=>{this.processCheckboxChange(3,u,f)}),s.addControl(u,h)}for(let u of this.getPets(4)){let h=new we(this.formGroup.get("tier4Pets").value.includes(u));h.valueChanges.subscribe(f=>{this.processCheckboxChange(4,u,f)}),r.addControl(u,h)}for(let u of this.getPets(5)){let h=new we(this.formGroup.get("tier5Pets").value.includes(u));h.valueChanges.subscribe(f=>{this.processCheckboxChange(5,u,f)}),o.addControl(u,h)}for(let u of this.getPets(6)){let h=new we(this.formGroup.get("tier6Pets").value.includes(u));h.valueChanges.subscribe(f=>{this.processCheckboxChange(6,u,f)}),a.addControl(u,h)}this.checkboxFormGroup=new bi({tier1Pets:e,tier2Pets:i,tier3Pets:s,tier4Pets:r,tier5Pets:o,tier6Pets:a})}getCheckboxFormGroup(e){return this.checkboxFormGroup.get(`tier${e}Pets`)}getPets(e){let i=[];for(let[s,r]of this.petPackMap.get(e))i.push(...r);return i=[...new Set(i)],i}getCount(e){return this.formGroup.get(`tier${e}Pets`).value.length}processCheckboxChange(e,i,s){let r=this.formGroup.get(`tier${e}Pets`).value;s?r.push(i):(0,Me.remove)(r,o=>o===i),this.formGroup.get(`tier${e}Pets`).updateValueAndValidity()}submit(){this.submitEvent.emit(this.formGroup)}cancel(){confirm("Are you sure you want to cancel?")&&this.cancelEvent.emit(this.formGroup)}submitDisabled(){return this.formGroup.get("name").invalid}}return n.\u0275fac=function(e){return new(e||n)(F(Rk))},n.\u0275cmp=Ws({type:n,selectors:[["app-custom-pack-form"]],inputs:{formGroup:"formGroup",petPackMap:"petPackMap"},outputs:{submitEvent:"submitEvent",cancelEvent:"cancelEvent"},decls:66,vars:34,consts:[[3,"formGroup"],[1,"row","mb-4"],[1,"col-12"],["for","name",1,"form-label"],["id","name","formControlName","name",1,"form-control"],["class","invalid",4,"ngIf"],[1,"row","mb-4",3,"formGroup"],[1,"row"],[1,"col-12","editor-grid"],["class","form-check",4,"ngFor","ngForOf"],[1,"btn","btn-primary",3,"disabled","click"],[1,"invalid"],[1,"form-check"],["type","checkbox","value","",1,"form-check-input",3,"id","formControlName"],[1,"form-check-label",3,"for"]],template:function(e,i){1&e&&(y(0,"form",0),y(1,"div",1),y(2,"div",2),y(3,"label",3),I(4,"Pack Name"),b(),Ae(5,"input",4),Xe(6,qY,2,0,"div",5),b(),b(),y(7,"div",6),y(8,"div",2),y(9,"h3"),I(10,"Tier 1 Pets "),y(11,"span"),I(12),b(),b(),y(13,"div",7),y(14,"div",8),Xe(15,UY,4,4,"div",9),b(),b(),b(),b(),y(16,"div",6),y(17,"div",2),y(18,"h3"),I(19,"Tier 2 Pets "),y(20,"span"),I(21),b(),b(),y(22,"div",7),y(23,"div",8),Xe(24,GY,4,4,"div",9),b(),b(),b(),b(),y(25,"div",6),y(26,"div",2),y(27,"h3"),I(28,"Tier 3 Pets "),y(29,"span"),I(30),b(),b(),y(31,"div",7),y(32,"div",8),Xe(33,jY,4,4,"div",9),b(),b(),b(),b(),y(34,"div",6),y(35,"div",2),y(36,"h3"),I(37,"Tier 4 Pets "),y(38,"span"),I(39),b(),b(),y(40,"div",7),y(41,"div",8),Xe(42,WY,4,4,"div",9),b(),b(),b(),b(),y(43,"div",6),y(44,"div",2),y(45,"h3"),I(46,"Tier 5 Pets "),y(47,"span"),I(48),b(),b(),y(49,"div",7),y(50,"div",8),Xe(51,zY,4,4,"div",9),b(),b(),b(),b(),y(52,"div",6),y(53,"div",2),y(54,"h3"),I(55,"Tier 6 Pets "),y(56,"span"),I(57),b(),b(),y(58,"div",7),y(59,"div",8),Xe(60,KY,4,4,"div",9),b(),b(),b(),b(),y(61,"div",7),y(62,"div",2),y(63,"button",10),rt("click",function(){return i.submit()}),I(64,"Submit Pack"),b(),Xe(65,YY,2,0,"div",5),b(),b(),b()),2&e&&(Q("formGroup",i.formGroup),G(6),Q("ngIf",null==i.formGroup.get("name").errors?null:i.formGroup.get("name").errors.forbiddenName),G(1),Q("formGroup",i.getCheckboxFormGroup(1)),G(4),ws(10==i.getCount(1)?"valid":"invalid"),G(1),Vn("",i.getCount(1),"/10"),G(3),Q("ngForOf",i.getPets(1)),G(1),Q("formGroup",i.getCheckboxFormGroup(2)),G(4),ws(10==i.getCount(2)?"valid":"invalid"),G(1),Vn("",i.getCount(2),"/10"),G(3),Q("ngForOf",i.getPets(2)),G(1),Q("formGroup",i.getCheckboxFormGroup(3)),G(4),ws(10==i.getCount(3)?"valid":"invalid"),G(1),Vn("",i.getCount(3),"/10"),G(3),Q("ngForOf",i.getPets(3)),G(1),Q("formGroup",i.getCheckboxFormGroup(4)),G(4),ws(10==i.getCount(4)?"valid":"invalid"),G(1),Vn("",i.getCount(4),"/10"),G(3),Q("ngForOf",i.getPets(4)),G(1),Q("formGroup",i.getCheckboxFormGroup(5)),G(4),ws(10==i.getCount(5)?"valid":"invalid"),G(1),Vn("",i.getCount(5),"/10"),G(3),Q("ngForOf",i.getPets(5)),G(1),Q("formGroup",i.getCheckboxFormGroup(6)),G(4),ws(10==i.getCount(6)?"valid":"invalid"),G(1),Vn("",i.getCount(6),"/10"),G(3),Q("ngForOf",i.getPets(6)),G(3),Q("disabled",i.submitDisabled()),G(2),Q("ngIf",i.submitDisabled()))},directives:[OR,fp,Yl,Zu,Av,yp,cp,lp,Cv],styles:[".editor-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(6,1fr);grid-gap:1rem}.invalid[_ngcontent-%COMP%]{color:red}.valid[_ngcontent-%COMP%]{color:#0ab40a}"]}),n})();function ZY(n,t){if(1&n){const e=ya();y(0,"div",2),y(1,"div",3),y(2,"app-custom-pack-form",4),rt("submitEvent",function(s){return us(e),fn().submitEvent(s)})("cancelEvent",function(s){return us(e),fn().cancelEvent(s)}),b(),b(),b()}if(2&n){const e=fn();G(2),Q("formGroup",e.makeFormGroup(e.focusedGroup))("petPackMap",e.petPackMap)}}function JY(n,t){1&n&&(y(0,"span",12),I(1,"Valid"),b())}function XY(n,t){1&n&&(y(0,"span",13),I(1,"Invalid"),b())}function eQ(n,t){if(1&n){const e=ya();y(0,"tr"),y(1,"td",8),I(2),b(),y(3,"td",8),Xe(4,JY,2,0,"span",9),Xe(5,XY,2,0,"span",10),b(),y(6,"td"),y(7,"button",7),rt("click",function(){const r=us(e).$implicit;return fn(2).editPack(r)}),I(8,"Edit"),b(),b(),y(9,"td"),y(10,"button",11),rt("click",function(){const r=us(e).$implicit;return fn(2).deletePack(r)}),I(11,"Delete"),b(),b(),b()}if(2&n){const e=t.$implicit;G(2),Ri(e.get("name").value),G(2),Q("ngIf",e.valid),G(1),Q("ngIf",!e.valid)}}function tQ(n,t){if(1&n){const e=ya();y(0,"div"),y(1,"div",5),y(2,"div",3),y(3,"h3"),I(4,"Custom Packs"),b(),y(5,"table"),Xe(6,eQ,12,3,"tr",6),b(),b(),b(),y(7,"div",2),y(8,"div",3),y(9,"button",7),rt("click",function(){return us(e),fn().createNewPack()}),I(10,"Create New Pack"),b(),b(),b(),b()}if(2&n){const e=fn();G(6),Q("ngForOf",e.customPacks.controls)}}let nQ=(()=>{class n{constructor(e,i){this.petService=e,this.localStorageService=i,this.focusedGroup=null,this.buildPetPackMap()}ngOnInit(){this.customPacks=this.formGroup.get("customPacks")}buildPetPackMap(){this.petPackMap=new Map;for(let e=1;e<=6;e++){let i=new Map;i.set("Turtle",[]),i.set("Puppy",[]),i.set("Star",[]),i.set("Golden",[]),i.set("Custom",[]),this.petPackMap.set(e,i)}for(let[e,i]of this.petService.turtlePackPets)this.petPackMap.get(e).get("Turtle").push(...i);for(let[e,i]of this.petService.puppyPackPets)this.petPackMap.get(e).get("Puppy").push(...i);for(let[e,i]of this.petService.starPackPets)this.petPackMap.get(e).get("Star").push(...i);for(let[e,i]of this.petService.goldenPackPets)this.petPackMap.get(e).get("Golden").push(...i);for(let[e,i]of this.petService.customPackPets)this.petPackMap.get(e).get("Custom").push(...i);console.log(this.petPackMap)}createNewPack(){let e=this.createPack();this.focusedGroup=e}createPack(){return new bi({name:new we(null,[tR.required,this.forbiddenNameValidator()]),tier1Pets:new we([],this.controlArrayLengthOf10()),tier2Pets:new we([],this.controlArrayLengthOf10()),tier3Pets:new we([],this.controlArrayLengthOf10()),tier4Pets:new we([],this.controlArrayLengthOf10()),tier5Pets:new we([],this.controlArrayLengthOf10()),tier6Pets:new we([],this.controlArrayLengthOf10())})}makeFormGroup(e){return e}controlArrayLengthOf10(){return e=>10!==e.value.length?{length:!0}:null}submitEvent(e){this.customPacks.controls.includes(e)||this.customPacks.push(e),this.focusedGroup=null,this.localStorageService.setStorage(this.formGroup.value)}cancelEvent(e){this.focusedGroup=null}editPack(e){this.focusedGroup=e}deletePack(e){confirm("Are you sure you want to delete this pack?")&&((0,Me.remove)(this.customPacks.controls,i=>i===e),this.localStorageService.setStorage(this.formGroup.value))}forbiddenNameValidator(){return e=>{var i,s;let r=["custom"];for(let o of this.customPacks.controls)e!=o.get("name")&&r.push(null===(i=o.get("name").value)||void 0===i?void 0:i.toLowerCase());return console.log(r,e.value),r.includes(null===(s=e.value)||void 0===s?void 0:s.toLowerCase())?{forbiddenName:!0}:null}}}return n.\u0275fac=function(e){return new(e||n)(F(uy),F(ZF))},n.\u0275cmp=Ws({type:n,selectors:[["app-custom-pack-editor"]],inputs:{formGroup:"formGroup"},decls:2,vars:2,consts:[["class","row",4,"ngIf"],[4,"ngIf"],[1,"row"],[1,"col-12"],[3,"formGroup","petPackMap","submitEvent","cancelEvent"],[1,"row","mb-4"],[4,"ngFor","ngForOf"],[1,"btn","btn-primary",3,"click"],[1,"text"],["class","valid",4,"ngIf"],["class","invalid",4,"ngIf"],[1,"btn","btn-danger",3,"click"],[1,"valid"],[1,"invalid"]],template:function(e,i){1&e&&(Xe(0,ZY,3,2,"div",0),Xe(1,tQ,11,1,"div",1)),2&e&&(Q("ngIf",null!=i.focusedGroup),G(1),Q("ngIf",null==i.focusedGroup))},directives:[cp,QY,fp,Yl,lp],styles:[".valid[_ngcontent-%COMP%]{color:#4caf50}.invalid[_ngcontent-%COMP%]{color:#f44336}.text[_ngcontent-%COMP%]{font-size:1.5em}td[_ngcontent-%COMP%]{padding:.25em .5em}"]}),n})(),iQ=(()=>{class n{constructor(){}ngOnInit(){}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=Ws({type:n,selectors:[["app-info"]],decls:64,vars:0,consts:[["src","./assets/info/pack.PNG","alt","pack"],["src","./assets/info/turn.PNG","alt","turn"],["src","./assets/info/toy.PNG","alt","toy"],["src","./assets/info/angler.PNG","alt","angler"],["src","./assets/info/zoom.PNG","alt","zoom"],["src","./assets/info/board.PNG","alt","board"],["src","./assets/info/pet.png","alt","pet"],["src","/assets/info/simulate.PNG","alt","simulate"],["src","/assets/info/outcome.PNG","alt","outcome"],["src","/assets/info/battles.PNG","alt","battles"],["src","/assets/info/logs.PNG","alt","logs"]],template:function(e,i){1&e&&(y(0,"p"),I(1," The SAP Calculator is an analysis tool that allows you to easily calculate the approximate odds of your team beating another team. The SAP Calculator simulates the defined battle 1000 times and determines the percentage of wins, draws and loses.\n"),b(),y(2,"p"),y(3,"b"),I(4,"Disclaimer: The SAP Calculator is not an official tool of the game and is not affiliated with the game's developers. The SAP Calculator is a fan-made tool, and is not intended to replace the official game."),b(),b(),y(5,"p"),I(6," The SAP Calculator engine is based on the official game engine, but it may not be 100% accurate. It is pretty darn close though, and should be completely accurate for nearly every possible battle.\n"),b(),y(7,"h1"),I(8,"Guide"),b(),Ae(9,"img",0),y(10,"p"),I(11," Select the pack that the player and opponent are using. This determines the pets that are available to each player.\n"),b(),Ae(12,"img",1),y(13,"ul"),y(14,"li"),I(15,"Turn: The turn the battle takes place. This will affect pets such as the Stork, Eagle, and Stegosaurus."),b(),y(16,"li"),I(17,"PGS - Player Gold Spent. Player gold spent the previous round. This will affect the Meerkat."),b(),y(18,"li"),I(19,"OGS - Opponent Gold Spent. Same as above but for the Opponent player."),b(),b(),Ae(20,"img",2),y(21,"p"),I(22," Toy configuration.\n"),b(),Ae(23,"img",3),y(24,"ul"),y(25,"li"),I(26,"Angler Mode: The opposite player's pets are available to be selected for each player."),b(),b(),y(27,"p"),I(28,"(More modes coming soon)"),b(),Ae(29,"img",4),y(30,"p"),I(31,"Adjust the zoom level of the application."),b(),Ae(32,"img",5),y(33,"p"),I(34," This is the board. The left side is the Player pets and the right side is the Opponent Pets. Each white box contains a pet and its' stats/equipment. The layout of the pets are identical to as they would be in battle. The right most Player pet is clashing with the left most Opponent pet.\n"),b(),Ae(35,"img",6),y(36,"p"),I(37," This is a pet.\n"),b(),y(38,"ul"),y(39,"li"),I(40,"A: This select box is where you may choose the pet that will occupy this space."),b(),y(41,"li"),I(42,"B: This select box is where you may choose the pet's equipment."),b(),y(43,"li"),I(44,"C: These fields are where you may input the pet's stats. The gray field is attack and the red field is health."),b(),y(45,"li"),I(46,"D: This component determines the amount of exp the pet has. A pet may have 0-5 exp denoted by the number of boxes highlighted. The numbers (1, 2, 3) on top of the exp bar signify the level of the pet. 0-1 exp is level 1, 2-4 exp is level 2, and 5 exp is level 3. The x on the left will clear the exp bar leaving the pet at level 1 with 0 exp. "),b(),y(47,"li"),I(48,"E: This is a drag and drop tool. Use this to reorder your pets."),b(),b(),Ae(49,"img",7),y(50,"ul"),y(51,"li"),I(52,"Simulate: Run the simulation."),b(),y(53,"li"),I(54,"Randomize: Randomize the Player's and Opponents's pets and equipment."),b(),b(),Ae(55,"img",8),y(56,"p"),I(57," This is the outcome summary. It shows the number of wins, draws, and loses for the last simulation ran.\n"),b(),Ae(58,"img",9),y(59,"p"),I(60," This is the Battles table. It is a table of all the battles that were simulated. You may filter the table by the outcome of the battle.\n"),b(),Ae(61,"img",10),y(62,"p"),I(63," These are the logs of the last selected simulated battle. Logs that are highlighted green are logs from a pet on the Player's team and logs that are highlighted red are logs from a pet on the Opponent's team. Logs that are highlighted purple are random events. Note: Not everything is logged.\n"),b())},styles:["img[_ngcontent-%COMP%]{margin-bottom:.5em;max-width:100%;border:1px solid #bfbfbf}"]}),n})();const sQ=["customPackEditor"];function rQ(n,t){if(1&n&&(y(0,"option",101),I(1),b()),2&n){const e=t.$implicit;Q("value",e.get("name").value),G(1),Ri(e.get("name").value)}}function oQ(n,t){if(1&n&&(y(0,"option",101),I(1),b()),2&n){const e=t.$implicit;Q("value",e.get("name").value),G(1),Ri(e.get("name").value)}}function aQ(n,t){if(1&n&&(y(0,"option",34),I(1),b()),2&n){const e=t.$implicit;Q("ngValue",e),G(1),Ri(e)}}function lQ(n,t){if(1&n&&(y(0,"optgroup",102),Xe(1,aQ,2,2,"option",103),b()),2&n){const e=t.$implicit;Q("label","Tier "+e.key),G(1),Q("ngForOf",e.value)}}function cQ(n,t){if(1&n&&(y(0,"option",34),I(1),b()),2&n){const e=t.$implicit;Q("ngValue",e),G(1),Ri(e)}}function uQ(n,t){if(1&n&&(y(0,"optgroup",102),Xe(1,cQ,2,2,"option",103),b()),2&n){const e=t.$implicit;Q("label","Tier "+e.key),G(1),Q("ngForOf",e.value)}}function hQ(n,t){if(1&n&&(y(0,"div",104),y(1,"div",105),od(),y(2,"svg",106),Ae(3,"path",107),Ae(4,"path",108),b(),b(),ad(),Ae(5,"app-pet-selector",109),b()),2&n){const e=t.$implicit,i=t.index,s=fn();G(5),Q("pet",s.player["pet"+(4-i)])("player",s.player)("opponent",s.opponent)("index",4-i)("formGroup",s.makeFormGroup(e))("angler",s.formGroup.get("angler").value)("allPets",s.formGroup.get("allPets").value)("customPacks",s.formGroup.get("customPacks"))}}function dQ(n,t){if(1&n&&(y(0,"div",104),y(1,"div",105),od(),y(2,"svg",106),Ae(3,"path",107),Ae(4,"path",108),b(),b(),ad(),Ae(5,"app-pet-selector",109),b()),2&n){const e=t.$implicit,i=t.index,s=fn();G(5),Q("pet",s.opponent["pet"+i])("player",s.opponent)("opponent",s.player)("index",i)("formGroup",s.makeFormGroup(e))("angler",s.formGroup.get("angler").value)("allPets",s.formGroup.get("allPets").value)("customPacks",s.formGroup.get("customPacks"))}}function fQ(n,t){if(1&n){const e=ya();y(0,"button",110),rt("click",function(){return us(e),fn().nextTurn()}),I(1,"Next Turn"),b()}}function pQ(n,t){if(1&n&&(y(0,"div",56),y(1,"div",111),y(2,"label"),I(3,"Player Wins:"),b(),y(4,"span"),I(5),b(),y(6,"label"),I(7,"Opponent Wins:"),b(),y(8,"span"),I(9),b(),y(10,"label"),I(11,"Draws:"),b(),y(12,"span"),I(13),b(),b(),y(14,"div",112),y(15,"span",113),Ae(16,"span",114),Ae(17,"span",115),b(),b(),b()),2&n){const e=fn();G(5),Lf("",e.playerWinner," - ",e.winPercent,"%"),G(4),Lf("",e.opponentWinner," - ",e.losePercent,"%"),G(4),Lf("",e.draw," - ",e.drawPercent,"%"),G(3),Nf("width",e.getDrawWidth()),G(1),Nf("width",e.getLoseWidth())}}function gQ(n,t){if(1&n){const e=ya();y(0,"tr",116),rt("click",function(){const r=us(e).$implicit;return fn().setViewBattle(r)}),y(1,"td"),I(2),b(),y(3,"td"),I(4),b(),y(5,"td",117),I(6),b(),b()}if(2&n){const e=t.$implicit,i=t.index,s=fn();G(2),Ri(i),G(2),Ri(e.winner),G(2),Ri(s.getRandomEvents(e))}}const mQ=function(n,t){return[n,t]};function _Q(n,t){if(1&n&&(y(0,"div",63),y(1,"span",118),I(2),b(),b()),2&n){const e=t.$implicit,i=fn();G(1),Q("ngClass",lO(2,mQ,i.getPlayerClass(e),e.randomEvent?"random-event":"")),G(1),Ri(e.message)}}let vQ=(()=>{class n{constructor(e,i,s,r,o,a,u,h){this.logService=e,this.abilityService=i,this.gameService=s,this.equipmentService=r,this.petService=o,this.toyService=a,this.startOfBattleService=u,this.localStorageService=h,this.version="0.5.1",this.sapVersion="0.29.6-135 BETA",this.title="sap-calculator",this.maxTurns=50,this.turns=0,this.battleStarted=!1,this.simulationBattleAmt=1e3,this.playerWinner=0,this.opponentWinner=0,this.draw=0,this.battles=[],this.simulated=!1,this.previousPackPlayer=null,this.previousPackOpponent=null,this.player=new KR(e,i,s),this.opponent=new KR(e,i,s),this.gameService.init(this.player,this.opponent),this.petService.init(),this.initFormGroup(),this.loadLocalStorage(),this.petService.buildCustomPackPets(this.formGroup.get("customPacks")),this.setFontSize(),this.initPlayerPets(),this.updatePlayerPack(this.player,this.formGroup.get("playerPack").value,!1),this.updatePlayerPack(this.opponent,this.formGroup.get("opponentPack").value,!1),this.previousPackOpponent=this.opponent.pack,this.previousPackPlayer=this.player.pack}printFormGroup(){console.log(this.formGroup)}ngOnInit(){this.toys=this.toyService.toys}ngAfterViewInit(){this.initModals()}loadLocalStorage(){if(this.localStorageService.getStorage())try{let i=JSON.parse(this.localStorageService.getStorage()),s=i.customPacks;i.customPacks=[],this.formGroup.setValue(i,{emitEvent:!1}),this.loadCustomPacks(s)}catch(i){console.log("error loading local storage",i),this.localStorageService.clearStorage()}}loadCustomPacks(e){let i=new _p([]);for(let s of e){let r=p6(s);i.push(r)}this.formGroup.setControl("customPacks",i)}initPlayerPets(){for(let e=0;e<5;e++){let i=this.formGroup.get("playerPets").controls[e];if(null==i.get("name").value)continue;let s=this.petService.createPet(i.value,this.player);this.player.setPet(e,s,!0)}for(let e=0;e<5;e++){let i=this.formGroup.get("opponentPets").controls[e];if(null==i.get("name").value)continue;let s=this.petService.createPet(i.value,this.opponent);this.opponent.setPet(e,s,!0)}}randomizePlayerPets(e){for(let i=0;i<5;i++)e.setPet(i,this.petService.getRandomPet(e),!0)}makeFormGroup(e){return e}initFormGroup(){var e,i,s,r,o,a;this.updatePreviousShopTier(11),this.updateGoldSpent(10,10),this.formGroup=new bi({playerPack:new we(this.player.pack),opponentPack:new we(this.opponent.pack),playerToy:new we(null===(e=this.player.toy)||void 0===e?void 0:e.name),playerToyLevel:new we(null!==(s=null===(i=this.player.toy)||void 0===i?void 0:i.level)&&void 0!==s?s:1),opponentToy:new we(null===(r=this.opponent.toy)||void 0===r?void 0:r.name),opponentToyLevel:new we(null!==(a=null===(o=this.opponent.toy)||void 0===o?void 0:o.level)&&void 0!==a?a:1),turn:new we(11),playerGoldSpent:new we(10),opponentGoldSpent:new we(10),angler:new we(!1),allPets:new we(!1),logFilter:new we(null),playerPets:new _p([]),opponentPets:new _p([]),fontSize:new we(13),customPacks:new _p([])}),this.initPetForms(),this.formGroup.get("playerPack").valueChanges.subscribe(g=>{"Add Custom Pack"!=g?(this.previousPackPlayer=g,this.updatePlayerPack(this.player,g)):this.openCustomPackEditor()}),this.formGroup.get("opponentPack").valueChanges.subscribe(g=>{"Add Custom Pack"!=g?(this.previousPackOpponent=g,this.updatePlayerPack(this.opponent,g)):this.openCustomPackEditor()}),this.formGroup.get("playerToy").valueChanges.subscribe(g=>{this.updatePlayerToy(this.player,g)}),this.formGroup.get("opponentToy").valueChanges.subscribe(g=>{this.updatePlayerToy(this.opponent,g)}),this.formGroup.get("playerToyLevel").valueChanges.subscribe(g=>{this.updateToyLevel(this.player,g)}),this.formGroup.get("opponentToyLevel").valueChanges.subscribe(g=>{this.updateToyLevel(this.opponent,g)}),this.formGroup.get("turn").valueChanges.subscribe(g=>{this.updatePreviousShopTier(g)}),this.formGroup.get("playerGoldSpent").valueChanges.subscribe(g=>{this.updateGoldSpent(g,null)}),this.formGroup.get("opponentGoldSpent").valueChanges.subscribe(g=>{this.updateGoldSpent(null,g)}),this.formGroup.get("angler").valueChanges.subscribe(g=>{setTimeout(()=>{this.updateSelectorPets()})})}initPetForms(){let e=[0,1,2,3,4],i=e.map(a=>{var u,h,f,g,m,v,E,D,C;return new bi({name:new we(null===(u=this.player[`pet${a}`])||void 0===u?void 0:u.name),attack:new we(null!==(f=null===(h=this.player[`pet${a}`])||void 0===h?void 0:h.attack)&&void 0!==f?f:0),health:new we(null!==(m=null===(g=this.player[`pet${a}`])||void 0===g?void 0:g.health)&&void 0!==m?m:0),exp:new we(null!==(E=null===(v=this.player[`pet${a}`])||void 0===v?void 0:v.exp)&&void 0!==E?E:0),equipment:new we(null===(D=this.player[`pet${a}`])||void 0===D?void 0:D.equipment),belugaSwallowedPet:new we(null===(C=this.player[`pet${a}`])||void 0===C?void 0:C.belugaSwallowedPet)})}),s=this.formGroup.get("playerPets");s.clear();for(let a of i)s.push(a);let r=e.map(a=>{var u,h,f,g,m,v,E,D,C;return new bi({name:new we(null===(u=this.opponent[`pet${a}`])||void 0===u?void 0:u.name),attack:new we(null!==(f=null===(h=this.opponent[`pet${a}`])||void 0===h?void 0:h.attack)&&void 0!==f?f:0),health:new we(null!==(m=null===(g=this.opponent[`pet${a}`])||void 0===g?void 0:g.health)&&void 0!==m?m:0),exp:new we(null!==(E=null===(v=this.opponent[`pet${a}`])||void 0===v?void 0:v.exp)&&void 0!==E?E:0),equipment:new we(null===(D=this.opponent[`pet${a}`])||void 0===D?void 0:D.equipment),belugaSwallowedPet:new we(null===(C=this.opponent[`pet${a}`])||void 0===C?void 0:C.belugaSwallowedPet)})}),o=this.formGroup.get("opponentPets");o.clear();for(let a of r)o.push(a)}getPlayerPetsFormArray(){return Array.from(this.formGroup.get("playerPets").controls).reverse()}getOpponentPetsFormArray(){return Array.from(this.formGroup.get("opponentPets").controls)}updatePlayerPack(e,i,s=!0){let r;switch(e.pack=i,i){case"Turtle":r=this.petService.turtlePackPets;break;case"Puppy":r=this.petService.puppyPackPets;break;case"Star":r=this.petService.starPackPets;break;case"Golden":r=this.petService.goldenPackPets;break;default:r=this.petService.playerCustomPackPets.get(i)}e==this.player?this.gameService.setTierGroupPets(r,null):this.gameService.setTierGroupPets(null,r),s&&this.randomize(e)}updateSelectorPets(){this.petSelectors.forEach(e=>{e.initPets()})}updatePlayerToy(e,i){let s;e==this.player&&(s="playerToyLevel"),e==this.opponent&&(s="opponentToyLevel");let r=this.formGroup.get(s).value;e.toy=this.toyService.createToy(i,e,r),e.originalToy=e.toy}updatePreviousShopTier(e){let i=1;e>2&&(i=2),e>4&&(i=3),e>6&&(i=4),e>8&&(i=5),e>10&&(i=6),this.gameService.setPreviousShopTier(i),this.gameService.setTurnNumber(e)}updateGoldSpent(e,i){this.gameService.setGoldSpent(e,i)}updateToyLevel(e,i){e.toy&&(e.toy.level=i)}abilityCycle(){this.abilityService.executeHurtEvents(),this.executeFrequentEvents(),this.checkPetsAlive(),this.abilityService.executeFriendHurtEvents(),this.executeFrequentEvents(),this.checkPetsAlive(),this.abilityService.executeEnemyHurtEvents(),this.executeFrequentEvents(),this.checkPetsAlive(),this.abilityService.executeFaintEvents(),this.executeFrequentEvents(),this.checkPetsAlive(),this.abilityService.executeKnockOutEvents(),this.executeFrequentEvents(),this.checkPetsAlive(),this.abilityService.executeFriendAheadFaintsEvents(),this.executeFrequentEvents(),this.checkPetsAlive(),this.abilityService.executeFriendFaintsEvents(),this.executeFrequentEvents(),this.checkPetsAlive(),this.removeDeadPets(),this.abilityService.executeSpawnEvents(),this.abilityService.executeSummonedEvents(),this.abilityService.executeEnemySummonedEvents(),this.executeFrequentEvents(),this.checkPetsAlive()}executeFrequentEvents(){this.abilityService.executeFriendGainedPerkEvents(),this.abilityService.executeFriendGainedAilmentEvents(),this.abilityService.executeFriendlyToyBrokeEvents()}checkPetsAlive(){this.player.checkPetsAlive(),this.opponent.checkPetsAlive()}initToys(){var e,i;(null===(e=this.player.toy)||void 0===e?void 0:e.startOfBattle)&&this.toyService.setStartOfBattleEvent({callback:()=>{this.player.toy.startOfBattle(this.gameService.gameApi);let s=this.player.toy.level;for(let r of this.player.petArray)r instanceof eh&&(this.player.toy.level=r.level,this.player.toy.startOfBattle(this.gameService.gameApi,!0),this.player.toy.level=s)},priority:this.player.toy.tier}),(null===(i=this.opponent.toy)||void 0===i?void 0:i.startOfBattle)&&this.toyService.setStartOfBattleEvent({callback:()=>{this.opponent.toy.startOfBattle(this.gameService.gameApi);let s=this.opponent.toy.level;for(let r of this.opponent.petArray)r instanceof eh&&(this.opponent.toy.level=r.level,this.opponent.toy.startOfBattle(this.gameService.gameApi,!0),this.opponent.toy.level=s)},priority:this.opponent.toy.tier})}simulate(){this.localStorageService.setFormStorage(this.formGroup),this.resetSimulation(),this.setAbilityEquipments(this.player),this.setAbilityEquipments(this.opponent);for(let e=0;e<this.simulationBattleAmt;e++){for(this.initBattle(),this.startBattle(),this.initToys(),this.abilityService.initEndTurnEvents(this.player),this.abilityService.initEndTurnEvents(this.opponent),this.player.onionCheck(),this.opponent.onionCheck(),this.executeBeforeStartOfBattleEquipment(this.player),this.executeBeforeStartOfBattleEquipment(this.opponent),this.startOfBattleService.initStartOfBattleEvents(),this.startOfBattleService.executeToyPetEvents(),this.executeFrequentEvents(),this.toyService.executeStartOfBattleEvents(),this.executeFrequentEvents(),this.startOfBattleService.executeNonToyPetEvents(),this.executeFrequentEvents(),this.abilityService.executeSummonedEvents(),this.abilityService.executeEnemySummonedEvents(),this.abilityService.triggerTransformEvents(this.player),this.abilityService.triggerTransformEvents(this.opponent),this.abilityService.executeTransformEvents(),this.checkPetsAlive(),this.abilityService.hasAbilityCycleEvents||this.removeDeadPets();this.abilityService.hasAbilityCycleEvents;)this.abilityCycle();for(this.pushPetsForwards(),this.printState();this.battleStarted;)this.nextTurn();this.reset()}this.simulated=!0}removeDeadPets(){this.player.removeDeadPets(),this.opponent.removeDeadPets(),null==this.player.pet0&&this.abilityService.triggerEmptyFrontSpaceEvents(this.player),null==this.player.pet1&&this.abilityService.triggerEmptyFrontSpaceEvents(this.opponent),this.abilityService.executeEmptyFrontSpaceEvents()}startBattle(){this.reset(),this.battleStarted=!0,this.turns=0}resetSimulation(){this.playerWinner=0,this.opponentWinner=0,this.viewBattle=null,this.draw=0,this.battles=[],this.currBattle=null}initBattle(){this.logService.reset(),this.currBattle={winner:"draw",logs:this.logs},this.battles.push(this.currBattle)}reset(){this.player.resetPets(),this.opponent.resetPets()}nextTurn(){let e=!1,i=null;if(this.turns++,this.turns>=this.maxTurns&&(e=!0),!this.player.alive()&&this.opponent.alive()&&(i=this.opponent,this.currBattle.winner="opponent",this.opponentWinner++,e=!0),!this.opponent.alive()&&this.player.alive()&&(i=this.player,this.currBattle.winner="player",this.playerWinner++,e=!0),!this.opponent.alive()&&!this.player.alive()&&(this.draw++,e=!0),e)return this.endLog(i),void(this.battleStarted=!1);for(this.pushPetsForwards(),this.doBeforeAttackEquipment();this.abilityService.hasAbilityCycleEvents;)this.abilityCycle();if(this.checkPetsAlive(),this.removeDeadPets(),!this.player.alive()||!this.opponent.alive())return;this.pushPetsForwards();let s=this.chocolateCakePresent();for(s.cake?this.doChocolateCakeEvents(s):this.fight(),this.abilityCycle();this.abilityService.hasAbilityCycleEvents;)this.abilityCycle();this.player.checkGoldenSpawn(),this.opponent.checkGoldenSpawn(),this.printState()}chocolateCakePresent(){var e,i;let s={player:!1,opponent:!1,cake:!1};return s.player=(null===(e=this.player.pet0)||void 0===e?void 0:e.equipment)instanceof ay,s.opponent=(null===(i=this.opponent.pet0)||void 0===i?void 0:i.equipment)instanceof ay,s.cake=s.player||s.opponent,s}doChocolateCakeEvents(e){let i=[];e.player&&i.push(this.player.pet0),e.opponent&&i.push(this.opponent.pet0),i=(0,Me.shuffle)(i),i.sort((s,r)=>s.attack<r.attack?1:r.attack<s.attack?-1:0);for(let s of i)s.equipment.callback(s)}setAbilityEquipments(e){for(let i of e.petArray)i.equipment instanceof Dk&&(i.equipment.callback(i),i.eggplantTouched=!0),i.equipment instanceof Ak&&i.equipment.callback(i)}executeBeforeStartOfBattleEquipment(e){for(let i of e.petArray){let s=1,r="";if(i instanceof Dn&&(s=i.level+1,r=` x${s} (Panther)`),i.equipment instanceof wk&&(i.increaseAttack(4*s),i.increaseHealth(4*s),this.logService.createLog({message:`${i.name} gained ${4*s} attack and ${4*s} health (Pie)${r}`,type:"equipment",player:e})),i.equipment instanceof Ck)for(let o of e.petArray)i!=o&&(i.increaseAttack(2*s),i.increaseHealth(2*s),this.logService.createLog({message:`${o.name} gained ${2*s} attack and ${2*s} health (Pancake)${r}`,type:"equipment",player:e}))}}pushPetsForwards(){1==this.turns&&this.player.pet0&&this.opponent.pet0||(this.player.pushPetsForward(),this.opponent.pushPetsForward(),this.player.onionCheck(),this.opponent.onionCheck())}doBeforeAttackEquipment(){let e=this.player.pet0,i=this.opponent.pet0,s=e.equipment,r=i.equipment;"snipe"==(null==s?void 0:s.equipmentClass)&&this.abilityService.setEqiupmentBeforeAttackEvent({callback:()=>{s.attackCallback(e,i)},priority:e.attack,player:this.player}),"snipe"==(null==r?void 0:r.equipmentClass)&&this.abilityService.setEqiupmentBeforeAttackEvent({callback:()=>{r.attackCallback(i,e)},priority:i.attack,player:this.opponent}),this.abilityService.executeEqiupmentBeforeAttackEvents(),this.player.checkPetsAlive(),this.opponent.checkPetsAlive()}fight(){let e=this.player.pet0,i=this.opponent.pet0;e.beforeAttack&&this.abilityService.setBeforeAttackEvent({callback:e.beforeAttack.bind(e),priority:e.attack,player:this.player}),i.beforeAttack&&this.abilityService.setBeforeAttackEvent({callback:i.beforeAttack.bind(i),priority:i.attack,player:this.opponent}),this.abilityService.executeBeforeAttackEvents(),e.attackPet(i),i.attackPet(e),e.useAttackDefenseEquipment(),i.useAttackDefenseEquipment(),this.player.checkPetsAlive(),this.opponent.checkPetsAlive(),this.abilityService.executeAfterAttackEvents(),this.abilityService.executeFriendAheadAttacksEvents(),this.abilityService.executeFriendAttacksEvents()}endLog(e){let i;i=null==e?"Draw":e==this.player?"Player is the winner":"Opponent is the winner",this.logService.createLog({message:i,type:"board"})}get logs(){return this.logService.getLogs()}printState(){let e="";e+=this.getPetText(this.player.pet4),e+=this.getPetText(this.player.pet3),e+=this.getPetText(this.player.pet2),e+=this.getPetText(this.player.pet1),e+=this.getPetText(this.player.pet0);let i="";i+=this.getPetText(this.opponent.pet0),i+=this.getPetText(this.opponent.pet1),i+=this.getPetText(this.opponent.pet2),i+=this.getPetText(this.opponent.pet3),i+=this.getPetText(this.opponent.pet4),this.logService.createLog({message:`${e}| ${i}`,type:"board"})}getPetText(e){return null==e?"___ (-/-) ":`${e.name.substring(0,3)} (${e.attack}/${e.health}) `}setViewBattle(e){this.viewBattle=e}getViewBattleLogs(){var e,i;return null!==(i=null===(e=this.viewBattle)||void 0===e?void 0:e.logs)&&void 0!==i?i:[]}getDrawWidth(){return`${this.losePercent+this.drawPercent}%`}getLoseWidth(){return`${this.losePercent}%`}getPlayerClass(e){return null==e.player?"log":e.player==this.player?"log-player":"log-opponent"}getRandomEvents(e){let i="",s=e.logs.filter(r=>1==r.randomEvent);for(let r of s)i+=r.message,r!=s[s.length-1]&&(i+="\n");return i}randomize(e){console.log("randomize",e),e?this.randomizePlayerPets(e):(this.randomizePlayerPets(this.player),this.randomizePlayerPets(this.opponent)),this.formGroup&&this.initPetForms(),setTimeout(()=>{this.petSelectors.forEach(i=>{i.initSelector()})})}zoomIn(){this.formGroup.get("fontSize").setValue(Math.min(this.formGroup.get("fontSize").value+1,20)),this.setFontSize()}zoomOut(){this.formGroup.get("fontSize").setValue(Math.max(this.formGroup.get("fontSize").value-1,8)),this.setFontSize()}setFontSize(){document.documentElement.style.fontSize=`${this.formGroup.get("fontSize").value}px`}clearCache(){this.localStorageService.clearStorage(),alert("Cache cleared. Refresh page to see changes.")}initModals(){this.customPackEditorModal=new nc(this.customPackEditor.nativeElement),this.customPackEditor.nativeElement.addEventListener("hidden.bs.modal",e=>{})}openCustomPackEditor(){this.customPackEditorModal.show(),this.formGroup.get("playerPack").setValue(this.previousPackPlayer,{emitEvent:!1}),this.formGroup.get("opponentPack").setValue(this.previousPackOpponent,{emitEvent:!1})}drop(e,i){let s=e.previousIndex,r=e.currentIndex,o=this.opponent;"player"==i&&(s=4-s,r=4-r,o=this.player),$T(this.formGroup.get(`${i}Pets`).controls,s,r);let a=o.petArray;$T(a,s,r),o.setPet(0,a[0],!0),o.setPet(1,a[1],!0),o.setPet(2,a[2],!0),o.setPet(3,a[3],!0),o.setPet(4,a[4],!0)}get filteredBattles(){return this.battles.filter(e=>{let i=this.formGroup.get("logFilter").value;return null==i||e.winner==i})}get winPercent(){return rD(this.playerWinner/this.simulationBattleAmt*100)}get drawPercent(){return rD(this.draw/this.simulationBattleAmt*100)}get losePercent(){return rD(this.opponentWinner/this.simulationBattleAmt*100)}get validCustomPacks(){let e=this.formGroup.get("customPacks"),i=[];for(let s of e.controls)s.valid&&i.push(s);return i}}return n.\u0275fac=function(e){return new(e||n)(F(ly),F(cy),F(sh),F(Rk),F(uy),F(BY),F($Y),F(ZF))},n.\u0275cmp=Ws({type:n,selectors:[["app-root"]],viewQuery:function(e,i){if(1&e&&(j_(sQ,5),j_(dL,5)),2&e){let s;Ul(s=Gl())&&(i.customPackEditor=s.first),Ul(s=Gl())&&(i.petSelectors=s)}},decls:213,vars:21,consts:[[1,"container-fluid","app-wrapper","flex-col",3,"formGroup"],["container",""],[1,"row","mt-2"],[1,"col-12","header"],[1,"d-flex","align-items-end"],[3,"click"],["data-bs-toggle","modal","data-bs-target","#info",1,"btn-link","info-link"],[1,"d-flex","flex-column","align-items-end"],["data-bs-toggle","modal","data-bs-target","#patchNotes",1,"btn-link"],[1,"row","battle-controller","border"],[1,"col-12","d-flex","justify-content-between","py-2"],[1,"d-flex"],[1,"form-group","min-w-input","me-3"],["for","playerPack"],["id","playerPack","formControlName","playerPack",1,"form-control"],["value","Turtle"],["value","Puppy"],["value","Star"],["value","Golden"],["label","Custom Packs"],[3,"value",4,"ngFor","ngForOf"],["value","Add Custom Pack"],[1,"form-group","min-w-input","pe-3","border-end"],["id","opponentPack","formControlName","opponentPack",1,"form-control"],[1,"border-end","d-flex","pe-3"],[1,"form-group","small-w-input","ms-3"],["for","turn"],["id","turn","type","number","formControlName","turn","max","99",1,"form-control"],["for","playerGoldSpent","title","Player Gold Spent"],["id","turn","type","number","formControlName","playerGoldSpent","max","99",1,"form-control"],["for","opponentGoldSpent","title","Opponent Gold Spent"],["id","turn","type","number","formControlName","opponentGoldSpent","max","99",1,"form-control"],[1,"form-group","min-w-input","mx-3"],["id","playerToy","formControlName","playerToy",1,"form-control"],[3,"ngValue"],[3,"label",4,"ngFor","ngForOf"],[1,"form-group","me-3"],["for","playerToyLevel"],["id","playerToyLevel","formControlName","playerToyLevel",1,"form-control"],["id","opponentToy","formControlName","opponentToy",1,"form-control"],[1,"form-group","pe-3","border-end"],["for","opponentToyLevel"],["id","opponentToyLevel","formControlName","opponentToyLevel",1,"form-control"],[1,"flex-column"],["title","Opponent's pack pets are included in the pet pool.",1,"form-check","ms-3"],["type","checkbox","value","","id","angler","formControlName","angler",1,"form-check-input"],["for","angler",1,"form-check-label"],["title","All pets are included in the pet pool.",1,"form-check","ms-3"],["type","checkbox","value","","id","allPets","formControlName","allPets",1,"form-check-input"],["for","allPets",1,"form-check-label"],[1,"flex-col","zoom-container"],["for","zoom"],[1,"btn","btn-secondary","me-2",3,"click"],[1,"btn","btn-secondary",3,"click"],[1,"row","battle-row","pb-5","pt-3"],[1,"col-6","px-4"],[1,"row"],[1,"col-12","d-flex","align-items-center"],[1,"me-4"],[1,"card","p-2","player-card"],["cdkDropList","","cdkDropListOrientation","horizontal",1,"row",3,"cdkDropListDropped"],["class","col drag-container","cdkDrag","",4,"ngFor","ngForOf"],[1,"row","button-bar","py-3","border"],[1,"col-12"],[1,"btn","btn-primary","me-2",3,"click"],["class","btn btn-primary",3,"click",4,"ngIf"],["class","row",4,"ngIf"],[1,"row","flex-1","bottom-container"],[1,"col-6","border","h-100","flex-col"],["for","logFilter",1,"form-label"],[1,"form-check","form-check-inline"],["formControlName","logFilter","type","radio","name","logFilter","id","inlineRadio1",1,"form-check-input",3,"value"],["for","inlineRadio1",1,"form-check-label"],["formControlName","logFilter","type","radio","name","logFilter","id","inlineRadio2","value","player",1,"form-check-input"],["for","inlineRadio2",1,"form-check-label"],["formControlName","logFilter","type","radio","name","logFilter","id","inlineRadio3","value","opponent",1,"form-check-input"],["for","inlineRadio3",1,"form-check-label"],["formControlName","logFilter","type","radio","name","logFilter","id","inlineRadio4","value","draw",1,"form-check-input"],["for","inlineRadio4",1,"form-check-label"],[1,"battle-container","flex-1","scroll"],[1,"table"],[1,"battle-no"],["class","table-battle-row",3,"click",4,"ngFor","ngForOf"],[1,"row","log-container","flex-1","scroll"],["class","col-12",4,"ngFor","ngForOf"],["id","patchNotes","tabindex","-1","aria-labelledby","patchNotesLabel","aria-hidden","true",1,"modal","fade"],[1,"modal-dialog"],[1,"modal-content"],[1,"modal-header"],["id","patchNotesLabel",1,"modal-title","fs-5"],["type","button","data-bs-dismiss","modal","aria-label","Close",1,"btn-close"],[1,"modal-body"],[1,"modal-footer"],[1,"btn-link",3,"click"],["id","customPackEditor","tabindex","-1","aria-labelledby","customPackEditorLabel","aria-hidden","true",1,"modal","fade"],["customPackEditor",""],[1,"modal-dialog","modal-lg"],["id","customPackEditorLabel",1,"modal-title","fs-5"],[3,"formGroup"],["id","info","tabindex","-1","aria-labelledby","exampleModalLabel","aria-hidden","true",1,"modal","fade"],["id","exampleModalLabel",1,"modal-title","fs-5"],[3,"value"],[3,"label"],[3,"ngValue",4,"ngFor","ngForOf"],["cdkDrag","",1,"col","drag-container"],["cdkDragHandle","",1,"drag-handle"],["fill","currentColor","viewBox","0 0 24 24"],["d","M10 9h4V6h3l-5-5-5 5h3v3zm-1 1H6V7l-5 5 5 5v-3h3v-4zm14 2l-5-5v3h-3v4h3v3l5-5zm-9 3h-4v3H7l5 5 5-5h-3v-3z"],["d","M0 0h24v24H0z","fill","none"],[3,"pet","player","opponent","index","formGroup","angler","allPets","customPacks"],[1,"btn","btn-primary",3,"click"],[1,"col-12","stats"],[1,"col-12","py-2"],[1,"results-bar"],[1,"draw-bar"],[1,"lose-bar"],[1,"table-battle-row",3,"click"],[1,"pre"],[3,"ngClass"]],template:function(e,i){1&e&&(y(0,"div",0,1),y(2,"div",2),y(3,"div",3),y(4,"div",4),y(5,"h1",5),rt("click",function(){return i.printFormGroup()}),I(6,"SAP Calculator"),b(),y(7,"span",6),I(8,"Info/Guide"),b(),b(),y(9,"div",7),y(10,"span"),I(11),y(12,"span",8),I(13,"Patch Notes"),b(),b(),y(14,"span"),I(15),b(),b(),b(),b(),y(16,"div",9),y(17,"div",10),y(18,"div",11),y(19,"div",12),y(20,"label",13),I(21,"Player Pack"),b(),y(22,"select",14),y(23,"option",15),I(24,"Turtle"),b(),y(25,"option",16),I(26,"Puppy"),b(),y(27,"option",17),I(28,"Star"),b(),y(29,"option",18),I(30,"Golden"),b(),y(31,"optgroup",19),Xe(32,rQ,2,2,"option",20),y(33,"option",21),I(34,"Add Custom Pack"),b(),b(),b(),b(),y(35,"div",22),y(36,"label",13),I(37,"Opponent Pack"),b(),y(38,"select",23),y(39,"option",15),I(40,"Turtle"),b(),y(41,"option",16),I(42,"Puppy"),b(),y(43,"option",17),I(44,"Star"),b(),y(45,"option",18),I(46,"Golden"),b(),y(47,"optgroup",19),Xe(48,oQ,2,2,"option",20),y(49,"option",21),I(50,"Add Custom Pack"),b(),b(),b(),b(),y(51,"div",24),y(52,"div",25),y(53,"label",26),I(54,"Turn"),b(),Ae(55,"input",27),b(),y(56,"div",25),y(57,"label",28),I(58,"PGS"),b(),Ae(59,"input",29),b(),y(60,"div",25),y(61,"label",30),I(62,"OGS"),b(),Ae(63,"input",31),b(),b(),y(64,"div",32),y(65,"label",13),I(66,"Player Toy"),b(),y(67,"select",33),y(68,"option",34),I(69,"None"),b(),Xe(70,lQ,2,2,"optgroup",35),ju(71,"keyvalue"),b(),b(),y(72,"div",36),y(73,"label",37),I(74,"Toy Level"),b(),y(75,"select",38),y(76,"option"),I(77,"1"),b(),y(78,"option"),I(79,"2"),b(),y(80,"option"),I(81,"3"),b(),b(),b(),y(82,"div",12),y(83,"label",13),I(84,"Opponent Toy"),b(),y(85,"select",39),y(86,"option",34),I(87,"None"),b(),Xe(88,uQ,2,2,"optgroup",35),ju(89,"keyvalue"),b(),b(),y(90,"div",40),y(91,"label",41),I(92,"Toy Level"),b(),y(93,"select",42),y(94,"option"),I(95,"1"),b(),y(96,"option"),I(97,"2"),b(),y(98,"option"),I(99,"3"),b(),b(),b(),y(100,"div",43),y(101,"div",44),Ae(102,"input",45),y(103,"label",46),I(104," Angler "),b(),b(),y(105,"div",47),Ae(106,"input",48),y(107,"label",49),I(108," All Pets "),b(),b(),b(),b(),y(109,"div",50),y(110,"label",51),I(111,"Zoom"),b(),y(112,"div"),y(113,"button",52),rt("click",function(){return i.zoomIn()}),I(114,"+"),b(),y(115,"button",53),rt("click",function(){return i.zoomOut()}),I(116,"-"),b(),b(),b(),b(),b(),y(117,"div",54),y(118,"div",55),y(119,"div",56),y(120,"div",57),y(121,"h2",58),I(122,"Player"),b(),b(),b(),y(123,"div",59),y(124,"div",60),rt("cdkDropListDropped",function(r){return i.drop(r,"player")}),Xe(125,hQ,6,8,"div",61),b(),b(),b(),y(126,"div",55),y(127,"h2",58),I(128,"Opponent"),b(),y(129,"div",59),y(130,"div",60),rt("cdkDropListDropped",function(r){return i.drop(r,"opponent")}),Xe(131,dQ,6,8,"div",61),b(),b(),b(),b(),y(132,"div",62),y(133,"div",63),y(134,"button",64),rt("click",function(){return i.simulate()}),I(135,"Simulate"),b(),y(136,"button",64),rt("click",function(){return i.randomize()}),I(137,"Randomize"),b(),Xe(138,fQ,2,0,"button",65),b(),b(),Xe(139,pQ,18,10,"div",66),y(140,"div",67),y(141,"div",68),y(142,"h3"),I(143,"Battles"),b(),y(144,"div",56),y(145,"div",63),y(146,"label",69),I(147,"Filter Battles By Winner"),b(),b(),y(148,"div",63),y(149,"div",70),Ae(150,"input",71),y(151,"label",72),I(152,"None"),b(),b(),y(153,"div",70),Ae(154,"input",73),y(155,"label",74),I(156,"Player"),b(),b(),y(157,"div",70),Ae(158,"input",75),y(159,"label",76),I(160,"Opponent"),b(),b(),y(161,"div",70),Ae(162,"input",77),y(163,"label",78),I(164,"Draw"),b(),b(),b(),b(),y(165,"div",79),y(166,"table",80),y(167,"thead"),y(168,"tr"),y(169,"th",81),I(170,"Battle No."),b(),y(171,"th"),I(172,"Winner"),b(),y(173,"th"),I(174,"Random Events"),b(),b(),b(),y(175,"tbody"),Xe(176,gQ,7,3,"tr",82),b(),b(),b(),b(),y(177,"div",68),y(178,"h3"),I(179,"Logs"),b(),y(180,"div",83),Xe(181,_Q,3,5,"div",84),b(),b(),b(),b(),y(182,"div",85),y(183,"div",86),y(184,"div",87),y(185,"div",88),y(186,"h1",89),I(187,"Patch Notes"),b(),Ae(188,"button",90),b(),y(189,"div",91),Ae(190,"app-patch-notes"),b(),y(191,"div",92),y(192,"span",93),rt("click",function(){return i.clearCache()}),I(193,"Clear Cache"),b(),b(),b(),b(),b(),y(194,"div",94,95),y(196,"div",96),y(197,"div",87),y(198,"div",88),y(199,"h1",97),I(200,"Custom Pack Editor"),b(),Ae(201,"button",90),b(),y(202,"div",91),Ae(203,"app-custom-pack-editor",98),b(),b(),b(),b(),y(204,"div",99),y(205,"div",96),y(206,"div",87),y(207,"div",88),y(208,"h1",100),I(209,"Info"),b(),Ae(210,"button",90),b(),y(211,"div",91),Ae(212,"app-info"),b(),b(),b(),b()),2&e&&(Q("formGroup",i.formGroup),G(11),Vn("Version: ",i.version," "),G(4),Vn("SAP Version: ",i.sapVersion,""),G(17),Q("ngForOf",i.validCustomPacks),G(16),Q("ngForOf",i.validCustomPacks),G(20),Q("ngValue",null),G(2),Q("ngForOf",Wu(71,17,i.toys)),G(16),Q("ngValue",null),G(2),Q("ngForOf",Wu(89,19,i.toys)),G(37),Q("ngForOf",i.getPlayerPetsFormArray()),G(6),Q("ngForOf",i.getOpponentPetsFormArray()),G(7),Q("ngIf",i.battleStarted),G(1),Q("ngIf",i.simulated),G(11),Q("value",null),G(26),Q("ngForOf",i.filteredBattles),G(5),Q("ngForOf",i.getViewBattleLogs()),G(22),Q("formGroup",i.formGroup))},directives:[fp,Yl,bp,Av,yp,eD,nD,lp,Nv,Rv,Zu,Cv,bY,cp,QC,HY,nQ,iQ,wY,SY,dL,ON],pipes:[wC],styles:[".app-wrapper[_ngcontent-%COMP%]{height:100vh}.header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:end}.flex-col[_ngcontent-%COMP%]{display:flex;flex-direction:column}.player-card[_ngcontent-%COMP%]{background-color:#e9c137}.battle-row[_ngcontent-%COMP%]{background-color:#5ebe09}.button-bar[_ngcontent-%COMP%], .battle-controller[_ngcontent-%COMP%]{background-color:#f5f5f5}.battle-controller[_ngcontent-%COMP%]   .min-w-input[_ngcontent-%COMP%]{min-width:100px}.small-w-input[_ngcontent-%COMP%]{width:60px}.stats[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{margin-right:.25em}.stats[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{margin-right:1em}.battle-no[_ngcontent-%COMP%]{width:1%;white-space:nowrap}.table-battle-row[_ngcontent-%COMP%]{cursor:pointer}.results-bar[_ngcontent-%COMP%], .draw-bar[_ngcontent-%COMP%], .lose-bar[_ngcontent-%COMP%]{display:inline-block}.draw-bar[_ngcontent-%COMP%], .lose-bar[_ngcontent-%COMP%]{height:100%;position:absolute;right:0}.results-bar[_ngcontent-%COMP%]{border:.2em solid black;height:2em;width:30em;background-color:#0f0;position:relative}.draw-bar[_ngcontent-%COMP%]{background-color:#d3d3d3}.lose-bar[_ngcontent-%COMP%]{background-color:red}.log-player[_ngcontent-%COMP%]{background-color:#e4ffe0}.log-opponent[_ngcontent-%COMP%]{background-color:#ffe0e0}.log-container[_ngcontent-%COMP%]{display:flex;align-content:flex-start}.random-event[_ngcontent-%COMP%]{color:purple;font-weight:bold}.flex-1[_ngcontent-%COMP%]{flex:1}.bottom-container[_ngcontent-%COMP%]{overflow:auto}.scroll[_ngcontent-%COMP%]{overflow:scroll}.h-100[_ngcontent-%COMP%]{height:100%}.pre[_ngcontent-%COMP%]{white-space:pre}.btn-link[_ngcontent-%COMP%]{color:#0d6efd;cursor:pointer}.zoom-container[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{width:2.5em}.cdk-drag-placeholder[_ngcontent-%COMP%]{opacity:0}.drag-container[_ngcontent-%COMP%]{position:relative}.drag-handle[_ngcontent-%COMP%]{width:1.25em;position:absolute;right:1em;z-index:1;opacity:.5;cursor:pointer}.info-link[_ngcontent-%COMP%]{margin-left:1em;margin-bottom:.5em}"]}),n})();class JF{}const Ro="*";function XF(n,t=null){return{type:2,steps:n,options:t}}function e2(n){return{type:6,styles:n,offset:null}}function t2(n){Promise.resolve(null).then(n)}class Dh{constructor(t=0,e=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=t+e}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}onStart(t){this._onStartFns.push(t)}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){t2(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(t=>t()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}reset(){this._started=!1}setPosition(t){this._position=this.totalTime?t*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(i=>i()),e.length=0}}class n2{constructor(t){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=t;let e=0,i=0,s=0;const r=this.players.length;0==r?t2(()=>this._onFinish()):this.players.forEach(o=>{o.onDone(()=>{++e==r&&this._onFinish()}),o.onDestroy(()=>{++i==r&&this._onDestroy()}),o.onStart(()=>{++s==r&&this._onStart()})}),this.totalTime=this.players.reduce((o,a)=>Math.max(o,a.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}init(){this.players.forEach(t=>t.init())}onStart(t){this._onStartFns.push(t)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(t=>t()),this._onStartFns=[])}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(t=>t.play())}pause(){this.players.forEach(t=>t.pause())}restart(){this.players.forEach(t=>t.restart())}finish(){this._onFinish(),this.players.forEach(t=>t.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(t=>t.destroy()),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}reset(){this.players.forEach(t=>t.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(t){const e=t*this.totalTime;this.players.forEach(i=>{const s=i.totalTime?Math.min(1,e/i.totalTime):1;i.setPosition(s)})}getPosition(){const t=this.players.reduce((e,i)=>null===e||i.totalTime>e.totalTime?i:e,null);return null!=t?t.getPosition():0}beforeDestroy(){this.players.forEach(t=>{t.beforeDestroy&&t.beforeDestroy()})}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(i=>i()),e.length=0}}function s2(){return"undefined"!=typeof window&&void 0!==window.document}function zT(){return"undefined"!=typeof process&&"[object process]"==={}.toString.call(process)}function Ba(n){switch(n.length){case 0:return new Dh;case 1:return n[0];default:return new n2(n)}}function r2(n,t,e,i,s={},r={}){const o=[],a=[];let u=-1,h=null;if(i.forEach(f=>{const g=f.offset,m=g==u,v=m&&h||{};Object.keys(f).forEach(E=>{let D=E,C=f[E];if("offset"!==E)switch(D=t.normalizePropertyName(D,o),C){case"!":C=s[E];break;case Ro:C=r[E];break;default:C=t.normalizeStyleValue(E,D,C,o)}v[D]=C}),m||a.push(v),h=v,u=g}),o.length){const f="\n - ";throw new Error(`Unable to animate due to the following errors:${f}${o.join(f)}`)}return a}function KT(n,t,e,i){switch(t){case"start":n.onStart(()=>i(e&&YT(e,"start",n)));break;case"done":n.onDone(()=>i(e&&YT(e,"done",n)));break;case"destroy":n.onDestroy(()=>i(e&&YT(e,"destroy",n)))}}function YT(n,t,e){const i=e.totalTime,r=QT(n.element,n.triggerName,n.fromState,n.toState,t||n.phaseName,null==i?n.totalTime:i,!!e.disabled),o=n._data;return null!=o&&(r._data=o),r}function QT(n,t,e,i,s="",r=0,o){return{element:n,triggerName:t,fromState:e,toState:i,phaseName:s,totalTime:r,disabled:!!o}}function ss(n,t,e){let i;return n instanceof Map?(i=n.get(t),i||n.set(t,i=e)):(i=n[t],i||(i=n[t]=e)),i}function o2(n){const t=n.indexOf(":");return[n.substring(1,t),n.substr(t+1)]}let ZT=(n,t)=>!1,JT=(n,t)=>!1,a2=(n,t,e)=>[];const l2=zT();(l2||"undefined"!=typeof Element)&&(ZT=s2()?(n,t)=>{for(;t&&t!==document.documentElement;){if(t===n)return!0;t=t.parentNode||t.host}return!1}:(n,t)=>n.contains(t),JT=(()=>{if(l2||Element.prototype.matches)return(n,t)=>n.matches(t);{const n=Element.prototype,t=n.matchesSelector||n.mozMatchesSelector||n.msMatchesSelector||n.oMatchesSelector||n.webkitMatchesSelector;return t?(e,i)=>t.apply(e,[i]):JT}})(),a2=(n,t,e)=>{let i=[];if(e){const s=n.querySelectorAll(t);for(let r=0;r<s.length;r++)i.push(s[r])}else{const s=n.querySelector(t);s&&i.push(s)}return i});let ac=null,c2=!1;function XT(n){ac||(ac=("undefined"!=typeof document?document.body:null)||{},c2=!!ac.style&&"WebkitAppearance"in ac.style);let t=!0;return ac.style&&!function(n){return"ebkit"==n.substring(1,6)}(n)&&(t=n in ac.style,!t&&c2&&(t="Webkit"+n.charAt(0).toUpperCase()+n.substr(1)in ac.style)),t}const e1=JT,t1=ZT,n1=a2;function u2(n){const t={};return Object.keys(n).forEach(e=>{const i=e.replace(/([a-z])([A-Z])/g,"$1-$2");t[i]=n[e]}),t}let h2=(()=>{class n{validateStyleProperty(e){return XT(e)}matchesElement(e,i){return e1(e,i)}containsElement(e,i){return t1(e,i)}query(e,i,s){return n1(e,i,s)}computeStyle(e,i,s){return s||""}animate(e,i,s,r,o,a=[],u){return new Dh(s,r)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=le({token:n,factory:n.\u0275fac}),n})(),i1=(()=>{class n{}return n.NOOP=new h2,n})();const s1="ng-enter",qy="ng-leave",Uy="ng-trigger",Gy=".ng-trigger",f2="ng-animating",r1=".ng-animating";function lc(n){if("number"==typeof n)return n;const t=n.match(/^(-?[\.\d]+)(m?s)/);return!t||t.length<2?0:o1(parseFloat(t[1]),t[2])}function o1(n,t){return"s"===t?1e3*n:n}function jy(n,t,e){return n.hasOwnProperty("duration")?n:function(n,t,e){let s,r=0,o="";if("string"==typeof n){const a=n.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===a)return t.push(`The provided timing value "${n}" is invalid.`),{duration:0,delay:0,easing:""};s=o1(parseFloat(a[1]),a[2]);const u=a[3];null!=u&&(r=o1(parseFloat(u),a[4]));const h=a[5];h&&(o=h)}else s=n;if(!e){let a=!1,u=t.length;s<0&&(t.push("Duration values below 0 are not allowed for this animation step."),a=!0),r<0&&(t.push("Delay values below 0 are not allowed for this animation step."),a=!0),a&&t.splice(u,0,`The provided timing value "${n}" is invalid.`)}return{duration:s,delay:r,easing:o}}(n,t,e)}function Ah(n,t={}){return Object.keys(n).forEach(e=>{t[e]=n[e]}),t}function $a(n,t,e={}){if(t)for(let i in n)e[i]=n[i];else Ah(n,e);return e}function g2(n,t,e){return e?t+":"+e+";":""}function m2(n){let t="";for(let e=0;e<n.style.length;e++){const i=n.style.item(e);t+=g2(0,i,n.style.getPropertyValue(i))}for(const e in n.style)n.style.hasOwnProperty(e)&&!e.startsWith("_")&&(t+=g2(0,PQ(e),n.style[e]));n.setAttribute("style",t)}function $r(n,t,e){n.style&&(Object.keys(t).forEach(i=>{const s=l1(i);e&&!e.hasOwnProperty(i)&&(e[i]=n.style[s]),n.style[s]=t[i]}),zT()&&m2(n))}function cc(n,t){n.style&&(Object.keys(t).forEach(e=>{const i=l1(e);n.style[i]=""}),zT()&&m2(n))}function jp(n){return Array.isArray(n)?1==n.length?n[0]:XF(n):n}const a1=new RegExp("{{\\s*(.+?)\\s*}}","g");function _2(n){let t=[];if("string"==typeof n){let e;for(;e=a1.exec(n);)t.push(e[1]);a1.lastIndex=0}return t}function Wy(n,t,e){const i=n.toString(),s=i.replace(a1,(r,o)=>{let a=t[o];return t.hasOwnProperty(o)||(e.push(`Please provide a value for the animation param ${o}`),a=""),a.toString()});return s==i?n:s}function zy(n){const t=[];let e=n.next();for(;!e.done;)t.push(e.value),e=n.next();return t}const AQ=/-+([a-z0-9])/g;function l1(n){return n.replace(AQ,(...t)=>t[1].toUpperCase())}function PQ(n){return n.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}function v2(n,t){return 0===n||0===t}function y2(n,t,e){const i=Object.keys(e);if(i.length&&t.length){let r=t[0],o=[];if(i.forEach(a=>{r.hasOwnProperty(a)||o.push(a),r[a]=e[a]}),o.length)for(var s=1;s<t.length;s++){let a=t[s];o.forEach(function(u){a[u]=c1(n,u)})}}return t}function rs(n,t,e){switch(t.type){case 7:return n.visitTrigger(t,e);case 0:return n.visitState(t,e);case 1:return n.visitTransition(t,e);case 2:return n.visitSequence(t,e);case 3:return n.visitGroup(t,e);case 4:return n.visitAnimate(t,e);case 5:return n.visitKeyframes(t,e);case 6:return n.visitStyle(t,e);case 8:return n.visitReference(t,e);case 9:return n.visitAnimateChild(t,e);case 10:return n.visitAnimateRef(t,e);case 11:return n.visitQuery(t,e);case 12:return n.visitStagger(t,e);default:throw new Error(`Unable to resolve animation metadata node #${t.type}`)}}function c1(n,t){return window.getComputedStyle(n)[t]}function kQ(n,t){const e=[];return"string"==typeof n?n.split(/\s*,\s*/).forEach(i=>function(n,t,e){if(":"==n[0]){const u=function(n,t){switch(n){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(e,i)=>parseFloat(i)>parseFloat(e);case":decrement":return(e,i)=>parseFloat(i)<parseFloat(e);default:return t.push(`The transition alias value "${n}" is not supported`),"* => *"}}(n,e);if("function"==typeof u)return void t.push(u);n=u}const i=n.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==i||i.length<4)return e.push(`The provided transition expression "${n}" is not supported`),t;const s=i[1],r=i[2],o=i[3];t.push(b2(s,o));"<"==r[0]&&!("*"==s&&"*"==o)&&t.push(b2(o,s))}(i,e,t)):e.push(n),e}const Yy=new Set(["true","1"]),Qy=new Set(["false","0"]);function b2(n,t){const e=Yy.has(n)||Qy.has(n),i=Yy.has(t)||Qy.has(t);return(s,r)=>{let o="*"==n||n==s,a="*"==t||t==r;return!o&&e&&"boolean"==typeof s&&(o=s?Yy.has(n):Qy.has(n)),!a&&i&&"boolean"==typeof r&&(a=r?Yy.has(t):Qy.has(t)),o&&a}}const MQ=new RegExp("s*:selfs*,?","g");function u1(n,t,e){return new IQ(n).build(t,e)}class IQ{constructor(t){this._driver=t}build(t,e){const i=new RQ(e);return this._resetContextStyleTimingState(i),rs(this,jp(t),i)}_resetContextStyleTimingState(t){t.currentQuerySelector="",t.collectedStyles={},t.collectedStyles[""]={},t.currentTime=0}visitTrigger(t,e){let i=e.queryCount=0,s=e.depCount=0;const r=[],o=[];return"@"==t.name.charAt(0)&&e.errors.push("animation triggers cannot be prefixed with an `@` sign (e.g. trigger('@foo', [...]))"),t.definitions.forEach(a=>{if(this._resetContextStyleTimingState(e),0==a.type){const u=a,h=u.name;h.toString().split(/\s*,\s*/).forEach(f=>{u.name=f,r.push(this.visitState(u,e))}),u.name=h}else if(1==a.type){const u=this.visitTransition(a,e);i+=u.queryCount,s+=u.depCount,o.push(u)}else e.errors.push("only state() and transition() definitions can sit inside of a trigger()")}),{type:7,name:t.name,states:r,transitions:o,queryCount:i,depCount:s,options:null}}visitState(t,e){const i=this.visitStyle(t.styles,e),s=t.options&&t.options.params||null;if(i.containsDynamicStyles){const r=new Set,o=s||{};if(i.styles.forEach(a=>{if(Zy(a)){const u=a;Object.keys(u).forEach(h=>{_2(u[h]).forEach(f=>{o.hasOwnProperty(f)||r.add(f)})})}}),r.size){const a=zy(r.values());e.errors.push(`state("${t.name}", ...) must define default values for all the following style substitutions: ${a.join(", ")}`)}}return{type:0,name:t.name,style:i,options:s?{params:s}:null}}visitTransition(t,e){e.queryCount=0,e.depCount=0;const i=rs(this,jp(t.animation),e);return{type:1,matchers:kQ(t.expr,e.errors),animation:i,queryCount:e.queryCount,depCount:e.depCount,options:uc(t.options)}}visitSequence(t,e){return{type:2,steps:t.steps.map(i=>rs(this,i,e)),options:uc(t.options)}}visitGroup(t,e){const i=e.currentTime;let s=0;const r=t.steps.map(o=>{e.currentTime=i;const a=rs(this,o,e);return s=Math.max(s,e.currentTime),a});return e.currentTime=s,{type:3,steps:r,options:uc(t.options)}}visitAnimate(t,e){const i=function(n,t){let e=null;if(n.hasOwnProperty("duration"))e=n;else if("number"==typeof n)return h1(jy(n,t).duration,0,"");const i=n;if(i.split(/\s+/).some(r=>"{"==r.charAt(0)&&"{"==r.charAt(1))){const r=h1(0,0,"");return r.dynamic=!0,r.strValue=i,r}return e=e||jy(i,t),h1(e.duration,e.delay,e.easing)}(t.timings,e.errors);e.currentAnimateTimings=i;let s,r=t.styles?t.styles:e2({});if(5==r.type)s=this.visitKeyframes(r,e);else{let o=t.styles,a=!1;if(!o){a=!0;const h={};i.easing&&(h.easing=i.easing),o=e2(h)}e.currentTime+=i.duration+i.delay;const u=this.visitStyle(o,e);u.isEmptyStep=a,s=u}return e.currentAnimateTimings=null,{type:4,timings:i,style:s,options:null}}visitStyle(t,e){const i=this._makeStyleAst(t,e);return this._validateStyleAst(i,e),i}_makeStyleAst(t,e){const i=[];Array.isArray(t.styles)?t.styles.forEach(o=>{"string"==typeof o?o==Ro?i.push(o):e.errors.push(`The provided style string value ${o} is not allowed.`):i.push(o)}):i.push(t.styles);let s=!1,r=null;return i.forEach(o=>{if(Zy(o)){const a=o,u=a.easing;if(u&&(r=u,delete a.easing),!s)for(let h in a)if(a[h].toString().indexOf("{{")>=0){s=!0;break}}}),{type:6,styles:i,easing:r,offset:t.offset,containsDynamicStyles:s,options:null}}_validateStyleAst(t,e){const i=e.currentAnimateTimings;let s=e.currentTime,r=e.currentTime;i&&r>0&&(r-=i.duration+i.delay),t.styles.forEach(o=>{"string"!=typeof o&&Object.keys(o).forEach(a=>{if(!this._driver.validateStyleProperty(a))return void e.errors.push(`The provided animation property "${a}" is not a supported CSS property for animations`);const u=e.collectedStyles[e.currentQuerySelector],h=u[a];let f=!0;h&&(r!=s&&r>=h.startTime&&s<=h.endTime&&(e.errors.push(`The CSS property "${a}" that exists between the times of "${h.startTime}ms" and "${h.endTime}ms" is also being animated in a parallel animation between the times of "${r}ms" and "${s}ms"`),f=!1),r=h.startTime),f&&(u[a]={startTime:r,endTime:s}),e.options&&function(n,t,e){const i=t.params||{},s=_2(n);s.length&&s.forEach(r=>{i.hasOwnProperty(r)||e.push(`Unable to resolve the local animation param ${r} in the given list of values`)})}(o[a],e.options,e.errors)})})}visitKeyframes(t,e){const i={type:5,styles:[],options:null};if(!e.currentAnimateTimings)return e.errors.push("keyframes() must be placed inside of a call to animate()"),i;let r=0;const o=[];let a=!1,u=!1,h=0;const f=t.steps.map(L=>{const N=this._makeStyleAst(L,e);let z=null!=N.offset?N.offset:function(n){if("string"==typeof n)return null;let t=null;if(Array.isArray(n))n.forEach(e=>{if(Zy(e)&&e.hasOwnProperty("offset")){const i=e;t=parseFloat(i.offset),delete i.offset}});else if(Zy(n)&&n.hasOwnProperty("offset")){const e=n;t=parseFloat(e.offset),delete e.offset}return t}(N.styles),U=0;return null!=z&&(r++,U=N.offset=z),u=u||U<0||U>1,a=a||U<h,h=U,o.push(U),N});u&&e.errors.push("Please ensure that all keyframe offsets are between 0 and 1"),a&&e.errors.push("Please ensure that all keyframe offsets are in order");const g=t.steps.length;let m=0;r>0&&r<g?e.errors.push("Not all style() steps within the declared keyframes() contain offsets"):0==r&&(m=1/(g-1));const v=g-1,E=e.currentTime,D=e.currentAnimateTimings,C=D.duration;return f.forEach((L,N)=>{const z=m>0?N==v?1:m*N:o[N],U=z*C;e.currentTime=E+D.delay+U,D.duration=U,this._validateStyleAst(L,e),L.offset=z,i.styles.push(L)}),i}visitReference(t,e){return{type:8,animation:rs(this,jp(t.animation),e),options:uc(t.options)}}visitAnimateChild(t,e){return e.depCount++,{type:9,options:uc(t.options)}}visitAnimateRef(t,e){return{type:10,animation:this.visitReference(t.animation,e),options:uc(t.options)}}visitQuery(t,e){const i=e.currentQuerySelector,s=t.options||{};e.queryCount++,e.currentQuery=t;const[r,o]=function(n){const t=!!n.split(/\s*,\s*/).find(e=>":self"==e);return t&&(n=n.replace(MQ,"")),n=n.replace(/@\*/g,Gy).replace(/@\w+/g,e=>Gy+"-"+e.substr(1)).replace(/:animating/g,r1),[n,t]}(t.selector);e.currentQuerySelector=i.length?i+" "+r:r,ss(e.collectedStyles,e.currentQuerySelector,{});const a=rs(this,jp(t.animation),e);return e.currentQuery=null,e.currentQuerySelector=i,{type:11,selector:r,limit:s.limit||0,optional:!!s.optional,includeSelf:o,animation:a,originalSelector:t.selector,options:uc(t.options)}}visitStagger(t,e){e.currentQuery||e.errors.push("stagger() can only be used inside of query()");const i="full"===t.timings?{duration:0,delay:0,easing:"full"}:jy(t.timings,e.errors,!0);return{type:12,animation:rs(this,jp(t.animation),e),timings:i,options:null}}}class RQ{constructor(t){this.errors=t,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles={},this.options=null}}function Zy(n){return!Array.isArray(n)&&"object"==typeof n}function uc(n){return n?(n=Ah(n)).params&&(n.params=function(n){return n?Ah(n):null}(n.params)):n={},n}function h1(n,t,e){return{duration:n,delay:t,easing:e}}function d1(n,t,e,i,s,r,o=null,a=!1){return{type:1,element:n,keyframes:t,preStyleProps:e,postStyleProps:i,duration:s,delay:r,totalTime:s+r,easing:o,subTimeline:a}}class Jy{constructor(){this._map=new Map}consume(t){let e=this._map.get(t);return e?this._map.delete(t):e=[],e}append(t,e){let i=this._map.get(t);i||this._map.set(t,i=[]),i.push(...e)}has(t){return this._map.has(t)}clear(){this._map.clear()}}const $Q=new RegExp(":enter","g"),qQ=new RegExp(":leave","g");function f1(n,t,e,i,s,r={},o={},a,u,h=[]){return(new UQ).buildKeyframes(n,t,e,i,s,r,o,a,u,h)}class UQ{buildKeyframes(t,e,i,s,r,o,a,u,h,f=[]){h=h||new Jy;const g=new p1(t,e,h,s,r,f,[]);g.options=u,g.currentTimeline.setStyles([o],null,g.errors,u),rs(this,i,g);const m=g.timelines.filter(v=>v.containsAnimation());if(m.length&&Object.keys(a).length){const v=m[m.length-1];v.allowOnlyTimelineStyles()||v.setStyles([a],null,g.errors,u)}return m.length?m.map(v=>v.buildKeyframes()):[d1(e,[],[],[],0,0,"",!1)]}visitTrigger(t,e){}visitState(t,e){}visitTransition(t,e){}visitAnimateChild(t,e){const i=e.subInstructions.consume(e.element);if(i){const s=e.createSubContext(t.options),r=e.currentTimeline.currentTime,o=this._visitSubInstructions(i,s,s.options);r!=o&&e.transformIntoNewTimeline(o)}e.previousNode=t}visitAnimateRef(t,e){const i=e.createSubContext(t.options);i.transformIntoNewTimeline(),this.visitReference(t.animation,i),e.transformIntoNewTimeline(i.currentTimeline.currentTime),e.previousNode=t}_visitSubInstructions(t,e,i){let r=e.currentTimeline.currentTime;const o=null!=i.duration?lc(i.duration):null,a=null!=i.delay?lc(i.delay):null;return 0!==o&&t.forEach(u=>{const h=e.appendInstructionToTimeline(u,o,a);r=Math.max(r,h.duration+h.delay)}),r}visitReference(t,e){e.updateOptions(t.options,!0),rs(this,t.animation,e),e.previousNode=t}visitSequence(t,e){const i=e.subContextCount;let s=e;const r=t.options;if(r&&(r.params||r.delay)&&(s=e.createSubContext(r),s.transformIntoNewTimeline(),null!=r.delay)){6==s.previousNode.type&&(s.currentTimeline.snapshotCurrentStyles(),s.previousNode=Xy);const o=lc(r.delay);s.delayNextStep(o)}t.steps.length&&(t.steps.forEach(o=>rs(this,o,s)),s.currentTimeline.applyStylesToKeyframe(),s.subContextCount>i&&s.transformIntoNewTimeline()),e.previousNode=t}visitGroup(t,e){const i=[];let s=e.currentTimeline.currentTime;const r=t.options&&t.options.delay?lc(t.options.delay):0;t.steps.forEach(o=>{const a=e.createSubContext(t.options);r&&a.delayNextStep(r),rs(this,o,a),s=Math.max(s,a.currentTimeline.currentTime),i.push(a.currentTimeline)}),i.forEach(o=>e.currentTimeline.mergeTimelineCollectedStyles(o)),e.transformIntoNewTimeline(s),e.previousNode=t}_visitTiming(t,e){if(t.dynamic){const i=t.strValue;return jy(e.params?Wy(i,e.params,e.errors):i,e.errors)}return{duration:t.duration,delay:t.delay,easing:t.easing}}visitAnimate(t,e){const i=e.currentAnimateTimings=this._visitTiming(t.timings,e),s=e.currentTimeline;i.delay&&(e.incrementTime(i.delay),s.snapshotCurrentStyles());const r=t.style;5==r.type?this.visitKeyframes(r,e):(e.incrementTime(i.duration),this.visitStyle(r,e),s.applyStylesToKeyframe()),e.currentAnimateTimings=null,e.previousNode=t}visitStyle(t,e){const i=e.currentTimeline,s=e.currentAnimateTimings;!s&&i.getCurrentStyleProperties().length&&i.forwardFrame();const r=s&&s.easing||t.easing;t.isEmptyStep?i.applyEmptyStep(r):i.setStyles(t.styles,r,e.errors,e.options),e.previousNode=t}visitKeyframes(t,e){const i=e.currentAnimateTimings,s=e.currentTimeline.duration,r=i.duration,a=e.createSubContext().currentTimeline;a.easing=i.easing,t.styles.forEach(u=>{a.forwardTime((u.offset||0)*r),a.setStyles(u.styles,u.easing,e.errors,e.options),a.applyStylesToKeyframe()}),e.currentTimeline.mergeTimelineCollectedStyles(a),e.transformIntoNewTimeline(s+r),e.previousNode=t}visitQuery(t,e){const i=e.currentTimeline.currentTime,s=t.options||{},r=s.delay?lc(s.delay):0;r&&(6===e.previousNode.type||0==i&&e.currentTimeline.getCurrentStyleProperties().length)&&(e.currentTimeline.snapshotCurrentStyles(),e.previousNode=Xy);let o=i;const a=e.invokeQuery(t.selector,t.originalSelector,t.limit,t.includeSelf,!!s.optional,e.errors);e.currentQueryTotal=a.length;let u=null;a.forEach((h,f)=>{e.currentQueryIndex=f;const g=e.createSubContext(t.options,h);r&&g.delayNextStep(r),h===e.element&&(u=g.currentTimeline),rs(this,t.animation,g),g.currentTimeline.applyStylesToKeyframe(),o=Math.max(o,g.currentTimeline.currentTime)}),e.currentQueryIndex=0,e.currentQueryTotal=0,e.transformIntoNewTimeline(o),u&&(e.currentTimeline.mergeTimelineCollectedStyles(u),e.currentTimeline.snapshotCurrentStyles()),e.previousNode=t}visitStagger(t,e){const i=e.parentContext,s=e.currentTimeline,r=t.timings,o=Math.abs(r.duration),a=o*(e.currentQueryTotal-1);let u=o*e.currentQueryIndex;switch(r.duration<0?"reverse":r.easing){case"reverse":u=a-u;break;case"full":u=i.currentStaggerTime}const f=e.currentTimeline;u&&f.delayNextStep(u);const g=f.currentTime;rs(this,t.animation,e),e.previousNode=t,i.currentStaggerTime=s.currentTime-g+(s.startTime-i.currentTimeline.startTime)}}const Xy={};class p1{constructor(t,e,i,s,r,o,a,u){this._driver=t,this.element=e,this.subInstructions=i,this._enterClassName=s,this._leaveClassName=r,this.errors=o,this.timelines=a,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=Xy,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=u||new eb(this._driver,e,0),a.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(t,e){if(!t)return;const i=t;let s=this.options;null!=i.duration&&(s.duration=lc(i.duration)),null!=i.delay&&(s.delay=lc(i.delay));const r=i.params;if(r){let o=s.params;o||(o=this.options.params={}),Object.keys(r).forEach(a=>{(!e||!o.hasOwnProperty(a))&&(o[a]=Wy(r[a],o,this.errors))})}}_copyOptions(){const t={};if(this.options){const e=this.options.params;if(e){const i=t.params={};Object.keys(e).forEach(s=>{i[s]=e[s]})}}return t}createSubContext(t=null,e,i){const s=e||this.element,r=new p1(this._driver,s,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(s,i||0));return r.previousNode=this.previousNode,r.currentAnimateTimings=this.currentAnimateTimings,r.options=this._copyOptions(),r.updateOptions(t),r.currentQueryIndex=this.currentQueryIndex,r.currentQueryTotal=this.currentQueryTotal,r.parentContext=this,this.subContextCount++,r}transformIntoNewTimeline(t){return this.previousNode=Xy,this.currentTimeline=this.currentTimeline.fork(this.element,t),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(t,e,i){const s={duration:null!=e?e:t.duration,delay:this.currentTimeline.currentTime+(null!=i?i:0)+t.delay,easing:""},r=new GQ(this._driver,t.element,t.keyframes,t.preStyleProps,t.postStyleProps,s,t.stretchStartingKeyframe);return this.timelines.push(r),s}incrementTime(t){this.currentTimeline.forwardTime(this.currentTimeline.duration+t)}delayNextStep(t){t>0&&this.currentTimeline.delayNextStep(t)}invokeQuery(t,e,i,s,r,o){let a=[];if(s&&a.push(this.element),t.length>0){t=(t=t.replace($Q,"."+this._enterClassName)).replace(qQ,"."+this._leaveClassName);let h=this._driver.query(this.element,t,1!=i);0!==i&&(h=i<0?h.slice(h.length+i,h.length):h.slice(0,i)),a.push(...h)}return!r&&0==a.length&&o.push(`\`query("${e}")\` returned zero elements. (Use \`query("${e}", { optional: true })\` if you wish to allow this.)`),a}}class eb{constructor(t,e,i,s){this._driver=t,this.element=e,this.startTime=i,this._elementTimelineStylesLookup=s,this.duration=0,this._previousKeyframe={},this._currentKeyframe={},this._keyframes=new Map,this._styleSummary={},this._pendingStyles={},this._backFill={},this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._localTimelineStyles=Object.create(this._backFill,{}),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(e),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(e,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.getCurrentStyleProperties().length>0;default:return!0}}getCurrentStyleProperties(){return Object.keys(this._currentKeyframe)}get currentTime(){return this.startTime+this.duration}delayNextStep(t){const e=1==this._keyframes.size&&Object.keys(this._pendingStyles).length;this.duration||e?(this.forwardTime(this.currentTime+t),e&&this.snapshotCurrentStyles()):this.startTime+=t}fork(t,e){return this.applyStylesToKeyframe(),new eb(this._driver,t,e||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=Object.create(this._backFill,{}),this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(t){this.applyStylesToKeyframe(),this.duration=t,this._loadKeyframe()}_updateStyle(t,e){this._localTimelineStyles[t]=e,this._globalTimelineStyles[t]=e,this._styleSummary[t]={time:this.currentTime,value:e}}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(t){t&&(this._previousKeyframe.easing=t),Object.keys(this._globalTimelineStyles).forEach(e=>{this._backFill[e]=this._globalTimelineStyles[e]||Ro,this._currentKeyframe[e]=Ro}),this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(t,e,i,s){e&&(this._previousKeyframe.easing=e);const r=s&&s.params||{},o=function(n,t){const e={};let i;return n.forEach(s=>{"*"===s?(i=i||Object.keys(t),i.forEach(r=>{e[r]=Ro})):$a(s,!1,e)}),e}(t,this._globalTimelineStyles);Object.keys(o).forEach(a=>{const u=Wy(o[a],r,i);this._pendingStyles[a]=u,this._localTimelineStyles.hasOwnProperty(a)||(this._backFill[a]=this._globalTimelineStyles.hasOwnProperty(a)?this._globalTimelineStyles[a]:Ro),this._updateStyle(a,u)})}applyStylesToKeyframe(){const t=this._pendingStyles,e=Object.keys(t);0!=e.length&&(this._pendingStyles={},e.forEach(i=>{this._currentKeyframe[i]=t[i]}),Object.keys(this._localTimelineStyles).forEach(i=>{this._currentKeyframe.hasOwnProperty(i)||(this._currentKeyframe[i]=this._localTimelineStyles[i])}))}snapshotCurrentStyles(){Object.keys(this._localTimelineStyles).forEach(t=>{const e=this._localTimelineStyles[t];this._pendingStyles[t]=e,this._updateStyle(t,e)})}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const t=[];for(let e in this._currentKeyframe)t.push(e);return t}mergeTimelineCollectedStyles(t){Object.keys(t._styleSummary).forEach(e=>{const i=this._styleSummary[e],s=t._styleSummary[e];(!i||s.time>i.time)&&this._updateStyle(e,s.value)})}buildKeyframes(){this.applyStylesToKeyframe();const t=new Set,e=new Set,i=1===this._keyframes.size&&0===this.duration;let s=[];this._keyframes.forEach((a,u)=>{const h=$a(a,!0);Object.keys(h).forEach(f=>{const g=h[f];"!"==g?t.add(f):g==Ro&&e.add(f)}),i||(h.offset=u/this.duration),s.push(h)});const r=t.size?zy(t.values()):[],o=e.size?zy(e.values()):[];if(i){const a=s[0],u=Ah(a);a.offset=0,u.offset=1,s=[a,u]}return d1(this.element,s,r,o,this.duration,this.startTime,this.easing,!1)}}class GQ extends eb{constructor(t,e,i,s,r,o,a=!1){super(t,e,o.delay),this.keyframes=i,this.preStyleProps=s,this.postStyleProps=r,this._stretchStartingKeyframe=a,this.timings={duration:o.duration,delay:o.delay,easing:o.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let t=this.keyframes,{delay:e,duration:i,easing:s}=this.timings;if(this._stretchStartingKeyframe&&e){const r=[],o=i+e,a=e/o,u=$a(t[0],!1);u.offset=0,r.push(u);const h=$a(t[0],!1);h.offset=w2(a),r.push(h);const f=t.length-1;for(let g=1;g<=f;g++){let m=$a(t[g],!1);m.offset=w2((e+m.offset*i)/o),r.push(m)}i=o,e=0,s="",t=r}return d1(this.element,t,this.preStyleProps,this.postStyleProps,i,e,s,!0)}}function w2(n,t=3){const e=Math.pow(10,t-1);return Math.round(n*e)/e}class g1{}class WQ extends g1{normalizePropertyName(t,e){return l1(t)}normalizeStyleValue(t,e,i,s){let r="";const o=i.toString().trim();if(zQ[e]&&0!==i&&"0"!==i)if("number"==typeof i)r="px";else{const a=i.match(/^[+-]?[\d\.]+([a-z]*)$/);a&&0==a[1].length&&s.push(`Please provide a CSS unit value for ${t}:${i}`)}return o+r}}const zQ=(()=>function(n){const t={};return n.forEach(e=>t[e]=!0),t}("width,height,minWidth,minHeight,maxWidth,maxHeight,left,top,bottom,right,fontSize,outlineWidth,outlineOffset,paddingTop,paddingLeft,paddingBottom,paddingRight,marginTop,marginLeft,marginBottom,marginRight,borderRadius,borderWidth,borderTopWidth,borderLeftWidth,borderRightWidth,borderBottomWidth,textIndent,perspective".split(",")))();function C2(n,t,e,i,s,r,o,a,u,h,f,g,m){return{type:0,element:n,triggerName:t,isRemovalTransition:s,fromState:e,fromStyles:r,toState:i,toStyles:o,timelines:a,queriedElements:u,preStyleProps:h,postStyleProps:f,totalTime:g,errors:m}}const m1={};class D2{constructor(t,e,i){this._triggerName=t,this.ast=e,this._stateStyles=i}match(t,e,i,s){return function(n,t,e,i,s){return n.some(r=>r(t,e,i,s))}(this.ast.matchers,t,e,i,s)}buildStyles(t,e,i){const s=this._stateStyles["*"],r=this._stateStyles[t],o=s?s.buildStyles(e,i):{};return r?r.buildStyles(e,i):o}build(t,e,i,s,r,o,a,u,h,f){const g=[],m=this.ast.options&&this.ast.options.params||m1,E=this.buildStyles(i,a&&a.params||m1,g),D=u&&u.params||m1,C=this.buildStyles(s,D,g),L=new Set,N=new Map,z=new Map,U="void"===s,ee={params:Object.assign(Object.assign({},m),D)},oe=f?[]:f1(t,e,this.ast.animation,r,o,E,C,ee,h,g);let be=0;if(oe.forEach(Ze=>{be=Math.max(Ze.duration+Ze.delay,be)}),g.length)return C2(e,this._triggerName,i,s,U,E,C,[],[],N,z,be,g);oe.forEach(Ze=>{const Qe=Ze.element,xt=ss(N,Qe,{});Ze.preStyleProps.forEach(wt=>xt[wt]=!0);const tn=ss(z,Qe,{});Ze.postStyleProps.forEach(wt=>tn[wt]=!0),Qe!==e&&L.add(Qe)});const ot=zy(L.values());return C2(e,this._triggerName,i,s,U,E,C,oe,ot,N,z,be)}}class QQ{constructor(t,e,i){this.styles=t,this.defaultParams=e,this.normalizer=i}buildStyles(t,e){const i={},s=Ah(this.defaultParams);return Object.keys(t).forEach(r=>{const o=t[r];null!=o&&(s[r]=o)}),this.styles.styles.forEach(r=>{if("string"!=typeof r){const o=r;Object.keys(o).forEach(a=>{let u=o[a];u.length>1&&(u=Wy(u,s,e));const h=this.normalizer.normalizePropertyName(a,e);u=this.normalizer.normalizeStyleValue(a,h,u,e),i[h]=u})}}),i}}class JQ{constructor(t,e,i){this.name=t,this.ast=e,this._normalizer=i,this.transitionFactories=[],this.states={},e.states.forEach(s=>{this.states[s.name]=new QQ(s.style,s.options&&s.options.params||{},i)}),A2(this.states,"true","1"),A2(this.states,"false","0"),e.transitions.forEach(s=>{this.transitionFactories.push(new D2(t,s,this.states))}),this.fallbackTransition=function(n,t,e){return new D2(n,{type:1,animation:{type:2,steps:[],options:null},matchers:[(o,a)=>!0],options:null,queryCount:0,depCount:0},t)}(t,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(t,e,i,s){return this.transitionFactories.find(o=>o.match(t,e,i,s))||null}matchStyles(t,e,i){return this.fallbackTransition.buildStyles(t,e,i)}}function A2(n,t,e){n.hasOwnProperty(t)?n.hasOwnProperty(e)||(n[e]=n[t]):n.hasOwnProperty(e)&&(n[t]=n[e])}const eZ=new Jy;class tZ{constructor(t,e,i){this.bodyNode=t,this._driver=e,this._normalizer=i,this._animations={},this._playersById={},this.players=[]}register(t,e){const i=[],s=u1(this._driver,e,i);if(i.length)throw new Error(`Unable to build the animation due to the following errors: ${i.join("\n")}`);this._animations[t]=s}_buildPlayer(t,e,i){const s=t.element,r=r2(0,this._normalizer,0,t.keyframes,e,i);return this._driver.animate(s,r,t.duration,t.delay,t.easing,[],!0)}create(t,e,i={}){const s=[],r=this._animations[t];let o;const a=new Map;if(r?(o=f1(this._driver,e,r,s1,qy,{},{},i,eZ,s),o.forEach(f=>{const g=ss(a,f.element,{});f.postStyleProps.forEach(m=>g[m]=null)})):(s.push("The requested animation doesn't exist or has already been destroyed"),o=[]),s.length)throw new Error(`Unable to create the animation due to the following errors: ${s.join("\n")}`);a.forEach((f,g)=>{Object.keys(f).forEach(m=>{f[m]=this._driver.computeStyle(g,m,Ro)})});const h=Ba(o.map(f=>{const g=a.get(f.element);return this._buildPlayer(f,{},g)}));return this._playersById[t]=h,h.onDestroy(()=>this.destroy(t)),this.players.push(h),h}destroy(t){const e=this._getPlayer(t);e.destroy(),delete this._playersById[t];const i=this.players.indexOf(e);i>=0&&this.players.splice(i,1)}_getPlayer(t){const e=this._playersById[t];if(!e)throw new Error(`Unable to find the timeline player referenced by ${t}`);return e}listen(t,e,i,s){const r=QT(e,"","","");return KT(this._getPlayer(t),i,r,s),()=>{}}command(t,e,i,s){if("register"==i)return void this.register(t,s[0]);if("create"==i)return void this.create(t,e,s[0]||{});const r=this._getPlayer(t);switch(i){case"play":r.play();break;case"pause":r.pause();break;case"reset":r.reset();break;case"restart":r.restart();break;case"finish":r.finish();break;case"init":r.init();break;case"setPosition":r.setPosition(parseFloat(s[0]));break;case"destroy":this.destroy(t)}}}const P2="ng-animate-queued",k2="ng-animate-disabled",T2=".ng-animate-disabled",rZ=[],x2={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},oZ={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},Vs="__ng_removed";class _1{constructor(t,e=""){this.namespaceId=e;const i=t&&t.hasOwnProperty("value");if(this.value=function(n){return null!=n?n:null}(i?t.value:t),i){const r=Ah(t);delete r.value,this.options=r}else this.options={};this.options.params||(this.options.params={})}get params(){return this.options.params}absorbOptions(t){const e=t.params;if(e){const i=this.options.params;Object.keys(e).forEach(s=>{null==i[s]&&(i[s]=e[s])})}}}const Wp="void",v1=new _1(Wp);class aZ{constructor(t,e,i){this.id=t,this.hostElement=e,this._engine=i,this.players=[],this._triggers={},this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+t,Fs(e,this._hostClassName)}listen(t,e,i,s){if(!this._triggers.hasOwnProperty(e))throw new Error(`Unable to listen on the animation trigger event "${i}" because the animation trigger "${e}" doesn't exist!`);if(null==i||0==i.length)throw new Error(`Unable to listen on the animation trigger "${e}" because the provided event is undefined!`);if(!function(n){return"start"==n||"done"==n}(i))throw new Error(`The provided animation trigger event "${i}" for the animation trigger "${e}" is not supported!`);const r=ss(this._elementListeners,t,[]),o={name:e,phase:i,callback:s};r.push(o);const a=ss(this._engine.statesByElement,t,{});return a.hasOwnProperty(e)||(Fs(t,Uy),Fs(t,Uy+"-"+e),a[e]=v1),()=>{this._engine.afterFlush(()=>{const u=r.indexOf(o);u>=0&&r.splice(u,1),this._triggers[e]||delete a[e]})}}register(t,e){return!this._triggers[t]&&(this._triggers[t]=e,!0)}_getTrigger(t){const e=this._triggers[t];if(!e)throw new Error(`The provided animation trigger "${t}" has not been registered!`);return e}trigger(t,e,i,s=!0){const r=this._getTrigger(e),o=new y1(this.id,e,t);let a=this._engine.statesByElement.get(t);a||(Fs(t,Uy),Fs(t,Uy+"-"+e),this._engine.statesByElement.set(t,a={}));let u=a[e];const h=new _1(i,this.id);if(!(i&&i.hasOwnProperty("value"))&&u&&h.absorbOptions(u.options),a[e]=h,u||(u=v1),h.value!==Wp&&u.value===h.value){if(!function(n,t){const e=Object.keys(n),i=Object.keys(t);if(e.length!=i.length)return!1;for(let s=0;s<e.length;s++){const r=e[s];if(!t.hasOwnProperty(r)||n[r]!==t[r])return!1}return!0}(u.params,h.params)){const D=[],C=r.matchStyles(u.value,u.params,D),L=r.matchStyles(h.value,h.params,D);D.length?this._engine.reportError(D):this._engine.afterFlush(()=>{cc(t,C),$r(t,L)})}return}const m=ss(this._engine.playersByElement,t,[]);m.forEach(D=>{D.namespaceId==this.id&&D.triggerName==e&&D.queued&&D.destroy()});let v=r.matchTransition(u.value,h.value,t,h.params),E=!1;if(!v){if(!s)return;v=r.fallbackTransition,E=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:t,triggerName:e,transition:v,fromState:u,toState:h,player:o,isFallbackTransition:E}),E||(Fs(t,P2),o.onStart(()=>{Ph(t,P2)})),o.onDone(()=>{let D=this.players.indexOf(o);D>=0&&this.players.splice(D,1);const C=this._engine.playersByElement.get(t);if(C){let L=C.indexOf(o);L>=0&&C.splice(L,1)}}),this.players.push(o),m.push(o),o}deregister(t){delete this._triggers[t],this._engine.statesByElement.forEach((e,i)=>{delete e[t]}),this._elementListeners.forEach((e,i)=>{this._elementListeners.set(i,e.filter(s=>s.name!=t))})}clearElementCache(t){this._engine.statesByElement.delete(t),this._elementListeners.delete(t);const e=this._engine.playersByElement.get(t);e&&(e.forEach(i=>i.destroy()),this._engine.playersByElement.delete(t))}_signalRemovalForInnerTriggers(t,e){const i=this._engine.driver.query(t,Gy,!0);i.forEach(s=>{if(s[Vs])return;const r=this._engine.fetchNamespacesByElement(s);r.size?r.forEach(o=>o.triggerLeaveAnimation(s,e,!1,!0)):this.clearElementCache(s)}),this._engine.afterFlushAnimationsDone(()=>i.forEach(s=>this.clearElementCache(s)))}triggerLeaveAnimation(t,e,i,s){const r=this._engine.statesByElement.get(t);if(r){const o=[];if(Object.keys(r).forEach(a=>{if(this._triggers[a]){const u=this.trigger(t,a,Wp,s);u&&o.push(u)}}),o.length)return this._engine.markElementAsRemoved(this.id,t,!0,e),i&&Ba(o).onDone(()=>this._engine.processLeaveNode(t)),!0}return!1}prepareLeaveAnimationListeners(t){const e=this._elementListeners.get(t),i=this._engine.statesByElement.get(t);if(e&&i){const s=new Set;e.forEach(r=>{const o=r.name;if(s.has(o))return;s.add(o);const u=this._triggers[o].fallbackTransition,h=i[o]||v1,f=new _1(Wp),g=new y1(this.id,o,t);this._engine.totalQueuedPlayers++,this._queue.push({element:t,triggerName:o,transition:u,fromState:h,toState:f,player:g,isFallbackTransition:!0})})}}removeNode(t,e){const i=this._engine;if(t.childElementCount&&this._signalRemovalForInnerTriggers(t,e),this.triggerLeaveAnimation(t,e,!0))return;let s=!1;if(i.totalAnimations){const r=i.players.length?i.playersByQueriedElement.get(t):[];if(r&&r.length)s=!0;else{let o=t;for(;o=o.parentNode;)if(i.statesByElement.get(o)){s=!0;break}}}if(this.prepareLeaveAnimationListeners(t),s)i.markElementAsRemoved(this.id,t,!1,e);else{const r=t[Vs];(!r||r===x2)&&(i.afterFlush(()=>this.clearElementCache(t)),i.destroyInnerAnimations(t),i._onRemovalComplete(t,e))}}insertNode(t,e){Fs(t,this._hostClassName)}drainQueuedTransitions(t){const e=[];return this._queue.forEach(i=>{const s=i.player;if(s.destroyed)return;const r=i.element,o=this._elementListeners.get(r);o&&o.forEach(a=>{if(a.name==i.triggerName){const u=QT(r,i.triggerName,i.fromState.value,i.toState.value);u._data=t,KT(i.player,a.phase,u,a.callback)}}),s.markedForDestroy?this._engine.afterFlush(()=>{s.destroy()}):e.push(i)}),this._queue=[],e.sort((i,s)=>{const r=i.transition.ast.depCount,o=s.transition.ast.depCount;return 0==r||0==o?r-o:this._engine.driver.containsElement(i.element,s.element)?1:-1})}destroy(t){this.players.forEach(e=>e.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,t)}elementContainsData(t){let e=!1;return this._elementListeners.has(t)&&(e=!0),e=!!this._queue.find(i=>i.element===t)||e,e}}class lZ{constructor(t,e,i){this.bodyNode=t,this.driver=e,this._normalizer=i,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(s,r)=>{}}_onRemovalComplete(t,e){this.onRemovalComplete(t,e)}get queuedPlayers(){const t=[];return this._namespaceList.forEach(e=>{e.players.forEach(i=>{i.queued&&t.push(i)})}),t}createNamespace(t,e){const i=new aZ(t,e,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,e)?this._balanceNamespaceList(i,e):(this.newHostElements.set(e,i),this.collectEnterElement(e)),this._namespaceLookup[t]=i}_balanceNamespaceList(t,e){const i=this._namespaceList.length-1;if(i>=0){let s=!1;for(let r=i;r>=0;r--)if(this.driver.containsElement(this._namespaceList[r].hostElement,e)){this._namespaceList.splice(r+1,0,t),s=!0;break}s||this._namespaceList.splice(0,0,t)}else this._namespaceList.push(t);return this.namespacesByHostElement.set(e,t),t}register(t,e){let i=this._namespaceLookup[t];return i||(i=this.createNamespace(t,e)),i}registerTrigger(t,e,i){let s=this._namespaceLookup[t];s&&s.register(e,i)&&this.totalAnimations++}destroy(t,e){if(!t)return;const i=this._fetchNamespace(t);this.afterFlush(()=>{this.namespacesByHostElement.delete(i.hostElement),delete this._namespaceLookup[t];const s=this._namespaceList.indexOf(i);s>=0&&this._namespaceList.splice(s,1)}),this.afterFlushAnimationsDone(()=>i.destroy(e))}_fetchNamespace(t){return this._namespaceLookup[t]}fetchNamespacesByElement(t){const e=new Set,i=this.statesByElement.get(t);if(i){const s=Object.keys(i);for(let r=0;r<s.length;r++){const o=i[s[r]].namespaceId;if(o){const a=this._fetchNamespace(o);a&&e.add(a)}}}return e}trigger(t,e,i,s){if(tb(e)){const r=this._fetchNamespace(t);if(r)return r.trigger(e,i,s),!0}return!1}insertNode(t,e,i,s){if(!tb(e))return;const r=e[Vs];if(r&&r.setForRemoval){r.setForRemoval=!1,r.setForMove=!0;const o=this.collectedLeaveElements.indexOf(e);o>=0&&this.collectedLeaveElements.splice(o,1)}if(t){const o=this._fetchNamespace(t);o&&o.insertNode(e,i)}s&&this.collectEnterElement(e)}collectEnterElement(t){this.collectedEnterElements.push(t)}markElementAsDisabled(t,e){e?this.disabledNodes.has(t)||(this.disabledNodes.add(t),Fs(t,k2)):this.disabledNodes.has(t)&&(this.disabledNodes.delete(t),Ph(t,k2))}removeNode(t,e,i,s){if(tb(e)){const r=t?this._fetchNamespace(t):null;if(r?r.removeNode(e,s):this.markElementAsRemoved(t,e,!1,s),i){const o=this.namespacesByHostElement.get(e);o&&o.id!==t&&o.removeNode(e,s)}}else this._onRemovalComplete(e,s)}markElementAsRemoved(t,e,i,s){this.collectedLeaveElements.push(e),e[Vs]={namespaceId:t,setForRemoval:s,hasAnimation:i,removedBeforeQueried:!1}}listen(t,e,i,s,r){return tb(e)?this._fetchNamespace(t).listen(e,i,s,r):()=>{}}_buildInstruction(t,e,i,s,r){return t.transition.build(this.driver,t.element,t.fromState.value,t.toState.value,i,s,t.fromState.options,t.toState.options,e,r)}destroyInnerAnimations(t){let e=this.driver.query(t,Gy,!0);e.forEach(i=>this.destroyActiveAnimationsForElement(i)),0!=this.playersByQueriedElement.size&&(e=this.driver.query(t,r1,!0),e.forEach(i=>this.finishActiveQueriedAnimationOnElement(i)))}destroyActiveAnimationsForElement(t){const e=this.playersByElement.get(t);e&&e.forEach(i=>{i.queued?i.markedForDestroy=!0:i.destroy()})}finishActiveQueriedAnimationOnElement(t){const e=this.playersByQueriedElement.get(t);e&&e.forEach(i=>i.finish())}whenRenderingDone(){return new Promise(t=>{if(this.players.length)return Ba(this.players).onDone(()=>t());t()})}processLeaveNode(t){const e=t[Vs];if(e&&e.setForRemoval){if(t[Vs]=x2,e.namespaceId){this.destroyInnerAnimations(t);const i=this._fetchNamespace(e.namespaceId);i&&i.clearElementCache(t)}this._onRemovalComplete(t,e.setForRemoval)}this.driver.matchesElement(t,T2)&&this.markElementAsDisabled(t,!1),this.driver.query(t,T2,!0).forEach(i=>{this.markElementAsDisabled(i,!1)})}flush(t=-1){let e=[];if(this.newHostElements.size&&(this.newHostElements.forEach((i,s)=>this._balanceNamespaceList(i,s)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let i=0;i<this.collectedEnterElements.length;i++)Fs(this.collectedEnterElements[i],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const i=[];try{e=this._flushAnimations(i,t)}finally{for(let s=0;s<i.length;s++)i[s]()}}else for(let i=0;i<this.collectedLeaveElements.length;i++)this.processLeaveNode(this.collectedLeaveElements[i]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(i=>i()),this._flushFns=[],this._whenQuietFns.length){const i=this._whenQuietFns;this._whenQuietFns=[],e.length?Ba(e).onDone(()=>{i.forEach(s=>s())}):i.forEach(s=>s())}}reportError(t){throw new Error(`Unable to process animations due to the following failed trigger transitions\n ${t.join("\n")}`)}_flushAnimations(t,e){const i=new Jy,s=[],r=new Map,o=[],a=new Map,u=new Map,h=new Map,f=new Set;this.disabledNodes.forEach(Y=>{f.add(Y);const ie=this.driver.query(Y,".ng-animate-queued",!0);for(let Se=0;Se<ie.length;Se++)f.add(ie[Se])});const g=this.bodyNode,m=Array.from(this.statesByElement.keys()),v=O2(m,this.collectedEnterElements),E=new Map;let D=0;v.forEach((Y,ie)=>{const Se=s1+D++;E.set(ie,Se),Y.forEach(Be=>Fs(Be,Se))});const C=[],L=new Set,N=new Set;for(let Y=0;Y<this.collectedLeaveElements.length;Y++){const ie=this.collectedLeaveElements[Y],Se=ie[Vs];Se&&Se.setForRemoval&&(C.push(ie),L.add(ie),Se.hasAnimation?this.driver.query(ie,".ng-star-inserted",!0).forEach(Be=>L.add(Be)):N.add(ie))}const z=new Map,U=O2(m,Array.from(L));U.forEach((Y,ie)=>{const Se=qy+D++;z.set(ie,Se),Y.forEach(Be=>Fs(Be,Se))}),t.push(()=>{v.forEach((Y,ie)=>{const Se=E.get(ie);Y.forEach(Be=>Ph(Be,Se))}),U.forEach((Y,ie)=>{const Se=z.get(ie);Y.forEach(Be=>Ph(Be,Se))}),C.forEach(Y=>{this.processLeaveNode(Y)})});const ee=[],oe=[];for(let Y=this._namespaceList.length-1;Y>=0;Y--)this._namespaceList[Y].drainQueuedTransitions(e).forEach(Se=>{const Be=Se.player,Ut=Se.element;if(ee.push(Be),this.collectedEnterElements.length){const Xn=Ut[Vs];if(Xn&&Xn.setForMove)return void Be.destroy()}const Hi=!g||!this.driver.containsElement(g,Ut),mn=z.get(Ut),os=E.get(Ut),_t=this._buildInstruction(Se,i,os,mn,Hi);if(_t.errors&&_t.errors.length)oe.push(_t);else{if(Hi)return Be.onStart(()=>cc(Ut,_t.fromStyles)),Be.onDestroy(()=>$r(Ut,_t.toStyles)),void s.push(Be);if(Se.isFallbackTransition)return Be.onStart(()=>cc(Ut,_t.fromStyles)),Be.onDestroy(()=>$r(Ut,_t.toStyles)),void s.push(Be);_t.timelines.forEach(Xn=>Xn.stretchStartingKeyframe=!0),i.append(Ut,_t.timelines),o.push({instruction:_t,player:Be,element:Ut}),_t.queriedElements.forEach(Xn=>ss(a,Xn,[]).push(Be)),_t.preStyleProps.forEach((Xn,qr)=>{const Bs=Object.keys(Xn);if(Bs.length){let gr=u.get(qr);gr||u.set(qr,gr=new Set),Bs.forEach(zp=>gr.add(zp))}}),_t.postStyleProps.forEach((Xn,qr)=>{const Bs=Object.keys(Xn);let gr=h.get(qr);gr||h.set(qr,gr=new Set),Bs.forEach(zp=>gr.add(zp))})}});if(oe.length){const Y=[];oe.forEach(ie=>{Y.push(`@${ie.triggerName} has failed due to:\n`),ie.errors.forEach(Se=>Y.push(`- ${Se}\n`))}),ee.forEach(ie=>ie.destroy()),this.reportError(Y)}const be=new Map,ot=new Map;o.forEach(Y=>{const ie=Y.element;i.has(ie)&&(ot.set(ie,ie),this._beforeAnimationBuild(Y.player.namespaceId,Y.instruction,be))}),s.forEach(Y=>{const ie=Y.element;this._getPreviousPlayers(ie,!1,Y.namespaceId,Y.triggerName,null).forEach(Be=>{ss(be,ie,[]).push(Be),Be.destroy()})});const Ze=C.filter(Y=>R2(Y,u,h)),Qe=new Map;I2(Qe,this.driver,N,h,Ro).forEach(Y=>{R2(Y,u,h)&&Ze.push(Y)});const tn=new Map;v.forEach((Y,ie)=>{I2(tn,this.driver,new Set(Y),u,"!")}),Ze.forEach(Y=>{const ie=Qe.get(Y),Se=tn.get(Y);Qe.set(Y,Object.assign(Object.assign({},ie),Se))});const wt=[],Bi=[],$i={};o.forEach(Y=>{const{element:ie,player:Se,instruction:Be}=Y;if(i.has(ie)){if(f.has(ie))return Se.onDestroy(()=>$r(ie,Be.toStyles)),Se.disabled=!0,Se.overrideTotalTime(Be.totalTime),void s.push(Se);let Ut=$i;if(ot.size>1){let mn=ie;const os=[];for(;mn=mn.parentNode;){const _t=ot.get(mn);if(_t){Ut=_t;break}os.push(mn)}os.forEach(_t=>ot.set(_t,Ut))}const Hi=this._buildAnimation(Se.namespaceId,Be,be,r,tn,Qe);if(Se.setRealPlayer(Hi),Ut===$i)wt.push(Se);else{const mn=this.playersByElement.get(Ut);mn&&mn.length&&(Se.parentPlayer=Ba(mn)),s.push(Se)}}else cc(ie,Be.fromStyles),Se.onDestroy(()=>$r(ie,Be.toStyles)),Bi.push(Se),f.has(ie)&&s.push(Se)}),Bi.forEach(Y=>{const ie=r.get(Y.element);if(ie&&ie.length){const Se=Ba(ie);Y.setRealPlayer(Se)}}),s.forEach(Y=>{Y.parentPlayer?Y.syncPlayerEvents(Y.parentPlayer):Y.destroy()});for(let Y=0;Y<C.length;Y++){const ie=C[Y],Se=ie[Vs];if(Ph(ie,qy),Se&&Se.hasAnimation)continue;let Be=[];if(a.size){let Hi=a.get(ie);Hi&&Hi.length&&Be.push(...Hi);let mn=this.driver.query(ie,r1,!0);for(let os=0;os<mn.length;os++){let _t=a.get(mn[os]);_t&&_t.length&&Be.push(..._t)}}const Ut=Be.filter(Hi=>!Hi.destroyed);Ut.length?dZ(this,ie,Ut):this.processLeaveNode(ie)}return C.length=0,wt.forEach(Y=>{this.players.push(Y),Y.onDone(()=>{Y.destroy();const ie=this.players.indexOf(Y);this.players.splice(ie,1)}),Y.play()}),wt}elementContainsData(t,e){let i=!1;const s=e[Vs];return s&&s.setForRemoval&&(i=!0),this.playersByElement.has(e)&&(i=!0),this.playersByQueriedElement.has(e)&&(i=!0),this.statesByElement.has(e)&&(i=!0),this._fetchNamespace(t).elementContainsData(e)||i}afterFlush(t){this._flushFns.push(t)}afterFlushAnimationsDone(t){this._whenQuietFns.push(t)}_getPreviousPlayers(t,e,i,s,r){let o=[];if(e){const a=this.playersByQueriedElement.get(t);a&&(o=a)}else{const a=this.playersByElement.get(t);if(a){const u=!r||r==Wp;a.forEach(h=>{h.queued||!u&&h.triggerName!=s||o.push(h)})}}return(i||s)&&(o=o.filter(a=>!(i&&i!=a.namespaceId||s&&s!=a.triggerName))),o}_beforeAnimationBuild(t,e,i){const r=e.element,o=e.isRemovalTransition?void 0:t,a=e.isRemovalTransition?void 0:e.triggerName;for(const u of e.timelines){const h=u.element,f=h!==r,g=ss(i,h,[]);this._getPreviousPlayers(h,f,o,a,e.toState).forEach(v=>{const E=v.getRealPlayer();E.beforeDestroy&&E.beforeDestroy(),v.destroy(),g.push(v)})}cc(r,e.fromStyles)}_buildAnimation(t,e,i,s,r,o){const a=e.triggerName,u=e.element,h=[],f=new Set,g=new Set,m=e.timelines.map(E=>{const D=E.element;f.add(D);const C=D[Vs];if(C&&C.removedBeforeQueried)return new Dh(E.duration,E.delay);const L=D!==u,N=function(n){const t=[];return N2(n,t),t}((i.get(D)||rZ).map(be=>be.getRealPlayer())).filter(be=>!!be.element&&be.element===D),z=r.get(D),U=o.get(D),ee=r2(0,this._normalizer,0,E.keyframes,z,U),oe=this._buildPlayer(E,ee,N);if(E.subTimeline&&s&&g.add(D),L){const be=new y1(t,a,D);be.setRealPlayer(oe),h.push(be)}return oe});h.forEach(E=>{ss(this.playersByQueriedElement,E.element,[]).push(E),E.onDone(()=>function(n,t,e){let i;if(n instanceof Map){if(i=n.get(t),i){if(i.length){const s=i.indexOf(e);i.splice(s,1)}0==i.length&&n.delete(t)}}else if(i=n[t],i){if(i.length){const s=i.indexOf(e);i.splice(s,1)}0==i.length&&delete n[t]}return i}(this.playersByQueriedElement,E.element,E))}),f.forEach(E=>Fs(E,f2));const v=Ba(m);return v.onDestroy(()=>{f.forEach(E=>Ph(E,f2)),$r(u,e.toStyles)}),g.forEach(E=>{ss(s,E,[]).push(v)}),v}_buildPlayer(t,e,i){return e.length>0?this.driver.animate(t.element,e,t.duration,t.delay,t.easing,i):new Dh(t.duration,t.delay)}}class y1{constructor(t,e,i){this.namespaceId=t,this.triggerName=e,this.element=i,this._player=new Dh,this._containsRealPlayer=!1,this._queuedCallbacks={},this.destroyed=!1,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(t){this._containsRealPlayer||(this._player=t,Object.keys(this._queuedCallbacks).forEach(e=>{this._queuedCallbacks[e].forEach(i=>KT(t,e,void 0,i))}),this._queuedCallbacks={},this._containsRealPlayer=!0,this.overrideTotalTime(t.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(t){this.totalTime=t}syncPlayerEvents(t){const e=this._player;e.triggerCallback&&t.onStart(()=>e.triggerCallback("start")),t.onDone(()=>this.finish()),t.onDestroy(()=>this.destroy())}_queueEvent(t,e){ss(this._queuedCallbacks,t,[]).push(e)}onDone(t){this.queued&&this._queueEvent("done",t),this._player.onDone(t)}onStart(t){this.queued&&this._queueEvent("start",t),this._player.onStart(t)}onDestroy(t){this.queued&&this._queueEvent("destroy",t),this._player.onDestroy(t)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(t){this.queued||this._player.setPosition(t)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(t){const e=this._player;e.triggerCallback&&e.triggerCallback(t)}}function tb(n){return n&&1===n.nodeType}function M2(n,t){const e=n.style.display;return n.style.display=null!=t?t:"none",e}function I2(n,t,e,i,s){const r=[];e.forEach(u=>r.push(M2(u)));const o=[];i.forEach((u,h)=>{const f={};u.forEach(g=>{const m=f[g]=t.computeStyle(h,g,s);(!m||0==m.length)&&(h[Vs]=oZ,o.push(h))}),n.set(h,f)});let a=0;return e.forEach(u=>M2(u,r[a++])),o}function O2(n,t){const e=new Map;if(n.forEach(a=>e.set(a,[])),0==t.length)return e;const s=new Set(t),r=new Map;function o(a){if(!a)return 1;let u=r.get(a);if(u)return u;const h=a.parentNode;return u=e.has(h)?h:s.has(h)?1:o(h),r.set(a,u),u}return t.forEach(a=>{const u=o(a);1!==u&&e.get(u).push(a)}),e}const nb="$$classes";function Fs(n,t){if(n.classList)n.classList.add(t);else{let e=n[nb];e||(e=n[nb]={}),e[t]=!0}}function Ph(n,t){if(n.classList)n.classList.remove(t);else{let e=n[nb];e&&delete e[t]}}function dZ(n,t,e){Ba(e).onDone(()=>n.processLeaveNode(t))}function N2(n,t){for(let e=0;e<n.length;e++){const i=n[e];i instanceof n2?N2(i.players,t):t.push(i)}}function R2(n,t,e){const i=e.get(n);if(!i)return!1;let s=t.get(n);return s?i.forEach(r=>s.add(r)):t.set(n,i),e.delete(n),!0}class ib{constructor(t,e,i){this.bodyNode=t,this._driver=e,this._normalizer=i,this._triggerCache={},this.onRemovalComplete=(s,r)=>{},this._transitionEngine=new lZ(t,e,i),this._timelineEngine=new tZ(t,e,i),this._transitionEngine.onRemovalComplete=(s,r)=>this.onRemovalComplete(s,r)}registerTrigger(t,e,i,s,r){const o=t+"-"+s;let a=this._triggerCache[o];if(!a){const u=[],h=u1(this._driver,r,u);if(u.length)throw new Error(`The animation trigger "${s}" has failed to build due to the following errors:\n - ${u.join("\n - ")}`);a=function(n,t,e){return new JQ(n,t,e)}(s,h,this._normalizer),this._triggerCache[o]=a}this._transitionEngine.registerTrigger(e,s,a)}register(t,e){this._transitionEngine.register(t,e)}destroy(t,e){this._transitionEngine.destroy(t,e)}onInsert(t,e,i,s){this._transitionEngine.insertNode(t,e,i,s)}onRemove(t,e,i,s){this._transitionEngine.removeNode(t,e,s||!1,i)}disableAnimations(t,e){this._transitionEngine.markElementAsDisabled(t,e)}process(t,e,i,s){if("@"==i.charAt(0)){const[r,o]=o2(i);this._timelineEngine.command(r,e,o,s)}else this._transitionEngine.trigger(t,e,i,s)}listen(t,e,i,s,r){if("@"==i.charAt(0)){const[o,a]=o2(i);return this._timelineEngine.listen(o,e,a,r)}return this._transitionEngine.listen(t,e,i,s,r)}flush(t=-1){this._transitionEngine.flush(t)}get players(){return this._transitionEngine.players.concat(this._timelineEngine.players)}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}}function L2(n,t){let e=null,i=null;return Array.isArray(t)&&t.length?(e=b1(t[0]),t.length>1&&(i=b1(t[t.length-1]))):t&&(e=b1(t)),e||i?new gZ(n,e,i):null}let gZ=(()=>{class n{constructor(e,i,s){this._element=e,this._startStyles=i,this._endStyles=s,this._state=0;let r=n.initialStylesByElement.get(e);r||n.initialStylesByElement.set(e,r={}),this._initialStyles=r}start(){this._state<1&&(this._startStyles&&$r(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&($r(this._element,this._initialStyles),this._endStyles&&($r(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(n.initialStylesByElement.delete(this._element),this._startStyles&&(cc(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(cc(this._element,this._endStyles),this._endStyles=null),$r(this._element,this._initialStyles),this._state=3)}}return n.initialStylesByElement=new WeakMap,n})();function b1(n){let t=null;const e=Object.keys(n);for(let i=0;i<e.length;i++){const s=e[i];mZ(s)&&(t=t||{},t[s]=n[s])}return t}function mZ(n){return"display"===n||"position"===n}const V2="animation",F2="animationend";class yZ{constructor(t,e,i,s,r,o,a){this._element=t,this._name=e,this._duration=i,this._delay=s,this._easing=r,this._fillMode=o,this._onDoneFn=a,this._finished=!1,this._destroyed=!1,this._startTime=0,this._position=0,this._eventFn=u=>this._handleCallback(u)}apply(){(function(n,t){const e=E1(n,"").trim();let i=0;e.length&&(function(n,t){let e=0;for(let i=0;i<n.length;i++)","===n.charAt(i)&&e++;return e}(e)+1,t=`${e}, ${t}`),sb(n,"",t)})(this._element,`${this._duration}ms ${this._easing} ${this._delay}ms 1 normal ${this._fillMode} ${this._name}`),H2(this._element,this._eventFn,!1),this._startTime=Date.now()}pause(){B2(this._element,this._name,"paused")}resume(){B2(this._element,this._name,"running")}setPosition(t){const e=$2(this._element,this._name);this._position=t*this._duration,sb(this._element,"Delay",`-${this._position}ms`,e)}getPosition(){return this._position}_handleCallback(t){const e=t._ngTestManualTimestamp||Date.now(),i=1e3*parseFloat(t.elapsedTime.toFixed(3));t.animationName==this._name&&Math.max(e-this._startTime,0)>=this._delay&&i>=this._duration&&this.finish()}finish(){this._finished||(this._finished=!0,this._onDoneFn(),H2(this._element,this._eventFn,!0))}destroy(){this._destroyed||(this._destroyed=!0,this.finish(),function(n,t){const i=E1(n,"").split(","),s=S1(i,t);s>=0&&(i.splice(s,1),sb(n,"",i.join(",")))}(this._element,this._name))}}function B2(n,t,e){sb(n,"PlayState",e,$2(n,t))}function $2(n,t){const e=E1(n,"");return e.indexOf(",")>0?S1(e.split(","),t):S1([e],t)}function S1(n,t){for(let e=0;e<n.length;e++)if(n[e].indexOf(t)>=0)return e;return-1}function H2(n,t,e){e?n.removeEventListener(F2,t):n.addEventListener(F2,t)}function sb(n,t,e,i){const s=V2+t;if(null!=i){const r=n.style[s];if(r.length){const o=r.split(",");o[i]=e,e=o.join(",")}}n.style[s]=e}function E1(n,t){return n.style[V2+t]||""}class q2{constructor(t,e,i,s,r,o,a,u){this.element=t,this.keyframes=e,this.animationName=i,this._duration=s,this._delay=r,this._finalStyles=a,this._specialStyles=u,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this.currentSnapshot={},this._state=0,this.easing=o||"linear",this.totalTime=s+r,this._buildStyler()}onStart(t){this._onStartFns.push(t)}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}destroy(){this.init(),!(this._state>=4)&&(this._state=4,this._styler.destroy(),this._flushStartFns(),this._flushDoneFns(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}_flushDoneFns(){this._onDoneFns.forEach(t=>t()),this._onDoneFns=[]}_flushStartFns(){this._onStartFns.forEach(t=>t()),this._onStartFns=[]}finish(){this.init(),!(this._state>=3)&&(this._state=3,this._styler.finish(),this._flushStartFns(),this._specialStyles&&this._specialStyles.finish(),this._flushDoneFns())}setPosition(t){this._styler.setPosition(t)}getPosition(){return this._styler.getPosition()}hasStarted(){return this._state>=2}init(){this._state>=1||(this._state=1,this._styler.apply(),this._delay&&this._styler.pause())}play(){this.init(),this.hasStarted()||(this._flushStartFns(),this._state=2,this._specialStyles&&this._specialStyles.start()),this._styler.resume()}pause(){this.init(),this._styler.pause()}restart(){this.reset(),this.play()}reset(){this._state=0,this._styler.destroy(),this._buildStyler(),this._styler.apply()}_buildStyler(){this._styler=new yZ(this.element,this.animationName,this._duration,this._delay,this.easing,"forwards",()=>this.finish())}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(i=>i()),e.length=0}beforeDestroy(){this.init();const t={};if(this.hasStarted()){const e=this._state>=3;Object.keys(this._finalStyles).forEach(i=>{"offset"!=i&&(t[i]=e?this._finalStyles[i]:c1(this.element,i))})}this.currentSnapshot=t}}class DZ extends Dh{constructor(t,e){super(),this.element=t,this._startingStyles={},this.__initialized=!1,this._styles=u2(e)}init(){this.__initialized||!this._startingStyles||(this.__initialized=!0,Object.keys(this._styles).forEach(t=>{this._startingStyles[t]=this.element.style[t]}),super.init())}play(){!this._startingStyles||(this.init(),Object.keys(this._styles).forEach(t=>this.element.style.setProperty(t,this._styles[t])),super.play())}destroy(){!this._startingStyles||(Object.keys(this._startingStyles).forEach(t=>{const e=this._startingStyles[t];e?this.element.style.setProperty(t,e):this.element.style.removeProperty(t)}),this._startingStyles=null,super.destroy())}}class G2{constructor(){this._count=0}validateStyleProperty(t){return XT(t)}matchesElement(t,e){return e1(t,e)}containsElement(t,e){return t1(t,e)}query(t,e,i){return n1(t,e,i)}computeStyle(t,e,i){return window.getComputedStyle(t)[e]}buildKeyframeElement(t,e,i){i=i.map(a=>u2(a));let s=`@keyframes ${e} {\n`,r="";i.forEach(a=>{r=" ";const u=parseFloat(a.offset);s+=`${r}${100*u}% {\n`,r+=" ",Object.keys(a).forEach(h=>{const f=a[h];switch(h){case"offset":return;case"easing":return void(f&&(s+=`${r}animation-timing-function: ${f};\n`));default:return void(s+=`${r}${h}: ${f};\n`)}}),s+=`${r}}\n`}),s+="}\n";const o=document.createElement("style");return o.textContent=s,o}animate(t,e,i,s,r,o=[],a){const u=o.filter(C=>C instanceof q2),h={};v2(i,s)&&u.forEach(C=>{let L=C.currentSnapshot;Object.keys(L).forEach(N=>h[N]=L[N])});const f=function(n){let t={};return n&&(Array.isArray(n)?n:[n]).forEach(i=>{Object.keys(i).forEach(s=>{"offset"==s||"easing"==s||(t[s]=i[s])})}),t}(e=y2(t,e,h));if(0==i)return new DZ(t,f);const g="gen_css_kf_"+this._count++,m=this.buildKeyframeElement(t,g,e);(function(n){var t;const e=null===(t=n.getRootNode)||void 0===t?void 0:t.call(n);return"undefined"!=typeof ShadowRoot&&e instanceof ShadowRoot?e:document.head})(t).appendChild(m);const E=L2(t,e),D=new q2(t,e,g,i,s,r,f,E);return D.onDestroy(()=>function(n){n.parentNode.removeChild(n)}(m)),D}}class W2{constructor(t,e,i,s){this.element=t,this.keyframes=e,this.options=i,this._specialStyles=s,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this.time=0,this.parentPlayer=null,this.currentSnapshot={},this._duration=i.duration,this._delay=i.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const t=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,t,this.options),this._finalKeyframe=t.length?t[t.length-1]:{},this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_triggerWebAnimation(t,e,i){return t.animate(e,i)}onStart(t){this._onStartFns.push(t)}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(t=>t()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}setPosition(t){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=t*this.time}getPosition(){return this.domPlayer.currentTime/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const t={};this.hasStarted()&&Object.keys(this._finalKeyframe).forEach(e=>{"offset"!=e&&(t[e]=this._finished?this._finalKeyframe[e]:c1(this.element,e))}),this.currentSnapshot=t}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(i=>i()),e.length=0}}class xZ{constructor(){this._isNativeImpl=/\{\s*\[native\s+code\]\s*\}/.test(z2().toString()),this._cssKeyframesDriver=new G2}validateStyleProperty(t){return XT(t)}matchesElement(t,e){return e1(t,e)}containsElement(t,e){return t1(t,e)}query(t,e,i){return n1(t,e,i)}computeStyle(t,e,i){return window.getComputedStyle(t)[e]}overrideWebAnimationsSupport(t){this._isNativeImpl=t}animate(t,e,i,s,r,o=[],a){if(!a&&!this._isNativeImpl)return this._cssKeyframesDriver.animate(t,e,i,s,r,o);const f={duration:i,delay:s,fill:0==s?"both":"forwards"};r&&(f.easing=r);const g={},m=o.filter(E=>E instanceof W2);v2(i,s)&&m.forEach(E=>{let D=E.currentSnapshot;Object.keys(D).forEach(C=>g[C]=D[C])});const v=L2(t,e=y2(t,e=e.map(E=>$a(E,!1)),g));return new W2(t,e,f,v)}}function z2(){return s2()&&Element.prototype.animate||{}}let IZ=(()=>{class n extends JF{constructor(e,i){super(),this._nextAnimationId=0,this._renderer=e.createRenderer(i.body,{id:"0",encapsulation:Ft.None,styles:[],data:{animation:[]}})}build(e){const i=this._nextAnimationId.toString();this._nextAnimationId++;const s=Array.isArray(e)?XF(e):e;return K2(this._renderer,null,i,"register",[s]),new OZ(i,this._renderer)}}return n.\u0275fac=function(e){return new(e||n)($(Fl),$(Ge))},n.\u0275prov=le({token:n,factory:n.\u0275fac}),n})();class OZ extends class{}{constructor(t,e){super(),this._id=t,this._renderer=e}create(t,e){return new NZ(this._id,t,e||{},this._renderer)}}class NZ{constructor(t,e,i,s){this.id=t,this.element=e,this._renderer=s,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",i)}_listen(t,e){return this._renderer.listen(this.element,`@@${this.id}:${t}`,e)}_command(t,...e){return K2(this._renderer,this.element,this.id,t,e)}onDone(t){this._listen("done",t)}onStart(t){this._listen("start",t)}onDestroy(t){this._listen("destroy",t)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(t){this._command("setPosition",t)}getPosition(){var t,e;return null!==(e=null===(t=this._renderer.engine.players[+this.id])||void 0===t?void 0:t.getPosition())&&void 0!==e?e:0}}function K2(n,t,e,i,s){return n.setProperty(t,`@@${e}:${i}`,s)}const Y2="@.disabled";let RZ=(()=>{class n{constructor(e,i,s){this.delegate=e,this.engine=i,this._zone=s,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),i.onRemovalComplete=(r,o)=>{o&&o.parentNode(r)&&o.removeChild(r.parentNode,r)}}createRenderer(e,i){const r=this.delegate.createRenderer(e,i);if(!(e&&i&&i.data&&i.data.animation)){let f=this._rendererCache.get(r);return f||(f=new Q2("",r,this.engine),this._rendererCache.set(r,f)),f}const o=i.id,a=i.id+"-"+this._currentId;this._currentId++,this.engine.register(a,e);const u=f=>{Array.isArray(f)?f.forEach(u):this.engine.registerTrigger(o,a,e,f.name,f)};return i.data.animation.forEach(u),new LZ(this,a,r,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){this.promise.then(()=>{this._microtaskId++})}scheduleListenerCallback(e,i,s){e>=0&&e<this._microtaskId?this._zone.run(()=>i(s)):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(r=>{const[o,a]=r;o(a)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([i,s]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}return n.\u0275fac=function(e){return new(e||n)($(Fl),$(ib),$(Ve))},n.\u0275prov=le({token:n,factory:n.\u0275fac}),n})();class Q2{constructor(t,e,i){this.namespaceId=t,this.delegate=e,this.engine=i,this.destroyNode=this.delegate.destroyNode?s=>e.destroyNode(s):null}get data(){return this.delegate.data}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy()}createElement(t,e){return this.delegate.createElement(t,e)}createComment(t){return this.delegate.createComment(t)}createText(t){return this.delegate.createText(t)}appendChild(t,e){this.delegate.appendChild(t,e),this.engine.onInsert(this.namespaceId,e,t,!1)}insertBefore(t,e,i,s=!0){this.delegate.insertBefore(t,e,i),this.engine.onInsert(this.namespaceId,e,t,s)}removeChild(t,e,i){this.engine.onRemove(this.namespaceId,e,this.delegate,i)}selectRootElement(t,e){return this.delegate.selectRootElement(t,e)}parentNode(t){return this.delegate.parentNode(t)}nextSibling(t){return this.delegate.nextSibling(t)}setAttribute(t,e,i,s){this.delegate.setAttribute(t,e,i,s)}removeAttribute(t,e,i){this.delegate.removeAttribute(t,e,i)}addClass(t,e){this.delegate.addClass(t,e)}removeClass(t,e){this.delegate.removeClass(t,e)}setStyle(t,e,i,s){this.delegate.setStyle(t,e,i,s)}removeStyle(t,e,i){this.delegate.removeStyle(t,e,i)}setProperty(t,e,i){"@"==e.charAt(0)&&e==Y2?this.disableAnimations(t,!!i):this.delegate.setProperty(t,e,i)}setValue(t,e){this.delegate.setValue(t,e)}listen(t,e,i){return this.delegate.listen(t,e,i)}disableAnimations(t,e){this.engine.disableAnimations(t,e)}}class LZ extends Q2{constructor(t,e,i,s){super(e,i,s),this.factory=t,this.namespaceId=e}setProperty(t,e,i){"@"==e.charAt(0)?"."==e.charAt(1)&&e==Y2?this.disableAnimations(t,i=void 0===i||!!i):this.engine.process(this.namespaceId,t,e.substr(1),i):this.delegate.setProperty(t,e,i)}listen(t,e,i){if("@"==e.charAt(0)){const s=function(n){switch(n){case"body":return document.body;case"document":return document;case"window":return window;default:return n}}(t);let r=e.substr(1),o="";return"@"!=r.charAt(0)&&([r,o]=function(n){const t=n.indexOf(".");return[n.substring(0,t),n.substr(t+1)]}(r)),this.engine.listen(this.namespaceId,s,r,o,a=>{this.factory.scheduleListenerCallback(a._data||-1,i,a)})}return this.delegate.listen(t,e,i)}}let BZ=(()=>{class n extends ib{constructor(e,i,s){super(e.body,i,s)}ngOnDestroy(){this.flush()}}return n.\u0275fac=function(e){return new(e||n)($(Ge),$(i1),$(g1))},n.\u0275prov=le({token:n,factory:n.\u0275fac}),n})();const Z2=new _e("AnimationModuleType"),J2=[{provide:JF,useClass:IZ},{provide:g1,useFactory:function(){return new WQ}},{provide:ib,useClass:BZ},{provide:Fl,useFactory:function(n,t,e){return new RZ(n,t,e)},deps:[Ev,ib,Ve]}],X2=[{provide:i1,useFactory:function(){return"function"==typeof z2()?new xZ:new G2}},{provide:Z2,useValue:"BrowserAnimations"},...J2],eB=[{provide:i1,useClass:h2},{provide:Z2,useValue:"NoopAnimations"},...J2];let UZ=(()=>{class n{static withConfig(e){return{ngModule:n,providers:e.disableAnimations?eB:X2}}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=nn({type:n}),n.\u0275inj=jt({providers:X2,imports:[RC]}),n})(),GZ=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=nn({type:n,bootstrap:[vQ]}),n.\u0275inj=jt({providers:[],imports:[[RC,h6,FN,d6,UZ,CY]]}),n})();(function(){if(UO)throw new Error("Cannot enable prod mode after platform setup.");qO=!1})(),pj().bootstrapModule(GZ).catch(n=>console.error(n))}},Vt=>{Vt(Vt.s=230)}]);